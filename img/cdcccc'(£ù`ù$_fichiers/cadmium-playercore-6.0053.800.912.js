p6_3u[393878]=(function(){var I8x=2;for(;I8x !== 9;){switch(I8x){case 2:I8x=typeof globalThis === '\x6f\x62\x6a\u0065\x63\x74'?1:5;break;case 1:return globalThis;break;case 5:var a8Z;try{var n78=2;for(;n78 !== 6;){switch(n78){case 2:Object['\u0064\x65\u0066\u0069\x6e\x65\x50\x72\u006f\x70\x65\u0072\u0074\x79'](Object['\u0070\x72\u006f\u0074\x6f\x74\x79\x70\x65'],'\u0079\u006d\x54\u004b\x33',{'\x67\x65\x74':function(){return this;},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});a8Z=ymTK3;a8Z['\x74\x35\x78\u0043\x43']=a8Z;n78=4;break;case 4:n78=typeof t5xCC === '\x75\u006e\u0064\x65\u0066\x69\x6e\u0065\u0064'?3:9;break;case 9:delete a8Z['\u0074\x35\x78\u0043\u0043'];var Z3k=Object['\u0070\u0072\u006f\u0074\x6f\x74\x79\x70\u0065'];delete Z3k['\x79\u006d\u0054\x4b\x33'];n78=6;break;case 3:throw "";n78=9;break;}}}catch(c21){a8Z=window;}return a8Z;break;}}})();p6_3u[247113]=p6_3u[393878];p6_3u[2119]=(function(U8s){return {T2lCISp:function(){var M_R,A7z=arguments;switch(U8s){case 7:M_R=A7z[1] instanceof A7z[0];break;case 8:M_R=A7z[1] + A7z[0];break;case 12:M_R=A7z[1] <= A7z[0];break;case 0:M_R=A7z[0] - A7z[1];break;case 9:M_R=A7z[1] / A7z[2] - A7z[0] + A7z[4] - A7z[3];break;case 11:M_R=A7z[0] * A7z[1];break;case 4:M_R=-A7z[0] * A7z[2] - A7z[1] + A7z[3];break;case 19:M_R=A7z[2] - A7z[1] + A7z[0];break;case 3:M_R=A7z[1] + A7z[2] + A7z[3] - A7z[0];break;case 10:M_R=-A7z[0] * A7z[1] / A7z[2] + A7z[3];break;case 18:M_R=(A7z[3] / A7z[1] | A7z[0]) * A7z[2];break;case 14:M_R=(A7z[0] - A7z[1] - A7z[3]) * A7z[2] - A7z[4];break;case 13:M_R=A7z[0] < A7z[1];break;case 15:M_R=A7z[1] / A7z[2] * A7z[0] + A7z[3];break;case 16:M_R=A7z[2] + A7z[0] / A7z[3] * A7z[1];break;case 2:M_R=A7z[0] * A7z[2] / A7z[1];break;case 6:M_R=A7z[1] !== A7z[0];break;case 5:M_R=A7z[0] === A7z[1];break;case 1:M_R=A7z[0] / A7z[1];break;case 17:M_R=A7z[0] / A7z[1] | A7z[2];break;}return M_R;},Y2yHpRd:function(L5f){U8s=L5f;}};})();p6_3u[516547]=898;p6_3u[393878].R3ff=p6_3u;p6_3u.b_o=function(){return typeof p6_3u[2119].Y2yHpRd === 'function'?p6_3u[2119].Y2yHpRd.apply(p6_3u[2119],arguments):p6_3u[2119].Y2yHpRd;};p6_3u[492410]=776;p6_3u.w3s=function(){return typeof p6_3u[2119].T2lCISp === 'function'?p6_3u[2119].T2lCISp.apply(p6_3u[2119],arguments):p6_3u[2119].T2lCISp;};p6_3u[273011]="YBC";p6_3u[576635]=true;p6_3u[131514]="B_Z";p6_3u[261742]=p6_3u[2119];p6_3u[578496]=p6_3u[393878];p6_3u.z5Q=function(){return typeof p6_3u[2119].Y2yHpRd === 'function'?p6_3u[2119].Y2yHpRd.apply(p6_3u[2119],arguments):p6_3u[2119].Y2yHpRd;};function p6_3u(){}p6_3u.l9m=function(){return typeof p6_3u[2119].T2lCISp === 'function'?p6_3u[2119].T2lCISp.apply(p6_3u[2119],arguments):p6_3u[2119].T2lCISp;};(function(){(function(Ca,Mb){(function(){var fb,Ha,tb,Fb,db,Gb,vb,Ya,Hb;function qb(ma){var sa;sa=0;return function(){return sa < ma.length?{done:!1,value:ma[sa++]}:{done:!0};};}function Ma(ma,sa){var wa,b;if(sa)a:{wa=Ha;ma=ma.split(".");for(var t=0;t < ma.length - 1;t++){b=ma[t];if(!((b in wa)))break a;wa=wa[b];}ma=ma[ma.length - 1];t=wa[ma];sa=sa(t);sa != t && null != sa && fb(wa,ma,{configurable:!0,writable:!0,value:sa});}}function rb(ma){ma={next:ma};ma[Symbol.iterator]=function(){return this;};return ma;}function Fa(ma){var sa;sa="undefined" != typeof Symbol && Symbol.iterator && ma[Symbol.iterator];return sa?sa.call(ma):{next:qb(ma)};}function sb(ma){for(var sa,wa=[];!(sa=ma.next()).done;)wa.push(sa.value);return wa;}function Aa(ma){return ma instanceof Array?ma:sb(Fa(ma));}function Ia(ma,sa){var t;ma.prototype=tb(sa.prototype);ma.prototype.constructor=ma;if(Ya)Ya(ma,sa);else for(var wa in sa)if("prototype" != wa)if(Object.defineProperties){t=Object.getOwnPropertyDescriptor(sa,wa);t && Object.defineProperty(ma,wa,t);}else ma[wa]=sa[wa];ma.fad=sa.prototype;}function gb(){this.F$=!1;this.MM=null;this.$T=void 0;this.$r=1;this.dsb=this.LW=0;this.BO=null;}function hb(ma){if(ma.F$)throw new TypeError("Generator is already running");ma.F$=!0;}function ab(ma,sa,wa){ma.$r=wa;return {value:sa};}function Cb(ma){ma.$r=2;ma.LW=0;}function ib(ma){var sa;ma.LW=0;sa=ma.BO.mrb;ma.BO=null;return sa;}function jb(ma){this.ah=new gb();this.jHc=ma;}function Db(ma,sa){var wa;hb(ma.ah);wa=ma.ah.MM;if(wa)return kb(ma,("return" in wa)?wa["return"]:function(t){return {value:t,done:!0};},sa,ma.ah.return);ma.ah.return(sa);return bb(ma);}function kb(ma,sa,wa,t){var b,a;try{b=sa.call(ma.ah.MM,wa);if(!(b instanceof Object))throw new TypeError("Iterator result " + b + " is not an object");if(!b.done)return (ma.ah.F$=!1,b);a=b.value;}catch(d){return (ma.ah.MM=null,ma.ah.Wda(d),bb(ma));}ma.ah.MM=null;t.call(ma.ah,a);return bb(ma);}function bb(ma){var sa;for(;ma.ah.$r;)try{sa=ma.jHc(ma.ah);if(sa)return (ma.ah.F$=!1,{value:sa.value,done:!1});}catch(wa){ma.ah.$T=void 0;ma.ah.Wda(wa);}ma.ah.F$=!1;if(ma.ah.BO){sa=ma.ah.BO;ma.ah.BO=null;if(sa.Otc)throw sa.mrb;return {value:sa.return,done:!0};}return {value:void 0,done:!0};}function Eb(ma){this.next=function(sa){return ma.aba(sa);};this.throw=function(sa){return ma.Wda(sa);};this.return=function(sa){return Db(ma,sa);};this[Symbol.iterator]=function(){return this;};}function Sa(ma,sa){sa=new Eb(new jb(sa));Ya && ma.prototype && Ya(sa,ma.prototype);return sa;}function cb(ma,sa,wa){if(null == ma)throw new TypeError("The 'this' value for String.prototype." + wa + " must not be null or undefined");if(sa instanceof RegExp)throw new TypeError("First argument to String.prototype." + wa + " must not be a regular expression");return ma + "";}function Ua(ma,sa){return Object.prototype.hasOwnProperty.call(ma,sa);}function ub(ma,sa,wa){var a;ma instanceof String && (ma=String(ma));for(var t=ma.length,b=0;b < t;b++){a=ma[b];if(sa.call(wa,a,b,ma))return {iRa:b,Dea:a};}return {iRa:-1,Dea:void 0};}function lb(ma,sa){var wa,t,b;ma instanceof String && (ma+="");wa=0;t=!1;b={next:function(){var a;if(!t && wa < ma.length){a=wa++;return {value:sa(a,ma[a]),done:!1};}t=!0;return {done:!0,value:void 0};}};b[Symbol.iterator]=function(){return b;};return b;}fb="function" == typeof Object.defineProperties?Object.defineProperty:function(ma,sa,wa){if(ma == Array.prototype || ma == Object.prototype)return ma;ma[sa]=wa.value;return ma;};Ha=(function(ma){var wa;ma=["object" == typeof globalThis && globalThis,ma,"object" == typeof Ca && Ca,"object" == typeof self && self,"object" == typeof global && global];for(var sa=0;sa < ma.length;++sa){wa=ma[sa];if(wa && wa.Math == Math)return wa;}throw Error("Cannot find global object");})(this);Ma("Symbol",function(ma){var t;function sa(b){if(this instanceof sa)throw new TypeError("Symbol is not a constructor");return new wa("jscomp_symbol_" + (b || "") + "_" + t++,b);}function wa(b,a){this.rQb=b;fb(this,"description",{configurable:!0,writable:!0,value:a});}if(ma)return ma;wa.prototype.toString=function(){return this.rQb;};t=0;return sa;});Ma("Symbol.iterator",function(ma){var t;if(ma)return ma;ma=Symbol("Symbol.iterator");for(var sa=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),wa=0;wa < sa.length;wa++){t=Ha[sa[wa]];"function" === typeof t && "function" != typeof t.prototype[ma] && fb(t.prototype,ma,{configurable:!0,writable:!0,value:function(){return rb(qb(this));}});}return ma;});tb="function" == typeof Object.create?Object.create:function(ma){function sa(){}sa.prototype=ma;return new sa();};Fb=(function(){var sa;function ma(){function wa(){}new wa();Reflect.construct(wa,[],function(){});return new wa() instanceof wa;}if("undefined" != typeof Reflect && Reflect.construct){if(ma())return Reflect.construct;sa=Reflect.construct;return function(wa,t,b){wa=sa(wa,t);b && Reflect.setPrototypeOf(wa,b.prototype);return wa;};}return function(wa,t,b){void 0 === b && (b=wa);b=tb(b.prototype || Object.prototype);return Function.prototype.apply.call(wa,b,t) || b;};})();if("function" == typeof Object.setPrototypeOf)db=Object.setPrototypeOf;else {a:{Gb={a:!0};vb={};try{vb.__proto__=Gb;db=vb.a;break a;}catch(ma){}db=!1;}db=db?function(ma,sa){ma.__proto__=sa;if(ma.__proto__ !== sa)throw new TypeError(ma + " is not extensible");return ma;}:null;}Ya=db;gb.prototype.aba=function(ma){this.$T=ma;};gb.prototype.Wda=function(ma){this.BO={mrb:ma,Otc:!0};this.$r=this.LW || this.dsb;};gb.prototype.return=function(ma){this.BO={return:ma};this.$r=this.dsb;};jb.prototype.aba=function(ma){hb(this.ah);if(this.ah.MM)return kb(this,this.ah.MM.next,ma,this.ah.aba);this.ah.aba(ma);return bb(this);};jb.prototype.Wda=function(ma){hb(this.ah);if(this.ah.MM)return kb(this,this.ah.MM["throw"],ma,this.ah.aba);this.ah.Wda(ma);return bb(this);};Ma("Reflect",function(ma){return ma?ma:{};});Ma("Reflect.construct",function(){return Fb;});Ma("Reflect.setPrototypeOf",function(ma){return ma?ma:Ya?function(sa,wa){try{return (Ya(sa,wa),!0);}catch(t){return !1;}}:null;});Ma("Promise",function(ma){var b,a;function sa(d){var n;this.V0=0;this.Hca=void 0;this.u_=[];this.zyb=!1;n=this.DLa();try{d(n.resolve,n.reject);}catch(c){n.reject(c);}}function wa(){this.vJ=null;}function t(d){return d instanceof sa?d:new sa(function(n){n(d);});}if(ma)return ma;wa.prototype.Qkb=function(d){var n;if(null == this.vJ){this.vJ=[];n=this;this.Rkb(function(){n.Kic();});}this.vJ.push(d);};b=Ha.setTimeout;wa.prototype.Rkb=function(d){b(d,0);};wa.prototype.Kic=function(){var d,c;for(;this.vJ && this.vJ.length;){d=this.vJ;this.vJ=[];for(var n=0;n < d.length;++n){c=d[n];d[n]=null;try{c();}catch(h){this.y5b(h);}}}this.vJ=null;};wa.prototype.y5b=function(d){this.Rkb(function(){throw d;});};sa.prototype.DLa=function(){var n,c;function d(h){return function(f){c || (c=!0,h.call(n,f));};}n=this;c=!1;return {resolve:d(this.nKc),reject:d(this.$Xa)};};sa.prototype.nKc=function(d){var n;if(d === this)this.$Xa(new TypeError("A Promise cannot resolve to itself"));else if(d instanceof sa)this.mNc(d);else {a:switch(typeof d){case "object":n=null != d;break a;case "function":n=!0;break a;default:n=!1;}n?this.mKc(d):this.dtb(d);}};sa.prototype.mKc=function(d){var n;n=void 0;try{n=d.then;}catch(c){this.$Xa(c);return;}"function" == typeof n?this.nNc(n,d):this.dtb(d);};sa.prototype.$Xa=function(d){this.PKb(2,d);};sa.prototype.dtb=function(d){this.PKb(1,d);};sa.prototype.PKb=function(d,n){if(0 != this.V0)throw Error("Cannot settle(" + d + ", " + n + "): Promise already settled in state" + this.V0);this.V0=d;this.Hca=n;2 === this.V0 && this.kLc();this.Lic();};sa.prototype.kLc=function(){var d;d=this;b(function(){var n;if(d.eBc()){n=Ha.console;"undefined" !== typeof n && n.error(d.Hca);}},1);};sa.prototype.eBc=function(){var d,n,c;if(this.zyb)return !1;d=Ha.CustomEvent;n=Ha.Event;c=Ha.dispatchEvent;if("undefined" === typeof c)return !0;"function" === typeof d?d=new d("unhandledrejection",{cancelable:!0}):"function" === typeof n?d=new n("unhandledrejection",{cancelable:!0}):(d=Ha.document.createEvent("CustomEvent"),d.initCustomEvent("unhandledrejection",!1,!0,d));d.promise=this;d.reason=this.Hca;return c(d);};sa.prototype.Lic=function(){if(null != this.u_){for(var d=0;d < this.u_.length;++d)a.Qkb(this.u_[d]);this.u_=null;}};a=new wa();sa.prototype.mNc=function(d){var n;n=this.DLa();d.Oka(n.resolve,n.reject);};sa.prototype.nNc=function(d,n){var c;c=this.DLa();try{d.call(n,c.resolve,c.reject);}catch(h){c.reject(h);}};sa.prototype.then=function(d,n){var h,f,e;function c(g,k){return "function" == typeof g?function(l){try{h(g(l));}catch(m){f(m);}}:k;}e=new sa(function(g,k){h=g;f=k;});this.Oka(c(d,h),c(n,f));return e;};sa.prototype.catch=function(d){return this.then(void 0,d);};sa.prototype.Oka=function(d,n){var h;function c(){switch(h.V0){case 1:d(h.Hca);break;case 2:n(h.Hca);break;default:throw Error("Unexpected state: " + h.V0);}}h=this;null == this.u_?a.Qkb(c):this.u_.push(c);this.zyb=!0;};sa.resolve=t;sa.reject=function(d){return new sa(function(n,c){c(d);});};sa.race=function(d){return new sa(function(n,c){for(var h=Fa(d),f=h.next();!f.done;f=h.next())t(f.value).Oka(n,c);});};sa.all=function(d){var n,c;n=Fa(d);c=n.next();return c.done?t([]):new sa(function(h,f){var g,k;function e(l){return function(m){g[l]=m;k--;0 == k && h(g);};}g=[];k=0;do (g.push(void 0),k++,t(c.value).Oka(e(g.length - 1),f),c=n.next());while(!c.done);});};return sa;});Ma("String.prototype.repeat",function(ma){return ma?ma:function(sa){var wa;wa=cb(this,null,"repeat");if(0 > sa || 1342177279 < sa)throw new RangeError("Invalid count value");sa|=0;for(var t="";sa;)if((sa & 1 && (t+=wa),sa>>>=1))wa+=wa;return t;};});Ma("String.prototype.padEnd",function(ma){return ma?ma:function(sa,wa){var t;t=cb(this,null,"padStart");sa-=t.length;wa=void 0 !== wa?String(wa):" ";wa=0 < sa && wa?wa.repeat(Math.ceil(sa / wa.length)).substring(0,sa):"";return t + wa;};});Ma("Object.values",function(ma){return ma?ma:function(sa){var wa,t;wa=[];for(t in sa)Ua(sa,t) && wa.push(sa[t]);return wa;};});Ma("Object.is",function(ma){return ma?ma:function(sa,wa){return sa === wa?0 !== sa || 1 / sa === 1 / wa:sa !== sa && wa !== wa;};});Ma("Array.prototype.includes",function(ma){return ma?ma:function(sa,wa){var t,b,a;t=this;t instanceof String && (t=String(t));b=t.length;wa=wa || 0;for(0 > wa && (wa=Math.max(wa + b,0));wa < b;wa++){a=t[wa];if(a === sa || Object.is(a,sa))return !0;}return !1;};});Ma("String.prototype.includes",function(ma){return ma?ma:function(sa,wa){return -1 !== cb(this,sa,"includes").indexOf(sa,wa || 0);};});Ma("WeakMap",function(ma){var d,n;function sa(c){this.Z9=(n+=Math.random() + 1).toString();if(c){c=Fa(c);for(var h;!(h=c.next()).done;)(h=h.value,this.set(h[0],h[1]));}}function wa(){}function t(c){var h;h=typeof c;return "object" === h && null !== c || "function" === h;}function b(c){var h;if(!Ua(c,d)){h=new wa();fb(c,d,{value:h});}}function a(c){var h;h=Object[c];h && (Object[c]=function(f){if(f instanceof wa)return f;Object.isExtensible(f) && b(f);return h(f);});}if((function(){var c,h,f;if(!ma || !Object.seal)return !1;try{c=Object.seal({});h=Object.seal({});f=new ma([[c,2],[h,3]]);if(2 != f.get(c) || 3 != f.get(h))return !1;f.delete(c);f.set(h,4);return !f.has(c) && 4 == f.get(h);}catch(e){return !1;}})())return ma;d="$jscomp_hidden_" + Math.random();a("freeze");a("preventExtensions");a("seal");n=0;sa.prototype.set=function(c,h){if(!t(c))throw Error("Invalid WeakMap key");b(c);if(!Ua(c,d))throw Error("WeakMap key fail: " + c);c[d][this.Z9]=h;return this;};sa.prototype.get=function(c){return t(c) && Ua(c,d)?c[d][this.Z9]:void 0;};sa.prototype.has=function(c){return t(c) && Ua(c,d) && Ua(c[d],this.Z9);};sa.prototype.delete=function(c){return t(c) && Ua(c,d) && Ua(c[d],this.Z9)?delete c[d][this.Z9]:!1;};return sa;});Ma("Map",function(ma){var a,d;function sa(){var n;n={};return n.xq=n.next=n.head=n;}function wa(n,c){var h;h=n.vG;return rb(function(){if(h){for(;h.head != n.vG;)h=h.xq;for(;h.next != h.head;)return (h=h.next,{done:!1,value:c(h)});h=null;}return {done:!0,value:void 0};});}function t(n,c){var h,f,e;h=c && typeof c;"object" == h || "function" == h?a.has(c)?h=a.get(c):(h="" + ++d,a.set(c,h)):h="p_" + c;f=n.PF[h];if(f && Ua(n.PF,h))for(n=0;n < f.length;n++){e=f[n];if(c !== c && e.key !== e.key || c === e.key)return {id:h,list:f,index:n,entry:e};}return {id:h,list:f,index:-1,entry:void 0};}function b(n){this.PF={};this.vG=sa();this.size=0;if(n){n=Fa(n);for(var c;!(c=n.next()).done;)(c=c.value,this.set(c[0],c[1]));}}if((function(){var n,c,h,f;if(!ma || "function" != typeof ma || !ma.prototype.entries || "function" != typeof Object.seal)return !1;try{n=Object.seal({x:4});c=new ma(Fa([[n,"s"]]));if("s" != c.get(n) || 1 != c.size || c.get({x:4}) || c.set({x:4},"t") != c || 2 != c.size)return !1;h=c.entries();f=h.next();if(f.done || f.value[0] != n || "s" != f.value[1])return !1;f=h.next();return f.done || 4 != f.value[0].x || "t" != f.value[1] || !h.next().done?!1:!0;}catch(e){return !1;}})())return ma;a=new WeakMap();b.prototype.set=function(n,c){var h;n=0 === n?0:n;h=t(this,n);h.list || (h.list=this.PF[h.id]=[]);h.entry?h.entry.value=c:(h.entry={next:this.vG,xq:this.vG.xq,head:this.vG,key:n,value:c},h.list.push(h.entry),this.vG.xq.next=h.entry,this.vG.xq=h.entry,this.size++);return this;};b.prototype.delete=function(n){n=t(this,n);return n.entry && n.list?(n.list.splice(n.index,1),n.list.length || delete this.PF[n.id],n.entry.xq.next=n.entry.next,n.entry.next.xq=n.entry.xq,n.entry.head=null,this.size--,!0):!1;};b.prototype.clear=function(){this.PF={};this.vG=this.vG.xq=sa();this.size=0;};b.prototype.has=function(n){return !!t(this,n).entry;};b.prototype.get=function(n){return (n=t(this,n).entry) && n.value;};b.prototype.entries=function(){return wa(this,function(n){return [n.key,n.value];});};b.prototype.keys=function(){return wa(this,function(n){return n.key;});};b.prototype.values=function(){return wa(this,function(n){return n.value;});};b.prototype.forEach=function(n,c){for(var h=this.entries(),f;!(f=h.next()).done;)(f=f.value,n.call(c,f[1],f[0],this));};b.prototype[Symbol.iterator]=b.prototype.entries;d=0;return b;});Ma("Set",function(ma){function sa(wa){this.$C=new Map();if(wa){wa=Fa(wa);for(var t;!(t=wa.next()).done;)this.add(t.value);}this.size=this.$C.size;}if((function(){var wa,t,b,a;if(!ma || "function" != typeof ma || !ma.prototype.entries || "function" != typeof Object.seal)return !1;try{wa=Object.seal({x:4});t=new ma(Fa([wa]));if(!t.has(wa) || 1 != t.size || t.add(wa) != t || 1 != t.size || t.add({x:4}) != t || 2 != t.size)return !1;b=t.entries();a=b.next();if(a.done || a.value[0] != wa || a.value[1] != wa)return !1;a=b.next();return a.done || a.value[0] == wa || 4 != a.value[0].x || a.value[1] != a.value[0]?!1:b.next().done;}catch(d){return !1;}})())return ma;sa.prototype.add=function(wa){wa=0 === wa?0:wa;this.$C.set(wa,wa);this.size=this.$C.size;return this;};sa.prototype.delete=function(wa){wa=this.$C.delete(wa);this.size=this.$C.size;return wa;};sa.prototype.clear=function(){this.$C.clear();this.size=0;};sa.prototype.has=function(wa){return this.$C.has(wa);};sa.prototype.entries=function(){return this.$C.entries();};sa.prototype.values=function(){return this.$C.values();};sa.prototype.keys=sa.prototype.values;sa.prototype[Symbol.iterator]=sa.prototype.values;sa.prototype.forEach=function(wa,t){var b;b=this;this.$C.forEach(function(a){return wa.call(t,a,a,b);});};return sa;});Ma("Array.prototype.find",function(ma){return ma?ma:function(sa,wa){return ub(this,sa,wa).Dea;};});Ma("Number.isFinite",function(ma){return ma?ma:function(sa){return "number" !== typeof sa?!1:!isNaN(sa) && Infinity !== sa && -Infinity !== sa;};});Hb="function" == typeof Object.assign?Object.assign:function(ma,sa){var t;for(var wa=1;wa < arguments.length;wa++){t=arguments[wa];if(t)for(var b in t)Ua(t,b) && (ma[b]=t[b]);}return ma;};Ma("Object.assign",function(ma){return ma || Hb;});Ma("Object.entries",function(ma){return ma?ma:function(sa){var wa,t;wa=[];for(t in sa)Ua(sa,t) && wa.push([t,sa[t]]);return wa;};});Ma("Array.prototype.keys",function(ma){return ma?ma:function(){return lb(this,function(sa){return sa;});};});Ma("Array.prototype.entries",function(ma){return ma?ma:function(){return lb(this,function(sa,wa){return [sa,wa];});};});Ma("Array.prototype.findIndex",function(ma){return ma?ma:function(sa,wa){return ub(this,sa,wa).iRa;};});Ma("Promise.prototype.finally",function(ma){return ma?ma:function(sa){return this.then(function(wa){return Promise.resolve(sa()).then(function(){return wa;});},function(wa){return Promise.resolve(sa()).then(function(){throw wa;});});};});Ma("Number.parseInt",function(ma){return ma || parseInt;});Ma("String.prototype.startsWith",function(ma){return ma?ma:function(sa,wa){var t,b,a;t=cb(this,sa,"startsWith");sa+="";b=t.length;a=sa.length;wa=Math.max(0,Math.min(wa | 0,t.length));for(var d=0;d < a && wa < b;)if(t[wa++] != sa[d++])return !1;return d >= a;};});Ma("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});Ma("Array.prototype.values",function(ma){return ma?ma:function(){return lb(this,function(sa,wa){return wa;});};});Ma("String.prototype.endsWith",function(ma){return ma?ma:function(sa,wa){var t;t=cb(this,sa,"endsWith");sa+="";void 0 === wa && (wa=t.length);wa=Math.max(0,Math.min(wa | 0,t.length));for(var b=sa.length;0 < b && 0 < wa;)if(t[--wa] != sa[--b])return !1;return 0 >= b;};});Ma("Array.from",function(ma){return ma?ma:function(sa,wa,t){var b,a;wa=null != wa?wa:function(n){return n;};b=[];a="undefined" != typeof Symbol && Symbol.iterator && sa[Symbol.iterator];if("function" == typeof a){sa=a.call(sa);for(var d=0;!(a=sa.next()).done;)b.push(wa.call(t,a.value,d++));}else for((a=sa.length,d=0);d < a;d++)b.push(wa.call(t,sa[d],d));return b;};});Ma("Number.isNaN",function(ma){return ma?ma:function(sa){return "number" === typeof sa && isNaN(sa);};});Ma("globalThis",function(ma){return ma || Ha;});Ma("Reflect.apply",function(ma){var sa;if(ma)return ma;sa=Function.prototype.apply;return function(wa,t,b){return sa.call(wa,t,b);};});Ma("Object.getOwnPropertySymbols",function(ma){return ma?ma:function(){return [];};});Ma("Reflect.getPrototypeOf",function(ma){return ma || Object.getPrototypeOf;});Ma("Math.tanh",function(ma){return ma?ma:function(sa){var wa;sa=Number(sa);if(0 === sa)return sa;wa=Math.exp(-2 * Math.abs(sa));wa=(1 - wa) / (1 + wa);return 0 > sa?-wa:wa;};});Ma("String.fromCodePoint",function(ma){return ma?ma:function(sa){var b;for(var wa="",t=0;t < arguments.length;t++){b=Number(arguments[t]);if(0 > b || 1114111 < b || b !== Math.floor(b))throw new RangeError("invalid_code_point " + b);65535 >= b?wa+=String.fromCharCode(b):(b-=65536,wa+=String.fromCharCode(b >>> 10 & 1023 | 55296),wa+=String.fromCharCode(b & 1023 | 56320));}return wa;};});Ma("Object.setPrototypeOf",function(ma){return ma || Ya;});(function(){var sa,wa;function ma(t){var b;b=wa[t];if(void 0 !== b)return b.exports;b=wa[t]={exports:{}};sa[t].call(b.exports,b,b.exports,ma);return b.exports;}sa={99061:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});},35097:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Y2a=void 0;d=a(22970);t=(function(n){function c(){return n.call(this,Ca.crypto) || this;}d.__extends(c,n);return c;})(a(14362).Z2a);b.Y2a=t;},14362:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Z2a=void 0;d=a(22970);n=a(78212);c=["encrypt","decrypt"];h={name:"HMAC",hash:{name:"SHA-256"}};f={name:"RSA-OAEP"};t=(function(){function e(g){this.webCrypto=g;this.ZH=this.webCrypto.subtle;}e.prototype.flc=function(){throw Error("not implemented");};e.prototype.cfc=function(){throw Error("not implemented");};e.prototype.getRandomValues=function(g){g=new Uint8Array(g);return this.webCrypto.getRandomValues(g);};e.prototype.vmb=function(g,k){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){if("AES-CBC" !== g.algorithm)throw Error("mismatched key algorithm");if("secret" !== g.LA.type)throw Error("invalid platformKey");if(16 !== k.byteLength)throw Error("iv wrong size");return [2];});});};e.aob=function(g){return {name:"AES-CBC",iv:g};};e.prototype.p4b=function(g,k,l){return d.__awaiter(this,void 0,void 0,function(){var m;return d.__generator(this,function(p){switch(p.label){case 0:return [4,this.vmb(g,k)];case 1:return (p.T(),[4,this.ZH.encrypt(e.aob(k),g.LA,l)]);case 2:return (m=p.T(),[2,new Uint8Array(m)]);}});});};e.prototype.o4b=function(g,k,l){return d.__awaiter(this,void 0,void 0,function(){var m;return d.__generator(this,function(p){switch(p.label){case 0:return [4,this.vmb(g,k)];case 1:return (p.T(),[4,this.ZH.decrypt(e.aob(k),g.LA,l)]);case 2:return (m=p.T(),[2,new Uint8Array(m)]);}});});};e.prototype.wmb=function(g,k){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){if("AES-GCM" !== g.algorithm)throw Error("mismatched key algorithm");if("secret" !== g.LA.type)throw Error("invalid platformKey");if(12 !== k.byteLength)throw Error("iv wrong size");return [2,Promise.resolve()];});});};e.bob=function(g,k){return {name:"AES-GCM",iv:g,additionalData:k,tagLength:128};};e.prototype.r4b=function(g,k,l,m){return d.__awaiter(this,void 0,void 0,function(){var p;return d.__generator(this,function(r){switch(r.label){case 0:return [4,this.wmb(g,k)];case 1:return (r.T(),[4,this.ZH.encrypt(e.bob(k,l),g.LA,m)]);case 2:return (p=r.T(),[2,new Uint8Array(p)]);}});});};e.prototype.q4b=function(g,k,l,m){return d.__awaiter(this,void 0,void 0,function(){var p;return d.__generator(this,function(r){switch(r.label){case 0:return [4,this.wmb(g,k)];case 1:r.T();if(16 > m.byteLength)throw Error("ciphertext too short");return [4,this.ZH.decrypt(e.bob(k,l),g.LA,m)];case 2:return (p=r.T(),[2,new Uint8Array(p)]);}});});};e.prototype.c9b=function(g){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){if("HMAC-SHA256" !== g.algorithm)throw Error("mismatched key algorithm");if("secret" !== g.LA.type)throw Error("invalid platformKey");return [2,Promise.resolve()];});});};e.prototype.Rrc=function(g,k){return d.__awaiter(this,void 0,void 0,function(){var l;return d.__generator(this,function(m){switch(m.label){case 0:return [4,this.c9b(g)];case 1:return (m.T(),[4,this.ZH.sign(h,g.LA,k)]);case 2:return (l=m.T(),[2,new Uint8Array(l)]);}});});};e.prototype.qRa=function(g,k){return d.__awaiter(this,void 0,void 0,function(){var l,m,p,r;return d.__generator(this,function(q){switch(q.label){case 0:l=k.byteLength;switch(g){case "AES-GCM":m={name:"AES-GCM"};p=c;if(16 !== l)throw Error("invalid import key length");break;case "AES-CBC":m={name:"AES-CBC"};p=c;if(16 !== l)throw Error("invalid import key length");break;case "HMAC-SHA256":m=h;p=["sign","verify"];if(16 !== l && 32 !== l)throw Error("invalid import key length");break;default:throw Error("invalid import algorithm");}return [4,this.ZH.importKey("raw",k,m,!1,p)];case 1:return (r=q.T(),[2,n.ffa.bX(g,r)]);}});});};e.prototype.klc=function(){return d.__awaiter(this,void 0,void 0,function(){var g,k,l,m;return d.__generator(this,function(p){switch(p.label){case 0:return (g={name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},[4,this.ZH.generateKey(g,!1,c)]);case 1:return (k=p.T(),l=n.ffa.ZW("RSA-OAEP",k.privateKey),m=n.ffa.$W("RSA-OAEP",k.publicKey),[2,new n.$2a(l,m)]);}});});};e.prototype.zrb=function(g){return d.__awaiter(this,void 0,void 0,function(){var k,l;return d.__generator(this,function(m){switch(m.label){case 0:if("RSA-OAEP" !== g.algorithm)throw Error("invalid export key algorithm");k=g.publicKey.LA;if("public" !== k.type)throw Error("invalid export key type");return [4,this.ZH.exportKey("spki",k)];case 1:return (l=m.T(),[2,new Uint8Array(l)]);}});});};e.prototype.n9b=function(g){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){if("RSA-OAEP" !== g.algorithm)throw Error("mismatched key algorithm");if("private" !== g.LA.type)throw Error("invalid platformKey");return [2,Promise.resolve()];});});};e.prototype.NKc=function(g,k){return d.__awaiter(this,void 0,void 0,function(){var l;return d.__generator(this,function(m){switch(m.label){case 0:return [4,this.n9b(g)];case 1:return (m.T(),[4,this.ZH.decrypt(f,g.LA,k)]);case 2:return (l=m.T(),[2,new Uint8Array(l)]);}});});};return e;})();b.Z2a=t;},78212:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$2a=b.ffa=b.a3a=b.V2a=void 0;(function(a){a.AES_GCM="AES-GCM";a.AES_CBC="AES-CBC";a.HMAC_SHA256="HMAC-SHA256";a.RSA_OAEP="RSA-OAEP";a.DIFFIE_HELLMAN="DIFFIE-HELLMAN";a.DERIVE="DERIVE";})(b.V2a || (b.V2a={}));(function(a){a[a.SECRET=0]="SECRET";a[a.PRIVATE=1]="PRIVATE";a[a.PUBLIC=2]="PUBLIC";})(b.a3a || (b.a3a={}));b.ffa=(function(){function a(d,n,c){this.algorithm=d;this.LA=n;this.type=c;}a.bX=function(d,n){if("RSA-OAEP" === d || "DIFFIE-HELLMAN" === d)throw Error("incompatible algorithm for secret key");return new a(d,n,0);};a.ZW=function(d,n){if("RSA-OAEP" !== d && "DIFFIE-HELLMAN" !== d)throw Error("incompatible algorithm for private key");return new a(d,n,1);};a.$W=function(d,n){if("RSA-OAEP" !== d && "DIFFIE-HELLMAN" !== d)throw Error("incompatible algorithm for public key");return new a(d,n,2);};return a;})();b.$2a=(function(){return function(a,d){if(1 !== a.type)throw Error("wrong key type for private key");if(2 !== d.type)throw Error("wrong key type for public key");if(a.algorithm !== d.algorithm)throw Error("algorithm mismatch between public and private key");this.algorithm=a.algorithm;this.privateKey=a;this.publicKey=d;};})();},7379:function(t,b,a){var d,n,c,h,f,e,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.b3a=void 0;d=a(22970);n=a(84032);c=a(20408);h=a(2802);f=a(31178);e=a(80462);g=a(11038);k=a(12346);t=(function(){function l(m){l.nLc(m);switch(m.keyx){case h.AleKeyxScheme.CLEAR:this.Dpa=new f.c9a(m.crypto,m.dg,m.scheme);break;case h.AleKeyxScheme.RSA_OAEP_256:this.Dpa=new g.e9a(m.crypto,m.dg,m.scheme);break;case h.AleKeyxScheme.AUTH_DH:if(!m.Vi || !m.sMa)throw Error("missing config for AUTH-DH keyx scheme");this.Dpa=new k.b9a(m.crypto,m.dg,m.Vi,m.sMa);break;default:throw Error("unsupported key exchange scheme");}this.config=d.__assign({},m);}l.nLc=function(m){if(m.scheme === h.AleScheme.A128CBC_HS256_NRD && m.keyx !== h.AleKeyxScheme.AUTH_DH || m.keyx === h.AleKeyxScheme.AUTH_DH && m.scheme !== h.AleScheme.A128CBC_HS256_NRD)throw Error("ALE scheme and Keyx scheme are incompatible");};l.prototype.apc=function(){return d.__awaiter(this,void 0,void 0,function(){var m,p;return d.__generator(this,function(r){switch(r.label){case 0:return (p={ver:e.sbb,scheme:this.config.scheme,type:this.config.Lnb},[4,this.Dpa.pPa()]);case 1:return (m=(p.keyx=r.T(),p),[2,JSON.stringify(m)]);}});});};l.prototype.createSession=function(m){return d.__awaiter(this,void 0,void 0,function(){var p,r,q,u,v;return d.__generator(this,function(w){switch(w.label){case 0:p=(0,c.NEb)(m);if(p.ver !== c.tbb)throw Error("incompatible provisioning response version");if(p.scheme !== this.config.scheme)throw Error("inconsistent scheme in provisioning response");if(p.keyx.scheme !== this.config.keyx)throw Error("inconsistent keyx scheme in provisioning response");return [4,this.Dpa.oXa(p.keyx)];case 1:return (r=w.T(),q=new Date(),q.setSeconds(q.getSeconds() + p.ttl),u=void 0 === p.rw?this.H$b(p.ttl):p.rw,v=new Date(q.getTime()),v.setSeconds(v.getSeconds() - u),[2,new n.c3a(p.token,q,v,r,this.config.dg)]);}});});};l.prototype.H$b=function(m){return Math.min(Math.floor(m / 3),86400);};return l;})();b.b3a=t;},84032:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.c3a=void 0;d=a(22970);t=(function(){function n(c,h,f,e,g){this.token=c;this.Rja=e;this.dg=g;c=new Date();this.Mma=h < c?c:h;this.Mta=f < c?c:f;this.Mta=this.Mta > this.Mma?this.Mma:this.Mta;}n.prototype.decrypt=function(c){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){this.Lma();return [2,this.Rja.decrypt(c)];});});};n.prototype.wec=function(c){return d.__awaiter(this,void 0,void 0,function(){var h;return d.__generator(this,function(f){switch(f.label){case 0:return (this.Lma(),[4,this.Rja.decrypt(c)]);case 1:return (h=f.T(),[2,this.dg.L1a(h)]);}});});};n.prototype.encrypt=function(c){return d.__awaiter(this,void 0,void 0,function(){var h;return d.__generator(this,function(){this.Lma();h="string" === typeof c?this.dg.Dda(c):c;return [2,this.Rja.encrypt(h)];});});};n.prototype.Lma=function(){if(this.kyb(this.Mma))throw Error("session expired");};n.prototype.Zhc=function(c){return d.__awaiter(this,void 0,void 0,function(){var h;return d.__generator(this,function(){this.Lma();h=this.dg.Dda(c);return [2,this.Rja.encrypt(h)];});});};n.prototype.ck=function(){return this.Mma;};n.prototype.ida=function(){return this.kyb(this.Mta);};n.prototype.kyb=function(c){var h;h=new Date().getTime();c=c.getTime();return 1E3 >= Math.abs(h - c) || h >= c;};return n;})();b.c3a=t;},1084:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.iW=void 0;b.iW=function(a,d,n){return a.slice?a.slice(d,n):new Uint8Array(a.buffer.slice(d || 0,n || a.buffer.byteLength));};},49217:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.d3a=void 0;t=(function(){function a(){}a.prototype.Dda=function(d){return new TextEncoder().encode(d);};a.prototype.L1a=function(d){return new TextDecoder().decode(d);};a.prototype.zW=function(d){return btoa(String.fromCharCode.apply(null,d)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"");};a.prototype.OO=function(d){d=d.replace(/-/g,"+").replace(/_/g,"/").padEnd(d.length + (4 - d.length % 4) % 4,"=");d=atob(d);for(var n=d.length,c=new Uint8Array(n),h=0;h < n;h++)c[h]=d.charCodeAt(h);return c;};return a;})();b.d3a=t;},44191:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.uAa=void 0;d=a(22970);t=(function(){function n(c,h,f,e,g){this.o0a="";this.crypto=h;this.dg=f;this.enc=c.toString();this.kid=e;this.Zyb=g;}n.prototype.encrypt=function(c){return d.__awaiter(this,void 0,void 0,function(){var h,f,e,g,k,l,m,p,r;return d.__generator(this,function(q){switch(q.label){case 0:return (h=this.znc(),f=this.crypto.getRandomValues(this.Zyb),e=this.dg.zW(f),g=this.dg.Dda(h),[4,this.fqb(c,g,f)]);case 1:return (k=q.T(),l=k.HF,m=k.tag,p=this.dg.zW(l),r=this.dg.zW(m),[2,h + ".." + e + "." + p + "." + r]);}});});};n.prototype.decrypt=function(c){return d.__awaiter(this,void 0,void 0,function(){var h,f,e,g,k,l,m,p,r;return d.__generator(this,function(q){switch(q.label){case 0:if(!c.length)throw Error("empty input");h=c.split(".");if(5 !== h.length)throw Error("malformed JWE envelope");if(0 !== h[1].length)throw Error("expected no CEK");f=this.dg.Dda(h[0]);e=this.dg.OO(h[2]);g=this.dg.OO(h[3]);k=this.dg.OO(h[4]);if(e.byteLength !== this.Zyb)throw Error("iv wrong length");if(16 !== k.byteLength)throw Error("tag wrong length");return [4,this.eqb(e,f,g,k)];case 1:return (l=q.T(),m=this.dg.L1a(f),p=this.dg.OO(m),r=this.dg.L1a(p),this.SDc(r),[2,l]);}});});};n.prototype.SDc=function(c){var h;try{h=JSON.parse(c);}catch(f){throw Error("malformed JWE header");}if(!n.Ztc(h))throw Error("unexpected JWE header contents");c=h;if("dir" !== c.alg || c.enc !== this.enc)throw Error("incompatible JWE header");if(c.kid !== this.kid)throw Error("mismatched kid");};n.prototype.hmb=function(c){var h,g;if(!c.length)return new Uint8Array();h=c.reduce(function(k,l){return k + l.length;},0);h=new Uint8Array(h);for(var f=0,e=0;e < c.length;e++){g=c[e];h.set(g,f);f+=g.length;}return h;};n.prototype.znc=function(){var c;c=this.ync();c=this.dg.Dda(c);return this.dg.zW(c);};n.prototype.ync=function(){var c;if("" !== this.o0a){c=this.o0a;this.o0a="";return c;}return JSON.stringify({alg:"dir",enc:this.enc,kid:this.kid});};n.Ztc=function(c){return ("alg" in c) && ("enc" in c) && ("kid" in c) && "string" === typeof c.alg && "string" === typeof c.enc && "string" === typeof c.kid;};return n;})();b.uAa=t;},88501:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.J3=void 0;d=a(22970);t=a(44191);n=a(1084);a=(function(c){function h(f,e,g,k,l,m){f=c.call(this,f,e,g,k,16) || this;if("AES-CBC" !== l.algorithm)throw Error("invalid AES-CBC key");if("HMAC-SHA256" !== m.algorithm)throw Error("invalid HMAC-SHA256 key");f.cNa=l;f.rK=m;return f;}d.__extends(h,c);h.prototype.fqb=function(f,e,g){return d.__awaiter(this,void 0,void 0,function(){var k,l;return d.__generator(this,function(m){switch(m.label){case 0:return (m.tc.push([0,2,,3]),[4,this.crypto.p4b(this.cNa,g,f)]);case 1:return (k=m.T(),[3,3]);case 2:throw (m.T(),Error("Internal encrypt error: Cipher job failed"));case 3:return [4,this.Fnb(e,g,k)];case 4:return (l=m.T(),[2,{HF:k,tag:l}]);}});});};h.prototype.eqb=function(f,e,g,k){return d.__awaiter(this,void 0,void 0,function(){var l;return d.__generator(this,function(m){switch(m.label){case 0:return [4,this.Fnb(e,f,g)];case 1:l=m.T();if(!this.bSc(k,l))throw Error("JWE is untrusted");m.label=2;case 2:return (m.tc.push([2,4,,5]),[4,this.crypto.o4b(this.cNa,f,g)]);case 3:return [2,m.T()];case 4:throw (m.T(),Error("Internal decrypt error: Cipher job failed"));case 5:return [2];}});});};h.prototype.Fnb=function(f,e,g){return d.__awaiter(this,void 0,void 0,function(){var k,l;return d.__generator(this,function(m){switch(m.label){case 0:(k=this.F$b(f,e,g),m.label=1);case 1:return (m.tc.push([1,3,,4]),[4,this.crypto.Rrc(this.rK,k)]);case 2:return (l=m.T(),[3,4]);case 3:throw (m.T(),Error(h.gga));case 4:return [2,(0,n.iW)(l,0,16)];}});});};h.prototype.F$b=function(f,e,g){var k;k=this.kRc((8 * f.byteLength).valueOf());return this.hmb([f,e,g,k]);};h.prototype.kRc=function(f){var e;e=new ArrayBuffer(8);e=new DataView(e);e.setUint32(4,f);e.setUint32(0,0);return new Uint8Array(e.buffer);};h.prototype.bSc=function(f,e){var g;g=!0;f.length !== e.length && (g=!1);for(var k=0;k < f.length;k++)f[k] !== e[k] && (g=!1);return g;};h.gga="Internal hmac error: Cipher job failed";h.G7a="invalid HMAC key";return h;})(t.uAa);b.J3=a;},36045:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.T8a=void 0;d=a(22970);n=a(88501);c=a(2802);t=(function(h){function f(e,g,k,l,m){return h.call(this,c.AleScheme.A128CBC_HS256,e,g,k,l,m) || this;}d.__extends(f,h);f.create=function(e,g,k,l,m){if("HMAC-SHA256" !== m.algorithm)throw Error(n.J3.G7a);return new f(e,g,k,l,m);};return f;})(n.J3);b.T8a=t;},1101:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.U8a=void 0;d=a(22970);n=a(88501);c=a(2802);t=(function(h){function f(e,g,k,l,m){return h.call(this,c.AleScheme.A128CBC_HS256_NRD,e,g,k,l,m) || this;}d.__extends(f,h);f.create=function(e,g,k,l,m){if("HMAC-SHA256" !== m.algorithm)throw Error(n.J3.G7a);return new f(e,g,k,l,m);};return f;})(n.J3);b.U8a=t;},51708:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.V8a=void 0;d=a(22970);t=a(44191);n=a(1084);c=a(2802);a=(function(h){function f(e,g,k,l){e=h.call(this,c.AleScheme.A128GCM,e,g,k,12) || this;e.key=l;return e;}d.__extends(f,h);f.create=function(e,g,k,l){if("AES-GCM" !== l.algorithm)throw Error("invalid AES-GCM key");return new f(e,g,k,l);};f.prototype.fqb=function(e,g,k){return d.__awaiter(this,void 0,void 0,function(){var l,m,p,r;return d.__generator(this,function(q){switch(q.label){case 0:return (q.tc.push([0,2,,3]),[4,this.crypto.r4b(this.key,k,g,e)]);case 1:return (l=q.T(),[3,3]);case 2:throw (q.T(),Error("Internal encrypt error: Cipher job failed"));case 3:return (m=l.byteLength - 16,p=(0,n.iW)(l,0,m),r=(0,n.iW)(l,m),[2,{HF:p,tag:r}]);}});});};f.prototype.eqb=function(e,g,k,l){return d.__awaiter(this,void 0,void 0,function(){var m;return d.__generator(this,function(p){switch(p.label){case 0:(m=this.hmb([k,l]),p.label=1);case 1:return (p.tc.push([1,3,,4]),[4,this.crypto.q4b(this.key,e,g,m)]);case 2:return [2,p.T()];case 3:throw (p.T(),Error("Internal decrypt error: Cipher job failed"));case 4:return [2];}});});};return f;})(t.uAa);b.V8a=a;},56707:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.uga=void 0;d=a(22970);n=a(2802);c=a(1084);h=a(51708);f=a(36045);t=(function(){function e(g,k,l,m){this.crypto=k;this.dg=l;this.PIa=m;}e.prototype.lob=function(g,k){return d.__awaiter(this,void 0,void 0,function(){var l,m,p,r,q,u;return d.__generator(this,function(v){switch(v.label){case 0:l=this.PIa;switch(l){case n.AleScheme.A128GCM:return [3,1];case n.AleScheme.A128CBC_HS256:return [3,3];}return [3,6];case 1:if(16 !== g.byteLength)throw Error("bad key size for " + this.PIa.toString());return [4,this.crypto.qRa("AES-GCM",g)];case 2:return (m=v.T(),[2,h.V8a.create(this.crypto,this.dg,k,m)]);case 3:if(32 !== g.byteLength)throw Error("bad key size for " + this.PIa.toString());p=(0,c.iW)(g,16);r=(0,c.iW)(g,0,16);return [4,this.crypto.qRa("AES-CBC",p)];case 4:return (q=v.T(),[4,this.crypto.qRa("HMAC-SHA256",r)]);case 5:return (u=v.T(),[2,f.T8a.create(this.crypto,this.dg,k,q,u)]);case 6:throw Error("invalid ALE scheme");case 7:return [2];}});});};return e;})();b.uga=t;},12346:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});b.b9a=b.Pfa=void 0;d=a(22970);n=a(2802);t=a(56707);c=a(1101);(function(f){f[f.PSK=0]="PSK";f[f.MGK=1]="MGK";})(h=b.Pfa || (b.Pfa={}));a=(function(f){function e(g,k,l,m){g=f.call(this,n.AleKeyxScheme.AUTH_DH,g,k,n.AleScheme.A128CBC_HS256_NRD) || this;g.sfc=l;g.sMa=m;return g;}d.__extends(e,f);e.prototype.pPa=function(){return d.__awaiter(this,void 0,void 0,function(){var g,k,l;return d.__generator(this,function(m){switch(m.label){case 0:return (g=this,[4,this.crypto.flc()]);case 1:return (g.QK=m.T(),[4,this.crypto.zrb(this.QK)]);case 2:return (k=m.T(),this.yHc=this.dg.zW(k),l={scheme:n.AleKeyxScheme.AUTH_DH,data:{r8c:this.sfc,QGb:this.yHc}},this.Awa?(l.data.eL=n.b2.WFa,l.data.Awa=this.Awa):l.data.eL=this.sMa === h.ubb?n.b2.ubb:n.b2.aZc,[2,l]);}});});};e.prototype.oXa=function(g){return d.__awaiter(this,void 0,void 0,function(){var k,l,m,p,r;return d.__generator(this,function(q){switch(q.label){case 0:if(!this.QK)throw Error("no key pair, did not call getKeyxRequestData()");if(g.scheme !== n.AleKeyxScheme.AUTH_DH)throw Error("incompatible key response scheme");k=g.kid;if(!e.otc(g.data))throw Error("invalid key response data");l=g.data;m=l.Awa;p=l.QGb;this.dg.OO(p);return [4,this.crypto.cfc()];case 1:return (r=q.T(),this.Awa=m,[2,c.U8a.create(this.crypto,this.dg,k,r.cNa,r.rK)]);}});});};e.otc=function(g){return "object" === typeof g && ("wrapdata" in g) && "string" === typeof g.wrapdata && ("pubkey" in g) && "string" === typeof g.pubkey;};return e;})(t.uga);b.b9a=a;},31178:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.c9a=void 0;d=a(22970);n=a(2802);t=(function(c){function h(f,e,g){return c.call(this,n.AleKeyxScheme.CLEAR,f,e,g) || this;}d.__extends(h,c);h.prototype.pPa=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){return [2,{scheme:n.AleKeyxScheme.CLEAR}];});});};h.prototype.oXa=function(f){return d.__awaiter(this,void 0,void 0,function(){var e,g,k,l;return d.__generator(this,function(){if(f.scheme !== n.AleKeyxScheme.CLEAR)throw Error("incompatible key response scheme");e=f.kid;if(!h.Btc(f.data))throw Error("incompatible key response data");g=f.data;k=g.key;l=this.dg.OO(k);return [2,this.lob(l,e)];});});};h.Btc=function(f){return "object" === typeof f && ("key" in f) && "string" === typeof f.key;};return h;})(a(56707).uga);b.c9a=t;},11038:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.e9a=void 0;d=a(22970);n=a(2802);t=(function(c){function h(f,e,g){return c.call(this,n.AleKeyxScheme.RSA_OAEP_256,f,e,g) || this;}d.__extends(h,c);h.prototype.pvb=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(f){switch(f.label){case 0:return [4,this.Sb()];case 1:return (f.T(),[2,this.QK.publicKey]);}});});};h.prototype.pPa=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(f){switch(f.label){case 0:return [4,this.Sb()];case 1:return (f.T(),[2,{scheme:n.AleKeyxScheme.RSA_OAEP_256,data:{QGb:this.RGb}}]);}});});};h.prototype.oXa=function(f){return d.__awaiter(this,void 0,void 0,function(){var e,g,k,l,m;return d.__generator(this,function(p){switch(p.label){case 0:if(f.scheme !== n.AleKeyxScheme.RSA_OAEP_256)throw Error("incompatible key response scheme");e=f.kid;if(!h.xuc(f.data))throw Error("incompatible key response data");g=f.data;k=g.zbd;l=this.dg.OO(k);if(!this.QK)throw Error("no key pair");return [4,this.crypto.NKc(this.QK.privateKey,l)];case 1:return (m=p.T(),[2,this.lob(m,e)]);}});});};h.prototype.Sb=function(){return d.__awaiter(this,void 0,void 0,function(){var f,e;return d.__generator(this,function(g){switch(g.label){case 0:if(this.QK && this.RGb)return [3,3];f=this;return [4,this.crypto.klc()];case 1:return (f.QK=g.T(),[4,this.crypto.zrb(this.QK)]);case 2:(e=g.T(),this.RGb=this.dg.zW(e),g.label=3);case 3:return [2];}});});};h.xuc=function(f){return "object" === typeof f && ("wrappedkey" in f) && "string" === typeof f.wrappedkey;};return h;})(a(56707).uga);b.e9a=t;},80462:function(t,b,a){var n;function d(c){return "object" === typeof c && ("scheme" in c) && (0,n.SRa)(c.scheme) && (!(("data" in c)) || "object" === typeof c.data);}Object.defineProperty(b,"__esModule",{value:!0});b.auc=b.$tc=b.sbb=void 0;n=a(2802);b.sbb=1;b.$tc=function(c){return "object" === typeof c && ("ver" in c) && ("scheme" in c) && ("type" in c) && ("keyx" in c) && (0,n.TRa)(c.scheme) && "string" == typeof c.type && d(c.keyx);};b.auc=d;},20408:function(t,b,a){var n;function d(c){return "object" === typeof c && ("scheme" in c) && ("data" in c) && ("kid" in c) && (0,n.SRa)(c.scheme) && "string" === typeof c.kid && "object" === typeof c.data;}Object.defineProperty(b,"__esModule",{value:!0});b.NEb=b.buc=b.tbb=void 0;n=a(2802);b.tbb=1;b.buc=d;b.NEb=function(c){var h;try{h=JSON.parse(c);}catch(f){throw Error("malformed JSON");}c=h;if(!("object" === typeof c && ("token" in c) && ("scheme" in c) && ("ttl" in c) && ("keyx" in c) && ("ver" in c) && "string" === typeof c.token && (0,n.TRa)(c.scheme) && "number" === typeof c.ttl) || void 0 !== c.rw && "number" !== typeof c.rw || "object" !== typeof c.keyx || !d(c.keyx) || "number" !== typeof c.ver)throw Error("unexpected key provision response contents");return h;};},2802:function(t,b){var d;function a(n){return function(c){return -1 !== Object.values(n).indexOf(c);};}Object.defineProperty(b,"__esModule",{value:!0});b.SRa=b.TRa=b.b2=b.AleKeyxScheme=b.AleScheme=void 0;(function(n){n.A128GCM="A128GCM";n.A128CBC_HS256="A128CBC-HS256";n.A128CBC_HS256_NRD="A128CBC-HS256-NRD";})(t=b.AleScheme || (b.AleScheme={}));(function(n){n.CLEAR="CLEAR";n.RSA_OAEP_256="RSA-OAEP-256";n.AUTH_DH="AUTH-DH";n.WIDEVINE="WIDEVINE";})(d=b.AleKeyxScheme || (b.AleKeyxScheme={}));(function(n){n.PSK="PSK";n.MGK="MGK";n.WRAP="WRAP";})(b.b2 || (b.b2={}));b.TRa=a(t);b.SRa=a(d);},73608:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Pfa=void 0;t=a(22970);t.__exportStar(a(99061),b);t.__exportStar(a(78212),b);t.__exportStar(a(7379),b);t.__exportStar(a(84032),b);t.__exportStar(a(1084),b);t.__exportStar(a(2802),b);d=a(12346);Object.defineProperty(b,"DeviceKeyType",{enumerable:!0,get:function(){return d.Pfa;}});},97685:function(t,b){var h,f;function a(){return "UNKNOWN";}function d(){}function n(){return Promise.resolve();}function c(e){var l;if(!Array.isArray(e))return e;for(var g={},k=0;k < e.length;k++){l=e[k];g[l]=l;}return g;}Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});t=c(["MANUAL_TEST","INTEGRATION_TEST","SIMULATION","CUSTOMER"]);h=c(("AUTHENTICATED_AWAITING_OPEN CLOSED CONNECTING_AWAITING_TOKEN OPEN_AWAITING_TOKEN ERRORED READY UNAVAILABLE").split(" "));f={qJa:n,connect:n,close:n,enable:d,r4c:d,log:d,J$c:d,Z$c:d,U6c:!1,V6c:!1,state:"UNAVAILABLE"};b.x0c=t;b.B0c=h;b.mh="UNKNOWN";b.Ne=d;b.l3c=a;b.q5c=a;b.r5c=a;b.PK=function(){return 0;};b.TQ=f;b.Dad=function(){return "UNKNOWN";};b.Ead=function(){return "";};},71501:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.J8a="Injector";b.zE=145152E5;b.eV="ProfileSymbol";},66523:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.GPc=b.wDb=void 0;b.Kv=function(a,d){var n;n=Object.getOwnPropertyDescriptor(a,d);n && Object.defineProperty(a,d,{configurable:n.configurable,enumerable:!1,value:n.value,writable:n.writable});};b.flatten=function(a){return [].concat.apply([],Aa(a));};b.wDb=function(a,d){return a - d;};b.GPc=function(a,d){return a.localeCompare(d);};},24747:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gfa="ApiInfoSymbol";},99198:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.rkb=void 0;d=a(7700);n=a(24747);t=a(22674);c=a(71501);h=a(4203);b.rkb=new t.we(function(f){f(n.gfa).to(d.exa).pa();});b.profile=new t.we(function(f){f(c.eV).vM(function(e){return (e=e.Gb.get(h.Fc)()) && e.XF?"browsertest":"browser";});});},7700:function(t,b,a){var n,c,h,f,e,g;function d(k,l,m,p){k=f.Gf.call(this,k,void 0 === p?"AppInfoConfigImpl":p) || this;k.config=l;k.R0a=m;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.exa=void 0;t=a(22970);n=a(22674);c=a(34231);h=a(12501);f=a(64174);e=a(83767);a=a(70865);Ia(d,f.Gf);d.prototype.toc=function(k){return "" + this.crb + (this.$S(k)?"/msl_v1":"");};d.prototype.Moc=function(k){return "" + this.host + (this.$S(k)?"/msl":"") + "/playapi";};d.prototype.$S=function(k){return this.R0a.$S(k);};Ha.Object.defineProperties(d.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},crb:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},brb:{configurable:!0,enumerable:!0,get:function(){var k;switch(this.config.LP){case c.BB.mFa:case c.BB.nAa:k="logs.test.netflix.com";break;default:k="logs.netflix.com";}return "https://" + k + "/log";}},host:{configurable:!0,enumerable:!0,get:function(){var k;switch(this.config.LP){case c.BB.mZb:k="www.stage";break;case c.BB.mFa:k="www-qa.test";break;case c.BB.nAa:k="www-int.test";break;default:k="www";}return "https://" + k + ".netflix.com";}},xlb:{configurable:!0,enumerable:!0,get:function(){return "pbo_config";}}});g=d;b.exa=g;t.__decorate([h.config(h.string,"apiEndpoint")],g.prototype,"endpoint",null);t.__decorate([h.config(h.string,"nqEndpoint")],g.prototype,"crb",null);t.__decorate([h.config(h.string,"logsEndpoint")],g.prototype,"brb",null);t.__decorate([h.config(h.string,"bindService")],g.prototype,"xlb",null);b.exa=g=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(e.uo)),t.__param(1,(0,n.u)(c.Ls)),t.__param(2,(0,n.u)(a.aia)),t.__param(3,(0,n.u)(e.Cfa)),t.__param(3,(0,n.optional)())],g);},85405:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.m3a="AseIntegrationFactorySymbol";},31034:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$ab="OpenConnectSideChannelSymbol";b.R$a="MediaRequestDownloaderSymbol";},13494:function(t,b){function a(n,c,h){var f,e,g,k;f=[];n.forEach(function(l){-1 == f.indexOf(l.xe) && f.push(l.xe);});e=null;g=null;c.forEach(function(l){null === e?g=e=l.bitrate:g < l.bitrate?g=l.bitrate:e > l.bitrate && (e=l.bitrate);});k=[];f.forEach(function(l){var m;m={ranges:[],profile:l};e && g && (m.ranges.push({min:e,max:g}),h && (m.disallowed=h.filter(function(p){return p.stream.xe === l;}).map(function(p){return {stream:{bitrate:p.stream.bitrate},disallowedBy:p.Zla};})),k.push(m));});return k;}function d(n,c){var h;h=void 0;return {$rb:n.filter(function(f){var e;e=c(f);e && (h=h || [],h.push({stream:f,Zla:e}));return !e;}),Dfc:h};}Object.defineProperty(b,"__esModule",{value:!0});b.wqc=function(n,c){c=d(n,c);return a(n,c.$rb,c.Dfc);};b.o3c=a;b.oC=d;},92692:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.bb=void 0;t=a(22674);d=a(67263);n=a(13005);c=a(24240);h=a(22806);f=a(31034);e=a(76457);g=a(77425);k=a(51790);l=a(89936);b.bb=new t.we(function(m){m(d.Lya).to(n.Kya).pa();m(c.L$a).to(h.KBa).pa();m(f.$ab).to(e.yCa).pa();m(f.R$a).to(g.PBa).pa();m(k.Q$a).to(l.OBa).pa();});},67263:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lya=b.U5a=void 0;b.U5a=function(){this.X=0;this.U=1;this.YTb=2;this.Pe=function(){};};b.Lya="DownloadTrackConstructorFactorySymbol";},24240:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.L$a="MediaHttpSymbol";},51790:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q$a="MediaRequestConstructorFactorySymbol";},48220:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.ke=void 0;b.ke=a;a.Ul={Nab:"mr1",Mab:"mr2",Oab:"mr3",l4:"mr4",IWb:"mr5",yI:"mr6"};a.Ud={UNSENT:0,OPENED:1,JE:2,am:3,DONE:5,pw:7,name:("UNSENT OPENED SENT RECEIVING PAUSED DONE FAILED ABORTED").split(" ")};a.rE={NO_ERROR:-1,LSb:0,t5a:1,XSb:2,PSb:3,$Rb:4,G4a:5,E4a:6,aSb:7,bSb:8,cSb:9,XRb:10,ZRb:11,F4a:12,YRb:13,WRb:14,dUb:15,J7a:16,I7a:17,Tza:18,hga:19,Uza:20,A3:21,fUb:22,iga:23,K7a:24,eUb:25,SSb:26,MSb:27,ZYb:28,CSb:29,DSb:30,ESb:31,FSb:32,GSb:33,HSb:34,ISb:35,JSb:36,KSb:37,NSb:38,OSb:39,QSb:40,RSb:41,TSb:42,USb:43,VSb:44,WSb:45,YSb:46,ZSb:47,YYb:48,TIMEOUT:49,bUb:50,Sza:51,cUb:52,M7a:53,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP HTTP_RESPONSE_452").split(" ")};a.ng={FYa:{FVc:!0,HEa:!1,FZc:!0}};},92720:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B;function d(A,C,D,F,G){var E;E=this;this.wb=A;this.j=C;this.debug=D;this.i5b=G;this.h5=this.Uj=this.YE=!1;this.D5=this.C5=void 0;this.$ta=!1;A={};this.vA=(A[v.v.X]={},A[v.v.U]={},A[v.v.Ba]={},A[v.v.pn]={},A);this.Hhb=void 0;this.rm=function(){var H,J,L,K,M,P;E.debug.assert(E.la,"has access to asePlaygraph");E.debug.assert(E.dd,"has access to internalLogger");E.debug.assert(E.AA,"has access to mediaBufferGetLogFields");M=E.kt;P=null === (J=null === (H=E.Sc.get()) || void 0 === H?void 0:H.jb) || void 0 === J?void 0:J.Da;H={type:"logdata",target:"startplay",fields:{hasasereport:E.j.EX,hashindsight:!1,buffCompleteReason:M.reason,actualbw:P,initSelReason:null !== (L=M.initSelReason) && void 0 !== L?L:"unknown",bcVBufferLevelMs:M.vBufferLevelMs,bcABufferLevelMs:M.aBufferLevelMs}};(0,e.hJa)({yNa:H,Wr:E.Wr,loadTime:E.loadTime});E.la.V0a("startplay",n.Ic.Ol);null !== (K=E.Db) && void 0 !== K && K.Qd?(E.dd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:M},E.AA()),E.j.kt=M,E.j.et.set(g.Wg.qf),E.kkc || (E.kkc=!0,E.j.Sg("pb")),[n.Tb.Iha,n.Tb.Uy,n.Tb.zi].includes(E.jh.value) || E.play()):E.dd.error("Shim received buffering complete but player has no position (player " + (E.Db?"":"un") + "defined, state " + E.j.state + ")");};this.wNb=function(){var H,J;E.debug.assert(E.dd,"has access to internalLogger");!1;E.C5=void 0;E.D5=void 0;E.j.paused.value && E.TR && (E.TR=!1,E.j.paused.set(!1,{FA:!0}));null === (H=E.j.Rd) || void 0 === H?void 0:H.B$b();null === (J=E.cEb) || void 0 === J?void 0:J.call(E);E.cEb=void 0;};this.events=new B();this.ve=new u.TFa(this.qC.bind(this),function(H){return E.j.CS(H);},function(H,J){return E.j.DS(H,J);});}b.nBa=void 0;n=a(45247);c=a(90745);h=a(32219);f=a(36129);e=a(30326);g=a(85001);k=a(29204);l=a(32687);m=a(5021);p=a(64302);r=a(8825);q=a(81734);u=a(64213);a(2762);v=a(26388);w=a(45240);x=a(26668);y=a(91176);z=a(31149);B=a(17187).EventEmitter;d.prototype.Ne=function(){var A;!1;this.h5=!1;this.Sc.Fua(null);this.debug.assert(this.Lj,"has access to streamingEngine");this.la && this.Lj.GD(this.la);this.Db && this.Lj.aYa(this.Db);this.Lj.WHb(this.ve.Jr(this.wb.ga.J));this.ve.clear();null === (A=this.Lh) || void 0 === A?void 0:A.tt();};d.prototype.oNc=function(A){var C,D,F,G,E,H,J,L,K,M,P,I;C=A.config;D=A.Su;F=A.dd;G=A.Df;E=A.AA;H=A.Fm;J=A.dda;A=A.QS;this.dd=F;this.log=F.dP("AseIntegrationImpl");!1;this.Nkb=new x.y3a(this.dd);this.AA=E;this.dda=J;this.QS=A;E=this.j.ga;this.debug.assert(E,"has a playback segment");this.debug.assert(C,"has access to config");this.debug.assert(G,"has access to utils");this.debug.assert(H,"has access to getCategoryLog");this.debug.assert(D,"has access to aseGlobals");this.debug.assert(D.Lj,"has access to streamingEngine");this.debug.assert(E.Qc,"has access to parsedManifest");this.debug.assert(E.S,"has access to manifest");this.config=C;this.Lj=D.Lj;D.pm.set(a(87141)(C),!0,H("ASE"));D.pm.set({maxNumberTitlesScheduled:null !== (K=null === (L=C.HFc) || void 0 === L?void 0:L.maxNumberTitlesScheduled) && void 0 !== K?K:1},!0,F);C.rac && !E.Ac.za && 3E5 > E.S.Aa.duration?D.pm.VVa({expandDownloadTime:!1},!0,F):D.pm.VVa({expandDownloadTime:D.pm.MEc().expandDownloadTime},!0,F);C=null === (I=null === (P=null === (M=E.ka.zh) || void 0 === M?void 0:M.streams) || void 0 === P?void 0:P[0]) || void 0 === I?void 0:I.xe;D.pm.VVa((0,k.L$b)(!!E.mb.Hg,!!E.mb.PC,C),!0,F);F=G.YZ({},(0,k.XKa)(E.$e));E.Ac.za && (F=G.YZ(F,(0,k.XKa)("live")));this.pm=D.pm.ot(F);n.platform.events.emit("networkchange",E.Qc.dMc);this.YE=!0;};d.prototype.h$=function(A){var C,D;this.debug.assert(this.Lj,"has access to streamingEngine");C=this.j.Dl(A.L);this.debug.assert(C.Qc,"has access to playback parsedManifest");!1;D=A.flags;this.Sc.reset();this.uh=new Set([v.v.X,v.v.U]);(D.xPb || D.a2c) && this.uh.delete(D.xPb?v.v.X:v.v.U);this.FT=[C.Qc.yec,C.Qc.Hec,C.Qc.Fec];this.qC(C.R,void 0,A.v7);this.Vsc(A);this.YW();};d.prototype.FM=function(A){var C;!1;null === (C=this.la) || void 0 === C?void 0:C.FM(A);};d.prototype.C6b=function(A){var C,D,F;C=this;D=A.loadTime;F=A.Wr;this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.Db,"has access to asePlayer");!1;this.Wr=F;this.loadTime=D;A=this.la.events;A.addListener("error",function(G){!1;"NFErr_MC_StreamingFailure" === G.error && (C.dd.trace("receiving an unrecoverable streaming error: " + JSON.stringify(G)),C.dd.trace("StreamingFailure, buffer status:" + JSON.stringify(C.AA())),(0,h.Gh)(function(){var E,H,J;E=f.ca.AQb;H=G.nativeCode;J=G.context;"adBreakHydration" === (null === J || void 0 === J?void 0:J.type) && (E=f.ca.yN,H=f.Y.LQb);C.j.og(E,{Sa:H,jf:G.errormsg,Fr:G.httpCode,$G:G.networkErrorCode,Fg:G.httpCode});}));});A.addListener("logdata",function(G){var E;!1;"string" === typeof G.target && "object" === typeof G.fields && (G.fields.aseApiVersion=null === (E=C.la) || void 0 === E?void 0:E.H4b,(0,e.hJa)({yNa:G,Wr:F,loadTime:D}));});A.addListener("bufferingStarted",function(){!1;C.j.et.set(g.Wg.Ff);});A.addListener("bufferingComplete",function(G){!1;C.kt=G;});this.j.paused.addListener(function(G){var E;C.debug.assert(C.dd,"has access to internalLogger");null !== (E=G.Am) && void 0 !== E && E.FA || !C.YE || (G.newValue && [n.Tb.hg,n.Tb.zi].includes(C.jh.value)?(C.jh.set(n.Tb.zi),C.Mh.emit("paused",{type:"paused",gd:C.Mh.yd})):G.newValue || C.jh.value !== n.Tb.zi || (C.jh.set(n.Tb.hg),C.Mh.emit("playing",{type:"playing",gd:C.Mh.yd})));G.newValue || (C.TR=!1);C.dd.info("Paused changed",{From:G.oldValue,To:G.newValue,MediaTime:(0,r.Rj)(C.j.mediaTime.value)});});this.j.ka.addListener([v.v.X],function(G){var E,H,J,L;if(C.YE)if((C.debug.assert(C.dd,"has access to internalLogger"),G.sF))C.dd.trace("Not processing already applied track",null === (E=G.Tx) || void 0 === E?void 0:E.trackId);else {L=G.Tx;C.GMb({Wu:L.trackId,toJSON:function(){return L.ri;}})?C.dd.trace("ASE accepted the audio track switch",null === (J=G.Tx) || void 0 === J?void 0:J.trackId):(C.dd.trace("ASE rejected the audio track switch",null === (H=G.Tx) || void 0 === H?void 0:H.trackId),G.Ov && G.Ov.trackId !== L.trackId && C.j.ka.bB(G.Ov,{sF:!0}));}});this.j.Ac.za && this.j.ka.addListener([v.v.Ba],function(G){var E,H,J,L;if(C.YE)if((C.debug.assert(C.dd,"has access to internalLogger"),null === G || void 0 === G?0:G.sF))C.dd.trace("Not processing already applied track",null === (E=G.Tn) || void 0 === E?void 0:E.trackId);else {L=G.Tn;C.GMb({NMb:L.trackId,toJSON:function(){return L.ri;}})?C.dd.trace("ASE accepted the text track switch",null === (J=G.Tn) || void 0 === J?void 0:J.trackId):(C.dd.trace("ASE rejected the text track switch",null === (H=G.Tn) || void 0 === H?void 0:H.trackId),G.Xx && G.Xx.trackId !== L.trackId && C.j.ka.qp(G.Xx,{sF:!0}));}});A.addListener("serverSwitch",function(G){var E;!1;C.j.fireEvent(g.ja.$ca,G);if(G.mediatype === v.tR[v.v.X])E=v.v.X;else G.mediatype === v.tR[v.v.U]?E=v.v.U:G.mediatype === v.tR[v.v.Ba] && (E=v.v.Ba);(0,l.ed)(E) && C.dda(G.segmentId,G.server,E);});A.addListener("streamSelected",function(G){var E,H,J,L;!1;if(C.h5){H=G.manifest.Sd;if(!C.j.yrc(H) && C.config.ljc)return C.j.og(f.ca.jVb,{n8:H});H=(null === (E=C.la) || void 0 === E?void 0:E.Mr(G.position)).Pa.G;E=[];if(G.mediaType === v.v.U){J=C.j.Dwb(G.streamId);L=C.j.Qf;E=C.j.nK();}else G.mediaType === v.v.X && (J=C.j.kwb(G.streamId),L=C.j.Ri,E=C.j.Flc());J && L?(!1,L.set(J,{XO:H,B6:G.bandwidth})):G.mediaType !== v.v.Ba && C.dd.error("no matching stream for streamSelected event",{streamId:G.streamId,mediaType:G.mediaType,streamList:E,cachedManifest:C.j.VO});}});A.addListener("segmentNormalized",function(G){var E,H,J,L,K;!1;E=G.segmentId;H=Math.floor(G.viewableContentEnd.G);G=Math.floor(G.viewableEarliestContentEnd.G);H=(0,m.ec)(H);G=(0,m.ec)(G);C.Di && C.Di.ba[E] && (J=C.Di.ba[E]);L=C.j.ywb(E);K=J && C.j.M9(J.J);L?K && C.j.npa() && (L=C.j.Nk(J.J),L.L === "placeholder-segmentId-" + J.J && (!1,L.L=E)):(!1,C.Xbc(E));if(J=C.j.Dl(E))(C.debug.assert(J.L === E,"segmentNormalized: playbackViewableData segmentId should match the value in the event. playbackViewableData.segmentId: " + (J.L + " event.segmentId: ") + (E + " ")),J.MF=H,J.xBb=G);C.j.ks || (C.j.Ac.za && Infinity === H.oa(m.ya)?C.j.ks=m.ia:C.j.ks=H);E=C.j.ks.oa(m.ya);J=H.oa(m.ya);C.j.Ac.za && Infinity !== J && J > E && (!1,C.j.ks=H);});A.addListener("locationSelected",function(G){!1;C.j.fireEvent(g.ja.baa,G);});A.addListener("aseReportEnabled",function(){!1;C.j.EX=!0;});A.addListener("logblob",function(G){!1;C.j.fireEvent(g.ja.mW,G);});A.addListener("mediaRequestComplete",function(G){G=null === G || void 0 === G?void 0:G.KJc;(G=null === G || void 0 === G?void 0:G.cadmiumResponse) && C.j.fireEvent(g.ja.qP,{response:G,R:C.j.ga.R});});A.addListener("transportReport",function(G){var E;(G=null === (E=G.Bic) || void 0 === E?void 0:E.cadmiumResponse) && C.j.fireEvent(g.ja.qP,{response:G,R:C.j.ga.R});});A.addListener("liveEventTimesUpdated",function(G){var E,H;E=G.L;H=G.startTime;G=G.endTime;C.j.ywb(E) && (E=C.j.Dl(E),E.Ac.za && E.Ac.HZa(H,G));});A.addListener("liveLoggingInfoUpdated",function(G){var E,H,J;E=G.mediaType;G=G.info;H=C.vA[E];C.vA[E]=G;J=C.vA[E].kv !== H.kv && void 0 !== H.kv;(C.vA[E].jv !== H.jv && void 0 !== H.jv || J) && C.j.fireEvent(g.ja.Zpa,{mediaType:E,xq:H,current:C.vA[E],jZa:G.jZa,cc:G.cc});});A.addListener("livePostplayUpdated",function(G){C.j.fireEvent(g.ja.lAb,{J:G.J,Kba:G.Kba,action:G.action});});A.addListener("seeked",function(G){C.M_=G.position;});this.vlb();};d.prototype.vlb=function(){var A,C;A=this;this.debug.assert(this.Db,"has access to asePlayer");!1;C=this.Db.events;C.addListener("logdata",function(D){!1;"string" === typeof D.target && "object" === typeof D.fields && (0,e.hJa)({yNa:D,Wr:A.Wr,loadTime:A.loadTime});});C.addListener("segmentPresenting",function(D){var F,G,E,H;!1;A.debug.assert(A.la,"has access to asePlaygraph");A.debug.assert(A.Db,"has access to asePlayer");A.debug.assert(A.QS,"has access to segmentPresentingHandler");G=A.la.Mr(D.position);E=void 0;H=null === (F=D.inner) || void 0 === F?void 0:F.position;H && A.Di && (E=A.Di.ba[H.L]);A.wb.iZ() && (A.wb.ei=D.position.L);A.QS({J:G.J,$O:E,KQ:!1});F=D.metrics;A.Dsa && F && (G=F.segment,F.srcsegment !== A.Dsa.M8.L || G !== A.Dsa.cea.L || "seamless" !== F.transitionType && "perfect" !== F.transitionType || (F.transitionType="long",A.Dsa=void 0));A.j.fireEvent(g.ja.$L,{type:"segmentPresenting",position:{segmentId:D.position.L,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});!1;A.Hhb=A.Db.At();});C.addListener("ptsChanged",function(D){var F,G;!1;A.debug.assert(A.la,"has access to asePlaygraph");A.M_ || !1;G=null !== (F=A.M_) && void 0 !== F?F:A.la.Qm(D.initialTimestamp);A.M_=void 0;F=A.la.Zz(G);G=A.bwb(G);G={DQc:null === F || void 0 === F?void 0:F.QA,uxb:D.initialTimestamp.QA,vl:G};!1;A.j.Rd.xHc(G);D.inNonSeamlessTransition?A.Mh.emit("clockAdjusted",{type:"clockAdjusted",gd:A.Mh.yd}):A.Mh.emit("skipped",{type:"skipped",gd:A.Mh.yd});});C.addListener("fragmentsMissing",function(D){var F,G;G=null === (F=A.la) || void 0 === F?void 0:F.Mr(D.nextAvailableGraphPosition);A.j.Rd.seek(G.Pa.G,g.Jc.O2,D.nextAvailableGraphPosition.L);});};d.prototype.Xbc=function(A){var C,D,F,G;if(this.Di && this.Di.ba[A]){C=this.Di.ba[A];A=this.j.NTa;D=A.S;if(null === D || void 0 === D?0:D.Sp)F=null === D || void 0 === D?void 0:D.Sp.find(function(E){return E.Aa.R === C.J;});F || (F=this.j.jub(C.J));if(!F && (null === D || void 0 === D?0:D.Aa.Fb)){G=this.i5b.Uoc({Fb:null === D || void 0 === D?void 0:D.Aa.Fb,fd:A.R,J:C.J});G && (F=G.S);}F && F.Aa.Fb === (null === D || void 0 === D?void 0:D.Aa.Fb) && this.j.Aob(C.J,{Hf:{Fb:F.Aa.Fb,fd:A.R}},A.Ia,F);}};d.prototype.At=function(){var A,C,D,F,G,E,H,J,L;J=null === (A=this.Db) || void 0 === A?void 0:A.toa();A=(null !== (C=this.Hhb) && void 0 !== C?C:J && this.Db.At()) || ({});C=A.K;J=A.de;L=A.eS;A=A.Wv;return {id:String(null === C || void 0 === C?void 0:C.id),GJa:null !== (D=null === J || void 0 === J?void 0:J.G) && void 0 !== D?D:0,mla:null !== (F=null === C || void 0 === C?void 0:C.kb.G) && void 0 !== F?F:Infinity,aac:null !== (G=null === C || void 0 === C?void 0:C.Rb.G) && void 0 !== G?G:0,jFc:null !== (E=null === L || void 0 === L?void 0:L.G) && void 0 !== E?E:Infinity,JWa:null !== (H=null === A || void 0 === A?void 0:A.G) && void 0 !== H?H:0};};d.prototype.Oxb=function(){var A,C;this.debug.assert(this.la,"has access to asePlaygraph");A={};C=this.la.fQ();A.vbuflmsec=C.totalvbuflmsecs;A.vbuflbytes=C.vbuflbytes;A.abuflmsec=C.totalabuflmsecs;A.abuflbytes=C.abuflbytes;A.tbuflmsec=C.totaltbuflmsecs;A.tbuflbytes=C.tbuflbytes;return A;};d.prototype.paused=function(){};d.prototype.cFc=function(){!1;this.Mh.emit("playbackRateChanged",{type:"playbackRateChanged",gd:this.Mh.yd});};d.prototype.dt=function(A,C){var D;this.debug.assert(this.j.S,"has access to playback manifest");this.debug.assert(this.Nkb,"has access to ASE utils");D=this.FT[v.v.X];return A.R === this.j.S.Aa.R?D:this.Nkb.Pjc(this.j.S.Aa.uz[D],C);};d.prototype.kB=function(A,C){this.debug.assert(this.j.S,"has access to playback manifest");if(this.j.Ac.za && (A=this.FT[v.v.Ba],(C=C[A]) && (!C.Cx || C.w$)))return A;};d.prototype.GMb=function(A){var C,D,F,G,E,H;this.debug.assert(this.dd,"has access to internalLogger");this.debug.assert(this.Db,"has access to asePlayer");this.debug.assert(this.j.S,"has access to playback manifest");if(this.K0a)return (!1,!1);D=A.Wu;F=this.FT[v.v.X];if(void 0 === D)G=F;else if(!this.j.S.Aa.audio_tracks.some(function(J,L){if(J.new_track_id === D)return (G=L,!0);}))return (!1,!1);E=A.NMb;A=this.FT[v.v.Ba];if(void 0 === E)H=A;else if(!this.j.S.Aa.timedtexttracks.some(function(J,L){if(J.new_track_id === E)return (H=L,!0);}))return (!1,!1);!1;this.C5=G;this.D5=H;null === (C=this.j.Rd) || void 0 === C?void 0:C.cPc();this.j.paused.value || (this.Db.pause([v.v.X,v.v.Ba]),this.TR=!0,this.j.paused.set(!0,{FA:!0}));this.debug.eka(this.C5,"has access to valid requestedAudioTrackIndex number");this.FT[v.v.X]=this.C5;this.debug.eka(this.D5,"has access to valid requestedTextTrackIndex number");this.FT[v.v.Ba]=this.D5;(this.oy() || this.TR) && this.Db.resume(this.TR?[v.v.X,v.v.Ba]:void 0);this.KM(this.wNb);return !0;};d.prototype.oy=function(){var A;A=this;this.debug.assert(this.la,"has access to asePlaygraph");return this.la.oy({TS:this.dt.bind(this)},{TS:function(){return A.FT[v.v.U];}},{TS:this.kB.bind(this)});};d.prototype.Qoc=function(){var A,C;A=this;if(!this.$ta){C={type:"playbackEnding",cancel:function(){A.$ta=!0;}};this.Mh.emit(C.type,C);}C=this.$ta;this.$ta=!1;return C;};d.prototype.Nq=function(){var A;!1;this.jh.set(n.Tb.$l);null === (A=this.la) || void 0 === A?void 0:A.V0a("intrplay",n.Ic.Nq);this.Mh.emit("underflow",{type:"underflow",gd:this.Mh.yd});this.KM(this.rm);};d.prototype.Kua=function(A,C){this.lwa.Kua(A,C);};d.prototype.open=function(){var A,C;if(!this.h5){this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.Db,"has access to asePlayer");!1;this.h5=this.Uj=!0;this.la.open();this.debug.assert(this.fB,"invalid start position relative to playgraph");this.M_=this.fB;this.la.YL(this.fB);this.jh.set(n.Tb.Ff);this.KM(this.rm);this.la.rz(this.Db);this.bAb();C=null === (A=this.Em()) || void 0 === A?void 0:A.js.yv();A=this.j.ga.R.toString();(null === C || void 0 === C?0:C.result[A]) && this.events.emit("adMetadataUpdated");}};d.prototype.play=function(){this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.Db,"has access to asePlayer");!1;0 !== this.la.state && (this.Db.resume(this.TR?[v.v.X,v.v.Ba]:void 0),this.jh.set(n.Tb.hg),this.Mh.emit("playing",{type:"playing",gd:this.Mh.yd}));};d.prototype.stop=function(){var A;!1;this.jh.set(n.Tb.Iha);null === (A=this.Db) || void 0 === A?void 0:A.pause();this.events.emit("stop");this.Mh.emit("paused",{type:"paused",gd:this.Mh.yd});};d.prototype.flush=function(){this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.Lj,"has access to streamingEngine");!1;this.h5 && this.jh.value !== n.Tb.Uy && this.jh.value !== n.Tb.Iha && this.stop();this.la.V0a("endplay",n.Ic.tj);this.la.mg();this.Lj.Fl.save();this.Lj.mL.save();};d.prototype.Em=function(){var A;return null === (A=this.la) || void 0 === A?void 0:A.Cc;};d.prototype.bwb=function(A){this.debug.assert(this.la,"has access to asePlaygraph");return this.la.Z.ba[A.L].eb + Number(A.offset.G.toFixed(0));};d.prototype.iLa=function(A){var C;this.debug.assert(this.la,"has access to asePlaygraph");C=n.I.Ca(A);return (C=this.la.Qm(C,{tOc:!0,sOc:!0}))?this.bwb(C):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + A);};d.prototype.kLa=function(A,C){this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.dd,"has access to internalLogger");!1;this.la.Z.ba[A] || (A=this.PNa(C));this.debug.fka(A,"has access to segmentId");A={L:A,offset:n.I.Ca(C - this.la.Z.ba[A].eb)};if(A=this.la.Zz(A))return A.G;!1;return C;};d.prototype.Zjc=function(A,C){var D,F,G;this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.Db,"has access to asePlayer");!1;C && this.la.Z.ba[C] || (C=null !== (D=this.PNa(A)) && void 0 !== D?D:null === (F=this.Db) || void 0 === F?void 0:F.bh.L);C=this.j.Dl(C);A={Pa:n.I.Ca(A),J:C.R};return null === (G=this.la.ssb(A)) || void 0 === G?void 0:G.Pa.G;};d.prototype.V7=function(A){var C;C=void 0 === C?!0:C;!1;if(!this.Uj)return this.fail("Must call open prior to drmReady");Number.isFinite(A) && (this.debug.assert(this.Db,"has access to asePlayer"),C?this.Db.mKb(A):this.Db.lKb(A));};d.prototype.twb=function(){var A;return null !== (A=this.Db) && void 0 !== A && A.Qd?this.Db.r$(this.wb.ga.J):!1;};d.prototype.Ik=function(A){var C,D,F;!1;if(!this.Db)return (!1,!1);A=n.I.Ca(A);F=null !== (D=null === (C=this.Em()) || void 0 === C?void 0:C.Ik(A)) && void 0 !== D?D:!0;return this.Db.Ik(A) && F;};d.prototype.rLc=function(A,C){var D;this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.Db,"has access to asePlayer");!1;C && this.la.Z.ba[C] || (C=null !== (D=this.PNa(A)) && void 0 !== D?D:this.wb.ei);this.debug.fka(C,"has access to segmentId");this.debug.assert(this.la.Z.ba[C],"segment exists in playgraph map");this.M_=A={L:C,offset:n.I.Ca(A - this.la.Z.ba[C].eb)};this.la.YL(A);this.Db.resume();this.jh.set(n.Tb.Ff);this.KM(this.rm);A=this.la.iJb(A);this.debug.assert(A,"Valid position must be provided for seek");};d.prototype.addEventListener=function(A,C){this.events.addListener(A,C);return this;};d.prototype.removeEventListener=function(A,C){this.events.removeListener(A,C);return this;};d.prototype.ESc=function(A,C){var D;!1;D={};this.la.fl((D[A]=C,D));};d.prototype.Vka=function(A,C){var D,F;this.debug.assert(this.dd,"has access to internalLogger");this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.Db,"has access to asePlayer");!1;D=this.At().id;F=this.la.o9(D,A);if(C){if(!F.FTc)return (this.dd.warn("chooseNextSegment, seamless transition, invalid destination: " + (A + " for current segment: " + D)),!1);if(void 0 !== F.NUa && (!1,F.NUa !== A))return !1;this.la.bn(D,A,!1,C);return !0;}if(void 0 !== F.NUa)return (!1,!1);F.K6 && (this.Db.reset(),this.M_={L:A,offset:n.I.Ca(0)},this.la.bn(D,A,!1,C),this.Db.resume(),this.jh.set(n.Tb.Ff),this.KM(this.rm));return !!F.K6;};d.prototype.bn=function(A,C,D,F){this.debug.assert(this.la,"has access to asePlaygraph");!1;this.la.bn(A,C,D,F);};d.prototype.kM=function(){var A;this.debug.assert(this.dd,"has access to internalLogger");!1;A=this.Mh.yd;!1;this.Mh.emit("skipped",{type:"skipped",gd:A});return new n.L4(Promise.resolve()).uKc;};d.prototype.Kna=function(A,C){var D;return null === (D=this.la) || void 0 === D?void 0:D.Kna(A,C);};d.prototype.LPa=function(){var A;return null === (A=this.la) || void 0 === A?void 0:A.LPa();};d.prototype.PNa=function(A){var C,D,F,G,E,H,J,L;this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.dd,"has access to internalLogger");!1;C=this.la.Z;D=[];F=Infinity;for(G in C.ba){E=C.ba[G];H=E.eb;E=E.ib;J=A < Number(null !== E && void 0 !== E?E:Infinity);if(H <= A && J)(!1,D.push(G));else if((H=Math.min(Math.abs(A - H),Math.abs(A - E)),H < F)){F=H;L=G;}}A=D[0] || L;this.debug.fka(A,"has access to locatedSegmentId");!1;return A;};d.prototype.bAb=function(){var A,C;A=this;this.debug.assert(this.j.$b,"has access to mediaElement");C=this.j.$b.Ga;this.debug.assert(C,"has access to videoElement");C.addEventListener("play",function(){A.jh.value === n.Tb.zi && (A.jh.set(n.Tb.hg),A.Mh.emit("playing",{type:"playing",gd:A.Mh.yd}));});C.addEventListener("pause",function(){A.jh.value === n.Tb.hg && (A.jh.set(n.Tb.zi),A.Mh.emit("paused",{type:"paused",gd:A.Mh.yd}));});};d.prototype.fail=function(A){var C;null === (C=this.la) || void 0 === C?void 0:C.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:A});};d.prototype.KM=function(A){var C,D,F,G,E,H,J,L;C=this;if(A !== this.wNb && this.K0a)(!1,this.cEb=A);else {L=null === (D=this.Db) || void 0 === D?void 0:D.cp.value;D=null === (F=this.la) || void 0 === F?void 0:F.ee.value;F=!0 === L;L=D === n.Ld.Jp;!1;null === (G=this.Db) || void 0 === G?void 0:G.cp.removeListener(this.DBb);null === (E=this.la) || void 0 === E?void 0:E.ee.removeListener(this.Llb);F && L?A():(this.DBb=function(){return C.KM(A);},this.Llb=function(){return C.KM(A);},null === (H=this.Db) || void 0 === H?void 0:H.cp.addListener(this.DBb),null === (J=this.la) || void 0 === J?void 0:J.ee.addListener(this.Llb));}};d.prototype.otb=function(A){var C,D;C=this;A=this.j.Nk(A);return Promise.resolve(null !== (D=A.S) && void 0 !== D?D:this.zta(A)).then(function(F){var G,E;F=F.Aa;return {S:F,lC:F.noa && !F.qK,config:C.pm,uh:[].concat(Aa(C.uh)),Rm:null !== (E=null === (G=C.la) || void 0 === G?void 0:G.id) && void 0 !== E?E:-1};});};d.prototype.zta=function(A){var C,D,F,G,E;C=this;!1;G=Promise.resolve();if(null === (D=A.me) || void 0 === D?0:D.fd){D=A.me.fd;(E=null === (F=this.j.Nk(D).S) || void 0 === F?void 0:F.Aa)?A.me.sba=E:G=this.ve.Jr(D).ku.then(function(H){return H.S;}).then(function(H){A.me.sba=H;}).catch(function(){return C.j.og(f.ca.yN,f.Y.MQb);});}return G.then(function(){return C.j.zta(A);}).then(function(){return A.S;}).catch(function(H){var J;throw new n.IB("Failed to request manifest",{sm:0,pva:0,errorCode:null !== (J=H.code) && void 0 !== J?J:0,context:{error:H instanceof z.ie?H.toJSON():H,type:"manifest"}});});};d.prototype.qC=function(A,C,D){var F,G,E,H,J,L,K,M,P,I,O,Q,S;F=this;this.debug.assert(this.Lj,"has access to streamingEngine");!1;P={J:A,fd:null === (G=null === C || void 0 === C?void 0:C.Hf) || void 0 === G?void 0:G.fd,Fb:null === (E=null === C || void 0 === C?void 0:C.Hf) || void 0 === E?void 0:E.Fb};if(!this.ve.has(P)){if(!this.j.M9(A) && (null === (H=null === C || void 0 === C?void 0:C.Hf) || void 0 === H?0:H.fd) && this.j.M9(null === (J=null === C || void 0 === C?void 0:C.Hf) || void 0 === J?void 0:J.fd)){G=this.j.Nk(null === (L=C.Hf) || void 0 === L?void 0:L.fd);L=null === (K=G.S) || void 0 === K?void 0:K.Aa.Fb;K=this.j.jub(A);(null === (M=null === K || void 0 === K?void 0:K.Aa) || void 0 === M?0:M.Fb) && K.Aa.Fb === L && (I=K);this.j.Aob(A,C,G.Ia,I);}this.j.M9(A) && (O=this.j.Nk(A));Q=D?D.Ia:O?O.Ia:void 0;M=D?D.ti:O?O.correlationId:void 0;this.ve.store(P,{KW:function(){},equals:function(U){return U && U.J === P.J && (Q === U.Ia || !U.Ia || !Q);},get ku() {S || (S=F.otb(A));return S;},set ku(U) {S=U;},events:new c.EventEmitter(),Ia:Q,J:P.J,kx:!1,sva:!1});this.pm.CP && this.Lj.L0(this.ve.Jr(P.J,C),{Ia:Q,ti:M,CMa:null === D || void 0 === D?void 0:D.TJ});}};d.prototype.C1=function(A){var C,D,F;this.debug.assert(this.Lj,"has access to streamingEngine");!1;C=this.j.Dl(A);D=C.me;A=this.wb.Bt(A).J;if(!this.ve.has({J:C.R,fd:null === D || void 0 === D?void 0:D.fd,Fb:null === D || void 0 === D?void 0:D.Fb}))return Promise.resolve();D && (F={Hf:{Fb:null === D || void 0 === D?void 0:D.Fb,fd:D.fd}});C=this.ve.Jr(A,F);C.ku=this.otb(A);return this.Lj.C1(C);};d.prototype.o9=function(A){var C;this.debug.assert(this.Db,"has access to asePlayer");this.debug.assert(this.la,"has access to asePlaygraph");return this.la.o9(null === (C=this.Db.At().K) || void 0 === C?void 0:C.id,A);};d.prototype.Jn=function(A){var C;A=null === (C=this.la) || void 0 === C?void 0:C.Jn(A);!1;return A;};d.prototype.Vsc=function(A){var C,D;C=A.v7;D=A.L;this.debug.assert(this.Lj,"has access to streamingEngine");this.debug.assert(this.dd,"has access to internalLogger");!1;A=this.j.Dl(D);A=this.wb.oQ(A);D=A.ba[D];this.debug.assert(D,"segment exists");this.fB=(0,p.Gpc)(D.J,A,this.j.Eb,D.eb);C=Object.create(this.pm,{TJ:{value:C.TJ},MX:{value:this.j.background.value}});this.jh=new q.vc(n.Tb.sn);this.la=this.Lj.Z5(A,this.pm.rFc,C,this.ve);this.lwa=new n.P4(this.dd);C=this.la.s7(this.lwa);A=this.la.r7();this.la.UZa(A,C);this.oy();this.TR=!1;};d.prototype.YW=function(){var A,C,D;A=this;this.debug.assert(this.Lj,"has access to streamingEngine");this.debug.assert(this.j.S,"has access to playback manifest");!1;D=null === (C=this.j.S) || void 0 === C?void 0:C.Aa;C=void 0 !== this.kB(D,D.xT);D=[].concat(Aa(this.uh));C && D.push(v.v.Ba);C=Object.create(this.pm,{uh:{value:D},zPa:{value:function(){return A.zoc();}}});this.Mh=this.Aoc();this.Db=this.Lj.I3b(this.Mh,C);};d.prototype.Aoc=function(){var A,C,D,F;A=this;if(this.Mh)return this.Mh;D=Object.create(new c.EventEmitter(),{qk:{get:function(){return A.j.Gj.oa(m.ya);}},yd:{get:function(){A.debug.eka(A.j.mediaTime.value,"has access to mediaTime.value");return n.I.Ca(A.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(A.j.playbackRate.value,.01);}},boc:{value:function(){A.debug.assert(A.j.$b,"has access to mediaElement");return A.j.$b;}}});F=null === (C=this.j.ga.S) || void 0 === C?void 0:C.Aa.Of;this.config.Ehc && !(0,y.Ax)(F) && (this.debug.assert(this.dd,"has access to internalLogger"),this.DIb=new w.Hdb(this.j,this.config,this.dd),Object.defineProperties(D,{mt:{value:function(G){var E;E=A.DIb.mt(G);E.mt || (A.Dsa={M8:G.M8,cea:G.cea});return E;}},Tc:{value:function(G,E){return A.DIb.Tc(G,E);}}}));return D;};d.prototype.rKc=function(){var A;A=this;return new Promise(function(C){A.bAb();A.nfc();A.YW();A.debug.assert(A.Db,"asePlayer should have been re-created");A.vlb();A.la.rz(A.Db);A.play();A.jh.set(n.Tb.Ff);A.KM(function(){A.j.paused.value && A.j.paused.set(!1,{FA:!0});A.rm();!1;C();});});};d.prototype.nfc=function(){var A;null === (A=this.la) || void 0 === A?void 0:A.ofc();this.Lj.aYa(this.Db);this.Lh=this.Db=void 0;};d.prototype.zoc=function(){this.Lh || (this.Lh=new n.platform.MediaSource(this.Mh),this.Lh.ng || (this.Lh.ng=n.platform.MediaSource.ng));return this.Lh;};Ha.Object.defineProperties(d.prototype,{K0a:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.C5 && void 0 !== this.D5;}},Sc:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Lj,"has access to streamingEngine");return this.Lj.Sc;}},Di:{configurable:!0,enumerable:!0,get:function(){for(var A,C=null === (A=this.la) || void 0 === A?void 0:A.Di;null === C || void 0 === C?0:C.Di;)C=C.Di;return null === C || void 0 === C?void 0:C.Z;}},unb:{configurable:!0,enumerable:!0,get:function(){for(var A=this.Db;null === A || void 0 === A?0:A.i$;)A=A.i$;return A;}},Uob:{configurable:!0,enumerable:!0,get:function(){var A,C,D;if(null === (A=this.unb) || void 0 === A?0:A.Qd){D=(A=this.unb.bh) && (null === (C=this.Di) || void 0 === C?void 0:C.ba[A.L]);if(D)return {Pa:n.I.Ca(A.offset.G + D.eb),J:D.J};}}},Glb:{configurable:!0,enumerable:!0,get:function(){var A;return null === (A=this.Db) || void 0 === A?void 0:A.UQ.value.G;}}});b.nBa=d;},13005:function(t,b,a){var n,c,h,f;function d(e){function g(k,l){this.Ab=k;this.M_b=l;this.INa=!1;this.emit=f.prototype.emit;this.addListener=f.prototype.addListener;this.on=f.prototype.on;this.once=f.prototype.once;this.removeListener=f.prototype.removeListener;this.removeAllListeners=f.prototype.removeAllListeners;this.listeners=f.prototype.listeners;this.listenerCount=f.prototype.listenerCount;f.call(this);this.ig=e.ub("DownloadTrack");}g.prototype.tt=function(){!1;this.K5=void 0;this.emit("destroyed");};g.prototype.toString=function(){return "id:" + this.K5 + " config: " + JSON.stringify(this.Ab);};g.prototype.toJSON=function(){return "Download Track id:" + this.K5 + " config: " + JSON.stringify(this.Ab);};g.prototype.mZ=function(){return void 0 === this.K5?!1:!0;};g.prototype.TXa=function(k){this.Ab.connections !== k.connections && (this.Ab=k);};Ha.Object.defineProperties(g.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.K5;}},wm:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.K5;}},config:{configurable:!0,enumerable:!0,get:function(){return this.Ab;}},Ksa:{configurable:!0,enumerable:!0,get:function(){return this.ig;}},Daa:{configurable:!0,enumerable:!0,get:function(){return this.M_b.Daa;}},EMb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});this.I2=Object.assign(g,new h.U5a());}Object.defineProperty(b,"__esModule",{value:!0});b.Kya=void 0;t=a(22970);n=a(22674);c=a(87386);h=a(67263);f=a(17187).EventEmitter;b.Kya=d;b.Kya=d=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.yb))],d);},22806:function(t,b,a){var n,c,h,f,e,g,k,l,m;function d(p,r,q,u,v){this.lW=p;this.He=q;this.dc=u;this.Ua=v;this.log=r.ub("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.KBa=void 0;t=a(22970);n=a(48220);c=a(24550);h=a(36129);f=a(87386);e=a(22674);g=a(32934);k=a(42207);l=a(81918);m=a(5021);d.prototype.jQ=function(){return this.Ua.wc().oa(m.ya);};d.prototype.WAc=function(p,r){p.ZAc({mediaRequest:p,timestamp:r});};d.prototype.Sra=function(p){var r,q;q=p.mediaRequest.hL;q.hDb(Object.assign(Object.assign({},p),{timestamp:p.connect?p.timestamp:this.jQ(),connect:null !== (r=p.connect) && void 0 !== r?r:!1,mediaRequest:q,readyState:q.readyState}));};d.prototype.q_=function(p){this.WAc(p.mediaRequest.hL,p.timestamp);};d.prototype.KR=function(p){var r,q;r=p.mediaRequest.hL;q=p.bytes;"undefined" === typeof r?!1:(r.readyState === n.ke.Ud.JE && this.Sra(p),this.dc.Ao(q) && (p.mediaRequest=r,p.timestamp=this.jQ(),q > r.bytesReceived && (p.newBytes=q - r.bytesReceived,p.bytesLoaded=q,r.bBc(p))));};d.prototype.kba=function(p){var r,q,u,v;r=p.mediaRequest;q=p.errorcode;u=p.httpcode;v=n.ke.rE;if("undefined" === typeof r)!1;else if((r=r.hL,"undefined" === typeof r))!1;else if(q === h.Y.nN)(p.mediaRequest=r,p.readyState=r.readyState,r.TAc(p));else {switch(q){case h.Y.C3:u=v.E4a;break;case h.Y.Vza:u=v.Tza;break;case h.Y.y3:u=400 < u && 500 > u?452 === u?v.M7a:v.hga:500 <= u?v.A3:v.Tza;break;case h.Y.z3:u=v.Uza;break;case h.Y.x3:u=v.F4a;break;case h.Y.B3:u=v.iga;break;case h.Y.oN:u=v.iga;break;case h.Y.L7a:u=v.K7a;break;case h.Y.H7a:u=v.hga;break;case h.Y.aTb:u=v.Uza;break;default:u=v.iga;}p.mediaRequest=r;p.readyState=r.readyState;p.errorcode=u;p.nativecode=q;r.aVa(p);}};d.prototype.kD=function(p,r){var q,u;q=r.request.hL;if(q)if(r.success){if((!1,p.j && q.readyState !== n.ke.Ud.DONE)){switch(q.readyState){case n.ke.Ud.pw:!1;return;case n.ke.Ud.am:break;case n.ke.Ud.JE:this.Sra({mediaRequest:r.request,responseHeaders:r.headers,httpCode:r.fk});break;default:!1;}if(!q.Xe){u={mediaRequest:q,readyState:q.readyState,timestamp:this.jQ(),cadmiumResponse:r};p.j.J0a+=1;q.dqc();q.tuc() && (p.j.EYa+=1,r.sq.Ml=Math.ceil(q.XNa),r.sq.fw=Math.ceil(q.aP),r.sq.rH=Math.floor(q.XK));q.D$b=u;q.k_(u);}}}else (!1,q.readyState === n.ke.Ud.pw?!1:this.kba({mediaRequest:r.request,errorcode:r.Sa,httpcode:r.Fr,responseHeaders:r.headers,cadmiumResponse:r}));};d.prototype.download=function(p,r){var q;q=this;r=this.He.download(p,r);p.hL && p.hL.readyState === n.ke.Ud.OPENED && r.LMc(function(u){q.q_(u);});r.yja(function(u){q.kD(p,u);});r.YMc(function(u){q.KR(u);});return r;};a=d;b.KBa=a;b.KBa=a=t.__decorate([(0,e.$)(),t.__param(0,(0,e.u)(c.d2)),t.__param(1,(0,e.u)(f.yb)),t.__param(2,(0,e.u)(g.DB)),t.__param(3,(0,e.u)(k.wi)),t.__param(4,(0,e.u)(l.$d))],a);},77425:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r;function d(q,u,v,w,x,y){this.Ua=q;this.jG=u;this.config=v;this.He=x;this.Xyc=y;this.log=w.ub("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.PBa=void 0;t=a(22970);n=a(22674);c=a(87386);h=a(32934);f=a(24240);e=a(51344);g=a(48220);k=a(81918);l=a(5021);m=a(34231);p=a(4203);r=a(26388);d.prototype.gna=function(q,u,v){var x,y,z;function w(){var B;q.removeEventListener(g.ke.Ul.yI,w);if(q.aborted)x.log.debug("MediaRequest aborted, not retrying (" + q + ")");else {B=x.config().fjc;void 0 === q.ZX?q.ZX=0:q.ZX++;q.ZX >= B.length && (q.ZX=B.length - 1);Ca.clearTimeout(q.HNa);q.HNa=Ca.setTimeout(function(){q.NK();},B[q.ZX]);}}x=this;q.S6c=!0;q.aborted=!1;y=0 === u.start && -1 === u.end;u={url:q.url,responseType:this.He.uha.Q3a,withCredentials:!1,NJ:q.mediaType === r.v.X?"audio":"video",offset:y?void 0:u.start,length:y?void 0:q.iu,track:{type:q.mediaType === r.v.X?e.qn.audio:e.qn.video},stream:{cc:q.Qa,bitrate:q.bitrate},Oc:{id:q.Uc},hL:q,PD:v,yy:this.jG.yy || !y && void 0 !== q.GP,my:q.my};v=q.GP;void 0 !== v && void 0 !== v.kh && void 0 !== v.VC && void 0 !== v.Jx && (u.GP=[v.Jx,v.VC,v.kh,v.enb]);z=this.jQ();u=this.Xyc.download(u,function(B){B.success && q.readyState !== g.ke.Ud.DONE && (q.readyState === g.ke.Ud.pw?!1:(q.readyState === g.ke.Ud.JE?q.hDb({mediaRequest:q,readyState:q.readyState,timestamp:q.Xe?z:x.jQ(),connect:!1,responseHeaders:B.headers,httpCode:B.fk}):q.readyState !== g.ke.Ud.JE && q.readyState !== g.ke.Ud.am && !1,B={mediaRequest:q,readyState:q.readyState,timestamp:x.jQ(),cadmiumResponse:B,response:B.content},q.D$b=B,q.k_(B)));});q.addEventListener(g.ke.Ul.yI,w);q.eRa=u.abort;};d.prototype.AO=function(q){try{q.aborted=!0;Ca.clearTimeout(q.HNa);q.HNa=void 0;q.ZX=void 0;q.eRa();}catch(u){this.log.warn("exception aborting request");}};d.prototype.jQ=function(){return this.Ua.wc().oa(l.ya);};a=d;b.PBa=a;b.PBa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(k.$d)),t.__param(1,(0,n.u)(m.Ls)),t.__param(2,(0,n.u)(p.Fc)),t.__param(3,(0,n.u)(c.yb)),t.__param(4,(0,n.u)(h.DB)),t.__param(5,(0,n.u)(f.L$a))],a);},89936:function(t,b,a){var n,c,h,f,e,g,k,l,m,p;function d(r,q,u,v,w,x){function y(B,A){this.track=B;this.label=A;this.jg=l.ke.Ud.UNSENT;this.bytesReceived=0;this.uH=[];}function z(B,A,C){this.requestId=x.NF().toString();this.dc=u;this.log=q.ub("MediaRequest");this.config=r;this.jc=new k.Vl();this.label=A;"notification" === this.label?this.config().CP && (this.Daa=v):this.Daa=w;C && (this.mediaType=C.mediaType,this.Qa=C.Qa,this.bitrate=C.bitrate,this.Uc=C.Uc || 0,this.lA=C.lA,this.L=C.L);this.j$=this.Ika=this.Jka=void 0;this.track=B;this.yW=this.url=this.responseType=void 0;this.jg=l.ke.Ud.UNSENT;this.Rg=this.xC=this.dh=this.status=void 0;this.bytesReceived=0;this.connect=this.XNa=this.aP=this.XK=this.WSa=this.$i=this.WNa=this.loadTime=this.Op=void 0;this.uH=[];this.wm=!1;!1;}y.prototype.addEventListener=function(B,A,C){this.jc.addListener.call(this,B,A,C);};y.prototype.removeEventListener=function(B,A){this.jc.removeListener.call(this,B,A);};y.prototype.emit=function(B,A,C){this.jc.kd.call(this,B,A,C);};y.prototype.ZAc=function(B){this.jg === l.ke.Ud.OPENED && (this.j$=!0,this.loadTime=this.$i=B.timestamp,!1,this.jg=l.ke.Ud.JE,this.emit(l.ke.Ul.Nab,B));};y.prototype.hDb=function(B){var A;B.responseHeaders && (this.Yta=B.responseHeaders);B.httpCode && (this.status=B.httpCode);if(this.jg < l.ke.Ud.am){this.uH=[];A=B.timestamp - this.loadTime;!this.Xe && 0 < A && (this.connect=!0,this.uH.push(A));!0 === this.config().lsc?this.WNa=B.timestamp:this.WNa=this.$i=B.timestamp;!1;this.jg=l.ke.Ud.am;200 <= this.status && 299 >= this.status && this.emit(l.ke.Ul.Mab,B);}};y.prototype.bBc=function(B){this.jg === l.ke.Ud.am && (!1,this.WSa=this.$i=B.timestamp,B.newBytes=B.bytesLoaded - this.bytesReceived,this.bytesReceived=B.bytesLoaded,this.dc.gi(this.WSa) && 200 <= this.status && 299 >= this.status && this.emit(l.ke.Ul.Oab,B));};y.prototype.k_=function(B){var A;if(-1 < [l.ke.Ud.JE,l.ke.Ud.am].indexOf(this.jg)){this.j$=!1;!1;this.$i=B.timestamp;this.jg=l.ke.Ud.DONE;A=this.bytesReceived;this.bytesReceived=B.cadmiumResponse.sq.Bn;(0,p.ta)(this.bytesReceived === this.iu,"bytesReceived do not match expected totalBytes.");B.newBytes=this.iu - A;this.dc.gi(this.aP) && (this.$i=this.aP,0 === B.newBytes && (this.WSa=this.aP));this.dc.gi(this.XK) && (this.loadTime=this.XK);this.Op=B.response;this.emit(l.ke.Ul.l4,B);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",KJc:B});}};y.prototype.TAc=function(B){this.j$=!1;!1;this.emit(l.ke.Ul.IWb,B);};y.prototype.aVa=function(B){var A,C;this.$i=B.timestamp;this.status=null !== (A=B.httpcode) && void 0 !== A?A:this.status;this.Yta=null !== (C=B.responseHeaders) && void 0 !== C?C:this.Yta;this.dh=B.errorcode;this.xC=l.ke.rE.name[this.dh];this.Rg=B.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",Bic:B});this.emit(l.ke.Ul.yI,B);this.j$=!1;};y.prototype.open=function(B,A,C,D,F,G,E,H,J){this.qy=!1;this.yW=A;this.PD=E;this.my=H;this.GP=J;this.url=B;this.responseType=C;!1;return this.url?this.NK():(!1,!1);};y.prototype.NK=function(){this.jg=l.ke.Ud.OPENED;this.status=this.bytesReceived=0;this.Rg=this.xC=this.dh=this.Yta=void 0;this.Daa.gna(this,this.yW,this.PD);return !0;};y.prototype.Ne=function(){!1;-1 !== [l.ke.Ud.OPENED,l.ke.Ud.JE,l.ke.Ud.am].indexOf(this.jg) && this.abort();return !0;};y.prototype.g1=function(B){!1;this.url=B;return this.jg > l.ke.Ud.UNSENT?(this.abort(),this.NK()):!0;};y.prototype.abort=function(){this.jg=l.ke.Ud.pw;this.Daa.AO(this);return !0;};y.prototype.pause=function(){};y.prototype.getResponseHeader=function(B){var A,C;return null !== (C=null === (A=this.Yta) || void 0 === A?void 0:A[B.toLowerCase()]) && void 0 !== C?C:null;};y.prototype.getAllResponseHeaders=function(){return "";};y.prototype.h0=function(){};y.prototype.ii=function(){return this.requestId;};y.prototype.toString=function(){var B;B={requestId:this.ii(),segmentId:this.L,isHeader:this.Xe,ptsStart:this.IL,ptsOffset:this.Yba,responseType:this.responseType,duration:this.Pg,readystate:this.jg,bitrate:this.bitrate};return JSON.stringify(B);};y.prototype.toJSON=function(){return this.toString();};y.prototype.dqc=function(){var B,A;if(this.config().dPb && f.GB && f.GB.getEntriesByType && (!this.dc.gi(this.XK) || !this.dc.gi(this.aP) && this.dc.gi(this.url))){B="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.Jka + "-" + this.Ika + "*");A=new RegExp(B);B=f.GB.getEntriesByType("resource").filter(function(C){return A.exec(C.name);})[0];this.dc.gi(B) && (0 < B.startTime && (this.XK=B.startTime,0 < B.requestStart && (this.XK=Math.max(this.XK,B.requestStart))),0 < B.responseStart && (this.XNa=B.responseStart),0 < B.responseEnd && (this.aP=B.responseEnd));}};y.prototype.tuc=function(){return this.dc.gi(this.XK) && this.dc.gi(this.aP) && this.dc.gi(this.XNa);};Ha.Object.defineProperties(y.prototype,{iu:{configurable:!0,enumerable:!0,get:function(){return 0 === this.yW.start && -1 === this.yW.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.yW.end - this.yW.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.Ika - this.Jka + 1;}},trc:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},Xe:{configurable:!0,enumerable:!0,get:function(){return !this.lA;}},response:{configurable:!0,enumerable:!0,get:function(){return this.Op;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.jg;}}});Object.getOwnPropertyNames(y.prototype).forEach(function(B){var A;A=Object.getOwnPropertyDescriptor(y.prototype,B);Object.defineProperty(z.prototype,B,A);});this.Xl=Object.assign(z,l.ke);}Object.defineProperty(b,"__esModule",{value:!0});b.OBa=void 0;t=a(22970);n=a(22674);c=a(87386);h=a(4203);f=a(22365);e=a(42207);g=a(31034);k=a(94886);l=a(48220);m=a(62665);p=a(45146);b.OBa=d;b.OBa=d=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.Fc)),t.__param(1,(0,n.u)(c.yb)),t.__param(2,(0,n.u)(e.wi)),t.__param(3,(0,n.u)(g.$ab)),t.__param(4,(0,n.u)(g.R$a)),t.__param(5,(0,n.u)(m.xE))],d);},76457:function(t,b,a){var n,c,h;function d(f,e){this.He=e;this.log=f.ub("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.yCa=void 0;t=a(22970);n=a(22674);c=a(87386);a=a(32934);d.prototype.gna=function(f,e,g){e={url:f.url,oLc:g};!1;f.eRa=this.He.$Nc(e);};d.prototype.AO=function(f){try{f.eRa();}catch(e){this.log.warn("exception aborting request");}};h=d;b.yCa=h;b.yCa=h=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.yb)),t.__param(1,(0,n.u)(a.DB))],h);},45240:function(t,b,a){var n,c,h,f;function d(e,g,k){this.j=e;this.config=g;this.bb=this.j.bb;this.log=k.dP("RestartManagerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.NTb=b.Hdb=void 0;n=a(45247);c=a(36129);h=a(17612);d.prototype.mt=function(e){var g;g=e.mediaType;return g === n.v.X?{mt:!0}:g === n.v.U?this.B8b(e):{mt:!1,reason:"not-audio-not-video"};};d.prototype.Tc=function(e,g){var k,l,m;k=this;!1;void 0 === (null !== (l=g[n.v.U]) && void 0 !== l?l:g[n.v.X]) && this.log.warn("No fromSegment for audio/video given in playgraph restart");this.j.paused.value || this.j.paused.set(!0,{FA:!0});null === (m=this.j.Rd) || void 0 === m?void 0:m.TOc();this.bb.stop();return this.j.oIc().then(function(){return k.bb.rKc();}).then(function(){return k.bb.V7(k.j.R);}).catch(function(p){k.log.error("Restart player for non-seamless transition failed.",{error:p,restartContext:{mediaAttributesRecord:e,fromSegments:g}});k.j.og(c.ca.uXb,p);});};d.prototype.B8b=function(e){var g,k,l,m,p,r,q;l=!0;m=e.M8;p=e.cea;r=e.from;q=e.to;if(m.L !== p.L && this.YKb(m,p,this.config.CLc))return {mt:!1,reason:"testing-forced-ads-content"};if(m.L !== p.L && h.sb.gZ(null !== (k=null === (g=this.j.zl) || void 0 === g?void 0:g.Rx.Ix) && void 0 !== k?k:"") && this.YKb(m,p,this.config.yFc))return {mt:!1,reason:"playready-forced-ads-content"};e=this.config.ZTc;return 0 < e.length?(e.some(function(u){u=new RegExp(u);if(u.test(r.profile) && !u.test(q.profile) || u.test(q.profile) && !u.test(r.profile))return (!1,l=!1,!0);}),l?{mt:l}:{mt:!1,reason:{mediaType:"video",zc:"mismatch",details:"codec"}}):{mt:l};};d.prototype.YKb=function(e,g,k){e=e.L;g=g.L;g=e.includes("ad-")?g.includes("ad-")?f.f3b:g.includes("pad")?f.h3b:f.g3b:e.includes("pad")?g.includes("ad-")?f.LDc:g.includes("pad")?f.NDc:f.MDc:g.includes("ad-")?f.eac:g.includes("pad")?f.gac:f.fac;return k.includes(g);};b.Hdb=d;(function(e){e.f3b="adToAd";e.h3b="adToPadding";e.g3b="adToContent";e.NDc="paddingToPadding";e.MDc="paddingToContent";e.LDc="paddingToAd";e.gac="contentToPadding";e.eac="contentToAd";e.fac="contentToContent";})(f || (b.NTb=f={}));},64213:function(t,b,a){var n,c,h,f;function d(e,g,k){this.qC=void 0 === e?function(){}:e;this.IJc=g;this.LJc=k;this.cE=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.TFa=void 0;n=a(22970);c=a(45247);h=a(45146);f=a(31149);d.prototype.store=function(e,g){var k,p;k=this.generateKey(e);this.cE.has(k) && this.ZUa(this.cE.get(k),!0);if(!e.fd)for(var l=Fa(this.cE),m=l.next();!m.done;m=l.next()){p=Fa(m.value);m=p.next().value;p=p.next().value;m.includes(":" + e.J + ":") && (this.ZUa(p,!0),this.cE.delete(m));}this.cE.set(k,g);};d.prototype.Jr=function(e,g){var k,l,m;m=null === (k=null === g || void 0 === g?void 0:g.Hf) || void 0 === k?void 0:k.Fb;k=null === (l=null === g || void 0 === g?void 0:g.Hf) || void 0 === l?void 0:l.fd;l={J:e,fd:k,Fb:m};this.has(l) || this.qC(e,g);return this.get(l);};d.prototype.CS=function(e,g){return n.__awaiter(this,void 0,void 0,function l(){var m,p,r;p=this;return Sa(l,function(q){if(1 == q.$r)return ((0,h.ta)(g.Hf,"auxiliaryOptions must exist if an adBreak hydration was requested"),(0,h.ta)(!!g.Hf.Fb,"auxiliaryManifestToken must exist if an adBreak hydration was requested"),q.LW=2,ab(q,p.IJc(g),4));if(2 != q.$r)return q.return(q.$T);r=ib(q);throw new c.IB("Could not hydrate adBreak",{sm:0,pva:0,errorCode:null !== (m=r.code) && void 0 !== m?m:0,context:{error:r instanceof f.ie?r.toJSON():r,type:"adBreakHydration"}});});});};d.prototype.DS=function(e,g){return n.__awaiter(this,void 0,void 0,function l(){var m,p,r;p=this;return Sa(l,function(q){if(1 == q.$r)return (q.LW=2,ab(q,p.LJc(e,g),4));if(2 != q.$r)return q.return(q.$T);r=ib(q);throw new c.IB("Could not prefetch dai",{sm:0,pva:0,errorCode:null !== (m=r.code) && void 0 !== m?m:0,context:{error:r instanceof f.ie?r.toJSON():r,type:"daiPrefetch"}});});});};d.prototype.has=function(e){e=this.generateKey(e);return this.cE.has(e) && !this.cE.get(e).kx;};d.prototype.clear=function(){var e;e=this;this.cE.forEach(function(g){e.ZUa(g,!1);});this.cE.clear();};d.prototype.get=function(e){return this.cE.get(this.generateKey(e));};d.prototype.generateKey=function(e){var g,k;g=e.Fb;k=e.fd;return e.J.toString() + (k?":" + k:"") + (g?":" + g:"");};d.prototype.ZUa=function(e,g){var k;null === (k=e.events) || void 0 === k?void 0:k.emit("viewableEvicted",{type:"viewableEvicted"});e.sva=g;};b.TFa=d;},30326:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.hJa=function(n){var c,h,f,e;c=n.Wr;h=n.loadTime;n=n.yNa;f=(0,d.pc)(h)?h:0;e=c[n.target] || ({});c[n.target] !== e && (c[n.target]=e);Object.entries(n.fields).forEach(function(g){var k,l,m,p;k=Fa(g);g=k.next().value;k=k.next().value;if("object" !== typeof k || null === k)e[g]=k;else {l=k.type;if("count" === l)(void 0 === e[g] && (e[g]=0),++e[g]);else if(void 0 !== k.value){if("array" === l){l=e[g];m=k.adjust;p=k.value;l || (l=e[g]=[]);m && 0 < m.length && m.forEach(function(r){p[r]-=f || 0;});l.push(p);}else e[g]="sum" === l?(e[g] || 0) + k.value:k.value;}else e[g]=k;}});};d=a(32687);},64302:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Gpc=function(c,h,f,e){return h.ba[h.lf].eb === e?(c=(0,d.Ar)(h,c,d.I.Ca(f)),(0,n.ta)(c,"has valid start position relative to playgraph"),c):{L:h.lf,offset:d.I.ia};};d=a(45247);n=a(45146);},26668:function(t,b){function a(d){this.log=d.dP("AseUtilsImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.y3a=void 0;a.prototype.Pjc=function(d,n){var c,h,f;!1;c=n.slice(0).sort(function(e,g){var k,l;return (null !== (k=e.yc) && void 0 !== k?k:0) - (null !== (l=g.yc) && void 0 !== l?l:0);}).sort(function(e,g){var k,l,m;k=e.profile === d.profile?0:1;l=g.profile === d.profile?0:1;m=k - l;if(0 !== k && 0 !== l || 0 === m)k=m;else return m;0 === k && (k=(e.language === d.language || "zxx" === e.language?0:1) - (g.language === d.language || "zxx" === g.language?0:1));0 === k && (k=(e.Li === d.Li?0:1) - (g.Li === d.Li?0:1));return k;});h=0;f=Fa(c).next().value;f && n.some(function(e,g){if(e === f)return (h=g,!0);});!1;return h;};b.y3a=a;},11479:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oj="AsyncComponentLoaderSymbol";},87284:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Skb=void 0;t=a(22674);d=a(31073);n=a(11479);b.Skb=new t.we(function(c){c(n.Oj).to(d.xxa).pa();});},31073:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u;function d(v,w,x,y,z,B){var A;A=this;this.io=v;this.config=x;this.np=y;this.debug=z;this.Ua=B;this.iNb=[];this.wf={};this.log=w.ub("loadAsync");this.Lxc=(0,r.PTb)(function(C){A.TIc=!0;A.startTime=A.Ua.wc().oa(m.ya);A.load(A.iNb).then(function(){A.endTime=A.Ua.wc().oa(m.ya);C(u.Bh);}).catch(function(D){A.endTime=A.Ua.wc().oa(m.ya);C(D);});});}Object.defineProperty(b,"__esModule",{value:!0});b.xxa=void 0;t=a(22970);n=a(77134);c=a(36129);h=a(96813);f=a(63156);e=a(22674);g=a(87386);k=a(4203);l=a(59818);m=a(5021);p=a(90597);r=a(22894);q=a(81918);u=a(33096);d.prototype.$$=function(v){this.Lxc(v);};d.prototype.register=function(v,w){this.debug.assert(!this.TIc);this.iNb.push({exc:this.r8b(w),errorCode:v});};d.prototype.Sg=function(v){this.debug.assert(void 0 === this.wf[v]);this.wf[v]=this.Ua.wc().oa(m.ya);};d.prototype.load=function(v){var w;w=this;return (0,h.HGc)(v).then(function(x){w.io.mark(f.qu.tn.JQb);return x.reduce(function(y,z){return y.then(function(){return w.cxc(z);});},Promise.resolve()).then(function(){w.io.mark(f.qu.tn.HQb);});});};d.prototype.cxc=function(v){var w,x;w=this;x=v.exc;!1;return this.np.rs((0,m.ec)(this.config().x5b),x()).catch(function(y){w.log.error("Failed to load component " + v.errorCode,y);w.io.mark(f.qu.tn.IQb);if(y instanceof l.Fw)throw {Sa:c.Y.GQb,errorCode:v.errorCode};y.errorCode=y.errorCode || v.errorCode;y.Sa=y.Sa || c.Y.FQb;throw y;});};d.prototype.r8b=function(v){return function(){return new Promise(function(w,x){v(function(y){y.success?w():x(y);});});};};a=d;b.xxa=a;b.xxa=a=t.__decorate([(0,e.$)(),t.__param(0,(0,e.u)(n.rV)),t.__param(1,(0,e.u)(g.yb)),t.__param(2,(0,e.u)(k.Fc)),t.__param(3,(0,e.u)(l.HE)),t.__param(4,(0,e.u)(p.wB)),t.__param(5,(0,e.u)(q.$d))],a);},96813:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.HGc=function(h){return new Promise(function(f,e){var g;g=c.EWb(h);g && e(g);(g=c.DWb(h)) && e(g);f(h.sort(function(k,l){return n.indexOf(k.errorCode) - n.indexOf(l.errorCode);}));});};d=a(36129);n=[d.ca.CUb,d.ca.r8a,d.ca.s8a,d.ca.w8a,d.ca.n8a,d.ca.l8a,d.ca.dAa,d.ca.GUb,d.ca.o8a,d.ca.m8a,d.ca.nI,d.ca.i8a,d.ca.k8a,d.ca.t8a,d.ca.u8a,d.ca.v8a,d.ca.p8a,d.ca.j8a,d.ca.q8a];(function(h){h.DWb=function(f){var k;for(var e={},g=0;g < f.length;g++){k=f[g];if(e[k.errorCode])return {errorCode:k.errorCode,Sa:d.Y.DQb};e[k.errorCode]=1;}};h.EWb=function(f){var g;for(var e=0;e < f.length;e++){g=f[e];if(-1 === n.indexOf(g.errorCode))return {errorCode:g.errorCode,Sa:d.Y.EQb};}};})(c || (c={}));},41674:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.AbortSignal=b.AbortController=void 0;b.AbortController=a.nY.AbortController;b.AbortSignal=a.nY.AbortSignal;b.AbortSignal.prototype.throwIfAborted || (b.AbortSignal.prototype.VMb=function(){if(this.aborted)throw this.reason;});},81918:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$d="ApplicationSymbol";},6405:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WM="Base16EncoderSymbol";},2248:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sl="Base64EncoderSymbol";},22816:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gU="BrowserInfoSymbol";},33258:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yxa="CachedErrorsSymbol";},30869:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vi="ClockSymbol";},87061:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.X4a="ClockConfigSymbol";},58098:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.l5a="CsvEncoderSymbol";},34043:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kfa="DebouncerFactorySymbol";},90597:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.B5a="DebugConfigSymbol";b.wB="DebugSymbol";},2762:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.gXc={};t.w_c="PboDebugEvent";t.y_c="PlaygraphEvent";b.fXc={lZc:"Manifest",Event:"Event",VYc:"Logblob"};b.z_c={Z0c:"UX",LWc:"Combined_1",MWc:"Combined_2"};},28131:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M,P,I,O,Q,S,U,W,Y,X,Z,aa,ca,da,ja,R,N,V,ba,fa,ha,la,pa,ia,na,T,ea,ka,ra,ta,qa,xa,Ba,oa,va,za;Object.defineProperty(b,"__esModule",{value:!0});b.nC=void 0;t=a(22674);d=a(63368);n=a(30869);c=a(53085);h=a(62665);f=a(10306);e=a(61909);g=a(11629);k=a(67525);l=a(691);m=a(84408);p=a(6405);r=a(2248);q=a(74870);u=a(42207);v=a(15160);w=a(59818);x=a(67572);y=a(53399);z=a(33543);B=a(30033);A=a(24900);C=a(4734);D=a(76564);F=a(31811);G=a(55099);E=a(88490);H=a(57180);J=a(9002);L=a(81918);K=a(58098);M=a(76928);P=a(69997);I=a(90597);O=a(85125);Q=a(87386);S=a(87061);U=a(84183);W=a(77134);Y=a(1639);X=a(91591);Z=a(69216);aa=a(49721);ca=a(45842);da=a(22365);ja=a(78789);R=a(20483);N=a(77687);V=a(6214);ba=a(31298);fa=a(4203);ha=a(91581);la=a(79274);pa=a(22816);ia=a(66057);na=a(44720);T=a(95947);ea=a(4246);ka=a(84130);ra=a(34043);ta=a(61453);qa=a(90030);xa=a(2010);Ba=a(75236);oa=a(76892);va=a(33258);za=a(19699);b.nC=new t.we(function(ua){ua(d.fha).vM(function(){return {};}).pa();ua(d.HU).xp(JSON);ua(d.Dgb).xp(Ca);ua(f.afb).xp(Math);ua(d.R9a).xp(da.Nga);ua(d.dha).xp(da.GB);ua(d.agb).xp(da.VU);ua(d.A5a).xp(Date);ua(d.i4).xp(da.tg);ua(d.ZVb).xp(da.EN);ua(S.X4a).to(U.gya).pa();ua(L.$d).to(J.ixa).pa();ua(n.vi).to(l.hya).pa();ua(c.kl).to(e.KEa).pa();ua(h.xE).to(g.gAa).pa();ua(w.HE).to(C.eEa).pa();ua(f.wha).to(k.lEa).pa();ua(I.wB).to(P.yya).pa();ua(I.B5a).to(O.xya).pa();ua(m.PE).to(y.KFa).pa();ua(p.WM).to(z.Dxa).pa();ua(r.Sl).to(B.Exa).pa();ua(q.cm).to(A.LFa).pa();ua(u.wi).xp(D.sN);ua(na.N2).to(T.pza).pa();ua(v.qza).to(F.Vl).rRa();ua(v.Lfa).to(F.Vl).pa();ua(v.M5a).to(F.Vl).pa();ua(v.Fza).to(F.Vl).pa();ua(E.Yeb).to(H.nV).pa();ua(K.l5a).to(M.lya).pa();ua(W.rV).to(Y.Yha).pa();ua(W.d4).to(Y.Yha).pa();ua("Factory<LoggerFactory>").hNb(Q.yb);ua(X.Bya).to(Z.Aya).pa();ua(ca.EI).Pf(function(ya){return function(Da){return new aa.nFa(ya.Gb.get(L.$d),ya.Gb.get(c.kl),Da);};});ua(ra.Kfa).Pf(function(ya){return function(Da){return new ta.wya(ya.Gb.get(c.kl),Da);};});ua(ja.cEa).nRc(R.kha);ua(ja.mYb).Pf(function(ya){var Da;Da=ya.Gb.get(ja.cEa);return function(){return new Da(!1);};});ua(ja.nYb).Pf(function(ya){var Da;Da=ya.Gb.get(ja.cEa);return function(){return new Da(!0);};});ua(N.Yfb).Pf(function(){return function(ya){return new V.Zfb(ya);};});ua(la.q4).Pf(function(ya){return function(Da,Ja,Ka){return new ba.wcb(ya.Gb.get(I.wB),ya.Gb.get(fa.Fc),ya.Gb.get(ha.Ps),Da,Ja,Ka);};});ua(x.Yab).Pf(function(){return function(ya){return new G.Zab(ya);};});ua(pa.gU).to(ia.Lxa);ua(Ba.cia).to(oa.HFa).pa();ua(Ba.$fb).to(oa.GFa).pa();ua(ea.J4).Pf(function(ya){return function(Da,Ja){return new ka.qFa(ya.Gb.get(c.kl),Da,Ja);};});ua(qa.H6a).to(xa.kza).pa();ua(va.Yxa).to(za.Wxa).pa();});},90030:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mj="_ANY_";b.H6a="EnricherSymbol";},15160:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qza="EventSourceSymbol";b.Fza="GlobalEventSourceSymbol";b.Lfa="DebugEventSourceSymbol";b.M5a="DiagnosticsEventSourceSymbol";},44720:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.N2="EventSourceFactorySymbol";},62665:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xE="IdProviderSymbol";},42207:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.wi="IsTypeSymbol";},43193:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.IU={};t[t.pWc=8]="Backspace";t[t.O0c=9]="Tab";t[t.TXc=13]="Enter";t[t.z0c=16]="Shift";t[t.QWc=17]="Ctrl";t[t.KVc=18]="Alt";t[t.v_c=19]="PauseBreak";t[t.IWc=20]="CapsLock";t[t.VXc=27]="Escape";t[t.C0c=32]="Space";t[t.u_c=33]="PageUp";t[t.t_c=34]="PageDown";t[t.SXc=35]="End";t[t.yYc=36]="Home";t[t.TYc=37]="LeftArrow";t[t.$0c=38]="UpArrow";t[t.O_c=39]="RightArrow";t[t.sXc=40]="DownArrow";t[t.OYc=45]="Insert";t[t.iXc=46]="Delete";t[t.n1c=48]="Zero";t[t.g_c=49]="One";t[t.R0c=50]="Two";t[t.P0c=51]="Three";t[t.qYc=52]="Four";t[t.oYc=53]="Five";t[t.A0c=54]="Six";t[t.y0c=55]="Seven";t[t.RXc=56]="Eight";t[t.QZc=57]="Nine";t[t.zVc=65]="A";t[t.nfa=66]="B";t[t.vWc=67]="C";t[t.qSb=68]="D";t[t.E=69]="E";t[t.WXc=70]="F";t[t.Dza=71]="G";t[t.wYc=72]="H";t[t.zYc=73]="I";t[t.PYc=74]="J";t[t.vAa=75]="K";t[t.$Ub=76]="L";t[t.nBa=77]="M";t[t.qZc=78]="N";t[t.c_c=79]="O";t[t.i_c=80]="P";t[t.Q=81]="Q";t[t.K_c=82]="R";t[t.Q_c=83]="S";t[t.rZb=84]="T";t[t.S0c=85]="U";t[t.a1c=86]="V";t[t.f1c=87]="W";t[t.i1c=88]="X";t[t.l1c=89]="Y";t[t.m1c=90]="Z";t[t.UYc=91]="LeftWindowKey";t[t.P_c=92]="RightWindowKey";t[t.v0c=93]="SelectKey";t[t.TZc=96]="Numpad0";t[t.UZc=97]="Numpad1";t[t.VZc=98]="Numpad2";t[t.WZc=99]="Numpad3";t[t.XZc=100]="Numpad4";t[t.YZc=101]="Numpad5";t[t.ZZc=102]="Numpad6";t[t.$Zc=103]="Numpad7";t[t.a_c=104]="Numpad8";t[t.b_c=105]="Numpad9";t[t.pZc=106]="Multiply";t[t.JVc=107]="Add";t[t.I0c=109]="Subtract";t[t.hXc=110]="DecimalPoint";t[t.rXc=111]="Divide";t[t.XXc=112]="F1";t[t.aYc=113]="F2";t[t.bYc=114]="F3";t[t.cYc=115]="F4";t[t.dYc=116]="F5";t[t.eYc=117]="F6";t[t.fYc=118]="F7";t[t.gYc=119]="F8";t[t.hYc=120]="F9";t[t.YXc=121]="F10";t[t.ZXc=122]="F11";t[t.$Xc=123]="F12";t[t.RZc=144]="NumLock";t[t.t0c=145]="ScrollLock";t[t.w0c=186]="SemiColon";t[t.UXc=187]="Equals";t[t.NWc=188]="Comma";t[t.eXc=189]="Dash";t[t.x_c=190]="Period";t[t.pYc=191]="ForwardSlash";t[t.Q0c=192]="Tilde";t[t.h_c=219]="OpenBracket";t[t.oWc=220]="BackSlash";t[t.KWc=221]="CloseBracket";t[t.J_c=222]="Quote";},67572:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yab="OneWayCounterFactorySymbol";},91591:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bya="DecoderTimeoutPathologistSymbol";},91581:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ps="PlatformSymbol";},63368:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dgb="WindowTimersSymbol";b.HU="JSONSymbol";b.agb="UserAgentSymbol";b.i4="NavigatorSymbol";b.ZVb="MediaSourceSymbol";b.R9a="LocationSymbol";b.A5a="DateSymbol";b.dha="PerformanceSymbol";b.fha="PlatformExtraInfoSymbol";},79274:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.q4="PlayerErrorFactorySymbol";},78789:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cEa="PrioritizedSetOfListsSymbol";b.mYb="PrioritizedSetOfListsFactorySymbol";b.nYb="PrioritizedSetOfSetsFactorySymbol";},59818:function(t,b){function a(d){var n;n=Error.call(this,"TimeoutError");this.message=n.message;("stack" in n) && (this.stack=n.stack);this.interval=d;}Object.defineProperty(b,"__esModule",{value:!0});b.HE=b.Fw=void 0;Ia(a,Error);b.Fw=a;b.HE="PromiseTimerSymbol";},10306:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.afb="SystemRandomSymbol";b.wha="RandomGeneratorSymbol";},53085:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kl="SchedulerSymbol";},88490:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yeb="StringUtilsSymbol";},14423:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.iFa=void 0;n=a(22365);d.lvb=function(){var c;c=n.vI && n.vI.height;return c?1080 <= c?1080:720:720;};b.iFa=d;},45842:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.EI="ThrottleFactorySymbol";},4246:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.J4="TimeoutMonitorFactorySymbol";},77134:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.rV="TimingApiSymbol";b.d4="MilestoneTimingApiSymbol";},77687:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yfb="UrlFactorySymbol";},84408:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PE="Utf8EncoderSymbol";},74870:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cm="UtilitiesSymbol";},36258:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ubb="PboPlaydataValidatorSymbol";b.Qbb="PboPlaydataArrayValidatorSymbol";b.Rbb="PboPlaydataCollectionValidatorSymbol";},63156:function(t,b){var d,n,c,h;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.qu=b.lb=b.tn=void 0;(function(f){f[f.Zq=0]="STANDARD";f[f.oI=1]="LIMITED";f[f.m_c=2]="PREVIEW";})(d || (d={}));(function(f){f[f.HAVE_NOTHING=0]="HAVE_NOTHING";f[f.HAVE_METADATA=1]="HAVE_METADATA";f[f.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";f[f.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";f[f.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(n || (n={}));(function(f){f.JQb="asl_start";f.HQb="asl_comp";f.HVc="asl_exc";f.IQb="asl_fail";f.bZb="stf_creat";f.sUb="idb_open";f.pUb="idb_block";f.zUb="idb_upgr";f.yUb="idb_succ";f.qUb="idb_error";f.rUb="idb_invalid_state";f.uUb="idb_open_timeout";f.wUb="idb_open_wrkarnd";f.xUb="idb_storelen_exc";f.tUb="idb_open_exc";f.vUb="idb_timeout_invalid_storelen";f.QVb="msl_load_data";f.SVb="msl_load_no_data";f.RVb="msl_load_failed";})(c || (b.tn=c={}));(function(f){f.ECa="PlaybackRequestStart";f.DCa="PlaybackRequestEnd";f.tha="RequestPrefetchManifestStart";f.sha="RequestPrefetchManifestEnd";f.rha="RequestManifestStart";f.qha="RequestManifestEnd";f.pha="RequestLicenseStart";f.oha="RequestLicenseEnd";f.q2="RequestTimedTextUrlStart";f.p2="RequestTimedTextUrlEnd";f.o2="RequestAudioUrlStart";f.n2="RequestAudioUrlEnd";f.s2="RequestVideoUrlStart";f.r2="RequestVideoUrlEnd";f.Gwa="AppendBufferStart";f.Fwa="AppendBufferEnd";f.zEa="SetMediaKeysStart";f.yEa="SetMediaKeysEnd";f.$fa="GenerateChallengeStart";f.Zfa="GenerateChallengeEnd";f.afa="ApplyLicenseStart";f.$ea="ApplyLicenseEnd";})(h || (b.lb=h={}));b.qu=a;a.tn=c;a.mI=n;},36129:function(t,b){var a,d,n;Object.defineProperty(b,"__esModule",{value:!0});b.uE=b.L6a=b.K6a=b.nza=b.J6a=b.Xfa=b.Jga=b.jga=b.FTb=b.Y=b.ca=void 0;(function(c){c[c.mh=7001]="UNKNOWN";c[c.Mfb=7002]="UNHANDLED_EXCEPTION";c[c.CUb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";c[c.$Tb=7004]="HLS_NOT_SUPPORTED";c[c.cAa=7010]="INIT_ASYNCCOMPONENT";c[c.GUb=7011]="INIT_HTTP";c[c.AUb=7014]="INIT_BADMOVIEID";c[c.y8a=7020]="INIT_PLAYBACK_LOCK";c[c.z8a=7022]="INIT_SESSION_LOCK";c[c.HUb=7029]="INIT_POSTAUTHORIZE";c[c.x8a=7031]="INIT_HEADER_MEDIA";c[c.IUb=7034]="INIT_TIMEDTEXT_TRACK";c[c.AQb=7037]="ASE_SESSION_ERROR";c[c.zQb=7038]="ASE_SEEK_THREW";c[c.BQb=7039]="ASE_SKIPPED_THREW";c[c.CQb=7040]="ASE_UNDERFLOW_THREW";c[c.DUb=7041]="INIT_CORE_OBJECTS1";c[c.EUb=7042]="INIT_CORE_OBJECTS2";c[c.FUb=7043]="INIT_CORE_OBJECTS3";c[c.r8a=7053]="INIT_COMPONENT_STORAGE";c[c.s8a=7054]="INIT_COMPONENT_STORAGELOCK";c[c.n8a=7058]="INIT_COMPONENT_MAINTHREADMONITOR";c[c.dAa=7059]="INIT_COMPONENT_DEVICE";c[c.o8a=7063]="INIT_COMPONENT_MSL";c[c.m8a=7066]="INIT_COMPONENT_LOGBLOBBATCHER";c[c.nI=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";c[c.w8a=7083]="INIT_COMPONENT_WEBCRYPTO";c[c.l8a=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";c[c.j8a=7088]="INIT_COMPONENT_BATTERY_MANAGER";c[c.i8a=7089]="INIT_COMPONENT_ASE";c[c.EYc=7091]="INIT_COMPONENT_DRM_CACHE";c[c.BUb=7092]="INIT_COMPONENT_DRM";c[c.k8a=7094]="INIT_COMPONENT_FTL";c[c.p8a=7095]="INIT_COMPONENT_PREPARE_MODEL";c[c.t8a=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";c[c.u8a=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";c[c.v8a=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";c[c.q8a=7099]="INIT_COMPONENT_SOCKETROUTER";c[c.yN=7111]="MANIFEST";c[c.jVb=7114]="MANIFEST_MISTMATCH";c[c.c$a=7117]="MANIFEST_VERIFY";c[c.aZb=7120]="START";c[c.k9a=7121]="LICENSE";c[c.N_c=7122]="RELEASE";c[c.z4=7123]="STOP";c[c.W8a=7125]="KEEPALIVE";c[c.sXb=7131]="PING";c[c.ATb=7134]="ENGAGE";c[c.eVb=7137]="LOGBLOB";c[c.bbb=7138]="PAUSE";c[c.pdb=7139]="RESUME";c[c.Wdb=7140]="SPLICE";c[c.dRb=7142]="BIND";c[c.eRb=7144]="BIND_DEVICE";c[c.RTb=7145]="GENERATE_SCREENSHOTS";c[c.k2a=7146]="AD_EVENT";c[c.uXb=7147]="PLAYER_RESTART";c[c.tQb=7148]="ALE_PROVISION_FAILURE";c[c.Y_c=7200]="SOCKET_ROUTER_FAILURE";c[c.yXb=7202]="PLAY_INIT_EXCEPTION";c[c.FCa=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";c[c.FXb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";c[c.kbb=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";c[c.GXb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";c[c.GCa=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";c[c.EXb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";c[c.mbb=7351]="PLAY_MSE_NOTSUPPORTED";c[c.jbb=7353]="PLAY_MSE_DECODER_TIMEOUT";c[c.HCa=7355]="PLAY_MSE_SOURCEADD";c[c.zXb=7356]="PLAY_MSE_CREATE_MEDIAKEYS";c[c.IXb=7357]="PLAY_MSE_GENERATEKEYREQUEST";c[c.lbb=7361]="PLAY_MSE_EVENT_ERROR";c[c.nbb=7362]="PLAY_MSE_SETMEDIAKEYS";c[c.$ga=7363]="PLAY_MSE_EVENT_KEYERROR";c[c.HXb=7364]="PLAY_MSE_EME_SESSION_CLOSE";c[c.JXb=7365]="PLAY_MSE_GETCURRENTTIME";c[c.KXb=7367]="PLAY_MSE_SETCURRENTTIME";c[c.LXb=7371]="PLAY_MSE_SOURCEAPPEND";c[c.PXb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";c[c.OXb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";c[c.NXb=7377]="PLAY_MSE_UNEXPECTED_REWIND";c[c.MXb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";c[c.pbb=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";c[c.AXb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";c[c.BXb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";c[c.CXb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";c[c.j_c=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";c[c.k_c=7395]="PLAY_MSE_EME_MISSING_PSSH";c[c.l_c=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";c[c.DXb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";c[c.obb=7399]="PLAY_MSE_SET_LICENSE_ERROR";c[c.r6a=7400]="EXTERNAL";c[c.Zga=7500]="PAUSE_TIMEOUT";c[c.mga=7502]="INACTIVITY_TIMEOUT";c[c.KQb=7510]="AUTHORIZATION_EXPIRED";c[c.uTb=7700]="EME_INVALID_KEYSYSTEM";c[c.g6a=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";c[c.Tya=7702]="EME_CREATE_MEDIAKEYS_FAILED";c[c.Tfa=7703]="EME_GENERATEREQUEST_FAILED";c[c.m6a=7704]="EME_UPDATE_FAILED";c[c.yXc=7705]="EME_KEYSESSION_ERROR";c[c.k6a=7706]="EME_KEYMESSAGE_EMPTY";c[c.JXc=7707]="EME_REMOVE_FAILED";c[c.BXc=7708]="EME_LOAD_FAILED";c[c.sTb=7709]="EME_CREATE_SESSION_FAILED";c[c.Vya=7710]="EME_LDL_RENEWAL_ERROR";c[c.i6a=7711]="EME_INVALID_INITDATA_DATA";c[c.j6a=7712]="EME_INVALID_LICENSE_DATA";c[c.AXc=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";c[c.f6a=7716]="EME_CLOSE_FAILED";c[c.Wya=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";c[c.xTb=7718]="EME_SET_SERVER_CERTIFICATE";c[c.tXb=7800]="PLAYDATA_STORE_FAILURE";c[c.h2=7900]="BRANCH_PLAY_FAILURE";c[c.i2=7901]="BRANCH_QUEUE_FAILURE";c[c.T3a=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";c[c.lRb=7903]="BRANCH_CHOICE_MAP_MISSING";c[c.dXb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a || (b.ca=a={}));(function(c){c[c.mh=1001]="UNKNOWN";c[c.Sq=1003]="EXCEPTION";c[c.MUb=1004]="INVALID_DI";c[c.FQb=1011]="ASYNCLOAD_EXCEPTION";c[c.GQb=1013]="ASYNCLOAD_TIMEOUT";c[c.GVc=1015]="ASYNCLOAD_BADCONFIG";c[c.DQb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";c[c.EQb=1017]="ASYNCLOAD_COMPONENT_MISSING";c[c.C3=1101]="HTTP_UNKNOWN";c[c.Vza=1102]="HTTP_XHR";c[c.y3=1103]="HTTP_PROTOCOL";c[c.x3=1104]="HTTP_OFFLINE";c[c.B3=1105]="HTTP_TIMEOUT";c[c.oN=1106]="HTTP_READTIMEOUT";c[c.nN=1107]="HTTP_ABORT";c[c.L7a=1108]="HTTP_PARSE";c[c.H7a=1110]="HTTP_BAD_URL";c[c.z3=1111]="HTTP_PROXY";c[c.tBa=1203]="MSE_AUDIO";c[c.uBa=1204]="MSE_VIDEO";c[c.LVb=1250]="MSE_MEDIA_ERR_BASE";c[c.cZc=1251]="MSE_MEDIA_ERR_ABORTED";c[c.fZc=1252]="MSE_MEDIA_ERR_NETWORK";c[c.dZc=1253]="MSE_MEDIA_ERR_DECODE";c[c.gZc=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";c[c.eZc=1255]="MSE_MEDIA_ERR_ENCRYPTED";c[c.sU=1260]="EME_MEDIA_KEYERR_BASE";c[c.HXc=1261]="EME_MEDIA_KEYERR_UNKNOWN";c[c.CXc=1262]="EME_MEDIA_KEYERR_CLIENT";c[c.GXc=1263]="EME_MEDIA_KEYERR_SERVICE";c[c.FXc=1264]="EME_MEDIA_KEYERR_OUTPUT";c[c.EXc=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";c[c.DXc=1266]="EME_MEDIA_KEYERR_DOMAIN";c[c.IXc=1269]="EME_MEDIA_UNAVAILABLE_CDM";c[c.tTb=1270]="EME_INTERNAL_ERROR";c[c.rTb=1271]="EME_CLOSED_BY_APPLICATION";c[c.vTb=1272]="EME_RELEASE_ACKNOWLEDGED";c[c.Uya=1273]="EME_HARDWARE_CONTEXT_RESET";c[c.wTb=1274]="EME_RESOURCE_EVICTED";c[c.wXc=1280]="EME_ERROR_NODRMSESSSION";c[c.vXc=1281]="EME_ERROR_NODRMREQUESTS";c[c.uXc=1282]="EME_ERROR_INDIV_FAILED";c[c.xXc=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";c[c.LXc=1284]="EME_TIMEOUT_MESSAGE";c[c.KXc=1285]="EME_TIMEOUT_KEYCHANGE";c[c.l6a=1286]="EME_UNDEFINED_DATA";c[c.Ufa=1287]="EME_INVALID_STATE";c[c.zXc=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";c[c.h6a=1289]="EME_EMPTY_DATA";c[c.J2=1290]="EME_TIMEOUT";c[c.yZc=1303]="NCCP_METHOD_NOT_SUPPORTED";c[c.BZc=1305]="NCCP_PARSEXML";c[c.SXb=1309]="PROCESS_EXCEPTION";c[c.AZc=1311]="NCCP_NETFLIXID_MISSING";c[c.CZc=1312]="NCCP_SECURENETFLIXID_MISSING";c[c.vZc=1313]="NCCP_HMAC_MISSING";c[c.uZc=1315]="NCCP_HMAC_MISMATCH";c[c.tZc=1317]="NCCP_HMAC_FAILED";c[c.sZc=1321]="NCCP_CLIENTTIME_MISSING";c[c.rZc=1323]="NCCP_CLIENTTIME_MISMATCH";c[c.e7a=1331]="GENERIC";c[c.iWb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";c[c.jWb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";c[c.DZc=1341]="NCCP_TRANSACTION";c[c.wZc=1343]="NCCP_INVALID_DRMTYPE";c[c.xZc=1344]="NCCP_INVALID_LICENCE_RESPONSE";c[c.zZc=1345]="NCCP_MISSING_PAYLOAD";c[c.r_c=1346]="PROTOCOL_NOT_INITIALIZED";c[c.q_c=1347]="PROTOCOL_MISSING_FIELD";c[c.p_c=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";c[c.KE=1402]="STORAGE_NODATA";c[c.a0c=1403]="STORAGE_EXCEPTION";c[c.i0c=1405]="STORAGE_QUOTA_NOT_GRANTED";c[c.j0c=1407]="STORAGE_QUOTA_TO_SMALL";c[c.Zdb=1411]="STORAGE_LOAD_ERROR";c[c.cZb=1412]="STORAGE_LOAD_TIMEOUT";c[c.$db=1414]="STORAGE_SAVE_ERROR";c[c.fZb=1415]="STORAGE_SAVE_TIMEOUT";c[c.GEa=1417]="STORAGE_DELETE_ERROR";c[c.Ydb=1418]="STORAGE_DELETE_TIMEOUT";c[c.h0c=1421]="STORAGE_FS_REQUESTFILESYSTEM";c[c.e0c=1423]="STORAGE_FS_GETDIRECTORY";c[c.g0c=1425]="STORAGE_FS_READENTRIES";c[c.b0c=1427]="STORAGE_FS_FILEREAD";c[c.d0c=1429]="STORAGE_FS_FILEWRITE";c[c.c0c=1431]="STORAGE_FS_FILEREMOVE";c[c.f0c=1432]="STORAGE_FS_PARSEJSON";c[c.eZb=1451]="STORAGE_NO_LOCALSTORAGE";c[c.dZb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";c[c.NZc=1501]="NTBA_UNKNOWN";c[c.MZc=1502]="NTBA_EXCEPTION";c[c.IZc=1504]="NTBA_CRYPTO_KEY";c[c.KZc=1506]="NTBA_CRYPTO_OPERATION";c[c.JZc=1508]="NTBA_CRYPTO_KEYEXCHANGE";c[c.LZc=1515]="NTBA_DECRYPT_UNSUPPORTED";c[c.s5a=1553]="DEVICE_NO_ESN";c[c.zSb=1555]="DEVICE_ERROR_GETTING_ESN";c[c.lYc=1701]="FORMAT_UNKNOWN";c[c.KTb=1713]="FORMAT_XML";c[c.mYc=1715]="FORMAT_XML_CONTENT";c[c.jYc=1721]="FORMAT_BASE64";c[c.kYc=1723]="FORMAT_DFXP";c[c.nUb=1801]="INDEXDB_OPEN_EXCEPTION";c[c.g8a=1802]="INDEXDB_NOT_SUPPORTED";c[c.mUb=1803]="INDEXDB_OPEN_ERROR";c[c.h8a=1804]="INDEXDB_OPEN_NULL";c[c.lUb=1805]="INDEXDB_OPEN_BLOCKED";c[c.oUb=1807]="INDEXDB_OPEN_TIMEOUT";c[c.kUb=1808]="INDEXDB_INVALID_STORE_STATE";c[c.nga=1809]="INDEXDB_ACCESS_EXCEPTION";c[c.TVb=1901]="MSL_UNKNOWN";c[c.jZc=1911]="MSL_INIT_NO_MSL";c[c.k$a=1913]="MSL_INIT_ERROR";c[c.PVb=1915]="MSL_INIT_NO_WEBCRYPTO";c[c.NVb=1931]="MSL_ERROR";c[c.m$a=1933]="MSL_REQUEST_TIMEOUT";c[c.l$a=1934]="MSL_READ_TIMEOUT";c[c.OVb=1935]="MSL_ERROR_HEADER";c[c.hZc=1936]="MSL_ERROR_ENVELOPE";c[c.iZc=1937]="MSL_ERROR_MISSING_PAYLOAD";c[c.j$a=1957]="MSL_ERROR_REAUTH";c[c.VFa=2103]="WEBCRYPTO_MISSING";c[c.g1c=2105]="WEBCRYPTOKEYS_MISSING";c[c.WZb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";c[c.wWc=2200]="CACHEDDATA_PARSEJSON";c[c.ORb=2201]="CACHEDDATA_UNSUPPORTED_VERSION";c[c.xWc=2202]="CACHEDDATA_UPGRADE_FAILED";c[c.sfa=2203]="CACHEDDATA_INVALID_FORMAT";c[c.CVc=3E3]="ACCOUNT_CHANGE_INFLIGHT";c[c.DVc=3001]="ACCOUNT_INVALID";c[c.dXc=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";c[c.cXc=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";c[c.aXc=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";c[c.bXc=3201]="DOWNLOADED_LICENSE_UNUSEABLE";c[c.$Wc=3202]="DOWNLOADED_LICENSE_EXCEPTION";c[c.k0c=3300]="STORAGE_VA_LOAD_ERROR";c[c.l0c=3301]="STORAGE_VA_LOAD_TIMEOUT";c[c.o0c=3302]="STORAGE_VA_SAVE_ERROR";c[c.p0c=3303]="STORAGE_VA_SAVE_TIMEOUT";c[c.m0c=3304]="STORAGE_VA_REMOVE_ERROR";c[c.n0c=3305]="STORAGE_VA_REMOVE_TIMEOUT";c[c.BCa=3077]="PBO_DEVICE_EOL_WARNING";c[c.cbb=3078]="PBO_DEVICE_EOL_FINAL";c[c.fbb=3100]="PBO_DEVICE_RESET";c[c.ebb=3101]="PBO_DEVICE_RELOAD";c[c.dbb=3102]="PBO_DEVICE_EXIT";c[c.qXb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";c[c.TWb=5005]="PBO_ACCOUNT_ON_HOLD";c[c.bXb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";c[c.CCa=5007]="PBO_INCORRECT_PIN";c[c.nXb=5008]="PBO_MOBILE_ONLY";c[c.rXb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";c[c.UWb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";c[c.XWb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";c[c.VWb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";c[c.WWb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";c[c.YWb=5014]="PBO_ADS_VPN_USE_DETECTED";c[c.kXb=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";c[c.jXb=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";c[c.cXb=5017]="PBO_CONTENT_PREVIEW_MFA_REQUIRED_EXCEPTION";c[c.hXb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";c[c.$Wb=5059]="PBO_BLACKLISTED_IP";c[c.ZWb=5070]="PBO_AGE_VERIFICATION_REQUIRED";c[c.aXb=5080]="PBO_CHOICE_MAP_ERROR";c[c.oXb=5090]="PBO_RESTRICTED_TO_TESTERS";c[c.lXb=5091]="PBO_MALFORMED_REQUEST";c[c.iXb=5092]="PBO_INVALID_SERVICE_VERSION";c[c.mXb=5093]="PBO_MDX_INVALID_CTICKET";c[c.gXb=5094]="PBO_FREE_PREVIEW_ENDED";c[c.pXb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";c[c.fXb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";c[c.eXb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";c[c.tSb=5100]="DECODER_TIMEOUT_BUFFERING";c[c.vSb=5101]="DECODER_TIMEOUT_PRESENTING";c[c.uSb=5102]="DECODER_TIMEOUT_PLAYING";c[c.aTb=5200]="DOWNLOADER_IO_ERROR";c[c.S3a=5300]="BRANCHING_SEGMENT_NOTFOUND";c[c.hRb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";c[c.bWc=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";c[c.Cxa=5303]="BRANCHING_ASE_UNINITIALIZED";c[c.YVc=5304]="BRANCHING_ASE_FAILURE";c[c.ZVc=5305]="BRANCHING_MOMENT_FAILURE";c[c.fRb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";c[c.aWc=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";c[c.iRb=5308]="BRANCHING_SEEK_THREW";c[c.$Vc=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";c[c.gRb=5310]="BRANCHING_PLAY_TIMEDOUT";c[c.jRb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";c[c.kRb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";c[c.gZb=5500]="STUDIO_MUXED_MANIFEST";c[c.pBa=5600]="MANIFEST_HYDRATION_FAILURE";c[c.MQb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";c[c.NQb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";c[c.LQb=5702]="AUXILIARY_MANIFEST_ADBREAK_HYDRATION_FATAL_ERROR";})(d || (b.Y=d={}));(function(c){c[c.mWc=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";c[c.cWc=5005]="BR_ACCOUNT_ON_HOLD";c[c.gWc=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";c[c.jWc=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";c[c.fWc=5059]="BR_BLACKLISTED_IP";c[c.dWc=5070]="BR_AGE_VERIFICATION_REQUIRED";c[c.kWc=2204]="BR_PLAYBACK_CONTEXT_CREATION";c[c.hWc=2205]="BR_DRM_LICENSE_AQUISITION";c[c.lWc=2206]="BR_PLAYBACK_SERVICE_ERROR";c[c.iWc=2207]="BR_ENDPOINT_ERROR";c[c.eWc=2208]="BR_AUTHORIZATION_ERROR";})(n || (b.FTb=n={}));b.jga={sRb:"400",Wfb:"401",Cbb:"413"};b.Jga={fa:1,ar:2,gg:3,Le:4,K3:5,Uh:6,$c:7,K2:8,jEa:9,Hha:10};b.Xfa=function(c,h,f,e){return c == a.Zga || c == a.mga || c == a.FCa && 432E5 <= f || c == a.Wya && h === d.Uya && 0 < Number(e);};b.J6a=function(c){return 1100 <= c && 1199 >= c;};b.nza=function(c,h){return 1 <= c && 9 >= c?h + c:h;};b.K6a=function(c){return (0,b.nza)(c,d.LVb);};b.L6a=function(c){return (0,b.nza)(c,d.sU);};b.uE=function(c){var h,f,e;h={};f=c.errorExternalCode || c.Fg;e=c.errorDetails || c.jf;h.ErrorSubCode=c.errorSubCode || c.Sa || d.mh;f && (h.ErrorExternalCode=f);e && (h.ErrorDetails=e);return h;};},9002:function(t,b,a){var n,c,h,f;function d(e,g){this.La=e;this.ina=this.La.Eg.oa(h.ya) - 1;this.wxc=this.Kpa=0;this.id="" + g.NF();}Object.defineProperty(b,"__esModule",{value:!0});b.ixa=void 0;t=a(22970);n=a(22674);c=a(30869);h=a(5021);a=a(62665);d.prototype.wc=function(){var e,g;e=this.La.Eg.oa(h.ya) - this.ina;if(e < this.Kpa){g=this.Kpa + 1;this.ina-=g - e;e=g;}this.Kpa=e;return (0,h.ec)(this.Kpa);};d.prototype.Rnc=function(){return this.wxc++;};Ha.Object.defineProperties(d.prototype,{GG:{configurable:!0,enumerable:!0,get:function(){return (0,h.ec)(this.ina);}}});f=d;b.ixa=f;b.ixa=f=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.vi)),t.__param(1,(0,n.u)(a.xE))],f);},33543:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Dxa=void 0;t=a(22970);a=a(22674);n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};d.prototype.decode=function(h){for(var f=new Uint8Array(h.length / 2),e=0;e < f.length;e++)f[e]=this.kNb(h.substr(2 * e,2));return f;};d.prototype.encode=function(h){var k;for(var f="",e=h.length,g=0;g < e;g++){k=h[g];f+=("0123456789ABCDEF")[k >>> 4] + ("0123456789ABCDEF")[k & 15];}return f;};d.prototype.fna=function(h,f){var e;e="";for(f<<=1;f--;)(e=(("0123456789ABCDEF")[h & 15] || "0") + e,h>>>=4);return e;};d.prototype.kNb=function(h){var f;f=h.length;if(7 < f)throw Error("hex to long");for(var e=0,g=0;g < f;g++)e=16 * e + n[h[g]];return e;};c=d;b.Dxa=c;b.Dxa=c=t.__decorate([(0,a.$)()],c);},30033:function(t,b,a){var n,c,h,f,e,g,k,l;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Exa=void 0;t=a(22970);a=a(22674);c=Array.prototype.slice;h=c.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");c=c.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");f={};e={};g={};k={};l=/\s+/g;[h,c].forEach(function(m){var r;for(var p=m.length;p--;){r=m[p];f[r]=p << 18;e[r]=p << 12;g[r]=p << 6;k[r]=p;}});d.prototype.encode=function(m){return n.dNa(m,h,"=");};d.prototype.decode=function(m){return n.YLa(m);};d.YLa=function(m){var p,r,q;m=m.replace(l,"");p=m.length;r=m.charAt(p - 1);"=" !== r && "." !== r || p--;r=m.charAt(p - 1);"=" !== r && "." !== r || p--;r=3 * (p >> 2);q=0;switch(p % 4){case 2:q=1;break;case 3:q=2;break;case 1:throw Error("bad base64");}p=new Uint8Array(r + q);for(var u=0,v=0,w;v < r;){w=f[m[u++]] + e[m[u++]] + g[m[u++]] + k[m[u++]];if(!(0 <= w && 16777215 >= w))throw Error("bad base64");p[v++]=w >>> 16;p[v++]=w >>> 8 & 255;p[v++]=w & 255;}if(0 < q && (w=f[m[u++]] + e[m[u++]],p[v++]=w >>> 16,1 < q && (w+=g[m[u++]],p[v++]=w >>> 8 & 255),!(0 <= w && 16776960 >= w && 0 === (w & (1 < q?255:65535)))))throw Error("bad base64");return p;};d.dNa=function(m,p,r){for(var q="",u=0,v=m.length,w=v - 2,x;u < w;){x=(m[u++] << 16) + (m[u++] << 8) + m[u++];if(!(0 <= x && 16777215 >= x))throw Error("not bytes");q+=p[x >>> 18] + p[x >>> 12 & 63] + p[x >>> 6 & 63] + p[x & 63];}if(u == w){x=(m[u++] << 8) + m[u++];if(!(0 <= x && 65535 >= x))throw Error("not bytes");q+=p[x >>> 10] + p[x >>> 4 & 63] + p[x << 2 & 63] + r;}else if(u == v - 1){x=m[u++];if(!(0 <= x && 255 >= x))throw Error("not bytes");q+=p[x >>> 2] + p[x << 4 & 63] + r + r;}return q;};c=n=d;b.Exa=c;b.Exa=c=n=t.__decorate([(0,a.$)()],c);},66057:function(t,b,a){var n,c,h,f,e,g;function d(k,l,m){this.userAgentData=m;this.Ge=this.Zic(k,l.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.UZb=b.Lxa=void 0;t=a(22970);n=a(22674);c=a(4203);h=a(83767);f=a(63368);a=a(75236);d.prototype.hoa=function(k,l){var m;if(l=this.uqc(l))switch(k){case g.LG:m=0 < l.length?Number(l[0]):0;break;case g.XZ:m=1 < l.length?Number(l[1]):0;break;case g.I_:m=2 < l.length?Number(l[2]):0;break;case g.bua:m=3 < l.length?Number(l[3]):0;}return void 0 === m || isNaN(m)?0:m;};d.prototype.uqc=function(k){return null === k || void 0 === k?void 0:k.split(".");};d.prototype.GK=function(k){return this.Ge.name === k;};d.prototype.NQ=function(k){return this.Ge.hsa.name === k;};d.prototype.Utc=function(k){return this.Ge.irc === k;};d.prototype.Zic=function(k,l){return Object.assign(Object.assign({irc:this.ajc(k,l)},this.Yic(k,l)),{hsa:this.cjc(k,l)});};d.prototype.ajc=function(k,l){return l && l.hardware?l.hardware:(/Mobile|iPhone/).test(k)?c.D3.phone:(/Android/).test(k)?c.D3.zQc:c.D3.I$b;};d.prototype.Yic=function(k,l){return l && l.name && l.version?{name:l.name,version:l.version}:(/OPR/).test(k)?{name:c.ln.opera,version:""}:(/Tesla/).test(k)?{name:c.ln.MMb,version:""}:(/Quest/).test(k)?{name:c.ln.VGb,version:""}:(l=k.match(/Edge\/(\d*)\./))?{name:c.ln.hv,version:l[1]}:(l=k.match(/Edg\/(\d*)\./))?{name:c.ln.Aqb,version:l[1]}:(l=k.match(/Chrome\/(\d*)\./))?{name:c.ln.xKa,version:l[1]}:(l=k.match(/Firefox\/(\d*)\./))?{name:c.ln.Asb,version:l[1]}:(k=k.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:c.ln.ZIb,version:k[1]}:{name:c.ln.xKa,version:""};};d.prototype.cjc=function(k,l){return l && l.os && l.os.name && l.os.version?{name:l.os.name,version:l.os.version}:(/CrOS/).test(k)?{name:c.Wq.Nmb,version:""}:(l=k.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:c.Wq.HAb,version:l[1] + "." + l[2] + "." + l[3]}:(/Windows NT/).test(k)?{name:c.Wq.b2a,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(k) || (/Android.*Chrome\/[.0-9]* /).test(k)?{name:c.Wq.XIa,version:""}:(/Linux/).test(k)?{name:c.Wq.$zb,version:""}:(/iPhone/).test(k)?{name:c.Wq.Sxb,version:""}:{name:c.Wq.b2a,version:""};};Ha.Object.defineProperties(d.prototype,{ayb:{configurable:!0,enumerable:!0,get:function(){return this.GK(c.ln.xKa);}},YRa:{configurable:!0,enumerable:!0,get:function(){return this.GK(c.ln.hv);}},fpa:{configurable:!0,enumerable:!0,get:function(){return this.GK(c.ln.Aqb);}},jpa:{configurable:!0,enumerable:!0,get:function(){return this.GK(c.ln.Asb);}},oSa:{configurable:!0,enumerable:!0,get:function(){return this.GK(c.ln.opera);}},G$:{configurable:!0,enumerable:!0,get:function(){return this.GK(c.ln.ZIb);}},Cyb:{configurable:!0,enumerable:!0,get:function(){return this.GK(c.ln.MMb);}},rpa:{configurable:!0,enumerable:!0,get:function(){return this.GK(c.ln.VGb);}},m$:{configurable:!0,enumerable:!0,get:function(){return this.NQ(c.Wq.XIa);}},LQ:{configurable:!0,enumerable:!0,get:function(){return this.NQ(c.Wq.Sxb);}},$oa:{configurable:!0,enumerable:!0,get:function(){return this.NQ(c.Wq.XIa) && this.Utc(c.D3.phone);}},o$:{configurable:!0,enumerable:!0,get:function(){return this.NQ(c.Wq.Nmb);}},gSa:{configurable:!0,enumerable:!0,get:function(){return this.NQ(c.Wq.$zb);}},OC:{configurable:!0,enumerable:!0,get:function(){return this.NQ(c.Wq.HAb);}},nA:{configurable:!0,enumerable:!0,get:function(){return this.NQ(c.Wq.b2a);}},Yu:{configurable:!0,enumerable:!0,get:function(){return this.hoa(g.LG,this.Ge.version);}},oDc:{configurable:!0,enumerable:!0,get:function(){return this.hoa(g.LG,this.Ge.hsa.version);}},pDc:{configurable:!0,enumerable:!0,get:function(){return this.hoa(g.XZ,this.Ge.hsa.version);}},qDc:{configurable:!0,enumerable:!0,get:function(){return this.hoa(g.I_,this.Ge.hsa.version);}}});e=d;b.Lxa=e;b.Lxa=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(f.agb)),t.__param(1,(0,n.u)(h.rN)),t.__param(2,(0,n.u)(a.cia))],e);(function(k){k[k.LG=0]="major";k[k.XZ=1]="minor";k[k.I_=2]="patch";k[k.bua=3]="revision";})(g || (b.UZb=g={}));},19699:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r;function d(q,u,v,w,x,y){this.Es=q;this.config=v;this.np=w;this.La=x;this.is=y;this.log=u.ub("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.Wxa=b.Xxa=void 0;t=a(22970);c=a(22674);h=a(36129);f=a(87386);e=a(5021);g=a(17892);k=a(4203);l=a(59818);m=a(30869);p=a(42207);r=a(17612);b.Xxa="errors";d.prototype.load=function(){var q,u;q=this;if(!this.config().Mqb)return Promise.resolve([]);u=(0,e.ec)(this.config().F7b);return this.np.rs(u,this.nAb([])).catch(function(v){q.log.error("Load failed.",v);return [];});};d.prototype.add=function(q,u,v,w,x){var y;y=this;return this.config().Mqb && u && v && r.sb.gZ(u)?this.nAb([{time:q,keySystem:u,code:v,subCode:w,extCode:x}]).then(function(){}).catch(function(z){y.log.error("Add failed.",z);}):Promise.resolve();};d.prototype.axc=function(){var q;q=this;return this.Es.create().then(function(u){return u.load(b.Xxa).then(function(v){var w;return (null === (w=v.value) || void 0 === w?void 0:w.errors) || [];}).catch(function(v){if(v.Sa === h.Y.KE)return (q.log.warn("No CachedErrors."),[]);throw v;});});};d.prototype.Qkc=function(q){return {time:(0,e.Ji)(q[0]),keySystem:q[1],code:q[2],subCode:q[3],extCode:q[4]};};d.lRc=function(q){return [q.time.oa(e.uu),q.keySystem,q.code,q.subCode,q.extCode];};d.prototype.$Kc=function(q){var u;u={version:1,errors:q.map(n.lRc)};return this.Es.create().then(function(v){return v.save(b.Xxa,u,!1);}).then(function(){return q;});};d.prototype.Bjc=function(q){var u,v;u=(0,e.Ji)(this.config().E7b);v=this.La.Eg.ea(u);return q.filter(function(w){return w.time.ea(v).uSa();});};d.prototype.HTc=function(q){return q.filter(this.ztc.bind(this)).map(this.Qkc);};d.prototype.ztc=function(q){return this.is.Ao(q[0]) && this.is.Ws(q[1]) && this.is.Ao(q[2]) && (this.is.Ao(q[3]) || void 0 === q[3]) && (this.is.Ws(q[4]) || void 0 === q[4])?!0:!1;};d.prototype.xjc=function(q){var u;u=this;return q.filter(function(v){return u.config().yic.includes(v.code);});};d.prototype.yjc=function(q){return q.slice(-this.config().C7b);};d.prototype.nAb=function(q){var u;u=this;return this.axc().then(function(v){return u.HTc(v);}).then(function(v){return u.Bjc(v);}).then(function(v){return v.concat(q);}).then(function(v){return u.xjc(v);}).then(function(v){return u.yjc(v);}).then(function(v){return u.$Kc(v);});};a=n=d;b.Wxa=a;b.Wxa=a=n=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(g.aI)),t.__param(1,(0,c.u)(f.yb)),t.__param(2,(0,c.u)(k.Fc)),t.__param(3,(0,c.u)(l.HE)),t.__param(4,(0,c.u)(m.vi)),t.__param(5,(0,c.u)(p.wi))],a);},31149:function(t,b,a){var n;function d(c,h,f,e,g,k,l,m,p,r,q,u,v,w){this.code=void 0 === c?n.ca.mh:c;this.subCode=h;this.extCode=f;this.zqb=e;this.YG=g;this.message=k;this.details=l;this.data=m;this.oNa=p;this.dFc=r;this.alert=q;this.QIa=u;this.Sd=v;this.vba=w;this.success=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.ie=void 0;n=a(36129);d.Wi=function(c){var h,f,e;if(c){h=c.stack;f=c.number;e=c.message;e || (e="" + c);h?(c="" + h,0 !== c.indexOf(e) && (c=e + "\n" + c)):c=e;f && (c+="\nnumber:" + f);return c;}return "";};d.prototype.P7=function(c){this.details=d.Wi(c);this.data=c;};d.prototype.toString=function(){return JSON.stringify(this.toJSON());};d.prototype.toJSON=function(){return {code:this.code,subCode:this.subCode,extCode:this.extCode,edgeCode:this.zqb,mslCode:this.YG,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.oNa,playbackServiceError:this.dFc};};d.ena=function(c,h){return new d(c,n.Y.Sq,void 0,void 0,void 0,void 0,h.message,h.stack);};d.aQb=function(c,h){return new d(c,h,void 0,void 0,void 0,void 0,void 0,void 0);};d.LUc=function(c,h,f){return new d(c,h,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,f);};b.ie=d;},84183:function(t,b,a){var n,c,h,f;function d(e){return c.fU.call(this,e,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.gya=void 0;t=a(22970);n=a(12501);c=a(64174);h=a(22674);a=a(83767);Ia(d,c.fU);Ha.Object.defineProperties(d.prototype,{bPb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});f=d;b.gya=f;t.__decorate([n.config(n.jd,"usePerformanceApi")],f.prototype,"bPb",null);b.gya=f=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(a.kya))],f);},691:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m,p,r){var q;q=this;this.config=l;this.Zdc=m;this.jc=p;this.performance=r;this.NCc=function(u){q.uZa=u.ea(q.Eg);};(0,n.Kv)(this,"date");(0,n.Kv)(this,"performance");this.F4b=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.uZa=c.ia;this.jc.addListener(k.oAa.$Jb,this.NCc);}Object.defineProperty(b,"__esModule",{value:!0});b.hya=void 0;t=a(22970);n=a(66523);c=a(5021);h=a(22674);f=a(63368);e=a(87061);g=a(15160);k=a(85001);d.prototype.g4b=function(l){return l.add(this.uZa);};Ha.Object.defineProperties(d.prototype,{Eg:{configurable:!0,enumerable:!0,get:function(){return this.tCb?(0,c.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,c.ec)(this.Zdc.now());}},zH:{configurable:!0,enumerable:!0,get:function(){return this.Eg.add(this.uZa);}},tCb:{configurable:!0,enumerable:!0,get:function(){return this.config.bPb && this.F4b;}}});a=d;b.hya=a;b.hya=a=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(e.X4a)),t.__param(1,(0,h.u)(f.A5a)),t.__param(2,(0,h.u)(g.Fza)),t.__param(3,(0,h.u)(f.dha)),t.__param(3,(0,h.optional)())],a);},76928:function(t,b,a){var n,c,h,f;function d(e,g){this.is=e;this.Df=g;}Object.defineProperty(b,"__esModule",{value:!0});b.lya=void 0;t=a(22970);c=a(22674);h=a(42207);a=a(74870);d.prototype.encode=function(e){var g,k;g=this;k="";this.Df.KP(e,function(l,m){l=g.Xqb(l) + "=" + g.Xqb(m);k=k?k + ("," + l):l;});return k;};d.prototype.Xqb=function(e){return this.is.sX(e)?this.is.Ao(e)?"" + e:this.is.Ws(e)?(e=e.replace(n.DHb,this.WTa.bind(this)),!n.KHc.test(e) && n.iAc.test(e) && (e='"' + e + '"'),e):this.is.rja(e)?"" + e:this.is.aIa(e)?"NaN":"":"";};d.prototype.WTa=function(e){return n.map[e];};f=n=d;b.lya=f;f.map={'"':'""',"\r":"","\n":" "};f.DHb=/(?!^.+)["\r\n](?=.+$)/g;f.KHc=/["].*["]/g;f.iAc=/[", ]/;b.lya=f=n=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(h.wi)),t.__param(1,(0,c.u)(a.cm))],f);},61453:function(t,b,a){var n,c;function d(h,f){this.ud=h;this.nla=f;}Object.defineProperty(b,"__esModule",{value:!0});b.wya=void 0;t=a(22970);n=a(22674);a=a(53085);d.prototype.ag=function(h){this.Og();this.Nl=this.ud.Aq(this.nla,h);};d.prototype.Og=function(){this.Nl && this.Nl.cancel();this.Nl=void 0;};c=d;b.wya=c;b.wya=c=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.kl))],c);},85125:function(t,b,a){var n,c,h,f;function d(e){e=c.fU.call(this,e,"DebugConfigImpl") || this;e.u3c=function(){debugger;};return e;}Object.defineProperty(b,"__esModule",{value:!0});b.xya=void 0;t=a(22970);n=a(12501);c=a(64174);h=a(22674);a=a(83767);Ia(d,c.fU);Ha.Object.defineProperties(d.prototype,{S6b:{configurable:!0,enumerable:!0,get:function(){return !1;}}});f=d;b.xya=f;t.__decorate([n.config(n.jd,"breakOnError")],f.prototype,"S6b",null);b.xya=f=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(a.kya))],f);},69997:function(t,b,a){var n,c,h,f;function d(e,g,k){this.config=e;this.dc=g;this.va=k.ub("General");}Object.defineProperty(b,"__esModule",{value:!0});b.yya=void 0;t=a(22970);n=a(22674);c=a(42207);h=a(90597);a=a(87386);d.prototype.assert=function(){};d.prototype.m5b=function(e,g){this.assert(this.dc.sX(e),g);};d.prototype.n5b=function(e,g){this.assert(this.dc.gi(e),g);};d.prototype.fka=function(e,g){this.assert(this.dc.Ws(e),g);};d.prototype.t5b=function(e,g){this.assert(this.dc.Pw(e),g);};d.prototype.r5b=function(e,g){this.assert(this.dc.Ws(e) || null === e || void 0 === e,g);};d.prototype.eka=function(e,g){this.assert(this.dc.Ao(e),g);};d.prototype.p5b=function(e,g){this.assert(this.dc.VIa(e),g);};d.prototype.s5b=function(e,g){this.assert(this.dc.i6(e),g);};d.prototype.q5b=function(e,g){this.assert(this.dc.O5(e),g);};d.prototype.l5b=function(e,g){this.assert(this.dc.rja(e),g);};d.prototype.o5b=function(e,g){this.assert(this.dc.tja(e),g);};d.prototype.itc=function(){this.assert(!1,"invalid operation, this method should not be called");};f=d;b.yya=f;b.yya=f=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.B5a)),t.__param(1,(0,n.u)(c.wi)),t.__param(2,(0,n.u)(a.yb))],f);},69216:function(t,b,a){var n,c,h,f,e,g,k,l,m;function d(p,r){this.Ua=p;this.config=r;}Object.defineProperty(b,"__esModule",{value:!0});b.Aya=void 0;t=a(22970);c=a(22674);h=a(81918);f=a(31149);e=a(36129);g=a(85001);k=a(5021);l=a(22365);a=a(21801);d.prototype.Rpb=function(p){var r,q,u,v,w,x,y,z,B,A;r=this;v=p.mediaTime.value;w=p.et.value;x=p.Wb.value;y=p.state.value;z={segmentId:p.QPa(),mediaTime:v,segmentTime:p.jK(),bufferingState:n.d7b[w],presentingState:n.sGc[x],playbackState:n.eFc[y],mseBuffersBusy:this.Epc(p),intBuffersBusy:this.snc(p),tabVisible:this.yQc(),decodedFrameCount:this.rec(p),videoElementInDom:this.$Tc(p),lastVideoSync:this.Ua.wc().ea((0,k.ec)(p.Nda)).oa(k.ya)};B=x === g.Kb.Yg?p.mb.Hg?this.config.lEb:this.config.kEb:this.config.iCb;if(w !== g.Wg.qf){if((w=e.Y.tSb,this.Flb(z.mseBuffersBusy,z.intBuffersBusy)))A=n.U3a;}else if((x !== g.Kb.hg?w=e.Y.vSb:(w=e.Y.uSb,(x=p.Rd) && 0 === x.yna() && (A=n.a_b)),x=p.Rd))(z.mediaBuffered=x.sY(),z.mediaBufferedSegments=x.tY(),x.$b.sourceBuffers.forEach(function(C){var D,F;D=n.uh[C.mediaType];z[D + "Ranges"]=C.pna();try{F=C.buffered();}catch(G){F=void 0;}F && 0 !== F.length?(C=1E3 * F.end(0) - v,z[D + "Undecoded"]=C,1 < F.length && (A=n.nRb),v < 1E3 * F.start(0) || v > 1E3 * F.end(0)?A=n.oRb:C < B.oa(k.ya)?A=n.pRb:r.Flb(z.mseBuffersBusy,z.intBuffersBusy) && (A=n.U3a)):(z[D + "Undecoded"]=0,A=n.mRb);}));x=p.nYa.kQa();y=v === (null === (q=x.repositionTrace) || void 0 === q?void 0:q[0].newMediaTime);z.lastRepositionCausedTimeout=y;z.trackChangeInProgress=null === (u=p.bb) || void 0 === u?void 0:u.K0a;Object.assign(z,x);p="";try{p=JSON.stringify(z);}catch(C){p="Cannot stringify details: " + C;}return new f.ie(e.ca.jbb,w,A,void 0,void 0,void 0,p,void 0);};d.prototype.Epc=function(p){var r;if(p.$b){r={};p.$b.sourceBuffers.forEach(function(q){r[0 === q.type?"audio":"video"]={updating:q.updating()};});return r;}};d.prototype.snc=function(p){var r;if(p.$b){r={};p.$b.sourceBuffers.forEach(function(q){r[0 === q.type?"audio":"video"]={updating:q.xj()};});return r;}};d.prototype.yQc=function(){return !l.yi.hidden;};d.prototype.rec=function(p){return (p=p.Rd) && (p=p.$b.Ga) && void 0 !== p.webkitDecodedFrameCount?p.webkitDecodedFrameCount:NaN;};d.prototype.$Tc=function(p){if(p=p.Rd)if(p=p.$b.Ga)return l.yi.body.contains(p);return !1;};d.prototype.Flb=function(p,r){var q,u,v,w;return !((null === (q=p.audio) || void 0 === q?void 0:q.updating) === (null === (u=r.audio) || void 0 === u?void 0:u.updating) && (null === (v=p.video) || void 0 === v?void 0:v.updating) === (null === (w=r.video) || void 0 === w?void 0:w.updating));};m=n=d;b.Aya=m;m.mRb="1";m.nRb="2";m.oRb="3";m.U3a="4";m.pRb="5";m.a_b="6";m.uh=["Audio","Video"];m.d7b=["","NORMAL","BUFFERING","STALLED"];m.sGc=["","WAITING","PLAYING ","PAUSED","ENDED"];m.eFc=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];b.Aya=m=n=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(h.$d)),t.__param(1,(0,c.u)(a.$Ba))],m);},2010:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.kza=void 0;t=a(22970);n=a(22674);c=a(90030);d.prototype.RX=function(h,f){var e;e=this;h && Object.entries(f).forEach(function(g){var k,l,m;k=Fa(g);g=k.next().value;k=k.next().value;if(e.Ctc(k)){l=Fa(k);k=l.next().value;m=l.next().value;l=h[k];Array.isArray(l)?(e.hMa(h,g,k),l.forEach(function(p){e.RX(p,m);})):k === c.mj?Object.values(h).forEach(function(p){e.RX(p,m);}):(e.hMa(h,g,k),"object" === typeof l && e.RX(l,m));}else e.hMa(h,g,k);});};d.prototype.Ctc=function(h){return Array.isArray(h);};d.prototype.hMa=function(h,f,e){h.hasOwnProperty(f) || f === e || Object.defineProperty(h,f,{get:function(){return h[e];},set:function(g){return h[e]=g;},enumerable:!0});};a=d;b.kza=a;b.kza=a=t.__decorate([(0,n.$)()],a);},95947:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.N2=b.pza=void 0;t=a(22970);n=a(31811);a=a(22674);d.prototype.create=function(){return new n.Vl();};c=d;b.pza=c;b.pza=c=t.__decorate([(0,a.$)()],c);b.N2="EventSourceFactorySymbol";},31811:function(t,b,a){var n,c;function d(){this.qv={};this.id="$es$" + n.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Vl=void 0;t=a(22970);a=a(22674);d.prototype.addListener=function(h,f,e){var g,k;g="$netflix$player$order" + this.id + "$" + h;if(this.qv){k=this.qv[h]?this.qv[h].slice():[];e && (f[g]=e);0 > k.indexOf(f) && (k.push(f),k.sort(function(l,m){return (l[g] || 0) - (m[g] || 0);}));this.qv[h]=k;}};d.prototype.removeListener=function(h,f){if(this.qv && this.qv[h]){for(var e=this.qv[h].slice(),g;0 <= (g=e.indexOf(f));)e.splice(g,1);this.qv[h]=e;}};d.prototype.kd=function(h,f,e){var g;if(this.qv){g=this.YOa(h);for(h={aU:0};h.aU < g.length;(h={aU:h.aU},h.aU++))e?(function(k){return function(){var l;l=g[k.aU];setTimeout(function(){l(f);},0);};})(h)():g[h.aU].call(this,f);}};d.prototype.Og=function(){this.qv=void 0;};d.prototype.on=function(h,f,e){this.addListener(h,f,e);};d.prototype.YOa=function(h){var f;return null !== (f=this.qv && (this.qv[h] || (this.qv[h]=[]))) && void 0 !== f?f:[];};c=n=d;b.Vl=c;c.counter=0;b.Vl=c=n=t.__decorate([(0,a.$)()],c);},11629:function(t,b,a){var n,c,h,f,e;function d(g,k){this.La=g;this.random=k;}Object.defineProperty(b,"__esModule",{value:!0});b.gAa=void 0;t=a(22970);c=a(22674);h=a(5021);f=a(30869);a=a(10306);d.prototype.NF=function(){return this.La.Eg.oa(h.uu) * n.H4a + Math.floor(this.random.random() * n.H4a);};d.prototype.Acc=function(){for(var g=[],k=0;32 > k;k++)g.push(Math.floor(16 * this.random.random()).toString(16));return g.join("");};e=n=d;b.gAa=e;e.H4a=1E8;b.gAa=e=n=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(f.vi)),t.__param(1,(0,c.u)(a.wha))],e);},52657:function(t,b,a){var n;function d(c,h,f,e,g){this.version=c;this.YR=h;this.J_a=f;this.Es=e;this.fea=g;this.ly=new n.E8a(c,h,f,e,g);this.wr=[];}Object.defineProperty(b,"__esModule",{value:!0});b.D8a=void 0;n=a(14494);d.prototype.load=function(c){var h;h=this;return this.ly.load(c).then(function(){var f;h.wr=null !== (f=h.ly.wr) && void 0 !== f?f:[];});};d.prototype.add=function(c){this.wr.push(c);return this.ly.set(this.wr);};d.prototype.remove=function(c,h){c=this.Dtb(this.T8(c,h));return 0 <= c?(this.wr.splice(c,1),this.ly.set(this.wr)):Promise.resolve();};d.prototype.update=function(c,h){h=this.Dtb(this.T8(c,h));return 0 <= h?(this.wr[h]=c,this.ly.set(this.wr)):Promise.resolve();};d.prototype.T8=function(c,h){for(var f=0;f < this.wr.length;++f)if(h(this.wr[f],c))return this.wr[f];};d.prototype.Dtb=function(c){return c?this.wr.indexOf(c):-1;};b.D8a=d;},14494:function(t,b,a){var n,c;function d(h,f,e,g,k){this.version=h;this.YR=f;this.J_a=e;this.Es=g;this.fea=k;}Object.defineProperty(b,"__esModule",{value:!0});b.E8a=void 0;n=a(36129);c=a(31149);d.prototype.load=function(h){return this.$wc(h);};d.prototype.set=function(h){this.wr=h;return this.KEc();};d.prototype.$wc=function(h){var f;f=this;this.qAb || (this.qAb=new Promise(function(e,g){function k(l){f.Uec().then(function(){g(l);}).catch(function(){g(l);});}f.eQa().then(function(l){f.storage=l;return f.storage.load(f.YR);}).then(function(l){var m;l=l.value;try{m=h(l);f.version=m.version;f.wr=m.data;e();}catch(p){k(p);}}).catch(function(l){l.Sa !== n.Y.KE?g(l):e();});}));return this.qAb;};d.prototype.KEc=function(){var h,f,e,g,k;h=this;if(!this.J_a)return Promise.resolve();if(this.iva){g=new Promise(function(l,m){f=l;e=m;});k=function(){h.iva=g;h.XLb().then(function(){f();}).catch(function(l){e(l);});};this.iva.then(k).catch(k);return g;}return this.iva=this.XLb();};d.prototype.XLb=function(){var h,f;h=this;f=this.fea();return new Promise(function(e,g){h.eQa().then(function(k){return k.save(h.YR,f,!1);}).then(function(){e();}).catch(function(k){g(d.mRc(n.ca.tXb,k));});});};d.prototype.Uec=function(){var h;h=this;return this.J_a?new Promise(function(f,e){h.eQa().then(function(g){return g.remove(h.YR);}).then(function(){f();}).catch(function(g){e(g);});}):Promise.resolve();};d.prototype.eQa=function(){return this.storage?Promise.resolve(this.storage):this.Es.create();};d.mRc=function(h,f){var e;if(f.Sa && f.zc)return new c.ie(h,f.Sa,void 0,void 0,void 0,void 0,void 0,f.zc);if(void 0 !== f.subCode){e=f.message?f.message + " ":"";f.code=h;f.message="" === e?void 0:e;return f;}return f instanceof Error?new c.ie(h,n.Y.Sq,void 0,void 0,void 0,void 0,f.stack,f):new c.ie(h,n.Y.mh,void 0,void 0,void 0,void 0,void 0,f);};b.E8a=d;},76564:function(t,b){var d;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.sN=void 0;d=/^\S+$/;a.prototype.sX=function(n){return void 0 !== n;};a.prototype.gi=function(n){return null !== n && void 0 !== n;};a.prototype.h6=function(n){return a.jkb(n);};a.prototype.bIa=function(n){return !(!n || !a.jkb(n));};a.prototype.IO=function(n){return Array.isArray(n);};a.prototype.kkb=function(n){return !(!n || n.constructor != Uint8Array);};a.prototype.Ao=function(n,c,h){return a.Wib(n,c,h);};a.prototype.aIa=function(n){return a.aIa(n);};a.prototype.VIa=function(n,c,h){return a.Uja(n,c,h) && 0 === n % 1;};a.prototype.i6=function(n,c,h){return a.Uja(n,c || 0,h);};a.prototype.O5=function(n){return a.Uja(n,1);};a.prototype.E2b=function(n){return a.Uja(n,0,255);};a.prototype.F2b=function(n){return n === +n && (0 === n || n !== (n | 0)) && !0;};a.prototype.lkb=function(n){return !(!n || !d.test(n));};a.prototype.Ws=function(n){return a.Xib(n);};a.prototype.Pw=function(n){return !(!a.Xib(n) || !n);};a.prototype.rja=function(n){return !0 === n || !1 === n;};a.prototype.tja=function(n){return "function" == typeof n;};a.Xib=function(n){return "string" == typeof n;};a.Wib=function(n,c,h){return "number" == typeof n && !isNaN(n) && isFinite(n) && (void 0 === c || n >= c) && (void 0 === h || n <= h);};a.aIa=function(n){return "number" == typeof n && isNaN(n);};a.Uja=function(n,c,h){return a.Wib(n,c,h) && 0 === n % 1;};a.jkb=function(n){return "object" == typeof n;};b.sN=new a();},81734:function(t,b,a){var n,c,h;function d(f,e){this.fm=e?[e]:[];this.e5="$op$" + h++;this.gb=f;}Object.defineProperty(b,"__esModule",{value:!0});b.vc=void 0;n=a(33096);c=a(45146);h=0;d.prototype.addListener=function(f,e){var g;g=this;(0,c.y7)(f);(0,c.ta)(0 > this.fm.indexOf(f));f[n.Xga + this.e5]=e;this.fm=this.fm.slice();this.fm.push(f);this.fm.sort(function(k,l){return g.yOc(k,l);});};d.prototype.removeListener=function(f){var e;(0,c.y7)(f);this.fm=this.fm.slice();0 <= (e=this.fm.indexOf(f)) && this.fm.splice(e,1);};d.prototype.set=function(f,e){var g;if(this.gb !== f){g={oldValue:this.gb,newValue:f,Am:e};this.gb=f;this.O_b=e;f=this.fm;e=f.length;for(var k=0;k < e;k++)f[k](g);}};d.prototype.when=function(f){var e;e=this;return new Promise(function(g){function k(l){if(f(l.newValue))return (e.removeListener(k),g(l.newValue));}if(f(e.gb))return g(e.gb);e.addListener(k);});};d.prototype.yOc=function(f,e){return (f[n.Xga + this.e5] || 0) - (e[n.Xga + this.e5] || 0);};Ha.Object.defineProperties(d.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.gb;}},Am:{configurable:!0,enumerable:!0,get:function(){return this.O_b;}}});b.vc=d;},55099:function(t,b,a){var n;function d(c){this.rlc=c;this.poa=!1;this.Foa=this.xh=this.l1=0;this.b$=!1;this.Goa=0;}Object.defineProperty(b,"__esModule",{value:!0});b.Zab=void 0;n=a(32687);d.prototype.EIa=function(c){c < this.l1 && (this.xh+=this.l1);this.l1=c;this.poa=!0;};d.prototype.qmc=function(){if(this.poa)return this.b$?this.Goa - this.Foa:this.xh + this.l1 - this.Foa;};d.prototype.refresh=function(){var c;c=this.rlc();(0,n.pc)(c) && this.EIa(c);};d.prototype.KOc=function(){this.b$ || (this.poa && (this.Goa=this.xh + this.l1),this.b$=!0);};d.prototype.jPc=function(){this.b$ && (this.poa && (this.Foa+=this.xh + this.l1 - this.Goa),this.Goa=0,this.b$=!1);};b.Zab=d;},72465:function(t,b){function a(d){this.value=d;}Object.defineProperty(b,"__esModule",{value:!0});b.zCa=void 0;a.empty=function(){return a.of(void 0);};a.of=function(d){return new a(d);};a.prototype.or=function(d){return void 0 === this.value?d instanceof Function?d():d:this.value;};a.prototype.map=function(d){return void 0 === this.value?a.empty():a.of(d(this.value));};b.zCa=a;},20483:function(t,b,a){var n;function d(c){this.F0b=void 0 === c?!1:c;this.yg={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.kha=void 0;t=a(22970);a=a(22674);d.prototype.add=function(c,h){var f;h=void 0 === h?0:h;f=this.yg[h];f?this.F0b && -1 !== f.indexOf(c) || f.push(c):this.yg[h]=[c];};d.prototype.remove=function(c,h){this.Mp(c,void 0 === h?0:h);};d.prototype.removeAll=function(c){this.Mp(c);};d.prototype.flatten=function(){var c;c=this;return Object.keys(this.yg).sort().reduce(function(h,f){return h.concat(c.yg[f]);},[]);};d.prototype.Mp=function(c,h){Object.entries(this.yg).forEach(function(f){var e,g;e=Fa(f);f=e.next().value;e=e.next().value;if(void 0 === h || h === parseInt(f)){-1 < (g=e.indexOf(c)) && e.splice(g,1);}});};n=d;b.kha=n;b.kha=n=t.__decorate([(0,a.$)()],n);},94293:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mha=void 0;b.mha=function(){var a;a=this;this.promise=new Promise(function(d,n){a.resolve=d;a.reject=n;});};},4734:function(t,b,a){var n,c,h;function d(f){this.ud=f;}Object.defineProperty(b,"__esModule",{value:!0});b.eEa=void 0;t=a(22970);n=a(22674);c=a(53085);h=a(59818);d.prototype.rs=function(f,e){var g;g=this;return new Promise(function(k,l){var m;m=g.ud.Aq(f,function(){l(new h.Fw(f));});e.then(function(p){k(p);m.cancel();}).catch(function(p){l(p);m.cancel();});});};a=d;b.eEa=a;b.eEa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.kl))],a);},67525:function(t,b,a){var n,c;function d(h){this.xQc=h;}Object.defineProperty(b,"__esModule",{value:!0});b.lEa=void 0;t=a(22970);n=a(22674);a=a(10306);d.prototype.random=function(){return this.xQc.random();};d.prototype.cHb=function(h,f){if("number" !== typeof h)(f=h.end,h=h.start);else if("undefined" === typeof f)throw Error("max must be provided for randomInteger API");return Math.round(h + this.random() * (f - h));};c=d;b.lEa=c;b.lEa=c=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.afb))],c);},74267:function(t,b){function a(d,n,c){if(null != c){if(0 < c(d,n))throw a.Hob(d,n);}else if(d.vm && 0 < d.vm(n))throw a.Hob(d,n);this.start=d;this.end=n;}Object.defineProperty(b,"__esModule",{value:!0});b.mEa=void 0;a.Hob=function(d,n){return new RangeError("end [" + n + "] must be >= start [" + d + "]");};b.mEa=a;},61909:function(t,b,a){var c,h,f,e;function d(g){this.gn=g;(0,h.Kv)(this,"timers");}function n(g,k){this.gn=g;this.D8b=k;}Object.defineProperty(b,"__esModule",{value:!0});b.KEa=void 0;t=a(22970);c=a(22674);h=a(66523);f=a(63368);e=a(5021);n.prototype.cancel=function(){this.D8b(this.gn);};d.prototype.ag=function(g){return this.Aq(e.ia,g);};d.prototype.Aq=function(g,k){var l;l=this.gn.setTimeout(k,g.oa(e.ya));return new n(this.gn,function(m){m.clearTimeout(l);});};d.prototype.PS=function(g,k){var l;l=this.gn.setInterval(k,g.oa(e.ya));return new n(this.gn,function(m){m.clearInterval(l);});};a=d;b.KEa=a;b.KEa=a=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(f.Dgb))],a);},57180:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.nV=void 0;t=a(22970);a=a(22674);d.prototype.format=function(c,h){var e;for(var f=1;f < arguments.length;++f);e=Array.prototype.slice.call(arguments,1);return c.replace(/{(\d+)}/g,function(g,k){return "undefined" != typeof e[k]?e[k]:g;});};d.prototype.MPc=function(c){return JSON.stringify(c,null,"  ");};n=d;b.nV=n;b.nV=n=t.__decorate([(0,a.$)()],n);},49721:function(t,b,a){var n,c,h,f;function d(e,g,k){var l;l=this;this.$h=e;this.ud=g;this.nla=k;this.x_=function(m){l.Nl=void 0;l.RRc(m || l.nla);};this.xzb=(0,h.ec)(-this.nla.oa(h.ya));}Object.defineProperty(b,"__esModule",{value:!0});b.nFa=void 0;t=a(22970);n=a(22674);c=a(81918);h=a(5021);a=a(53085);d.prototype.ag=function(e){this.YYa=e;this.Nl=this.Nl || this.Gh(this.x_);};d.prototype.Og=function(){this.Nl && this.Nl.cancel();this.Nl=void 0;};d.prototype.RRc=function(e){var g,k;g=this.$h.wc();if(this.YYa){k=e.ea(g.ea(this.xzb));0 >= k.vm(h.ia)?(e=this.YYa,this.YYa=void 0,this.xzb=g,e()):this.Nl=this.Nl || this.ud.Aq(k,this.x_.bind(this,e));}};d.prototype.Gh=function(e){return this.ud.Aq(h.ia,e);};f=d;b.nFa=f;b.nFa=f=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.$d)),t.__param(1,(0,n.u)(a.kl))],f);},84130:function(t,b,a){var n,c,h;function d(f,e,g){this.ud=f;this.B0a=e;this.JC=g;}Object.defineProperty(b,"__esModule",{value:!0});b.qFa=void 0;t=a(22970);n=a(53085);c=a(22674);h=a(5021);d.prototype.WJ=function(){this.Nl || (this.Nl=this.ud.Aq((0,h.ec)(this.B0a),this.JC));};d.prototype.Fq=function(){this.Nl && this.Nl.cancel();this.Nl=void 0;};a=d;b.qFa=a;b.qFa=a=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(n.kl))],a);},1639:function(t,b,a){var n,c,h,f;function d(e,g){this.Ua=e;this.entries=new Set();this.va=g.ub("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Yha=void 0;t=a(22970);n=a(22674);c=a(81918);h=a(5021);a=a(87386);d.prototype.mark=function(e,g,k){e={name:e,sy:this.Ua.wc()};g && (e.Ia=g);k && (e.correlationId=k);this.entries.add(e);return e;};d.prototype.wPa=function(){var e;e=[];this.entries.forEach(function(g){return e.push(g);});return e;};d.prototype.Hub=function(e){return this.wPa().filter(function(g){return g.Ia === e;});};d.prototype.Vnc=function(){var e;e={};try{e=this.wPa().filter(function(g){return !g.Ia;}).reduce(function(g,k){g[k.name]=k.sy.oa(h.ya);return g;},{});}catch(g){this.va.error(" getMapOfCommonMarks exception",g);}return e;};d.prototype.OHb=function(e){var g;g=this;this.wPa().forEach(function(k){k.Ia === e && g.entries.delete(k);});};f=d;b.Yha=f;b.Yha=f=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.$d)),t.__param(1,(0,n.u)(a.yb))],f);},6214:function(t,b){function a(){this.searchParams={};}function d(n){this.vr=n;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.Zfb=void 0;d.prototype.toString=function(){return this.href;};Ha.Object.defineProperties(d.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.vr + this.searchParams.toString();}}});b.Zfb=d;a.prototype.get=function(n){return this.searchParams[n];};a.prototype.set=function(n,c){this.searchParams[n]=c;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(n,c,h){var f;f=Fa(c);c=f.next().value;f=f.next().value;return "" + n + (0 == h?"?":"&") + c + "=" + f;},"");};a.prototype.toJSON=function(){return this.searchParams;};},53399:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.KFa=void 0;t=a(22970);a=a(22674);d.prototype.encode=function(h){return n.dNa(h);};d.prototype.decode=function(h){return n.YLa(h);};d.dNa=function(h){if(!h)throw new TypeError("Invalid byte array");for(var f=0,e,g=h.length,k="";f < g;){e=h[f++];if(!(0 <= e && 255 >= e))throw Error("bad utf8");if(e & 128)if(192 === (e & 224))e=((e & 31) << 6) + (h[f++] & 63);else if(224 === (e & 240))e=((e & 15) << 12) + ((h[f++] & 63) << 6) + (h[f++] & 63);else throw Error("unsupported utf8 character");k+=String.fromCharCode(e);}return k;};d.YLa=function(h){var f,e,g,k,l;f=h.length;e=0;k=0;if(!(0 <= f))throw Error("bad string");for(g=f;g--;){l=h.charCodeAt(g);128 > l?e++:e=2048 > l?e + 2:e + 3;}e=new Uint8Array(e);for(g=0;g < f;g++)(l=h.charCodeAt(g),128 > l?e[k++]=l:(2048 > l?e[k++]=192 | l >>> 6:(e[k++]=224 | l >>> 12,e[k++]=128 | l >>> 6 & 63),e[k++]=128 | l & 63));return e;};c=n=d;b.KFa=c;b.KFa=c=n=t.__decorate([(0,a.$)()],c);},24900:function(t,b,a){var n,c,h,f;function d(e,g){this.is=e;this.tl=g;}Object.defineProperty(b,"__esModule",{value:!0});b.LFa=void 0;t=a(22970);n=a(22674);a(36129);c=a(42207);h=a(6405);f=a(22365);d.prototype.YZ=function(e,g,k){var l,m,p,r;l=this;if(g)if(k){m=k.naa;p=k.prefix;r=k.$ra;this.KP(g,function(q,u){if(!r || l.is.gi(u))e[(p || "") + (m?q.toLowerCase():q)]=u;});}else this.KP(g,function(q,u){e[q]=u;});return e;};d.prototype.KP=function(e,g){for(var k in e)e.hasOwnProperty(k) && g(k,e[k]);};d.prototype.d7=function(e,g){if(e.length == g.length){for(var k=e.length;k--;)if(e[k] != g[k])return !1;return !0;}return !1;};d.prototype.Z$b=function(e,g){if(e.length != g.length)return !1;e.sort();g.sort();for(var k=e.length;k--;)if(e[k] !== g[k])return !1;return !0;};d.prototype.Wi=function(e){var g,k,l;if(e){g=e.stack;k=e.number;l=e.message;l || (l="" + e);g?(e="" + g,0 !== e.indexOf(l) && (e=l + "\n" + e)):e=l;k && (e+="\nnumber:" + k);return e;}};d.prototype.getFunctionName=function(e){return (e=(/function (.{1,})\(/).exec(e.toString())) && 1 < e.length?e[1]:"";};d.prototype.Ltb=function(e){return this.getFunctionName(e.constructor);};d.prototype.CDb=function(e){var g,k;g=this;k="";this.is.IO(e) || this.is.kkb(e)?k=Array.prototype.reduce.call(e,function(l,m){return l + (32 <= m && 128 > m?String.fromCharCode(m):".");},""):this.is.Ws(e)?k=e:this.KP(e,function(l,m){k+=(k?", ":"") + "{" + l + ": " + (g.is.tja(m)?g.getFunctionName(m) || "function":m) + "}";});return "[" + this.Ltb(e) + " " + k + "]";};d.prototype.createElement=function(e,g,k,l){var m;m=f.yi.createElement(e);g && (m.style.cssText=g);k && (m.innerHTML=k);l && this.KP(l,function(p,r){m.setAttribute(p,r);});return m;};d.prototype.wjc=function(e,g){return function(k){return k[e] === g;};};d.prototype.rsa=function(e){var g;g={};(e || "").split("&").forEach(function(k){var l,m;k=k.trim();l=k.indexOf("=");if(0 <= l){m=decodeURIComponent(k.substr(0,l)).toLowerCase();g[m]=decodeURIComponent(k.substr(l + 1));}else g[k.toLowerCase()]=void 0;});return g;};a=d;b.LFa=a;b.LFa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.wi)),t.__param(1,(0,n.u)(h.WM))],a);},38385:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.CAb=void 0;d=a(80401);n=a(76989);t=a(22674);c=a(36410);h=a(87386);f=a(42790);b.CAb=new t.we(function(e){e(h.yb).to(n.hBa).pa();e(c.MU).to(d.jBa).pa();e(h.U9a).to(f.$Aa).pa();});},87386:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.qo={};t[t.ITb=0]="FATAL";t[t.Cp=1]="ERROR";t[t.UFa=2]="WARN";t[t.E3=3]="INFO";t[t.efb=4]="TRACE";t[t.l=5]="DEBUG";b.U9a="LogFieldBuilderFactorySymbol";b.yb="LoggerFactorySymbol";b.Qfa={};},36410:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.MU="LoggerSinksSymbol";},34126:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.iBa=void 0;b.iBa=a;a.BSb="display";a.dSb="console";},22097:function(t,b,a){var n,c;function d(h,f,e,g,k,l,m){this.level=h;this.sm=f;this.timestamp=e;this.message=g;this.Kc=k;this.prefix=l;this.index=void 0 === m?0:m;this.IPc=this.LPc();}Object.defineProperty(b,"__esModule",{value:!0});b.n3a=void 0;n=a(5021);c={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};d.prototype.Gva=function(h){h=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (h?"":" " + this.IPc);return (this.timestamp.oa(n.ya) / 1E3).toFixed(3) + "|" + this.index + "|" + (c[this.level] || this.level) + "|" + this.sm + "| " + h;};d.prototype.LPc=function(){var g;for(var h=this.Kc.length,f="",e=0;e < h;++e){g=this.Kc[e].VA;e && f.length && (f+=" ");if("object" === typeof g){if(null === g)f+="null";else if(g instanceof Error)f+=this.KPc(g);else try{f+=JSON.stringify(g);}catch(k){f+=this.JPc(g);}}else f+=g;}return f;};d.prototype.KPc=function(h){return h.toString() + (h.stack?"\n" + h.stack:"") + "\n";};d.prototype.JPc=function(h){var f;f=[];return JSON.stringify(h,function(e,g){if("object" === typeof g && null !== g){if(-1 !== f.indexOf(g))return "<cycle>";f.push(g);}return g;});};b.n3a=d;},98895:function(t,b,a){var n,c;function d(h,f,e,g,k,l){h=n.LU.call(this,h,f,e,g) || this;h.groups=k;Array.isArray(l)?h.prefix=l:l && "string" === typeof l && (h.prefix=[],h.prefix.push(l));return h;}Object.defineProperty(b,"__esModule",{value:!0});b.o3a=void 0;n=a(29045);c=a(22097);Ia(d,n.LU);d.prototype.aJ=function(h,f,e){h=new c.n3a(h,this.sm,this.Ua.wc(),f,e,this.prefix);f=Fa(this.zs.zs);for(e=f.next();!e.done;e=f.next())(e=e.value,e(h));};d.prototype.dP=function(h){return new d(this.Ua,this.Gka,this.zs,h,this.groups,this.prefix);};b.o3a=d;},37960:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.g7b=function(a,d){var c;a=a.Pnc();for(var n=0;n < d.length;++n){c=d[n];void 0 != c && null != c && (c.ri && (c=c.ri),c.constructor === Uint8Array?a.V3b(c):"MediaRequest" === c.constructor.name?a.y3b(c):"string" === typeof c?a.R3b(c):"function" === typeof c?a.q3b(c):c instanceof Error?a.o3b(c):c instanceof Object && "function" === typeof c.toJSON?a.Ijb(c.toJSON()):c instanceof Object?a.Ijb(c):a.X3b(c));}return a.build();};},90694:function(t,b,a){var n;function d(c,h,f,e,g,k){this.level=c;this.sm=h;this.timestamp=f;this.message=e;this.Kc=g;this.index=void 0 === k?0:k;this.bVb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.ZAa=void 0;n=a(5021);d.prototype.Gva=function(c){var h;h="" + this.message;this.Kc.forEach(function(f){h+=f.AT(c);});return (this.timestamp.oa(n.ya) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.bVb[this.level] || this.level) + "|" + this.sm + "| " + h;};b.ZAa=d;},42790:function(t,b,a){var n,c,h,f;function d(e,g){this.Ed=e;this.Df=g;}Object.defineProperty(b,"__esModule",{value:!0});b.$Aa=void 0;t=a(22970);n=a(22674);c=a(14600);h=a(2248);a=a(74870);d.prototype.Pnc=function(){return new c.aBa(this.Ed,this.Df);};f=d;b.$Aa=f;b.$Aa=f=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.Sl)),t.__param(1,(0,n.u)(a.cm))],f);},14600:function(t,b,a){var m,p,r;function d(q,u){this.Ed=q;this.Df=u;this.Kc=[];}function n(q){return l.call(this,q,function(u){return {Details:u};}) || this;}function c(q){return l.call(this,q,function(u){return JSON.parse(u.toJSON());}) || this;}function h(q,u){u=l.call(this,u,function(v){return {Base64:q.encode(v)};}) || this;u.Ed=q;return u;}function f(q,u){u=l.call(this,u,function(v){return v();}) || this;u.Df=q;return u;}function e(q){return l.call(this,q,function(u){return {Exception:u.message || "" + u,StackTrace:u.stack || "nostack"};}) || this;}function g(q,u,v){u=l.call(this,u,v) || this;u.Df=q;return u;}function k(q){return l.call(this,q,function(u){return {Details:u};}) || this;}function l(q,u){this.VA=q;this.value=u?u(q):q;}Object.defineProperty(b,"__esModule",{value:!0});b.aBa=void 0;t=a(22970);m=a(22674);p=a(74870);a=a(2248);l.prototype.k8=function(q){return this.VA === q;};Ia(k,l);k.prototype.AT=function(){return "\r\n" + this.VA;};Ia(g,l);g.prototype.AT=function(){var q;q="";this.Df.KP(this.value,function(u,v){try{q+=", " + u + ": " + v;}catch(w){try{q+=", " + u + ": " + JSON.stringify(v);}catch(x){q+=", error stringifying " + u;}}});return q.replace(/[\r\n]+ */g," ");};Ia(e,l);e.prototype.AT=function(q){var u;u="\r\n" + this.VA.message;q || (u+="\r\n" + this.VA.stack);return u;};Ia(f,l);f.prototype.AT=function(){var q;q="";this.Df.KP(this.value,function(u,v){q+=", " + u + ": " + v;});return q.replace(/[\r\n]+ */g," ");};Ia(h,l);h.prototype.AT=function(){return this.VA?"\r\n" + this.Ed.encode(this.VA):"";};Ia(c,l);c.prototype.AT=function(){return this.VA?this.VA.toJSON():"";};Ia(n,l);n.prototype.AT=function(){return ", " + (this.VA.toString?"" + this.VA.toString():"");};d.prototype.R3b=function(q){this.Kc.push(new k(q));};d.prototype.Ijb=function(q){this.Kc.push(new g(this.Df,q));};d.prototype.o3b=function(q){this.Kc.push(new e(q));};d.prototype.q3b=function(q){this.Kc.push(new f(this.Df,q));};d.prototype.V3b=function(q){this.Kc.push(new h(this.Ed,q));};d.prototype.y3b=function(q){this.Kc.push(new c(q));};d.prototype.X3b=function(q){this.Kc.push(new n(q));};d.prototype.build=function(){return this.Kc;};r=d;b.aBa=r;b.aBa=r=t.__decorate([(0,m.$)(),t.__param(0,(0,m.u)(a.Sl)),t.__param(1,(0,m.u)(p.cm))],r);},76989:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m,p){this.Ua=l;this.zs=m;this.CTa=p;}Object.defineProperty(b,"__esModule",{value:!0});b.hBa=void 0;t=a(22970);n=a(29045);c=a(22674);h=a(51742);f=a(81918);e=a(36410);g=a(87386);k=a(98895);d.prototype.ub=function(l,m,p,r,q){p=void 0 === p?this.zs:p;return m?new h.ocb(this.Ua,this.CTa,p,m,l):q?new k.o3a(this.Ua,this.CTa,p,l,r || "",q):new n.LU(this.Ua,this.CTa,p,l);};a=d;b.hBa=a;b.hBa=a=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(f.$d)),t.__param(1,(0,c.u)(e.MU)),t.__param(2,(0,c.u)(g.U9a))],a);},29045:function(t,b,a){var n,c,h;function d(f,e,g,k){this.Ua=f;this.Gka=e;this.zs=g;this.sm=void 0 === k?"General":k;this.MKa={};}Object.defineProperty(b,"__esModule",{value:!0});b.LU=void 0;n=a(87386);c=a(90694);h=a(37960);d.prototype.yjb=function(f,e){this.MKa[f]=e;};d.prototype.fatal=function(f,e){for(var g=[],k=1;k < arguments.length;++k)g[k - 1]=arguments[k];this.aJ(n.qo.ITb,f,this.J1(f,g));};d.prototype.error=function(f,e){for(var g=[],k=1;k < arguments.length;++k)g[k - 1]=arguments[k];this.aJ(n.qo.Cp,f,this.J1(f,g));};d.prototype.warn=function(f,e){for(var g=[],k=1;k < arguments.length;++k)g[k - 1]=arguments[k];this.aJ(n.qo.UFa,f,this.J1(f,g));};d.prototype.info=function(f,e){for(var g=[],k=1;k < arguments.length;++k)g[k - 1]=arguments[k];this.aJ(n.qo.E3,f,this.J1(f,g));};d.prototype.trace=function(f,e){for(var g=[],k=1;k < arguments.length;++k)g[k - 1]=arguments[k];this.aJ(n.qo.efb,f,this.J1(f,g));};d.prototype.debug=function(f,e){for(var g=1;g < arguments.length;++g);!1;};d.prototype.log=function(f,e){for(var g=[],k=1;k < arguments.length;++k)g[k - 1]=arguments[k];this.debug.apply(this,[f].concat(Aa(g)));};d.prototype.write=function(f,e,g){for(var k=[],l=2;l < arguments.length;++l)k[l - 2]=arguments[l];this.aJ(f,e,this.J1(e,k));};d.prototype.toString=function(){return JSON.stringify(this);};d.prototype.toJSON=function(){return {category:this.sm};};d.prototype.dP=function(f){return new d(this.Ua,this.Gka,this.zs,f);};d.prototype.aJ=function(f,e,g){f=new c.ZAa(f,this.sm,this.Ua.wc(),e,g);e=Fa(this.zs.zs);for(g=e.next();!g.done;g=e.next())(g=g.value,g(f));};d.prototype.imc=function(f){return 0 < Object.keys(this.MKa).length?[this.MKa].concat(Aa(f)):f;};d.prototype.J1=function(f,e){var g;f && "null" !== f && "undefined" !== f || e.push({StackTrace:null !== (g=Error("Empty message").stack) && void 0 !== g?g:"nostack"});return (0,h.g7b)(this.Gka,this.imc(e));};b.LU=d;},80401:function(t,b,a){var n;function d(){this.jLb={};this.zs=[];}Object.defineProperty(b,"__esModule",{value:!0});b.jBa=void 0;t=a(22970);a=a(22674);d.prototype.Hta=function(c,h){h && (this.jLb[c]=h,this.zs=Object.values(this.jLb));};n=d;b.jBa=n;b.jBa=n=t.__decorate([(0,a.$)()],n);},51742:function(t,b,a){var n,c,h;function d(f,e,g,k,l){f=h.LU.call(this,f,e,g,l) || this;f.j=k;(0,n.Kv)(f,"playback");return f;}Object.defineProperty(b,"__esModule",{value:!0});b.ocb=void 0;n=a(66523);c=a(90694);h=a(29045);Ia(d,h.LU);d.prototype.dP=function(f){return new d(this.Ua,this.Gka,this.zs,this.j,f);};d.prototype.aJ=function(f,e,g){f=new c.ZAa(f,this.sm,this.Ua.wc(),e,g,this.j.index);e=Fa(this.zs.zs);for(g=e.next();!g.done;g=e.next())(g=g.value,g(f,this.j));};b.ocb=d;},56371:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.oCb=void 0;t=a(22674);d=a(76193);n=a(25857);b.oCb=new t.we(function(c){c(d.dab).to(n.YBa).pa();});},76193:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dab="MomentObserverFactory";},25857:function(t,b,a){var n,c,h;function d(f){this.ud=f;}Object.defineProperty(b,"__esModule",{value:!0});b.YBa=void 0;t=a(22970);n=a(22674);c=a(89350);a=a(53085);d.prototype.wob=function(f,e){return new c.eab(this.ud,f,e);};h=d;b.YBa=h;b.YBa=h=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.kl))],h);},89350:function(t,b){function a(d,n,c){this.ud=d;this.config=n;this.getTime=c;}Object.defineProperty(b,"__esModule",{value:!0});b.eab=void 0;a.prototype.observe=function(d,n){var c;c=this;this.cancel();this.Nl=this.ud.PS(this.config.hvb(),function(){c.getTime() >= d && (c.cancel(),n());});};a.prototype.cancel=function(){this.Nl && (this.Nl.cancel(),this.Nl=void 0);};b.eab=a;},64274:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.I7c=function(a){return a;};b.oaa=function(a){return a;};b.J7c=function(a){return Object.assign({},a);};},33194:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.ba=void 0;t=a(22674);d=a(2911);n=a(93488);c=a(12242);h=a(71807);f=a(25830);e=a(49310);b.ba=new t.we(function(g){g(d.QEa).to(c.PEa).pa();g(n.keb).to(h.NEa).pa();g(f.Dfb).to(e.uFa).pa();});},93488:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.keb="SegmentConfigFactorySymbol";},2911:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.QEa="SegmentManagerFactorySymbol";},25830:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dfb="TransitionLoggerSymbol";},61494:function(t,b,a){var h,f,e,g;function d(k,l,m,p,r,q,u){var v;v=this;this.player=l;this.j=m;this.ZZ=p;this.ud=r;this.lW=q;this.config=u;this.JW=function(){v.nL && (v.nL.cancel(),v.nL=void 0);};this.log=k.ub("SegmentManager",this.j);this.ba=new Map();this.j.mb.Hg && (this.j.addEventListener(e.ja.$L,function(w){return v.HA(w);}),this.j.addEventListener(e.ja.closed,this.JW));}function n(k,l){this.id=k;this.wKa=l;}function c(k,l,m,p){return f.ie.call(this,k,m,void 0,void 0,void 0,l,void 0,p) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.k4a=void 0;h=a(36129);f=a(31149);e=a(85001);g=a(5021);Ia(c,f.ie);c.prototype.toString=function(){return this.code + "-" + this.subCode + " : " + this.message + "\n" + JSON.stringify(this.data);};n.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.eb,contentEndPts:this.ib};};Ha.Object.defineProperties(n.prototype,{eb:{configurable:!0,enumerable:!0,get:function(){return this.wKa.startTimeMs;}},ib:{configurable:!0,enumerable:!0,get:function(){var k;return null !== (k=this.wKa.endTimeMs) && void 0 !== k?k:void 0;}},EA:{configurable:!0,enumerable:!0,get:function(){var k;return Object.keys(null !== (k=this.wKa.next) && void 0 !== k?k:{});}}});d.prototype.HA=function(k){var l;l=this;!1;k=k.position.segmentId;0 === this.ba.size && Object.entries(this.j.V8()).forEach(function(m){var p;p=Fa(m);m=p.next().value;p=p.next().value;l.ba.set(m,new n(m,p));});this.ga=this.ba.get(k);};d.prototype.play=function(k){this.a0 && (this.a0=void 0);this.JW();this.log.trace("Playing segment",k);return this.ryb(k)?this.aFc(k):this.Aba(k);};d.prototype.Zf=function(k){this.log.trace("Queueing segment",k);return this.ryb(k)?this.HHc(k):this.IHc(k);};d.prototype.fl=function(k,l){var m,p;m=this;p=this.j.bb;if(null === p || void 0 === p || !p.Uj)return Promise.reject(this.getError(h.ca.T3a,"ASE session manager is not yet initialized",h.Y.Cxa,{segmentId:k,updates:l}));this.log.trace("Updating next segment weights",k,l);return new Promise(function(r,q){try{p.ESc(k,l);m.j.fireEvent(e.ja.m1a,{L:k,ROb:l});r();}catch(u){q(m.getError(h.ca.T3a,"updateNextSegmentWeights threw an exception",h.Y.kRb,{segmentId:k,updates:l,error:u}));}});};d.prototype.ryb=function(k){var l;return this.ga?void 0 !== (null === (l=this.j.V8()[this.ga.id].next) || void 0 === l?void 0:l[k]):!1;};d.prototype.UPa=function(){var k;k=this.j.bb;if(null === k || void 0 === k?0:k.Uj)return k.At().jFc;};d.prototype.Woc=function(){var k;k=this.j.bb;if(null === k || void 0 === k?0:k.Uj)return k.At().id;};d.prototype.cmc=function(){var k;k=this.j.bb;if(null === k || void 0 === k?0:k.Uj)return (k={GJa:0},k.GJa);};d.prototype.aFc=function(k){var l,m;l=this;m=this.j.bb;return null !== m && void 0 !== m && m.Uj?this.ga && 1 === this.ga.EA.length?this.Aba(k):this.j.Rd?void 0 === this.cmc()?(this.log.error("playNextSegment: branchOffset missing",{segment:k}),this.Aba(k)):new Promise(function(p,r){var w,x,y,z,B,A;function q(){!y && x && w && (A.cancel(),y=!0,l.log.trace("Telling ASE to choose the next segment",{id:k,stopped:x,repositioned:w,completed:y}),m.Vka(k,!1)?(p(),y=!0):(y=!0,l.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:k}),l.Aba(k).then(p).catch(r)));}function u(){m.stop();w=!0;l.log.trace("Player is repositioned",{id:k,stopped:x,repositioned:w,completed:y});l.j.removeEventListener(e.ja.m0,u);q();}function v(){x=!0;l.log.trace("ASE is stopped",{id:k,stopped:x,repositioned:w,completed:y});m.removeEventListener("stop",v);q();}w=!1;x=!1;y=!1;z=l.ba.get(k);B=l.UPa();if(void 0 === B)return (l.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:k}),l.Aba(k));l.log.trace("Seeking to next segment",JSON.stringify({segmentId:k,seekTo:B,currentSegment:l.ga,nextSegment:z},null,"  "));l.j.fireEvent(e.ja.lra,{ei:l.ga && l.ga.id,f_:k});m.addEventListener("stop",v);l.j.addEventListener(e.ja.m0,u);A=l.ud.Aq((0,g.Ji)(10),function(){y=!0;A.cancel();r(l.getError(h.ca.h2,"Timed out waiting for the player to be repositioned and ASE to be stopped",h.Y.gRb,{id:k,stopped:x,repositioned:w,completed:y}));});l.player.seek(B,e.Jc.jV);}):(this.log.warn("MediaPresenter is not initialized",k),Promise.reject(this.getError(h.ca.h2,"MediaPresenter is not initialized",h.Y.hRb,{id:k}))):Promise.reject(this.getError(h.ca.h2,"ASE session manager is not yet initialized",h.Y.Cxa,{id:k}));};d.prototype.Aba=function(k){var l;l=this.ba.get(k);return l?this.Qca(l,h.ca.h2):Promise.reject(this.getError(h.ca.h2,"Unable to find the separated segment",h.Y.S3a,{id:k}));};d.prototype.HHc=function(k){var l;l=this.j.bb;if(null === l || void 0 === l || !l.Uj)return Promise.reject(this.getError(h.ca.i2,"ASE session manager is not yet initialized",h.Y.Cxa,{id:k}));this.j.fireEvent(e.ja.lra,{ei:this.ga && this.ga.id,f_:k});if(l.Vka(k,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:k});return this.Fpb(k);};d.prototype.IHc=function(k){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:k,mid:this.j.R,srcsegment:this.Woc()});return this.Fpb(k);};d.prototype.Fpb=function(k){var l,m;l=this;if(this.a0)return Promise.reject(this.getError(h.ca.i2,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",h.Y.jRb,{currentSegment:this.ga?this.ga.id:void 0,queuedSegment:this.a0.id,failedSegment:k}));if(!this.ga)return Promise.reject(this.getError(h.ca.i2,"Unable to queue segment for delayed seek because there is no currently playing segment",h.Y.fRb,{nextSegmentid:k}));m=this.ba.get(k);if(!m)return Promise.reject(this.getError(h.ca.i2,"Unable to find the separated segment",h.Y.S3a,{nextSegmentid:k,currentSegmentId:this.ga.id}));this.a0={id:k,promise:new Promise(function(p,r){var q;l.nL=l.ZZ.wob({hvb:function(){return (0,g.ec)(100);}},function(){return l.player.GC() || 0;});q=l.UPa() - l.config().kCb;l.log.trace("Adding moment for queued segment for delayed seek",{segment:k,pts:q});l.nL.observe(q,function(){l.log.trace("Moment has arrived, seek to segment",{segment:k,currentSegment:l.ga.id,playerEndPts:l.UPa(),pts:q});l.a0=void 0;l.JW();l.Qca(m,h.ca.i2).then(p).catch(r);});})};this.a0.promise.catch(function(p){l.j.og(p.code,p);});return Promise.resolve();};d.prototype.Qca=function(k,l){var m;m=this;return new Promise(function(p,r){var q;try{q=k.eb;!1;m.player.seek(q,e.Jc.tu);p();}catch(u){r(m.getError(l,"Seek threw an exception",h.Y.iRb,{id:k.id,error:u}));}});};d.prototype.getError=function(k,l,m,p){this.log.warn(l,p);return new c(k,l,m,p);};b.k4a=d;},71807:function(t,b,a){var c,h;function d(){}function n(f,e,g,k,l){this.debug=f;this.version=e;this.hvc=g;this.YEc=k;this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.NEa=void 0;t=a(22970);c=a(22674);h=a(5021);n.prototype.inc=function(){return this.config().groupName;};n.prototype.HOa=function(){return this.config().Blb;};n.prototype.hvb=function(){return (0,h.ec)(this.config().zFc);};n.prototype.yub=function(){return this.config().hxc;};n.prototype.Gub=function(){return this.config().cyc;};d.prototype.hQ=function(f,e,g,k,l){return new n(f,e,g,k,l);};a=d;b.NEa=a;b.NEa=a=t.__decorate([(0,c.$)()],a);},12242:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v;function d(w,x,y,z,B,A,C,D,F,G,E){this.Ua=w;this.fh=x;this.ZZ=y;this.R1a=z;this.Cba=B;this.ud=A;this.lW=C;this.Hj=D;this.wNa=F;this.xk=G;this.config=E;}Object.defineProperty(b,"__esModule",{value:!0});b.PEa=void 0;t=a(22970);n=a(22674);c=a(81918);h=a(87386);f=a(76193);e=a(79274);g=a(51038);k=a(58872);l=a(64181);m=a(61494);p=a(24550);r=a(53085);q=a(95947);u=a(74870);a=a(4203);d.prototype.Occ=function(w,x,y){return new l.neb(this.Ua,this.fh,this.ZZ,this.R1a,x,w,this.Hj,this.Cba,this.xk,this.wNa,y);};d.prototype.Zbc=function(w,x){return new m.k4a(this.fh,w,x,this.ZZ,this.ud,this.lW,this.config);};v=d;b.PEa=v;b.PEa=v=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.$d)),t.__param(1,(0,n.u)(h.yb)),t.__param(2,(0,n.u)(f.dab)),t.__param(3,(0,n.u)(k.hgb)),t.__param(4,(0,n.u)(g.kcb)),t.__param(5,(0,n.u)(r.kl)),t.__param(6,(0,n.u)(p.d2)),t.__param(7,(0,n.u)(e.q4)),t.__param(8,(0,n.u)(q.N2)),t.__param(9,(0,n.u)(u.cm)),t.__param(10,(0,n.u)(a.Fc))],v);},64181:function(t,b,a){var f,e,g;function d(k,l,m,p,r,q,u,v,w,x,y){var z;z=this;this.Ua=k;this.ZZ=m;this.HWa=p;this.config=r;this.wb=q;this.Hj=u;this.Cba=v;this.xk=w;this.Ql=y;this.Jic=Object.values(f.Za).map(function(B){return {event:B,JC:function(A){return z.jc.kd(B,A);}};});this.jc=x.create();this.JL=[];this.log=l.ub("SegmentManager");this.VP=!0;this.au=this.xk.createElement("div",g.kEa);}function n(k,l,m,p,r,q,u,v,w,x,y){var z;z=this;this.log=k;this.config=l;this.uBc=m;this.HWa=p;this.Hj=r;this.Cba=q;this.bu=u;this.K=v;this.au=w;this.wb=x;this.Ql=y;this.JW=function(){z.nL && (z.nL.cancel(),z.nL=void 0);};this.JQa=function(B){z.log.trace("Received the transition event",{movieId:B.R});z.WHc();};this.vTa=function(){};this.log.debug("Constructing session data",c(v));this.hRc=new Promise(function(B){z.WHc=B;});}function c(k){return {movieId:k.R};}function h(k){return JSON.stringify({movieId:k.R,startPts:k.Eb,logicalEnd:k.cj,params:k.Bb?{trackingId:k.Bb.jn,authParams:k.Bb.rka,sessionParams:k.Bb.Eq,disableTrackStickiness:k.Bb.yMa,uiPlayStartTime:k.Bb.rB,loadImmediately:k.Bb.dqa,playbackState:k.Bb.playbackState?{currentTime:k.Bb.playbackState.currentTime,volume:k.Bb.playbackState.volume,muted:k.Bb.playbackState.muted,playbackRate:k.Bb.playbackState.playbackRate}:void 0,pin:k.Bb.rFb,heartbeatCooldown:k.Bb.TQa,uiLabel:k.Bb.$e,uxLabels:k.Bb.cwa}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.neb=void 0;f=a(85001);e=a(5021);g=a(33096);n.prototype.load=function(k){var l,m;l=this;this.log.trace("Loading new segment",c(this.K));this.player=this.HWa.YW(this.config,this.Cba,this.Hj,this.K,this.wb,this.Ql);this.player.addEventListener(f.Za.UY,function(p){l.log.trace("Segment is inactive",c(l.K));l.bu.close(l.Hj(p.errorCode));});this.player.addEventListener(f.Za.closed,this.JW);this.player.addEventListener(f.Za.A0a,function(p){p.timecodes.forEach(function(r){"start" === r.type && k?(l.K.Eb=r.uda,l.K.Bb.Eb=r.uda):"ending" === r.type && (l.K.cj=r.uda,l.K.Bb.cj=r.uda);});l.K.id && l.K.cj && l.wb.JOb(l.K.id,l.K.cj);l.bu.GOb(l.K);});if(k)(this.log.debug("Pausing background segment",c(this.K)),this.player.addEventListener(f.Za.ySa,this.JQa),this.player.cFb());else {this.au.appendChild(this.player.jq());m=function(p){l.JQa(p);l.player.removeEventListener(f.Za.loaded,m);};this.player.addEventListener(f.Za.loaded,m);}};n.prototype.observe=function(){var k,l,m;k=this;this.log.trace("Observing segment",h(this.K));if(this.nL)this.log.trace("Segment is currently observing",c(this.K));else if(this.K.Bb && this.K.Bb.dqa)this.vTa(this);else {l=this.uBc.wob(this.config,function(){var p;if(k.player){p=k.player.lG();if(p)return p;}return 0;});m=this.T7b(this.K);this.log.trace("Adding a moment to watch",{time:m});l.observe(m,function(){k.log.trace("Segment has reached its loading point",c(k.K));k.vTa(k);k.JW();});}};n.prototype.close=function(k){this.log.info("Closing segment",{segment:h(this.K),error:k});return this.player?(this.player.removeEventListener(f.Za.ySa,this.JQa),this.player.close(k)):Promise.resolve();};n.prototype.SCc=function(k){this.vTa=k;};n.prototype.T7b=function(k){var l,m;l=k.cj;k=k.Bb?k.Bb.dqa:!1;m=0;l && !k && (m=l - this.config.yub(),m < this.config.Gub() && (k=l - this.config.Gub(),m=l - k / 2));return m;};d.prototype.fpc=function(){return this.Ti && this.Ti.player?this.Ti.player.Tr():!1;};d.prototype.jq=function(){return this.au;};d.prototype.rG=function(){if(!this.Ti || !this.Ti.player)throw Error("Player not ready");return this.Ti.player;};d.prototype.GOb=function(k){var l,m;m=this.QNa(k);m?this.IOb(m,k):this.wb.Bt(k.id) || this.log.error("Tried to update a non-existent segment",{segment:h(k),currentMovieId:this.Ti.K.R,queuedMovieIds:this.JL.map(function(p){return p.K.R;}),xid:null === (l=this.Ti.player) || void 0 === l?void 0:l.Xz()});};d.prototype.Rf=function(k){var l;this.log.info("Adding segment",h(k));if(this.VP){this.log.trace("First segment, loading",c(k));l=this.rAb(k);this.VP=!1;}else (this.log.trace("Subsequent segment, caching",c(k)),(l=this.QNa(k))?this.IOb(l,k):(l=this.createSession(k),this.JL.push(l),this.Ti.observe()));return l?l.hRc:null;};d.prototype.transition=function(k,l){var m,p,r;p=this.GR;r=null === p || void 0 === p?void 0:p.player;if(p && r)return (this.GR=void 0,this.log.info("Transitioning segment",h(p.K)),r.a_a(this.Ua.wc().oa(e.ya)),this.INb(p,l));l=null === p || void 0 === p?void 0:p.K;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.Ti.K.R,xid:null === (m=this.Ti.player) || void 0 === m?void 0:m.Xz(),nextSegmentId:k,currentSegment:h(this.Ti.K),nextSegment:l?h(l):void 0,queuedMovieIds:this.JL.map(function(q){return q.K.R;})});return Promise.reject();};d.prototype.close=function(k){var l;l=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(c(this.Ti.K)),nextSession:this.GR?JSON.stringify(c(this.GR.K)):void 0});k=[this.Ti.close(k)];this.GR && k.push(this.GR.close());return Promise.all(k).then(function(){l.GR=void 0;l.JL=[];l.VP=!0;});};d.prototype.addListener=function(k,l,m){this.jc.addListener(k,l,m);};d.prototype.removeListener=function(k,l){this.jc.removeListener(k,l);};d.prototype.IOb=function(k,l){this.ADc(k.K,l);this.log.trace("Overwrote existing segment data",h(k.K));};d.prototype.rAb=function(k){var l,m;l=this;this.log.info("Loading the next episode",c(k));if(this.Ti){this.config.HOa()[k.R]=k.Eb;m=this.QNa(k);}else m=this.createSession(k);if(m)return (this.log.trace("Found the next session",c(k)),m.SCc(function(p){l.YMb(p);}),this.Ti?(this.log.trace("Subsequent playback, caching player and pausing",c(k)),this.GR=m,m.load(!0)):(this.log.trace("First playback transitioning immediately",c(k)),m.load(!1),this.INb(m)),m);this.log.warn("Unable to find the session, make sure to add it before loading",c(k));};d.prototype.INb=function(k,l){var m,p,r,q,u;l=void 0 === l?{}:l;q=k.player?null === (m=k.player) || void 0 === m?void 0:m.getError():"missing player";if(q)return (null === (p=k.player) || void 0 === p?void 0:p.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.Ti.K.R,mid:k.K.R,error:q,xid:null === (r=k.player) || void 0 === r?void 0:r.Xz()}),Promise.reject());this.log.trace("Playing episode",c(k.K));m=this.Ti;this.Ti=k;k=this.Ti.player;k.DZa(!1);this.XT(k,m?m.player:void 0);if(m && m.player){u=m.player.jq();p=k.jq();u.style.display="none";m=m.close();this.au.appendChild(p);m.then(function(){u.parentElement && u.parentElement.removeChild(u);});p.style.display="block";k.Vva(l);k.T0();k.play();}return Promise.resolve();};d.prototype.YMb=function(k){var l,m,p,r,q;if(this.JL.length && k.player){l=k.player.lG();m=this.JL[0];p=this.Ti.K.cj;r=this.Ti.K.Bb?this.Ti.K.Bb.dqa:!1;if(p || r){r?q=0:p && (q=p - this.config.yub());null !== l && l >= q && (this.log.info("Got a time change, loading the next player",c(m.K)),this.rAb(m.K),this.JL.splice(0,1),this.YMb(k));}}};d.prototype.QNa=function(k){return this.Ti.K.R === k.R?this.Ti:this.JL.find(function(l){return l.K.R === k.R;});};d.prototype.ADc=function(k,l){k.Eb=l.Eb || k.Eb;k.cj=l.cj || k.cj;k.Bb=l.Bb || k.Bb;k.S=l.S || k.S;};d.prototype.createSession=function(k){return new n(this.log,this.config,this.ZZ,this.HWa,this.Hj,this.Cba,this,k,this.au,this.wb,this.Ql);};d.prototype.XT=function(k,l){this.Jic.forEach(function(m){l && l.removeEventListener(m.event,m.JC);k.addEventListener(m.event,m.JC);});this.jc.kd(f.dV.Uca,{player:k});};b.neb=d;},49310:function(t,b,a){var n,c,h;function d(f){this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.uFa=void 0;t=a(22970);n=a(22674);c=a(4203);h=a(3887);d.prototype.hHc=function(f,e,g,k){this.config().WLc && (f=f.metrics,void 0 !== f && f.segment !== f.srcsegment && (g={isBranching:k || void 0,isPlaygraph:!k || void 0,mid:e.R,xid:e.Ia,srcxid:g.Ia,srcmid:g.R,segment:f.segment,srcsegment:f.srcsegment,srcsegmentduration:f.srcsegmentduration,srcoffset:f.srcoffset,srcMoffms:f.srcMoffms,srcvbitrate:f.srcvbitrate,srcvmaf:f.srcvmaf,srcVdlid:f.srcVdlid,destMoffms:f.destMoffms,destvbitrate:f.destvbitrate,destvmaf:f.destvmaf,destVdlid:f.destVdlid,auxMid:f.auxMid,auxMidType:f.auxMidType,auxSrcmid:f.auxSrcmid,auxSrcmidType:f.auxSrcmidType,seamlessRequested:f.seamlessRequested,transitionType:f.transitionType,transitionTypeAtRequest:f.transitionTypeAtRequest,nextExitPositionAtRequest:f.nextExitPositionAtRequest,delayToTransition:f.delayToTransition,durationOfTransition:f.durationOfTransition,atRequest:f.atRequest,atTransition:f.atTransition,discard:f.discard,adBreakLocationMs:f.adBreakLocationMs,srcadBreakLocationMs:f.srcadBreakLocationMs,adBreakTriggerId:f.adBreakTriggerId,srcadBreakTriggerId:f.srcadBreakTriggerId},g.moffms=e.j && e.sf && e.R !== e.sf?(0,h.Hh)(e.j.$tb()):(0,h.Hh)(e.Cr),e.YK.hb.transition(g)));};a=d;b.uFa=a;b.uFa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.Fc))],a);},24550:function(t,b){var a,d;Object.defineProperty(b,"__esModule",{value:!0});b.d2=b.VQb=b.WQb=b.XQb=void 0;(function(n){n[n.agc=0]="downloading";n[n.$fc=1]="downloaded";n[n.cC=2]="appended";n[n.buffered=3]="buffered";n[n.fy=4]="removed";n[n.Yad=5]="unused";})(a || (b.XQb=a={}));(function(n){n[n.waiting=1]="waiting";n[n.b9c=2]="ondeck";n[n.agc=4]="downloading";n[n.$fc=8]="downloaded";n[n.j$=6]="inprogress";})(d || (b.WQb=d={}));b.VQb="AseBufferViewSymbol";b.d2="AseBufferAccountingSymbol";},1891:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m){return function(){return new Promise(function(p,r){var q;q=m.Gb.get(c.b6a);q.Sb().then(function(){p(q);}).catch(function(u){r(u);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.wqb=void 0;t=a(22674);n=a(2413);c=a(31701);h=a(98281);f=a(24550);e=a(64372);g=a(52476);k=a(14188);l=a(33633);b.wqb=new t.we(function(m){m(g.T9a).to(k.XAa).pa();m(n.$5a).to(l.YAa);m(f.d2).to(e.lxa).pa();m(c.b6a).to(h.Rya).pa();m(c.a6a).dea(d);});},2413:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$5a="DxDisplaySymbol";},31701:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.b6a="DxManagerSymbol";b.a6a="DxManagerProviderSymbol";},52476:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.T9a="LogDisplayConfigSymbol";},64372:function(t,b,a){var n;function d(){this.yLc="";this.lUc=[[],[],[]];this.Oa=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.lxa=void 0;t=a(22970);n=a(22674);a(5021);a(24550);d.prototype.update=function(c){this.lUc[c.mediaType].forEach(function(h){h.$ad(c);});};Ha.Object.defineProperties(d.prototype,{L:{configurable:!0,enumerable:!0,get:function(){return this.yLc;}}});a=d;b.lxa=a;b.lxa=a=t.__decorate([(0,n.$)()],a);},44133:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.W4a=void 0;n=a(22365);d.qac=function(c){var h;if(n.yi.queryCommandSupported && n.yi.queryCommandSupported("copy")){h=n.yi.createElement("textarea");h.textContent=c;h.style.position="fixed";n.yi.body.appendChild(h);h.select();try{n.yi.execCommand("copy");}catch(f){console.warn("Copy to clipboard failed.",f);}finally{n.yi.body.removeChild(h);}}};b.W4a=d;},98281:function(t,b,a){var n,c;function d(h){this.Ifc=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Rya=void 0;t=a(22970);n=a(22674);a=a(2413);d.prototype.Sb=function(){var h;h=this;this.xK || (this.xK=new Promise(function(f,e){var g;g=[];h.Ifc.forEach(function(k){g.push(k.Sb());});Promise.all(g).then(function(){f();}).catch(function(k){e(k);});}));return this.xK;};c=d;b.Rya=c;b.Rya=c=t.__decorate([(0,n.$)(),t.__param(0,(0,n.ZG)(a.$5a))],c);},14188:function(t,b,a){var n,c,h,f,e;function d(g,k){g=h.Gf.call(this,g,"LogDisplayConfigImpl") || this;g.Vf=k;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.XAa=void 0;t=a(22970);n=a(22674);c=a(12501);h=a(64174);f=a(83767);a=a(5614);Ia(d,h.Gf);Ha.Object.defineProperties(d.prototype,{lca:{configurable:!0,enumerable:!0,get:function(){return !0;}},BZ:{configurable:!0,enumerable:!0,get:function(){return this.Vf.BZ;}},zAb:{configurable:!0,enumerable:!0,get:function(){return -1;}}});e=d;b.XAa=e;t.__decorate([c.config(c.jd,"renderDomDiagnostics")],e.prototype,"lca",null);t.__decorate([c.config(c.CK,"logDisplayMaxEntryCount")],e.prototype,"BZ",null);t.__decorate([c.config(c.CK,"logDisplayAutoshowLevel")],e.prototype,"zAb",null);b.XAa=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(f.uo)),t.__param(1,(0,n.u)(a.cV))],e);},33633:function(t,b,a){var h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z;function d(B,A,C,D,F,G,E,H,J,L){var K;K=this;this.La=B;this.$h=A;this.xk=C;this.ud=D;this.zs=F;this.config=G;this.mP=E;this.s0a=H;this.WLa=J;this.Es=L;this.SQc=function(){K.wea.ag(function(){K.update();});};this.clear=function(){K.entries=[];K.update();};this.ZBb=function(){K.sg.kZ=!K.sg.kZ;K.bL && K.iL && (K.sg.kZ?(K.bL.style.display="inline-block",K.iL.style.display="none"):(K.iL.style.display="inline-block",K.bL.style.display="none"));K.YS(!1);};this.yxc=function(M){var P;K.entries.push(M);P=K.config.BZ;0 <= P && K.entries.length > P && K.entries.shift();void 0 === K.sg.EF[M.sm] && (K.sg.EF[M.sm]=!0,K.YS(!1));K.sg.isVisible && !K.OMb?K.SQc():K.wea.ag();};this.Rfc=function(){c.download("all",K.entries.map(function(M){return M.Gva(!1);})).catch(function(M){console.error("Unable to download all logs to the file",M);});};this.AK=!1;this.sg={isVisible:!1,kZ:!0,AMa:!0,DTa:q.qo.E3,EF:{}};this.wea=this.s0a((0,m.Ji)(1));this.zjc=this.WLa((0,m.ec)(250));this.entries=[];!1;!1;}function n(B){var A;this.elements=[];A=document.createElementNS(n.Kda,"svg");A.setAttribute("viewBox",B);this.elements.push(A);}function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.YAa=void 0;t=a(22970);h=a(22674);f=a(74870);e=a(45842);g=a(34043);k=a(53085);l=a(30869);m=a(5021);p=a(81918);r=a(33554);q=a(87386);u=a(36410);v=a(34126);w=a(52476);x=a(17892);y=a(43193);z=a(44133);c.download=function(B,A){return c.Umc(B).then(function(C){return c.Zpc(C,A.join("\r\n")).then(function(D){return c.Ofc(D.filename,D.text);});});};c.Umc=function(B){return new Promise(function(A,C){var D,F,G,E,H,J,L;try{D=new Date();F=D.getDate().toString();G=(D.getMonth() + 1).toString();E=D.getFullYear().toString();H=D.getHours().toString();J=D.getMinutes().toString();L=D.getSeconds().toString();1 === F.length && (F="0" + F);1 === G.length && (G="0" + G);1 === H.length && (H="0" + H);1 === J.length && (J="0" + J);1 === L.length && (L="0" + L);A(E + G + F + H + J + L + "." + B + ".log");}catch(K){C(K);}});};c.Zpc=function(B,A){return new Promise(function(C,D){try{C({filename:B,text:URL.createObjectURL(new Blob([A],{type:"text/plain"}))});}catch(F){D(F);}});};c.Ofc=function(B,A){var C;try{C=document.createElement("a");C.setAttribute("href",A);C.setAttribute("download",B);C.style.display="none";document.body.appendChild(C);C.click();document.body.removeChild(C);return Promise.resolve();}catch(D){return Promise.reject(D);}};n.prototype.S0=function(){var B;B=document.createElementNS(n.Kda,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};n.prototype.U0=function(B,A,C){var D;D=document.createElementNS(n.Kda,"path");D.setAttribute("d",B);A && D.setAttribute("fill",A);C && D.setAttribute("fill-rule",C);this.addElement(D);return this;};n.prototype.vda=function(B,A,C,D,F){var G;F=void 0 === F?"#000000":F;G=document.createElementNS(n.Kda,"rect");G.setAttribute("x",B.toString());G.setAttribute("y",A.toString());G.setAttribute("height",C.toString());G.setAttribute("width",D.toString());F && G.setAttribute("fill",F);this.addElement(G);return this;};n.prototype.XOc=function(){var B;B=document.createElementNS(n.Kda,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};n.prototype.end=function(){this.elements.pop();return this;};n.prototype.build=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};n.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Ha.Object.defineProperties(n,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},iP:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});n.Kda="http://www.w3.org/2000/svg";d.prototype.Sb=function(){var B;B=this;this.xK || (this.xK=new Promise(function(A){Ca.addEventListener("keydown",function(C){C.ctrlKey && C.altKey && C.shiftKey && (C.keyCode == y.IU.$Ub?B.toggle():C.keyCode == y.IU.E && z.W4a.qac(B.mP().Vi));});B.zs.Hta(v.iBa.BSb,B.yxc);A();}));return this.xK;};d.prototype.show=function(){document.body && (this.element || (this.hcc(),this.AK=!0),!this.sg.isVisible && this.element && (document.body.appendChild(this.element),this.sg.isVisible=!0,this.update(!0)));};d.prototype.LC=function(){this.AK && this.sg.isVisible && this.element && (document.body.removeChild(this.element),this.sg.isVisible=!1);};d.prototype.toggle=function(){this.sg.isVisible?this.LC():this.show();this.YS(!1);};d.prototype.hcc=function(){var B,A;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});A=this.createElement("style");A.type="text/css";A.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(A);B.appendChild(this.hu=this.wdc());B.appendChild(this.ydc());B.appendChild(this.acc());this.element=B;}catch(C){console.error("Unable to create the log console",C);}};d.prototype.wdc=function(){var B,A;B=this;A=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");A.setAttribute("wrap","off");A.setAttribute("readonly","readonly");A.addEventListener("focus",function(){B.OMb=!0;B.update();B.hu && (B.hu.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});A.addEventListener("blur",function(){B.OMb=!1;B.update();B.hu && (B.hu.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return A;};d.prototype.ydc=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.Kcc());B.appendChild(this.tcc());B.appendChild(this.mcc());B.appendChild(this.zdc());B.appendChild(this.fcc());B.appendChild(this.Vcc());B.appendChild(this.Scc());B.appendChild(this.ncc());B.appendChild(this.gcc());return B;};d.prototype.acc=function(){var B,A,C,D,F,G;B=this;A=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");C=this.createElement("div","padding:2px");D=this.createElement("select",this.CC(22,160,1,2),"<option>Select categories</option>");F=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");A.appendChild(C);A.appendChild(F);C.appendChild(D);C.addEventListener("mousedown",function(E){E.preventDefault();});G=!1;C.addEventListener("click",function(){G?F.style.display="none":(F.innerHTML="",["all","none"].concat(Object.keys(B.sg.EF).sort()).forEach(function(E){F.appendChild(B.bcc(E,C));}),F.style.display="block");G=!G;});return A;};d.prototype.bcc=function(B,A){var C,D,F;C=this;D=this.createElement("label","display: block;margin:1px");D.htmlFor=B;F=this.createElement("input","margin:1px");F.type="checkbox";F.id=B;F.checked=this.sg.EF[B];F.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(C.sg.EF).forEach(function(G){C.sg.EF[G]="all" === B;}),A.click()):C.sg.EF[B]=!C.sg.EF[B];C.YS(!0);});D.appendChild(F);D.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return D;};d.prototype.Kcc=function(){var B,A;B=this;A=this.createElement("select",this.CC(22,NaN,1,2),'<option value="' + q.qo.Cp + '">Error</option><option value="' + (q.qo.UFa + '">Warn</option><option value="') + (q.qo.E3 + '">Info</option><option value="') + (q.qo.efb + '">Trace</option><option value="') + (q.qo.l + '">Debug</option>'));A.value=this.sg.DTa.toString();A.addEventListener("change",function(C){B.sg.DTa=parseInt(C.target.value);B.YS(!0);},!1);return A;};d.prototype.tcc=function(){var A,C;function B(D){return A.zjc.ag(function(){var F;F=D.target.value;A.sg.filter=F?new RegExp(F):void 0;A.YS(!0);});}A=this;C=this.createElement("input",this.CC(14,150,1,2));C.value=this.sg.filter?this.sg.filter.source:"";C.title="Filter (RegEx)";C.placeholder="Filter (RegEx)";C.addEventListener("keydown",B,!1);C.addEventListener("change",B,!1);return C;};d.prototype.mcc=function(){var B,A,C,D;B=this;A=this.createElement("div",this.CC(NaN,NaN));C=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");C.id="details";C.type="checkbox";C.title="Details";C.checked=this.sg.AMa;C.addEventListener("change",function(F){B.sg.AMa=F.target.checked;B.YS(!0);},!1);D=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");D.setAttribute("for","details");D.innerHTML="View details";A.appendChild(C);A.appendChild(D);return A;};d.prototype.zdc=function(){var B,A,C;B=this;A=this.createElement("button",this.CC());C=new n("0 0 24 24").S0().XOc().end().U0("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",n.iP,"nonzero").end().end().build();A.appendChild(C);A.addEventListener("click",function(){B.update();},!1);A.setAttribute("title","Refresh the log console");return A;};d.prototype.fcc=function(){var B,A;B=this.createElement("button",this.CC());A=new n("0 0 24 24").S0().vda(0,0,24,24,n.background).end().U0("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",n.iP).end().end().build();B.appendChild(A);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};d.prototype.Vcc=function(){var B;this.iL=this.createElement("button",this.CC());this.iL.style.display=this.sg.kZ?"none":"inline-block";B=new n("0 0 24 24").S0().vda(0,0,24,24,n.background).end().U0("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",n.iP,"nonzero").end().end().build();this.iL.addEventListener("click",this.ZBb,!1);this.iL.appendChild(B);this.iL.setAttribute("title","Shrink the log console");return this.iL;};d.prototype.Scc=function(){var B;this.bL=this.createElement("button",this.CC());this.bL.style.display=this.sg.kZ?"inline-block":"none";B=new n("0 0 24 24").S0().vda(4,4,16,16,n.background).end().U0("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",n.iP,"nonzero").end().end().build();this.bL.addEventListener("click",this.ZBb,!1);this.bL.appendChild(B);this.bL.setAttribute("title","Expand the log console");return this.bL;};d.prototype.ncc=function(){var B,A;B=this.createElement("button",this.CC());A=new n("0 0 26 26").S0().vda(0,0,24,24,n.background).end().U0("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",n.iP,"nonzero").end().end().build();B.appendChild(A);B.addEventListener("click",this.Rfc,!1);B.setAttribute("title","Download all log messages");return B;};d.prototype.gcc=function(){var B,A,C;B=this;A=this.createElement("button",this.CC());C=new n("0 0 24 24").S0().vda(0,0,24,24,n.background).end().U0("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",n.iP,"nonzero").end().end().build();A.appendChild(C);A.addEventListener("click",function(){B.toggle();},!1);A.setAttribute("title","Close the log console");return A;};d.prototype.YS=function(B){var A;B=void 0 === B?!1:B;A=void 0 === A?!1:A;!1;B && this.update(A);};d.prototype.update=function(B){var A;A=this;B=void 0 === B?!1:B;this.element && this.config.lca && Promise.resolve(this.i7b() + this.Wmc().join("\r\n")).then(function(C){A.element && A.hu && (A.hu.value=C,A.element.style.cssText=A.sg.kZ?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && A.ud.Aq(m.ia,function(){A.hu.scrollTop=A.hu.scrollHeight;}));}).catch(function(C){console.error("Unable to update the log console",C);});};d.prototype.Wmc=function(){var C;for(var B=[],A=this.entries.length - 1;0 <= A && 1E4 > B.length;A--){C=this.entries[A];(C.level || C.level) <= this.sg.DTa && this.sg.EF[C.sm] && (C=C.Gva(!this.sg.AMa),this.sg.filter && !this.sg.filter.test(C) || B.push(C));}return B.reverse();};d.prototype.i7b=function(){var B;B=this.mP();return "Version: 6.0053.800.912 \n" + ((B?"Esn: " + B.Vi:"") + "\nJsSid: ") + (this.$h.id + ", Epoch: " + this.La.Eg.oa(m.uu) + ", Start: " + this.$h.GG.oa(m.uu) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};d.prototype.createElement=function(B,A,C,D){return this.xk.createElement(B,A,C,D);};d.prototype.CC=function(B,A,C,D){B=void 0 === B?26:B;A=void 0 === A?26:A;return "display:inline-block;border:" + (void 0 === C?0:C) + "px solid " + n.iP + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(A)?"":"width:" + A + "px") + ";margin:0px 3px;background-color:transparent;" + (D?"border-radius:" + D + "px;":"");};a=d;b.YAa=a;a.qPc="logDxDisplay";b.YAa=a=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(l.vi)),t.__param(1,(0,h.u)(p.$d)),t.__param(2,(0,h.u)(f.cm)),t.__param(3,(0,h.u)(k.kl)),t.__param(4,(0,h.u)(u.MU)),t.__param(5,(0,h.u)(w.T9a)),t.__param(6,(0,h.u)(r.xB)),t.__param(7,(0,h.u)(e.EI)),t.__param(8,(0,h.u)(g.Kfa)),t.__param(9,(0,h.u)(x.aI))],a);},72574:function(t,b,a){var c;function d(){return c.N4.apply(this,arguments) || this;}function n(h){return new c.Ly(h,b.YM);}Object.defineProperty(b,"__esModule",{value:!0});b.ia=b.W$a=b.EAa=b.Iy=b.YM=b.NRb=void 0;b.Ww=n;b.ma=function(h){return new c.Ly(h,b.Iy);};b.i7c=function(h){return new c.Ly(h,b.EAa);};b.p8c=function(h){return new c.Ly(h,b.W$a);};c=a(35201);Ia(d,c.N4);b.NRb=d;b.YM=new d(1,"b");b.Iy=new d(8 * b.YM.yh,"B",b.YM);b.EAa=new d(1024 * b.Iy.yh,"KB",b.YM);b.W$a=new d(1024 * b.EAa.yh,"MB",b.YM);b.ia=n(0);},5021:function(t,b,a){var c;function d(){return c.N4.apply(this,arguments) || this;}function n(h){return new c.Ly(h,b.ya);}Object.defineProperty(b,"__esModule",{value:!0});b.ia=b.X7a=b.XBa=b.uu=b.ya=b.BN=b.tZb=void 0;b.s8c=function(h){return new c.Ly(h,b.BN);};b.JFc=function(h){return new c.Ly(h * b.uu.yh,b.BN);};b.ec=n;b.Ji=function(h){return new c.Ly(h,b.uu);};b.zUa=function(h){return new c.Ly(h,b.XBa);};b.n6c=function(h){return new c.Ly(h,b.X7a);};b.timestamp=function(h){return n(h);};c=a(35201);Ia(d,c.N4);b.tZb=d;b.BN=new d(1,"\u03bcs");b.ya=new d(1E3,"ms",b.BN);b.uu=new d(1E3 * b.ya.yh,"s",b.BN);b.XBa=new d(60 * b.uu.yh,"min",b.BN);b.X7a=new d(60 * b.XBa.yh,"hr",b.BN);b.ia=n(0);},35201:function(t,b,a){var c;function d(h,f){this.yh=f;this.KG=Math.floor(h);this.display=this.KG + " " + this.yh.name;}function n(h,f,e){this.yh=h;this.name=f;this.vr=e?e:this;(0,c.Kv)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Ly=b.N4=void 0;c=a(66523);n.prototype.k8=function(h){return this.yh == h.yh;};n.prototype.toJSON=function(){return this.name;};b.N4=n;d.prototype.oa=function(h){return this.yh.k8(h)?this.KG:Math.floor(this.KG * this.yh.yh / h.yh);};d.prototype.ZWa=function(h){return this.yh.k8(h)?this.KG:this.KG * this.yh.yh / h.yh;};d.prototype.as=function(h){return new d(this.oa(h),h);};d.prototype.to=function(h){return new d(this.oa(h),h);};d.prototype.toString=function(){return this.display;};d.prototype.toJSON=function(){return {magnitude:this.KG,units:this.yh.name};};d.prototype.add=function(h){return this.tnb(h);};d.prototype.ea=function(h){return this.tnb(h,function(f){return -f;});};d.prototype.scale=function(h){return new d(this.oa(this.yh.vr) * h,this.yh.vr);};d.prototype.vm=function(h){return this.oa(this.yh.vr) - h.oa(this.yh.vr);};d.prototype.k8=function(h){return 0 == this.vm(h);};d.prototype.Kyb=function(){return 0 == this.KG;};d.prototype.mSa=function(){return 0 > this.KG;};d.prototype.uSa=function(){return 0 < this.KG;};d.prototype.tnb=function(h,f){f=void 0 === f?function(e){return e;}:f;return new d(this.oa(this.yh.vr) + f(h.oa(this.yh.vr)),this.yh.vr);};b.Ly=d;},4203:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Fc=b.D3=b.Wq=b.ln=b.QVc=b.RVc=void 0;d=a(45247);Object.defineProperty(b,"AseConfigValues",{enumerable:!0,get:function(){return d.GWc;}});Object.defineProperty(b,"AseConfigExtensions",{enumerable:!0,get:function(){return d.FWc;}});b.ln={H2c:"casttv",xKa:"chrome",O2c:"chromecast",hv:"edge",Aqb:"edgeoss",Asb:"firefox",v6c:"ie",opera:"opera",VGb:"quest",ZIb:"safari",MMb:"tesla"};b.Wq={XIa:"android",Sxb:"ios",Nmb:"chromeos",$zb:"linux",HAb:"mac",b2a:"windows"};b.D3={I$b:"computer",phone:"phone",zQc:"tablet"};b.Fc="ConfigSymbol";},12501:function(t,b,a){var h,f,e;function d(g){return function(k,l){return k.PXa(l,g);};}function n(g,k){return g.yta.GHc[k] || c(g,k);}function c(g,k){g=g.iA.data[k];switch(typeof g){case "undefined":break;case "string":case "number":case "boolean":return g.toString();default:return JSON.stringify(g);}}Object.defineProperty(b,"__esModule",{value:!0});b.url=b.ma=b.Sn=b.b1a=b.htc=b.$0=b.string=b.uy=b.jd=b.CK=void 0;b.config=function(g,k,l){l=void 0 === l?!1:l;return function(m,p,r){var q,u;q=void 0 !== k?k:p;u=r.get;void 0 !== u && (r.get=function(){var v;if(!this.suc(p))return this.opc(p);a:{v=(this.z4b || l?n:c)(this,q.toString());if(void 0 !== v)if((v=g(this.fba,v),v instanceof e.su))this.Xsb(q,v);else break a;v=u.bind(this)();}this.SL(p,v);return v;});return r;};};b.w4c=function(g){return function(k,l){return k.gHb(l,g);};};b.object=function(){return function(g,k){return g.jHb(k);};};b.DHb=d;b.pz=function(g,k){return function(l,m){return l.Tm(m,g,k);};};h=a(72574);f=a(5021);e=a(37187);b.CK=function(g,k){return g.iHb(k);};b.jd=function(g,k){return g.LXa(k);};b.uy=function(g,k){return g.dw(k);};b.string=function(g,k){return g.PXa(k);};b.$0=function(g,k){return g.Tm(k,b.string);};b.htc=function(g,k){return g.Tm(k,b.CK);};b.b1a=function(g,k){return g.Tm(k,b.uy);};b.Sn=function(g,k){g=g.dw(k);return g instanceof e.su?g:(0,f.ec)(g);};b.ma=function(g,k){g=g.dw(k);return g instanceof e.su?g:(0,h.ma)(g);};b.url=d(/^\S+$/);},83767:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kya="ConfigurableInputsSymbol";b.uo="ValidatingConfigurableInputsSymbol";b.Cfa="ConfigNameSymbol";b.rN="InitParamsSymbol";},34231:function(t,b){var a,d;Object.defineProperty(b,"__esModule",{value:!0});b.Ls=b.Bw=b.BB=void 0;(function(n){n[n.mFa=0]="Test";n[n.nAa=1]="Int";n[n.mZb=2]="Staging";n[n.oYb=3]="Prod";})(a || (b.BB=a={}));(function(n){n[n.JN=0]="PreferMsl";n[n.Pcb=1]="PreferNoMsl";n[n.Eab=2]="NoMsl";})(d || (b.Bw=d={}));b.Ls="GeneralConfigSymbol";},5614:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cV="PlatformConfigDefaultsSymbol";},27081:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});b.tDa=void 0;d=a(5021);n=a(72574);c=a(75568);h={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.tDa=function(){this.rZa=!0;this.qJ=[];this.Th=[];this.$o=[];this.oB=[c.cr.iUb,c.cr.oya,c.cr.WYb,c.cr.UU];this.Hx=void 0;this.lNa=!0;this.zma=!1;this.bka=(0,n.ma)(288E4);this.dka=(0,n.ma)(335544320);this.cka=(0,n.ma)(1E4);this.OG=(0,d.ec)(15E3);this.tyc=(0,n.ma)(6291456);this.BZ=1E3;this.$Ja=!0;this.Eva=h;this.o1=(0,n.ma)(0);this.Moa=("ro zh-Hans zh-Hant vi ar he hi th ta te").split(" ");this.Noa=("ro zh-Hans zh-Hant ko vi ar he hi th ta te").split(" ");this.Spa=["th","ta"];(0,d.ec)(0);this.a$=!0;this.awa=!1;this.KX=!0;this.LT=this.UJ=this.mC=!1;this.kla=["v2"];};},52033:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.acb="PlatformConfigOverridesSymbol";},83810:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;t=a(22674);d=a(4203);n=a(80217);c=a(83767);h=a(34231);f=a(33823);e=a(48004);g=a(40158);k=a(69484);l=a(34731);m=a(23563);p=a(18135);b.config=new t.we(function(r){r(d.Fc).Pf(function(){return function(){return Ca._cad_global.config;};});r(c.kya).to(n.jya).pa();r(c.uo).to(n.OFa).pa();r(c.rN).to(n.mAa).pa();r(h.Ls).to(f.Eza).pa();r(e.yab).to(g.lCa).pa();r(k.c7a).to(l.Bza).pa();r(m.zB).to(p.fza).pa();});},64174:function(t,b,a){var c,h,f,e;function d(g,k){var l;l=e.call(this,g,k) || this;l.Inb=k;l.debug=g.debug;l.va=g.fh.ub(l.Inb);return l;}function n(g,k){this.Inb=k;this.uXa={};this.iA=g.iA;this.fba=g.fba;this.yta=g.yta;}Object.defineProperty(b,"__esModule",{value:!0});b.Gf=b.fU=b.dfb=void 0;t=a(22970);c=a(72465);h=a(22674);f=a(37187);b.dfb="isTestAccount";n.prototype.Xsb=function(){};n.prototype.SL=function(g,k){this.uXa[g]=[k,this.iA.bua];};n.prototype.suc=function(g){return c.zCa.of(this.uXa[g]).map(function(k){return k[1];}).or(-1) < this.iA.bua;};n.prototype.opc=function(g){return c.zCa.of(this.uXa[g]).map(function(k){return k[0];}).or(function(){throw Error("Invalid State Error");});};Ha.Object.defineProperties(n.prototype,{z4b:{configurable:!0,enumerable:!0,get:function(){var g,k;if(this && this.iA && this.iA.data){g=this.iA.data[b.dfb];"undefined" !== typeof g && (k=g.toString());g=this.fba.LXa(k);g=g instanceof f.su?!1:g;}else g=!1;return g;}}});e=n;b.fU=e;b.fU=e=t.__decorate([(0,h.$)(),t.__param(0,(0,h.ju)()),t.__param(1,(0,h.ju)())],e);Ia(d,e);d.prototype.Xsb=function(g,k){this.va.error("Invalid configuration value.",{name:g},k);this.debug.assert(!1);};a=d;b.Gf=a;b.Gf=a=t.__decorate([t.__param(0,(0,h.ju)()),t.__param(1,(0,h.ju)())],a);},80217:function(t,b,a){var h,f,e,g,k;function d(){this.PF={};this.QIb=0;}function n(l,m,p,r,q){this.debug=l;this.iA=m;this.fba=p;this.fh=r;this.yta=q;}function c(l,m,p){this.iA=l;this.fba=m;this.yta=p;}Object.defineProperty(b,"__esModule",{value:!0});b.mAa=b.OFa=b.jya=void 0;t=a(22970);h=a(22674);f=a(90597);e=a(87386);g=a(37187);k=a(17842);a=a(83767);b.jya=c;b.jya=c=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(a.rN)),t.__param(1,(0,h.u)(g.Uha)),t.__param(2,(0,h.u)(k.gEa))],c);b.OFa=n;b.OFa=n=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(f.wB)),t.__param(1,(0,h.u)(a.rN)),t.__param(2,(0,h.u)(g.Uha)),t.__param(3,(0,h.u)(e.yb)),t.__param(4,(0,h.u)(k.gEa))],n);d.prototype.ezc=function(l){this.PF=Object.assign({},this.PF,l);this.QIb++;};Ha.Object.defineProperties(d.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.PF;}},bua:{configurable:!0,enumerable:!0,get:function(){return this.QIb;}}});a=d;b.mAa=a;b.mAa=a=t.__decorate([(0,h.$)()],a);},33823:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m,p,r){m=f.Gf.call(this,m,void 0 === r?"GeneralConfigImpl":r) || this;m.Vf=p;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.Eza=b.LP=void 0;t=a(22970);n=a(5021);c=a(22674);h=a(12501);f=a(64174);e=a(34231);g=a(83767);a=a(5614);k={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.LP=function(m,p){return m.gHb(k[p] || p,e.BB);};Ia(d,f.Gf);Ha.Object.defineProperties(d.prototype,{LP:{configurable:!0,enumerable:!0,get:function(){return e.BB.oYb;}},WLb:{configurable:!0,enumerable:!0,get:function(){return (0,n.Ji)(8);}},groupName:{configurable:!0,enumerable:!0,get:function(){return "";}},IW:{configurable:!0,enumerable:!0,get:function(){return "";}},rea:{configurable:!0,enumerable:!0,get:function(){return "";}},Zja:{configurable:!0,enumerable:!0,get:function(){return !0;}},a$:{configurable:!0,enumerable:!0,get:function(){return this.Vf.a$;}},Mic:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ge:{configurable:!0,enumerable:!0,get:function(){return {};}},FSa:{configurable:!0,enumerable:!0,get:function(){return !1;}},yy:{configurable:!0,enumerable:!0,get:function(){return !1;}},f8:{configurable:!0,enumerable:!0,get:function(){return !0;}},nM:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},XF:{configurable:!0,enumerable:!0,get:function(){return 0 <= [e.BB.mFa,e.BB.nAa].indexOf(this.LP);}}});l=d;b.Eza=l;t.__decorate([h.config(b.LP,"environment")],l.prototype,"LP",null);t.__decorate([h.config(h.Sn,"storageTimeout")],l.prototype,"WLb",null);t.__decorate([h.config(h.string,"groupName")],l.prototype,"groupName",null);t.__decorate([h.config(h.string,"canaryGroupName",!0)],l.prototype,"IW",null);t.__decorate([h.config(h.string,"uiGroupName")],l.prototype,"rea",null);t.__decorate([h.config(h.jd,"applyIndexedDbOpenWorkaround")],l.prototype,"Zja",null);t.__decorate([h.config(h.jd,"ignoreIdbOpenError")],l.prototype,"a$",null);t.__decorate([h.config(h.jd,"executeStorageMigration")],l.prototype,"Mic",null);t.__decorate([h.config(h.object(),"browserInfo")],l.prototype,"Ge",null);t.__decorate([h.config(h.jd,"isTestAccount")],l.prototype,"FSa",null);t.__decorate([h.config(h.jd,"useRangeHeader")],l.prototype,"yy",null);t.__decorate([h.config(h.jd,"enableMilestoneEventList")],l.prototype,"f8",null);t.__decorate([h.config(h.object,"storageRules")],l.prototype,"nM",null);b.Eza=l=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(g.uo)),t.__param(1,(0,c.u)(a.cV)),t.__param(2,(0,c.u)(g.Cfa)),t.__param(2,(0,c.optional)())],l);},41605:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.L4a="CapabilityDetectorFactorySymbol";},22210:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.je=void 0;b.je=a;a.Oza=/^hevc-/;a.C7a=/^hevc-main/;a.ZTb=/^hevc-main10-L\d+-dash-cenc-prk(-do)?$/;a.y7a=/^hevc-hdr-|hevc-dv/;a.jl=/^hevc-hdr-/;a.il=/^hevc-dv/;a.mN=/h264mpl30/;a.xU=/h264mpl31/;a.jI=/h264hpl30-dash$/;a.kI=/h264hpl31-dash$/;a.kN=/h264hpl30-dash-playready-live$/;a.lN=/h264hpl31-dash-playready-live$/;a.OQb=/h264hpl.*-dash$/;a.lj=/^av1-main/;a.cfa=/^av1-hdr10plus/;a.JTb=/[l|L]4[0-1]-/;a.Kfb=/-L5[0-1]-/;a.FAa=/-live/;a.sQb=/^heaac-2-/;a.aUb=/^heaac-2hq-dash/;a.vo=/^xheaac-dash/;a.rSb=/ddplus-5/;a.sSb=/ddplus-atmos/;},73796:function(t,b,a){function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.jgb=b.J3a=b.Ec=void 0;t=a(75568);b.Ec=d;d.contentType=function(n){return "video/mp4;codecs=" + n;};d.sUa='video/mp4; codecs="avc1.4d0028"';d.szc='video/mp4; codecs="hev1.1.6.L93.B0"';d.rzc='video/mp4;codecs="avc1,mp4a";features="audio-endpoint-codec=DD+JOC"';d.iE="avc1.4d0028";d.hE="avc1.640028";d.Vh="hev1.1.6.L93.B0";d.qya="dvhe.05.01";d.rya="dvhe.05.04";d.sya="dvhe.05.05";d.tya="dvhe.05.06";d.uya="dvhe.05.07";d.vya="dvhe.05.09";d.il=d.qya;d.jl=d.Vh;d.oo="mp4a.40.5";d.vo="mp4a.40.42";d.u2="ec-3";d.lj="av01.0.04M.08";d.qw="av01.0.04M.10.0.112.09.16.09.0";a={};b.J3a=(a[t.Lc.oo]=d.oo,a[t.Lc.bga]=d.oo,a[t.Lc.vE]=d.oo,a[t.Lc.vo]=d.vo,a[t.Lc.dN]=d.u2,a[t.Lc.eN]=d.u2,a[t.Lc.fN]=d.u2,a);a={};b.jgb=(a[t.H.mN]=d.iE,a[t.H.xU]=d.iE,a[t.H.aga]=d.iE,a[t.H.Lza]=d.iE,a[t.H.Mza]=d.iE,a[t.H.Nza]=d.iE,a[t.H.Jza]=d.hE,a[t.H.jI]=d.hE,a[t.H.kI]=d.hE,a[t.H.lI]=d.hE,a[t.H.Kza]=d.hE,a[t.H.kN]=d.hE,a[t.H.lN]=d.hE,a[t.H.wU]=d.hE,a[t.H.cga]=d.Vh,a[t.H.dga]=d.Vh,a[t.H.ega]=d.Vh,a[t.H.fga]=d.Vh,a[t.H.BU]=d.Vh,a[t.H.CU]=d.Vh,a[t.H.i3]=d.Vh,a[t.H.l3]=d.Vh,a[t.H.o3]=d.Vh,a[t.H.r3]=d.Vh,a[t.H.j3]=d.Vh,a[t.H.m3]=d.Vh,a[t.H.p3]=d.Vh,a[t.H.s3]=d.Vh,a[t.H.u3]=d.Vh,a[t.H.w3]=d.Vh,a[t.H.h3]=d.Vh,a[t.H.k3]=d.Vh,a[t.H.n3]=d.Vh,a[t.H.q3]=d.Vh,a[t.H.t3]=d.Vh,a[t.H.v3]=d.Vh,a[t.H.w2]=d.il,a[t.H.y2]=d.il,a[t.H.pU]=d.il,a[t.H.B2]=d.il,a[t.H.D2]=d.il,a[t.H.F2]=d.il,a[t.H.Ffa]=d.il,a[t.H.Gfa]=d.il,a[t.H.Hfa]=d.il,a[t.H.Ifa]=d.il,a[t.H.x2]=d.il,a[t.H.z2]=d.il,a[t.H.A2]=d.il,a[t.H.C2]=d.il,a[t.H.E2]=d.il,a[t.H.G2]=d.il,a[t.H.R2]=d.jl,a[t.H.U2]=d.jl,a[t.H.AU]=d.jl,a[t.H.Z2]=d.jl,a[t.H.c3]=d.jl,a[t.H.f3]=d.jl,a[t.H.S2]=d.jl,a[t.H.V2]=d.jl,a[t.H.X2]=d.jl,a[t.H.a3]=d.jl,a[t.H.d3]=d.jl,a[t.H.g3]=d.jl,a[t.H.Q2]=d.jl,a[t.H.T2]=d.jl,a[t.H.W2]=d.jl,a[t.H.Y2]=d.jl,a[t.H.b3]=d.jl,a[t.H.e3]=d.jl,a[t.H.Owa]=d.lj,a[t.H.Pwa]=d.lj,a[t.H.tw]=d.lj,a[t.H.uw]=d.lj,a[t.H.vw]=d.lj,a[t.H.ww]=d.lj,a[t.H.Y1]=d.lj,a[t.H.Z1]=d.lj,a[t.H.PM]=d.qw,a[t.H.QM]=d.qw,a[t.H.SM]=d.qw,a[t.H.TM]=d.qw,a[t.H.W1]=d.qw,a[t.H.X1]=d.qw,a);},51259:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y;Object.defineProperty(b,"__esModule",{value:!0});b.Iz=void 0;t=a(22674);d=a(56800);n=a(4203);c=a(98960);h=a(1079);f=a(95162);e=a(57718);g=a(16152);k=a(79974);l=a(57657);m=a(41605);p=a(43466);r=a(22365);q=a(94800);u=a(74742);v=a(18580);w=a(63368);x=a(33430);y=a(78866);b.Iz=new t.we(function(z){z(f.YEa).to(e.XEa).pa();z(d.rU).to(c.Fya).pa();z(g.M8a).to(k.qAa).pa();z(m.L4a).to(p.$xa).pa();z(g.bcb).xp({isTypeSupported:r.EN && r.EN.isTypeSupported});z(l.Q6a).vM(function(B){return {Rmc:function(){return B.Gb.get(w.fha);}};});z(h.qU).vM(function(B){return B.Gb.get(n.Fc);});z(x.B$a).to(y.GBa).pa();z(q.sza).to(u.rza).pa();z(v.Ycb).xp(Ca);});},56800:function(t,b){var a,d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.rU=b.Eob=b.Aw=b.fr=b.lE=b.v=void 0;(function(h){h[h.Audio=0]="Audio";h[h.dgb=1]="Video";})(a || (b.v=a={}));(function(h){h[h.pE=0]="Default";h[h.CE=1]="Microsoft";})(d || (b.lE=d={}));(function(h){h[h.pE=0]="Default";h[h.oU=1]="Chrome";h[h.CE=2]="Microsoft";})(n || (b.fr=n={}));(function(h){h[h.xga=0]="Level_1_4";h[h.vN=1]="Level_2_2";})(c || (b.Aw=c={}));b.Eob=function(h,f){return h?{supported:!0}:{supported:!1,reason:f};};b.rU="DeviceCapabilitiesSymbol";},1079:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.qU=b.hTb=void 0;d=a(56800);b.hTb=function(){this.qJ=[];this.Th=[];this.$o=[];this.Vjb=[];this.lJa=d.lE.pE;this.hwa=d.fr.pE;};b.qU="DeviceCapabilitiesConfigSymbol";},94800:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sza=void 0;t=b.hN={};t.SZb="unknown";t.v2a="absent";t.Xcb="present";t.Error="error";b.sza="ExternalDisplayLogHelperSymbol";},57657:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q6a="ExtraPlatformInfoProviderSymbol";},16152:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.M8a="IsTypeSupportedProviderFactorySymbol";b.bcb="PlatformIsTypeSupportedSymbol";},17612:function(t,b,a){var n,c,h,f;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.sb=void 0;n=a(53921);c=a(31149);h=a(36129);f=a(82100);d.c9=function(e){if(e){if(e.includes("playready"))return n.Rq.R_;if(e.includes("fps"))return n.Rq.aY;if(e.includes("widevine"))return n.Rq.VPb;}throw new c.ie(h.ca.uTb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + e);};d.SOa=function(e){switch(e){case n.Rq.R_:return "playready";case n.Rq.aY:return "fairplay";default:return "widevine";}};d.gZ=function(e){return e.includes("3000") || e.includes(f.Kdb.wE);};b.sb=d;d.LTb="com.apple.fps.3_0";d.iia="com.widevine.alpha";d.Bgb="com.widevine.alpha.experiment";d.HB="com.microsoft.playready.recommendation";d.vd="com.microsoft.playready.recommendation.3000";d.bYb="com.microsoft.playready.recommendation.2000";d.dcb="com.microsoft.playready.recommendation.3000.clearlead";d.lga=[d.vd,d.dcb];},33430:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.B$a="MediaCapabilitiesDetectorSymbol";},75568:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.H={mN:"playready-h264mpl30-dash",xU:"playready-h264mpl31-dash",aga:"playready-h264mpl40-dash",Lza:"h264mpl30-dash-playready-prk-qc",Mza:"h264mpl31-dash-playready-prk-qc",Nza:"h264mpl40-dash-playready-prk-qc",Jza:"playready-h264hpl22-dash",jI:"playready-h264hpl30-dash",kI:"playready-h264hpl31-dash",lI:"playready-h264hpl40-dash",Kza:"h264hpl22-dash-playready-live",kN:"h264hpl30-dash-playready-live",lN:"h264hpl31-dash-playready-live",wU:"h264hpl40-dash-playready-live",cga:"hevc-main10-L30-dash-cenc",dga:"hevc-main10-L31-dash-cenc",ega:"hevc-main10-L40-dash-cenc",fga:"hevc-main10-L41-dash-cenc",BU:"hevc-main10-L50-dash-cenc",CU:"hevc-main10-L51-dash-cenc",i3:"hevc-main10-L30-dash-cenc-prk",l3:"hevc-main10-L31-dash-cenc-prk",o3:"hevc-main10-L40-dash-cenc-prk",r3:"hevc-main10-L41-dash-cenc-prk",j3:"hevc-main10-L30-dash-cenc-prk-do",m3:"hevc-main10-L31-dash-cenc-prk-do",p3:"hevc-main10-L40-dash-cenc-prk-do",s3:"hevc-main10-L41-dash-cenc-prk-do",u3:"hevc-main10-L50-dash-cenc-prk-do",w3:"hevc-main10-L51-dash-cenc-prk-do",h3:"hevc-main10-L30-dash-cenc-live",k3:"hevc-main10-L31-dash-cenc-live",n3:"hevc-main10-L40-dash-cenc-live",q3:"hevc-main10-L41-dash-cenc-live",t3:"hevc-main10-L50-dash-cenc-live",v3:"hevc-main10-L51-dash-cenc-live",w2:"hevc-dv5-main10-L30-dash-cenc-prk",y2:"hevc-dv5-main10-L31-dash-cenc-prk",pU:"hevc-dv5-main10-L40-dash-cenc-prk",B2:"hevc-dv5-main10-L41-dash-cenc-prk",D2:"hevc-dv5-main10-L50-dash-cenc-prk",F2:"hevc-dv5-main10-L51-dash-cenc-prk",Ffa:"hevc-dv5-main10-L40-dash-cenc-prk-qc",Gfa:"hevc-dv5-main10-L41-dash-cenc-prk-qc",Hfa:"hevc-dv5-main10-L50-dash-cenc-prk-qc",Ifa:"hevc-dv5-main10-L51-dash-cenc-prk-qc",x2:"hevc-dv5-main10-L30-dash-cenc-prk-do",z2:"hevc-dv5-main10-L31-dash-cenc-prk-do",A2:"hevc-dv5-main10-L40-dash-cenc-prk-do",C2:"hevc-dv5-main10-L41-dash-cenc-prk-do",E2:"hevc-dv5-main10-L50-dash-cenc-prk-do",G2:"hevc-dv5-main10-L51-dash-cenc-prk-do",R2:"hevc-hdr-main10-L30-dash-cenc-prk",U2:"hevc-hdr-main10-L31-dash-cenc-prk",AU:"hevc-hdr-main10-L40-dash-cenc-prk",Z2:"hevc-hdr-main10-L41-dash-cenc-prk",c3:"hevc-hdr-main10-L50-dash-cenc-prk",f3:"hevc-hdr-main10-L51-dash-cenc-prk",S2:"hevc-hdr-main10-L30-dash-cenc-prk-do",V2:"hevc-hdr-main10-L31-dash-cenc-prk-do",X2:"hevc-hdr-main10-L40-dash-cenc-prk-do",a3:"hevc-hdr-main10-L41-dash-cenc-prk-do",d3:"hevc-hdr-main10-L50-dash-cenc-prk-do",g3:"hevc-hdr-main10-L51-dash-cenc-prk-do",Q2:"hevc-hdr-main10-L30-dash-cenc-live",T2:"hevc-hdr-main10-L31-dash-cenc-live",W2:"hevc-hdr-main10-L40-dash-cenc-live",Y2:"hevc-hdr-main10-L41-dash-cenc-live",b3:"hevc-hdr-main10-L50-dash-cenc-live",e3:"hevc-hdr-main10-L51-dash-cenc-live",Owa:"av1-main-L20-dash-cbcs-prk",Pwa:"av1-main-L21-dash-cbcs-prk",tw:"av1-main-L30-dash-cbcs-prk",uw:"av1-main-L31-dash-cbcs-prk",vw:"av1-main-L40-dash-cbcs-prk",ww:"av1-main-L41-dash-cbcs-prk",Y1:"av1-main-L50-dash-cbcs-prk",Z1:"av1-main-L51-dash-cbcs-prk",PM:"av1-hdr10plus-main-L30-dash-cbcs-prk",QM:"av1-hdr10plus-main-L31-dash-cbcs-prk",SM:"av1-hdr10plus-main-L40-dash-cbcs-prk",TM:"av1-hdr10plus-main-L41-dash-cbcs-prk",W1:"av1-hdr10plus-main-L50-dash-cbcs-prk",X1:"av1-hdr10plus-main-L51-dash-cbcs-prk"};b.Gc={yWc:[b.H.mN,b.H.xU,b.H.aga],V1:[b.H.jI,b.H.kI,b.H.lI],U1:[b.H.kN,b.H.lN,b.H.wU],t2:[b.H.cga,b.H.dga,b.H.ega,b.H.fga,b.H.BU,b.H.CU],jU:[b.H.i3,b.H.l3,b.H.o3,b.H.r3,b.H.BU,b.H.CU],kU:[b.H.j3,b.H.m3,b.H.p3,b.H.s3,b.H.u3,b.H.w3],wfa:[b.H.h3,b.H.k3,b.H.n3,b.H.q3,b.H.t3,b.H.v3],hU:[b.H.R2,b.H.U2,b.H.AU,b.H.Z2,b.H.c3,b.H.f3],iU:[b.H.S2,b.H.V2,b.H.X2,b.H.a3,b.H.d3,b.H.g3],vfa:[b.H.Q2,b.H.T2,b.H.W2,b.H.Y2,b.H.b3,b.H.e3],v4a:[b.H.w2,b.H.pU,b.H.D2,b.H.y2,b.H.B2,b.H.F2],w4a:[b.H.x2,b.H.A2,b.H.E2,b.H.z2,b.H.C2,b.H.G2],Qxa:[b.H.tw,b.H.uw,b.H.vw,b.H.ww,b.H.Y1,b.H.Z1],RRb:[b.H.PM,b.H.QM,b.H.SM,b.H.TM,b.H.W1,b.H.X1]};b.Lc={oo:"heaac-2-dash",bga:"heaac-5.1-dash",vE:"heaac-2hq-dash",vo:"xheaac-dash",dN:"ddplus-5.1-dash",eN:"ddplus-5.1hq-dash",fN:"ddplus-atmos-dash"};b.cr={WYb:"simplesdh",oya:"dfxp-ls-sdh",hia:"webvtt-lssdh-ios8",iUb:"imsc1.1",UU:"nflx-cmisc"};},18580:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ycb="PresentationAPISymbol";},95162:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.YEa="SourceBufferTypeProviderSymbol";},43466:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w;function d(x,y,z,B,A,C,D,F){this.Fyb=x;this.config=y;this.ud=z;this.La=B;this.is=A;this.Pt=C;this.Jv=D;this.SG=F;}Object.defineProperty(b,"__esModule",{value:!0});b.$xa=void 0;t=a(22970);n=a(22674);c=a(56800);h=a(16152);f=a(1079);e=a(92049);g=a(75456);k=a(46286);l=a(31741);m=a(53085);p=a(30869);r=a(42207);q=a(5180);u=a(21103);v=a(87386);a=a(33430);d.prototype.Vbc=function(x){var y;y=this.Fyb.Fob();switch(x){case c.lE.CE:return new e.bab(this.config,y,this.is,this.SG);default:return new l.Mfa(this.config,y,this.SG);}};d.prototype.Cdc=function(x){var y;y=this.Fyb.Fob();switch(x){case c.fr.oU:x=new q.Q4a(this.config,y,this.is,this.Pt,this.Jv,this.La,this.SG);break;case c.fr.CE:x=new g.n$a(this.config,y,this.is,this.ud,this.La,this.SG,this.Pt);break;default:x=new k.gN(this.config,y,this.is,this.SG);}return x;};w=d;b.$xa=w;b.$xa=w=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.M8a)),t.__param(1,(0,n.u)(f.qU)),t.__param(2,(0,n.u)(m.kl)),t.__param(3,(0,n.u)(p.vi)),t.__param(4,(0,n.u)(r.wi)),t.__param(5,(0,n.u)(u.My)),t.__param(6,(0,n.u)(v.yb)),t.__param(7,(0,n.u)(a.B$a))],w);},65264:function(t,b,a){var n,c,h,f,e;function d(g,k,l,m){this.config=g;this.Lh=k;this.mediaType=l;this.SG=m;this.mUa={};this.mUa[n.v.Audio]="audio";this.mUa[n.v.dgb]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.bN=void 0;n=a(56800);t=a(57180);c=a(22210);h=a(22365);f=a(7802);e=new t.nV().format;d.prototype.Lvb=function(g){return this.rfc(this.Zoc(this.ovb(),g));};d.prototype.HW=function(g){return this.Lh.isTypeSupported(g);};d.prototype.umc=function(){return [c.je.sQb,c.je.aUb,c.je.mN,c.je.xU,c.je.jI,c.je.kI,c.je.kN,c.je.lN];};d.prototype.Xsc=function(){this.UA=[];this.kH=[];this.config().yDc && this.kH.push(c.je.vo);this.config().zEb && this.kH.push(c.je.C7a);this.config().yEb && this.kH.push(c.je.y7a);this.config().xEb && this.kH.push(c.je.il);this.config().vEb && this.kH.push(c.je.lj);this.config().wEb && this.kH.push(c.je.cfa);this.kH=this.kH.concat(this.umc());!this.config().Uhc && this.UA.push(c.je.vo);!this.config().d8 && this.UA.push(c.je.rSb);!this.config().pma && this.UA.push(c.je.sSb);!this.config().Fhc && this.UA.push(/prk$/);this.config().xEb || this.config().hhc || this.UA.push(c.je.il);this.config().zEb || this.config().nhc || this.UA.push(c.je.C7a);this.config().yEb || this.config().YMa || this.UA.push(c.je.y7a);this.config().vEb || this.config().Vgc || this.UA.push(c.je.lj);this.config().wEb || this.config().Wgc || this.UA.push(c.je.cfa);!this.config().Qhc && this.UA.push(c.je.Kfb);};d.prototype.Zoc=function(g,k){var l;l=h.tg.hardwareConcurrency && h.tg.hardwareConcurrency;return g.filter(function(m){return void 0 !== m.minimumCores && l < m.minimumCores || void 0 !== m.restrictToUILabels && (void 0 === (null === k || void 0 === k?void 0:k.$e) || !m.restrictToUILabels.includes(k.$e))?!1:!0;}).map(function(m){return m.name;});};d.prototype.w8=function(g){var k,l;k=this;l=g.map(function(m){for(var p=Fa(k.kH),r=p.next();!r.done;r=p.next())if(r.value.test(m))return Promise.resolve({supported:!0});p=Fa(k.UA);for(r=p.next();!r.done;r=p.next())if(r.value.test(m))return Promise.resolve({supported:!1,reason:"excluded"});return k.v8(m).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(l).then(function(m){return new f.lha(g,m);});};d.prototype.v8=function(g){var k;k=this;return this.wSa(g).then(function(l){return l.supported?k.config().Ahc?k.SG.v8(g):k.MNa(g):l;});};d.prototype.MNa=function(g){var k;g=this.tXa[g];k="";return g?(Array.isArray(g) && (k=1 < g.length?" " + g[1]:"",g=g[0]),g=e("{0}/mp4;codecs={1};{2}",this.mUa[this.mediaType],g,k),this.HW(g)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};d.prototype.rfc=function(g){this.Xsc();return this.w8(g);};d.prototype.wSa=function(){return Promise.resolve({supported:!0});};Ha.Object.defineProperties(d.prototype,{tXa:{configurable:!0,enumerable:!0,get:function(){this.iib || (this.iib=this.Fz());return this.iib;}}});b.bN=d;},5180:function(t,b,a){var n,c,h,f,e;function d(g,k,l,m,p,r,q){g=n.gN.call(this,g,k,l,q) || this;g.Pt=m;g.Jv=p;g.La=r;g.SG=q;g.type=c.fr.oU;g.log=g.Jv.ub("ChromeVideoCapabilityDetector");return g;}Object.defineProperty(b,"__esModule",{value:!0});b.Q4a=void 0;n=a(46286);c=a(56800);h=a(5021);f=a(22210);e=a(17612);Ia(d,n.gN);d.prototype.oT=function(g){switch(g){case c.Aw.vN:return this.jQc;default:return Promise.resolve(!1);}};d.prototype.s9=function(){var g;g=this;return this.oT(c.Aw.vN).then(function(k){return k?c.Aw.vN:void 0;}).then(function(k){return g.rla(k);});};d.prototype.wIa=function(g){this.KA=g;};d.prototype.DOb=function(){var g;if(this.KA){g=this.Gwb && this.Hwb && this.Gwb.ea(this.Hwb).oa(h.ya);this.KA.itshdcp=JSON.stringify({hdcp2:this.bA,time2:g});}};d.prototype.wSa=function(g){var k;k=this;return this.Pt.oG().then(function(l){l=e.sb.gZ(l.Ix);return [f.je.lj,f.je.cfa].some(function(m){return m.test(g);}) && k.config().lzc && l || f.je.OQb.test(g) && !f.je.FAa.test(g) && !k.config().$gc && l || f.je.ZTb.test(g) && !f.je.FAa.test(g) && !k.config().qhc && l?{supported:!1,reason:"mcclearen-restricted"}:!l && f.je.Oza.test(g) || f.je.JTb.test(g) && !(k.config().mhc || k.config().lhc && l) || f.je.Kfb.test(g) && !l?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Ha.Object.defineProperties(d.prototype,{jQc:{configurable:!0,enumerable:!0,get:function(){var g;g=this;this.d0a || (this.config().phc?this.d0a=this.Pt.oG().then(function(k){if(!e.sb.gZ(k.Ix))return (g.bA="not HW_SECURE_ALL",g.log.trace("hdcpStatus: " + g.bA),!1);g.Hwb=g.La.Eg;return k.createMediaKeys().then(function(l){if(l.getStatusForPolicy)return l.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(m){g.Gwb=g.La.Eg;g.bA=m;g.log.trace("hdcpStatus: " + g.bA);return "usable" === g.bA;});g.bA="not available";g.log.trace("hdcpStatus: " + g.bA);return !1;});}).catch(function(k){g.bA="exception";g.log.error("Exception in supportsHdcpLevel",{hdcpStatus:g.bA},k);return !1;}).then(function(k){g.DOb();return k;}):(this.bA="not enabled",this.log.trace("hdcpStatus: " + this.bA),this.DOb(),this.d0a=Promise.resolve(!1)));return this.d0a;}}});b.Q4a=d;},31741:function(t,b,a){var n,c,h,f,e,g;function d(k,l,m){m=c.bN.call(this,k,l,n.v.Audio,m) || this;m.config=k;m.Lh=l;m.type=n.lE.pE;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.Mfa=void 0;n=a(56800);c=a(65264);h=a(73796);t=a(57180);f=a(12187);e=a(7802);g=new t.nV().format;Ia(d,c.bN);d.prototype.uva=function(){var k;k=g(d.Pva,h.Ec.u2);return Promise.resolve(this.config().d8 && this.Lh.isTypeSupported(k));};d.prototype.Gda=function(){var k;k=g(d.Pva,h.Ec.u2);return Promise.resolve(this.config().pma && this.Lh.isTypeSupported(k));};d.prototype.Fz=function(){return f.Cya.Fz();};d.prototype.ovb=function(){return this.config().qJ;};d.prototype.w8=function(k){return this.config().vDc?Promise.resolve(new e.lha(k,k.map(function(){return {supported:!0};}))):c.bN.prototype.w8.call(this,k);};b.Mfa=d;d.Pva="audio/mp4;codecs={0};";},12187:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Cya=void 0;n=a(75568);d.Fz=function(){var c;c={};return (c[n.Lc.oo]="mp4a.40.2",c[n.Lc.bga]="mp4a.40.2",c[n.Lc.vE]="mp4a.40.2",c[n.Lc.vo]="mp4a.40.42",c[n.Lc.dN]="ec-3",c[n.Lc.eN]="ec-3",c[n.Lc.fN]="ec-3",c);};b.Cya=d;},46286:function(t,b,a){var n,c,h,f,e,g;function d(k,l,m,p){var r;r=h.bN.call(this,k,l,n.v.dgb,p) || this;r.config=k;r.Lh=l;r.is=m;r.Bqa=p;r.type=n.fr.pE;return r;}Object.defineProperty(b,"__esModule",{value:!0});b.gN=void 0;n=a(56800);c=a(75568);h=a(65264);f=a(48617);e=a(45266);g=a(7802);Ia(d,h.bN);d.prototype.oT=function(){return Promise.resolve(!1);};d.prototype.i9=function(){return Promise.resolve("");};d.prototype.Hda=function(){return this.config().YMa?this.Bqa.cSa()?this.Bqa.v8(c.H.AU).then(function(k){return {result:k.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};d.prototype.vva=function(){return this.config().YMa?this.Bqa.cSa()?this.Bqa.v8(c.H.pU).then(function(k){return {result:k.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};d.prototype.Ida=function(){return Promise.resolve(!1);};d.prototype.wIa=function(){};d.prototype.Vxc=function(k){switch(k){case n.Aw.xga:return "1.4";case n.Aw.vN:return "2.2";}};d.prototype.Fz=function(){return f.Dya.Fz();};d.prototype.ovb=function(){var l;function k(m,p){return (0,e.gOb)(function(r,q){return r.name === q.name;},m,p);}l=k(this.config().Vjb,this.config().Th);return k(l,this.config().$o);};d.prototype.s9=function(){return Promise.resolve(void 0);};d.prototype.rla=function(k){var l;l=[];this.is.gi(k) && l.push(this.Vxc(k));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:l,isHdcpEngaged:!!l.length}];};d.prototype.w8=function(k){return this.config().wDc?Promise.resolve(new g.lha(k,k.map(function(){return {supported:!0};}))):h.bN.prototype.w8.call(this,k);};b.gN=d;},48617:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Dya=void 0;n=a(75568);c=a(73796);d.Fz=function(){var h;h={};return (h[n.H.mN]="avc1.4D401E",h[n.H.xU]="avc1.4D401F",h[n.H.aga]="avc1.4D4028",h[n.H.Lza]="avc1.4D401E",h[n.H.Mza]="avc1.4D401F",h[n.H.Nza]="avc1.4D4028",h[n.H.cga]="hev1.2.6.L90.B0",h[n.H.dga]="hev1.2.6.L93.B0",h[n.H.ega]="hev1.2.6.L120.B0",h[n.H.fga]="hev1.2.6.L123.B0",h[n.H.i3]="hev1.2.6.L90.B0",h[n.H.l3]="hev1.2.6.L93.B0",h[n.H.o3]="hev1.2.6.L120.B0",h[n.H.r3]="hev1.2.6.L123.B0",h[n.H.BU]="hev1.2.6.L150.B0",h[n.H.CU]="hev1.2.6.L153.B0",h[n.H.j3]="hev1.2.6.L90.B0",h[n.H.m3]="hev1.2.6.L93.B0",h[n.H.p3]="hev1.2.6.L120.B0",h[n.H.s3]="hev1.2.6.L123.B0",h[n.H.u3]="hev1.2.6.L150.B0",h[n.H.w3]="hev1.2.6.L153.B0",h[n.H.h3]="hev1.2.6.L90.B0",h[n.H.k3]="hev1.2.6.L93.B0",h[n.H.n3]="hev1.2.6.L120.B0",h[n.H.q3]="hev1.2.6.L123.B0",h[n.H.t3]="hev1.2.6.L150.B0",h[n.H.v3]="hev1.2.6.L153.B0",h[n.H.R2]="hev1.2.6.L90.B0",h[n.H.U2]="hev1.2.6.L93.B0",h[n.H.AU]="hev1.2.6.L120.B0",h[n.H.Z2]="hev1.2.6.L123.B0",h[n.H.c3]="hev1.2.6.L150.B0",h[n.H.f3]="hev1.2.6.L153.B0",h[n.H.S2]="hev1.2.6.L90.B0",h[n.H.V2]="hev1.2.6.L93.B0",h[n.H.X2]="hev1.2.6.L120.B0",h[n.H.a3]="hev1.2.6.L123.B0",h[n.H.d3]="hev1.2.6.L150.B0",h[n.H.g3]="hev1.2.6.L153.B0",h[n.H.Q2]="hev1.2.6.L90.B0",h[n.H.T2]="hev1.2.6.L93.B0",h[n.H.W2]="hev1.2.6.L120.B0",h[n.H.Y2]="hev1.2.6.L123.B0",h[n.H.b3]="hev1.2.6.L150.B0",h[n.H.e3]="hev1.2.6.L153.B0",h[n.H.w2]=c.Ec.qya,h[n.H.y2]=c.Ec.rya,h[n.H.pU]=c.Ec.sya,h[n.H.B2]=c.Ec.tya,h[n.H.D2]=c.Ec.uya,h[n.H.F2]=c.Ec.vya,h[n.H.Ffa]=c.Ec.sya,h[n.H.Gfa]=c.Ec.tya,h[n.H.Hfa]=c.Ec.uya,h[n.H.Ifa]=c.Ec.vya,h[n.H.x2]=c.Ec.qya,h[n.H.z2]=c.Ec.rya,h[n.H.A2]=c.Ec.sya,h[n.H.C2]=c.Ec.tya,h[n.H.E2]=c.Ec.uya,h[n.H.G2]=c.Ec.vya,h[n.H.Jza]="avc1.640016",h[n.H.jI]="avc1.64001E",h[n.H.kI]="avc1.64001F",h[n.H.lI]="avc1.640028",h[n.H.Kza]="avc1.640016",h[n.H.kN]="avc1.64001E",h[n.H.lN]="avc1.64001F",h[n.H.wU]="avc1.640028",h[n.H.Owa]=c.Ec.lj,h[n.H.Pwa]=c.Ec.lj,h[n.H.tw]=c.Ec.lj,h[n.H.uw]=c.Ec.lj,h[n.H.vw]=c.Ec.lj,h[n.H.ww]=c.Ec.lj,h[n.H.Y1]=c.Ec.lj,h[n.H.Z1]=c.Ec.lj,h[n.H.PM]=c.Ec.qw,h[n.H.QM]=c.Ec.qw,h[n.H.SM]=c.Ec.qw,h[n.H.TM]=c.Ec.qw,h[n.H.W1]=c.Ec.qw,h[n.H.X1]=c.Ec.qw,h);};b.Dya=d;},98960:function(t,b,a){var n,c,h,f;function d(e,g,k){this.config=e;this.fmb=g;this.WEc=k;}Object.defineProperty(b,"__esModule",{value:!0});b.Fya=void 0;t=a(22970);n=a(1079);c=a(22674);h=a(57657);a=a(41605);d.prototype.Kvb=function(e){return this.BOa().Lvb(e);};d.prototype.Mvb=function(e){return this.mK().Lvb(e);};d.prototype.BOa=function(){this.kJa && this.kJa.type == this.config().lJa || (this.kJa=this.fmb.Vbc(this.config().lJa));return this.kJa;};d.prototype.mK=function(){this.gwa && this.gwa.type == this.config().hwa || (this.gwa=this.fmb.Cdc(this.config().hwa),this.gwa.wIa(this.WEc.Rmc()));return this.gwa;};d.prototype.oT=function(e){return this.mK().oT(e);};d.prototype.HW=function(e){return this.mK().HW(e);};d.prototype.i9=function(){return this.mK().i9();};d.prototype.Hda=function(){return this.mK().Hda();};d.prototype.uva=function(){return this.BOa().uva();};d.prototype.Gda=function(){return this.BOa().Gda();};d.prototype.vva=function(){return this.mK().vva();};d.prototype.Ida=function(){return this.mK().Ida();};d.prototype.s9=function(){return this.mK().s9();};f=d;b.Fya=f;b.Fya=f=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(n.qU)),t.__param(1,(0,c.u)(a.L4a)),t.__param(2,(0,c.u)(h.Q6a))],f);},74742:function(t,b,a){var n,c,h;function d(f){this.kGc=f;}Object.defineProperty(b,"__esModule",{value:!0});b.rza=void 0;t=a(22970);n=a(22674);c=a(94800);a=a(18580);d.prototype.qjc=function(){var f,e;f={YX:c.hN.SZb};try{e=this.kGc.PresentationRequest;e && (new e("https://netflix.com").getAvailability() || Promise.reject()).then(function(g){var k;f.YX=g.value?c.hN.Xcb:c.hN.v2a;if(f.YX === c.hN.v2a){k=function(){g.value && (f.YX=c.hN.Xcb);g.removeEventListener("change",k);};g.addEventListener("change",k);}}).catch(function(){f.YX=c.hN.Error;});}catch(g){f.YX=c.hN.Error;}return f;};h=d;b.rza=h;b.rza=h=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.Ycb))],h);},79974:function(t,b,a){var n,c,h,f,e;function d(g,k){this.config=g;this.Cec=k;}Object.defineProperty(b,"__esModule",{value:!0});b.qAa=void 0;t=a(22970);n=a(22674);c=a(16152);h=a(1079);f=a(56800);e=a(40290);d.prototype.Fob=function(){switch(this.config().hwa){case f.fr.CE:return e.qI.Dcc();default:return this.Cec;}};a=d;b.qAa=a;b.qAa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.qU)),t.__param(1,(0,n.u)(c.bcb))],a);},75456:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m,p,r,q,u,v,w){m=c.gN.call(this,m,p,r,v) || this;m.ud=q;m.La=u;m.SG=v;m.Pt=w;m.type=h.fr.CE;m.mU="hvc1";m.Txa="avc1";m.XEc={};m.WOc();return m;}Object.defineProperty(b,"__esModule",{value:!0});b.n$a=b.Wl=void 0;n=a(75568);c=a(46286);h=a(56800);f=a(17612);e=a(5021);g=a(73796);k=a(40290);l=a(22210);b.Wl={ftb:("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" "),TGb:("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" "),YNb:("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" "),wOa:("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" "),EHc:("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" "),gtb:("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" "),DHc:("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" "),yoa:["hdcp=1"],zoa:["hdcp=2"],HKa:("decode-bpp=8 decode-res-x=1920 decode-res-y=1080 decode-bitrate=10000000 decode-fps=30 encryption-type=cenc-clearlead encryption-iv-size=8").split(" ")};Ia(d,c.gN);d.prototype.oT=function(m){switch(m){case h.Aw.xga:return this.kQc();case h.Aw.vN:return this.Uba;default:return Promise.resolve(!1);}};d.prototype.i9=function(){return this.Pt.oG().then(function(m){return m.keySystem;});};d.prototype.Hda=function(){return Promise.resolve({result:this.BMb(),reason:"is-type-supported"});};d.prototype.Ida=function(){return this.c0a && this.CMb()?this.Uba:Promise.resolve(!1);};d.prototype.vva=function(){return Promise.resolve(this.AMb()).then(function(m){return {result:m,reason:"isTypeSupportedWithFeatures"};});};d.prototype.wIa=function(m){this.KA=m;Object.assign(this.KA,this.XEc);m.itshwdrm=this.c0a;m.itsqhd=this.lQc();m.itshevc=this.CMb();m.itshdr=this.BMb();m.itsdv=this.AMb();m.itsav1=this.iQc();m.itshevccl=this.DMb();m.itsavccl=this.gQc();m.itsdd=this.b0a("DD");m.itsddjoc=this.b0a("DD+JOC");m.itspcm51=this.b0a("PCM5.1");this.n1a();};d.prototype.s9=function(){var m;m=this;return this.oT(h.Aw.vN).then(function(p){return p?m.rla(h.Aw.vN):m.oT(h.Aw.xga).then(function(r){return r?m.rla(h.Aw.xga):m.rla(void 0);});});};d.prototype.MNa=function(m){var p;p=this;return this.i9().then(function(r){var q,u,v;q=p.tXa[m];if(q){u=[];if(p.is.Ws(q))v=q;else (u=q.features,v=q.xd,r=q.keySystem);return p.av(r,v,u)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};d.prototype.Fz=function(){var m,p,r,q,u,v,w,x;m=c.gN.prototype.Fz.call(this);p=b.Wl.ftb;r=b.Wl.TGb;q=b.Wl.YNb;u=b.Wl.wOa;v=b.Wl.EHc;w=b.Wl.gtb;x=b.Wl.DHc;m[n.H.j3]=m[n.H.i3]=m[n.H.h3]={xd:"hev1.2.6.L90.B0",keySystem:f.sb.vd,features:r};m[n.H.m3]=m[n.H.l3]=m[n.H.k3]={xd:"hev1.2.6.L93.B0",keySystem:f.sb.vd,features:r};m[n.H.p3]=m[n.H.o3]=m[n.H.n3]={xd:"hev1.2.6.L120.B0",keySystem:f.sb.vd,features:r};m[n.H.s3]=m[n.H.r3]=m[n.H.q3]={xd:"hev1.2.6.L123.B0",keySystem:f.sb.vd,features:r};m[n.H.u3]=m[n.H.BU]=m[n.H.t3]={xd:"hev1.2.6.L150.B0",keySystem:f.sb.vd,features:r};m[n.H.w3]=m[n.H.CU]=m[n.H.v3]={xd:"hev1.2.6.L153.B0",keySystem:f.sb.vd,features:r};m[n.H.S2]=m[n.H.R2]=m[n.H.Q2]={xd:"hev1.2.6.L90.B0",keySystem:f.sb.vd,features:u};m[n.H.V2]=m[n.H.U2]=m[n.H.T2]={xd:"hev1.2.6.L93.B0",keySystem:f.sb.vd,features:u};m[n.H.X2]=m[n.H.AU]=m[n.H.W2]={xd:"hev1.2.6.L120.B0",keySystem:f.sb.vd,features:u};m[n.H.a3]=m[n.H.Z2]=m[n.H.Y2]={xd:"hev1.2.6.L123.B0",keySystem:f.sb.vd,features:v};m[n.H.d3]=m[n.H.c3]=m[n.H.b3]={xd:"hev1.2.6.L150.B0",keySystem:f.sb.vd,features:v};m[n.H.g3]=m[n.H.f3]=m[n.H.e3]={xd:"hev1.2.6.L153.B0",keySystem:f.sb.vd,features:v};m[n.H.x2]=m[n.H.w2]={xd:"hev1.2.6.L90.B0",keySystem:f.sb.vd,features:w};m[n.H.z2]=m[n.H.y2]={xd:"hev1.2.6.L93.B0",keySystem:f.sb.vd,features:w};m[n.H.A2]=m[n.H.Ffa]=m[n.H.pU]={xd:"hev1.2.6.L120.B0",keySystem:f.sb.vd,features:w};m[n.H.C2]=m[n.H.Gfa]=m[n.H.B2]={xd:"hev1.2.6.L123.B0",keySystem:f.sb.vd,features:x};m[n.H.E2]=m[n.H.Hfa]=m[n.H.D2]={xd:"hev1.2.6.L150.B0",keySystem:f.sb.vd,features:x};m[n.H.G2]=m[n.H.Ifa]=m[n.H.F2]={xd:"hev1.2.6.L153.B0",keySystem:f.sb.vd,features:x};m[n.H.tw]={xd:"av01.0.04M.10",keySystem:f.sb.vd,features:p};m[n.H.uw]={xd:"av01.0.05M.10",keySystem:f.sb.vd,features:p};m[n.H.vw]={xd:"av01.0.08M.10",keySystem:f.sb.vd,features:p};m[n.H.ww]={xd:"av01.0.09M.10",keySystem:f.sb.vd,features:p};m[n.H.Y1]={xd:"av01.0.12M.10",keySystem:f.sb.vd,features:q};m[n.H.Z1]={xd:"av01.0.13M.10",keySystem:f.sb.vd,features:q};m[n.H.PM]={xd:"av01.0.04M.10.0.112.09.16.09.0",keySystem:f.sb.vd,features:p};m[n.H.QM]={xd:"av01.0.05M.10.0.112.09.16.09.0",keySystem:f.sb.vd,features:p};m[n.H.SM]={xd:"av01.0.08M.10.0.112.09.16.09.0",keySystem:f.sb.vd,features:p};m[n.H.TM]={xd:"av01.0.09M.10.0.112.09.16.09.0",keySystem:f.sb.vd,features:p};m[n.H.W1]={xd:"av01.0.12M.10.0.112.09.16.09.0",keySystem:f.sb.vd,features:q};m[n.H.X1]={xd:"av01.0.13M.10.0.112.09.16.09.0",keySystem:f.sb.vd,features:q};return m;};d.prototype.av=function(m,p,r){m=k.qI.sla(m,p,r);return this.HW(m);};d.prototype.lQc=function(){return this.av(f.sb.vd,this.mU,b.Wl.TGb);};d.prototype.BMb=function(){return this.av(f.sb.vd,this.mU,b.Wl.wOa);};d.prototype.AMb=function(){return this.av(f.sb.vd,this.mU,b.Wl.gtb);};d.prototype.iQc=function(){return this.av(f.sb.vd,g.Ec.lj,b.Wl.ftb);};d.prototype.CMb=function(){return this.av(f.sb.vd,this.mU,b.Wl.YNb);};d.prototype.DMb=function(){return this.av(f.sb.vd,this.mU,b.Wl.HKa);};d.prototype.gQc=function(){return this.av(f.sb.vd,this.Txa,b.Wl.HKa);};d.prototype.b0a=function(m){return this.av(f.sb.HB,this.Txa,["audio-endpoint-codec=" + m]);};d.prototype.kQc=function(){var m;m=this;return this.Uba.then(function(p){return p?Promise.resolve(p):m.HGb;});};d.prototype.n1a=function(){this.KA && (this.KA.itshdcp=JSON.stringify({hdcp1:this.yoa,time1:this.WMb - this.LLb,hdcp2:this.zoa,time2:this.XMb - this.MLb}));};d.prototype.WOc=function(){var m;m=this;this.c0a?(this.Uba=this.gvb(this.config().NBb,this.config().nzc,function(){var p;p=m.knc();return ["maybe" !== p,p];}).then(function(p){return "probably" === p;}),this.HGb=this.Uba.then(function(p){return p?!0:m.gvb(m.config().NBb,m.config().mzc,function(){var r;r=m.jnc();return ["maybe" !== r,r];}).then(function(r){return "probably" === r;});})):(this.HGb=Promise.resolve(!0),this.Uba=Promise.resolve(!1));};d.prototype.gvb=function(m,p,r){var q;q=this;return new Promise(function(u){var v,w,x,y;v=Fa(r());w=v.next().value;v=v.next().value;if(w)return u(v);x=q.ud.PS((0,e.ec)(m),function(){var z,B;z=Fa(r());B=z.next().value;z=z.next().value;B && (x.cancel(),y.cancel(),u(z));});y=q.ud.Aq((0,e.ec)(p),function(){x.cancel();y.cancel();u("timeout");});});};d.prototype.jnc=function(){var m;m=k.qI.sla(f.sb.HB,this.Txa,b.Wl.yoa).split("|");this.yoa=k.qI.wva(m[0],m[1]);this.WMb=this.La.Eg.oa(e.ya);this.LLb=this.LLb || this.WMb;this.n1a();return this.yoa;};d.prototype.knc=function(){var m;m=k.qI.sla(f.sb.HB,this.mU,b.Wl.zoa).split("|");this.zoa=k.qI.wva(m[0],m[1]);this.XMb=this.La.Eg.oa(e.ya);this.MLb=this.MLb || this.XMb;this.n1a();return this.zoa;};d.prototype.wSa=function(m){var p;p=this;return this.i9().then(function(r){if(r === f.sb.vd){if(l.je.Oza.test(m))return (0,h.Eob)(p.DMb(),"ms-restricted");if([l.je.lj,l.je.cfa].some(function(q){return q.test(m);}) && !l.je.FAa.test(m))return {supported:!1,reason:"ms-restricted"};}return {supported:!0};});};Ha.Object.defineProperties(d.prototype,{c0a:{configurable:!0,enumerable:!0,get:function(){try{return this.HW(f.sb.vd + "|" + g.Ec.sUa);}catch(m){return !1;}}}});b.n$a=d;},78866:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r;function d(q,u,v,w,x){this.config=q;this.navigator=u;this.Jv=v;this.Nx=w;this.Vw=x;this.oJa={};this.tPb={};this.IIa={};this.log=this.Jv.ub("MediaCapabilityDetector");this.oJa=this.Ubc();this.tPb=this.Bdc();q={};this.Njb=(q[this.oJa[c.Lc.vo].contentType]=this.Vw.decode(r.L3a),q);}Object.defineProperty(b,"__esModule",{value:!0});b.GBa=void 0;t=a(22970);n=a(22674);c=a(75568);h=a(87386);f=a(63368);e=a(21103);g=a(1079);k=a(82100);l=a(22365);m=a(73796);p=a(2248);r=a(33096);d.prototype.v8=function(q){var u;u=this;return this.Nx.oG().then(function(v){return u.Ejc(q,v);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};d.prototype.Vtc=function(q){return !!q.colorGamut || !!q.hdrMetadataType || !!q.transferFunction;};d.prototype.cSa=function(){return Ca.matchMedia("(dynamic-range: high)").matches || Ca.matchMedia("(video-dynamic-range: high)").matches || this.config().xDc;};d.prototype.Ejc=function(q,u){var v,w,x;try{v={type:"media-source"};w=this.oJa[q];x=this.tPb[q];if(w)v.audio=w;else if(x){v.video=x;if(this.Vtc(x) && !this.cSa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});u && (v.keySystemConfiguration=this.Cnc(u));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.Z8b(v),this.X8b((w || x).contentType)]).then(function(y){var z;z=Fa(y);y=z.next().value;z=z.next().value;return y?z?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(y){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",y),Promise.resolve({supported:!1,reason:"mc-exception"}));}};d.prototype.Z8b=function(q){var u;u=this;return this.navigator.mediaCapabilities.decodingInfo(q).then(function(v){var w;v.configuration || (v.configuration=q);w=u.Luc(q,v);w?u.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(v)):u.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(v));return w;}).catch(function(v){u.log.error("mediaCapabilities.decodingInfo failed",v);return !1;});};d.prototype.X8b=function(q){var u;u=this;if(!this.config().Bhc)return Promise.resolve(!0);this.IIa[q] || (this.IIa[q]=new Promise(function(v){var w;try{w=new l.EN();document.createElement("video").src=URL.createObjectURL(w);w.addEventListener("sourceopen",function(){var x;try{x=w.addSourceBuffer(q);u.Njb[q]?(x.addEventListener("updateend",function(){u.log.trace("addSourceBuffer updateend for " + q);v(!0);}),x.addEventListener("error",function(){u.log.warn("addSourceBuffer error for " + q);v(!1);}),x.appendBuffer(u.Njb[q])):(u.log.trace("addSourceBuffer succeeded for " + q),v(!0));}catch(y){u.log.warn("addSourceBuffer failed",y);v(!1);}});}catch(x){u.log.warn("addSourceBuffer failed",x);v(!1);}}));return this.IIa[q];};d.prototype.Cnc=function(q){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:q.keySystem},(q=(0,k.Jub)(q)) && (this.keySystemConfiguration.video={robustness:q}));return this.keySystemConfiguration;};d.prototype.Ubc=function(){var q,u;q={};u={contentType:"audio/mp4;codecs=" + m.Ec.oo};q[c.Lc.oo]=u;q[c.Lc.bga]=u;q[c.Lc.vE]=u;q[c.Lc.vo]={contentType:"audio/mp4;codecs=" + m.Ec.vo};u={contentType:"audio/mp4;codecs=ec-3",spatialRendering:!0};q[c.Lc.dN]=u;q[c.Lc.eN]=u;q[c.Lc.fN]=u;return q;};d.prototype.Bdc=function(){var q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M,P,I,O,Q;q={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};u={contentType:'video/mp4; codecs="' + m.Ec.rya + '"'};v={width:1920,height:1080};w={width:3840,height:2160};x=Object.assign(Object.assign({},v),{bitrate:12E6,framerate:30});y=Object.assign(Object.assign({},v),{bitrate:2E7,framerate:60});z=Object.assign(Object.assign({},w),{bitrate:25E6,framerate:30});B=Object.assign(Object.assign({},w),{bitrate:4E7,framerate:60});A={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};C={colorGamut:"rec2020",transferFunction:"pq"};w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),x);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),x);D=Object.assign(Object.assign({},q),x);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),y);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),z);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),B);H=Object.assign(Object.assign(Object.assign({},q),x),A);J=Object.assign(Object.assign(Object.assign({},q),y),A);L=Object.assign(Object.assign(Object.assign({},q),z),A);q=Object.assign(Object.assign(Object.assign({},q),B),A);K=Object.assign(Object.assign(Object.assign({},u),x),C);M=Object.assign(Object.assign(Object.assign({},u),y),C);P=Object.assign(Object.assign(Object.assign({},u),z),C);u=Object.assign(Object.assign(Object.assign({},u),B),C);C=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),x);I=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),y);O=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),z);Q=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),B);x=Object.assign(Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10.0.112.09.16.09.0"'}),x),A);y=Object.assign(Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10.0.112.09.16.09.0"'}),y),A);z=Object.assign(Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10.0.112.09.16.09.0"'}),z),A);B=Object.assign(Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10.0.112.09.16.09.0"'}),B),A);A={};return (A[c.H.mN]=w,A[c.H.xU]=w,A[c.H.aga]=w,A[c.H.Lza]=w,A[c.H.Mza]=w,A[c.H.Nza]=w,A[c.H.Jza]=v,A[c.H.jI]=v,A[c.H.kI]=v,A[c.H.lI]=v,A[c.H.Kza]=v,A[c.H.kN]=v,A[c.H.lN]=v,A[c.H.wU]=v,A[c.H.cga]=D,A[c.H.dga]=D,A[c.H.ega]=D,A[c.H.fga]=F,A[c.H.i3]=D,A[c.H.l3]=D,A[c.H.o3]=D,A[c.H.r3]=F,A[c.H.BU]=G,A[c.H.CU]=E,A[c.H.j3]=D,A[c.H.m3]=D,A[c.H.p3]=D,A[c.H.s3]=F,A[c.H.u3]=G,A[c.H.w3]=E,A[c.H.h3]=D,A[c.H.k3]=D,A[c.H.n3]=D,A[c.H.q3]=F,A[c.H.t3]=G,A[c.H.v3]=E,A[c.H.R2]=H,A[c.H.U2]=H,A[c.H.AU]=H,A[c.H.Z2]=J,A[c.H.c3]=L,A[c.H.f3]=q,A[c.H.S2]=H,A[c.H.V2]=H,A[c.H.X2]=H,A[c.H.a3]=J,A[c.H.d3]=L,A[c.H.g3]=q,A[c.H.Q2]=H,A[c.H.T2]=H,A[c.H.W2]=H,A[c.H.Y2]=J,A[c.H.b3]=L,A[c.H.e3]=q,A[c.H.w2]=K,A[c.H.y2]=K,A[c.H.pU]=K,A[c.H.B2]=M,A[c.H.D2]=P,A[c.H.F2]=u,A[c.H.Ffa]=K,A[c.H.Gfa]=M,A[c.H.Hfa]=P,A[c.H.Ifa]=u,A[c.H.x2]=K,A[c.H.z2]=K,A[c.H.A2]=K,A[c.H.C2]=M,A[c.H.E2]=P,A[c.H.G2]=u,A[c.H.Owa]=C,A[c.H.Pwa]=C,A[c.H.tw]=C,A[c.H.uw]=C,A[c.H.vw]=C,A[c.H.ww]=I,A[c.H.Y1]=O,A[c.H.Z1]=Q,A[c.H.PM]=x,A[c.H.QM]=x,A[c.H.SM]=x,A[c.H.TM]=y,A[c.H.W1]=z,A[c.H.X1]=B,A);};d.prototype.Luc=function(q,u){return q.video && this.config().GFc?u.supported && u.powerEfficient:u.supported;};a=d;b.GBa=a;b.GBa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(g.qU)),t.__param(1,(0,n.u)(f.i4)),t.__param(2,(0,n.u)(h.yb)),t.__param(3,(0,n.u)(e.My)),t.__param(4,(0,n.u)(p.Sl))],a);},92049:function(t,b,a){var n,c,h,f,e,g;function d(k,l,m,p){k=f.Mfa.call(this,k,l,p) || this;k.is=m;k.type=n.lE.CE;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.bab=void 0;n=a(56800);c=a(75568);h=a(17612);f=a(31741);e=a(40290);g=a(73796);Ia(d,f.Mfa);d.prototype.uva=function(){return Promise.resolve(this.config().d8 && this.av(h.sb.HB,"avc1",["audio-endpoint-codec=DD+JOC"]));};d.prototype.Gda=function(){return Promise.resolve(this.config().pma && this.av(h.sb.HB,"avc1",["audio-endpoint-codec=DD+JOC"]));};d.prototype.Fz=function(){var k,l;k={xd:"avc1",keySystem:h.sb.HB,features:["audio-endpoint-codec=DD+JOC"]};l={};return (l[c.Lc.oo]=g.Ec.oo,l[c.Lc.vE]=g.Ec.oo,l[c.Lc.bga]=void 0,l[c.Lc.vo]=g.Ec.vo,l[c.Lc.dN]=this.config().d8?k:void 0,l[c.Lc.eN]=this.config().d8?k:void 0,l[c.Lc.fN]=this.config().pma?k:void 0,l);};d.prototype.MNa=function(k){var l,m,p;k=this.tXa[k];l=[];m=h.sb.HB;if(k){if(this.is.Ws(k))p=k;else (l=k.features,p=k.xd,m=k.keySystem);return this.av(m,p,l)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};d.prototype.av=function(k,l,m){k=e.qI.sla(k,l,m);return this.HW(k);};b.bab=d;},40290:function(t,b,a){var n,c,h;function d(){this.type=n.lE.CE;}Object.defineProperty(b,"__esModule",{value:!0});b.qI=void 0;n=a(56800);t=a(57180);c=a(17612);h=new t.nV();d.Dcc=function(){return {isTypeSupported:function(f){var e;try{if(-1 == f.toLowerCase().indexOf("codec"))return Ca.MSMediaKeys.isTypeSupported(f,"video/mp4");e=f.split("|");return 1 === e.length?Ca.MSMediaKeys.isTypeSupported(c.sb.HB,f):"probably" === d.wva(e[0],e[1]);}catch(g){return !1;}}};};d.sla=function(f,e,g){e=h.format(d.Pva,e);if(0 === g.length)return e;g=h.format('features="{0}"',g.join());return h.format("{0}|{1}{2}",f,e,g);};d.wva=function(f,e){var g;try{g=Ca.MSMediaKeys.isTypeSupportedWithFeatures?Ca.MSMediaKeys.isTypeSupportedWithFeatures(f,e):"";}catch(k){g="exception";}return g;};b.qI=d;d.Pva='video/mp4;codecs="{0},mp4a";';},7802:function(t,b){function a(d,n){var c;c=this;this.status={};d.forEach(function(h,f){c.status[h]=n[f];});}Object.defineProperty(b,"__esModule",{value:!0});b.lha=void 0;a.prototype.NY=function(){return this.status;};a.prototype.$na=function(){return Object.entries(this.status).filter(function(d){d=Fa(d);d.next();return d.next().value.supported;}).map(function(d){var n;d=Fa(d);n=d.next().value;d.next();return n;});};b.lha=a;},57718:function(t,b,a){var n,c,h;function d(f){this.oMb=f;this.w2b="video/mp4;codecs={0}";this.p_b="audio/mp4;codecs={0}";}Object.defineProperty(b,"__esModule",{value:!0});b.XEa=void 0;t=a(22970);n=a(22674);c=a(73796);a=a(88490);d.prototype.Nob=function(f){var e;f=c.jgb[null === (e=f[0]) || void 0 === e?void 0:e.xe] || c.Ec.iE;return this.oMb.format(this.w2b,f);};d.prototype.cob=function(f){var e;f=c.J3a[null === (e=f[0]) || void 0 === e?void 0:e.xe] || c.Ec.oo;return this.oMb.format(this.p_b,f);};h=d;b.XEa=h;b.XEa=h=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.Yeb))],h);},82656:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Jo=void 0;t=a(22674);d=a(33554);n=a(58393);c=a(48723);h=a(68703);f=a(99662);b.Jo=new t.we(function(e){e(d.xB).Pf(function(){return function(){return Ca._cad_global.device;};});e(h.L5a).to(f.Hya).pa();e(n.J5a).to(c.Gya).pa();});},33554:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xB="DeviceFactorySymbol";},58393:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.J5a="DeviceIdGeneratorSymbol";},68703:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.L5a="DeviceProviderSymbol";},48723:function(t,b,a){var n,c,h,f,e,g;function d(k,l){this.La=k;this.GXa=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Gya=void 0;t=a(22970);n=a(30869);c=a(5021);h=a(10306);f=a(74267);e=a(66523);a=a(22674);d.prototype.dlc=function(){for(var k="",l=this.La.Eg.oa(c.ya),m=6;m--;)(k=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[l % 32] + k,l=Math.floor(l / 32));for(;30 > k.length;)k+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.GXa.cHb(new f.mEa(0,31,e.wDb))];return k;};g=d;b.Gya=g;b.Gya=g=t.__decorate([(0,a.$)(),t.__param(0,(0,a.u)(n.vi)),t.__param(1,(0,a.u)(h.wha))],g);},66085:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.K5a=void 0;b.K5a=function(a,d,n,c){this.Vi=a;this.ut=d;this.Cma=c;};},99662:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m,p,r,q,u){this.tfc=m;this.Es=p;this.dc=q;this.AEc=u;this.o6a=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=r.ub("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.Hya=void 0;t=a(22970);n=a(36129);c=a(42207);h=a(66085);f=a(87386);e=a(58393);g=a(22674);k=a(17892);a=a(70285);d.prototype.Crb=function(m){try{return m.match(this.o6a)[2];}catch(p){}};d.prototype.djc=function(m){try{return m.match(this.o6a)[1];}catch(p){}};d.prototype.create=function(m){var p;p=this;return new Promise(function(r,q){p.Es.create().then(function(u){var w,x,y,z,B,A;function v(C){p.dc.Pw(C) && p.dc.Pw(w)?(x=new h.K5a(C,w,void 0,y,m.Q7 || "cadmium"),r(x)):q({Sa:n.Y.s5a});}w=m.ut;if(m.QOa){y="bind_device";p.AEc.Pe({log:p.log},{}).then(function(C){v(C.esn);}).catch(function(C){q(C);});}else if(m.pY){B=m.Vi;if(p.dc.Pw(B)){A=p.djc(B);A != m.ut && p.log.error("esn prefix from ui is different",{ui:A,cad:m.ut,ua:m.userAgent});}else m.BTa && p.log.error("esn from ui is missing");!m.G1 && p.dc.Pw(B)?(y="config",v(B)):u.load(m.Qpb).then(function(C){z=C.value;p.dc.Pw(z) && (!1,p.dc.Pw(B)?(C=p.Crb(B),y=C === z?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):y="storage_esn_not_in_config",v(w + z));}).catch(function(C){var G;function D(){u.save(m.Qpb,G,!1).then(function(){v(w + G);}).catch(function(E){q(E);});}function F(){G=p.tfc.dlc();!1;D();}if(C.Sa === n.Y.KE){if(p.dc.Pw(m.Vi)){G=p.Crb(m.Vi);p.dc.Pw(G)?(y="config_since_not_in_storage",D()):(y="generated_since_invalid_in_config_and_not_in_storage",p.log.error("invalid esn passed from UI",m.Vi),F());}else (y="generated_since_not_in_config_and_storage",F());}else q(C);});}else v();}).catch(function(u){q(u);});});};l=d;b.Hya=l;b.Hya=l=t.__decorate([(0,g.$)(),t.__param(0,(0,g.u)(e.J5a)),t.__param(1,(0,g.u)(k.aI)),t.__param(2,(0,g.u)(f.yb)),t.__param(3,(0,g.u)(c.wi)),t.__param(4,(0,g.u)(a.Gbb))],l);},2492:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zfa="CannedChallengeProvider";},49594:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x;Object.defineProperty(b,"__esModule",{value:!0});b.DX=b.Eqb=void 0;t=a(22674);d=a(47737);n=a(97485);c=a(21103);h=a(92395);f=a(66372);e=a(2492);g=a(77228);k=a(34008);l=a(17250);m=a(41980);p=a(90581);r=a(91490);q=a(38231);u=a(22266);v=a(48691);w=a(18647);x=a(61738);b.Eqb=new t.we(function(y){y(d.Rfa).dea(n.oHc);y(u.i9a).to(v.BAa).pa();y(w.DAa).to(x.CAa).pa();y(c.My).vM(function(z){b.DX.parent=z.Gb;return b.DX.get(c.My);});y(h.Z3).Pf(function(){return function(){return new f.P$a();};});y(e.zfa).to(g.Zxa).pa();y(k.eza).to(l.dza).pa();y(m.Pya).to(p.Oya).pa();y(r.N$a).to(q.LBa).pa();});b.DX=new t.Dfa({cT:!0});},28048:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.iI={};t.WOb="usable";t.kx="expired";t.released="released";t.qEb="output-restricted";t.tDc="output-downscaled";t.ePc="status-pending";t.ftc="internal-error";},28289:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.yB=void 0;b.bgc=function(d){switch(d){case a.Vzb:return "lg";case a.vHb:return "lc";case a.uHb:return "lr";case a.wHb:return "renew_lc";case a.xHb:return "renew_lr";case a.yHb:return "renew_lr_failed";case a.hIc:return "ilc";case a.iIc:return "ilr";case a.Djb:return "ld";case a.Kjb:return "renew_ld";case a.Ljb:return "renew_ld_failed";default:return "unknown";}};(function(d){d[d.Vzb=0]="licenseStarted";d[d.vHb=1]="receivedLicenseChallenge";d[d.uHb=2]="receivedLicense";d[d.wHb=3]="receivedRenewalChallengeComplete";d[d.xHb=4]="receivedRenewalLicenseComplete";d[d.yHb=5]="receivedRenewalLicenseFailed";d[d.hIc=6]="receivedIndivChallengeComplete";d[d.iIc=7]="receivedIndivLicenseComplete";d[d.Djb=8]="addLicenseComplete";d[d.Kjb=9]="addRenewalLicenseComplete";d[d.Ljb=10]="addRenewalLicenseFailed";})(a || (b.yB=a={}));},47737:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.W5a="DrmServicesSymbol";b.Rfa="DrmServicesProviderSymbol";},41980:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pya="DrmTraitsFactorySymbol";},53921:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Rq={};t[t.R_=0]="playready";t[t.VPb=1]="widevine";t[t.aY=2]="fairplay";},27995:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.O4={};t[t.Request=0]="Request";t[t.wdb=1]="Renewal";},34008:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.eza="EmeApiFactorySymbol";},23563:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zB="EmeConfigSymbol";},10060:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.B6a="EmeSessionFactorySymbol";},22266:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.i9a="KeySystemProviderSymbol";},18647:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DAa="KeySystemRestrictorSymbol";},91490:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.N$a="MediaKeySystemAccessInternalFactorySymbol";},21103:function(t,b){function a(d){return d?{supported:!1,reason:d}:{supported:!0};}Object.defineProperty(b,"__esModule",{value:!0});b.My=void 0;b.mob=function(d){return a(d);};b.k1a=function(d,n,c){c && d[n].status.supported && (d[n].status=a(c));};b.tub=function(d){for(var n,c=d.length - 1;0 <= c;c--)if(d[c].status.supported){n=c;break;}return n;};b.My="MediaKeySystemAccessServicesSymbol";},92395:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z3="MediaKeysStorageFactorySymbol";},51120:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.Fqb=void 0;t=a(22674);d=a(47737);n=a(80075);c=a(21103);h=a(9717);f=a(10060);e=a(74946);b.Fqb=new t.we(function(g){g(d.W5a).to(n.Nya).pa();g(c.My).to(h.MBa).pa();g(f.B6a).to(e.gza);});},77228:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m,p,r,q,u){this.wX=m;this.Ed=p;this.OZ=q;this.Pt=u;this.log=r.ub("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Zxa=void 0;t=a(22970);n=a(22674);c=a(47737);h=a(2248);f=a(87386);e=a(92395);g=a(21103);k=a(53921);l=a(84218);d.prototype.$Pa=function(m){var p;p=this;return Promise.all([this.wX(),this.gPa()]).then(function(r){var q;q=Fa(r);r=q.next().value;q=q.next().value;return r.elc({type:m,initData:q,epa:!1},p.OZ());}).then(function(r){var q;q=Fa(r);r=q.next().value;q=q.next().value;q=p.Ed.encode(q.data[0]);p.log.trace("Challenge generated",q);return {ao:r,jKa:q};});};d.prototype.gPa=function(){var m;m=this;return this.Pt.oG().then(function(p){return p.BC();}).then(function(p){switch(p){case k.Rq.aY:return l.Y6a;case k.Rq.R_:return l.ecb;default:return l.Cgb;}}).then(function(p){return p.map(m.Ed.decode);});};a=d;b.Zxa=a;b.Zxa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.Rfa)),t.__param(1,(0,n.u)(h.Sl)),t.__param(2,(0,n.u)(f.yb)),t.__param(3,(0,n.u)(e.Z3)),t.__param(4,(0,n.u)(g.My))],a);},80075:function(t,b,a){var n,c,h,f,e,g,k,l,m;function d(p,r,q,u,v,w){var x;x=this;this.pS=r;this.config=q;this.Mgc=u;this.OZ=v;this.vq=w;this.RPc=function(y,z){var B;x.vq.mark(m.lb.$fa,y.hs.Ia,"generate-challenge");B=!1;z.JMc(function(A){B || (B=!0,x.vq.mark(m.lb.Zfa,y.hs.Ia,"generate-challenge"));x.Knc(y,z,A).then(function(C){z.Cjb(C);}).catch(function(C){return z.x3b(C);});});};this.log=p.ub("DrmServices");this.config.yxb && this.rLa(v(),e.Tq.Zq).then(function(y){return y.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.Nya=void 0;t=a(22970);n=a(22674);c=a(87386);h=a(69493);f=a(77134);e=a(24735);g=a(23563);k=a(10060);l=a(92395);m=a(63156);d.prototype.elc=function(p,r){return this.rLa(r,p.type,p.pA).then(function(q){return q.hlc(p.initData,p.epa).then(function(u){return [q,{uP:q.BC(),data:u.yJ}];});});};d.prototype.Kt=function(p,r){var q;q=this;this.log.info("Requesting challenges",this.vub(p,p.type));return this.rLa(r,p.type,p.pA).then(function(u){q.pCb(p,u);return u.ilc(p.initData,p.epa).then(function(){return u;});});};d.prototype.pCb=function(p,r){r.VMc(p.hs);this.RPc(p,r);};d.prototype.vub=function(p,r){return {movieId:p.hs.R,videoTrackId:p.hs.Bp,xid:p.hs.Ia,type:(0,e.Wzb)(r)};};d.prototype.Knc=function(p,r,q){this.log.info("Sending license request",this.vub(p,q.li));return this.pS.Kt({Ia:p.hs.Ia,Sd:p.hs.Sd,sqb:[p.hs.Er],yJ:[{sessionId:r.mQ() || "session",data:q.yJ}],li:q.li,uP:r.BC(),omb:q.omb,Zo:p.hs.Zo,Of:p.hs.Of,J:p.hs.R,Bp:p.hs.Bp});};d.prototype.rLa=function(p,r,q){return this.Mgc.create().then(function(u){return u.createSession(p,r,q).then(function(){return u;});});};a=d;b.Nya=a;b.Nya=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.yb)),t.__param(1,(0,n.u)(h.V5a)),t.__param(2,(0,n.u)(g.zB)),t.__param(3,(0,n.u)(k.B6a)),t.__param(4,(0,n.u)(l.Z3)),t.__param(5,(0,n.u)(f.d4))],a);},97485:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.oHc=function(e){h.DX.parent=e.Gb;return function(){f || (f=new Promise(function(g,k){try{g(h.DX.get(c.W5a));}catch(l){k(new n.Pj(d.ca.BUb,d.Y.MUb,void 0,"Unable to extract the DRM services from the dependency injector",l));}}));return f;};};d=a(36129);n=a(61731);c=a(47737);h=a(49594);},90581:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r;function d(q,u,v,w,x,y){this.jj=q;this.tl=u;this.Ed=v;this.config=w;this.ix=x;this.Ii=y;}Object.defineProperty(b,"__esModule",{value:!0});b.Oya=void 0;t=a(22970);n=a(22674);c=a(6405);h=a(2248);f=a(84408);e=a(4203);g=a(7605);k=a(53921);l=a(23563);m=a(65315);p=a(20674);r=a(8265);d.prototype.create=function(q){switch(q){case k.Rq.R_:return new p.aza(this.tl,this.Ed);case k.Rq.aY:return new r.JEa(this.tl,this.Ed,this.jj,this.Ii);default:return new m.bya(this.tl,this.Ed,this.ix,this.config);}};a=d;b.Oya=a;b.Oya=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(f.PE)),t.__param(1,(0,n.u)(c.WM)),t.__param(2,(0,n.u)(h.Sl)),t.__param(3,(0,n.u)(e.Fc)),t.__param(4,(0,n.u)(l.zB)),t.__param(5,(0,n.u)(g.Py))],a);},17250:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r;function d(q,u,v,w,x,y){this.Df=q;this.jj=u;this.Ed=v;this.is=w;this.Uaa=x;this.ix=y;}Object.defineProperty(b,"__esModule",{value:!0});b.dza=void 0;t=a(22970);n=a(22674);c=a(2248);h=a(42207);f=a(63368);e=a(84408);g=a(74870);k=a(53921);l=a(23563);m=a(81471);p=a(963);r=a(90349);d.prototype.create=function(q){switch(q){case k.Rq.R_:return new p.aEa(this.Uaa,this.is,this.Ed,this.Df,this.ix,this.jj);case k.Rq.aY:return new m.wza(this.Uaa,this.is,this.Ed,this.Df,this.ix,this.jj);default:return new r.Ry(this.Uaa,this.is,this.Ed,this.Df,this.ix,this.jj);}};a=d;b.dza=a;b.dza=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(g.cm)),t.__param(1,(0,n.u)(e.PE)),t.__param(2,(0,n.u)(c.Sl)),t.__param(3,(0,n.u)(h.wi)),t.__param(4,(0,n.u)(f.i4)),t.__param(5,(0,n.u)(l.zB))],a);},18135:function(t,b,a){var n,c,h,f,e,g;function d(k,l,m){k=c.Gf.call(this,k,void 0 === m?"EmeConfigImpl":m) || this;k.Ge=l;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.fza=void 0;t=a(22970);n=a(22674);c=a(64174);h=a(83767);f=a(5021);e=a(12501);a=a(22816);Ia(d,c.Gf);Ha.Object.defineProperties(d.prototype,{oFb:{configurable:!0,enumerable:!0,get:function(){return !0;}},yxb:{configurable:!0,enumerable:!0,get:function(){return this.Ge.ayb || this.Ge.jpa || this.Ge.G$?!0:!1;}},tZ:{configurable:!0,enumerable:!0,get:function(){return (0,f.Ji)(5);}},nFb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Ji)(10);}},HMa:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},gOa:{configurable:!0,enumerable:!0,get:function(){return !1;}},xMa:{configurable:!0,enumerable:!0,get:function(){return !1;}},ay:{configurable:!0,enumerable:!0,get:function(){return !0;}},okb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Ji)(30);}},pkb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Ji)(30);}},skb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Ji)(30);}},qkb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Ji)(30);}},tkb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Ji)(30);}},tZa:{configurable:!0,enumerable:!0,get:function(){return "";}},rEb:{configurable:!0,enumerable:!0,get:function(){return !0;}},sEb:{configurable:!0,enumerable:!0,get:function(){return !1;}},WNb:{configurable:!0,enumerable:!0,get:function(){return this.Ge.G$?!1:!0;}}});g=d;b.fza=g;t.__decorate([e.config(e.jd,"persistentStateRequired")],g.prototype,"oFb",null);t.__decorate([e.config(e.jd,"initializeKeySystemAtStartup")],g.prototype,"yxb",null);t.__decorate([e.config(e.Sn,"licenseRenewalRequestDelay")],g.prototype,"tZ",null);t.__decorate([e.config(e.Sn,"persistedReleaseDelay")],g.prototype,"nFb",null);t.__decorate([e.config(e.string,"drmPersistKey")],g.prototype,"HMa",null);t.__decorate([e.config(e.jd,"forceLimitedDurationLicense")],g.prototype,"gOa",null);t.__decorate([e.config(e.jd,"disableLicenseRenewal")],g.prototype,"xMa",null);t.__decorate([e.config(e.jd,"prepareCadmium")],g.prototype,"ay",null);t.__decorate([e.config(e.Sn,"apiCloseTimeout")],g.prototype,"okb",null);t.__decorate([e.config(e.Sn,"apiCreateMediaKeysTimeout")],g.prototype,"pkb",null);t.__decorate([e.config(e.Sn,"apiSetServerCertificateTimeout")],g.prototype,"skb",null);t.__decorate([e.config(e.Sn,"apiGenerateRequestTimeout")],g.prototype,"qkb",null);t.__decorate([e.config(e.Sn,"apiUpdateTimeout")],g.prototype,"tkb",null);t.__decorate([e.config(e.string,"serverCertificate")],g.prototype,"tZa",null);t.__decorate([e.config(e.jd,"outputRestrictedIsFatal")],g.prototype,"rEb",null);t.__decorate([e.config(e.jd,"outputRestrictedIsFatalForUhd")],g.prototype,"sEb",null);t.__decorate([e.config(e.jd,"uhdKeyIsUsable")],g.prototype,"WNb",null);b.fza=g=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.uo)),t.__param(1,(0,n.u)(a.gU)),t.__param(2,(0,n.u)(h.Cfa)),t.__param(2,(0,n.optional)())],g);},61731:function(t,b,a){var n,c;function d(h,f,e,g,k){h=void 0 === h?n.ca.mh:h;return c.ie.call(this,h,f,e,void 0,void 0,g,c.ie.Wi(k),k) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Pj=void 0;n=a(36129);c=a(31149);Ia(d,c.ie);b.Pj=d;},74946:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m,p,r,q,u,v){this.Jv=m;this.Ua=p;this.Ed=r;this.config=q;this.np=u;this.Pt=v;}Object.defineProperty(b,"__esModule",{value:!0});b.gza=void 0;t=a(22970);n=a(22674);c=a(87386);h=a(81918);f=a(2248);e=a(23563);g=a(59818);k=a(97737);a=a(21103);d.prototype.create=function(){var m;m=this;return this.Pt.oG().then(function(p){return new k.C6a(m.Jv,m.Ua,m.Ed,m.config,m.np,p);});};l=d;b.gza=l;b.gza=l=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.yb)),t.__param(1,(0,n.u)(h.$d)),t.__param(2,(0,n.u)(f.Sl)),t.__param(3,(0,n.u)(e.zB)),t.__param(4,(0,n.u)(g.HE)),t.__param(5,(0,n.u)(a.My))],l);},97737:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v;function d(w,x,y,z,B,A){var C;C=this;this.Ua=x;this.Vw=y;this.config=z;this.np=B;this.Rx=A;this.keyStatuses=new m.vc({});this.xVa=function(D){var F,G,E,H,J,L;try{G=C.Kq.lLa(D);E=G.uR;H=G.messageType;J=G.sessionId;C.SQ=C.SQ || G.SQ;C.bda(J);C.log.trace("Received " + D.type + " event",{sessionId:J,messageType:H,keyIds:C.SQ});if(H === b.qBa){if(C.config.xMa){C.log.trace("Disabling license renewal");return;}C.log.trace("Received a renewal request");C.li=h.Tq.Zq;C.Tt=q.zS;}C.Tt === q.Kt && C.Qu(f.yB.vHb);C.Tt === q.zS && C.Qu(f.yB.wHb);L={yJ:E,omb:H,li:C.li};null === (F=C.TDb) || void 0 === F?void 0:F.call(C,L);C.NQa(E)?C.QQ(new l.ie(c.ca.k6a)):C.Oo && !C.Oo.MPb && C.Myb(L);}catch(K){C.QQ(K);}};this.oac=function(D){for(var F=new Uint8Array(D),G=0;G < D.length;G+=2)(F[G]=D[G + 1],F[G + 1]=D[G]);return F;};this.nac=function(D){D=C.Vw.decode(D);D=C.oac(D);return C.Vw.encode(D);};this.vVa=function(D){var F,G,E,H,K,M,P,I,O,Q,S,U,X,Z,aa,ca,da;G=D.target;E=G.keyStatuses;C.bda(G.sessionId);C.log.trace("Received event: " + D.type);try{D=[];for(var J=Fa(E),L=J.next();!L.done;L=J.next()){K=Fa(L.value);M=K.next().value;P=K.next().value;I=C.Vw.encode(new Uint8Array(M));O=null === (F=C.pA) || void 0 === F?void 0:F[I];D.push({qA:I,status:P,height:O});}D.sort(function(ja,R){return (ja.height || 0) - (R.height || 0);});Q=D.map(function(ja){return ja.qA;});S=D.map(function(ja){return ja.height;});U=D.map(function(ja){return ja.status;});C.PSa=Q + ", " + S + ", " + U;C.log.trace("KeyStatus: " + C.PSa);F={};for(var W=Fa(E),Y=W.next();!Y.done;Y=W.next()){X=Fa(Y.value);Z=X.next().value;aa=X.next().value;ca=C.Vw.encode(new Uint8Array(Z));da=u[aa];F[ca]=da.status;C.KQ(ca,da.error) && (H=new g.Pj(da.error));}C.keyStatuses.set(F);}catch(ja){H=new g.Pj(c.ca.GXb);H.P7(ja);}H?C.tA?C.JSa(H):C.upa(H):(C.Kq.ela() || C.Nyb(),C.li !== h.Tq.oI || C.Kq.sJa() || (C.config.xMa?C.log.trace("Disabling license renewal"):C.qJc()));};this.LDb=function(D){C.log.error("MediaKeySession closed unexpectedly: " + D);C.upa(new l.ie(c.ca.Wya,v[D]));};this.QQ=function(D){C.close().then(function(){var F;C.log.trace("Issuing a generate challenge error");null === (F=C.Oo) || void 0 === F?void 0:F.a1.reject(D);C.Oo=void 0;},function(F){var G;C.log.error("EmeSession closed with an error.",C.Kq.EJ(F));null === (G=C.Oo) || void 0 === G?void 0:G.a1.reject(D);C.Oo=void 0;});};this.Myb=function(D){var F;null === (F=C.Oo) || void 0 === F?void 0:F.a1.resolve(D);C.Oo=void 0;};this.JSa=function(D){C.log.error("Failed to add license",D);C.close().then(function(){var F,G;C.log.trace("Issuing a license error");null === (F=C.Oo) || void 0 === F?void 0:F.a1.reject(D);C.Oo=void 0;null === (G=C.tA) || void 0 === G?void 0:G.reject(D);C.tA=void 0;},function(F){var G,E;C.log.error("EmeSession closed with an error.",C.Kq.EJ(F));C.Tt === q.zS && C.Qu(f.yB.Ljb);null === (G=C.Oo) || void 0 === G?void 0:G.a1.reject(D);C.Oo=void 0;null === (E=C.tA) || void 0 === E?void 0:E.reject(D);C.tA=void 0;});};this.Nyb=function(){C.tA && (C.log.info("Successfully added license"),C.Tt === q.Kt?C.Qu(f.yB.Djb):C.Tt === q.zS && C.Qu(f.yB.Kjb),C.tA.resolve(),C.tA=void 0);};this.upa=function(D){C.close().then(function(){var F;C.log.trace("Issuing a CDM error");C.Oo=void 0;C.tA=void 0;null === (F=C.qVa) || void 0 === F?void 0:F.call(C,D);},function(F){var G;C.log.error("EmeSession closed with an error.",C.Kq.EJ(F));C.Oo=void 0;C.tA=void 0;null === (G=C.qVa) || void 0 === G?void 0:G.call(C,D);});};this.Qu=function(D){C.wf.push({time:C.Ua.wc(),Jaa:D});};this.aIb=!1;this.log=w.ub("EmeSession");this.Tt=q.hSc;this.Xj=A.job();this.Kq=A.hob();this.wf=[];this.qVa=function(D){C.kYa=D;};}Object.defineProperty(b,"__esModule",{value:!0});b.C6a=b.qBa=b.rBa=void 0;n=a(5021);c=a(36129);h=a(24735);f=a(28289);t=a(28048);e=a(27995);g=a(61731);k=a(59818);l=a(31149);m=a(81734);p=a(94293);r=a(82100);(function(w){w[w.hSc=0]="unknown";w[w.create=1]="create";w[w.Kt=2]="license";w[w.zS=3]="renewal";w[w.closed=4]="closed";})(q || (q={}));b.rBa="license-request";b.qBa="license-renewal";u={usable:{status:t.iI.WOb},expired:{status:t.iI.kx,error:c.ca.FCa},released:{status:t.iI.released},"output-not-allowed":{status:t.iI.qEb,error:c.ca.kbb},"output-restricted":{status:t.iI.qEb,error:c.ca.GCa},"output-downscaled":{status:t.iI.tDc},"status-pending":{status:t.iI.ePc},"internal-error":{status:t.iI.ftc,error:c.ca.FXb}};v={"internal-error":c.Y.tTb,"closed-by-application":c.Y.rTb,"release-acknowledged":c.Y.vTb,"hardware-context-reset":c.Y.Uya,"resource-evicted":c.Y.wTb};d.prototype.Dnc=function(){return this.Rx.Ix;};d.prototype.qub=function(){return this.PSa;};d.prototype.mQ=function(){return this.sessionId;};d.prototype.close=function(){var w;w=this;this.TDb=void 0;this.Tt=q.closed;this.wf=[];void 0 !== this.Nta && (Ca.clearTimeout(this.Nta),this.Nta=void 0);return this.Xj.Fuc()?(this.log.trace("Closing the session"),this.Xj.PHb(this.xVa),this.Xj.MHb(this.vVa),this.mediaKeys=void 0,this.np.rs(this.config.okb,this.Xj.close()).then(function(){w.log.info("Closed the session");}).catch(function(x){w.log.error("Close failed",x);w.Kq.EJ(x).code=c.ca.HXb;throw x;})):Promise.resolve(void 0);};d.prototype.BC=function(){return this.Rx.BC();};d.prototype.twb=function(){return void 0 !== this.uA;};d.prototype.createSession=function(w,x,y){var z,B;z=this;this.pA=null !== (B=this.pA) && void 0 !== B?B:y;this.li=x;this.Tt=q.create;this.Qu(f.yB.Vzb);return (w.vwb()?Promise.resolve():this.np.rs(this.config.pkb,this.Xj.createMediaKeys(this.Rx)).then(function(A){z.log.trace("Created media keys");return z.W4b(A).then(function(){return w.Ejb(A);}).catch(function(C){return Promise.reject(z.nXa(C,c.ca.xTb));});})).then(function(){z.mediaKeys=w.mediaKeys;try{z.Xj.createSession(z.mediaKeys,z.LDb);z.Xj.Fjb(z.xVa);z.Xj.Bjb(z.vVa);z.bda(z.Xj.mQ());}catch(A){return Promise.reject(z.nXa(A,c.ca.sTb));}}).catch(function(A){return Promise.reject(z.nXa(A,c.ca.Tya));});};d.prototype.VMc=function(w){this.hs=w;this.log.yjb("xid",w.Ia);};d.prototype.hlc=function(w,x){return this.generateRequest(w,x,!1).then(function(y){return y;});};d.prototype.ilc=function(w,x){return this.generateRequest(w,x,!0).then(function(){});};d.prototype.Cjb=function(w,x){var y;this.pA=null !== (y=this.pA) && void 0 !== y?y:x;this.oZ=w.oZ;w=w.uA.map(function(z){return z.data;});this.NQa(w)?(this.log.error("The license buffer is empty"),this.QQ(new g.Pj(c.ca.j6a,c.Y.h6a))):(this.Tt === q.Kt && (this.Qu(f.yB.uHb),this.uA=w,this.uqb=this.Kq.xY(this.SQ,w),this.Oo && this.Oo.MPb && this.Myb()),this.Tt === q.zS && (this.Qu(f.yB.xHb),this.uA=w,this.uqb=this.Kq.xY(this.SQ,w),this.aJa()));};d.prototype.x3b=function(w){this.Tt === q.zS?(this.Qu(f.yB.yHb),this.upa(w)):this.QQ(w);};d.prototype.aJa=function(){var w,x;w=this;if(!this.uA){x=new g.Pj(c.ca.j6a,c.Y.l6a);this.JSa(x);return Promise.reject(x);}this.tA=new p.mha();x=this.uA;this.uA=void 0;this.np.rs(this.config.tkb,this.Xj.update(x,this.Tt === q.Kt?e.O4.Request:e.O4.wdb,this.SQ)).then(function(){w.Kq.ela() && w.Nyb();}).catch(function(y){y=w.Kq.EJ(y);y.code=c.ca.obb;y.message="Unable to update the EME";w.log.error(y.message,y);w.JSa(y);});return this.tA.promise;};d.prototype.JMc=function(w){this.TDb=w;};d.prototype.xMc=function(w){this.qVa=w;this.kYa && (w(this.kYa),this.kYa=void 0);};d.prototype.xY=function(){return this.uqb;};d.prototype.generateRequest=function(w,x,y){var z;z=this;this.Tt=q.Kt;this.log.trace("Generating a license challenge");if(!w)return (w=new g.Pj(c.ca.i6a,c.Y.l6a),this.QQ(w),Promise.reject(w));if(this.NQa(w))return (w=new g.Pj(c.ca.i6a,c.Y.h6a),this.QQ(w),Promise.reject(w));this.Oo={a1:new p.mha(),MPb:y};this.np.rs(this.config.qkb,this.Xj.generateRequest(this.Kq.hPa(),w,x)).then(function(){z.bda(z.Xj.mQ());}).catch(function(B){var A,C;A=new g.Pj(c.ca.Tfa,B instanceof k.Fw?c.Y.J2:c.Y.Sq);try{C=z.Kq.EJ(B);A.extCode=C.extCode;A.message="Unable to generate request.";A.P7(B);}catch(D){}z.log.error("Unable to generate a license request",A);z.QQ(A);});return this.Oo.a1.promise;};d.prototype.W4b=function(w){return this.np.rs(this.config.skb,this.Xj.setServerCertificate(w,this.Kq.rna()));};d.prototype.bda=function(w){w && w !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + w),this.sessionId=w,this.log.yjb("sessionId",w));};d.prototype.qJc=function(){var w;w=this;this.aIb || (this.aIb=!0,this.log.info("Kicking off license renewal",{timeout:this.config.tZ}),this.Nta=Ca.setTimeout(function(){w.Nta=void 0;w.nca();},this.config.tZ.oa(n.ya)));};d.prototype.Ouc=function(w){var x,y;return 1080 < (null !== (y=null === (x=this.pA) || void 0 === x?void 0:x[w]) && void 0 !== y?y:0);};d.prototype.KQ=function(w,x){var y;y=this.Xj.nub();return y && !y.includes(w)?!1:x === c.ca.GCa?this.Ouc(w)?this.config.sEb:this.config.rEb:!!x;};d.prototype.nca=function(){this.log.trace("Initiating a renewal request");this.li=h.Tq.Zq;this.Tt=q.zS;this.Kq.aKa()?this.Kq.ORa(this.Xj):this.ula();};d.prototype.ula=function(){var w;w=this;this.Xj.ula(this.mediaKeys,this.xVa,this.vVa,this.LDb).then(function(){w.log.debug("Creating session to renew license");w.bda(w.Xj.mQ());}).catch(function(){w.upa(new g.Pj(c.ca.Tfa));});};d.prototype.NQa=function(w){return 0 === w.length || w.reduce(function(x,y){return x || 0 === y.length;},!1);};d.prototype.nXa=function(w,x){var y,z;if((null === w || void 0 === w?0:w.code) && (null === w || void 0 === w?0:w.subCode))return w;z=(0,r.MPa)(null === w || void 0 === w?void 0:w.message);return new g.Pj(x,w instanceof k.Fw?c.Y.J2:c.Y.Sq,null === (y=null === z || void 0 === z?void 0:z.toString(16)) || void 0 === y?void 0:y.toUpperCase(),null === w || void 0 === w?void 0:w.message,w);};Ha.Object.defineProperties(d.prototype,{pA:{configurable:!0,enumerable:!0,get:function(){return this.I0b;},set:function(w){var x,y;x=this;if(w){y={};Object.entries(w).forEach(function(z){var B;B=Fa(z);z=B.next().value;B=B.next().value;y[z]=B;y[x.nac(z)]=B;});this.I0b=y;}}}});b.C6a=d;},84218:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cgb=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.Y6a=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.ecb=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},48691:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q;function d(u,v,w,x,y,z){this.Jv=u;this.config=v;this.X7=w;this.TC=x;this.hPb=y;this.np=z;this.log=this.Jv.ub("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.BAa=void 0;n=a(22970);t=a(22674);c=a(66523);h=a(87386);f=a(4203);e=a(17612);g=a(82100);k=a(41980);l=a(18647);m=a(21103);p=a(75236);r=a(59818);q=a(5021);d.prototype.get=function(){var u,v;u=this;try{v=this.Icc();return Promise.all([this.hpc(),this.TC.get()]).then(function(w){var x,y,z;w=Fa(w);x=w.next().value;y=w.next().value;v.forEach(function(B){var A;A=u.Cjc(B.Fpa,x);B.status=(0,m.mob)(A);});z=(0,m.tub)(v);v.forEach(function(B,A){var C;C=A === z;B.status.supported && !C && (B=u.Fjc(B.Fpa,y),(0,m.k1a)(v,A,B));});return v;});}catch(w){throw (this.log.error("KeySystemProvider failed.",w),w);}};d.prototype.Icc=function(){var u,v;u=this;v=(this.config().QSa || [this.config().Hx]).map(function(w){var x;x=e.sb.c9(w);x=u.X7.create(x).YPa();return (0 < x.length?x:[void 0]).map(function(y){return {keySystem:w,robustness:y};});});return (0,c.flatten)(v).map(function(w){return {Fpa:w,status:(0,m.mob)(void 0)};});};d.prototype.Cjc=function(u,v){var w;if(e.sb.lga.includes(u.keySystem) || g.d8a.includes(null !== (w=u.robustness) && void 0 !== w?w:"")){if(v)return v;if(this.config().PBb && 1440 > Ca.screen.height * Ca.devicePixelRatio)return "hwdrm-screen-height";}};d.prototype.Fjc=function(u,v){u=(0,g.Gnb)(u);if(v.includes(u))return "too-many-errors";};d.prototype.Koc=function(){return n.__awaiter(this,void 0,void 0,function v(){var w;w=this;return Sa(v,function(x){return x.return(w.np.rs((0,q.ec)(1E3),w.hPb.architecture).catch(function(){}));});});};d.prototype.Loc=function(){return n.__awaiter(this,void 0,void 0,function v(){var w;w=this;return Sa(v,function(x){return x.return(w.np.rs((0,q.ec)(1E3),w.hPb.platformVersion).catch(function(){}));});});};d.prototype.nuc=function(u,v){return 0 === v?!0:u?(parseInt(u.split(".")[0],10) || 0) >= v:!1;};d.prototype.hpc=function(){return n.__awaiter(this,void 0,void 0,function v(){var w,x;w=this;return Sa(v,function(y){x=w;return y.return(Promise.resolve().then(function(){return x.config().ohc?x.Loc().then(function(z){var B;B=x.config().Izc;if(!x.nuc(z,B))return "os-version";}):x.config().rhc?x.Koc().then(function(z){if("arm" !== z)return "architecture-not-arm";}):"hwdrm-not-enabled";}));});});};a=d;b.BAa=a;b.BAa=a=n.__decorate([(0,t.$)(),n.__param(0,(0,t.u)(h.yb)),n.__param(1,(0,t.u)(f.Fc)),n.__param(2,(0,t.u)(k.Pya)),n.__param(3,(0,t.u)(l.DAa)),n.__param(4,(0,t.u)(p.$fb)),n.__param(5,(0,t.u)(r.HE))],a);},61738:function(t,b,a){var n,c,h,f;function d(e,g,k){this.config=e;this.Jv=g;this.UJa=k;this.Gca=[];this.GYa={};this.aua={};this.log=this.Jv.ub("KeySystemRestrictor");this.dxc=this.config().Pqb?this.UJa.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.CAa=void 0;t=a(22970);n=a(22674);c=a(87386);h=a(4203);a=a(33258);d.prototype.get=function(){var e;e=this;try{return this.config().Pqb?this.dxc.then(function(g){return e.Ojc(g);}):Promise.resolve([]);}catch(g){return (this.log.error("KeySystemRestrictor failed.",g),Promise.resolve([]));}};d.prototype.Ojc=function(e){var k;this.Gca=[];this.GYa={};this.aua={};e=e.reduce(function(l,m){l[m.keySystem] || (l[m.keySystem]=[]);l[m.keySystem].push(m);return l;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(e));e=Fa(Object.entries(e));for(var g=e.next();!g.done;g=e.next()){k=Fa(g.value);g=k.next().value;k=k.next().value;if(k=this.Grc(k))(this.Gca.push(g),this.aua[g]=k);}this.Gca.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + this.aua);return this.Gca;};d.prototype.Grc=function(e){var g,k,l;g=this;l=e.reduce(function(m,p){g.config().zic.includes(p.code) && (p=g.scc(p),m[p] || (m[p]=0),m[p]++);return m;},{});this.GYa[e[0].keySystem]=l;return null === (k=Object.entries(l).find(function(m){m=Fa(m);m.next();return m.next().value >= g.config().Aic;})) || void 0 === k?void 0:k[0];};d.prototype.scc=function(e){return [e.code,e.subCode,e.extCode].filter(Boolean).join(".");};Ha.Object.defineProperties(d.prototype,{mzb:{configurable:!0,enumerable:!0,get:function(){return this.Gca;}},nzb:{configurable:!0,enumerable:!0,get:function(){return this.GYa;}},lzb:{configurable:!0,enumerable:!0,get:function(){return this.aua;}}});f=d;b.CAa=f;b.CAa=f=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.Fc)),t.__param(1,(0,n.u)(c.yb)),t.__param(2,(0,n.u)(a.Yxa))],f);},38231:function(t,b,a){var n,c,h,f;function d(e,g){this.X7=e;this.b8=g;}Object.defineProperty(b,"__esModule",{value:!0});b.LBa=void 0;t=a(22970);n=a(22674);c=a(41980);h=a(34008);f=a(52428);d.prototype.create=function(e,g,k){return new f.O$a(e,this.X7,this.b8,g,k);};a=d;b.LBa=a;b.LBa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.Pya)),t.__param(1,(0,n.u)(h.eza))],a);},52428:function(t,b,a){var n,c;function d(h,f,e,g,k){this.keySystem=h;this.X7=f;this.b8=e;this.Rx=g;this.uP=k;this.mediaKeys=[];}Object.defineProperty(b,"__esModule",{value:!0});b.O$a=void 0;n=a(17612);c=a(82100);d.prototype.createMediaKeys=function(){var h;h=this;return this.Rx.createMediaKeys().then(function(f){"function" === typeof WeakRef && h.mediaKeys.push(new WeakRef(f));return f;});};d.prototype.getConfiguration=function(){return this.Rx.getConfiguration();};d.prototype.BC=function(){return n.sb.c9(this.Rx.keySystem);};d.prototype.job=function(){return this.b8.create(this.uP);};d.prototype.hob=function(){return this.X7.create(this.uP);};Ha.Object.defineProperties(d.prototype,{Ix:{configurable:!0,enumerable:!0,get:function(){var h,f;h=this.keySystem;f=(0,c.Jub)(this.Rx);f && (h+="." + f);return h;}},Fqa:{configurable:!0,enumerable:!0,get:function(){return this.mediaKeys.filter(function(h){return void 0 !== h.deref();}).length;}}});b.O$a=d;},9717:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x;function d(y,z,B,A,C,D,F){this.Jv=y;this.Ed=z;this.config=B;this.ix=A;this.Lzc=C;this.b8=D;this.ovc=F;this.log=this.Jv.ub("MediaKeySystemAccessServices");this.OKc();}Object.defineProperty(b,"__esModule",{value:!0});b.MBa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(87386);f=a(61731);e=a(21103);g=a(53921);k=a(2248);l=a(4203);m=a(17612);p=a(82100);r=a(84218);q=a(91490);u=a(34008);v=a(22266);w=a(23563);x=a(73796);d.prototype.oG=function(){this.promise || (this.promise=this.QKc());return this.promise;};d.prototype.Tcc=function(y,z,B){var A;B=(z === p.wE || m.sb.lga.includes(B)) && this.config().OBb;A=[{contentType:x.Ec.contentType(x.Ec.iE)}];B && A.push({contentType:x.Ec.contentType(x.Ec.Vh)});z && A.forEach(function(C){C.robustness=z;});B={initDataTypes:[p.nE],videoCapabilities:A,sessionTypes:[p.TEMPORARY]};y === g.Rq.VPb && this.ix.oFb && (B.persistentState="required");return [B];};d.prototype.nob=function(y,z){var B;B=this;return new Promise(function(A,C){var D;D=m.sb.c9(y);B.b8.create(D).HJc(y,B.Tcc(D,z,y)).then(function(F){B.d9b(F,y,z);B.rxc(y,F);F=B.Lzc.create(y,F,D);A(F);}).catch(function(F){B.log.warn("Unable to create the media key system access object",{keySystem:y,error:F.message});C(new f.Pj(c.ca.g6a,c.Y.Sq,void 0,"Unable to create media keys system access. " + F.message,F));});});};d.prototype.Gmc=function(){var y;y=this.config().QSa || [this.config().Hx];if(1 < y.length)return (y=y.map(function(z){return m.sb.SOa(m.sb.c9(z));}),1 === new Set(y).size?Promise.resolve(y[0]):this.oG().then(function(z){return z.BC();}).then(function(z){return m.sb.SOa(z);}));y=m.sb.c9(y[0]);return Promise.resolve(m.sb.SOa(y));};d.prototype.d9b=function(y,z,B){z=(B === p.wE || m.sb.lga.includes(z)) && this.config().OBb;y=y.getConfiguration().videoCapabilities;if(null === y || void 0 === y || !y.some(function(A){return A.contentType === "video/mp4;codecs=" + x.Ec.iE;}))throw Error("AVC not supported");if(z && (null === y || void 0 === y || !y.some(function(A){return A.contentType === "video/mp4;codecs=" + x.Ec.Vh;})))throw Error("HEVC not supported");};d.prototype.rxc=function(y,z){this.log.trace("Created the media keys system access",{keySystem:y,supportedconfig:z.getConfiguration?JSON.stringify(z.getConfiguration()):void 0});};d.prototype.O1a=function(y){var z,B,A,C;z=this;B=y.BC();A=y.job();C=y.hob();return y.createMediaKeys().then(function(D){A.createSession(D,function(){});return A.setServerCertificate(D,C.rna());}).then(function(){return A.generateRequest(p.nE,z.gPa(B),!1);}).then(function(){return A.close();}).then(function(){return y;}).catch(function(D){z.log.error("validateKeySystemAccess failed",D);return Promise.reject(D);});};d.prototype.gPa=function(y){switch(y){case g.Rq.aY:y=r.Y6a;break;case g.Rq.R_:y=r.ecb;break;default:y=r.Cgb;}return y.map(this.Ed.decode);};d.prototype.QKc=function(){var y;y=this;try{return this.ovc.get().then(function(z){var B;y.J0b=z;B=(0,e.tub)(z);return z.map(function(A,C){var D,F;D=A.Fpa;F=A.status;return function(){var G,E;if(!F.supported)return Promise.reject(Error(D.keySystem + ": " + F.reason));G=C === B;E=y.config().O1a && !G;return y.nob(D.keySystem,D.robustness).catch(function(H){(0,e.k1a)(z,C,"not-supported");throw H;}).then(function(H){return E?y.O1a(H):Promise.resolve(H);}).catch(function(H){(0,e.k1a)(z,C,"validation-failed");throw H;});};});}).then(function(z){return y.RKc(z);}).then(function(z){y.keySystemAccess=z;y.Ix=z.Ix;return z;});}catch(z){return Promise.reject(z);}};d.prototype.RKc=function(y){return y.reduce(function(z,B){return z.then(function(A){return Promise.resolve(A);}).catch(function(){return B();});},Promise.reject(Error("keySystem missing")));};d.prototype.$8b=function(){var y;y=this;return new Promise(function(z,B){var A;A=Ca.screen.height * Ca.devicePixelRatio;y.config().PBb && 1440 > A?B():z();});};d.prototype.OKc=function(){var y,z;y=this;if(this.config().txc){z=(this.config().QSa || [this.config().Hx]).filter(function(B){return m.sb.lga.includes(B) || B === m.sb.Bgb;}).map(function(B){return y.nob(B,B === m.sb.Bgb?p.wE:void 0);});Promise.all([this.$8b()].concat(Aa(z))).then(function(){return y.Dhb=!0;}).catch(function(){return y.Dhb=!1;});}};Ha.Object.defineProperties(d.prototype,{kzb:{configurable:!0,enumerable:!0,get:function(){return this.Ix;}},ozb:{configurable:!0,enumerable:!0,get:function(){return this.J0b;}},jzb:{configurable:!0,enumerable:!0,get:function(){return this.Dhb;}},Fqa:{configurable:!0,enumerable:!0,get:function(){var y;return null === (y=this.keySystemAccess) || void 0 === y?void 0:y.Fqa;}}});a=d;b.MBa=a;b.MBa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.yb)),t.__param(1,(0,n.u)(k.Sl)),t.__param(2,(0,n.u)(l.Fc)),t.__param(3,(0,n.u)(w.zB)),t.__param(4,(0,n.u)(q.N$a)),t.__param(5,(0,n.u)(u.eza)),t.__param(6,(0,n.u)(v.i9a))],a);},66372:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.P$a=void 0;a.prototype.vwb=function(){return void 0 !== this.mediaKeys;};a.prototype.Ejb=function(d){this.mediaKeys=d;};a.prototype.iJc=function(){this.vwb() && (this.mediaKeys=void 0);};b.P$a=a;},77699:function(t,b){function a(d,n,c){var h;h=this;this.Ed=d;this.xk=n;this.jj=c;this.Bnc=function(f){var e;f=f.subarray(14,30);f=String.fromCharCode.apply(null,f);f=h.Ed.decode(f);f=f.subarray(4);e=new Uint8Array(16);e.set(f);return e;};this.a7a={nE:1667591779,QRb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.X6a=void 0;a.prototype.X$b=function(d,n){n=n?this.a7a.QRb:this.a7a.nE;d=d.map(function(c){return {h7c:"",pvc:c,o6:c,W$c:c,RTc:[1]};});return this.Kxc(n,d);};a.prototype.Jxc=function(d){var n;n=new Uint8Array(4);new DataView(n.buffer).setUint32(0,d);return this.QTa("fpsi",[n]);};a.prototype.Ixc=function(d,n,c){d=[this.QTa("fkri",[d])];n.byteLength && d.push(this.lqa("fkai",[n]));c.length && d.push(this.lqa("fkvl",[new Uint8Array(new Uint32Array(c).buffer)]));return this.lqa("fpsk",d);};a.prototype.Kxc=function(d,n){var c,f;c=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);d=[this.Jxc(d)];for(var h in n){f=n[h];d.push(this.Ixc(f.pvc,f.o6,f.RTc));}n=this.lqa("fpsd",d);h=new Uint8Array(4);new DataView(h.buffer).setUint32(0,n.byteLength);return this.QTa("pssh",[c,h,n]);};a.prototype.QTa=function(d,n){var c,h,f;c=0;for(f in n)c+=n[f].byteLength;c=new Uint8Array(12 + c);h=new DataView(c.buffer);f=0;h.setUint32(f,c.byteLength);f+=4;c.set(this.jj.decode(d),f);f+=4;h.setUint32(f,0);f+=4;for(var e in n)(d=n[e],c.set(d,f),f+=d.byteLength);return c;};a.prototype.lqa=function(d,n){var c,h;c=0;for(h in n)c+=n[h].byteLength;c=new Uint8Array(8 + c);h=0;new DataView(c.buffer).setUint32(h,c.byteLength);h+=4;c.set(this.jj.decode(d),h);h+=4;for(var f in n)(d=n[f],c.set(d,h),h+=d.byteLength);return c;};b.X6a=a;},81471:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r;function d(q,u,v,w,x,y){q=c.Ry.call(this,q,u,v,w,x,y) || this;q.Ed=v;q.xk=w;q.ix=x;q.jj=y;q.Lwb=new h.X6a(q.Ed,q.xk,q.jj);return q;}Object.defineProperty(b,"__esModule",{value:!0});b.wza=void 0;t=a(22970);n=a(22674);c=a(90349);h=a(77699);f=a(63368);e=a(42207);g=a(2248);k=a(74870);l=a(23563);m=a(84408);p=a(27995);r=a(47450);Ia(d,c.Ry);d.prototype.generateRequest=function(q,u,v){var w,x,y;w=this;try{x=u.map(function(z){return w.Lwb.Bnc(z);});this.oxb=x.map(function(z){return w.Ed.encode(z);});y=this.Lwb.X$b(x,v);return c.Ry.prototype.generateRequest.call(this,q,[y],!1);}catch(z){return Promise.reject(z);}};d.prototype.update=function(q,u,v){var w,x,y,z,B;w=this;if(v)try{x=this.jj.encode(q[0]);y=JSON.parse(x).RESPONSES.map(function(A){var C;C=r.Mha.nMb(A.ID);return {keyID:u === p.O4.wdb?w.oxb[w.oxb.length - 1]:v[C],payload:A.PAYLOAD};});if(u === p.O4.Request){z=y.map(function(A){return A.keyID;});this.btc=z;v.forEach(function(A){-1 === z.indexOf(A) && y.push({keyID:A,error:1});});}B=JSON.stringify(y);q=[this.jj.decode(B)];}catch(A){return Promise.reject(A);}return c.Ry.prototype.update.call(this,q,u);};d.prototype.nca=function(){return c.Ry.prototype.update.call(this,[this.jj.decode("renew")],p.O4.Request);};d.prototype.nub=function(){return this.btc;};a=d;b.wza=a;b.wza=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(f.i4)),t.__param(1,(0,n.u)(e.wi)),t.__param(2,(0,n.u)(g.Sl)),t.__param(3,(0,n.u)(k.cm)),t.__param(4,(0,n.u)(l.zB)),t.__param(5,(0,n.u)(m.PE))],a);},963:function(t,b,a){var n,c,h,f;function d(){var e;e=c.Ry.apply(this,arguments) || this;e.XDb=function(g){var k,l,r;g=g.target.keyStatuses;try{for(var m=Fa(g),p=m.next();!p.done;p=m.next()){r=Fa(p.value);r.next();"usable" === r.next().value && (null === (k=e.Ai) || void 0 === k?void 0:k.removeEventListener("keystatuseschange",e.XDb),null === (l=e.Xia) || void 0 === l?void 0:l.close(),e.Xia=void 0);}}catch(q){console.error("Error handling key status change",q);}};return e;}Object.defineProperty(b,"__esModule",{value:!0});b.aEa=void 0;t=a(22970);n=a(22674);c=a(90349);h=a(61731);f=a(36129);Ia(d,c.Ry);d.prototype.ula=function(e,g,k,l){this.PHb(g);this.MHb(k);this.Xia=this.Ai;this.Ai=new c.M$a(e,l);this.Fjb(g);this.Bjb(k);this.Ai.addEventListener("keystatuseschange",this.XDb);return this.generateRequest(this.initDataType,this.initData,!1);};d.prototype.close=function(){var g;function e(k){return k && k.sessionId?k.close():Promise.resolve();}g=this;return this.Ai?Promise.all([e(this.Ai),e(this.Xia)]).then(function(){}).finally(function(){g.Ai=void 0;g.Xia=void 0;}):Promise.reject(new h.Pj(f.ca.f6a,f.Y.Ufa,void 0,"Unable to close a key session, key session is not valid"));};d.prototype.generateRequest=function(e,g,k){this.initDataType=e;this.initData=g;return c.Ry.prototype.generateRequest.call(this,e,g,k);};a=d;b.aEa=a;b.aEa=a=t.__decorate([(0,n.$)()],a);},90349:function(t,b,a){var c,h,f,e,g,k,l,m,p,r,q;function d(u,v){var w;w=this;this.knb=v;this.TG=u.createSession("temporary");this.TG.closed.then(function(x){var y;return null === (y=w.knb) || void 0 === y?void 0:y.call(w,x);});}function n(u,v,w,x,y,z){this.Uaa=u;this.is=v;this.Ed=w;this.xk=x;this.ix=y;this.jj=z;(0,f.Kv)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.M$a=b.Ry=void 0;t=a(22970);h=a(22674);f=a(66523);e=a(36129);g=a(63368);k=a(42207);l=a(61731);m=a(74870);p=a(2248);r=a(23563);a=a(84408);n.prototype.mQ=function(){if(this.Ai)return this.Ai.sessionId;};n.prototype.HJc=function(u,v){return this.Uaa.requestMediaKeySystemAccess(u,v);};n.prototype.createMediaKeys=function(u){return u.createMediaKeys();};n.prototype.createSession=function(u,v){this.Ai=new d(u,v);};n.prototype.ula=function(){return Promise.reject(new l.Pj(e.ca.Tfa));};n.prototype.Fuc=function(){return !!this.Ai;};n.prototype.setServerCertificate=function(u,v){return this.is.tja(u.setServerCertificate) && v?u.setServerCertificate(v):Promise.resolve();};n.prototype.generateRequest=function(u,v){return this.Ai?this.Ai.generateRequest(u,v[0]):Promise.reject(new l.Pj(e.ca.Tfa,e.Y.Ufa,void 0,"Unable to generate a license request, key session is not valid"));};n.prototype.update=function(u){return this.Ai?this.Ai.update(u[0]):Promise.reject(new l.Pj(e.ca.m6a,e.Y.Ufa,void 0,"Unable to update the EME with a response, key session is not valid"));};n.prototype.close=function(){var u;if(!this.Ai)return Promise.reject(new l.Pj(e.ca.f6a,e.Y.Ufa,void 0,"Unable to close a key session, key session is not valid"));u=Promise.resolve();this.mQ() && (u=this.Ai.close());this.Ai=void 0;return u;};n.prototype.nca=function(){return Promise.reject(new l.Pj(e.ca.Vya,void 0,"Unable to renew a key session, not supported"));};n.prototype.Fjb=function(u){if(!this.Ai)throw ReferenceError("Unable to add message handler, key session is not valid");this.Ai.addEventListener(c.q6a,u);};n.prototype.Bjb=function(u){if(!this.Ai)throw ReferenceError("Unable to add key status handler, key session is not valid");this.Ai.addEventListener(c.p6a,u);};n.prototype.PHb=function(u){if(!this.Ai)throw ReferenceError("Unable to remove message handler, key session is not valid");this.Ai.removeEventListener(c.q6a,u);};n.prototype.MHb=function(u){if(!this.Ai)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.Ai.removeEventListener(c.p6a,u);};n.prototype.nub=function(){};q=c=n;b.Ry=q;q.q6a="message";q.p6a="keystatuseschange";b.Ry=q=c=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(g.i4)),t.__param(1,(0,h.u)(k.wi)),t.__param(2,(0,h.u)(p.Sl)),t.__param(3,(0,h.u)(m.cm)),t.__param(4,(0,h.u)(r.zB)),t.__param(5,(0,h.u)(a.PE))],q);d.prototype.addEventListener=function(u,v,w){this.TG.addEventListener(u,v,w);};d.prototype.removeEventListener=function(u,v,w){this.TG.removeEventListener(u,v,w);};d.prototype.generateRequest=function(u,v){return this.TG.generateRequest(u,v);};d.prototype.update=function(u){return this.TG.update(u);};d.prototype.close=function(){this.knb=void 0;return this.TG.close();};Ha.Object.defineProperties(d.prototype,{sessionId:{configurable:!0,enumerable:!0,get:function(){return this.TG.sessionId;}},expiration:{configurable:!0,enumerable:!0,get:function(){return this.TG.expiration;}},keyStatuses:{configurable:!0,enumerable:!0,get:function(){return this.TG.keyStatuses;}}});b.M$a=d;},65315:function(t,b,a){var n,c,h,f,e,g,k,l,m,p;function d(r,q,u,v){this.tl=r;this.Ed=q;this.ix=u;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.bya=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(6405);f=a(2248);e=a(61731);g=a(59818);k=a(23563);l=a(4203);m=a(31149);p=a(82100);d.prototype.ela=function(){return !1;};d.prototype.sJa=function(){return !0;};d.prototype.aKa=function(){return !0;};d.prototype.hPa=function(){return p.nE;};d.prototype.rna=function(){return this.ix.tZa?this.Ed.decode(this.ix.tZa):this.Ed.decode(p.tgb);};d.prototype.YPa=function(){return [p.wE,p.Lha,p.Kha];};d.prototype.ORa=function(){Promise.reject(new m.ie(c.ca.Vya));};d.prototype.lLa=function(r){var q;return {type:r.type,sessionId:null === (q=r.target) || void 0 === q?void 0:q.sessionId,uR:[new Uint8Array(r.message)],messageType:r.messageType};};d.prototype.EJ=function(r){var q,u,v;q=new e.Pj(c.ca.$ga);u=null === r || void 0 === r?void 0:r.code;null != u && void 0 !== u?(u=parseInt(u,10),q.subCode=1 <= u && 9 >= u?c.Y.sU + u:c.Y.sU):q.subCode=r instanceof g.Fw?c.Y.J2:c.Y.Sq;try{v=r.message.match(/\((\d*)\)/)[1];q.extCode=this.tl.fna(v,4);}catch(w){}q.P7(r);return q;};d.prototype.xY=function(){};a=d;b.bya=a;b.bya=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.WM)),t.__param(1,(0,n.u)(f.Sl)),t.__param(2,(0,n.u)(k.zB)),t.__param(3,(0,n.u)(l.Fc))],a);},20674:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m,p){this.tl=m;this.Ed=p;}Object.defineProperty(b,"__esModule",{value:!0});b.aza=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(6405);f=a(2248);e=a(61731);g=a(59818);k=a(31149);l=a(82100);d.prototype.ela=function(){return !0;};d.prototype.sJa=function(){return !1;};d.prototype.aKa=function(){return !1;};d.prototype.hPa=function(){return l.nE;};d.prototype.rna=function(){};d.prototype.YPa=function(){return [];};d.prototype.ORa=function(){Promise.reject(new k.ie(c.ca.Vya));};d.prototype.lLa=function(m){var p;p=new Uint8Array(m.message);p=this.bjc(p,"PlayReadyKeyMessage","Challenge");p=this.Ed.decode(p);return {type:m.type,sessionId:m.target.sessionId,uR:[p],messageType:m.messageType};};d.prototype.EJ=function(m){var p,r,q;p=new e.Pj(c.ca.$ga);r=m.code;null != r && void 0 !== r?(r=parseInt(r,10),p.subCode=1 <= r && 9 >= r?c.Y.sU + r:c.Y.sU):p.subCode=m instanceof g.Fw?c.Y.J2:c.Y.Sq;try{q=(/\((\d+)\)/).exec(m.message);p.extCode=this.tl.fna(Number(q && q[1]),4);}catch(u){}p.P7(m);return p;};d.prototype.bjc=function(m,p){var q,u,v;for(var r=1;r < arguments.length;++r);for(r=1;r < arguments.length;r++);r="";u=m.length;for(q=0;q < u;q++){v=m[q];0 < v && (r+=String.fromCharCode(v));}u="\\s*(.*)\\s*";for(q=arguments.length - 1;0 < q;q--){v=arguments[q];if(0 > r.search(v))return "";v="(?:[^:].*:|)" + v;u="[\\s\\S]*<" + v + "[^>]*>" + u + "</" + v + ">[\\s\\S]*";}return (r=r.match(new RegExp(u)))?r[1]:"";};d.prototype.xY=function(){};a=d;b.aza=a;b.aza=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.WM)),t.__param(1,(0,n.u)(f.Sl))],a);},47450:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Mha=void 0;a.Esc=function(d){return "ID" + (d + 1);};a.nMb=function(d){return Number(d.substr(2)) - 1;};b.Mha=a;},8265:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q;function d(u,v,w,x){this.tl=u;this.Ed=v;this.jj=w;this.Ii=x;}Object.defineProperty(b,"__esModule",{value:!0});b.JEa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(6405);f=a(84408);e=a(61731);g=a(59818);k=a(2248);l=a(82100);m=a(97737);p=a(31149);r=a(7605);q=a(47450);d.prototype.ela=function(){return !1;};d.prototype.sJa=function(){return !1;};d.prototype.aKa=function(){return !0;};d.prototype.hPa=function(){return l.nE;};d.prototype.rna=function(){return this.Ed.decode(l.tza);};d.prototype.YPa=function(){return [];};d.prototype.ORa=function(u){u.nca();};d.prototype.lLa=function(u){var v,w;v=[];if(u.messageType === m.rBa || u.messageType === m.qBa){if(u.messageType === m.rBa){w=this.jj.encode(new Uint8Array(u.message));v=JSON.parse(w);w=v.map(function(x){return x.keyID;});v=v.map(function(x){return x.payload;});}else v=[this.Ed.encode(new Uint8Array(u.message))];if(0 === v.length || !v.every(function(x){return x && x.length;}))throw new p.ie(c.ca.k6a);v=this.jRc(v);v=this.jj.decode(JSON.stringify(v));}else v=new Uint8Array(u.message);return {type:u.type,sessionId:u.target.sessionId,uR:[v],messageType:u.messageType,SQ:w};};d.prototype.EJ=function(u){var v,w,x,y;w=null === (v=u.target) || void 0 === v?void 0:v.error;if(w)(x=w.systemCode,y=w.code);v=new e.Pj(c.ca.$ga,u instanceof g.Fw?c.Y.J2:c.Y.sU,x?this.tl.fna(x,4):y,"",w);v.P7(u);return v;};d.prototype.jRc=function(u){u=u.map(function(v,w){return {ID:q.Mha.Esc(w),PAYLOAD:v};});return {VERSION:this.Ii.mC?3:1,CHALLENGES:u};};d.prototype.xY=function(u,v){var w,x;w=this;if(v && this.Ii.mC)try{x=this.jj.encode(v[0]);return JSON.parse(x).RESPONSES.sort(function(y,z){return y.ID > z.ID?1:-1;}).map(function(y){var z;z=q.Mha.nMb(y.ID);y=w.Ed.decode(y.DHB).subarray(4,12);z=w.Ed.decode(u[z]).subarray(0,8);return {from:y,to:z};});}catch(y){throw new e.Pj(c.ca.EXb,void 0,void 0,void 0,y);}};a=d;b.JEa=a;b.JEa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.WM)),t.__param(1,(0,n.u)(k.Sl)),t.__param(2,(0,n.u)(f.PE)),t.__param(3,(0,n.u)(r.Py))],a);},63341:function(t,b,a){var d,n,c,h,f,e,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.ctb=void 0;t=a(22674);d=a(62502);n=a(15031);c=a(76691);h=a(69936);f=a(33399);e=a(14318);g=a(75447);k=a(69484);b.ctb=new t.we(function(l){l(k.d7a).to(d.Cza).pa();l(k.ydb).to(n.qEa).pa();l(k.xdb).to(c.pEa).pa();l(e.b7a).to(h.Aza).pa();l(g.b8a).to(f.aAa).pa();});},14318:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.b7a="FtlDataParserSymbol";},69484:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ydb="ReportSyncSymbol";b.xdb="ReportApiErrorSyncSymbol";b.c7a="FtlProbeConfigSymbol";b.d7a="FtlProbeSymbol";},75447:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.b8a="HttpRequesterSymbol";},69936:function(t,b,a){var n,c,h,f,e;function d(g,k){this.is=g;this.json=k;(0,c.Kv)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.Aza=void 0;t=a(22970);n=a(22674);c=a(66523);h=a(63368);f=a(5021);a=a(42207);d.prototype.parse=function(g){var l;g=this.json.parse(g);if(!this.is.bIa(g))throw Error("FtlProbe: param: not an object");if(g.next && !this.is.O5(g.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.O5(g.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(g.pulse_delays && !this.is.IO(g.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.O5(g.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.IO(g.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Pw(g.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.h6(g.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var k=0;k < g.urls.length;++k){l=g.urls[k];if(!this.is.bIa(l))throw Error("FtlProbe: param.urls[" + k + "]: not an object");if(!this.is.Ws(l.name))throw Error("FtlProbe: param.urls[" + k + "].name: not a string");if(!this.is.Ws(l.method))throw Error("FtlProbe: param.urls[" + k + "].method: not a string");if(!this.is.Ws(l.url))throw Error("FtlProbe: param.urls[" + k + "].url: not a string");}return {AHc:g.pulses,SGb:g.pulse_delays?g.pulse_delays.map(f.ec):[],zHc:(0,f.ec)(g.pulse_timeout),Yyb:g.next?(0,f.ec)(g.next):void 0,urls:g.urls,JTa:g.logblob,context:g.ctx};};e=d;b.Aza=e;b.Aza=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.wi)),t.__param(1,(0,n.u)(h.HU))],e);},34731:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m,p){l=f.Gf.call(this,l,"FtlProbeConfigImpl") || this;l.Xj=m;l.La=p;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.Bza=void 0;t=a(22970);n=a(30869);c=a(22674);h=a(5021);f=a(64174);e=a(24747);g=a(12501);a=a(83767);Ia(d,f.Gf);Ha.Object.defineProperties(d.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.vOa + (-1 === this.vOa.indexOf("?")?"?":"&") + "monotonic=" + this.La.tCb + "&device=web";}},BLb:{configurable:!0,enumerable:!0,get:function(){return h.ia;}},hOa:{configurable:!0,enumerable:!0,get:function(){return "";}},vOa:{configurable:!0,enumerable:!0,get:function(){return this.Xj.endpoint + "/ftl/probe" + (this.hOa?"?force=" + this.hOa:"");}}});k=d;b.Bza=k;t.__decorate([g.config(g.jd,"ftlEnabled")],k.prototype,"enabled",null);t.__decorate([g.config(g.Sn,"ftlStartDelay")],k.prototype,"BLb",null);t.__decorate([g.config(g.string,"ftlEndpointForceParam")],k.prototype,"hOa",null);t.__decorate([g.config(g.url,"ftlEndpoint")],k.prototype,"vOa",null);b.Bza=k=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(a.uo)),t.__param(1,(0,c.u)(e.gfa)),t.__param(2,(0,c.u)(n.vi))],k);},62502:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m,p,r,q,u,v,w){this.config=m;this.Twb=p;this.ud=r;this.Ie=q;this.CJc=u;this.dIb=v;this.avc=0;this.va=w.ub("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.Cza=void 0;t=a(22970);c=a(22674);h=a(5021);f=a(53085);e=a(87386);g=a(14318);k=a(75447);a=a(69484);d.prototype.start=function(){this.config.enabled && !this.iy && (this.iy=this.ud.Aq(this.config.BLb,this.UL.bind(this)));};d.prototype.stop=function(){this.iy && (this.iy.cancel(),this.iy=void 0);};d.prototype.UL=function(){var m,p;m=this;p="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.avc++;this.Xpc(p).then(function(r){return Promise.all(r.urls.map(function(q){return m.hrc(r,q.name,q.method,q.url);})).then(function(q){0 < q.length && m.CJc.Pta({data:q,context:r.context,JTa:r.JTa});}).then(function(){return r;});}).then(function(r){m.iy && (r.Yyb?m.iy=m.ud.Aq(r.Yyb,m.UL.bind(m)):m.stop());}).catch(function(r){return m.va.error("FTL run failed",r);});};d.prototype.Xpc=function(m){var p;p=this;return this.Twb.get(m,!1).then(function(r){if(200 != r.status || null == r.body)return (p.dIb.Pta({url:m,status:r.status,pFb:"FTL API request failed",uf:r.uf}),Promise.reject(Error("FTL API request failed: " + r.status)));r=p.Ie.parse(r.body);return Promise.resolve(r);}).catch(function(r){r instanceof Error && (p.dIb.Pta({url:m,status:0,pFb:r.message}),p.va.error("FTL API call failed",r.message));return Promise.reject(r);});};d.prototype.hrc=function(m,p,r,q){var u;u=this;return new Promise(function(v,w){var G;for(var x,y,z,B,A,C=[],D={},F=0;F < m.AHc;(D={Cwa:D.Cwa,Dwa:D.Dwa},++F)){D.Cwa=F < m.SGb.length?m.SGb[F]:h.ia;D.Dwa="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (F + 1);G=(function(E){return function(){return new Promise(function(H,J){u.ud.Aq(E.Cwa,function(){n.QGc(u.Twb,E.Dwa,m.zHc).then(function(L){function K(M,P,I){M || (M=I.headers[P]);return M;}x=K(x,"via",L);y=K(y,"x-ftl-probe-data",L);z=K(z,"x-ftl-error",L);B=K(B,"x-ftl-probe-recv-ts",L);A=K(A,"latency-trace",L);L={method:r,status:L.status,uf:L.uf,UTc:x || "",B9b:y || "",m8:z || "",$Lc:B || "",Kvc:u.mEc(A)};H(L);}).catch(function(L){J(L);});});});};})(D);C.push(0 < F?C[F - 1].then(G):G());}Promise.all(C).then(function(E){v({name:p,method:r,url:q,data:E});}).catch(function(E){w(E);});});};d.prototype.mEc=function(m){var p;if(m){p={};m=Fa(m.split(";"));for(var r=m.next();!r.done;r=m.next())if((r=r.value.trim().split("=")) && 2 == r.length)try{p[r[0].trim()]=Number.parseInt(r[1]);}catch(q){}return p;}};d.QGc=function(m,p,r){return m.get(p,!1,r).then(function(q){return Object.assign({},q);});};l=n=d;b.Cza=l;b.Cza=l=n=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(a.c7a)),t.__param(1,(0,c.u)(k.b8a)),t.__param(2,(0,c.u)(f.kl)),t.__param(3,(0,c.u)(g.b7a)),t.__param(4,(0,c.u)(a.ydb)),t.__param(5,(0,c.u)(a.xdb)),t.__param(6,(0,c.u)(e.yb))],l);},33399:function(t,b,a){var n,c,h,f,e,g,k,l,m;function d(p,r,q){this.La=p;this.WUc=r;this.performance=q;(0,c.Kv)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.aAa=void 0;t=a(22970);c=a(66523);h=a(64274);f=a(72574);e=a(63368);g=a(30869);k=a(22674);l=a(81438);m=a(5021);d.prototype.get=function(p,r,q){var u;u=this;return new Promise(function(v,w){var x,y,z;try{x=u.WUc.create();("withCredentials" in x) || w(Error("Missing CORS support"));x.open("GET",p,!0);r && (x.withCredentials=!0);q && (x.timeout=q.oa(m.ya));y=u.La.Eg;z=void 0;x.onreadystatechange=function(){var B;switch(x.readyState){case XMLHttpRequest.HEADERS_RECEIVED:z=u.La.Eg.ea(y);break;case XMLHttpRequest.DONE:B=u.La.Eg.ea(y);B={body:x.responseText,status:x.status,headers:n.gWa(x.getAllResponseHeaders()),uf:u.BPa(p,(0,f.ma)(x.responseText.length),B,z)};v(B);}};x.send();}catch(B){w(B);}});};d.gWa=function(p){var r,u,v;r={};p=p.split("\r\n");for(var q=0;q < p.length;q++){u=p[q];v=u.indexOf(": ");0 < v && (r[u.substring(0,v).toLowerCase()]=u.substring(v + 2));}return r;};d.prototype.BPa=function(p,r,q,u){r={size:r,duration:q,y0a:u};if(!this.performance || !this.performance.getEntriesByName)return r;q=this.performance.getEntriesByName(p);if(0 == q.length && (q=this.performance.getEntriesByName(p + "/"),0 == q.length))return r;p=q[q.length - 1];r=(0,h.oaa)(r);p.decodedBodySize && (r.size=(0,f.ma)(p.decodedBodySize));0 < p.duration?r.duration=(0,m.timestamp)(p.duration):0 < p.startTime && 0 < p.responseEnd && (r.duration=(0,m.timestamp)(p.responseEnd - p.startTime));0 < p.requestStart && (r.dqb=(0,m.timestamp)(p.domainLookupEnd - p.domainLookupStart),r.k0a=(0,m.timestamp)(p.connectEnd - p.connectStart),r.y0a=(0,m.timestamp)(p.responseStart - p.startTime),0 === p.secureConnectionStart?r.E0a=(0,m.timestamp)(0):void 0 !== p.secureConnectionStart && (q=p.connectEnd - p.secureConnectionStart,r.E0a=(0,m.timestamp)(q),r.k0a=(0,m.timestamp)(p.connectEnd - p.connectStart - q)),0 < this.performance.timeOrigin && 0 < p.responseStart && (r.nIb=(0,m.timestamp)(this.performance.timeOrigin + p.requestStart),r.BIb=(0,m.timestamp)(this.performance.timeOrigin + p.responseStart)));return r;};a=n=d;b.aAa=a;b.aAa=a=n=t.__decorate([(0,k.$)(),t.__param(0,(0,k.u)(g.vi)),t.__param(1,(0,k.u)(l.Ggb)),t.__param(2,(0,k.u)(e.dha)),t.__param(2,(0,k.optional)())],a);},76691:function(t,b,a){var n,c,h,f,e,g;function d(k,l){this.Jh=k;this.ik=l;}Object.defineProperty(b,"__esModule",{value:!0});b.pEa=void 0;t=a(22970);c=a(22674);h=a(72574);f=a(5021);e=a(45118);a=a(31850);d.prototype.Pta=function(k){k=this.ik.cv("ftlProbeError","info",n.MUc({url:k.url,sc:k.status,pf_err:k.pFb},k));this.Jh.Pc(k);};d.MUc=function(k,l){l.uf && (l=l.uf,n.Ys(k,"d",l.duration),n.Ys(k,"dns",l.dqb),n.Ys(k,"tcp",l.k0a),n.Ys(k,"tls",l.E0a),n.Ys(k,"ttfb",l.y0a),n.Ys(k,"client_send_ts",l.nIb),n.Ys(k,"client_recv_ts",l.BIb),k.sz=l.size.oa(h.Iy));return k;};d.Ys=function(k,l,m){m && (k[l]=m.oa(f.ya));};g=n=d;b.pEa=g;b.pEa=g=n=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(e.Dp)),t.__param(1,(0,c.u)(a.yE))],g);},15031:function(t,b,a){var n,c,h,f,e,g;function d(k,l){this.Jh=k;this.ik=l;}Object.defineProperty(b,"__esModule",{value:!0});b.qEa=void 0;t=a(22970);c=a(22674);h=a(72574);f=a(5021);e=a(45118);a=a(31850);d.prototype.Pta=function(k){var l;l={ctx:k.context,data:k.data.map(function(m){return {name:m.name,method:m.method,url:m.url,data:m.data.map(function(p){return n.NUc({method:p.method,d:p.uf.duration.oa(f.ya),sc:p.status,sz:p.uf.size.oa(h.Iy),via:p.UTc,cip:p.B9b,err:p.m8,server_recv_ts:p.$Lc},p);})};})};k=this.ik.cv(k.JTa,"info",l);this.Jh.Pc(k);};d.NUc=function(k,l){n.Ys(k,"dns",l.uf.dqb);n.Ys(k,"tcp",l.uf.k0a);n.Ys(k,"tls",l.uf.E0a);n.Ys(k,"ttfb",l.uf.y0a);n.D3b(k,l.Kvc);n.Ys(k,"client_send_ts",l.uf.nIb);n.Ys(k,"client_recv_ts",l.uf.BIb);return k;};d.D3b=function(k,l){l && (k.rtts=l);};d.Ys=function(k,l,m){m && (k[l]=m.oa(f.ya));};g=n=d;b.qEa=g;b.qEa=g=n=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(e.Dp)),t.__param(1,(0,c.u)(a.yE))],g);},43367:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.XC=void 0;t=a(22674);d=a(80012);n=a(26971);b.XC=new t.we(function(c){c(d.p9a).to(n.MAa);});},80012:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.p9a="LicenseBrokerFactorySymbol";},20124:function(t,b,a){var n,c,h,f,e,g;function d(k,l){this.$b=k;this.j=l;this.T$=[];}Object.defineProperty(b,"__esModule",{value:!0});b.ofa=void 0;t=a(22970);n=a(36129);c=a(22674);h=a(32687);f=a(3887);e=a(31276);g=a(82100);d.prototype.SNa=function(k){this.T$.forEach(function(l){return l(k);});};d.prototype.og=function(k,l,m){this.j.og(k,l,m);};d.prototype.w3b=function(k){-1 === this.T$.indexOf(k) && this.T$.push(k);};d.prototype.hJc=function(k){k=this.T$.indexOf(k);0 <= k && this.T$.splice(k,1);};d.prototype.lqc=function(k){var l,m;l={};(0,h.ed)(k.code)?l.Sa=(0,n.L6a)(k.code):l.Sa=n.Y.Sq;try{m=(0,g.MPa)(k.message);m && (l.Fg=(0,e.wJa)(m,4));}catch(p){}l.jf=(0,f.Wi)(k);return l;};a=d;b.ofa=a;b.ofa=a=t.__decorate([(0,c.$)()],a);},26971:function(t,b,a){var n,c,h,f,e,g;function d(k,l,m,p){this.wX=k;this.config=l;this.OZ=m;this.fg=p;}Object.defineProperty(b,"__esModule",{value:!0});b.MAa=void 0;t=a(22970);n=a(22674);c=a(47737);h=a(128);f=a(4203);e=a(92395);a=a(66476);d.prototype.create=function(k,l){return new h.NAa(this.config(),this.fg,k,l,this.wX,this.OZ());};g=d;b.MAa=g;b.MAa=g=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.Rfa)),t.__param(1,(0,n.u)(f.Fc)),t.__param(2,(0,n.u)(e.Z3)),t.__param(3,(0,n.u)(a.ON))],g);},128:function(t,b,a){var n,c,h,f,e,g,k,l,m,p;function d(r,q,u,v,w,x){u=g.ofa.call(this,u,v) || this;u.config=r;u.fg=q;u.wX=w;u.Gqa=x;u.log=(0,c.Mn)(u.j,"LicenseBroker");u.kTa=new Set();u.lUa=!1;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.NAa=void 0;t=a(22970);n=a(36129);c=a(31276);h=a(28289);f=a(5021);e=a(22674);g=a(20124);k=a(85001);l=a(82100);m=a(56039);p=a(54973);Ia(d,g.ofa);d.prototype.ODb=function(){var r,q;r=this;q=this.j.ga;this.kTa.has(q.R) || (this.kTa.add(q.R),this.V4b(q).catch(function(){return r.iIb(q);}).then(function(){return r.Ckb(q);}).catch(function(u){return r.Bkb(q,u);}).catch(function(u){return r.og(u.code,u,u.extCode);}));};d.prototype.V4b=function(r){var q;q=this;return Promise.all([this.fg.Wlc(r.R),this.wX()]).then(function(u){var v,w;u=Fa(u);v=u.next().value;w=u.next().value;return v.Aua.then(function(x){var y;y=q.Gqa.mediaKeys;if(y && y !== x.mediaKeys)return (q.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === v.lTa.source && (y=q.wub(r),w.pCb(y,x));return x;}).then(function(x){return q.Y4b(x,r,v.lTa);});}).catch(function(u){q.log.warn("eme not in cache",u);throw u;});};d.prototype.Y4b=function(r,q,u){this.yGb(r,q);q.EW=u;this.Gqa.Ejb(r.mediaKeys);return r.aJa();};d.prototype.Ekc=function(r){var q;q={};r.forEach(function(u){q[(0,h.bgc)(u.Jaa)]=u.time.oa(f.ya);});return q;};d.prototype.yGb=function(r,q){var u;u=this;q.zl=r;r.xMc(function(v){u.og(v.code,v,v.extCode);});};d.prototype.Ckb=function(r){this.log.info("Successfully applied license for xid: " + r.Ia + ", viewable: " + r.R + ", segment: " + r.L);this.uK(r);this.lUa?this.SNa(r.R):this.setMediaKeys(r);};d.prototype.Bkb=function(r,q){this.uK(r);throw q;};d.prototype.uK=function(r){r.zl && r.uK(this.Ekc(r.zl.wf));};d.prototype.wub=function(r){var q,u,v;u=r.bE[0];v=u.streams[0].xe;v=(0,l.byb)(v);u=(0,m.nPa)(u.streams);return {type:(0,p.k9)(this.config,!1),initData:r.qS.map(function(w){return (0,c.wF)(w);}),epa:v,pA:u,hs:{R:r.R,Ia:r.Ia,Sd:r.Sd,Er:r.Er,Zo:r.S.Zo,Of:r.S.Aa.Of,Bp:(null === (q=r.ka.zh) || void 0 === q?void 0:q.trackId) || r.Qc.K7.trackId}};};d.prototype.iIb=function(r){var q;q=this;return this.wX().then(function(u){var v;v=q.wub(r);q.kTa.add(r.R);return u.Kt(v,q.Gqa).then(function(w){q.yGb(w,r);q.j.fireEvent(k.ja.mTa,{R:r.R});return w.aJa();});});};d.prototype.setMediaKeys=function(r){var q;q=this;if(this.lUa)this.log.trace("Media Keys already set");else try{this.$b.Ga?(this.lUa=!0,this.$b.Ga.setMediaKeys(r.zl.mediaKeys).then(function(){q.SNa(r.R);}).catch(function(u){u=q.lqc(u);q.og(n.ca.nbb,u,u.Fg);})):this.SNa(r.R);}catch(u){this.og(n.ca.nbb,u,void 0);}};d.prototype.JJc=function(r){var q;q=this;r=void 0 === r?this.j:r;return this.iIb(r).then(function(){return q.Ckb(r);}).catch(function(u){return q.Bkb(r,u);});};d.prototype.close=function(){this.Gqa.iJc();};Ha.Object.defineProperties(d.prototype,{Hx:{configurable:!0,enumerable:!0,get:function(){return this.config.Hx;}}});a=d;b.NAa=a;b.NAa=a=t.__decorate([(0,e.$)()],a);},13847:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.g3a="AppLogSinkSymbol";},21009:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G;Object.defineProperty(b,"__esModule",{value:!0});b.logblobs=void 0;t=a(22674);d=a(97996);n=a(31966);c=a(79428);h=a(50723);f=a(33345);e=a(74621);g=a(4203);k=a(41320);l=a(69124);m=a(74031);p=a(53085);r=a(33554);q=a(13847);u=a(53234);v=a(33945);w=a(31850);x=a(81829);y=a(45118);z=a(98326);B=a(52025);A=a(30895);C=a(36792);D=a(74714);F=a(73449);G=a(26158);b.logblobs=new t.we(function(E){E(y.Dp).to(c.WAa).pa();E(u.$$a).to(h.TBa).pa();E(v.Y9a).to(f.gBa).pa();E(x.W9a).to(e.dBa).pa();E(y.VAa).to(k.UAa).pa();E(w.yE).to(l.bBa).pa();E(x.V9a).to(m.cBa).pa();E(z.S3).to(B.wN).pa();E(z.fBa).to(D.eBa).pa();E(F.U3).to(G.xN).pa();E(A.T5a).to(C.Jya).pa();E(q.g3a).to(n.fxa).pa();E(y.S9a).dea(function(H){return function(){return H.Gb.get(d.f4)().then(function(J){return new Promise(function(L){var M,P,I;function K(){P() && I() && J.AR?L(H.Gb.get(y.Dp)):M.ag(K);}M=H.Gb.get(p.kl);P=H.Gb.get(g.Fc);I=H.Gb.get(r.xB);M.ag(K);});});};});});},30895:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.T5a="DownloadReportBuilderSymbol";},45118:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VAa="LogBatcherConfigSymbol";b.Dp="LogBatcherSymbol";b.S9a="LogBatcherProviderSymbol";},33945:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y9a="LogblobSenderSymbol";},31850:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yE="LogMessageFactorySymbol";},81829:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.V9a="LogMessageRulerConfigSymbol";b.W9a="LogMessageRulerSymbol";},98326:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.S3="LogblobBuilderFactorySymbol";b.fBa="LogblobBuilderCommonSymbol";},18169:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Md={};t.G6b="bitraterestriction";t.lmb="cdnsel";t.GF="chgstrm";t.debug="debug";t.Kfc="dlreport";t.nv="endplay";t.JQ="intrplay";t.WG="midplay";t.yL="playbackaborted";t.mca="renderstrmswitch";t.QL="repos";t.$t="resumeplay";t.cMc="serversel";t.rp="startplay";t.yda="statechanged";t.transition="transition";t.hZa="segmentdropped";t.MIa="advertsmismatch";t.j5b="asereport";t.HG="livereport";t.Xwc="livepipelinefailover";t.Xkb="audioswitch";t.Alb="blockedautoplay";t.config="config";t.g5c="ftlProbeError";t.ZPc="subtitleerror";t.$Pc="subtitleqoe";t.fRc="timedtextrebuffer";t.cNb="timedtextswitch";t.wLb="speedchanged";},73449:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.U3="LogblobMonitorFactorySymbol";},53234:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$$a="MessageQueueSymbol";},31966:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m,p,r){var q;q=this;this.zxc=l;this.JG=m;this.config=r;this.UXa=[];this.zxc.Hta(n.uQb,this.Rqc.bind(this));p().then(function(u){var v;v=r().hv.ukc;q.wyc=v?k.qo[v.toUpperCase()]:k.qo.Cp;q.Jh=u;q.SLc();});}Object.defineProperty(b,"__esModule",{value:!0});b.fxa=void 0;t=a(22970);c=a(22674);h=a(4203);f=a(36410);e=a(45118);g=a(31850);k=a(87386);d.prototype.Rqc=function(l,m){this.Jh?this.XGb(l,m):this.UXa.push([l,m]);};d.prototype.SLc=function(){var l,m;l=this;m=this.UXa;this.UXa=[];m.forEach(function(p){l.XGb(p[0],p[1]);});};d.prototype.XGb=function(l,m){var p;if(this.Jh && this.DNc(l)){p={debugMessage:l.message,debugCategory:l.sm};l.Kc.forEach(function(r){return p=Object.assign(Object.assign({},p),r.value);});p=Object.assign(Object.assign({},p),{prefix:"debug"});l=this.JG.cv("debug",k.qo[l.level].toLowerCase(),p,m);this.Jh.Pc(l);}};d.prototype.DNc=function(l){var m;m=this.wyc;return void 0 !== m && l.level <= m && !l.Kc.find(function(p){return p.k8(k.Qfa);});};a=n=d;b.fxa=a;a.uQb="adaptorAll";b.fxa=a=n=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(f.MU)),t.__param(1,(0,c.u)(g.yE)),t.__param(2,(0,c.u)(e.S9a)),t.__param(3,(0,c.u)(h.Fc))],a);},36792:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.Jya=void 0;t=a(22970);n=a(82956);c=a(51344);h=a(3887);f=a(36129);e=a(45146);g=a(22365);k=a(22674);a=a(4203);d.prototype.construct=function(m,p){var r,q,u;r=this;q={};m.forEach(function(v){var w;w=v.url;q[w] || (q[w]=[]);q[w].push(v);});u=[];(0,h.hi)(q,function(v,w){u.push(r.rqc(w,p));});return {urls:u};};d.prototype.rqc=function(m,p){var r,q,u,v,w;r=this;u=m[0];v={url:u.url,bitrate:u.bitrate,cdnid:null === (q=u.Oc) || void 0 === q?void 0:q.id,dltype:u.Mfc,id:u.cc};w={};m.forEach(function(x){var y;y=r.jyb(x)?"fail":"success";w[y] || (w[y]=[]);w[y].push(x);});(0,h.hi)(w,function(x,y){"fail" === x?v.failures=r.Smc(y,p):"success" === x && (v.downloads=r.Fmc(y,p));});return v;};d.prototype.Fmc=function(m,p){var r,q,u;r=this;q={};m.forEach(function(v){var w;w=v.$9b;q[w] || (q[w]=[]);q[w].push(v);});u=[];(0,h.hi)(q,function(v,w){var x;x=[];w.forEach(function(y){x.push(y);r.ntc(y) && (u.push(r.Vtb(x,p,v)),x=[]);});0 < x.length && u.push(r.Vtb(x,p,v));});return u;};d.prototype.Vtb=function(m,p,r){var q,u,v,w,y;q=m.sort(function(z,B){return z.sq.Ml < B.sq.Ml?-1:z.sq.Ml > B.sq.Ml?1:0;});u=q[0].sq;v=u.rH;w=u.Ml;u=u.fw;for(var x=1;x < m.length;x++){y=m[x].sq;y.rH < v && (v=y.rH);y.Ml < w && (w=y.Ml);y.fw > u && (u=y.fw);}x=this.dpc(q);y=q[q.length - 1];return {time:v - p,tcpid:r?parseInt(r):-1,tresp:w - v,first:x,ranges:this.epc(q,x),dur:u - w,trace:this.PY(m),status:this.NY(y),enctimeinfo:y.fNa};};d.prototype.dpc=function(m){var p;p=0;m.forEach(function(r){r.BD && (p=(0,g.BE)(p,r.BD[0]));});return p;};d.prototype.epc=function(m,p){var r;r=[];m.forEach(function(q){q.BD?r.push([q.BD[0] - p,q.BD[1] - p]):r.push([0,-1]);});return r;};d.prototype.PY=function(m){var p,r;p=[];m.forEach(function(q){var u;q=q.sq;if(r){u=q.rH - r.fw;0 < u && p.push([u,-2]);u=(0,g.Ky)(r.fw,q.rH);u=q.Ml - u;0 < u && p.push([u,-3]);}p.push([q.fw - q.Ml,q.Bn || 0]);r=q;});return p;};d.prototype.ntc=function(m){if(m.Sa === f.Y.nN || m.Sa === f.Y.oN)return !0;};d.prototype.NY=function(m){if(m.success)return "complete";if(m.Sa === f.Y.nN)return "abort";if(m.Sa === f.Y.oN)return "stall";(0,e.ta)(!1,"download status should never be: other");return "other";};d.prototype.Smc=function(m,p){var r,q;r=this;q=[];m.forEach(function(u){var v;v=u.sq;u={time:v.Ml - p,tresp:v.Ml - v.rH,dur:v.fw - v.Ml,range:u.BD,reason:r.gpc(u),httpcode:u.Fr,nwerr:(0,n.ioc)(u.Sa),enctimeinfo:u.fNa};q.push(u);});return q;};d.prototype.gpc=function(m){return m.Fr || m.Sa === f.Y.y3?"http":m.Sa === f.Y.B3?"timeout":"network";};d.prototype.jyb=function(m){return m.success || void 0 === m.success || m.Sa === f.Y.nN || m.Sa === f.Y.oN?!1:!0;};d.prototype.pac=function(m){var p,r,q,u,v,w;p=m.request;r=p.stream;q=p.track;u=p.url;v=this.Cmc(q,u);switch(v){case c.qn.audio:case c.qn.video:w=p.stream.cc;break;case c.qn.q1:case c.qn.U0a:w=q.cc;}m={bitrate:r && r.bitrate,Mfc:v,cc:w,sq:m.sq,Oc:p.Oc,url:u,Fg:m.Fg,Fr:m.Fr,Sa:m.Sa,success:m.success,$9b:this.$ic(m),fNa:p.GP};void 0 !== p.offset && void 0 != p.length && (m.BD=[p.offset,p.offset + p.length - 1]);return m;};d.prototype.Cmc=function(m,p){if(m)return m.type;if(0 <= p.indexOf("netflix.com")){if(0 <= p.indexOf("nccp"))return "nccp";if(0 <= p.indexOf("api"))return "api";}return "other";};d.prototype.$ic=function(m){if(m.headers && (m=m.headers["x-tcp-info"]))return (m=m.split(";").filter(function(p){return 0 == p.indexOf("port=");}).map(function(p){return p.split("=")[1];})[0])?(0,h.Il)(m):m;};l=d;b.Jya=l;b.Jya=l=t.__decorate([(0,k.$)(),t.__param(0,(0,k.u)(a.Fc))],l);},41320:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m){l=g.Gf.call(this,l,"LogBatcherConfigImpl") || this;l.config=m;l.qyc=(0,n.ma)(5E5);l.PLc=(0,c.zUa)(1);l.qBb=(0,n.ma)(1E6);return l;}Object.defineProperty(b,"__esModule",{value:!0});b.UAa=void 0;t=a(22970);n=a(72574);c=a(5021);h=a(22674);f=a(4203);e=a(12501);g=a(64174);a=a(83767);Ia(d,g.Gf);Ha.Object.defineProperties(d.prototype,{xIa:{configurable:!0,enumerable:!0,get:function(){return this.config().xIa;}},TKb:{configurable:!0,enumerable:!0,get:function(){return [];}},SKb:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});k=d;b.UAa=k;t.__decorate([e.config(e.object(),"shedLogblobTypes")],k.prototype,"TKb",null);t.__decorate([e.config(e.pz("string"),"shedDebugTypes")],k.prototype,"SKb",null);b.UAa=k=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(a.uo)),t.__param(1,(0,h.u)(f.Fc))],k);},79428:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r;function d(q,u,v,w,x,y){this.config=q;this.json=u;this.ud=v;this.qxc=w;this.Haa=y;this.kpa=this.AK=!1;this.listeners=[];(0,c.Kv)(this,"json");this.va=x.ub("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.WAa=void 0;t=a(22970);n=a(22674);c=a(66523);h=a(63368);f=a(33945);e=a(53085);g=a(87386);k=a(45118);l=a(53234);m=a(36129);p=a(15160);a(2762);r=a(18169);d.prototype.Sb=function(){this.AK=!0;};d.prototype.Pc=function(q){var u;u=this;this.QNc(q) || (!1,0 < q.size.vm(this.config.qyc)?this.va.error("Logblob is too large, dropping from the queue",{logblobType:q.type,logblobSize:q.size.toString()}):(this.listeners.forEach(function(v){return v.jzc(q);}),!1,this.Haa.DIa(q),this.ud.ag(function(){u.bkc();})));};d.prototype.flush=function(q){var u;u=this;q=void 0 === q?!1:q;return this.kpa?(this.va.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(v,w){u.va.trace("Flushing",g.Qfa);u.Fq();u.ud.ag(function(){u.nZa(q).then(function(){v();}).catch(function(x){w(x);});});});};d.prototype.addListener=function(q){this.listeners.push(q);};d.prototype.removeListener=function(q){q=this.listeners.indexOf(q);0 <= q && this.listeners.splice(q,1);};d.prototype.nZa=function(q){var u,v;u=this;q=void 0 === q?!1:q;if(!this.AK)return (this.va.trace("LogBatcher is not initialized"),Promise.resolve());if(this.kpa)return (this.va.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());v=this.Haa.Olc();if(0 === v.length && !q)return (this.va.trace("No logblobs to send"),Promise.resolve());!1;this.Fq();this.listeners.forEach(function(){});q=Promise.resolve();for(var w={},x=Fa(v),y=x.next();!y.done;(w={Bwa:w.Bwa},y=x.next()))(w.Bwa=y.value,q=q.then((function(z){return function(){return u.OLc(z.Bwa);};})(w)));return q.then(function(){return u.WJ();}).catch(function(z){v.filter(function(B){return !B.BG;}).forEach(function(B){return B.kf();});u.WJ();throw Error("Send failure. " + z);});};d.prototype.OLc=function(q){var u;u=this;this.va.trace("Sending batch: " + q.size,g.Qfa);return Promise.resolve(this.Haa.bJc(q)).then(function(){return u.qxc.send(q.uR);}).then(function(){return q.d1();}).catch(function(v){u.va.warn("Failed to send batch of logblobs.",v,g.Qfa);q.kf();u.yNc(v) && u.Haa.i3b(q);u.UNc(v) && (u.kpa=!0);throw v;});};d.prototype.yNc=function(q){return q.extCode === m.jga.Cbb?!1:this.config.xIa;};d.prototype.UNc=function(q){return q.subCode === m.Y.e7a || q.subCode === m.Y.x3 || q.subCode === m.Y.C3?!0:!1;};d.prototype.bkc=function(){var q;q=this;0 < this.Haa.size.vm(this.config.qBb)?this.nZa().catch(function(u){return q.va.warn("Failed to send log messages on size threshold. " + u);}):this.WJ();};d.prototype.Fq=function(){this.Apa && (!1,this.Apa.cancel(),this.Apa=void 0);};d.prototype.WJ=function(){this.Apa || (!1,this.Apa=this.ud.Aq(this.config.PLc,this.x_.bind(this)));};d.prototype.x_=function(){var q;q=this;this.kpa=!1;this.Fq();this.nZa().catch(function(u){return q.va.warn("Failed to send log messages on timer. " + u);});};d.prototype.stringify=function(q){var u;u="";try{u=this.json.stringify(q.data,void 0,"  ");}catch(v){}return u;};d.prototype.QNc=function(q){return 0 <= this.config.TKb.indexOf(q.type)?!0:q.type === r.Md.debug?0 <= this.config.SKb.indexOf(q.data.debugCategory):!1;};a=d;b.WAa=a;b.WAa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(k.VAa)),t.__param(1,(0,n.u)(h.HU)),t.__param(2,(0,n.u)(e.kl)),t.__param(3,(0,n.u)(f.Y9a)),t.__param(4,(0,n.u)(g.yb)),t.__param(5,(0,n.u)(l.$$a)),t.__param(6,(0,n.u)(p.Lfa))],a);},69124:function(t,b,a){var c,h,f,e,g,k,l,m,p,r;function d(q,u,v,w,x,y,z,B,A,C,D){this.platform=u;this.JLa=v;this.userAgentData=w;this.type=x;this.severity=y;this.timestamp=z;this.Ua=A;this.data=B;this.data.type=x;this.data.sev=y;this.data.devmod=this.platform.MJ;this.data.clver=this.platform.version;q && q.Ge && (q.Ge.os && (this.data.osplatform=q.Ge.os.name,this.data.osver=w.platformVersion.UC?w.platformVersion.version:q.Ge.os.version),this.data.browsername=q.Ge.name,this.data.browserver=q.Ge.version);q.FSa && (this.data.tester=!0);q.groupName && !this.data.groupname && (this.data.groupname=q.groupName);q.IW && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + q.IW:q.IW);q.rea && (this.data.uigroupname=q.rea);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ua.Rnc();this.data.uniqueLogId=C.ntb();this.data.appId=this.Ua.id;D && (q=this.Ua.wc(),this.data.soffms=q.ea(D.Gj).oa(e.ya),this.data.mid=this.data.mid || D.R,this.data.lvpi=D.AAb,this.data.uiLabel=D.$e,this.data.uxLabels=D.cwa,x="startup" === x?"playbackxid":"xid",this.data[x]="xid" === x && this.data.xid || D.Ia,D.US && (x=D.US,(D=D.US.split(".")) && 1 < D.length && "S" !== D[0][0] && (x="SABTest" + D[0] + ".Cell" + D[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + x:x));}function n(q,u,v,w,x,y,z){this.La=q;this.JLa=u;this.config=v;this.Ua=w;this.DTc=x;this.platform=y;this.userAgentData=z;}Object.defineProperty(b,"__esModule",{value:!0});b.bBa=void 0;t=a(22970);c=a(72574);h=a(22674);f=a(30869);e=a(5021);g=a(58098);k=a(34231);l=a(81918);m=a(96723);p=a(91581);a=a(75236);n.prototype.cv=function(q,u,v,w){return new d(this.config,this.platform,this.JLa,this.userAgentData,q,u,this.La.Eg,v,this.Ua,this.DTc,w);};r=n;b.bBa=r;b.bBa=r=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(f.vi)),t.__param(1,(0,h.u)(g.l5a)),t.__param(2,(0,h.u)(k.Ls)),t.__param(3,(0,h.u)(l.$d)),t.__param(4,(0,h.u)(m.cgb)),t.__param(5,(0,h.u)(p.Ps)),t.__param(6,(0,h.u)(a.cia))],r);Ha.Object.defineProperties(d.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.Slb || (this.Slb=(0,c.ma)(this.JLa.encode(this.data).length));return this.Slb;}}});},74031:function(t,b,a){var n,c,h;function d(f){this.Jo=f;}Object.defineProperty(b,"__esModule",{value:!0});b.cBa=void 0;t=a(22970);n=a(22674);c=a(72574);a=a(33554);d.prototype.uxc=function(){var f;f=this.Jo()?this.Jo().Vi.length:40;return (0,c.ma)(f + 33);};h=d;b.cBa=h;b.cBa=h=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.xB))],h);},74621:function(t,b,a){var n,c,h;function d(f){this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.dBa=void 0;t=a(22970);n=a(22674);c=a(81829);h=a(72574);d.prototype.measure=function(f){var e;e=this;return f.map(function(g){return g.size.add(e.config.uxc());}).reduce(function(g,k){return g.add(k);},(0,h.ma)(0));};a=d;b.dBa=a;b.dBa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.V9a))],a);},74714:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r;function d(q,u,v,w){this.platform=q;this.config=u;this.Ua=v;this.userAgentData=w;this.kgb=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.eBa=void 0;t=a(22970);n=a(22674);c=a(81918);h=a(36129);f=a(91581);e=a(5021);g=a(4203);k=a(3887);l=a(22365);m=a(82956);p=a(75236);r=a(26388);d.prototype.Bv=function(q,u,v){v && (q.adlid=v.cc,q.abitrate=v.bitrate);u && (q.vdlid=u.cc,q.vbitrate=u.bitrate);};d.prototype.fxb=function(q,u,v){v?q=Object.assign(q,(0,m.Poc)(this.platform.jx,v)):q.errorcode=h.ca.mh;q.errorcode === this.platform.jx + h.ca.jbb && (q.lastSyncWithVideoElement=this.getTime() - u.Nda);};d.prototype.kxb=function(q,u){var v;try{Object.assign(q,(0,m.yvb)());v=u.getBoundingClientRect();q.rendersize=v.width + "x" + v.height;q.renderpos=v.left + "x" + v.top;}catch(w){}};d.prototype.jxb=function(q,u){var v,w,x;v=u.Oc[r.v.U].value;w=u.Oc[r.v.X].value;x=u.Re.value;u=u.se.value;v && (q.cdnid=v.id,q.cdnname=v.name);w && (q.acdnid=w.id,q.acdnname=w.name);if(null === x || void 0 === x?0:x.stream)(q.adlid=x.stream.cc,q.abitrate=x.stream.bitrate);if(null === u || void 0 === u?0:u.stream)(q.vdlid=u.stream.cc,q.vbitrate=u.stream.bitrate,q.vheight=u.stream.height,q.vwidth=u.stream.width);};d.prototype.hxb=function(q,u,v){var w;w=u.j;0 <= u.mediaTime.value && (u=v && !u.mb.Hg?u.Cr:w && w.iZ()?w.$tb():u.mediaTime.value,q.moff=(0,k.Ir)(u),q.moffms=(0,k.Hh)(u));};d.prototype.dxb=function(q,u){u.correlationId && (q.pbcid=u.correlationId);u.Sd && (q.playbackcontextid=u.Sd);};d.prototype.xRa=function(q){var u,v;q.browserua=l.VU;q.browseruad=null === (v=null === (u=l.tg.userAgentData) || void 0 === u?void 0:u.brands) || void 0 === v?void 0:v.map(function(w){return [w.brand,w.version];});q.browseruadpv=this.userAgentData.platformVersion.UC?this.userAgentData.platformVersion.version:this.userAgentData.platformVersion.reason;q.browseruada=this.userAgentData.architecture.UC?this.userAgentData.architecture.architecture:this.userAgentData.architecture.reason;q.browserhref=location.href;(u=l.tg && l.tg.connection && l.tg.connection.type) && (q.nettype=u);};d.prototype.WY=function(q){var u,v,w,x,y;if(this.config().Jhc){y=null === (u=null === l.tg || void 0 === l.tg?void 0:l.tg.connection) || void 0 === u?void 0:u.effectiveType;u=null === l.tg || void 0 === l.tg?void 0:l.tg.deviceMemory;y && (q.effectiveType=y);u && (q.deviceMemory=u);}(y=null === (v=null === l.tg || void 0 === l.tg?void 0:l.tg.connection) || void 0 === v?void 0:v.type) && (q.connectionType=y);v=null === (w=null === l.tg || void 0 === l.tg?void 0:l.tg.connection) || void 0 === w?void 0:w.downlink;"number" === typeof v && isFinite(v) && (q.downlink=v);w=null === (x=null === l.tg || void 0 === l.tg?void 0:l.tg.connection) || void 0 === x?void 0:x.rtt;"number" === typeof w && isFinite(w) && (q.rtt=w);};d.prototype.Loa=function(q,u){if(u=u.mb.Eq)(u.isUIAutoPlay && (q.isUIAutoPlay=!0),u.clLogId && (q.cl_log_id=u.clLogId));};d.prototype.XY=function(q,u,v,w){var x,y,z,B,A;x=this;if(v=v && v.streams){z=new Set();B=new Set();A=new Set();v.forEach(function(C){C=C.xe;z.add(C);B.add(C.replace(x.kgb,""));(C=C.match(x.kgb)) && 0 < C.length && A.add(C[1]);});q.videoProfiles=[].concat(Aa(z));q.videoProfile=0 === B.size?"none":[].concat(Aa(B))[0];q.videoProfileLevels=[].concat(Aa(A));v && v.length && (q.isMcClearen=!!v[0].vk.find(function(C){return 0 <= C.toLowerCase().indexOf("mcclearen");}));}u && (null === (y=w.S) || void 0 === y?0:y.Kea) && (q.videoProfilesStatus=this.cBb(w.S.Kea));};d.prototype.cBb=function(q){return this.byc(q.NY(),function(u){return u.supported?!0:u.reason;});};d.prototype.byc=function(q,u){return Object.entries(q).reduce(function(v,w){var x;x=Fa(w);w=x.next().value;x=x.next().value;v[w]=u(x);return v;},{});};d.prototype.VY=function(q,u,v,w){var x,y;if(v=v && v.streams){y={};v.forEach(function(z){y[z.xe]=void 0;});q.audioProfiles=Object.keys(y);}u && (null === (x=w.S) || void 0 === x?0:x.s6) && (q.audioProfilesStatus=this.cBb(w.S.s6));};d.prototype.exb=function(q){q.configversion=this.config().version;this.config().endpoint || (q.configendpoint="error");};d.prototype.getTime=function(){return this.Ua.wc().oa(e.ya);};a=d;b.eBa=a;b.eBa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(f.Ps)),t.__param(1,(0,n.u)(g.Fc)),t.__param(2,(0,n.u)(c.$d)),t.__param(3,(0,n.u)(p.cia))],a);},52025:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C;function d(D,F,G,E,H,J,L,K,M,P,I,O,Q,S,U,W,Y,X,Z){this.UMb=D;this.Jh=F;this.GNa=G;this.Df=E;this.cma=H;this.He=J;this.config=L;this.fg=K;this.La=M;this.Ua=P;this.platform=I;this.KA=O;this.JG=Q;this.Xk=S;this.jG=U;this.vR=W;this.Hc=Y;this.Nx=X;this.TC=Z;}Object.defineProperty(b,"__esModule",{value:!0});b.wN=void 0;t=a(22970);n=a(87549);c=a(45118);h=a(74870);f=a(94800);e=a(22674);g=a(98326);k=a(74098);l=a(30895);m=a(32934);p=a(4203);r=a(30869);q=a(81918);u=a(91581);v=a(31850);w=a(66476);x=a(52531);y=a(63368);z=a(34231);B=a(2160);A=a(21103);a=a(18647);d.prototype.create=function(D,F){return new k.T3(D,F,this.UMb,this.Jh,this.GNa,this.Df,this.cma,this.He,this.config,this.fg,this.La,this.Ua,this.KA,this.JG,this.Xk,this.jG,this.vR,this.Hc,this.Nx,this.TC);};C=d;b.wN=C;b.wN=C=t.__decorate([(0,e.$)(),t.__param(0,(0,e.u)(n.ofb)),t.__param(1,(0,e.u)(c.Dp)),t.__param(2,(0,e.u)(f.sza)),t.__param(3,(0,e.u)(h.cm)),t.__param(4,(0,e.u)(l.T5a)),t.__param(5,(0,e.u)(m.DB)),t.__param(6,(0,e.u)(p.Fc)),t.__param(7,(0,e.u)(w.ON)),t.__param(8,(0,e.u)(r.vi)),t.__param(9,(0,e.u)(q.$d)),t.__param(10,(0,e.u)(u.Ps)),t.__param(11,(0,e.u)(y.fha)),t.__param(12,(0,e.u)(v.yE)),t.__param(13,(0,e.u)(x.IN)),t.__param(14,(0,e.u)(z.Ls)),t.__param(15,(0,e.u)(B.WBa)),t.__param(16,(0,e.u)(g.fBa)),t.__param(17,(0,e.u)(A.My)),t.__param(18,(0,e.u)(a.DAa))],C);},74098:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E;function d(H,J,L,K,M,P,I,O,Q,S,U,W,Y,X,Z,aa,ca,da,ja,R){var N;N=this;this.j=H;this.Ma=J;this.UMb=L;this.Jh=K;this.GNa=M;this.Df=P;this.cma=I;this.He=O;this.config=Q;this.fg=S;this.La=U;this.Ua=W;this.KA=Y;this.JG=X;this.Xk=Z;this.jG=aa;this.vR=ca;this.Hc=da;this.Nx=ja;this.TC=R;this.Yda=[];this.qUa=this.DK=this.rca=0;this.vX=[];this.GIa=!1;this.rp=function(V){var ba,fa,ha,la,pa,ia,na,T,ea,ka,ra,ta,qa,xa,Ba,oa,va,za,ua;qa={};try{qa={playdelaysdk:(0,l.Hh)(N.j.Q6()),applicationPlaydelay:(0,l.Hh)(N.j.XJa()),playdelay:(0,l.Hh)(N.j.YJa()),trackid:N.j.jn,bookmark:(0,l.Hh)(N.j.Tp || 0),pbnum:N.j.index,endianness:(0,e.Pmc)(),isStandaloneDisplay:N.config().zLb};N.config().Rhc && (qa.transitiontime=N.j.Lq,qa.uiplaystarttime=N.j.mb.rB,qa.playbackrequestedat=N.j.Gj.oa(m.ya),qa.clockgettime=N.getTime(),qa.clockgetpreciseepoch=N.La.Eg.oa(m.ya),qa.clockgetpreciseappepoch=N.Ua.GG.oa(m.ya),qa.absolutestarttime=N.j.bQ(),qa.relativetime=N.j.svb());xa=N.j.ka.ce;Ba=null === (fa=null === (ba=N.j.Re.value) || void 0 === ba?void 0:ba.stream) || void 0 === fa?void 0:fa.cc;qa.audiotrackinfo=N.dQ(xa,Ba);oa=N.j.ka.zh;va=null === (la=null === (ha=N.j.se.value) || void 0 === ha?void 0:ha.stream) || void 0 === la?void 0:la.cc;qa.videotrackinfo=N.zQa(oa,va);qa.texttrackinfo=N.vQ(N.j.ka.Kd);qa.mediabufferedsegments=null === (pa=N.j.Rd) || void 0 === pa?void 0:pa.tY();N.jna(qa,"startplay");}catch(ya){N.log.error("error in startplay log fields",ya);}N.j.rj && (qa.blocked=N.j.rj);N.Hc.exb(qa);(0,x.pc)(N.j.Dlb) && (qa.bookmarkact=(0,l.Hh)(N.j.Dlb));(ba=N.j.wf.at && N.j.wf.ats?N.j.wf.at - N.j.wf.ats:void 0) && (qa.nccpat=ba);(ba=N.j.wf.lr && N.j.wf.lc?N.j.wf.lr - N.j.wf.lc:void 0) && (qa.nccplt=ba);(ba=N.j.wf.lc && N.j.wf.lg?N.j.wf.lc - N.j.wf.lg:void 0) && (qa.lct=ba);(ba=N.sP()) && (qa.downloadables=ba);Ca._cad_global.device && (0,x.ed)(Ca._cad_global.device.Cma) && (qa.esnSource=Ca._cad_global.device.Cma);(0,l.xf)(qa,N.KA,{prefix:"pi_"});N.j.kt && N.j.kt.initBitrate && (qa.initvbitrate=N.j.kt.initBitrate);N.j.kt && N.j.kt.selector && (qa.selector=N.j.kt.selector);qa.fullDlreports=N.D1a;if(N.j.state.value >= w.Bc.qf)try{za=N.j.oC();za && (N.maxBitrate=(0,e.hfa)(za.map(function(ya){return ya.bitrate;})),N.vBb=(0,e.hfa)(za.map(function(ya){return ya.height;})),qa.maxbitrate=N.maxBitrate,qa.maxresheight=N.vBb);}catch(ya){N.log.error("Exception computing max bitrate",ya);}try{ua=(0,e.GY)();ua && (qa.pdltime=ua);}catch(ya){}try{(0,l.xf)(qa,N.j.wf,{prefix:"sm_"});(0,l.xf)(qa,N.j.ioa(),{prefix:"vd_"});}catch(ya){}V && N.j.qS && (qa.pssh=N.j.qS);N.ixb(N.j,qa);qa.avtp=N.uT.Ok().u0a;(null === (ia=N.j.bb) || void 0 === ia?0:ia.YE) && N.Koa(qa);if(N.j.ka.Kd)try{qa.ttTrackFields=N.j.ka.Kd.ri;}catch(ya){}qa.itsxheaac=MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.40.42"');N.Hc.VY(qa,!0,N.j.ka.ce,N.Ma);N.Hc.XY(qa,!0,N.j.ka.zh,N.Ma);N.j.S && (qa.packageId=N.j.S.Aa.ds);if(null === (na=N.j.S) || void 0 === na?0:na.Aa.xr)qa.hasChoiceMap=!0;N.config().ZMa && (qa.reusedManifest=null !== (ea=null === (T=N.j.S) || void 0 === T?void 0:T.H1a) && void 0 !== ea?ea:!1);if(null === (ta=null === (ra=null === (ka=N.j.S) || void 0 === ka?void 0:ka.Aa.GH) || void 0 === ra?void 0:ra.iT) || void 0 === ta?0:ta.QC)qa.isSteeringSticky=!0;N.qvc();V && (N.yRa(qa),N.ARa(qa));N.cxb(N.j,qa);N.EQ(N.j,qa);N.FQ(N.j,qa);N.vx(N.j,qa);N.e$(N.j,qa);N.vK(N.j,qa,N.GIa);N.f$(N.j,qa);N.rsc(N.j,qa);N.zRa(qa);N.CRa(qa);N.Hc.WY(qa);N.bxb(qa);N.Hc.Loa(qa,N.Ma);N.BRa(qa);N.gA(qa,c.Nd.rp);N.Pc(y.Md.rp,V,E.bf | E.Dw | E.gl | E.Sy | E.$M | E.ufa | E.jN | E.pu,qa);};this.$t=function(V,ba,fa){ba={playdelay:(0,l.Hh)(V),reason:fa,intrplayseq:N.DK - 1,skipped:ba};"repos" === fa && (ba.prstate=!0 === N.j.paused.value?"paused":"playing");N.gA(ba,c.Nd.$t);N.FQ(N.j,ba);N.vx(N.j,ba);N.e$(N.j,ba);N.Pc(y.Md.$t,!1,E.bf | E.Dw | E.gl,ba);"rebuffer" !== fa && "force_rebuffer" !== fa || N.j.jp.s3b(Number((0,l.Hh)(V)));};this.GF=function(V,ba,fa,ha){V={moff:(0,l.Ir)(fa),moffms:(0,l.Hh)(fa),vbitrate:ba.bitrate,vbitrateold:V.bitrate,vdlid:ba.cc,vdlidold:V.cc,vheight:ba.height,vheightold:V.height,vwidth:ba.width,vwidthold:V.width,bw:ha};N.FQ(N.j,V);N.vx(N.j,V);N.vK(N.j,V);N.gA(V,c.Nd.GF);N.Pc(y.Md.GF,!1,E.gl,V);};this.eYa=function(V,ba,fa){V={moff:(0,l.Ir)(fa),moffms:(0,l.Hh)(fa),vdlidold:V.cc,vbitrateold:V.bitrate};N.FQ(N.j,V);N.vx(N.j,V);N.vK(N.j,V);N.Hc.Bv(V,ba,N.j.Re.value && N.j.Re.value.stream);N.gA(V,c.Nd.mca);N.Pc(y.Md.mca,!1,E.gl,V);};this.AWa=function(){var V,ba;V={waittime:(0,l.Hh)(N.j.svb()),abortedevent:"startplay",trackid:N.j.jn,prstate:N.sG(),paustate:N.j.paused.value};N.jna(V,"endplay");N.gA(V,c.Nd.yL);N.jG.f8 && (V.eventlist_version=1,V.eventlist=N.vR.bvb(N.j));N.j.kt && N.j.kt.initBitrate && (V.initvbitrate=N.j.kt.initBitrate);try{ba=(0,e.GY)();ba && (V.pdltime=ba);(0,l.xf)(V,N.j.wf,{prefix:"sm_"});}catch(fa){}N.vRa(V);N.Hc.Loa(V,N.Ma);V.itsxheaac=MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.40.42"');N.Hc.VY(V,!1,N.j.ka.ce,N.Ma);N.Hc.XY(V,!1,N.j.ka.zh,N.Ma);N.yRa(V);N.Hc.Bv(V,N.j.Qf.value,N.j.Ri.value);N.ixb(N.j,V);N.EQ(N.j,V);N.f$(N.j,V);N.BRa(V);N.ARa(V);N.vx(N.j,V);N.Pc(y.Md.yL,!1,E.bf | E.gl | E.$M | E.Sy | E.pu,V);};this.zWa=function(V,ba){V={waittime:(0,l.Hh)(V),abortedevent:"resumeplay",resumeplayreason:ba};N.j.kt && N.j.kt.initBitrate && (V.initvbitrate=N.j.kt.initBitrate);N.Hc.Bv(V,N.j.Qf.value,N.j.Ri.value);N.f$(N.j,V);N.vx(N.j,V);N.gA(V,c.Nd.yL);N.Pc(y.Md.yL,!1,E.bf | E.gl | E.pu,V);};this.F_a=function(V,ba,fa){V={newstate:ba?"Paused":"Playing",oldstate:V?"Paused":"Playing",reason:fa};N.FQ(N.j,V);N.vx(N.j,V);N.vK(N.j,V);N.Hc.Bv(V,N.j.se.value && N.j.se.value.stream,N.j.Re.value && N.j.Re.value.stream);N.gA(V,c.Nd.yda);N.Pc(y.Md.yda,!1,E.bf | E.gl,V);};this.JQ=function(V,ba,fa){var ha,la;V=(0,l.xf)({vdlid:N.j.Qf.value.cc,playingms:V,pausedms:ba,intrplayseq:N.DK++,prstate:N.sG(),paustate:N.j.paused.value},fa);N.jna(V,"intrplay");N.gA(V,c.Nd.JQ);ba=N.j.Oc[B.v.U].value;fa=N.j.Oc[B.v.X].value;V.cdnid=V.vcdnid=ba && ba.id;V.acdnid=fa && fa.id;V.locid=N.L$ && N.L$.ATa;V.loclv=N.L$ && N.L$.xAb;V.avtp=N.uT.Ok().u0a;V.mediabuffered=null === (ha=N.j.Rd) || void 0 === ha?void 0:ha.sY();V.hidden=document.hidden;V.volume=N.j.oX;if(null === (la=N.j.bb) || void 0 === la?0:la.YE)(N.vRa(V),N.Koa(V),N.gxb(V));try{(0,l.xf)(V,N.j.ioa(),{prefix:"vd_"});}catch(pa){}N.FQ(N.j,V);N.vx(N.j,V);N.e$(N.j,V);N.vK(N.j,V);N.Hc.Bv(V,N.j.se.value && N.j.se.value.stream,N.j.Re.value && N.j.Re.value.stream);N.Pc(y.Md.JQ,!1,E.bf | E.gl,V);};this.QL=function(V,ba,fa,ha){V={moffold:(0,l.Ir)(V),reposseq:N.rca++,prstate:N.sG(),paustate:N.j.paused.value};ha === w.Jc.O2 && (V.reason="missing_segments");N.vK(N.j,V);N.Hc.Bv(V,fa && fa.stream,ba && ba.stream);N.gA(V,c.Nd.QL);N.Pc(y.Md.QL,!1,E.bf | E.gl,V);};this.pJa=function(){var V,ba,fa,ha;ba=N.dQ(N.j.ka.ce,N.j.Ri.value.cc);fa=N.FG;ha=null === (V=N.SSa) || void 0 === V?void 0:V.cc;V=N.dQ(fa,ha);N.Pc(y.Md.Xkb,!1,E.bf | E.gl,{switchdelay:(0,l.Hh)(N.getTime() - N.TSa),track:ba,oldtrack:V});};this.rda=function(V){N.Pc(y.Md.wLb,!1,E.bf | E.gl,{speedold:Math.floor(1E3 * V.oldValue),speed:Math.floor(1E3 * V.newValue)});};this.n1=function(){N.Pc(y.Md.fRc,!1,E.bf | E.gl,{track:N.j.ka.Kd.ri});};this.MH=function(V){var ba,fa;fa=N.j.ka.Kd;if(V.newValue || fa && fa.qq() && !fa.Wo())(V=null !== (ba=V.newValue) && void 0 !== ba?ba:fa,ba=N.vQ(V),V=N.vQ(N.eTa),ba={switchdelay:(0,l.Hh)(N.getTime() - N.dTa),track:ba,oldtrack:V},N.Hc.Bv(ba,N.j.se.value && N.j.se.value.stream,N.j.Re.value && N.j.Re.value.stream),N.Pc(y.Md.cNb,!1,E.bf | E.gl,ba));};this.Xu=function(V){N.Pc(y.Md.G6b,!1,E.bf | E.gl,V.newValue);};this.K8b=function(V,ba){var fa,ha;fa=ba.serverid;ha={locid:ba.location,loclv:ba.locationlv,selocaid:fa,selcdnid:fa,selocaname:ba.servername};ha.mediatype=ba.mediatype;ha.selreason=ba.selreason || "unknown";ha.seldetail=ba.seldetail;ha.cdnbwdata=JSON.stringify([{id:fa}]);V && (ha.oldlocid=V.ATa,ha.oldloclv=V.xAb,ha.oldocaid=V.aMc,ha.oldocaname=V.ada);N.Pc(y.Md.lmb,!1,E.ufa,ha);};this.cqb=function(){var V,ba,fa;if(N.j.ci)try{V=!1;N.D1a || (V=!0,N.vX=N.vX.filter(function(ha){return !ha.success;}));if(0 < N.vX.length){ba=N.cma.construct(N.vX,N.j.Gj.oa(m.ya));N.vX=[];ba.erroronly=V;fa={};(0,l.hi)(ba,function(ha,la){fa[ha]=JSON.stringify(la);});N.Pc(y.Md.Kfc,!1,E.gl,fa);}}catch(ha){N.log.error("Exception in dlreport.",ha);}};this.sG=function(){var V;V=N.j.Wb.value;return V === w.Kb.hg?"playing":V === w.Kb.zi?"paused":V === w.Kb.zw?"ended":"waiting";};this.WG=function(){var V,ba,fa;if(N.j.state.value == w.Bc.qf){fa=N.Eba();N.config().mYa && (fa.avtp=N.uT.Ok().u0a,(null === (V=N.j.bb) || void 0 === V?0:V.YE) && N.Koa(fa));fa.mediabuffered=null === (ba=N.j.Rd) || void 0 === ba?void 0:ba.sY();fa.midplayseq=N.qUa++;fa.prstate=N.sG();fa.paustate=N.j.paused.value;N.config().ULc && N.rMb("midplay");N.config().ay && N.DRa(fa);N.zRa(fa);N.CRa(fa);N.vx(N.j,fa);N.Hc.WY(fa);N.Pc(y.Md.WG,!1,E.bf | E.gl | E.$M | E.Sy,fa);}};this.rMb=function(V){var ba,fa;ba={};ba.trigger=V;try{fa=N.j.PPa();ba.subtitleqoescore=N.j.Hq.Vpc(fa);ba.metrics=JSON.stringify(N.j.Hq.jQa(fa));}catch(ha){N.log.error("error getting subtitle qoe data",ha);}N.Pc(y.Md.$Pc,!1,E.bf | E.$M | E.Dw,ba);};this.transition=function(V){var ba;V.mediabufferedsegments=null === (ba=N.j.Rd) || void 0 === ba?void 0:ba.tY();N.vK(N.j,V);N.f$(N.j,V);N.Pc(y.Md.transition,!1,0,V);};this.hZa=function(V,ba){N.Pc(y.Md.hZa,ba,0,V);};this.MIa=function(V){N.Pc(y.Md.MIa,!1,0,V);};this.nv=function(V){var ba,fa,ha,la,pa,ia,na;la=N.Eba();N.jna(la,"endplay");la.prstate=N.sG();la.paustate=N.j.paused.value;la.muted=N.j.muted.value;la.isStandaloneDisplay=N.config().zLb;la.hidden=document.hidden;la.volume=N.j.oX;la.fullDlreports=N.D1a;la.mediabuffered=null === (ba=N.j.Rd) || void 0 === ba?void 0:ba.sY();la.mediabufferedsegments=null === (fa=N.j.Rd) || void 0 === fa?void 0:fa.tY();N.j.PH && "downloaded" === N.j.PH.NY() && (la.trickplay_ms=N.j.pea.offset,la.trickplay_res=N.j.pea.pIb);N.config().dPb && (la.rtinfo=N.j.ppc());N.config().mYa && (null === (ha=N.j.bb) || void 0 === ha?0:ha.YE) && N.Koa(la);la.endreason=V?"error":N.j.Wb.value === w.Kb.zw?"ended":"stopped";(ba=N.KA) && (0,l.xf)(la,ba,{prefix:"pi_"});try{(0,l.xf)(la,N.j.wf,{prefix:"sm_"});}catch(ka){}N.j.uRa && (la.inactivityTime=N.j.uRa);N.vRa(la);N.gxb(la);if(N.j.Dka){ba=N.j.Dka;fa=N.config().Hlb;ha=N.j.loadTime;pa={iv:fa,seg:[]};ia=function(ka,ra,ta){return 0 === ra || void 0 === ta[ra - 1]?ka:ka - ta[ra - 1];};na=ba.O5b.map(ia);ia=ba.fUc.map(ia);for(var T,ea=0;ea < na.length;ea++){if(na[ea] || ia[ea])T?(T.ams.push(na[ea]),T.vms.push(ia[ea])):T={ams:[ba.O5b[ea]],vms:[ba.fUc[ea]],soffms:ba.startTime + ea * fa - ha};ea !== na.length - 1 && na[ea] && ia[ea] || !T || (pa.seg.push(T),T=void 0);}la.bt=JSON.stringify(pa);}V && (N.yRa(la),N.ARa(la));N.rMb("endplay");N.config().ay && N.DRa(la);N.Hc.VY(la,!1,N.j.ka.ce,N.Ma);N.Hc.XY(la,!1,N.j.ka.zh,N.Ma);N.cxb(N.j,la);N.EQ(N.j,la);N.FQ(N.j,la);N.vK(N.j,la,N.GIa);N.vx(N.j,la);N.e$(N.j,la);N.f$(N.j,la);N.zRa(la);N.CRa(la);N.Hc.WY(la);N.tsc(la);N.bxb(la);N.usc(la);N.xsc(la);N.BRa(la);N.ysc(la);N.gA(la,c.Nd.nv);N.Pc(y.Md.nv,V,E.bf | E.Dw | E.gl | E.$M | E.Sy | E.jN | E.pu,la);};this.Sfc=function(V){N.vX.push(N.cma.pac(V.response));};this.rj=function(){N.Pc(y.Md.Alb,!1,E.bf | E.$M | E.pu,{});};this.q$b=function(V){var ba,fa;ba=V.response.sq;V=(0,m.ec)(ba.Ml);fa=(0,m.ec)(ba.fw);ba=(0,r.ma)(ba.Bn || 0);ba.Kyb() || ba.mSa() || (V=new q.mEa(V,fa),N.uT.k3b(new u.S5a(V,ba)));};this.Asa=function(V){var ba,fa,ha;ha=V.newValue;V.Am && V.Am.FA && ha && (null === (ba=V.Am) || void 0 === ba || !ba.reason) || ha == N.XQ || (N.F_a(N.XQ,ha,null === (fa=V.Am) || void 0 === fa?void 0:fa.reason),N.XQ=ha);};this.zF=function(V){function ba(fa){var ha;if(N.j.$b && N.j.$b.sourceBuffers){ha=N.j.$b.sourceBuffers.filter(function(la){return la.type === fa;}).pop();if(ha)return {busy:ha.xj(),updating:ha.updating(),ranges:ha.pna()};}}V={cause:V.zc};V.cause && V.cause === f.wDa && (V.mediaTime=N.j.mediaTime.value,V.buf_audio=ba(h.Cga),V.buf_video=ba(h.X3));N.JQ(N.Yda[w.Kb.hg] || 0,N.Yda[w.Kb.zi] || 0,V);};this.xNb=function(V){var ba;V=V.oldValue;ba=N.getTime();V === w.Kb.Yg?N.Yda=[]:N.Yda[V]=(N.Yda[V] || 0) + (ba - N.Cvc);N.Cvc=ba;};this.Rp=function(V){N.TSa=N.getTime();N.FG=V.Ov;};this.wp=function(V){N.dTa=N.getTime();N.eTa=V.Xx;};this.u6=function(V){N.SSa=V.oldValue;};this.baa=function(V){function ba(fa,ha){var la;if(!fa || fa.ATa !== ha.location){la={ATa:ha.location,xAb:ha.locationlv,aMc:ha.serverid,ada:ha.servername};N.K8b(fa,ha);return la;}}if("audio" === V.mediatype){if(V=ba(N.uvc,V))N.uvc=V;}else if(V=ba(N.L$,V))N.L$=V;};this.$ca=function(V){var ba,fa;ba=V.mediatype;fa=V.reason;"video" === ba?"serverswitchaway" === fa?(N.Pl.summary.HPb++,N.Pl.Mpa=N.La.Eg.oa(m.ya)):"serverswitchback" === fa && (N.Pl.summary.IPb++,N.Pl.Mpa && (N.Pl.summary.JPb.push(N.La.Eg.oa(m.ya) - N.Pl.Mpa),N.Pl.Mpa=void 0)):"audio" === ba && ("serverswitchaway" === fa?(N.Pl.summary.Jkb++,N.Pl.Gpa=N.La.Eg.oa(m.ya)):"serverswitchback" === fa && (N.Pl.summary.Kkb++,N.Pl.Gpa && (N.Pl.summary.Lkb.push(N.La.Eg.oa(m.ya) - N.Pl.Gpa),N.Pl.Gpa=void 0)));N.Pc(y.Md.cMc,!1,E.bf | E.gl,{mediatype:V.mediatype,server:V.server,selreason:V.reason,location:V.location,bitrate:V.bitrate,confidence:V.confidence,throughput:V.throughput,oldserver:V.oldserver});};this.mW=function(V){var ba;ba=V.wA;V=n.__rest(V,["type","logblobType"]);delete V.inner;switch(ba){case "asereport":N.Pc(y.Md.j5b,!1,E.gl,V);break;case "livereport":N.vx(N.j,V);N.e$(N.j,V);N.gA(V,c.Nd.HG);N.Pc(y.Md.HG,!1,E.bf | E.Dw,V);break;default:N.Pc(ba,!1,E.bf,V);}};this.Zpa=function(V){var ba,fa,ha,la;ba=V.mediaType;fa=V.current;ha=V.xq;la=V.jZa;V=V.cc;ba={mediatype:(0,D.UG)(ba),curr:{enc:fa.kv,origin:fa.jv},prev:{enc:ha.kv,origin:ha.jv},segmentnumber:la,dlid:V};N.vx(N.j,ba);N.Pc(y.Md.Xwc,!1,E.bf,ba);};this.c1=function(V){V=Object.assign({},V);V.details && (V.details=JSON.stringify(V.details));N.Pc(y.Md.ZPc,!0,E.bf | E.Dw | E.ufa,V);};this.GIa=Z.F1a || Z.bwa || Z.Tsb;this.uT=L();this.log=(0,g.Mn)(H,"LogblobBuilder");this.XQ=H.paused.value;this.Ia=this.Ma.Ia;this.Pl={summary:{HPb:0,IPb:0,JPb:[],Jkb:0,Kkb:0,Lkb:[]},Mpa:void 0,Gpa:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.T3=void 0;n=a(22970);c=a(45247);h=a(33096);f=a(13044);e=a(52569);g=a(31276);k=a(45146);l=a(3887);m=a(5021);p=a(36129);r=a(72574);q=a(74267);u=a(70826);v=a(22365);w=a(85001);x=a(32687);y=a(18169);z=a(32573);B=a(26388);A=a(30873);C=a(79542);D=a(45247);F=a(82100);G=a(24735);d.prototype.ixb=function(H,J){var L,K,M,P,I,O,Q,S,U,W,Y,X,Z,aa,ca,da,ja;if(this.config().ay)try{L={};K=this.fg.getStats(void 0,void 0,H.R);M=H.bQ();P=K.sT.C$b || [];L.attempts=K.Wsa || 0;L.num_completed_tasks=P.length;I=this.Df.wjc;O={};Q=z.Yq.d1;S=z.Yq.kf;U=z.Yq.eKa;K.No && (O.scheduled=K.No - M);W=H.S;W && (0,x.pc)(W.ES) && (O.preauthsent=W.ES - H.loadTime,O.preauthreceived=W.o0 - H.loadTime);Y=P.filter(function(R){return "manifest" === R.type;});L.mf_succ=Y.filter(I("status",Q)).length;L.mf_fail=Y.filter(I("status",S)).length;X=H.wf;(0,x.ed)(X.lg) && 0 > X.lg && H.loadTime && (O.ldlsent=X.lc,O.ldlreceived=X.lr);Z=P.filter(function(R){return "license" === R.type;});L.ldl_succ=Z.filter(I("status",Q)).length;L.ldl_fail=Z.filter(I("status",S)).length;K=!0;M=[];"notcached" === H.VO && (K=!1,M.push("Missing cached manifest"));this.config().rma || (K=!1,M.push("LDL prefetch disabled"));aa=Z.filter(I("status",U)).length;this.config().rma && 0 === aa && (!O.ldlreceived || 0 <= O.ldlreceived) && (K=!1,M.push("LDL received after start"));if(this.config().tma)if(J.isPrefetchItem){ca=J.prefetchedAudioMs / J.bcABufferLevelMs;if(1 > J.prefetchedVideoMs / J.bcVBufferLevelMs || 1 > ca)(K=!1,M.push("Insufficient media fetched"));}else (K=!1,M.push("aseStats not initialized"));da=P.filter(function(R){return "getHeaders" === R.type;});L.header_succ=da.filter(I("status",Q)).length;L.header_fail=da.filter(I("status",S)).length;ja=P.filter(function(R){return "getMedia" === R.type;});L.media_succ=ja.filter(I("status",Q)).length;L.media_fail=ja.filter(I("status",S)).length;L.hm_succ=L.header_succ + L.media_succ;L.hm_fail=L.header_fail + L.media_fail;(0,l.xf)(J,L,{prefix:"pr_"});this.jG.f8 && (J.eventlist_version=1,J.eventlist=this.vR.bvb(H));(J.prefetchCompleted=K) || (J.prefetchFailed=M,(0,l.xf)(J,O,{prefix:"pe_"}));this.DRa(J);}catch(R){this.log.warn("error in collecting video prepare data",R);}};d.prototype.zQa=function(H,J){return H?{id:H.trackId,downloadableId:J,rank:H.yc}:{};};d.prototype.dQ=function(H,J){return H?{id:H.trackId,trackId:H.trackId,bcp47:H.Cg,downloadableId:J,rank:H.yc,chan:H.channels}:{};};d.prototype.vQ=function(H){return H?{id:H.trackId,trackId:H.trackId,bcp47:H.Cg,downloadableId:H.cc,rank:H.yc,isImageBased:H.pq,profile:H.profile}:{};};d.prototype.ypc=function(H,J){if(H=H.V8())if(J=H[J])return J.eb;};d.prototype.cxb=function(H,J){H.mb.Hg && (J.isBranching=!0);};d.prototype.EQ=function(H,J){J.cachedManifest=H.VO;J.cachedLicense=H.EW.source;J.usedldl=this.config().rma?(H.EW.type === G.Tq.oI).toString():"not_capable";};d.prototype.FQ=function(H,J){var L,K;if(this.config().wsc){L=H.QPa();K=H.ga.S;L && K && (J.segment=L,K=H.jK(),J.segmenttime=K,H=this.ypc(H,L),null !== K && void 0 !== H && (J.segmentoffset=K - H));}};d.prototype.vK=function(H,J,L){J.pxid=H.Rm;(void 0 === L?0:L) && (J.playgraph_trace=H.SFb);};d.prototype.f$=function(H,J){var L,K;K=[];H.iZ() && K.push("ux");H.ooa() && K.push("content");H.yv() && K.push("ads");(null === (L=this.j.S) || void 0 === L?0:L.Aa.xr) && K.push("choiceMap");J.playgraphTypes=K;};d.prototype.rsc=function(H,J){var L,K,M;L=new Set();H.iZ() && H.Zvb().forEach(function(P){P != H.sf && L.add(P);});if(H.ooa()){K=H.IJ;M=H.S.Aa.Ez.Z;Object.keys(M.ba).map(function(P){return M.ba[P].J;}).filter(function(P,I,O){return P !== K && O.indexOf(P) === I;}).forEach(function(P){return L.add(P);});}0 < L.size && (J.auxViewables=[].concat(Aa(L)));};d.prototype.gxb=function(H){var J,L;J=this.j.g6c;L=J && J.DJc;J && J.Zrc && (H.htwbr=J.Zrc,H.pbtwbr=J.s9c,H.hptwbr=J.o6c);J && J.MKc && (H.rr=J.MKc,H.ra=J.S9c);J && L && 0 < (L.length || 0) && (H.qe=JSON.stringify(L));};d.prototype.yRa=function(H){var J,L,K;try{J=this.Df.createElement("canvas");L=J.getContext("webgl") || J.getContext("experimental-webgl");if(L){K=L.getExtension("WEBGL_debug_renderer_info");K && (H.WebGLRenderer=L.getParameter(K.UNMASKED_RENDERER_WEBGL),H.WebGLVendor=L.getParameter(K.UNMASKED_VENDOR_WEBGL));}}catch(M){}};d.prototype.xsc=function(H){H.switchAwaySummary={vsa:this.Pl.summary.HPb,vsb:this.Pl.summary.IPb,vsbt:this.Pl.summary.JPb,asa:this.Pl.summary.Jkb,asb:this.Pl.summary.Kkb,asbt:this.Pl.summary.Lkb};};d.prototype.d0b=function(H){var J;J=[];return H?Object.keys(H).map(function(L){return +L;}):J;};d.prototype.sP=function(){var H,J;H=this;if(this.j.bE && this.j.Gk){J=[];this.j.bE.concat(this.j.Gk).forEach(function(L){L.streams.forEach(function(K){J.push({dlid:K.cc,type:K.type,bitrate:K.bitrate,vmaf:K.Mb,cdn_ids:H.d0b(K.FMa)});});});return JSON.stringify(J);}};d.prototype.J8b=function(){var J,L,K;function H(M,P){var I,O,Q;I=M.cdnId + "$" + M.correlationId;O=K[I];O || (O={cdnid:M.cdnId,pbcid:M.correlationId,dls:[]},K[I]=O,L.push(O));(0,k.pX)(M.bitrate);(0,k.pX)(M.duration);I={bitrate:M.bitrate,tm:(0,v.Ns)(M.duration)};Q=M.vmaf;Q && ((0,k.pX)(M.vmaf),I.vf=Q);I[P]=(0,l.Il)(M.downloadableId);O.dls.push(I);}J=this.j.jp.Ilc();L=[];K={};J.audio.forEach(function(M){H(M,"adlid");});J.video.forEach(function(M){H(M,"dlid");});return JSON.stringify(L);};d.prototype.Eba=function(){var H,J,L,K,M,P,I,O,Q,S,U,W,Y,X,Z,aa,ca;L=this.j.jp;K={totaltime:(0,l.Ir)(L.wv("content")),totalcontenttime:(0,l.Ir)(L.F9("content")),totaladtime:(0,l.Ir)(L.wv("ads")),totalothertime:(0,l.Ir)(L.wv("other")),cdndldist:this.J8b(),reposcount:this.rca,intrplaycount:this.DK};try{M={numskip:0,numlowqual:0};P=this.j.Rd;I=P.Tz();(0,x.pc)(I) && (K.totfr=I,M.numren=I);I=P.iQ();(0,x.pc)(I) && (K.totdfr=I,M.numrendrop=I);I=P.a9();(0,x.pc)(I) && (K.totcfr=I,M.numrenerr=I);K.playqualvideo=JSON.stringify(M);O=this.j.Qf.value;O && (K.videofr=O.framerate.toFixed(3));Q=L.EOa();Q && (K.abrdel=Q);S=L.woa() && L.wtb();S && (K.tw_vmaf=S);U=L.utb();U && (0,l.xf)(K,U);K.rbfrs=this.DK;K.maxbitrate=this.maxBitrate;K.maxresheight=this.vBb;W=this.j.nK();for(L=0;L < W.length;L++){Y=W[L];X=this.Ma.QZ.CH(Y);if(X){(0,k.ta)(Z);K.maxbitrate=Z?Z.bitrate:0;K.maxresheight=Z?Z.height:0;K.bitratefilters=X.join("|");break;}Z=Y;}this.j.PH && (K.trickplay=this.j.PH.NY());null !== this.j.Hq.jlb && (K.avg_subt_delay=this.j.Hq.jlb);aa=null === (H=this.j.Rd) || void 0 === H?void 0:H.cOb;aa && 0 < aa && (K.unexpectedrewindcount=aa);ca=null === (J=this.j.Rd) || void 0 === J?void 0:J.uPb.btb;ca && 0 < ca.length && (K.frozenFrames=ca);}catch(da){this.log.error("Exception reading some of the endplay fields",da);}(0,l.xf)(K,this.j.ioa(),{prefix:"vd_"});return K;};d.prototype.getTime=function(){return this.Ua.wc().oa(m.ya);};d.prototype.aQa=function(){return this.getTime() - this.Ma.Gj.oa(m.ya);};d.prototype.DRa=function(H){var J;try{J=this.fg.getStats();H.pr_cache_size=JSON.stringify(J.cache);H.pr_stats=JSON.stringify(J.Xkc);}catch(L){}};d.prototype.zRa=function(H){this.log.debug("httpstats",this.He.stats);(0,l.xf)(H,this.He.stats,{prefix:"http_"});};d.prototype.vx=function(H,J){H=H.Ac;H.za && (J.intenttoplayatedge=H.Ct(),H=H.iK(),J.livestage=this.Mnc(H));};d.prototype.e$=function(H,J){var L;L=H.Ac;H.bb && L.za && [{mediaType:B.v.X,Qma:"aencodingpipeline"},{mediaType:B.v.U,Qma:"vencodingpipeline"},{mediaType:B.v.Ba,Qma:"tencodingpipeline"},{mediaType:B.v.pn,Qma:"mencodingpipeline"}].forEach(function(K){var M;M=H.bb.vA[K.mediaType];if(M.kv || M.jv)J[K.Qma]={enc:M.kv,origin:M.jv};});};d.prototype.Mnc=function(H){switch(H){case A.Jy.x4:case A.Jy.GAa:case A.Jy.Yya:return H.toLowerCase();default:return (0,C.WX)(H);}};d.prototype.vRa=function(H){var J,L,K;J=this.config().mpb && !(this.Ia % this.config().mpb);L=this.j.bb;K=null === L || void 0 === L?void 0:L.Uj;J && K && (H.ASEstats=JSON.stringify(L.Oxb()));};d.prototype.Koa=function(H){Object.assign(H,this.j.bb.Sc.cqc());};d.prototype.CRa=function(H){var J;try{J=v.GB.memory;(0,x.Iyb)(J) && (H.totalJSHeapSize=J.totalJSHeapSize,H.usedJSHeapSize=J.usedJSHeapSize,H.jsHeapSizeLimit=J.jsHeapSizeLimit);}catch(L){}};d.prototype.bxb=function(H){var J;try{if(this.config().U6){J=this.j.Qlc();H.battery=J;this.log.trace("batterystatuses",J);}}catch(L){}};d.prototype.tsc=function(H){this.j.Fla && (H.dqec=this.j.Fla);};d.prototype.BRa=function(H){var J,L,K;(null === (J=this.j.zl) || void 0 === J?0:J.Dnc)?H.keySystem=this.j.zl.Rx.Ix:(null === (K=null === (L=this.j.zl) || void 0 === L?void 0:L.mediaKeys) || void 0 === K?0:K.keySystem)?H.keySystem=this.j.zl.mediaKeys.keySystem:this.Nx.kzb && (H.keySystem=this.Nx.kzb);H.keySystem && (H.keysys=H.keySystem);this.Nx.ozb && (H.keySystemStatuses=this.Wxc(this.Nx.ozb));this.Nx.jzb && (H.keySystemHasHwdrmAvailable=this.Nx.jzb);this.Nx.Fqa && (H.keySystemMediaKeysCount=this.Nx.Fqa);0 < this.TC.mzb.length && (H.keySystemRestrictions=this.TC.mzb);0 < Object.keys(this.TC.nzb).length && (H.keySystemRestrictionsDebug=this.TC.nzb);0 < Object.keys(this.TC.lzb).length && (H.keySystemRestrictionReasons=this.TC.lzb);H.useEncryptedEvent=this.config().C1a;};d.prototype.Wxc=function(H){var J;J=this;return H.reduce(function(L,K){var M;M=(0,F.Gnb)(K.Fpa);L[M]=J.$xc(K.status);return L;},{});};d.prototype.$xc=function(H){return H.supported?!0:H.reason;};d.prototype.ARa=function(H){var J;if(null === (J=this.j.zl) || void 0 === J?0:J.qub)H.keystatus=this.j.zl.PSa;};d.prototype.usc=function(H){this.FNa && (H.externaldisplay=this.FNa.YX);};d.prototype.ysc=function(H){H.didHydrateTracks=this.j.Wla;};d.prototype.qvc=function(){void 0 === this.FNa && (this.FNa=this.GNa.qjc());};d.prototype.jna=function(H,J){(J=this.j.BY(J)) && Object.entries(J).forEach(function(L){var K;K=Fa(L);L=K.next().value;K=K.next().value;H[L]=K;});};d.prototype.gA=function(H,J){var L;(J=null === (L=this.j.bb) || void 0 === L?void 0:L.Kna(void 0,J)) && Object.entries(J).forEach(function(K){var M;M=Fa(K);K=M.next().value;M=M.next().value;H[K]=M;});};d.prototype.Pc=function(H,J,L,K){var M,P;P=K.sev;P=J?"error":null !== P && void 0 !== P?P:"info";J && this.j.wj && (0,p.Xfa)(this.j.wj.errorCode,this.j.wj.Sa,this.aQa(),null === (M=this.j.Rd) || void 0 === M?void 0:M.Tz()) && (P="info");this.j.IG.sxc(H) || (this.tIa(K,this.j,J,L),H=this.JG.cv(H,P,K,this.Ma),this.Jh.Pc(H));};d.prototype.ssc=function(H,J){var L,K;K=null === (L=J.bb) || void 0 === L?void 0:L.Uob;K && (null === K || void 0 === K?void 0:K.J) !== J.IJ && (H.auxMid || (H.auxMid=K.J),H.auxPlaybackcontextid || (H.auxPlaybackcontextid=J.Nk(K.J).Sd));};d.prototype.tIa=function(H,J,L,K){var M,P,I,O,Q,S,U;this.Hc.dxb(H,J);this.ssc(H,J);K & E.bf && ((0,k.ta)(!H || void 0 === H.moff),this.Hc.hxb(H,J.ga,J.ooa()));K & E.Dw && this.Hc.jxb(H,J);K & E.gl && (null === (M=J.bb) || void 0 === M?0:M.Uj) && (H.abuflbytes=null !== (P=H.abuflbytes) && void 0 !== P?P:J.iJa(),H.abuflmsec=null !== (I=H.abuflmsec) && void 0 !== I?I:J.p6(),H.vbuflbytes=null !== (O=H.vbuflbytes) && void 0 !== O?O:J.P1a(),H.vbuflmsec=null !== (Q=H.vbuflmsec) && void 0 !== Q?Q:J.Gea(),H.tbuflbytes=null !== (S=H.tbuflbytes) && void 0 !== S?S:J.LQc(),H.tbuflmsec=null !== (U=H.tbuflmsec) && void 0 !== U?U:J.MQc());K & E.Sy && this.Hc.kxb(H,J.au);K & E.$M && (M=v.tg.hardwareConcurrency,0 <= M && (H.numcores=M),M=this.Ma.KMa) && (P=M.FOa(),H.droppedFrames=JSON.stringify(P),M=M.r9(this.config().kgc),(0,l.hi)(M,function(W,Y){H["droppedFramesP" + W]=JSON.stringify(Y);}));if(K & E.ufa)try{J.ci && (H.cdninfo=JSON.stringify(J.ci.map(function(W){return {id:W.id,nm:W.name,rk:W.yc,wt:W.location.weight,lv:W.location.level};})));}catch(W){}L && K & E.jN && ((0,k.ta)(J.wj),this.Hc.fxb(H,J,J.wj));K & E.pu && this.Hc.xRa(H);};Ha.Object.defineProperties(d.prototype,{D1a:{configurable:!0,enumerable:!0,get:function(){return this.j.TJ || this.j.EX;}}});b.T3=d;(function(H){H[H.bf=1]="MOFF";H[H.Dw=2]="PRESENTEDSTREAMS";H[H.gl=4]="BUFFER";H[H.Sy=8]="SCREEN";H[H.$M=16]="CPU";H[H.ufa=32]="CDN";H[H.jN=64]="FATALERROR";H[H.pu=128]="BROWSERINFO";})(E || (E={}));},26158:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m,p,r,q){this.Jh=l;this.config=m;this.La=p;this.Ua=r;this.ITa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.xN=void 0;t=a(22970);n=a(45118);c=a(22674);h=a(98326);f=a(4203);e=a(30869);g=a(81918);k=a(99400);d.prototype.create=function(l,m,p,r){var q;q=this.ITa.create(l,m);return new k.V3(l,m,p,r,this.Jh,this.config,this.Ua,q);};a=d;b.xN=a;b.xN=a=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(n.Dp)),t.__param(1,(0,c.u)(f.Fc)),t.__param(2,(0,c.u)(e.vi)),t.__param(3,(0,c.u)(g.$d)),t.__param(4,(0,c.u)(h.S3))],a);},99400:function(t,b,a){var n,c,h,f,e,g;function d(k,l,m,p,r,q,u,v){var w;w=this;this.j=k;this.Ma=l;this.sQ=p;this.Jh=r;this.config=q;this.Ua=u;this.hb=v;this.UK=function(x,y){return function(z){var B;B=y(z);if("number" !== typeof B)throw Error("Event " + JSON.stringify(z) + " does not have movie Id");w.Wzc.includes(B) && x(z);};};this.XAb=this.UK(function(x){w.Zua(x.KQ);},function(x){return x.R;});this.VAb=this.UK(function(){w.W6();},function(x){return x.R;});this.lnb=this.UK(function(){w.W6();},function(x){return x.movieId;});this.pKa=this.UK(function(){w.j.Wb.value === f.Kb.hg && (w.j.Wb.removeListener(w.pKa),w.NA());},function(){return w.j.R;});this.MH=function(x){w.Uv && w.hb.MH(x);};this.qnb=this.UK(this.hb.q$b,function(x){return x.R;});this.lqb=this.UK(this.hb.Sfc,function(x){return x.R;});this.uAb=this.UK(this.hb.baa,function(x){return w.j.Dl(x.segmentId).R;});this.ZJb=this.UK(this.hb.$ca,function(x){return w.j.Dl(x.segmentId).R;});this.ls=function(x){x.skip && (w.kM=!0);switch(x.zc){case f.Jc.tu:case f.Jc.JU:case f.Jc.I4:case f.Jc.O2:case f.Jc.Dga:w.v0 && w.lu && w.hb.zWa(w.getTime() - w.lu,w.v0);w.v0="repos";w.hb.QL(x.IR,x.Re,x.se);w.lu=w.getTime();(0,h.Gh)(w.kC);break;case f.Jc.Yfa:w.v0="force_rebuffer";w.lu=w.getTime();(0,h.Gh)(w.kC);break;case f.Jc.jV:case f.Jc.po:break;default:return (0,e.WX)(x.zc);}};this.Rp=function(x){w.FG=x.Ov;w.hb.Rp(x);};this.kC=function(){var x;if(w.lu && w.j.Wb.value !== f.Kb.Yg){x=w.getTime() - w.lu;w.hb.$t(x,w.kM,w.v0);w.FG && w.FG != w.j.ka.ce && w.hb.pJa();w.lu=void 0;w.v0=void 0;w.kM=void 0;}};this.NA=function(){w.Uv || (w.Uv=!0,w.hb.rp(!1),w.GRa(),w.config().Roa && (w.yG=Ca.setTimeout(function(){w.Jh.flush(!1).catch(function(){return w.log.warn("failed to flush log batcher on initialLogFlushTimeout");});w.yG=void 0;},w.config().Roa)));};this.$g=function(){w.yG && (Ca.clearTimeout(w.yG),w.yG=void 0);if(w.Rsb() || w.config().Tu)(w.EMa && (Ca.clearInterval(w.EMa),w.EMa=void 0),w.hb.cqb());w.sea && w.sea();w.Uv?w.hb.nv(!!w.j.wj):w.j.wj?w.hb.rp(!0):w.Ma.background.value || w.hb.AWa();};this.Nea=function(x){x.oldValue && x.Am && x.Am.XO && w.hb.GF(x.oldValue,x.newValue,x.Am.XO,x.Am.B6);};this.Mba=function(x){var y;if(x.newValue){y=x.newValue.stream;w.ZQ != y && (w.ZQ && y && w.hb.eYa(w.ZQ,y,w.sQ(x.newValue.NW.startTime)),w.ZQ=y);}};this.Wzc=l.sf?k.Zvb():[l.R];this.log=(0,n.Mn)(k,"LogblobBuilder");this.Sb();m && this.Zua();}Object.defineProperty(b,"__esModule",{value:!0});b.V3=void 0;n=a(31276);c=a(5021);h=a(32219);f=a(85001);e=a(79542);g=a(26388);d.prototype.Sb=function(){this.j.addEventListener(f.ja.$K,this.XAb);this.j.addEventListener(f.ja.TTa,this.VAb);this.j.addEventListener(f.ja.baa,this.uAb);this.j.addEventListener(f.ja.$ca,this.ZJb);this.j.addEventListener(f.ja.$g,this.lnb);if(this.Rsb() || this.config().Tu)(this.j.addEventListener(f.ja.qP,this.lqb),this.EMa=Ca.setInterval(this.hb.cqb,this.config().Wfc));this.config().mYa && this.j.addEventListener(f.ja.qP,this.qnb);};d.prototype.Zua=function(k){var l;l=this;this.qCb || (this.j.Wb.value !== f.Kb.hg || (void 0 === k?0:k)?this.j.Wb.addListener(this.pKa):this.NA(),this.j.Fk.addListener(this.MH),this.j.ka.addListener([g.v.Ba],this.hb.wp),this.j.ka.addListener([g.v.X],this.Rp),this.j.Ri.addListener(this.hb.u6),this.j.paused.addListener(this.hb.Asa),this.j.se.addListener(this.Mba),this.j.Wb.addListener(this.kC),this.j.Wb.addListener(this.hb.xNb),this.j.Qf.addListener(this.Nea),this.j.playbackRate.addListener(this.hb.rda),this.j.addEventListener(f.ja.rj,this.hb.rj),this.j.addEventListener(f.ja.mW,this.hb.mW),this.j.addEventListener(f.ja.Zpa,this.hb.Zpa),this.j.addEventListener(f.ja.c1,this.hb.c1),this.j.addEventListener(f.ja.zF,function(m){l.v0="rebuffer";l.hb.zF(m);l.lu=l.getTime();(0,h.Gh)(l.kC);}),this.j.addEventListener(f.ja.ls,this.ls),this.j.addEventListener(f.ja.n1,this.hb.n1),this.Ma.Xu && this.Ma.Xu.addListener(this.hb.Xu),this.qCb=!0);};d.prototype.W6=function(){this.$g();this.qCb && (this.j.removeEventListener(f.ja.$K,this.XAb),this.j.removeEventListener(f.ja.TTa,this.VAb),this.j.removeEventListener(f.ja.baa,this.uAb),this.j.removeEventListener(f.ja.$ca,this.ZJb),this.j.Fk.removeListener(this.MH),this.j.ka.removeListener(this.hb.wp),this.j.ka.removeListener(this.Rp),this.j.Ri.removeListener(this.hb.u6),this.j.paused.removeListener(this.hb.Asa),this.j.se.removeListener(this.Mba),this.j.Wb.removeListener(this.kC),this.j.Wb.removeListener(this.pKa),this.j.Wb.removeListener(this.hb.xNb),this.j.Qf.removeListener(this.Nea),this.j.playbackRate.removeListener(this.hb.rda),this.j.removeEventListener(f.ja.$g,this.lnb),this.j.removeEventListener(f.ja.rj,this.hb.rj),this.j.removeEventListener(f.ja.mW,this.hb.mW),this.j.removeEventListener(f.ja.c1,this.hb.c1),this.j.removeEventListener(f.ja.zF,this.hb.zF),this.j.removeEventListener(f.ja.ls,this.ls),this.j.removeEventListener(f.ja.n1,this.hb.n1),this.Ma.Xu && this.Ma.Xu.removeListener(this.hb.Xu),this.j.removeEventListener(f.ja.qP,this.lqb),this.j.removeEventListener(f.ja.qP,this.qnb));};d.prototype.getTime=function(){return this.Ua.wc().oa(c.ya);};d.prototype.GRa=function(){var k,l,m;k=this;m=[];this.config().QBb && (this.config().RBb.forEach(function(p){m.push(Ca.setTimeout(k.hb.WG,p));}),this.config().Kqa && (l=Ca.setInterval(this.hb.WG,this.config().Kqa)),this.sea=function(){m.forEach(function(p){Ca.clearTimeout(p);});l && Ca.clearInterval(l);});};d.prototype.Rsb=function(){var k,l,m;m=null === (l=null === (k=this.j.ga.S) || void 0 === k?void 0:k.Aa.GH) || void 0 === l?void 0:l.O_a;if(void 0 !== m && void 0 !== m.downloadReportDenominator)try{return parseInt(m.downloadReportDenominator,10);}catch(p){this.log.error("Unable to parse manifest config override:" + m.downloadReportDenominator);}return this.config().oqb;};b.V3=d;},33345:function(t,b,a){var c,h,f,e,g,k,l,m,p,r,q;function d(u,v,w,x,y,z,B){this.Ua=u;this.platform=w;this.Jo=x;this.xk=y;this.Ii=z;this.BAb=B;(0,h.Kv)(this,"json");this.va=v.ub("LogblobSender");}function n(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.gBa=b.zha=void 0;t=a(22970);c=a(22674);h=a(66523);f=a(5021);e=a(74870);g=a(81918);k=a(91581);l=a(33554);m=a(87386);p=a(40953);r=a(7605);q=a(51658);b.zha=n;d.prototype.send=function(u){var v;v=this;return new Promise(function(w,x){var y;try{y=u.reduce(function(z,B){z.entries.push(v.Mcc(B));return z;},new n());w(y);}catch(z){v.va.error(z.message);x(z);}}).then(function(w){return v.pZa(w);});};d.prototype.Mcc=function(u){var v;v={};this.BAb.iM && (v.transport=q.reb.DUc);return this.xk.YZ(this.xk.YZ(v,u.data),{esn:this.Jo().Vi,sev:u.severity,type:u.type,lver:this.platform.HTa,jssid:this.Ua.id,devmod:this.platform.MJ,jsoffms:u.timestamp.ea(this.Ua.GG).oa(f.ya),clienttime:u.timestamp.oa(f.ya),client_utc:u.timestamp.oa(f.uu),uiver:this.Ii.uiVersion});};d.prototype.pZa=function(u){var v;v=this;return this.BAb.Pe({log:this.va},{logblobs:u}).then(function(){!1;}).catch(function(w){v.va.error("PBO logblob failed",w);return Promise.reject(w);});};a=d;b.gBa=a;b.gBa=a=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(g.$d)),t.__param(1,(0,c.u)(m.yb)),t.__param(2,(0,c.u)(k.Ps)),t.__param(3,(0,c.u)(l.xB)),t.__param(4,(0,c.u)(e.cm)),t.__param(5,(0,c.u)(r.Py)),t.__param(6,(0,c.u)(p.Obb))],a);},82956:function(t,b,a){var n,c;function d(h){switch(h){case n.Y.y3:return "http";case n.Y.B3:return "connectiontimeout";case n.Y.oN:return "readtimeout";case n.Y.L7a:return "corruptcontent";case n.Y.nN:return "abort";case n.Y.C3:case n.Y.Vza:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.ioc=d;b.Poc=function(h,f){var e;h={errorcode:h + (f.errorCode || n.ca.mh)};f.Sa && (h.errorsubcode=f.Sa);f.Fg && (h.errorextcode=f.Fg);f.o8 && (h.erroredgecode=f.o8);f.jf && (h.errordetails=f.jf);f.Fr && (h.httperr=f.Fr);f.$G && (h.aseneterr=f.$G);f.n8 && (h.errordata=f.n8);f.Eaa && (h.mediaerrormessage=f.Eaa);e=d(Number(f.Sa));e && (h.nwerr=e);f.Sd && (h.playbackcontextid=f.Sd);return h;};b.yvb=function(){return {screensize:c.vI.width + "x" + c.vI.height,screenavailsize:c.vI.availWidth + "x" + c.vI.availHeight,clientsize:Ca.innerWidth + "x" + Ca.innerHeight,devicePixelRatio:c.mab};};n=a(36129);c=a(22365);},50723:function(t,b,a){var c,h,f,e,g,k,l;function d(m){this.UI=f.ia;this.bHa=[];this.g5=this.Mia=!1;m && (this.UI=m.size,this.bHa=m.uR);}function n(m,p,r,q){this.kzc=m;this.config=p;this.fh=r;this.json=q;(0,h.Kv)(this,"json");this.va=this.fh.ub("MessageQueue");this.yz=[];}Object.defineProperty(b,"__esModule",{value:!0});b.TBa=void 0;t=a(22970);c=a(22674);h=a(66523);f=a(72574);e=a(81829);g=a(87386);k=a(63368);a=a(45118);n.prototype.DIa=function(m){var p,r;0 === this.yz.length && this.yz.push(this.VOa());if(m=this.vpc(m)){p=this.kzc.measure([m]);r=this.yz[this.yz.length - 1];0 < r.size.add(p).vm(this.config.qBb) && (r=this.VOa(),this.yz.push(r));r.DIa(m);}};n.prototype.Olc=function(){var m;m=this.yz.filter(function(p){return p.A8b;});this.yz.push(this.VOa());m.forEach(function(p){return p.eyc();});return m;};n.prototype.i3b=function(m){m.BG || this.yz.unshift(new d(m));};n.prototype.bJc=function(m){m=this.yz.indexOf(m);0 <= m && this.yz.splice(m,1);};n.prototype.vpc=function(m){try{return {data:this.json.parse(this.json.stringify(m.data)),severity:m.severity,size:m.size,timestamp:m.timestamp,type:m.type};}catch(q){var p,r;p={};m=m.data;r=m.debugMessage;r && "string" === typeof r && (p.originalDebugMessage=r);(m=m.debugCategory) && "string" === typeof m && (p.originalDebugCategory=m);this.va.error("JSON.stringify error: " + q.message,p);}};n.prototype.VOa=function(){return new d();};Ha.Object.defineProperties(n.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.yz.reduce(function(m,p){return m.add(p.size);},f.ia);}}});l=n;b.TBa=l;b.TBa=l=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(e.W9a)),t.__param(1,(0,c.u)(a.VAa)),t.__param(2,(0,c.u)(g.yb)),t.__param(3,(0,c.u)(k.HU))],l);d.prototype.d1=function(){this.Mia=!1;this.g5=!0;};d.prototype.kf=function(){this.Mia=!1;};d.prototype.DIa=function(m){this.bHa.push(m);this.UI=this.UI.add(m.size);};d.prototype.eyc=function(){this.Mia=!0;};Ha.Object.defineProperties(d.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.UI;}},uR:{configurable:!0,enumerable:!0,get:function(){return this.bHa;}},A8b:{configurable:!0,enumerable:!0,get:function(){return 0 < this.uR.length && !1 === this.Mia;}},BG:{configurable:!0,enumerable:!0,get:function(){return this.g5;}}});},29670:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Qb={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-5.1hq-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},51770:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.WAb=void 0;t=a(22674);d=a(37104);n=a(83081);c=a(43185);h=a(23176);f=a(17950);e=a(24273);g=a(44236);k=a(17398);l=a(47930);m=a(60042);p=a(97791);b.WAb=new t.we(function(r){r(c.r$a).to(h.BBa).pa();r(d.DBa).to(n.CBa).pa();r(f.Acb).xp(function(q){for(var u=[],v=0;v < arguments.length;++v)u[v - 0]=arguments[v];v=a(26159).NN;return new (Function.prototype.bind.apply(v,[null].concat(Aa(u))))();});r(e.u$a).Pf(function(){return function(q){return new g.v$a(q);};});r(k.PU).to(l.yBa).pa();r(m.p$a).to(p.xBa).pa();});},43185:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.r$a="ManifestProviderConfigSymbol";},37104:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DBa="ManifestParserFactorySymbol";},24273:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.u$a="ManifestVerifyErrorFactorySymbol";},17950:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Acb="PlayerTextTrackFactorySymbol";},77939:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m,p){l=c.a4.call(this,l) || this;l.config=m;l.j=p;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.K3a=void 0;n=a(29670);c=a(28518);h=a(45266);f=a(51344);e=a(35128);g=a(36129);k=a(31149);Ia(d,c.a4);d.prototype.GEb=function(l,m,p){var r,q;r=this;q=this.config.tva;m=m.filter(function(u){var v,w;v=u.Cx || !u.pg || u.streams && 0 < u.streams.length;v || r.log.warn("Audio track is missing streams",r.boa(u));w=0 === q.length || 0 <= q.indexOf(u.Li);w || r.log.warn("Audio track is not supported",r.boa(u));return v && w;});if(!m.length)throw Error("no valid audio tracks");m=m.map(function(u){return r.FEb(l,u,r.Blc(u,p));});this.log.trace("Parsed audio tracks",{Count:m.length});return m;};d.prototype.aEc=function(l,m,p,r){var q,u,v,w;q=this;u=Fa((0,h.tL)(function(x){return x.Cx;},m));m=u.next().value;u=u.next().value;u=Fa((0,h.tL)(function(x){return x.streams && 0 < x.streams.length;},u));v=u.next().value;u.next().value.forEach(function(x){return q.log.warn("Audio track is missing streams",q.boa(x));});w=this.config.tva;u=Fa((0,h.tL)(function(x){return 0 === w.length || 0 <= w.indexOf(x.Li);},v));v=u.next().value;u.next().value.forEach(function(x){return q.log.warn("Audio track is not supported",q.boa(x));});m=[].concat(Aa(v),Aa(m)).map(function(x){return q.FEb(l,x,q.Inc(x.Nh,p,r));});if(!m.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:m.length});return m;};d.prototype.W5b=function(l){var m,p;m=this;p=this.config.fOa;if(p){if(l=Fa(l.filter(function(r){return r.Cg == p || r.trackId == p;})).next().value)return l;}else if(this.j.ana && (l=Fa(l.filter(function(r){return r.trackId == m.j.ana;})).next().value))return l;};d.prototype.Djc=function(l,m){this.config.elb.forEach(function(p){var r,q,u;r=m.uz.filter(function(v){return v.profile === p;}).reduce(function(v,w){w.streams.map(function(x){return x.bitrate;}).forEach(function(x){v.add(x);});return v;},new Set());q=!1;u=l.Aa.uz.map(function(v){var w;if(v.profile === p){w=v.streams.filter(function(x){return r.has(x.bitrate);});if(w.length === v.streams.length)return v;q=!0;if(0 === w.length)throw new k.ie(g.ca.c$a,g.Y.NQb);return Object.assign(Object.assign({},v),{streams:w});}return v;});q && (l.Aa=Object.assign(Object.assign({},l.Aa),{uz:u}));});return l;};d.prototype.FEb=function(l,m,p){var r,q,u,v;v=m.Li;l=Object.assign(Object.assign({},l),{type:f.qn.audio,nT:m.nT,variant:m.variant,trackId:m.Nh,Li:e.Zha[v.toLowerCase()] || e.wu.$U,LL:v,Cg:m.language,displayName:m.RK,yc:null !== (r=m.yc) && void 0 !== r?r:-1,pg:null !== (q=m.pg) && void 0 !== q?q:!0,channels:m.channels,M2c:m.channels,gj:p,ri:{Bcp47:m.language,TrackId:m.Nh},streams:[],isNative:m.isNative,qq:m.Cx,Jda:m.Jda});l.streams=this.ENb(m.streams,l);this.log.trace("Transformed audio track",l,{StreamCount:l.streams.length,AllowedTimedTextTracks:l.gj.length});l.X6=n.$Qb[null === (u=l.streams[0]) || void 0 === u?void 0:u.xe];return l;};d.prototype.boa=function(l){return {language:l.RK,bcp47:l.language,type:l.Li};};d.prototype.Blc=function(l,m){var p;p=this;return m.filter(function(r){var q;if(0 <= (null === (q=l.Efc) || void 0 === q?void 0:q.indexOf(r.trackId)))return !1;if(!p.config.UIa || !r.qq() || r.Wo())if(l.xpb){if(l.xpb !== r.trackId && (r.qq() || r.Wo()))return !1;}else if(l.DBc){if(r.qq() || r.Wo())return !1;}else if(r.Wo())return !1;return !0;});};d.prototype.Inc=function(l,m,p){var r;m=m.filter(function(q){return q.ka.X === l;}).map(function(q){return q.ka.Ba;}).map(function(q){return p.find(function(u){return u.trackId === q;});}).filter(Boolean);if(this.config.UIa && !m.find(function(q){return q.qq() && !q.Wo();})){r=p.find(function(q){return q.qq() && !q.Wo();});r && m.push(r);}return m;};b.K3a=d;},82409:function(t,b,a){var n,c;function d(h,f){this.log=h;this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.O4a=void 0;n=a(45266);c=a(64274);d.prototype.HEb=function(h,f){var e,g,k,l;e=this;g=this.config.hKa;k=this.config.gKa;h=Fa((0,n.tL)(function(m){return (!g.length || 0 <= g.indexOf(m.id)) && 0 > k.indexOf(m.id);},h || []));l=h.next().value;h.next().value.forEach(function(m){return e.log.warn("Cdn is not allowed",{Id:m.id});});h=l.map(function(m){var p;p=(f?f.find(function(r){return r.key === m.key;}):void 0) || ({});return {id:m.id,name:m.name,yc:m.yc,type:m.type,hR:m.key,fuc:m.FAb,location:{id:p.key,yc:p.yc,level:p.level,weight:p.weight}};});h.sort(function(m,p){return m.yc - p.yc;});this.log.trace("Transformed cdns",{Count:h.length});if(!h.length)throw Error("no valid cdns");return h;};d.prototype.bsc=function(h,f,e,g){var k;k=h.filter(function(l){return -1 === e.findIndex(function(m){return m.id === l.id;});}).map(function(l){return {mEb:!0,zb:l};}).concat(e.map(function(l){return {mEb:!1,zb:l};})).sort(function(l,m){return l.zb.yc === m.zb.yc?l.mEb?-1:1:l.zb.yc - m.zb.yc;}).map(function(l,m){(0,c.oaa)(l.zb).yc=m + 1;return l.zb;});h=f.filter(function(l){return -1 === g.findIndex(function(m){return m.key === l.key;});}).concat(g).map(function(l){var m;m=k.findIndex(function(p){return p.key === l.key;});if(-1 !== m)return (m=k[m],(0,c.oaa)(l).yc=m.yc,l);}).filter(function(l){return void 0 !== l;});return {ZLc:k,lxc:h};};b.O4a=d;},23176:function(t,b,a){var n,c,h,f,e,g;function d(k,l){k=c.Gf.call(this,k,"ManifestParserConfigImpl") || this;k.Vf=l;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.BBa=void 0;t=a(22970);n=a(22674);c=a(64174);h=a(83767);f=a(12501);e=a(5614);g=a(72574);Ia(d,c.Gf);Ha.Object.defineProperties(d.prototype,{tva:{configurable:!0,enumerable:!0,get:function(){return [];}},fOa:{configurable:!0,enumerable:!0,get:function(){return "";}},hKa:{configurable:!0,enumerable:!0,get:function(){return [];}},gKa:{configurable:!0,enumerable:!0,get:function(){return [];}},iOa:{configurable:!0,enumerable:!0,get:function(){return "";}},lRa:{configurable:!0,enumerable:!0,get:function(){return 0;}},o1:{configurable:!0,enumerable:!0,get:function(){return this.Vf.o1.oa(g.Iy);}},oB:{configurable:!0,enumerable:!0,get:function(){return this.Vf.oB;}},elb:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}},UIa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=d;b.BBa=a;t.__decorate([f.config(f.$0,"supportedAudioTrackTypes")],a.prototype,"tva",null);t.__decorate([f.config(f.string,"forceAudioTrack")],a.prototype,"fOa",null);t.__decorate([f.config(f.b1a,"cdnIdWhiteList")],a.prototype,"hKa",null);t.__decorate([f.config(f.b1a,"cdnIdBlackList")],a.prototype,"gKa",null);t.__decorate([f.config(f.string,"forceTimedTextTrack")],a.prototype,"iOa",null);t.__decorate([f.config(f.uy,"imageSubsResolution")],a.prototype,"lRa",null);t.__decorate([f.config(f.uy,"timedTextSimpleFallbackThreshold")],a.prototype,"o1",null);t.__decorate([f.config(f.$0,"timedTextProfiles")],a.prototype,"oB",null);t.__decorate([f.config(f.$0,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"elb",null);t.__decorate([f.config(f.jd,"alwaysIncludeOffTimedTextTrack")],a.prototype,"UIa",null);b.BBa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.uo)),t.__param(1,(0,n.u)(e.cV))],a);},83081:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r;function d(q,u,v,w){this.fh=q;this.config=u;this.MWa=v;this.S0a=w;}Object.defineProperty(b,"__esModule",{value:!0});b.CBa=void 0;t=a(22970);n=a(22674);c=a(87386);h=a(43185);f=a(82409);e=a(71420);g=a(85696);k=a(6795);l=a(77939);m=a(44858);p=a(17950);a=a(77601);d.prototype.create=function(q){var u,v;u=this.fh.ub("ManifestParser",q);v=new f.O4a(u,this.config);return new g.s$a(v,new e.mfb(u,this.config,q,this.MWa),new k.Gfb(u,q,this.S0a),new l.K3a(u,this.config,q),new m.mgb(u));};r=d;b.CBa=r;b.CBa=r=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.yb)),t.__param(1,(0,n.u)(h.r$a)),t.__param(2,(0,n.u)(p.Acb)),t.__param(3,(0,n.u)(a.Ffb))],r);},85696:function(t,b,a){var n;function d(c,h,f,e,g){this.iKa=c;this.r0a=h;this.JRc=f;this.x6=e;this.BPb=g;}Object.defineProperty(b,"__esModule",{value:!0});b.s$a=void 0;n=a(64274);d.prototype.QEb=function(c){var h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A;e=c.Aa;g={correlationId:null !== (f=null === (h=e.Bz) || void 0 === h?void 0:h.ti) && void 0 !== f?f:"",uq:e.Cv?"ads":"content"};k=!!e.uS;h=this.iKa.HEb(e.$m,e.Aj);f=this.r0a.YEb(g,e.xT);c=this.JRc.uEc(e.MRc);l=k?this.x6.GEb(g,e.uz,f):this.x6.aEc(g,e.uz,e.media,f);g=this.BPb.wEc(g,e.Ay);m=g.find(function(C){return k?C.trackId === e.uS.Bp:C.trackId === e.J7[0].Bp;}) || g[0];p=this.x6.W5b(l) || l.find(function(C){return k?C.trackId === e.uS.Wu:C.trackId === e.J7[0].Wu;}) || l[0];r=this.r0a.eRc(p.gj) || f.find(function(C){return k?C.trackId === e.uS.p1:C.trackId === e.J7[0].sMb;}) || p.gj[0];q=this.BPb.iEc(e.Ay);u=e.Sd;v=e.Fb;w=e.Z9b;x=e.qK;y=e.Er;z=e.uz.findIndex(function(C){return C.Nh == p.trackId;});B=e.Ay.findIndex(function(C){return C.Nh == m.trackId;});A=e.xT.findIndex(function(C){return C.Nh == r.trackId;});return {qS:q,ci:h,Gk:l,bE:g,gj:f,QH:c,Sd:u,Fb:v,dMc:w,PQ:x,Er:y,yec:z,Hec:B,Fec:A,K7:m,F7:p,H7:r};};d.prototype.csc=function(c,h,f){var e,g,k,l,m,p;e=this;l=this.iKa.bsc(c.Aa.$m,c.Aa.Aj,f.Aa.$m,f.Aa.Aj);m=l.ZLc;l=l.lxc;(0,n.oaa)(c.Aa).$m=m;(0,n.oaa)(c.Aa).Aj=l;h.ci=this.iKa.HEb(m,l);p={correlationId:null !== (k=null === (g=f.Aa.Bz) || void 0 === g?void 0:g.ti) && void 0 !== k?k:"",uq:f.Aa.Cv?"ads":"content"};f=f.Aa;g=f.uz;f.xT.forEach(function(r){var q;if(r.pg){q=e.cIb(c.Aa.xT,h.gj,r,function(u){return e.r0a.YEb(p,[u])[0];});q && h.Gk.forEach(function(u){var v;u=u.gj;v=u.findIndex(function(w){return w.trackId === q.trackId;});-1 !== v && (u[v]=q);});}});g.forEach(function(r){r.pg && e.cIb(c.Aa.uz,h.Gk,r,function(q){return e.x6.GEb(p,[q],h.gj)[0];});});return {S:c,Qc:h};};d.prototype.ZKc=function(c,h){return this.x6.Djc(c,h);};d.prototype.cIb=function(c,h,f,e){var g,k,l,m;g=c.findIndex(function(p){return p.Nh === f.Nh;});k=-1 !== g?c[g]:void 0;l=h.findIndex(function(p){return p.trackId === f.Nh;});m=-1 !== l?h[l]:void 0;if(k && !k.pg && m && !m.pg)return (e=e(f),c[g]=f,h[l]=e);};b.s$a=d;},44236:function(t,b){function a(d){this.Qc=d;this.jf=JSON.stringify(this.Unc());}Object.defineProperty(b,"__esModule",{value:!0});b.v$a=void 0;a.prototype.Unc=function(){var d;d=[];(!this.Qc.ci || 0 >= this.Qc.ci.length) && d.push({error:"No CDN."});this.Qc.F7 || d.push({error:"No default audio track.",foundTracks:this.$Oa(this.Qc.Gk)});this.Qc.K7 || d.push({error:"No default video track.",foundTracks:this.$Oa(this.Qc.bE)});this.Qc.H7 || d.push({error:"No default subtitle track.",foundTracks:this.$Oa(this.Qc.gj)});return d;};a.prototype.$Oa=function(d){return d && 0 < d.length?d.map(function(n){return n.trackId;}):"No tracks found.";};b.v$a=a;},28518:function(t,b,a){var n;function d(c){this.log=c;}Object.defineProperty(b,"__esModule",{value:!0});b.a4=void 0;n=a(6305);d.prototype.ENb=function(c,h){var f,e;f=this;if(!c)return (this.log.warn("There are no media streams for " + h.type + " track - " + h.trackId),[]);e=c.map(function(g){var k,l,m,p,r,q,u,v;v=new n.MediaStream(h,h.type,g.Ko,g.bitrate,g.Mb,g.size,f.Dmc(g.urls),g.CJ,g.$sb / g.Zsb,g.gk,g.vk);v.lNc(g.qIb,g.yYa,g.uFb,g.tFb);v.qMc(null !== (k=g.Qdc) && void 0 !== k?k:void 0,null !== (l=g.Rdc) && void 0 !== l?l:void 0,null !== (m=g.Pdc) && void 0 !== m?m:void 0,null !== (p=g.Odc) && void 0 !== p?p:void 0,null !== (r=g.uFb) && void 0 !== r?r:void 0,null !== (q=g.tFb) && void 0 !== q?q:void 0);h.Er && (v.Er=h.Er);g.tP && (v.tP=null !== (u=g.tP) && void 0 !== u?u:void 0);g.CJ && (v.xe=g.CJ);return v;});e.sort(function(g,k){return g.bitrate - k.bitrate;});e.forEach(function(g,k){g.lower=e[k - 1];g.f6c=e[k + 1];});return e;};d.prototype.Dmc=function(c){return c.reduce(function(h,f){h[f.di]=f.url;return h;},{});};b.a4=d;},71420:function(t,b,a){var n,c,h,f;function d(e,g,k,l){this.log=e;this.config=g;this.j=k;this.MWa=l;}Object.defineProperty(b,"__esModule",{value:!0});b.mfb=void 0;n=a(75568);c=a(22365);h=a(35128);f=a(14423);d.prototype.YEb=function(e,g){var k;k=this;g=g.map(function(l){var m,p,r,q;r=k.zRc(l);l.Cx || !l.pg || r && 0 < r.length || k.log.error("track without downloadables",k.Qnc(l));q={};0 < r.length && (q=r[0],q.profile == n.cr.UU && (q=k.JLc(r),!1));l=k.MWa(k.j,l.Nh,null !== (m=l.yc) && void 0 !== m?m:-1,null !== (p=l.pg) && void 0 !== p?p:!0,e,q.cc,q.urls || [],l.language,l.RK,h.Zha[l.Li.toLowerCase()] || h.wu.$U,l.nT,l.variant,l.LL.toUpperCase(),q.profile,k.coc(q) || ({}),l.Cx,l.w$,l.mpa,l.cA);k.log.trace("Transformed timed text track",l);return l;});this.log.trace("Transformed timed text tracks",{Count:g.length});return g;};d.prototype.eRc=function(e){var g,k;g=this;k=this.config.iOa;if(k){if(e=Fa(e.filter(function(l){return l.Cg == k || l.trackId == k;})).next().value)return e;}else if(this.j.bna && (e=Fa(e.filter(function(l){return l.trackId == g.j.bna;})).next().value))return e;};d.prototype.zRc=function(e){var g,k;g=this;k=e.rqb;e=Object.entries(e.Z0a || ({})).map(function(l){var m;m=Fa(l);l=m.next().value;m=m.next().value;return {cc:k[l],profile:l,size:m.size || 0,priority:g.Emc(l,m),offset:m.rUa || 0,REc:m.width,sFb:m.height,urls:m.urls};});e.sort(function(l,m){return l.priority - m.priority;});return e;};d.prototype.Emc=function(e,g){var k,l;k=this.config.oB.indexOf(e);g=g.size;l=this.config.o1;return e === n.cr.oya && 0 < l && g > l?this.config.oB.length + 1:0 <= k?k:this.config.oB.length;};d.prototype.coc=function(e){if(e.profile === n.cr.UU)return {offset:e.offset,length:e.size,Zn:{width:e.REc,height:e.sFb}};};d.prototype.JLc=function(e){var g,k;g=this.config.lRa || f.iFa.lvb();k=Fa(e.filter(function(l){return l.profile === n.cr.UU;}).filter(function(l){return l.sFb === g;})).next().value;if(k)return k;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:c.vI.height,intendedResolution:g});return e[0];};d.prototype.Qnc=function(e){return {isNone:e.Cx,isForced:e.w$,bcp47:e.language,id:e.Nh};};b.mfb=d;},6795:function(t,b){function a(d,n,c){this.log=d;this.j=n;this.S0a=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Gfb=void 0;a.prototype.uEc=function(d){var n;n=this;d=(d || []).filter(function(c){return c.urls && 0 < c.urls.length;}).map(function(c){return n.S0a(n.j,c.id,c.height,c.width,c.UEc,c.VEc,c.size,c.cA,{unknown:c.urls[0]});});0 === d.length && this.log.warn("There are no trickplay tracks");d.sort(function(c,h){return c.size - h.size;});this.log.trace("Transformed trick play tracks",{Count:d.length});return d;};b.Gfb=a;},44858:function(t,b,a){var n,c,h,f;function d(e){return c.a4.call(this,e) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.mgb=void 0;n=a(45266);c=a(28518);h=a(51344);f=a(35128);Ia(d,c.a4);d.prototype.wEc=function(e,g){var k,l;k=this;g=Fa((0,n.tL)(function(m){return m.streams && 0 < m.streams.length;},g));l=g.next().value;g.next().value.forEach(function(m){return k.log.warn("Video track is missing streams",{trackId:m.Nh});});g=l.map(function(m){var p,r;r=m.Li;r=Object.assign(Object.assign({},e),{type:h.qn.video,trackId:m.Nh,Li:f.Zha[r.toLowerCase()] || f.wu.$U,LL:r,streams:[],ri:{},jta:m.jta,yc:null !== (p=m.yc) && void 0 !== p?p:-1});r.streams=k.ENb(m.streams,r);k.log.trace("Transformed video track",{StreamCount:r.streams.length});return r;});if(!g.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:g.length});return g;};d.prototype.iEc=function(e){var g;g=e.map(function(k){return k.jta;}).filter(Boolean);g=[].concat.apply([],Aa(g)).map(function(k){return k.ma;});e=e.map(function(k){return k.tqb;}).filter(Boolean).map(function(k){return k.ma;});return 0 < g.length?g:e;};b.mgb=d;},81737:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});b.S=void 0;t=a(22674);d=a(99070);n=a(49745);c=a(704);h=a(3861);b.S=new t.we(function(f){f(n.QU).to(d.zBa).pa();f(c.q$a).to(h.ABa);});},60042:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.p$a="ManifestEnricherSymbol";},17398:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PU="ManifestFactorySymbol";},49745:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.QU="ManifestFetcherSymbol";},704:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.q$a="ManifestMigrationSymbol";},91622:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.c4a="BookmarkSymbol";},72516:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.b4a="BookmarkConfigSymbol";},81364:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.a4a="BookmarkConfigParserSymbol";},66393:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.PO=void 0;t=a(22674);d=a(91622);n=a(72516);c=a(81364);h=a(63143);f=a(25293);e=a(12563);b.PO=new t.we(function(g){g(d.c4a).to(h.Jxa).pa();g(n.b4a).to(f.Hxa).pa();g(c.a4a).to(e.Ixa).pa();});},25293:function(t,b,a){var n,c;function d(h){this.config=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Hxa=void 0;t=a(22970);n=a(22674);a=a(4203);d.prototype.ePa=function(){return this.hQ().I6b;};d.prototype.fPa=function(){return this.hQ().J6b;};d.prototype.pnc=function(){return this.hQ().K6b;};d.prototype.HOa=function(){return this.hQ().Blb;};d.prototype.hQ=function(){return this.config();};c=d;b.Hxa=c;b.Hxa=c=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.Fc))],c);},12563:function(t,b,a){var n,c,h;function d(f){this.dc=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Ixa=void 0;t=a(22970);n=a(22674);c=a(42207);h=a(5021);d.prototype.HPc=function(f,e){var g,k;g=parseFloat(f);k=0;"%" === f[f.length - 1] && this.dc.Ao(g)?k=Math.round(g * e.oa(h.ya) / 100):(f=parseInt(f),this.dc.i6(f) && (k=f));return (0,h.ec)(Math.min(k,e.oa(h.ya)));};a=d;b.Ixa=a;b.Ixa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.wi))],a);},63143:function(t,b,a){var n,c,h,f,e,g;function d(k,l,m,p){this.Aka=l;this.dc=m;this.H6b=p;this.va=k.ub("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.Jxa=void 0;t=a(22970);n=a(22674);c=a(72516);h=a(81364);f=a(87386);e=a(42207);g=a(5021);d.prototype.h4b=function(k){var l,m;l=k.mb.playbackState && k.mb.playbackState.currentTime;m=this.lmc(k.R);l=this.dc.sX(l)?(0,g.ec)(l):m;m=0;this.dc.gi(l)?(this.va.info("Overriding bookmark",{From:k.ZD.oa(g.ya),To:l.oa(g.ya)}),l=Object.assign({},k,{ZD:l})):l=k;return k.Ac.za && (m=k.Ac.rPa(k.ZD.oa(g.ya)),l=Object.assign({},l,{ZD:(0,g.ec)(m.Tp),xL:(0,g.ec)(m.xL)}),m=m.tpb,!k.Ac.MQ())?(this.va.trace("Do not apply bookmark ignore logic for ongoing LIVE events"),l.ZD):l.ZD.mSa()?(this.va.trace("Ignoring bookmark because it's negative"),(0,g.ec)(m)):this.ksc(l)?(this.va.trace("Ignoring bookmark because it's too close to beginning"),(0,g.ec)(m)):this.jsc(l)?(this.va.trace("Ignoring bookmark because it's too close to end"),(0,g.ec)(m)):this.isc(l)?(this.va.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,g.ec)(m)):l.ZD;};d.prototype.ksc=function(k){return 0 > k.ZD.vm(this.ePa(k));};d.prototype.ePa=function(k){return this.Clb(this.Aka.ePa(),k.xL);};d.prototype.jsc=function(k){return 0 < k.ZD.vm(this.fPa(k));};d.prototype.fPa=function(k){var l;l=k.mb.Hg?this.Aka.pnc():this.Aka.fPa();return k.xL.ea(this.Clb(l,k.xL));};d.prototype.isc=function(k){return 0 < k.ZD.vm(this.Omc(k));};d.prototype.Omc=function(k){return k.xL.ea((0,g.ec)(k.rL));};d.prototype.lmc=function(k){var l;k=this.Aka.HOa()[k];l=-1;this.dc.Ws(k)?l=parseInt(k):this.dc.Ao(k) && (l=k);if(this.dc.i6(l))return (0,g.ec)(l);};d.prototype.Clb=function(k,l){return this.H6b.HPc(k,l);};a=d;b.Jxa=a;b.Jxa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(f.yb)),t.__param(1,(0,n.u)(c.b4a)),t.__param(2,(0,n.u)(e.wi)),t.__param(3,(0,n.u)(h.a4a))],a);},34029:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.u4a="CDMAttestedDescriptorProvider";},6498:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Tlb=void 0;t=a(22674);d=a(34029);n=a(28419);b.Tlb=new t.we(function(c){c(d.u4a).to(n.Pxa).pa();});},28419:function(t,b,a){var n,c,h,f,e,g,k,l,m;function d(p,r,q,u,v,w){this.config=p;this.lL=q;this.profile=u;this.R0a=v;this.T6=w;this.Hsb=!0;this.log=r.ub("CDMAttestedDescriptor");this.Htb(l.Bw.JN);}Object.defineProperty(b,"__esModule",{value:!0});b.Pxa=void 0;t=a(22970);n=a(22674);c=a(4203);h=a(87386);f=a(97996);e=a(70865);g=a(71501);k=a(2492);l=a(34231);m=a(24735);d.prototype.Htb=function(p){var r;r=this;return this.R0a.$S(p)?this.config().chc?this.Etb().then(function(q){return q?(!1,Promise.resolve(void 0)):r.Lnc();}).then(function(q){return Promise.all([Promise.resolve(q),r.Etb()]);}).then(function(q){var u;q=Fa(q);u=q.next().value;if(q.next().value)!1;else return u;}):this.lL().then(function(q){q.AR.VHb();}):Promise.resolve(void 0);};d.prototype.Etb=function(){var p;p=this;return this.lL().then(function(r){if(p.Hsb)(p.Hsb=!1,r.AR.VHb());else return (r=r.AR.lK(p.profile)) && r.find(function(q){return "cad" === q.name;});});};d.prototype.Lnc=function(){var p;p=this;this.Szb || (this.Szb=this.T6.$Pa(m.Tq.oI).then(function(r){r.ao.close();return r.jKa;}).catch(function(r){p.log.error("Failed to generate challenge",r);}));return this.Szb;};a=d;b.Pxa=a;b.Pxa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.Fc)),t.__param(1,(0,n.u)(h.yb)),t.__param(2,(0,n.u)(f.f4)),t.__param(3,(0,n.u)(g.eV)),t.__param(4,(0,n.u)(e.aia)),t.__param(5,(0,n.u)(k.zfa))],a);},97791:function(t,b,a){var n,c;function d(h){this.nic=h;this.vJb={J:"viewableId",eb:"startTimeMs",ib:"endTimeMs",next:["next",{mj:[c.mj,{weight:"weight",Td:"transitionType"}]}],Dc:"defaultNext",Cl:"exitZones",ap:"main",type:"type",Td:"transitionType",playbackRate:"playbackRate",weight:"weight"};this.NFb={uh:"mediaTypes",lf:"initialSegment",ba:["segments",{mj:[c.mj,Object.assign(Object.assign({},this.vJb),{next:["next",{mj:[c.mj,{weight:"weight",Td:"transitionType",GNb:"transitionHint",R$c:"skipRegionOffset",S$c:"skipRegionWeight",ogc:"earliestSkipRequestOffset"}]}],GNb:"transitionHint",ogc:"earliestSkipRequestOffset"})]}]};this.SAb={PO:"bookmark",R7c:"manifestVersion",uP:"drmType",b4c:"drmVersion",expiration:"expiration",R:"movieId",ds:"packageId",duration:"duration",Sd:"playbackContextId",J7:["defaultTrackOrderList",{NZ:"mediaId",Bp:"videoTrackId",sMb:"subtitleTrackId",Wu:"audioTrackId",F9c:"preferenceOrder"}],i8c:["mediaEventTracks",{id:"id",profile:"profile",type:"type",vS:["relay_servers",{id:"id",c6:"address",port:"port"}],streams:["streams",{Ko:"downloadable_id",urls:["urls",{di:"cdn_id",url:"url",zZ:"liveOcaCapabilities"}]}]}],i4c:["eligibleABTestMap",{mj:c.mj}],k2c:["badgingInfo",{V3c:"dolbyDigitalAudio",d6c:"hdrVideo",W3c:"dolbyVisionVideo",Wad:"ultraHdVideo","3dVideo":"3dVideo",U3c:"dolbyAtmosAudio",V1c:"assistiveAudio",s$c:"sdVideo",b6c:"hdVideo",c6c:"hdr10PlusVideo"}],type:"type",b2c:["audioTextShortcuts",{id:"id",Wu:"audioTrackId",NMb:"textTrackId"}],q9c:"partiallyHydrated",tBb:"maxRecommendedAudioRank",uBb:"maxRecommendedTextRank",Er:"drmContextId",pwb:"hasDrmProfile",lrc:"hasClearProfile",qK:"hasDrmStreams",noa:"hasClearStreams",Aj:["locations",{yc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],$m:["servers",{id:"id",name:"name",type:"type",yc:"rank",FAb:"lowgrade",Nfc:["dns",{host:"host",ktc:"ipv4",ltc:"ipv6",ykc:"forceLookup"}],key:"key"}],uz:["audio_tracks",{type:"type",nT:"subType",variant:"variant",Li:"trackType",Nh:"new_track_id",Lva:"track_id",iHc:"profileType",gPc:"stereo",profile:"profile",channels:"channels",language:"language",U8b:"channelsFormat",Jda:"surroundFormatLabel",RK:"languageDescription",Efc:"disallowedSubtitleTracks",xpb:"defaultTimedText",isNative:"isNative",Cx:"isNoneTrack",p2c:"bitrates",C4b:"allowedVideoTrackId",vS:["relay_servers",{id:"id",c6:"address",port:"port"}],streams:["streams",{Ko:"downloadable_id",size:"size",CJ:"content_profile",Li:"trackType",bitrate:"bitrate",gk:"isDrm",urls:["urls",{di:"cdn_id",url:"url",zZ:"liveOcaCapabilities"}],wAc:"new_stream_id",type:"type",channels:"channels",U8b:"channelsFormat",Jda:"surroundFormatLabel",language:"language",$1c:"audioKey",Vzc:["moov",{size:"size",offset:"offset"}],bo:["sidx",{size:"size",offset:"offset"}],FOc:["ssix",{size:"size",offset:"offset"}],vk:"tags",FJc:"representationId",jma:["ellaChannels",{If:"channelName",tmb:"channel_id",TJb:"sendrate",wma:"bitrate",Srb:"fecLevel",Mnb:"containsFullData",rQc:"symmetric_key",NAc:"nonces"}]}],X6:"codecName",LL:"rawTrackType",id:"id",yc:"rank",pg:"hydrated",DBc:"offTrackDisallowed"}],Ay:["video_tracks",{Li:"trackType",Nh:"new_track_id",type:"type",Lva:"track_id",pwb:"hasDrmProfile",lrc:"hasClearProfile",qK:"hasDrmStreams",noa:"hasClearStreams",groupName:"groupName",vS:["relay_servers",{id:"id",c6:"address",port:"port"}],streams:["streams",{Ko:"downloadable_id",size:"size",CJ:"content_profile",Li:"trackType",tP:"drmHeaderId",bitrate:"bitrate",gk:"isDrm",urls:["urls",{di:"cdn_id",url:"url",zZ:"liveOcaCapabilities"}],wAc:"new_stream_id",type:"type",t9c:"peakBitrate",yfc:"dimensionsCount",zfc:"dimensionsLabel",uFb:"pix_w",tFb:"pix_h",qIb:"res_w",yYa:"res_h",Qdc:"crop_x",Rdc:"crop_y",Pdc:"crop_w",Odc:"crop_h",$sb:"framerate_value",Zsb:"framerate_scale",ALb:"startByteOffset",Mb:"vmaf",Vzc:["moov",{size:"size",offset:"offset"}],bo:["sidx",{size:"size",offset:"offset"}],FOc:["ssix",{size:"size",offset:"offset"}],SS:["segmentVmaf",{offset:"offset",Mb:"vmaf"}],vk:"tags",FJc:"representationId",jma:["ellaChannels",{If:"channelName",tmb:"channel_id",TJb:"sendrate",wma:"bitrate",Srb:"fecLevel",Mnb:"containsFullData",rQc:"symmetric_key",NAc:"nonces"}]}],iHc:"profileType",gPc:"stereo",profile:"profile",yfc:"dimensionsCount",zfc:"dimensionsLabel",V$c:["snippets",{mj:[c.mj,{U$c:"snippetSpec",eb:"startTimeMs",ib:"endTimeMs"}]}],tqb:["drmHeader",{ma:"bytes",w9b:"checksum",tP:"drmHeaderId",qA:"keyId",Zn:["resolution",{height:"height",width:"width"}]}],jta:["prkDrmHeaders",{ma:"bytes",w9b:"checksum",tP:"drmHeaderId",qA:"keyId",Zn:["resolution",{height:"height",width:"width"}]}],xt:"flavor",t6c:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",xFb:"pixelAspectX",yFb:"pixelAspectY",Z7c:"maxCroppedWidth",Y7c:"maxCroppedHeight",$7c:"maxCroppedX",a8c:"maxCroppedY",zqa:"max_framerate_value",yqa:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",y8c:"minCroppedWidth",x8c:"minCroppedHeight",z8c:"minCroppedX",A8c:"minCroppedY",pg:"hydrated",yc:"rank",Kt:["license",{Uvc:"licenseResponseBase64",O9c:"providerSessionToken",x$c:"secureStopExpected",a4c:"drmSessionId",$3c:"drmGroupId",links:["links",{}]}]}],Bz:["cdnResponseData",{US:"sessionABTestCell",ti:"pbcid"}],xr:["choiceMap",Object.assign(Object.assign({},this.NFb),{type:"type",J:"viewableId",Td:"transitionType",GNb:"transitionHint",ETc:"uxlabel",m9c:["parallelGraphs",{mj:[c.mj,this.NFb]}]})],Ez:["contentPlaygraph",{Z:["playgraph",{lf:"initialSegment",Td:"transitionType",ETc:"uxlabel",ba:["segments",{mj:[c.mj,this.vJb]}]}],X$c:["startIdent",{u6c:"identToken",J:"viewableId"}]}],media:["media",{id:"id",ka:["tracks",{X:"AUDIO",Ba:"TEXT",U:"VIDEO"}]}],uS:["recommendedMedia",{Bp:"videoTrackId",Wu:"audioTrackId",p1:"timedTextTrackId"}],xT:["timedtexttracks",{Li:"trackType",Nh:"new_track_id",type:"type",nT:"subType",variant:"variant",LL:"rawTrackType",RK:"languageDescription",language:"language",id:"id",Cx:"isNoneTrack",w$:"isForcedNarrative",rqb:["downloadableIds",{}],Pad:"trackVariant",q4c:"encodingProfileNames",C4b:"allowedVideoTrackId",I2c:["cdnlist",{id:"id",name:"name",type:"type",yc:"rank",FAb:"lowgrade",Nfc:["dns",{host:"host",ktc:"ipv4",ltc:"ipv6",ykc:"forceLookup"}],key:"key"}],Z0a:["ttDownloadables",{mj:[c.mj,{id:"id",size:"size",tad:"textKey",a6c:"hashValue",$5c:"hashAlgo",L6c:"isImage",rUa:"midxOffset",SBb:"midxSize",height:"height",width:"width",FMa:["downloadUrls",{}],urls:["urls",{url:"url",di:"cdn_id",zZ:"liveOcaCapabilities"}]}]}],mpa:"isLanguageLeftToRight",cA:"headIdentDuration",yc:"rank",pg:"hydrated"}],MRc:["trickplays",{Ko:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",VEc:"pixelsAspectY",UEc:"pixelsAspectX",width:"width",height:"height",cA:"headIdentDuration",w6c:"imageCount"}],RPb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],Z3c:"dpsid",Hg:"isBranching",sbd:"viewableType",Cv:"isAd",lZ:"isSupplemental",Z9b:"clientIpAddress",abd:"urlExpirationDuration",M7c:"manifestExpirationDuration",GH:["steeringAdditionalInfo",{$$c:"steeringId",G1c:"additionalGroupNames",O_a:["streamingClientConfig",{}],iT:["stickySteeringMetadata",{QC:"isSteeringSticky",dva:"stickySteeringToken"}],qOc:"slowInitialBufferingSignal",rTa:"liveEdgeCushionWithSpreadMs"}],Fb:"auxiliaryManifestToken",bj:["liveMetadata",{dma:["downloadableIdToSegmentTemplateId",{mj:c.mj}],RS:["segmentTemplateIdToSegmentTemplate",{mj:[c.mj,{MO:"availabilityStartTime",Usc:"initialization",media:"media",nGc:"presentationTimeOffset",ELb:"startNumber",duration:"duration",P:"timescale"}]}],BBc:"ocLiveWindowDurationSeconds",Ema:"eventAvailabilityOffsetMs",r8:"eventStartTime",UX:"eventEndTime",Zpb:"disableLiveUi",maxBitrate:"maxBitrate",MO:"availabilityStartTime"}],MZ:["mediaEventHistory",{P:"timescale",u6b:"baseTimeMs",Xdc:"cutoffTimeMs",Qn:["mediaEvents",{type:"type",id:"id",timestamp:"timestamp",duration:"duration",$n:"segmentationTypeId",Xa:"adBreakTriggerId",pj:"applicationScope"}]}],Of:"streamingType",z0a:["timecodeAnnotations",{fic:"endOffsetMs",uda:"startOffsetMs",type:"type"}],lGb:"prefetchTtl",Sp:"auxiliaryManifests",Od:"adverts",jRa:"ignoreUserTextPreferences"};this.hjb={Iv:"locationMs",Vj:"adBreakToken",Xa:"adBreakTriggerId",CX:"embedded",VFc:"prefetchWindowOffsetMs",CHb:"refreshCache",UFc:"prefetchWindowDurationMs",An:"autoSkip",I1:["uxDisplay",{mPb:"uxIndication",M1a:"uxPlayerControl"}],Xb:["ads",{id:"id",eb:"startTimeMs",ib:"endTimeMs",Dva:["timedAdEvents",{event:"event",Sw:"adEventToken",lw:"timeMs"}],pF:["actionAdEvents",{start:["start",{event:"event",Sw:"adEventToken"}],complete:["complete",{event:"event",Sw:"adEventToken"}],stop:["stop",{event:"event",Sw:"adEventToken"}]}],An:"autoSkip",bZ:"is3pVerificationEnabled",k1:"thirdPartyVerificationToken",a1a:["uiComponent",{E1c:"adImpressionMetadataId",Vad:"uiToken",Uad:"uiLoadDelayMaxMs"}]}],DO:["actionAdBreakEvents",{complete:["complete",{event:"event",Sw:"adEventToken"}],start:["start",{event:"event",Sw:"adEventToken"}],stop:["stop",{event:"event",Sw:"adEventToken"}]}],qW:"auditPingUrl"};this.m4b={rb:["adBreaks",this.hjb],qW:"auditPingUrl",LIb:"retainAdBreaks",U5:["adBreakCacheUpdates",{mj:[c.mj,{action:"action",Ra:["adBreak",this.hjb]}]}],ak:"daiSupported",wpb:"defaultPrefetchWindowDurationMs",Bec:"defaultPrefetchWindowOffsetMs",Ssc:"initialPrefetchWindowDurationMs",Tsc:"initialPrefetchWindowOffsetMs",cDc:"orderedAdBreakTriggerIds"};this.Pxc=Object.assign(Object.assign({},this.SAb),{Sp:["auxiliaryManifests",this.SAb],Od:["adverts",this.m4b]});}Object.defineProperty(b,"__esModule",{value:!0});b.xBa=void 0;t=a(22970);n=a(22674);c=a(90030);d.prototype.RX=function(h){this.nic.RX(h,this.Pxc);};a=d;b.xBa=a;b.xBa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.H6a))],a);},47930:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m,p){this.Zzb=l;this.Oxc=m;this.Qxc=p;}Object.defineProperty(b,"__esModule",{value:!0});b.yBa=void 0;t=a(22970);n=a(22674);c=a(81025);h=a(60042);f=a(31149);e=a(36129);g=a(91176);a=a(704);d.prototype.create=function(l){var m,p,r,q;m=this;if(l && !this.duc(l)){if(this.iuc(l))throw f.ie.LUc(e.ca.yN,e.Y.gZb,l);this.Qxc.forEach(function(u){var v;u.TBb(l);null === (v=l.auxiliaryManifests) || void 0 === v?void 0:v.forEach(function(w){u.TBb(w);});});(0,g.RIb)(l,g.ZAb);q=this.Zzb();q.zIa(l.links);this.Oxc.RX(l);return {Aa:l,Zo:q,eSa:!1,Sp:null !== (r=null === (p=l.Sp) || void 0 === p?void 0:p.map(function(u){var v;v=m.Zzb();v.zIa(u.links);return {Aa:u,Zo:v,eSa:!1,Sp:[]};})) && void 0 !== r?r:[]};}};d.prototype.iuc=function(l){return ("type" in l) && "muxed" === l.type;};d.prototype.duc=function(l){return ("runtime" in l) && !!l.runtime;};k=d;b.yBa=k;b.yBa=k=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.Mbb)),t.__param(1,(0,n.u)(h.p$a)),t.__param(2,(0,n.ZG)(a.q$a))],k);},99070:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w;function d(x,y,z,B,A,C,D){this.$h=y;this.Nxc=B;this.config=A;this.qaa=C;this.La=D;this.hca=new Map();this.log=x.ub("ManifestFetcher");this.Tf=z.Tf;}Object.defineProperty(b,"__esModule",{value:!0});b.zBa=void 0;n=a(22970);t=a(22674);c=a(81918);h=a(30869);f=a(31149);e=a(87386);g=a(5021);k=a(4203);l=a(72639);m=a(91176);p=a(18148);r=a(17398);q=a(13044);u=a(17612);v=a(21103);w=a(31276);d.prototype.Po=function(x,y,z,B){var A;A=this;z=void 0 === z?!0:z;B && this.K3b(x.J,B);return z && this.Av(x.J)?this.U8(x.J).catch(function(){return A.jIb(x,y,z);}):this.jIb(x,y,z);};d.prototype.Av=function(x){return this.Tf.L9(x,"manifest");};d.prototype.tGb=function(){var x;x=this;this.Tf.UMc();setTimeout(function(){x.Tf.vKc();},1);};d.prototype.lT=function(x,y){var z,B;z=this;if(this.config().zhc){B=y?Promise.resolve(y):void 0;this.Tf.setData(x,"manifest",y,function(){return z.Sqc(x,B);});null === B || void 0 === B?void 0:B.then(function(A){var C,D;(0,q.BDa)() && (null === (D=null === (C=A.Aa.GH) || void 0 === C?void 0:C.iT) || void 0 === D?0:D.QC) && z.Tf.uOb(x,"manifest",void 0,p.l9a);}).catch(function(){});}};d.prototype.U8=function(x,y){var z;z=this;y=void 0 === y?!1:y;return this.Tf.getData(x,"manifest").then(function(B){var A;if(!B)throw Error("Manifest not found");if(B.Aa.expiration <= z.La.zH.oa(g.ya))throw (z.Tf.clearData(x,"manifest"),Error("Manifest has expired"));A=B.Aa.Of;if(!y && (0,m.Ax)(A) && B.H1a)throw Error("Cached live manifest not available for reuse");return B;});};d.prototype.Sqc=function(x,y){var z;null === (z=this.hca.get(x)) || void 0 === z?void 0:z.forEach(function(B){return B(y);});this.hca.delete(x);};d.prototype.K3b=function(x,y){this.hca.has(x) || this.hca.set(x,[]);this.hca.get(x).push(y);};d.prototype.jIb=function(x,y,z){return n.__awaiter(this,void 0,void 0,function A(){var C,D,F,G,E,H,J,L,K,M,P,I;C=this;return Sa(A,function(O){switch(O.$r){case 1:D=C;C.log.trace("Requesting a new manifest",x.J);J=C.$h.wc().oa(g.ya);if(!(z && C.config().ZMa && C.Av(x.J))){O.$r=2;break;}O.LW=3;return ab(O,C.U8(x.J,!0),5);case 5:L=O.$T;K=L.Aa.Of;(0,m.Ax)(K) && L.H1a && (x.Av=!0);Cb(O);break;case 3:ib(O);case 2:if(M=(0,q.BDa)())x.dva=null === (E=null === (G=null === (F=M.S) || void 0 === F?void 0:F.Aa.GH) || void 0 === G?void 0:G.iT) || void 0 === E?void 0:E.dva;P=function(){return D.Nxc.Pe({log:D.log,bJ:y,J:x.J},x).catch(function(Q){if(L)return L;throw Q;});};I=((null === (H=x.me) || void 0 === H?0:H.fd) && !x.me.Vj && !x.me.Xa?C.WRc(x).catch(function(Q){D.log.warn(Q.message);return P();}):P()).then(function(Q){var S,U,W,Y,X;if(!(!Q.TF || null !== (S=x.me) && void 0 !== S && S.Vj || null !== (U=x.me) && void 0 !== U && U.Xa)){X=Q.TF;S={Aua:Promise.resolve(X),lTa:{source:"manifest",type:x.li}};delete Q.TF;U=(0,q.BDa)() && (null === (Y=null === (W=Q.Aa.GH) || void 0 === W?void 0:W.iT) || void 0 === Y?0:Y.QC)?p.l9a:void 0;D.Tf.setData(x.J,"ldl",S,function(){X.close().catch(function(Z){D.log.info("Unable to cleanup LDL session.",Z);});},void 0,U);}x.xt === l.Fp.o4 && (Q.ES=J,Q.o0=D.$h.wc().oa(g.ya));return Q;}).then(function(Q){return D.pXa(Q);}).catch(function(Q){z && D.lT(x.J,void 0);D.log.error("Failed to fetch manifest",f.ie.Wi(Q));throw Q;});z && C.lT(x.J,I);return O.return(I);}});});};d.prototype.WRc=function(x){var y;y=this;return new Promise(function(z,B){var A,C,D,F,G;y.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",x.J);F=null === (A=x.me) || void 0 === A?void 0:A.sba;if(!F)return B(Error("Parent manifest does not exist."));G=null === (C=x.me) || void 0 === C?void 0:C.Fb;A=null === (D=F.Sp) || void 0 === D?void 0:D.find(function(E){return E.R === x.J && (void 0 === G || E.Fb === G);});if(!A)return B(Error("Auxiliary manifest not found in parent manifest."));z(y.qaa.create(A));});};d.prototype.pXa=function(x){var y,z;y=this;return this.config().Ypb && (null === (z=x.Aa.Od) || void 0 === z?0:z.ak)?w.Wa.get(v.My).oG().then(function(B){u.sb.gZ(B.Ix) && (y.log.info("Force disabling daiSupported for HWDRM"),x.Aa.Od.ak=!1);return x;}):Promise.resolve(x);};a=d;b.zBa=a;b.zBa=a=n.__decorate([(0,t.$)(),n.__param(0,(0,t.u)(e.yb)),n.__param(1,(0,t.u)(c.$d)),n.__param(2,(0,t.u)(p.Vxa)),n.__param(3,(0,t.u)(l.dDa)),n.__param(4,(0,t.u)(k.Fc)),n.__param(5,(0,t.u)(r.PU)),n.__param(6,(0,t.u)(h.vi))],a);},3861:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.ABa=void 0;t=a(22970);a=a(22674);d.prototype.TBb=function(c){var h,f,e;if("v3" !== c.manifestVersion && void 0 !== c.timedtexttracks && void 0 !== c.audio_tracks && void 0 !== c.video_tracks){h=c.timedtexttracks.reduce(function(g,k){g[k.id]=k.new_track_id;k.id=k.new_track_id;return g;},{});f=c.audio_tracks.reduce(function(g,k){g[k.id]=k.new_track_id;k.id=k.new_track_id;k.track_id=k.new_track_id;return g;},{});e=c.video_tracks.reduce(function(g,k){g[k.track_id]=k.new_track_id;k.track_id=k.new_track_id;return g;},{});c.audio_tracks.forEach(function(g){g.disallowedSubtitleTracks=g.disallowedSubtitleTracks.map(function(k){return h[k];});g.defaultTimedText && (g.defaultTimedText=h[g.defaultTimedText]);});c.defaultTrackOrderList && (c.defaultTrackOrderList=c.defaultTrackOrderList.map(function(g){return Object.assign(Object.assign({},g),{videoTrackId:e[g.videoTrackId],subtitleTrackId:h[g.subtitleTrackId],audioTrackId:f[g.audioTrackId]});}));}};n=d;b.ABa=n;b.ABa=n=t.__decorate([(0,a.$)()],n);},16520:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.zk={};t[t.Uua=1]="sourceopen";t[t.st=2]="currentTimeChanged";t[t.Rca=3]="seeked";t[t.Xzb=5]="licenseadded";t[t.tLb=6]="sourceBufferAdded";t[t.a9c=7]="onNeedKey";t[t.nHb=8]="readyStateChanged";},12653:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.xCb=void 0;t=a(22674);d=a(21801);n=a(59586);b.xCb=new t.we(function(c){c(d.$Ba).to(n.ZBa).pa();});},21801:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ba=b.cWb=void 0;b.cWb=function(){};b.$Ba="MseConfigSymbol";},59586:function(t,b,a){var n,c,h,f,e;function d(g){return c.Gf.call(this,g,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZBa=void 0;t=a(22970);n=a(12501);c=a(64174);h=a(22674);f=a(83767);e=a(5021);Ia(d,c.Gf);Ha.Object.defineProperties(d.prototype,{iCb:{configurable:!0,enumerable:!0,get:function(){return (0,e.ec)(5E3);}},kEb:{configurable:!0,enumerable:!0,get:function(){return (0,e.ec)(1E3);}},lEb:{configurable:!0,enumerable:!0,get:function(){return (0,e.ec)(1E3);}}});a=d;b.ZBa=a;t.__decorate([n.config(n.Sn,"minDecoderBufferMilliseconds")],a.prototype,"iCb",null);t.__decorate([n.config(n.Sn,"optimalDecoderBufferMilliseconds")],a.prototype,"kEb",null);t.__decorate([n.config(n.Sn,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"lEb",null);b.ZBa=a=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(f.uo))],a);},7826:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.lL=void 0;t=a(22674);d=a(50681);n=a(63390);c=a(97996);b.lL=new t.we(function(h){h(d.cCa).to(n.bCa).pa();h(c.f4).dea(function(f){return function(){return f.Gb.get(d.cCa).eAc;};});});},97996:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.f4="MslProviderSymbol";},50681:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cCa="MslReadyNotifierSymbol";},63390:function(t,b,a){var n;function d(){var c;c=this;this.ready=!1;this.eAc=new Promise(function(h){c.kKc=h;});}Object.defineProperty(b,"__esModule",{value:!0});b.bCa=void 0;t=a(22970);a=a(22674);d.prototype.fAc=function(c){this.ready || (this.kKc(c),this.ready=!0);};d.prototype.Tr=function(){return this.ready;};n=d;b.bCa=n;b.bCa=n=t.__decorate([(0,a.$)()],n);},30698:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.LCb=void 0;t=a(22674);d=a(76698);n=a(32934);c=a(81438);h=a(59806);f=a(21941);e=a(55823);g=a(27E3);k=a(2571);l=a(17559);b.LCb=new t.we(function(m){m(c.Ggb).to(d.$Fa).pa();m(n.DB).vM(function(){return Ca._cad_global.http;});m(f.zab).to(h.mCa).pa();m(e.Aab).xp(g.default);m(k.Y7a).to(l.$za).pa();});},2571:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y7a="HttpDispatcherSymbol";},32934:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DB=b.k4=b.ResponseType=void 0;b.ResponseType={Text:1,k1c:2,tRb:3};b.k4="OPEN_CONNECT_APPLIANCE";b.DB="LegacyHttpSymbol";},55823:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aab="NetworkMonitorSymbol";},48004:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yab="NetworkMonitorConfigSymbol";},21941:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zab="NetworkMonitorFactorySymbol";},81438:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ggb="XhrFactorySymbol";},17559:function(t,b,a){var n,c,h;function d(f,e){this.He=e;this.va=f.ub("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.$za=void 0;t=a(22970);n=a(22674);c=a(87386);a=a(32934);d.prototype.download=function(f,e){var g;g=this;e=void 0 === e?{JZ:0}:e;return new Promise(function(k,l){var p;function m(r){if(r.success)return k(r.content);if(p === e.JZ)return l({Sa:r.Sa,fk:r.Fr});p++;!1;g.He.download(f,m);}p=0;g.He.download(f,m);});};h=d;b.$za=h;b.$za=h=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.yb)),t.__param(1,(0,n.u)(a.DB))],h);},40158:function(t,b,a){var n,c,h,f;function d(e,g){return h.Gf.call(this,e,void 0 === g?"NetworkMonitorConfigImpl":g) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.lCa=void 0;t=a(22970);n=a(22674);c=a(12501);h=a(64174);a=a(83767);Ia(d,h.Gf);Ha.Object.defineProperties(d.prototype,{aPb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=d;b.lCa=f;t.__decorate([c.config(c.jd,"useNetworkMonitor")],f.prototype,"aPb",null);b.lCa=f=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.uo)),t.__param(1,(0,n.u)(a.Cfa)),t.__param(1,(0,n.optional)())],f);},59806:function(t,b,a){var n,c,h,f;function d(e,g,k){this.config=e;this.jxc=g;this.Sc=k;}Object.defineProperty(b,"__esModule",{value:!0});b.mCa=void 0;t=a(22970);n=a(48004);c=a(22674);h=a(48159);a=a(55823);d.prototype.Zcc=function(){if(this.config.aPb)return this.Sc(this.jxc());};f=d;b.mCa=f;b.mCa=f=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(n.yab)),t.__param(1,(0,c.u)(h.rab)),t.__param(2,(0,c.u)(a.Aab))],f);},76698:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.$Fa=void 0;t=a(22970);a=a(22674);d.prototype.create=function(){return new XMLHttpRequest();};n=d;b.$Fa=n;b.$Fa=n=t.__decorate([(0,a.$)()],n);},31360:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.fFb=void 0;t=a(22674);d=a(30650);n=a(71976);c=a(7605);h=a(17705);f=a(31071);e=a(91918);g=a(81025);k=a(23632);l=a(15348);m=a(17108);p=a(82229);r=a(97361);q=a(17391);u=a(85432);b.fFb=new t.we(function(v){v(c.Py).to(h.UCa).pa();v(d.Ibb).to(n.VCa).pa();v(g.Nbb).to(k.aDa);v(g.Mbb).Pf(function(w){return function(){return w.Gb.get(g.Nbb);};});v(f.Vbb).to(e.pDa).pa();v(l.oDa).to(m.nDa).pa();v(p.Hgb).to(r.aGa).pa();v(q.Ebb).to(u.PCa).pa();});},7605:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Py="PboConfigSymbol";},30650:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ibb="PboDispatcherSymbol";},81025:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nbb="PboLinksManagerSymbol";b.Mbb="PboLinksManagerFactorySymbol";},15348:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oDa="PboPublisherSymbol";},31071:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vbb="PboRequestFactorySymbol";},82229:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hgb="ZuulRetryPolicyParserSymbol";},49917:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Twa="AdEventPboCommandSymbol";b.Rwa="AdBreakEventPboCommandSymbol";},18880:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M,P,I,O,Q,S,U,W,Y,X,Z,aa,ca,da;Object.defineProperty(b,"__esModule",{value:!0});b.vnb=void 0;t=a(22674);d=a(40953);n=a(30543);c=a(72639);h=a(86563);f=a(81378);e=a(13158);g=a(16257);k=a(46303);l=a(829);m=a(45830);p=a(87607);r=a(84860);q=a(35329);u=a(31149);v=a(36129);w=a(25546);x=a(69740);y=a(22503);z=a(52137);B=a(88951);A=a(83998);C=a(54949);D=a(62898);F=a(15153);G=a(70285);E=a(76427);H=a(36642);J=a(15614);L=a(95738);K=a(82306);M=a(7605);P=a(67658);I=a(3035);O=a(46320);Q=a(595);S=a(49917);U=a(49449);W=a(41332);Y=a(20424);X=a(36475);Z=a(25743);aa=a(70885);ca=a(54861);da=a(21015);b.vnb=new t.we(function(ja){ja(A.rn).to(C.TCa);ja(ca.WEa).to(aa.VEa).pa();ja(da.Qha).to(da.UEa).pa();ja(d.Obb).to(n.bDa);ja(D.Fbb).to(F.QCa);ja(G.Gbb).to(E.RCa);ja(c.dDa).to(h.cDa);ja(P.Pbb).Pf(function(R){return function(){var N;N=R.Gb.get(M.Py);return N && N.fPb?R.Gb.resolve(O.qDa):R.Gb.resolve(I.eDa);};});ja(f.NCa).to(e.MCa);ja(g.Lbb).to(k.YCa);ja(l.$Ca).to(m.ZCa);ja(p.Keb).to(r.aFa);ja(p.Peb).to(q.eFa);ja(p.a9a).to(w.AAa);ja(p.Heb).to(x.ZEa);ja(p.Bbb).to(y.LCa);ja(p.Jdb).to(z.vEa);ja(p.F6a).to(B.jza);ja(J.WXb).to(H.fDa);ja(X.Dbb).to(Z.OCa);ja(L.Kbb).to(K.XCa);ja(S.Twa).to(Q.Swa);ja(S.Rwa).to(U.Qwa);ja(p.oza).Pf(function(R){return function(N){switch(N){case p.no.start:return R.Gb.get(p.Keb);case p.no.stop:return R.Gb.get(p.Peb);case p.no.Bpa:return R.Gb.get(p.a9a);case p.no.splice:return R.Gb.get(p.Heb);case p.no.pause:return R.Gb.get(p.Bbb);case p.no.resume:return R.Gb.get(p.Jdb);case p.no.PX:return R.Gb.get(p.F6a);}throw new u.ie(v.ca.dXb,void 0,void 0,void 0,void 0,"The event key was invalid - " + N);};});ja(W.t$a).to(Y.QAa);});},87607:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.no={start:"start",stop:"stop",Bpa:"keepAlive",PX:"engage",splice:"splice",pause:"pause",resume:"resume"};b.oza="EventPboCommandFactorySymbol";b.Keb="StartEventPboCommandSymbol";b.Peb="StopEventPboCommandSymbol";b.a9a="KeepAliveEventPboCommandSymbol";b.Heb="SpliceEventPboCommandSymbol";b.F6a="EngageEventPboCommandSymbol";b.Bbb="PauseEventPboCommandSymbol";b.Jdb="ResumeEventPboCommandSymbol";},41332:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.t$a="ManifestPostProcessorSymbol";},81378:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.NCa=b.e3a=void 0;b.fYb=["prefetch/license","prefetch/license/live","prefetch/license/linear"];b.gVb=["license","license/live","license/linear"];b.e3a=[].concat(Aa(b.fYb),Aa(b.gVb));b.NCa="PboAcquireLicenseCommandSymbol";},36475:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dbb="AleProvisionCommand";},17391:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ebb="PboBackoffManagerSymbol";},62898:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fbb="PboBindCommandSymbol";},70285:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gbb="PboBindDeviceCommandSymbol";},19114:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oi={kR:"logblob",S:"manifest",Wvc:"licensedmanifest",Kt:"license",events:"events",bind:"bind",ping:"ping",config:"config",H9c:"prefetchLiveAds",OIa:"aleProvision"};b.CYb={Cdb:"X-Netflix.Request.Id",Bdb:"X-Netflix.Request.Attempt",uEa:"X-Netflix.Client.Request.Name",l4a:"x-netflix.browsername",m4a:"x-netflix.browserversion",Rab:"x-netflix.osname",Sab:"x-xetflix.osversion",V4a:"x-netflix.clienttype",Lfb:"x-netflix.uiversion"};b.JB={Cdb:"reqId",Bdb:"reqAttempt",uEa:"reqName",l4a:"browsername",m4a:"browserversion",Rab:"osname",Sab:"osversion",V4a:"clienttype",Lfb:"uiversion",VVb:"mainContentViewableId"};},83998:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.rn="PboCommandContextSymbol";},95738:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kbb="PboGenerateScreenshotsCommandSymbol";},16257:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lbb="PboLicenseRequestTransformerSymbol";},829:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ca="PboLicenseResponseTransformerSymbol";},40953:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Obb="PboLogblobCommandSymbol";},72639:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dDa=b.f3a=void 0;t=b.Fp={};t.o4="PRE_FETCH";t.pYb="QC";t.Zq="STANDARD";t.Jha="SUPPLEMENTAL";t.ZWc="DOWNLOAD";b.gYb=("prefetch/licensedManifest prefetch/manifest prefetch/licensedManifest/live prefetch/manifest/live prefetch/licensedManifest/ad prefetch/manifest/ad prefetch/licensedManifest/live/ad prefetch/manifest/live/ad").split(" ");b.XVb=("licensedManifest manifest licensedManifest/live manifest/live adBreakHydration adBreakHydration/live prefetchLiveAds licensedManifest/ad manifest/ad licensedManifest/live/ad manifest/live/ad adBreakHydration/ad adBreakHydration/live/ad prefetchLiveAds/ad").split(" ");b.f3a=[].concat(Aa(b.gYb),Aa(b.XVb));b.dDa="PboManifestCommandSymbol";},67658:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pbb="PboManifestRequestTransformerSymbol";},15614:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WXb="PboPingCommandSymbol";},49449:function(t,b,a){var n,c,h,f,e,g;function d(k){return f.Mi.call(this,k,c.ca.k2a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Qwa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(19114);f=a(51658);e=a(83998);a(2762);g=a(71977);Ia(d,f.Mi);d.prototype.qQ=function(k){var l;l=(0,g.gQa)(k.Of);return h.Oi.events + "/" + l + k.event;};d.prototype.Pe=function(k,l){var m,p,r;m=this;p=this.SO(l);!1;!1;r={url:l.href,name:h.Oi.events,Yk:this.qQ(l),Vm:2};return this.send(k,r,p).then(function(){return l;}).catch(function(q){throw m.uv(q);});};d.prototype.SO=function(k){return {xid:k.Ia,event:k.event,adEventToken:k.Sw,adBreakTriggerId:k.Xa,adBreakLocationMs:k.Lu,eventLocationMs:k.aG,adInsertionType:k.pIa,position:k.position,clientTime:k.IF,sessionStartTime:k.qk,appId:k.appId,sessionId:k.sessionId,playTimes:{},adBreakStartTime:k.jIa,playbackOffsetRefAdBreakStart:k.Dba,adBreakStartOffset:k.iIa,mainManifestPlaybackContextId:k.OTa,embeddedReason:k.Cm};};a=d;b.Qwa=a;b.Qwa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(e.rn))],a);},595:function(t,b,a){var n,c,h,f,e,g;function d(k){return f.Mi.call(this,k,c.ca.k2a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Swa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(19114);f=a(51658);e=a(83998);a(2762);g=a(71977);Ia(d,f.Mi);d.prototype.qQ=function(k){var l;l=(0,g.gQa)(k.Of);return h.Oi.events + "/" + l + k.event;};d.prototype.Pe=function(k,l){var m,p,r;m=this;p=this.SO(l);!1;!1;r={url:l.href,name:h.Oi.events,Yk:this.qQ(l),Vm:2};return this.send(k,r,p).then(function(){return l;}).catch(function(q){throw m.uv(q);});};d.prototype.SO=function(k){return {xid:k.Ia,event:k.event,adEventToken:k.Sw,adBreakTriggerId:k.Xa,adBreakLocationMs:k.Lu,eventLocationMs:k.aG,adInsertionType:k.pIa,position:k.position,adStartPosition:k.rIa,clientTime:k.IF,sessionStartTime:k.qk,appId:k.appId,sessionId:k.sessionId,playTimes:this.OJa(k.MA),mainManifestPlaybackContextId:k.OTa,thirdPartyAdVerificationMetadata:k.QQc,embeddedReason:k.Cm};};d.prototype.OJa=function(k){return {total:k.total,audio:k.audio.map(function(l){return {duration:l.duration,downloadableId:l.cc,cdnId:l.ul};}),video:k.video.map(function(l){return {duration:l.duration,downloadableId:l.cc,cdnId:l.ul};}),text:k.text.map(function(l){return {duration:l.duration,downloadableId:l.cc,cdnId:l.ul};})};};a=d;b.Swa=a;b.Swa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(e.rn))],a);},88496:function(t,b,a){var n,c,h,f,e;function d(g,k,l,m){k=h.Mi.call(this,g,k) || this;k.context=g;k.vNa=l;k.Vm=m;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.lo=void 0;t=a(22970);n=a(22674);c=a(19114);h=a(51658);a(2762);f=a(71977);e=a(42933);Ia(d,h.Mi);d.prototype.qQ=function(g){g=(0,f.gQa)(g.Of);return c.Oi.events + "/" + g + this.vNa;};d.prototype.Pe=function(g,k){var l,m,p,r,q;l=this;p=g.links;r=this.SO(k);!1;!1;q={url:null !== (m=null === p || void 0 === p?void 0:p.AY("events").href) && void 0 !== m?m:k.href,name:c.Oi.events,Yk:this.qQ(k),Vm:this.Vm,iM:this.iM};return this.send(g,q,r).then(function(u){null === p || void 0 === p?void 0:p.zIa(u.result.links);return k;}).catch(function(u){throw l.uv(u);});};d.prototype.SO=function(g){return {event:this.vNa,xid:g.Ia,position:g.position || 0,clientTime:g.IF,sessionStartTime:g.qk,videoTrackId:g.Bp,audioTrackId:g.Wu,timedTextTrackId:g.p1,mediaId:g.NZ,trackId:g.trackId,sessionId:g.sessionId,appId:g.appId,playTimes:this.OJa(g.MA),sessionParams:g.Eq};};d.prototype.NJa=function(g){return {downloadableId:g.cc,duration:g.duration};};d.prototype.OJa=function(g){var k;k={total:g.total,audio:g.audio.map(this.NJa),video:g.video.map(this.NJa),text:g.text.map(this.NJa)};g.total !== g.BT && (k.totalContentTime=g.BT);0 !== g.xM && (k.totalAdDuration=g.xM);0 !== g.zM && (k.totalOtherDuration=g.zM);if(0 !== g.zM || 0 !== g.xM)k.totalCombinedDuration=g.t1;0 !== g.CT && (k.totalLiveEdgeDuration=g.CT);0 !== g.DT && (k.totalStartSlateDuration=g.DT);return k;};Ha.Object.defineProperties(d.prototype,{iM:{configurable:!0,enumerable:!0,get:function(){return this.socketRouterConfig.enabled && this.socketRouterConfig.bLb && e.R4.supported;}}});a=d;b.lo=a;b.lo=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.ju)()),t.__param(1,(0,n.ju)()),t.__param(2,(0,n.ju)()),t.__param(3,(0,n.ju)())],a);},51658:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m,p){this.context=m;this.errorCode=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Mi=b.reb=void 0;n=a(22970);t=a(22674);c=a(71977);h=a(31149);f=a(34231);e=a(54861);g=a(21015);k=a(70885);(function(m){m.DUc="websocket";m.ijc="httpAfterWS";})(l || (b.reb=l={}));d.prototype.VLc=function(m,p,r){return n.__awaiter(this,void 0,void 0,function u(){var v,w,x,y;v=this;return Sa(u,function(z){w=v;if(null === (x=v.socketRouterClient) || void 0 === x?0:x.nSa)return z.return(v.Utb(m,p,r,f.Bw.JN).then(function(B){var A;B={type:p.name,payload:B.request,options:k.rgb[p.name]};return null === (A=w.socketRouterClient) || void 0 === A?void 0:A.request(B).then(function(C){var D,F;if(!("logblob" === p.name?null === (F=null === (D=null === C || void 0 === C?void 0:C.body) || void 0 === D?void 0:D.result) || void 0 === F?0:F.nlp:1))throw Error("SRC message not acknowledged");return C.body;});}).catch(function(){return w.OJb(m,p,r);}));null === (y=v.socketRouterClient) || void 0 === y?void 0:y.start();return z.return(v.OJb(m,p,r));});});};d.prototype.OJb=function(m,p,r){return n.__awaiter(this,void 0,void 0,function u(){var v,w,x;x=this;return Sa(u,function(y){w=r.logblobs;null === (v=null === w || void 0 === w?void 0:w.entries) || void 0 === v?void 0:v.forEach(function(z){z.transport=l.ijc;});p.iM=!1;return y.return(x.send(m,p,r));});});};d.prototype.send=function(m,p,r,q,u){var v;v=this;u=void 0 === u?f.Bw.JN:u;return p.iM && u !== f.Bw.Eab?this.VLc(m,p,r):this.Utb(m,p,r,u,q).then(function(w){return v.context.Gfc.send(w.context,w.request);});};d.prototype.Utb=function(m,p,r,q,u){var v,w;try{v=this.context.NJc.create(this.context.fA.NF(),p.url,r,u,q);w=this.f7b(p,m,q);return Promise.resolve({context:w,request:v});}catch(x){return Promise.reject(x);}};d.prototype.f7b=function(m,p,r){var q;return {He:this.context.He,yr:m.name,url:this.context.rTc((0,c.k7b)(this.context.Xj,this.context.Ii,m.name,r)),Vm:m.Vm,timeout:this.context.Ii.timeout,headers:Object.assign(Object.assign({},(0,c.j7b)(this.context.Xj,this.context.Ii,this.context.mP,m.name,r)),null !== (q=m.OJc) && void 0 !== q?q:{}),Yk:m.Yk,log:p.log,zJa:p.zJa,bJ:p.bJ,J:p.J,requestId:this.context.fA.Acc()};};d.prototype.uv=function(m){return m instanceof h.ie?m:(0,c.uv)(this.errorCode,m);};a=d;b.Mi=a;n.__decorate([(0,t.u)(e.WEa)],a.prototype,"socketRouterClient",void 0);n.__decorate([(0,t.u)(g.Qha)],a.prototype,"socketRouterConfig",void 0);b.Mi=a=n.__decorate([(0,t.$)(),n.__param(0,(0,t.ju)()),n.__param(1,(0,t.ju)())],a);},88951:function(t,b,a){var n,c,h,f,e;function d(g){return h.lo.call(this,g,c.ca.ATb,f.no.PX,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.jza=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(88496);f=a(87607);a=a(83998);Ia(d,h.lo);d.prototype.SO=function(g){return Object.assign(Object.assign({},h.lo.prototype.SO.call(this,g)),{action:g.action});};e=d;b.jza=e;b.jza=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.rn))],e);},82306:function(t,b,a){var n,c,h,f,e;function d(g){return f.Mi.call(this,g,c.ca.RTb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XCa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(19114);f=a(51658);a=a(83998);Ia(d,f.Mi);d.prototype.Pe=function(g,k){var l,m,p;l=this;p=g.links;p={url:null !== (m=null === p || void 0 === p?void 0:p.AY("generateScreenshots").href) && void 0 !== m?m:"/generateScreenshots",name:h.Oi.S,Yk:"generateScreenshots",Vm:2};return this.send(g,p,k).then(function(r){return r.result;}).catch(function(r){throw l.uv(r);});};e=d;b.XCa=e;b.XCa=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.rn))],e);},25546:function(t,b,a){var n,c,h,f,e;function d(g){return h.lo.call(this,g,c.ca.W8a,f.no.Bpa,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.AAa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(88496);f=a(87607);a=a(83998);Ia(d,h.lo);e=d;b.AAa=e;b.AAa=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.rn))],e);},20424:function(t,b,a){var n,c,h;function d(f){this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.QAa=void 0;t=a(22970);n=a(4203);c=a(22674);h=a(91176);d.prototype.process=function(f){var e,g,k,l;e=this;if((0,h.Ax)(f.streamingType) && this.config().fR){g=Object.assign(Object.assign({template:"$baseUrl/$packageId/$encoder/$feed/$mediaOutputGroup/$downloadableId"},this.config().fR),this.config().fR.video);f.video_tracks.forEach(function(m){m.streams.forEach(function(p){var r;p.urls=[p.urls[0]];r=Object.assign(Object.assign({},g),{downloadableId:p.downloadable_id});p.urls[0].url=e.tQa(r.template,r);});});k=Object.assign(Object.assign({template:"$baseUrl/$packageId/$encoder/$feed/$mediaOutputGroup/$downloadableId"},this.config().fR),this.config().fR.audio);f.audio_tracks.forEach(function(m){m.streams.forEach(function(p){var r;p.urls=[p.urls[0]];r=Object.assign(Object.assign({},k),{downloadableId:p.downloadable_id});p.urls[0].url=e.tQa(r.template,r);});});l=Object.assign(Object.assign({template:"$baseUrl/$packageId/$encoder/$feed/$mediaOutputGroup/$downloadableId"},this.config().fR),this.config().fR.text);f.timedtexttracks.forEach(function(m){Object.entries(m.ttDownloadables).forEach(function(p){var r,q;r=Fa(p);p=r.next().value;r=r.next().value;r.urls && 0 < (null === (q=r.urls) || void 0 === q?void 0:q.length) && (r.urls=[r.urls[0]],q=Object.assign(Object.assign({},l),{downloadableId:m.downloadableIds[p]}),r.urls[0].url=e.tQa(q.template,q));});});}};d.prototype.tQa=function(f,e){return f.split("/").map(function(g){var k;if(g.startsWith("$")){k=g.substring(1);if(e.hasOwnProperty(k))return e[k];}return g;}).join("/");};a=d;b.QAa=a;b.QAa=a=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(n.Fc))],a);},22503:function(t,b,a){var n,c,h,f,e;function d(g){return h.lo.call(this,g,c.ca.bbb,f.no.pause,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.LCa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(88496);f=a(87607);a=a(83998);Ia(d,h.lo);e=d;b.LCa=e;b.LCa=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.rn))],e);},13158:function(t,b,a){var n,c,h,f,e,g;function d(k){return f.Mi.call(this,k,c.ca.k9a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.MCa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(19114);f=a(51658);e=a(83998);g=a(71977);Ia(d,f.Mi);d.prototype.qQ=function(k){var l;l="ldl" === k.nTa?"prefetch/license":"license";k=(0,g.Upc)(k.Of);return "" + l + k;};d.prototype.Pe=function(k,l){var m,p;m=this;p={url:k.links.AY(l.nTa).href,name:h.Oi.Kt,Yk:this.qQ(l),Vm:"ldl" === l.nTa?0:3};return this.send(k,p,l.inputs,"drmSessionId").then(function(r){r=r.result;m.a9b(r);return r;}).catch(function(r){throw m.uv(r);});};d.prototype.a9b=function(k){k.forEach(function(l){if(!l.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};a=d;b.MCa=a;b.MCa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(e.rn))],a);},25743:function(t,b,a){var n,c,h,f,e,g;function d(k){return f.Mi.call(this,k,c.ca.tQb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.OCa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(19114);f=a(51658);e=a(83998);g=a(34231);Ia(d,f.Mi);d.prototype.Pe=function(k){var l;l=this;return this.send(k,{url:"/" + h.Oi.OIa,name:h.Oi.OIa,Yk:h.Oi.OIa,Vm:1,OJc:{"Content-Type":"application/json","content-encoding":"msl_v1"}},{provisionRequest:'{"ver":1,"scheme":"A128CBC-HS256","type":"SOCKETROUTER","keyx":{"scheme":"CLEAR"}}'},void 0,g.Bw.JN).then(function(m){return m.result;}).catch(function(m){throw l.uv(m);});};a=d;b.OCa=a;b.OCa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(e.rn))],a);},15153:function(t,b,a){var n,c,h,f,e;function d(g){return f.Mi.call(this,g,c.ca.dRb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.QCa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(19114);f=a(51658);a=a(83998);Ia(d,f.Mi);d.prototype.Pe=function(g,k){var l;l=this;return this.send(g,{url:"/" + h.Oi.bind,name:h.Oi.bind,Yk:h.Oi.bind,Vm:2},k).then(function(m){return m.result;}).catch(function(m){throw l.uv(m);});};e=d;b.QCa=e;b.QCa=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.rn))],e);},76427:function(t,b,a){var n,c,h,f,e;function d(g){return f.Mi.call(this,g,c.ca.eRb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.RCa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(19114);f=a(51658);a=a(83998);Ia(d,f.Mi);d.prototype.Pe=function(g,k){var l;l=this;return this.send(g,{url:"/bindDevice",name:h.Oi.bind,Yk:h.Oi.bind,Vm:2},k).then(function(m){return m.result;}).catch(function(m){throw l.uv(m);});};e=d;b.RCa=e;b.RCa=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.rn))],e);},54949:function(t,b,a){var n,c,h,f,e,g,k,l,m;function d(p,r,q,u,v,w,x,y,z){this.Xj=p;this.He=r;this.Ii=q;this.Gfc=u;this.fA=v;this.rTc=w;this.NJc=y;this.mP=z;}Object.defineProperty(b,"__esModule",{value:!0});b.TCa=void 0;t=a(22970);n=a(22674);c=a(24747);h=a(7605);f=a(31071);e=a(30650);g=a(62665);k=a(32934);l=a(77687);m=a(15160);a=a(33554);b.TCa=d;b.TCa=d=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.gfa)),t.__param(1,(0,n.u)(k.DB)),t.__param(2,(0,n.u)(h.Py)),t.__param(3,(0,n.u)(e.Ibb)),t.__param(4,(0,n.u)(g.xE)),t.__param(5,(0,n.u)(l.Yfb)),t.__param(6,(0,n.u)(m.Lfa)),t.__param(7,(0,n.u)(f.Vbb)),t.__param(8,(0,n.u)(a.xB))],d);},71977:function(t,b,a){var g,k,l;function d(m){return !(!m || !m.eH && !m.pboc || !m.code && !m.code);}function n(m){return !(!m || !m.subCode);}function c(m){return !!(m instanceof Error);}function h(m){switch(m){case "ACCOUNT_ON_HOLD":return k.Y.TWb;case "STREAM_QUOTA_EXCEEDED":return k.Y.bXb;case "INSUFFICICENT_MATURITY":return k.Y.hXb;case "TITLE_OUT_OF_WINDOW":return k.Y.qXb;case "CHOICE_MAP_ERROR":return k.Y.aXb;case "BadRequest":return k.Y.lXb;case "Invalid_SemVer_Format":return k.Y.iXb;case "RESTRICTED_TO_TESTERS":return k.Y.oXb;case "AGE_VERIFICATION_REQUIRED":return k.Y.ZWb;case "BLACKLISTED_IP":return k.Y.$Wb;case "DEVICE_EOL_WARNING":return k.Y.BCa;case "DEVICE_EOL_FINAL":return k.Y.cbb;case "INCORRECT_PIN":return k.Y.CCa;case "MOBILE_ONLY":return k.Y.nXb;case "MDX_CONTROLLER_CTICKET_INVALID":return k.Y.mXb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return k.Y.rXb;case "RESET_DEVICE":return k.Y.fbb;case "RELOAD_DEVICE":return k.Y.ebb;case "EXIT_DEVICE":return k.Y.dbb;case "FREE_PREVIEW_ENDED":return k.Y.gXb;case "STREAMING_LOCATION_DISALLOWED":return k.Y.pXb;case "EXTRA_MEMBER_STREAM_HOLD":return k.Y.fXb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return k.Y.eXb;case "ADS_UNAVAILABLE_VIEWABLE":return k.Y.UWb;case "ADS_UNSUPPORTED_DEVICE":return k.Y.XWb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return k.Y.VWb;case "ADS_UNSUPPORTED_COUNTRY":return k.Y.WWb;case "ADS_VPN_USE_DETECTED":return k.Y.YWb;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return k.Y.kXb;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return k.Y.jXb;case "CONTENT_PREVIEW_MFA_REQUIRED":return k.Y.cXb;default:return k.Y.e7a;}}function f(m,p){var r;r=h(p.code);return new g.ie(m,r,"BadRequest" === p.code?k.jga.sRb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0,p.alert,p.alertTag,p.playbackContextId,p.displayCode);}function e(m,p){return new g.ie(m,p.subCode,p.extCode,void 0,p.YG,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.ppa=d;b.G6c=n;b.HK=c;b.e5c=h;b.uv=function(m,p){return n(p)?e(m,p):d(p)?f(m,p):c(p)?g.ie.ena(m,p):new g.ie(m,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.f5c=f;b.d5c=e;b.k7b=function(m,p,r,q,u){var v,w,x,y;u=void 0 === u?"router":u;v=p.AZa[r];if(void 0 === v)throw {eH:!0,code:"FAIL",display:"Unable to build the URL for " + r + " because there was no configuration information",detail:p};w=v.version;if(void 0 === w)throw {eH:!0,code:"FAIL",display:"Unable to build the URL for " + r + " because there was no version information",detail:p};x=v.service;if(void 0 === x)throw {eH:!0,code:"FAIL",display:"Unable to build the URL for " + r + " because there was no service information",detail:p};y=v.orgOverride;if(void 0 === y && (y=p.organization,void 0 === y))throw {eH:!0,code:"FAIL",display:"Unable to build the URL for " + r + " because there was no organization information",detail:p};return v.isLogsApiDirect?m.brb + "/" + y + "/" + x + "/" + encodeURIComponent(w):v.isPlayApiDirect?m.Moc(q) + "/" + y + "/" + x + "/" + encodeURIComponent(w):m.toc(q) + "/" + y + "/" + x + "/" + encodeURIComponent(w) + "/" + u;};b.j7b=function(m,p,r,q,u){var v;v=p.AZa[q];if(void 0 === v)throw {eH:!0,code:"FAIL",display:"Unable to build the header map for " + q + " because there was no configuration information",detail:p};q={"Content-Type":"text/plain"};v.isLogsApiDirect && m.$S(u) && (q["content-encoding"]="msl_v1");m=r();p.Rjb && m && (q["X-Esn"]=m.Vi);return q;};b.gQa=function(m){return (0,l.za)(m)?"live/":(0,l.fSa)(m)?"linear/":"";};b.Upc=function(m){return (0,l.za)(m)?"/live":(0,l.fSa)(m)?"/linear":"";};g=a(31149);k=a(36129);l=a(91176);},46303:function(t,b,a){var n,c,h,f,e;function d(g,k,l){this.La=g;this.platform=k;this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.YCa=void 0;t=a(22970);n=a(22674);c=a(30869);h=a(5021);f=a(91581);a=a(4203);d.prototype.yRc=function(g){var k,l;k=this;l=this.La.Eg.oa(h.uu);return {inputs:g.yJ.map(function(m){var p,r,q,u,v;return {drmSessionId:m.sessionId,clientTime:l,challengeBase64:m.dataBase64,xid:g.Ia.toString(),videoTrackName:g.Bp,platform:null === (p=k.config().Ge) || void 0 === p?void 0:p.version,clientVersion:k.platform.version,osVersion:null === (q=null === (r=k.config().Ge) || void 0 === r?void 0:r.os) || void 0 === q?void 0:q.version,osName:null === (v=null === (u=k.config().Ge) || void 0 === u?void 0:u.os) || void 0 === v?void 0:v.name};}),nTa:"standard" === g.li.toLowerCase()?"license":"ldl",Of:g.Of,J:g.J};};e=d;b.YCa=e;b.YCa=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.vi)),t.__param(1,(0,n.u)(f.Ps)),t.__param(2,(0,n.u)(a.Fc))],e);},45830:function(t,b,a){var n,c,h;function d(f,e){this.xk=f;this.Vw=e;}Object.defineProperty(b,"__esModule",{value:!0});b.ZCa=void 0;t=a(22970);n=a(22674);c=a(74870);a=a(2248);d.prototype.DNb=function(f){var e,g;e=this;g=f.map(function(k){return k.links.releaseLicense.href;}).map(function(k){return e.xk.rsa(k.substring(k.indexOf("?") + 1));});return {success:!0,oZ:f.map(function(k,l){return {id:k.drmSessionId,Tzb:g[l].drmlicensecontextid,Uzb:g[l].licenseid};}),uA:f.map(function(k){return {data:e.Vw.decode(k.licenseResponseBase64),sessionId:k.drmSessionId};})};};h=d;b.ZCa=h;b.ZCa=h=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.cm)),t.__param(1,(0,n.u)(a.Sl))],h);},30543:function(t,b,a){var n,c,h,f,e,g;function d(k){return f.Mi.call(this,k,c.ca.eVb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bDa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(19114);f=a(51658);e=a(83998);g=a(42933);Ia(d,f.Mi);d.prototype.Pe=function(k,l){var m;m=this;return this.send(k,{url:"/" + h.Oi.kR,name:h.Oi.kR,Yk:h.Oi.kR,Vm:1,iM:this.iM},l).then(function(p){return p.result;}).catch(function(p){throw m.uv(p);});};Ha.Object.defineProperties(d.prototype,{iM:{configurable:!0,enumerable:!0,get:function(){return this.socketRouterConfig.enabled && this.socketRouterConfig.dLb && g.R4.supported;}}});a=d;b.bDa=a;b.bDa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(e.rn))],a);},86563:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u;function d(v,w,x,y,z,B){v=f.Mi.call(this,v,c.ca.yN) || this;v.platform=w;v.qaa=x;v.Vvc=y;v.Rxc=z;v.FFc=B;return v;}Object.defineProperty(b,"__esModule",{value:!0});b.cDa=void 0;t=a(22970);n=a(72639);c=a(36129);h=a(19114);a(2762);f=a(51658);e=a(83998);g=a(91581);k=a(34231);l=a(17398);m=a(829);p=a(22674);r=a(67658);q=a(41332);u=a(56039);Ia(d,f.Mi);d.prototype.lpc=function(v,w){var x,y,z,B,A,C;z=w?h.Oi.Wvc:h.Oi.S;w=w?"licensedManifest":"manifest";B=v.xt === n.Fp.o4;B && (w="prefetch/" + w);A="live" === v.mb.$e;A && (w+="/live");C=!(null === (x=v.me) || void 0 === x || !x.Vj) || !(null === (y=v.me) || void 0 === y || !y.Xa);C && (w="adBreakHydration" + (A?"/live":""));if(x=!!v.Wx)z=w="prefetchLiveAds";!v.Cv || C || x || (w+="/ad");v=!!v.Av;return {Yk:w,v$b:z,Vm:B || v?0:3};};d.prototype.Pe=function(v,w){var x,y;x=this;y=w.xt === n.Fp.Jha?k.Bw.Pcb:k.Bw.JN;return this.Rxc().transform(w,y).then(function(z){var B,A;B=Fa(z);z=B.next().value;A=B.next().value;!1;B=x.lpc(w,"licensedManifest" === A.yr);return x.send(v,{url:A.yr,name:B.v$b,Yk:B.Yk,Vm:B.Vm},z,void 0,y).then(function(C){var D,F,G;D=C.result;x.FFc.forEach(function(E){return E.process(D);});C=x.qaa.create(D);F=C.Aa;if(A.TF){G=F.Ay.map(function(E){return E.Kt;}).filter(Boolean);0 < G.length?(G=x.Vvc.DNb(G),F=(0,u.nPa)(F.Ay[0].streams),A.TF.Cjb(G,F),C.TF=A.TF,C.eSa=!0):A.TF.close();}C.s6=A.s6;C.Kea=A.Kea;!1;return C;});}).catch(function(z){!1;throw x.uv(z);});};a=d;b.cDa=a;b.cDa=a=t.__decorate([(0,p.$)(),t.__param(0,(0,p.u)(e.rn)),t.__param(1,(0,p.u)(g.Ps)),t.__param(2,(0,p.u)(l.PU)),t.__param(3,(0,p.u)(m.$Ca)),t.__param(4,(0,p.u)(r.Pbb)),t.__param(5,(0,p.optional)()),t.__param(5,(0,p.ZG)(q.t$a))],a);},3035:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w;function d(x,y,z,B,A,C,D,F,G){this.Ii=x;this.platform=y;this.config=z;this.H8b=B;this.bFc=A;this.Pt=C;this.T6=D;this.La=F;this.Iz=G;}Object.defineProperty(b,"__esModule",{value:!0});b.eDa=void 0;t=a(22970);n=a(22674);c=a(72639);h=a(4203);f=a(14423);e=a(34029);g=a(67650);k=a(21103);l=a(91581);m=a(30869);p=a(5021);r=a(2492);q=a(7605);u=a(56800);v=a(24735);w=a(17612);d.prototype.transform=function(x,y){var z,B,A,C,D,F,G,E;z=this;B=x.mb;A=Object.assign({},B.rka,B.Eq);C={};D=x.J;F=this.config();C[D]={unletterboxed:!!A.preferUnletterboxed || F.NFc};G=this.Pt.Gmc();E={$e:null === B || void 0 === B?void 0:B.$e};return Promise.all([this.Iz.Kvb(E),this.Iz.Mvb(E),this.Iz.s9(),this.Ylc(x.Ia,y),this.Lmc(x),G,(function(){return z.config().Ypb?z.Pt.oG().then(function(H){return w.sb.gZ(H.Ix)?"replace":z.config().eAb;}):Promise.resolve(z.config().eAb);})()]).then(function(H){var J,L,K,M,P,I,O,Q,S,U,W,Y,X,Z,aa,ca,da,ja;J=Fa(H);L=J.next().value;K=J.next().value;M=J.next().value;P=J.next().value;H=J.next().value;I=J.next().value;O=J.next().value;J=L.$na().concat(K.$na()).concat(z.config().oB).concat(["iso_23001_18-dash-live"]).concat(["BIF240","BIF320"]).filter(Boolean);ja="postplay" === B.$e?!0:!!A.isUIAutoPlay;M={type:"standard",manifestVersion:z.Ii.Vqb?"v3":z.Ii.Uqb?"v2":"v1",viewableId:D,profiles:J,flavor:x.xt,drmType:I,drmVersion:"playready" === I?30:0,usePsshBox:!0,isBranching:!!x.mb.Hg,useHttpsStreams:!0,supportsUnequalizedDownloadables:z.config().nQc,imageSubtitleHeight:f.iFa.lvb(),uiVersion:z.Ii.uiVersion,uiPlatform:z.Ii.uiPlatform,clientVersion:z.platform.version,platform:null === (Q=z.config().Ge) || void 0 === Q?void 0:Q.version,osVersion:null === (U=null === (S=z.config().Ge) || void 0 === S?void 0:S.os) || void 0 === U?void 0:U.version,osName:null === (Y=null === (W=z.config().Ge) || void 0 === W?void 0:W.os) || void 0 === Y?void 0:Y.name,supportsPreReleasePin:z.config().hv.eQc,supportsWatermark:z.config().hv.fQc,packageId:z.Goc(B),videoOutputInfo:M,titleSpecificData:C,preferAssistiveAudio:!!A.assistiveAudioPreferred,preferredTextLocale:A.preferredTextLocale,preferredAudioLocale:A.preferredAudioLocale,isUIAutoPlay:ja,challenge:P,isNonMember:z.Ii.syb,pin:B.rFb,desiredVmaf:z.config().$Ob?z.config().Mpb:z.config().Npb,desiredSegmentVmaf:z.config().$Ob?z.config().Mpb:z.config().Npb,requestSegmentVmaf:z.config().UJc,supportsPartialHydration:z.Ii.KX,contentPlaygraph:x.mb.Hg?[]:z.Ii.kla,supportsAdBreakHydration:!0,auxiliaryManifestToken:x.mb.Hg?void 0:null === (X=x.me) || void 0 === X?void 0:X.Fb,adBreakToken:x.mb.Hg?void 0:null === (Z=x.me) || void 0 === Z?void 0:Z.Vj,adBreakTriggerId:x.mb.Hg?void 0:null === (aa=x.me) || void 0 === aa?void 0:aa.Xa,originalPlaybackContextId:!x.mb.Hg && (null === (ca=x.me) || void 0 === ca?0:ca.Fb)?null === (da=x.me) || void 0 === da?void 0:da.nD:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0,liveAdsCapability:O,supportsNetflixMediaEvents:!0,cachedAdBreaks:x.M6,occurredAdBreaks:x.Wx};B.Brb && (M.extraParams=B.Brb);B.Kpb && (M.desiredDownloadables=B.Kpb);B.sYa && (M.requestReference=B.sYa);F.flb && (M.auxiliaryManifestToken=F.flb);F.yMb && (M.supportsAdLazyLoading=F.yMb,void 0 !== F.zBb && (M.maxSupportedAdAuxiliaryManifests=F.zBb));F.XNb && (M.uiContext=F.XNb);Q={yr:M.occurredAdBreaks?"prefetchLiveAds":M.adBreakToken || M.adBreakTriggerId?"adBreakHydration":H?"licensedManifest":"manifest",TF:null === H || void 0 === H?void 0:H.ao,s6:L,Kea:K};H && (H={drmSessionId:H.ao.mQ() || "session",clientTime:z.La.zH.oa(p.uu),challengeBase64:H.jKa},M.challenges={"default":[H]},M.profileGroups=[{name:"default",profiles:J}],M.licenseType=x.li == v.Tq.oI?"limited":"standard",x.Ia && (M.xid=x.Ia.toString()));z.Ii.KX || (M.showAllSubDubTracks=z.config().hv.XNc || !!A.showAllSubDubTracks);z.Ii.Qqb && x.xt === c.Fp.Jha && (M.maxSupportedLanguages=2);x.AM && (M.originalPlaybackContextId=x.AM.nD,M.requiredAudioTrackId=x.AM.$Jc,M.requiredTextTrackId=x.AM.dKc);x.Av && (M.hasCachedManifest=x.Av);x.dva && (M.stickySteeringToken=x.dva);return [M,Q];});};d.prototype.Goc=function(x){if(this.config().xta.enabled){if(void 0 !== x.ds)return x.ds;if(void 0 !== this.config().xta.ds)return Number(this.config().xta.ds);}};d.prototype.Ylc=function(x,y){var z;z=this;return this.H8b.Htb(y).then(function(B){var A;A=x && z.bFc.Ooc(x);A && A.Qu("cad");return B;});};d.prototype.Lmc=function(x){var y;if(void 0 === x.li)return Promise.resolve(void 0);y=x.li === v.Tq.Zq && this.Ii.mC;return x.li === v.Tq.oI && this.Ii.UJ || y?this.T6.$Pa(x.li):Promise.resolve(void 0);};a=d;b.eDa=a;b.eDa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(q.Py)),t.__param(1,(0,n.u)(l.Ps)),t.__param(2,(0,n.u)(h.Fc)),t.__param(3,(0,n.u)(e.u4a)),t.__param(4,(0,n.u)(g.FDa)),t.__param(5,(0,n.u)(k.My)),t.__param(6,(0,n.u)(r.zfa)),t.__param(7,(0,n.u)(m.vi)),t.__param(8,(0,n.u)(u.rU))],a);},36642:function(t,b,a){var n,c,h,f,e;function d(g){return f.Mi.call(this,g,c.ca.sXb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.fDa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(19114);f=a(51658);a=a(83998);Ia(d,f.Mi);d.prototype.Pe=function(g,k){var l;l=this;return this.send(g,{url:"/" + h.Oi.ping,name:h.Oi.ping,Yk:h.Oi.ping,Vm:1},k).then(function(m){return m.result;}).catch(function(m){throw l.uv(m);});};e=d;b.fDa=e;b.fDa=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.rn))],e);},46320:function(t,b,a){var n,c,h,f,e,g;function d(k,l,m,p){this.platform=k;this.config=l;this.T6=m;this.Iz=p;}Object.defineProperty(b,"__esModule",{value:!0});b.qDa=void 0;t=a(22970);n=a(22674);c=a(4203);h=a(91581);f=a(2492);e=a(56800);g=a(24735);d.prototype.transform=function(k){var l,m,p;l=this;m=k.mb;p={$e:void 0};return Promise.all([this.Iz.Kvb(p),this.Iz.Mvb(p),this.T6.$Pa(g.Tq.Zq)]).then(function(r){var q,u;q=Fa(r);r=q.next().value;u=q.next().value;q=q.next().value;return [{viewableId:k.J,packageId:m.ds,assetId:m.o6,challenge:q.jKa,audioProfiles:r.$na(),textProfiles:l.config().oB,trickplayProfiles:["BIF240","BIF320"],videoProfiles:u.$na(),audioLanguages:m.I5b,textLanguages:m.NQc,videoLanguages:m.vPb?[m.vPb]:void 0,videoAspectRatios:m.sPb?[m.sPb]:void 0,requestReference:m.sYa,additionalAudioAssets:m.a4b,additionalTextAssets:m.d4b,useBetterTextUrls:!0},{TF:null === q || void 0 === q?void 0:q.ao,yr:"studioManifest",s6:r,Kea:u}];});};a=d;b.qDa=a;b.qDa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.Ps)),t.__param(1,(0,n.u)(c.Fc)),t.__param(2,(0,n.u)(f.zfa)),t.__param(3,(0,n.u)(e.rU))],a);},52137:function(t,b,a){var n,c,h,f,e;function d(g){return h.lo.call(this,g,c.ca.pdb,f.no.resume,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.vEa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(88496);f=a(87607);a=a(83998);Ia(d,h.lo);e=d;b.vEa=e;b.vEa=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.rn))],e);},69740:function(t,b,a){var n,c,h,f,e;function d(g){return h.lo.call(this,g,c.ca.Wdb,f.no.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZEa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(88496);f=a(87607);a=a(83998);Ia(d,h.lo);e=d;b.ZEa=e;b.ZEa=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.rn))],e);},84860:function(t,b,a){var n,c,h,f,e;function d(g){return h.lo.call(this,g,c.ca.aZb,f.no.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aFa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(88496);f=a(87607);a=a(83998);Ia(d,h.lo);e=d;b.aFa=e;b.aFa=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.rn))],e);},35329:function(t,b,a){var n,c,h,f,e;function d(g){return h.lo.call(this,g,c.ca.z4,f.no.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.eFa=void 0;t=a(22970);n=a(22674);c=a(36129);h=a(88496);f=a(87607);a=a(83998);Ia(d,h.lo);e=d;b.eFa=e;b.eFa=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.rn))],e);},85432:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m,p,r){this.performance=m;this.config=r;this.A6=[];this.log=p.ub("PboBackoffManager");}Object.defineProperty(b,"__esModule",{value:!0});b.PCa=void 0;t=a(22970);n=a(22674);c=a(87386);h=a(63368);f=a(5021);e=a(79542);g=a(81378);k=a(72639);a=a(7605);l=[].concat(Aa(g.e3a),Aa(k.f3a));d.prototype.dHc=function(m,p){var r;if(this.config.aNa && (0,e.mHb)(l,p) && (m=(null !== m && void 0 !== m?m:{})["x-netflix.playapi.backoff"]))try{r=JSON.parse(m);this.LTc(r);this.log.debug("Adding backoff",r);this.A6.push({KYa:r.retryAfterSeconds,WJc:r.requestTypes,By:r.viewableIds,l6b:this.performance.now()});}catch(q){}};d.prototype.Llc=function(m,p){var r,q,u;r=this;if(this.config.aNa){q=this.performance.now();this.S9b(q);u=this.A6.filter(function(v){return (0,e.mHb)(v.WJc,m);}).filter(function(v){return void 0 === v.By || 0 === v.By.length || v.By.includes(p);});if(0 !== u.length){if(m.startsWith("prefetch"))return (this.log.debug("getBackoff: cancelling " + m + " request for " + p),{KW:!0});u=u.map(function(v){return r.vvb(v,q);}).reduce(function(v,w){return 0 < w.vm(v)?w:v;},(0,f.Ji)(0));this.log.debug("getBackoff: delaying " + m + " request for " + p + " for " + u.oa(f.ya) + "ms");return {KW:!1,yKc:u};}}};d.prototype.LTc=function(m){if("number" !== typeof m.retryAfterSeconds)throw Error("retryAfterSeconds is not a number");if(!Array.isArray(m.requestTypes))throw Error("requestTypes is not an array");if(0 === m.requestTypes.length)throw Error("requestTypes is empty");if(!m.requestTypes.every(function(p){return "string" === typeof p;}))throw Error("requestTypes contains a non-string element");if(void 0 !== m.viewableIds){if(!Array.isArray(m.viewableIds))throw Error("viewableIds is not an array");if(!m.viewableIds.every(function(p){return "number" === typeof p;}))throw Error("viewableIds contains a non-number element");}};d.prototype.S9b=function(m){for(var p=this.A6.length - 1;0 <= p;)(this.vvb(this.A6[p],m).uSa() || this.A6.splice(p,1),--p);};d.prototype.vvb=function(m,p){p=(0,f.ec)(p).ea((0,f.ec)(m.l6b));return (0,f.Ji)(m.KYa).ea(p);};g=d;b.PCa=g;b.PCa=g=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.dha)),t.__param(1,(0,n.u)(c.yb)),t.__param(2,(0,n.u)(a.Py))],g);},17705:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m,p,r,q){m=c.Gf.call(this,m,"PboConfigImpl") || this;m.config=p;m.G4b=r;m.Vf=q;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.UCa=void 0;t=a(22970);n=a(22674);c=a(64174);h=a(83767);f=a(12501);e=a(4203);g=a(24747);k=a(5614);l=a(5021);Ia(d,c.Gf);Ha.Object.defineProperties(d.prototype,{uiVersion:{configurable:!0,enumerable:!0,get:function(){return this.config().hv.uiVersion || "";}},uiPlatform:{configurable:!0,enumerable:!0,get:function(){return this.config().hv.uiPlatform || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().hv.$Wa;}},syb:{configurable:!0,enumerable:!0,get:function(){return !1;}},AZa:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isLogsApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.G4b.xlb,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"},prefetchLiveAds:{service:"prefetchLiveAds",isPlayApiDirect:!0,version:"1"},aleProvision:{service:"pbo_tokens",version:"^1.0.0",orgOverride:"nrdjs"}},this.bKb);}},bKb:{configurable:!0,enumerable:!0,get:function(){return {};}},AHb:{configurable:!0,enumerable:!0,get:function(){return !1;}},$Qa:{configurable:!0,enumerable:!0,get:function(){return 10;}},Rjb:{configurable:!0,enumerable:!0,get:function(){return !1;}},mC:{configurable:!0,enumerable:!0,get:function(){return this.Vf.mC;}},UJ:{configurable:!0,enumerable:!0,get:function(){return this.Vf.UJ;}},LT:{configurable:!0,enumerable:!0,get:function(){return this.Vf.LT;}},fPb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Qqb:{configurable:!0,enumerable:!0,get:function(){return !0;}},ZOb:{configurable:!0,enumerable:!0,get:function(){return [];}},Uqb:{configurable:!0,enumerable:!0,get:function(){return !0;}},Vqb:{configurable:!0,enumerable:!0,get:function(){return !1;}},KX:{configurable:!0,enumerable:!0,get:function(){return this.Vf.KX;}},kla:{configurable:!0,enumerable:!0,get:function(){return this.Vf.kla;}},timeout:{configurable:!0,enumerable:!0,get:function(){return (0,l.Ji)(59);}},aNa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=d;b.UCa=a;t.__decorate([f.config(f.string,"uiVersion")],a.prototype,"uiVersion",null);t.__decorate([f.config(f.string,"uiPlatform")],a.prototype,"uiPlatform",null);t.__decorate([f.config(f.uy,"pboVersion")],a.prototype,"version",null);t.__decorate([f.config(f.string,"pboOrganization")],a.prototype,"organization",null);t.__decorate([f.config(f.$0,"pboLanguages")],a.prototype,"languages",null);t.__decorate([f.config(f.jd,"hasLimitedPlaybackFunctionality")],a.prototype,"syb",null);t.__decorate([f.config(f.object(),"pboCommands")],a.prototype,"AZa",null);t.__decorate([f.config(f.object(),"pboCommandsOverride")],a.prototype,"bKb",null);t.__decorate([f.config(f.jd,"pboRecordHistory")],a.prototype,"AHb",null);t.__decorate([f.config(f.uy,"pboHistorySize")],a.prototype,"$Qa",null);t.__decorate([f.config(f.jd,"pboAddXEsnHeader")],a.prototype,"Rjb",null);t.__decorate([f.config(f.jd,"combineManifestAndLicense")],a.prototype,"mC",null);t.__decorate([f.config(f.jd,"enableLicensedManifestForPrefetch")],a.prototype,"UJ",null);t.__decorate([f.config(f.jd,"useLdlForPrefetchLicensedManifest")],a.prototype,"LT",null);t.__decorate([f.config(f.jd,"pboUseStudioManifest")],a.prototype,"fPb",null);t.__decorate([f.config(f.jd,"pboEnableLeanManifest")],a.prototype,"Qqb",null);t.__decorate([f.config(f.jd,"useHeaderForRequestNames")],a.prototype,"ZOb",null);t.__decorate([f.config(f.jd,"pboEnableV2OptimizedManifest")],a.prototype,"Uqb",null);t.__decorate([f.config(f.jd,"pboEnableV3Manifest")],a.prototype,"Vqb",null);t.__decorate([f.config(f.jd,"pboEnableManifestPartialHydrationSupport")],a.prototype,"KX",null);t.__decorate([f.config(f.$0,"pboContentPlaygraphTypes")],a.prototype,"kla",null);t.__decorate([f.config(f.Sn,"pboTimeout")],a.prototype,"timeout",null);t.__decorate([f.config(f.jd,"enablePboBackoff")],a.prototype,"aNa",null);b.UCa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.uo)),t.__param(1,(0,n.u)(e.Fc)),t.__param(2,(0,n.u)(g.gfa)),t.__param(3,(0,n.u)(k.cV))],a);},71976:function(t,b,a){var h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D;function d(F){this.config=F;this.JF=[];}function n(F,G,E){this.Ua=F;this.transport=G;this.context=E;this.startTime=this.Ua.wc();}function c(F,G,E,H,J,L,K,M,P,I,O,Q){this.MNb=G;this.json=E;this.Ua=H;this.jG=J;this.GXa=L;this.ud=K;this.config=M;this.jc=P;this.receiver=I;this.bVc=O;this.gFb=Q;this.log=F.ub("Pbo");M.AHb && (this.JF=new d(M));this.transport=this.MNb();}Object.defineProperty(b,"__esModule",{value:!0});b.VCa=void 0;t=a(22970);h=a(22674);f=a(5021);e=a(14543);g=a(87386);k=a(63368);l=a(81918);m=a(34231);p=a(10306);r=a(53085);q=a(71977);u=a(7605);v=a(15160);w=a(85001);x=a(19114);y=a(45385);z=a(15348);B=a(91176);A=a(82229);a=a(17391);C={"shakti-":"akira"};c.prototype.send=function(F,G){var E;E=new n(this.Ua,this.transport,F);this.JF && this.JF.append(E);return this.pZa(F,G,E);};c.prototype.pZa=function(F,G,E){var H;H=this;return new Promise(function(J,L){H.retry(F,G).then(function(K){var M,P;H.TLc(K);M=Fa(H.OTc(K));P=M.next().value;M=M.next().value;P && (H.receiver.AXa({command:F.yr,url:F.url,inputs:G,outputs:P}),H.l$b(E),J(K));M && (H.mnb(E,M),L(M));}).catch(function(K){var M;H.receiver.AXa({command:F.yr,inputs:G,outputs:K,url:F.url});M=H.mnb(E,K);K.jf && (K.jf=[K.jf," ",M].join(""));L(K);});});};c.prototype.TLc=function(F){(F=F.serverTime) && this.jc.kd(w.oAa.$Jb,(0,f.ec)(F));};c.prototype.OTc=function(F){var G;!1;G=F.result;if(("deviceCommand" in F)){F=F.deviceCommand;this.log.trace("Received device command '" + F + "'");switch(F){case "reset":G="RESET_DEVICE";break;case "reload":G="RELOAD_DEVICE";break;case "exit":G="EXIT_DEVICE";break;default:(G="FAIL",this.log.error("Unhandled device command '" + F + "'"));}return [,{eH:!0,code:G,detail:{message:"Server sent device action to '" + F + "' device"}}];}if(G)return (!1,[G,void 0]);if(F.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",F),[,{code:F.code,detail:{message:F.message}}]);this.log.error("Response did not contain a result or an error",F);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};c.prototype.D5b=function(F,G,E){var H,J;H=this;this.mTc(G,F);this.transport=this.MNb(E);return this.transport.send(G,E).then(function(L){J=L.headers;return {retry:!1,iFb:y.aha.kEc(H.json,L.body),headers:J};}).catch(function(L){var K,M;J=null !== J && void 0 !== J?J:L.headers;K=H.bVc.rpc(J);M=y.aha.Ync(L,K);M=void 0 !== M?Math.min(M,G.Vm):G.Vm;return H.xs(G,L,F,M)?(K=H.h8b(K,F,M),H.log.warn("Method failed, retrying",Object.assign({Method:G.yr,Attempt:F + 1,WaitTime:K,MaxRetries:M},H.XLa(L))),Promise.resolve({retry:!0,delay:K,error:L,headers:J})):Promise.resolve({retry:!1,error:L,headers:J});});};c.prototype.olc=function(F){var G,E;if(!this.cIa || this.cIa.nDc !== F){G="";E=F;Object.entries(C).find(function(H){var J;J=Fa(H);H=J.next().value;J=J.next().value;if(0 === F.indexOf(H))return (G=J,F=F.slice(H.length),!0);});this.cIa={fnb:G,uiVersion:F,nDc:E};}return this.cIa;};c.prototype.mTc=function(F,G){var E,H,J,L;L=F.url.searchParams;L.set(x.JB.Bdb,(G + 1).toString());this.config.ZOb.includes(F.Yk)?F.headers[x.CYb.uEa]=F.Yk:L.set(x.JB.uEa,F.Yk);L.set(x.JB.Cdb,F.requestId);F.J && L.set(x.JB.VVb,encodeURIComponent(F.J));F=this.olc(null !== (E=this.config.uiVersion) && void 0 !== E?E:"");F.fnb && (L.set(x.JB.V4a,F.fnb),F.uiVersion && L.set(x.JB.Lfb,encodeURIComponent(F.uiVersion)),E=this.jG.Ge,(null === E || void 0 === E?0:E.name) && L.set(x.JB.l4a,encodeURIComponent(E.name)),(null === E || void 0 === E?0:E.version) && L.set(x.JB.m4a,encodeURIComponent(E.version)),(null === (H=null === E || void 0 === E?void 0:E.os) || void 0 === H?0:H.name) && L.set(x.JB.Rab,encodeURIComponent(E.os.name)),(null === (J=null === E || void 0 === E?void 0:E.os) || void 0 === J?0:J.version) && L.set(x.JB.Sab,encodeURIComponent(E.os.version)));};c.prototype.retry=function(F,G,E){var H,J;H=this;E=void 0 === E?0:E;if(void 0 !== F.J){J=this.gFb.Llc(F.Yk,F.J);if(J){if(J.KW)throw {pboc:!1,code:"FAIL",detail:{message:"The request is cancelled because of the backoff"}};return this.wait(F.bJ,J.yKc).then(function(){return H.retry(F,G,E);});}}return this.D5b(E++,F,G).then(function(L){H.receiver.AXa({command:F.yr + "-attempt",inputs:G,outputs:L,url:F.url});H.gFb.dHc(L.headers,F.Yk);if(L.retry)return H.wait(F.bJ,L.delay).then(function(){return H.retry(F,G,E);});if(L.error)throw L.error;if(void 0 === L.iFb)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return L.iFb;});};c.prototype.xs=function(F,G,E,H){var J;J=y.aha.vuc(G);if(J && E < H)return !0;J?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:F.yr,Attempt:E + 1,MaxRetries:H},this.XLa(G))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:F.yr},this.XLa(G)));return !1;};c.prototype.h8b=function(F,G,E){F=null === F || void 0 === F?void 0:F.KYa;if(void 0 !== F)return (0,f.Ji)(F);F=1E3 * (0 === G?1:G);G=1E3 * Math.pow(2,Math.min(G,E));return (0,f.ec)(this.GXa.cHb(F,G));};c.prototype.wait=function(F,G){var E,H;E=this;H=new Promise(function(J){E.ud.Aq(G || f.ia,J);});return F?(0,B.aHb)(F,H,!0):H;};c.prototype.XLa=function(F){return (0,q.ppa)(F)?F:{message:F.message,subCode:F.subCode,extCode:F.extCode,mslCode:F.YG,data:F.data};};c.prototype.l$b=function(F){F.d1();};c.prototype.mnb=function(F,G){var E;F.kf(G);if(this.JF)try{E=this.json.stringify(this.JF);this.log.error("PBO command history",E);return E;}catch(H){}return "";};D=c;b.VCa=D;b.VCa=D=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(g.yb)),t.__param(1,(0,h.u)(e.Efb)),t.__param(2,(0,h.u)(k.HU)),t.__param(3,(0,h.u)(l.$d)),t.__param(4,(0,h.u)(m.Ls)),t.__param(5,(0,h.u)(p.wha)),t.__param(6,(0,h.u)(r.kl)),t.__param(7,(0,h.u)(u.Py)),t.__param(8,(0,h.u)(v.Fza)),t.__param(9,(0,h.u)(z.oDa)),t.__param(10,(0,h.u)(A.Hgb)),t.__param(11,(0,h.u)(a.Ebb))],D);n.prototype.d1=function(){this.success=!0;this.elapsedTime=this.Ua.wc().ea(this.startTime);};n.prototype.kf=function(F){this.success=!1;this.elapsedTime=this.Ua.wc().ea(this.startTime);this.OPc=F.subCode || F.subCode;this.Vic=F.extCode || F.extCode;};n.prototype.toString=function(){return JSON.stringify(this);};n.prototype.toJSON=function(){var F;F=Object.assign({success:this.success,method:this.context.yr,startTime:this.startTime.oa(f.ya),elapsedTime:this.elapsedTime?this.elapsedTime.oa(f.ya):"in progress"},this.transport.cLa());return this.success?F:Object.assign(Object.assign(Object.assign({},F),this.transport.cLa()),{subcode:this.OPc,extcode:this.Vic});};d.prototype.append=function(F){this.JF.push(F);0 < this.config.$Qa && this.JF.length > this.config.$Qa && this.JF.shift();};d.prototype.toJSON=function(){return this.JF;};},45385:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.aha=void 0;n=a(36129);d.vuc=function(c){var h,f;h=c && c.code;f=c && (c.Sa || c.subCode);c=c.extCode !== n.jga.Cbb;f=!!f && f >= n.Y.C3 && f <= n.Y.z3 && c;return !("RETRY" !== h && "FAIL" !== h) || f;};d.Ync=function(c,h){h=null === h || void 0 === h?void 0:h.JZ;return void 0 !== h?h:"FAIL" === (null === c || void 0 === c?void 0:c.code)?1:void 0;};d.kEc=function(c,h){var f;if(h){try{f=c.parse(h);}catch(e){throw {eH:!0,code:"FAIL",message:"Unable to parse the response body",data:h};}if(f.error)throw f.error;if(f.result){if(Array.isArray(f.result) && (c=f.result.find(function(e){return e.error;})))throw c.error;return f;}throw {eH:!0,code:"FAIL",message:"There is no result property on the response"};}throw {eH:!0,code:"FAIL",message:"There is no body property on the response"};};b.aha=d;},23632:function(t,b,a){var n,c,h;function d(f,e){this.mP=e;this.log=f.ub("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.aDa=void 0;t=a(22970);n=a(22674);c=a(87386);a=a(33554);d.prototype.zIa=function(f){f && (!1,this.links=Object.assign(Object.assign({},this.links),f));};d.prototype.AY=function(f){!1;return this.links[f];};h=d;b.aDa=h;b.aDa=h=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.yb)),t.__param(1,(0,n.u)(a.xB))],h);},17108:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.nDa=void 0;t=a(22970);a=a(22674);d.prototype.KMc=function(c){this.listener=c;};d.prototype.AXa=function(c){var h;null === (h=this.listener) || void 0 === h?void 0:h.call(this,c);};n=d;b.nDa=n;b.nDa=n=t.__decorate([(0,a.$)()],n);},91918:function(t,b,a){var c,h;function d(f,e,g,k,l,m,p){this.version=f;this.url=e;this.id=g;this.languages=k;this.Bb=l;this.qgc=m;this.cAc=p;}function n(f){this.Ii=f;}Object.defineProperty(b,"__esModule",{value:!0});b.pDa=void 0;t=a(22970);c=a(22674);a=a(7605);n.prototype.create=function(f,e,g,k,l){return new d(this.Ii.version,e,f,this.Ii.languages,g,k,l);};h=n;b.pDa=h;b.pDa=h=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(a.Py))],h);d.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Bb,echo:this.qgc};};},97361:function(t,b,a){var n,c;function d(h){this.log=h.ub("ZuulRetryPolicyParser");}Object.defineProperty(b,"__esModule",{value:!0});b.aGa=void 0;t=a(22970);n=a(22674);a=a(87386);d.prototype.rpc=function(h){var f,e;try{f=h["x-netflix.retry.server.policy"];if(f){e=JSON.parse(f);this.PTc(e);return {KYa:e.retryAfterSeconds,JZ:e.maxRetries};}}catch(g){!1;}};d.prototype.PTc=function(h){if(void 0 !== h.retryAfterSeconds && "number" !== typeof h.retryAfterSeconds)throw Error("retryAfterSeconds is not a number");if(void 0 !== h.maxRetries && "number" !== typeof h.maxRetries)throw Error("maxRetries is not a number");};c=d;b.aGa=c;b.aGa=c=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.yb))],c);},5652:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;t=a(22674);d=a(70865);n=a(14543);c=a(60204);h=a(89146);f=a(74429);e=a(34231);b.transports=new t.we(function(g){g(d.aia).to(f.wFa).pa();g(n.iab).to(c.eCa);g(n.Ieb).to(h.$Ea);g(n.Efb).Pf(function(k){return function(l){var m;return k.Gb.get(d.aia).$S(null !== (m=null === l || void 0 === l?void 0:l.cAc) && void 0 !== m?m:e.Bw.JN)?k.Gb.get(n.iab):k.Gb.get(n.Ieb);};});});},14543:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Efb="TransportFactorySymbol";b.iab="MslTransportSymbol";b.Ieb="SslTransportSymbol";},70865:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.aia="TransportConfigSymbol";},60204:function(t,b,a){var n,c,h,f,e,g;function d(k,l,m){var p;p=this;this.lL=l;this.profile=m;this.log=k.ub("MslTransport");this.lL().then(function(r){return p.Yqa=r;});}Object.defineProperty(b,"__esModule",{value:!0});b.eCa=void 0;t=a(22970);n=a(22674);c=a(87386);h=a(97996);f=a(5021);a=a(71501);e={license:!0};d.prototype.send=function(k,l){var m,p;m=this;p={BR:Object.assign({He:k.He,log:k.log,profile:this.profile},k.zJa),method:k.yr,url:k.url.href,body:JSON.stringify(l),timeout:k.timeout.oa(f.ya),jPb:this.profile,uJc:!e[k.yr],aDb:!!e[k.yr],Kz:!0,LS:k.Vm,headers:k.headers};!1;return this.lL().then(function(r){return r.send(p).catch(function(q){var u;if(!q.error)throw (q.subCode=q.Sa || q.subCode,q);u=q.error;u.headers=q.headers;m.log.error("Error sending MSL request",{mslCode:u.YG,subCode:u.subCode,data:u.data,message:u.message});throw u;});});};d.prototype.cLa=function(){var k;return {userTokens:null === (k=this.Yqa) || void 0 === k?void 0:k.AR.vQa()};};g=d;b.eCa=g;b.eCa=g=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.yb)),t.__param(1,(0,n.u)(h.f4)),t.__param(2,(0,n.u)(a.eV))],g);},89146:function(t,b,a){var n,c,h,f;function d(e,g){this.He=g;this.log=e.ub("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ea=void 0;t=a(22970);n=a(22674);c=a(5021);h=a(87386);a=a(32934);d.prototype.send=function(e,g){var k,l;k=this;l={url:e.url.href,NJ:"nq-" + e.yr,ZFb:JSON.stringify(g),ila:e.timeout.oa(c.ya),headers:e.headers,withCredentials:!0,my:"pbo"};!1;return new Promise(function(m,p){k.He.download(l,function(r){r.success?m(r):p(r);});}).then(function(m){return {body:m.content,headers:m.headers};}).catch(function(m){var p;if(!m.error)throw (m.subCode=m.Sa || m.subCode,m);p=m.error;p.headers=m.headers;k.log.error("Error sending SSL request",{subCode:p.subCode,data:p.content,message:p.message});throw p;});};d.prototype.cLa=function(){return {};};f=d;b.$Ea=f;b.$Ea=f=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.yb)),t.__param(1,(0,n.u)(a.DB))],f);},74429:function(t,b,a){var n,c,h,f,e;function d(g){return c.Gf.call(this,g,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.wFa=void 0;t=a(22970);n=a(22674);c=a(64174);h=a(83767);f=a(12501);e=a(34231);Ia(d,c.Gf);d.prototype.$S=function(g){var k,l;k=this.G1;l=this.gkb;switch(g){case e.Bw.JN:return k;case e.Bw.Pcb:return k && !l;case e.Bw.Eab:return !1;}};Ha.Object.defineProperties(d.prototype,{G1:{configurable:!0,enumerable:!0,get:function(){return !0;}},gkb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=d;b.wFa=a;t.__decorate([f.config(f.jd,"usesMsl")],a.prototype,"G1",null);t.__decorate([f.config(f.jd,"allowRequestsWithoutMsl")],a.prototype,"gkb",null);b.wFa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.uo))],a);},75236:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cia="UserAgentDataProviderSymbol";b.$fb="UserAgentDataAsyncProviderSymbol";},92623:function(t,b,a){var e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A;function d(C,D,F){this.sm=C;this.groups=D;this.QI=F;C=v(C,D,F);this.info=C.info.bind(C);this.fatal=C.fatal.bind(C);this.error=C.error.bind(C);this.warn=C.warn.bind(C);this.trace=C.trace.bind(C);this.debug=C.debug.bind(C);this.log=C.log.bind(C);}function n(){}function c(){}function h(){return u?u:"0.0.0.0";}function f(C){C({h9c:0,nad:0,e6c:0,I4c:0});}e=a(90745);n.prototype.set=function(C,D){l[C]=D;m.save(C,D);};n.prototype.get=function(C,D){if(l.hasOwnProperty(C))return l[C];q.trace("key: " + C + ", is not available in storage cache and needs to be retrieved asynchronously");m.load(C,function(F){F.success?(l[C]=F.data,D && D(F.data)):l[C]=void 0;});};n.prototype.remove=function(C){m.remove(C);};n.prototype.clear=function(){q.info("WARNING: Calling unimplemented function Storage.clear()");};c.prototype.now=function(){return p();};c.prototype.ha=function(){return r();};c.prototype.Vqa=function(C){return C + p() - r();};c.prototype.Era=function(C){return C + r() - p();};d.prototype.Kob=function(C){var D;D=[];this.QI && Array.isArray(this.QI)?D.push.apply(D,Aa(this.QI)):this.QI && D.push(this.QI);D.push(C);return new d(this.sm,this.groups,D);};Ha.Object.defineProperties(d.prototype,{prefix:{configurable:!0,enumerable:!0,get:function(){return Array.isArray(this.QI)?this.QI.join(" "):this.QI;}}});w=(function(){var C;C=Promise;C.prototype.fail=Promise.prototype.catch;return C;})();t.exports=function(C){g=C.Ksa;v=C.Fm;m=C.storage;l=C.cR;p=C.soc;r=C.getTime;q=C.g5b;x=C.Xl;A=C.Zl;y=C.I2;z=C.SourceBuffer;B=C.MediaSource;u=C.C6c;k=C.oC;return {name:"cadmium",oC:k,Ksa:g,storage:new n(),Storage:n,time:new c(),events:new e.EventEmitter(),console:new d("JS-ASE",void 0,"default"),Console:d,options:{},Promise:w,Xl:x,I2:y,mZc:z,MediaSource:B,Zl:A,gD:{name:h},memory:{y5c:f},CY:C.CY,Cla:C.Cla,JJ:C.JJ,vma:C.vma,ping:function(D){fetch(D).catch(function(){});}};};},87141:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t.exports=function(a){return {minInitVideoBitrate:a.Px,maxInitVideoBitrate:a.zA,minInitAudioBitrate:a.Ox,maxInitAudioBitrate:a.Ot,minAllowedVideoBitrate:a.yR,maxAllowedVideoBitrate:a.taa,switchableAudioProfiles:a.vp,switchableAudioProfilesOverride:a.KH,minAcceptableVideoBitrate:a.xR,minRequiredBuffer:a.Qx,minPrebufSize:a.fp,minCheckBufferingCompleteInterval:a.Kaa,rebufferingFactor:a.aca,useMaxPrebufSize:a.Bea,maxPrebufSize:a.aD,maxRebufSize:a.zaa,maxBufferingTime:a.Yr,minAudioMediaRequestSizeBytes:a.Lqa,minVideoMediaRequestSizeBytes:a.Pqa,initialBitrateSelectionCurve:a.zK,throughputPercentForAudio:a.tT,bandwidthMargin:a.C6,bandwidthMarginContinuous:a.D6,bandwidthMarginCurve:a.E6,conservBandwidthMargin:a.g7,switchConfigBasedOnInSessionTput:a.Mda,conservBandwidthMarginTputThreshold:a.i7,conservBandwidthMarginCurve:a.h7,maxTotalBufferLevelPerSession:a.qR,skipBitrateInUpswitch:a.qda,watermarkLevelForSkipStart:a.Sea,highStreamRetentionWindow:a.S9,lowStreamTransitionWindow:a.gaa,highStreamRetentionWindowUp:a.U9,lowStreamTransitionWindowUp:a.iaa,highStreamRetentionWindowDown:a.T9,lowStreamTransitionWindowDown:a.haa,highStreamInfeasibleBitrateFactor:a.R9,lowestBufForUpswitch:a.xA,lockPeriodAfterDownswitch:a.iR,lowWatermarkLevel:a.kaa,lowestWaterMarkLevel:a.yA,lowestWaterMarkLevelBufferRelaxed:a.maa,mediaRate:a.sR,maxTrailingBufferLen:a.QG,audioBufferTargetAvailableSize:a.q6,videoBufferTargetAvailableSize:a.Hea,fastUpswitchFactor:a.bY,fastDownswitchFactor:a.u8,maxMediaBufferAllowed:a.PG,simulatePartialBlocks:a.Qua,considerConnectTime:a.j7,connectTimeMultiplier:a.f7,maxNetworkErrorsDuringBuffering:a.uqa,maxBufferingTimeAllowedWithNetworkError:a.uaa,locationStatisticsUpdateInterval:a.caa,probeServerWhenError:a.jH,allowSwitchback:a.HO,probeDetailDenominator:a.kta,maxDelayToReportFailure:a.IZ,maxActiveRequestsSABCell100:a.qqa,headerRequestSize:a.O9,estimateHeaderSize:a.SX,minBufferLenForHeaderDownloading:a.TZ,pipelineEnabled:a.gs,maxParallelConnections:a.vqa,socketReceiveBufferSize:a.w_a,audioSocketReceiveBufferSize:a.t6,videoSocketReceiveBufferSize:a.Mea,headersSocketReceiveBufferSize:a.Boa,aseReportDenominator:a.Tu,aseReportIntervalMs:a.qz,prebufferTimeLimit:a.T_,penaltyFactorForLongConnectTime:a.Bsa,longConnectTimeThreshold:a.gqa,additionalBufferingLongConnectTime:a.Jja,additionalBufferingPerFailure:a.Kja,rebufferCheckDuration:a.e0,enableOCSideChannel:a.CP,OCSCBufferQuantizationConfig:a.j4,defaultHeaderCacheSize:a.Ila,defaultHeaderCacheDataPrefetchMs:a.Hla,networkFailureResetWaitMs:a.fra,networkFailureAbandonMs:a.dra,maxThrottledNetworkFailures:a.Aaa,throttledNetworkFailureThresholdMs:a.Uda,lowThroughputThreshold:a.hqa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Gma,requireAudioStreamToEncompassVideo:a.HS,enableManagerDebugTraces:a.$Ma,netIntrStoreWindow:a.GCb,minNetIntrDuration:a.aCb,fastHistoricBandwidthExpirationTime:a.Qrb,bandwidthExpirationTime:a.nlb,failureExpirationTime:a.Mrb,expandDownloadTime:a.vrb,ignoreShortResponses:a.Hoa,minimumMeasurementTime:a.Sqa,minimumMeasurementBytes:a.Rqa,probingMeasurementTime:a.nta,probingMeasurementBytes:a.mta,historicBandwidthUpdateInterval:a.Nwb,ase_stream_selector:a.Okb,liveStreamSelectorAlgorithm:a.Y$,jointStreamSelectorEnabled:a.I$,enableFilters:a.Oqb,filterDefinitionOverrides:a.Yrb,defaultFilter:a.upb,secondaryFilter:a.rJb,defaultFilterDefinitions:a.cMa,bufferingSelectorAlgorithm:a.L6,ase_dump_fragments:a.zla,ase_location_history:a.Bla,secondThroughputEstimator:a.pua,marginPredictor:a.pqa,networkMeasurementGranularity:a.hra,maxIQRSamples:a.cUa,minIQRSamples:a.uUa,periodicHistoryPersistMs:a.zba,saveBitrateMs:a.Lca,needMinimumNetworkConfidence:a.$qa,biasTowardHistoricalThroughput:a.yka,maxFastPlayBufferInMs:a.rqa,minAudioMediaRequestDuration:a.CA,minVideoMediaRequestDuration:a.cD,minAudioMediaRequestDurationCache:a.CA,minVideoMediaRequestDurationCache:a.cD,addHeaderDataToNetworkMonitor:a.Aja,hindsightDenominator:a.WQa,hindsightDebugDenominator:a.VQa,hindsightParam:a.XQa,minimumTimeBeforeBranchDecision:a.Raa,maxNumSessionHistoryStored:a.yaa,minSessionHistoryDuration:a.Oaa,waitForDrmToAppendMedia:a.rwa,forceAppendHeadersAfterDrm:a.$ma,startMonitorOnLoadStart:a.Yua,reportFailedRequestsToNetworkMonitor:a.Qta,maxActiveRequestsPerSession:a.GZ,limitAudioDiscountByMaxAudioBitrate:a.Upa,appendFirstHeaderOnComplete:a.Xja,applyProfileTimestampOffset:a.mJ,profileTimestampOffsets:a.Sba,applyProfileStreamingOffset:a.Fh,mediaSourceSupportsNegativePts:a.Faa,requireDownloadDataAtBuffering:a.zca,requireSetupConnectionDuringBuffering:a.Aca,selectStartingVMAFMethod:a.aM,activateSelectStartingVMAF:a.XV,minStartingVideoVMAF:a.Mv,minAcceptableVMAF:a.wR,minAllowedVmaf:a.XG,enableCombinedPlaygraphs:a.xP,enableAdPlaygraphs:a.vC,enableLiveAdPlaygraphs:a.AP,enableLiveAdDynamicAutoskip:a.zP,retainSbrOnFade:a.w0,excludedContentPlaygraphIds:a.s8,enableDiscontiguousBuffering:a.GX,forceImmediateTransitionTypeForTitles:a.H8,forceImmediateTransitionExitZone:a.G8,useBufferSizeLimiter:a.XH,maxAllowedOutstandingRequests:a.HZ,minStreamableConcurrencyWindow:a.Paa,streamableConcurrencyFactor:a.Bda,bufferingConcurrencyWindow:a.RO,enableResolutionVMAFStreamFilter:a.NX,resolutionVMAFCappingRuleList:a.t0,percentCapTitlesForResolutionVMAFStreamFilter:a.xba,useExitZones:a.Aea,perFragmentVMAFConfig:a.WR,paddingDurationMs:a.lsa,paddingMediaType:a.msa,paddingCodecSelector:a.RR,supportsPtsChanged:a.e0a,ciPredictorSource:a.Wka,experimentalFilter:a.wrb,simulationDurationStrategy:a.Rua,pipelineHealthThresholdCriticalMs:a.Gsa,pipelineHealthThresholdLowMs:a.Hsa,enableRequestAbandonment:a.DP,requestAbandonmentLockIntervalMs:a.sca,streamModeAppendAttachThreshold:a.lva,minProbeIntervalMs:a.Maa,liveEdgeCushion:a.W$,enableLive5XXHandling:a.sma,liveStreamSelectorUseLatency:a.Z$,latencyMultiplierForLive:a.Npa,liveLowQualityAvoidance:a.Xpa,liveLowQualityThreshold:a.X$,liveLowQualityMultiplier:a.wZ,liveBufferRatioStrategy:a.Vpa,liveMaxUpswitchSteps:a.Ypa,enableConditionalServerTimeUpdate:a.nma,negligibleServerTimeDeltaDifference:a.bra,liveSwitchStreamsOnErrorInPipeline:a.bqa,enableMissingSegmentsReplacement:a.BP,simulateLiveEdge:a.bT,liveShouldAccountForPlayDelay:a.uTa,livePrefetchEnabled:a.$pa,decryptOCSideChannelMinInterval:a.D7,decryptOCSideChannelMinIntervalAfterCompleted:a.Gla,enableLiveOCSideChannelRefresh:a.IX,liveOCSideChannelRefreshInterval:a.yZ,liveRequestSpreadMs:a.aqa,liveConsiderSpreadInCushion:a.qTa,enableTwoPartLiveFragmentEditing:a.uma,liveSlowBufferFilling:a.gR,liveEarlyRequestProbability:a.Wpa,liveEarlyRequestDefaultOffsetMs:a.V$,supportLiveIdrMismatch:a.Fda,synthesizeLiveIdrMismatch:a.h1,alwaysRetainAds:a.g6,enableMediaEventsTrack:a.LX,syntheticAdBreakUx:a.Oda,enableMediaEventHistory:a.e8,enableLiveAdBreakReportingEvents:a.yP,enableBlackBoxNotification:a.wP,minimumPresentationDelayMs:a.Uk,liveEdgeSegmentSkipCount:a.dR,probeBeforeSwitchingBackToPrimary:a.Oba,minIntervalForSwitchingBackToPrimary:a.UZ,maxIntervalForSwitchingBackToPrimary:a.vaa,enableLiveRequestPacing:a.JX,logarithmicRequestPacingCurveCenterPositionMs:a.CZ,logarithmicRequestPacingCurveSharpness:a.DZ,maxLiveTargetBufferDurationMs:a.cL,enableSvodRequestPacing:a.g8,minSvodTargetBufferDurationMs:a.WZ,svodBufferGrowthRateSlope:a.e1,enableCprVideo:a.SJ,enableCprVideoNonPipelined:a.c8,enableInitialThroughputHistory:a.HX,enableActiveRequestsInFilters:a.FX};};},31594:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M,P,I;Object.defineProperty(b,"__esModule",{value:!0});b.bxc=function(O){O.load(d.nC,g.uT,n.CAb,k.Iz,c.oCb,h.ba,f.zPb,e.Pwb,l.storage,m.PO,p.Tlb,r.WAb,q.lL,u.Jo,v.logblobs,w.LCb,x.ctb,y.NGb,z.dS,B.wqb,A.Eqb,C.Df,D.fg,F.bb,G.xCb,E.fFb,H.j,J.vnb,L.transports,K.XC,M.vh,P.Skb,I.S);};d=a(28131);n=a(38385);c=a(56371);h=a(33194);f=a(36149);e=a(75950);g=a(40076);k=a(51259);l=a(62945);m=a(66393);p=a(6498);r=a(51770);q=a(7826);u=a(82656);v=a(21009);w=a(30698);x=a(63341);y=a(32754);z=a(72614);B=a(1891);A=a(49594);C=a(28838);D=a(99584);F=a(92692);G=a(12653);E=a(31360);H=a(65945);J=a(18880);L=a(5652);K=a(43367);M=a(87886);P=a(87284);I=a(81737);},83989:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.cd=void 0;t=a(22674);d=a(71501);n=a(88351);c=a(49594);h=a(83810);f=a(51120);e=a(31594);a=a(99198);b.cd=new t.Dfa({cT:!0});(0,e.bxc)(b.cd);b.cd.load(n.platform);b.cd.load(h.config);c.DX.load(f.Fqb);b.cd.load(a.rkb);b.cd.load(a.profile);b.cd.bind(d.J8a).xp(b.cd);},76892:function(t,b,a){var c,h,f,e,g,k;function d(){}function n(){}Object.defineProperty(b,"__esModule",{value:!0});b.GFa=b.HFa=void 0;t=a(22970);f=a(22674);a=a(22365);e={UC:!1,reason:"uninitialized"};g={UC:!1,reason:"uninitialized"};k=null === (h=null === (c=null === a.tg || void 0 === a.tg?void 0:a.tg.userAgentData) || void 0 === c?void 0:c.getHighEntropyValues) || void 0 === h?void 0:h.call(c,["architecture","platformVersion"]);null === k || void 0 === k?void 0:k.then(function(l){var m;m=l.architecture;e=m?{UC:!0,architecture:m}:{UC:!1,reason:"undefined"};g=(l=l.platformVersion)?{UC:!0,version:l}:{UC:!1,reason:"undefined"};}).catch(function(){e={UC:!1,reason:"exception"};g={UC:!1,reason:"exception"};});Ha.Object.defineProperties(n.prototype,{architecture:{configurable:!0,enumerable:!0,get:function(){return e;}},platformVersion:{configurable:!0,enumerable:!0,get:function(){return g;}}});c=n;b.HFa=c;b.HFa=c=t.__decorate([(0,f.$)()],c);Ha.Object.defineProperties(d.prototype,{architecture:{configurable:!0,enumerable:!0,get:function(){return Promise.resolve().then(function(){return null === k || void 0 === k?void 0:k.then(function(l){return l.architecture;});});}},platformVersion:{configurable:!0,enumerable:!0,get:function(){return Promise.resolve().then(function(){return null === k || void 0 === k?void 0:k.then(function(l){return l.platformVersion;});});}}});c=d;b.GFa=c;b.GFa=c=t.__decorate([(0,f.$)()],c);},25066:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.hmc=function(e){return Object.assign(Object.assign({},(0,f.X8)()),{jx:e.Cyb?"T":e.rpa?"Q":e.o$?"C":"M",ut:e.Cyb?"NFCDTS-01-":e.rpa?"NFCDQS-01-":e.nA?"NFCDCH-02-":e.OC?"NFCDCH-MC-":e.o$?"NFCDCH-01-":e.$oa?"NFCDCH-AP-":e.m$?"NFCDCH-AT-":e.LQ?"NFCDCH-PH-":"NFCDCH-LX-",MJ:e.o$?"chromeos-cadmium":"chrome-cadmium"});};b.fmc=function(e){var g,k,l,m,p,r;g=(0,f.W8)();k=Object.assign(Object.assign({},g),{mC:!0,UJ:!0,LT:!0});l=[c.H.lI];m=[c.H.wU];p={minimumCores:3};r={minimumCores:5};e.nA && (k.Th=[].concat(Aa((0,h.GA).apply(null,[g.Th].concat(Aa(l)))),Aa((0,h.qg)([c.H.tw,c.H.uw,c.H.PM,c.H.QM].concat(Aa(l),[c.H.vw,c.H.ww,c.H.SM,c.H.TM]),r))),k.$o=[].concat(Aa((0,h.GA).apply(null,[g.$o].concat(Aa(m)))),Aa((0,h.qg)([].concat(Aa(m)),r))),115 <= e.Yu && (k.Th=[].concat(Aa(k.Th),Aa((0,h.qg)([].concat(Aa(c.Gc.t2),Aa(c.Gc.kU),Aa(c.Gc.jU),Aa(c.Gc.iU),Aa(c.Gc.hU)))))));e.OC && (k.Th=[].concat(Aa((0,h.GA).apply(null,[g.Th].concat(Aa(l)))),Aa((0,h.qg)([c.H.tw,c.H.uw,c.H.PM,c.H.QM].concat(Aa(l),[c.H.vw,c.H.ww,c.H.SM,c.H.TM]),p))),k.$o=[].concat(Aa((0,h.GA).apply(null,[g.$o].concat(Aa(m)))),Aa((0,h.qg)([].concat(Aa(m)),p))));e.o$ && (k.Th=(0,h.qg)([].concat(Aa(c.Gc.V1),Aa(c.Gc.t2),Aa(c.Gc.jU),Aa(c.Gc.kU),Aa(c.Gc.hU),Aa(c.Gc.iU))),k.$o=(0,h.qg)([].concat(Aa(c.Gc.U1),Aa(c.Gc.wfa),Aa(c.Gc.vfa))));e.gSa && (k.Th=[].concat(Aa((0,h.GA).apply(null,[g.Th].concat(Aa(l)))),Aa((0,h.qg)([c.H.tw,c.H.uw].concat(Aa(l),[c.H.vw,c.H.ww]),r))));e.rpa && (k.qJ=(0,h.qg)([c.Lc.oo,c.Lc.vE,c.Lc.vo,c.Lc.dN,c.Lc.eN,c.Lc.fN]),k.Th=(0,h.qg)([].concat(Aa(c.Gc.V1),Aa(c.Gc.t2),Aa(c.Gc.jU),Aa(c.Gc.kU),Aa(c.Gc.hU),Aa(c.Gc.iU),Aa(c.Gc.Qxa))),k.$o=(0,h.qg)([].concat(Aa(c.Gc.U1),Aa(c.Gc.wfa),Aa(c.Gc.vfa))));return k;};b.gmc=function(e){var g;g={droppedFrameRateFilterEnabled:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:d.fr.oU,preciseSeeking:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,useEncryptedEvent:!1,applyProfileStreamingOffset:!0,applyProfileTimestampOffset:!0};80 <= e.Yu && (g=Object.assign(Object.assign({},g),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));e.m$ && (g=Object.assign(Object.assign({},g),{enableFullHdForHWDRM:!0}));e.o$ && (g=Object.assign(Object.assign({},g),{enableHWDRM:!1,enableHwdrmOnArm:!0,prepareLdlCacheMaxCount:15,enableFullHdForHWDRM:!0,enableAvcHighHwdrm:!0,enableHevcPrkHwdrm:!0}),89 <= e.Yu && (g=Object.assign(Object.assign({},g),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));115 <= e.Yu && e.nA && (g=Object.assign(Object.assign({},g),{enableHWDRM:!0,enableAvcHighHwdrm:!0,enableHevcPrkHwdrm:!0,disableDAISupportedForHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0,microsoftHwdrmRequiresHevc:!0,microsoftHwdrmRequiresQHD:!0,enableKeySystemRestrictor:!0,enableCachedErrors:!0,enableHEVC:!0,enableHdcp:!0,enableHDR:!0,validateKeySystemAccess:!0,keySystemList:[n.sb.vd,n.sb.iia],logKeySystemHasHwdrmAvailable:!0,enableNonSeamlessTransitions:!0,playreadySegmentTypesRequiringNonSeamlessTransitions:["paddingToContent","paddingToAd","contentToAd","contentToPadding"]}));if(e.nA || e.OC)g=Object.assign(Object.assign({},g),{enableFullHdForSWDRM:!0});e.nA && 99 <= e.Yu && (g=Object.assign(Object.assign({},g),{enableAV1:!0}));e.OC && 113 <= e.Yu && (g=Object.assign(Object.assign({},g),{enableAV1:!0}));e.gSa && 113 <= e.Yu && (g=Object.assign(Object.assign({},g),{enableAV1:!0}));(e.OC || e.nA) && 113 <= e.Yu && (g=Object.assign(Object.assign({},g),{enableXHEAAC:!0}));e.rpa && (g=Object.assign(Object.assign({},g),{enableHWDRM:!0,prepareCadmium:!1,prepareLdlCacheMaxCount:10,enableFullHdForHWDRM:!0,enableSeamless:!1,enableDDPlus51:!0,enableDDPlusAtmos:!0}));return g;};d=a(56800);n=a(17612);c=a(75568);h=a(88195);f=a(64232);},30837:function(t,b,a){var m,p,r,q,u,v,w;function d(x,y){var z,B;if(x)(z=1440 <= Ca.screen.height * Ca.devicePixelRatio,B=(x=f() && e() && (z || g() || n())) || h());else B=(x=null === (B=Ca.MSMediaKeys) || void 0 === B?void 0:B.isTypeSupported(p.sb.vd,u.Ec.sUa)) || (null === (z=Ca.MSMediaKeys) || void 0 === z?void 0:z.isTypeSupported(p.sb.HB,u.Ec.sUa));y && (x=B=!1);return {ouc:x,wyb:B};}function n(){var x;return !(null === (x=Ca.matchMedia) || void 0 === x || !x.call(Ca,"(dynamic-range: high)").matches);}function c(x,y){var z,B;try{return "probably" === (null === (B=null === (z=Ca.MSMediaKeys) || void 0 === z?void 0:z.isTypeSupportedWithFeatures) || void 0 === B?void 0:B.call(z,x,y));}catch(A){return !1;}}function h(){return c(p.sb.HB,u.Ec.rzc);}function f(){return c(p.sb.vd,"video/mp4;codecs=" + u.Ec.hE + ";features=" + w.Wl.HKa.join(","));}function e(){var x;return null === (x=Ca.MSMediaKeys) || void 0 === x?void 0:x.isTypeSupported(p.sb.vd,u.Ec.szc);}function g(){return c(p.sb.vd,"video/mp4;codecs=" + u.Ec.Vh + ";features=" + w.Wl.wOa.join(","));}function k(x){var y;x=x.data;return "false" !== (null !== (y=null === x || void 0 === x?void 0:x.enableHWDRMForHEVCAndQHDOnly) && void 0 !== y?y:"true").toString().toLowerCase();}function l(x){var y;x=x.data;return "true" === (null !== (y=null === x || void 0 === x?void 0:x.disablePlayReady) && void 0 !== y?y:"false").toString().toLowerCase();}Object.defineProperty(b,"__esModule",{value:!0});b.Kmc=function(x){return Object.assign(Object.assign({},(0,q.X8)()),{jx:"D",ut:x.OC?"NFCDIE-04-":x.gSa?"NFCDIE-LX-":x.$oa?"NFCDIE-AP-":x.m$?"NFCDIE-AT-":x.LQ?"NFCDIE-PH-":"NFCDIE-03-",MJ:"edge-cadmium"});};b.Imc=function(x){var y,z;y=Object.assign(Object.assign({},(0,q.W8)()),{qJ:(0,v.qg)([r.Lc.oo,r.Lc.vE,r.Lc.dN,r.Lc.eN,r.Lc.fN,r.Lc.vo]),Th:(0,v.qg)([].concat(Aa(r.Gc.V1),Aa(r.Gc.t2),Aa(r.Gc.jU),Aa(r.Gc.kU),Aa(r.Gc.hU),Aa(r.Gc.iU),Aa(r.Gc.v4a),Aa(r.Gc.w4a),Aa(r.Gc.Qxa))),$o:(0,v.qg)([].concat(Aa(r.Gc.U1),Aa(r.Gc.wfa),Aa(r.Gc.vfa))),Hx:void 0,a$:!1});z=k(x);x=l(x);d(z,x).wyb || (y.mC=!0,y.UJ=!0,y.LT=!0);return y;};b.w5c=d;b.Y5c=n;b.wva=c;b.Gda=h;b.iad=f;b.kad=e;b.jad=g;b.Jmc=function(x,y){var z,B,A,C;x=x.nA;z=k(y);y=l(y);z=d(z,y);y=z.wyb;B=z.ouc;A=(0,v.qg)([r.H.jI,r.H.kI]);C=(0,v.qg)([r.H.jI,r.H.kI,r.H.lI]);z={nudgeSourceBuffer:!0,audioCapabilityDetectorType:m.lE.CE,videoCapabilityDetectorType:m.fr.CE,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0,enableXHEAAC:!0,useEncryptedEvent:!1};B={prepareCadmium:!0,enableLdlPrefetch:!y || B,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};A={audioCapabilityDetectorType:m.lE.pE,videoCapabilityDetectorType:m.fr.oU,microsoftScreenSizeFilterEnabled:!1,keySystemList:[p.sb.iia],licenseRenewalRequestDelay:0,audioProfiles:(0,v.qg)([r.Lc.oo,r.Lc.vE,r.Lc.vo]),videoProfiles:x?C:A,liveVideoProfiles:(0,v.qg)([r.H.kN,r.H.lN]),droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0,enableFullHdForSWDRM:x?!0:!1};z=Object.assign(Object.assign({},z),B);x && (z=Object.assign(Object.assign({},z),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4}));return y?Object.assign(Object.assign({},z),{microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlus51:!0,enableDDPlusAtmos:!0,keySystemList:[p.sb.vd,p.sb.bYb],validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0,logKeySystemHasHwdrmAvailable:!0}):Object.assign(Object.assign({},z),A);};m=a(56800);p=a(17612);r=a(75568);q=a(64232);u=a(73796);v=a(88195);w=a(75456);},54534:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.$mc=function(e){return Object.assign(Object.assign({},(0,h.X8)()),{jx:"F",ut:e.OC?"NFCDFF-MC-":e.nA?"NFCDFF-02-":e.$oa?"NFCDFF-AP-":e.m$?"NFCDFF-AT-":e.LQ?"NFCDFF-PH-":"NFCDFF-LX-",MJ:"firefox-cadmium"});};b.Ymc=function(e){var g,k,l;g=(0,h.W8)();k=Object.assign(Object.assign({},g),{mC:!0,UJ:!0,LT:!0});l=[n.H.lI];e.nA && (k.Th=[].concat(Aa((0,c.GA).apply(null,[g.Th].concat(Aa(l)))),Aa((0,c.qg)([n.H.tw,n.H.uw].concat(Aa(l),[n.H.vw,n.H.ww]),{minimumCores:5}))),k.Th=[].concat(Aa(k.Th),Aa((0,c.qg)([].concat(Aa(n.Gc.kU),Aa(n.Gc.jU),Aa(n.Gc.iU),Aa(n.Gc.hU))))));e.OC && (k.Th=[].concat(Aa((0,c.GA).apply(null,[g.Th].concat(Aa(l)))),Aa((0,c.qg)([n.H.tw,n.H.uw].concat(Aa(l),[n.H.vw,n.H.ww]),{minimumCores:3}))));return k;};b.Zmc=function(e){var g;g={droppedFrameRateFilterEnabled:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:d.fr.oU,enableCDMAttestedDescriptors:!0,enablePRK:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0,applyProfileStreamingOffset:!0};e.nA && 144 <= e.Yu && (g=Object.assign(Object.assign({},g),{enableAvcHighHwdrm:!0,enableHevcPrkHwdrm:!0,microsoftClearLeadRequiresSwdrm:!0,prepareLdlCacheMaxCount:15,microsoftHwdrmRequiresHevc:!0,microsoftHwdrmRequiresQHD:!0,enableKeySystemRestrictor:!0,enableCachedErrors:!0,enableHEVC:!0,enableHdcp:!0,enableHDR:!0,validateKeySystemAccess:!0,enableFullHdForHWDRM:!0,keySystemList:[f.sb.dcb,f.sb.iia],logKeySystemHasHwdrmAvailable:!0}));(e.nA || e.OC) && 125 <= e.Yu && (g=Object.assign(Object.assign({},g),{enableFullHdForSWDRM:!0,enableAV1:!0}));134 <= e.Yu && (g=Object.assign(Object.assign({},g),{enableMediaCapabilities:!0}));return g;};d=a(56800);n=a(75568);c=a(88195);h=a(64232);f=a(17612);},64232:function(t,b,a){var n,c,h,f;function d(e,g){var k,l,m,p,r,q;k=e.LG;l=e.XZ;e=e.I_;m=g.LG;p=g.XZ;g=g.I_;r=void 0 === k || void 0 === m;q=r || void 0 === l || void 0 === p;return r || k > m || k === m && (q || l > p) || k === m && l === p && (q || void 0 === e || void 0 === g || e >= g);}Object.defineProperty(b,"__esModule",{value:!0});b.vyb=function(e,g,k,l){return d({LG:e.oDc,XZ:e.pDc,I_:e.qDc},{LG:g,XZ:k,I_:l});};b.Zxb=function(e,g){return d({LG:e.Yu},{LG:g});};b.a7c=d;b.X8=function(){return {version:"6.0053.800.912",Yqa:!0,pY:!0,vpb:["en-US"],HTa:"",Q7:"cadmium",lPb:!0,TIa:!0};};b.W8=function(){return {qJ:(0,f.qg)([h.Lc.oo,h.Lc.vE,h.Lc.vo]),Th:(0,f.qg)([].concat(Aa(h.Gc.V1))),$o:(0,f.qg)([].concat(Aa(h.Gc.U1))),Hx:c.sb.iia,OG:(0,n.ec)(31E3)};};n=a(5021);c=a(17612);h=a(75568);f=a(88195);},20447:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});b.xoc=function(f){return Object.assign(Object.assign({},(0,h.X8)()),{jx:"O",ut:f.$oa?"NFCDOP-AP-":f.m$?"NFCDOP-AT-":f.LQ?"NFCDOP-PH-":"NFCDOP-01-",MJ:"opera-cadmium"});};b.voc=function(f){var e,g,k,l,m,p;e=(0,h.W8)();g=Object.assign(Object.assign({},e),{mC:!0,UJ:!0,LT:!0});k=[n.H.lI];l=[n.H.wU];m={minimumCores:3};p={minimumCores:5};f.OC?(g.Th=[].concat(Aa((0,c.GA).apply(null,[e.Th].concat(Aa(k)))),Aa((0,c.qg)([n.H.tw,n.H.uw].concat(Aa(k),[n.H.vw,n.H.ww]),m))),g.$o=[].concat(Aa((0,c.GA).apply(null,[e.$o].concat(Aa(l)))),Aa((0,c.qg)([].concat(Aa(l)),m)))):(g.Th=[].concat(Aa((0,c.GA).apply(null,[e.Th].concat(Aa(k)))),Aa((0,c.qg)([n.H.tw,n.H.uw].concat(Aa(k),[n.H.vw,n.H.ww]),p))),g.$o=[].concat(Aa((0,c.GA).apply(null,[e.$o].concat(Aa(l)))),Aa((0,c.qg)([].concat(Aa(l)),p))));return g;};b.woc=function(f){var e;e={droppedFrameRateFilterEnabled:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:d.fr.oU,preciseSeeking:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0,enableFullHdForSWDRM:!0};67 <= f.Yu && (e=Object.assign(Object.assign({},e),{enableAV1:!0,enablePRK:!0}));return e;};d=a(56800);n=a(75568);c=a(88195);h=a(64232);},22224:function(t,b,a){var n,c,h,f,e,g;function d(){return Object.assign(Object.assign({},(0,g.W8)()),{qJ:(0,e.qg)([f.Lc.oo,f.Lc.vE,f.Lc.vo]),Th:(0,e.qg)([].concat(Aa(f.Gc.V1),Aa(f.Gc.t2),Aa(f.Gc.jU),Aa(f.Gc.kU),Aa(f.Gc.hU),Aa(f.Gc.iU),Aa(f.Gc.v4a),Aa(f.Gc.w4a),Aa(f.Gc.Qxa),Aa(f.Gc.RRb))),$o:(0,e.qg)([].concat(Aa(f.Gc.U1),Aa(f.Gc.wfa),Aa(f.Gc.vfa))),Hx:h.sb.LTb,OG:(0,n.ec)(31E3)});}Object.defineProperty(b,"__esModule",{value:!0});b.upc=function(k){return Object.assign(Object.assign({},(0,g.X8)()),{jx:"S",ut:k.LQ?"NFCDSF-PH-":"NFCDSF-01-",MJ:"safari-cadmium"});};b.nnc=function(k){return Object.assign(Object.assign({},d(k)),{awa:!0,KX:!1,oB:[f.cr.hia]});};b.spc=d;b.tpc=function(k){var l;l={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,logUnexpectedRewindDelay:0,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:c.fr.pE,enableSeamless:!0,enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0,enableMissingSegmentsReplacement:!1,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0,enableLdlPrefetch:!0,monitorFrozenFrames:!0};(0,g.vyb)(k,10,15,5) && (l=Object.assign(Object.assign({},l),{useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,g.vyb)(k,10,15,6) && (l=Object.assign(Object.assign({},l),{keyStatusFilterEnabled:!0,enableUHD:!0}));(0,g.Zxb)(k,16) && (l=Object.assign(Object.assign({},l),{enableAV1:!0}));(0,g.Zxb)(k,16) && !k.LQ && (l=Object.assign(Object.assign({},l),{enableXHEAAC:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));return l;};n=a(5021);c=a(56800);h=a(17612);f=a(75568);e=a(88195);g=a(64232);},89397:function(t,b,a){var h,f,e,g,k,l,m,p,r;function d(q,u){this.Ge=q;this.iA=u;}function n(q,u){var v;v=f.tDa.call(this) || this;q.LQ?Object.assign(v,(0,p.nnc)(q)):q.jpa?Object.assign(v,(0,m.Ymc)(q)):q.oSa?Object.assign(v,(0,l.voc)(q)):q.fpa || q.YRa?Object.assign(v,(0,k.Imc)(u)):q.G$?Object.assign(v,(0,p.spc)(q)):Object.assign(v,(0,g.fmc)(q));return v;}function c(q){this.data=q.jpa?(0,m.$mc)(q):q.oSa?(0,l.xoc)(q):q.fpa || q.YRa?(0,k.Kmc)(q):q.G$?(0,p.upc)(q):(0,g.hmc)(q);}Object.defineProperty(b,"__esModule",{value:!0});b.Oxa=b.Nxa=b.Mxa=void 0;t=a(22970);h=a(22674);f=a(27081);e=a(22816);g=a(25066);k=a(30837);l=a(20447);m=a(54534);p=a(22224);a=a(83767);Ha.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},Yqa:{configurable:!0,enumerable:!0,get:function(){return this.data.Yqa;}},jx:{configurable:!0,enumerable:!0,get:function(){return this.data.jx;}},ut:{configurable:!0,enumerable:!0,get:function(){return this.data.ut;}},pY:{configurable:!0,enumerable:!0,get:function(){return this.data.pY;}},MJ:{configurable:!0,enumerable:!0,get:function(){return this.data.MJ;}},vpb:{configurable:!0,enumerable:!0,get:function(){return this.data.vpb;}},HTa:{configurable:!0,enumerable:!0,get:function(){return this.data.HTa;}},Q7:{configurable:!0,enumerable:!0,get:function(){return this.data.Q7;}},lPb:{configurable:!0,enumerable:!0,get:function(){return this.data.lPb;}},TIa:{configurable:!0,enumerable:!0,get:function(){return this.data.TIa;}}});r=c;b.Mxa=r;b.Mxa=r=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(e.gU))],r);Ia(n,f.tDa);r=n;b.Nxa=r;b.Nxa=r=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(e.gU)),t.__param(1,(0,h.u)(a.rN))],r);d.prototype.apply=function(){this.Ge.jpa?Object.assign(this,(0,m.Zmc)(this.Ge)):this.Ge.oSa?Object.assign(this,(0,l.woc)(this.Ge)):this.Ge.fpa || this.Ge.YRa?Object.assign(this,(0,k.Jmc)(this.Ge,this.iA)):this.Ge.G$?Object.assign(this,(0,p.tpc)(this.Ge)):Object.assign(this,(0,g.gmc)(this.Ge));return this;};r=d;b.Oxa=r;b.Oxa=r=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(e.gU)),t.__param(1,(0,h.u)(a.rN))],r);},88351:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});b.platform=void 0;t=a(22674);d=a(91581);n=a(5614);c=a(52033);h=a(89397);b.platform=new t.we(function(f){f(d.Ps).to(h.Mxa).pa();f(n.cV).to(h.Nxa);f(c.acb).to(h.Oxa);});},80966:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uwa={d3b:"adStart",rjb:"adProgress",D1c:"adComplete",e3b:"adStop"};b.A2a={wja:"adBreakComplete",A1c:"adBreakStart",B1c:"adBreakStop"};b.$wa={error:"error",Oic:"exit",hOb:"unload"};b.I2a="AdImpressionLoggerrFactorySymbol";},70068:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Xwa=b.QUb=b.RQb=void 0;d=a(45247);Object.defineProperty(b,"AdBreakResult",{enumerable:!0,get:function(){return d.RQb;}});Object.defineProperty(b,"IPlayerControlState",{enumerable:!0,get:function(){return d.QUb;}});b.Xwa="AdManagerFactorySymbol";},1200:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.a2="AdTrackerBaseSymbol";},25540:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.S2a="AdFocusMonitorSymbol";},69377:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.U2a="AdvertsMismatchLoggerSymbol";},12826:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.V3a="BandwidthMeterFactorySymbol";},65945:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M,P,I,O,Q,S,U,W,Y,X,Z,aa,ca,da,ja,R,N,V,ba,fa,ha,la,pa,ia,na,T,ea,ka,ra,ta,qa,xa,Ba,oa,va,za;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;t=a(22674);d=a(77601);n=a(78388);c=a(18181);h=a(12826);f=a(31085);e=a(41106);g=a(51038);k=a(24722);l=a(27104);m=a(4203);p=a(81918);r=a(90597);q=a(42207);u=a(87386);v=a(65090);w=a(61861);x=a(37025);y=a(5021);z=a(89561);B=a(25837);A=a(65106);C=a(13889);D=a(15160);F=a(92205);G=a(52200);E=a(45842);H=a(74870);J=a(95162);L=a(33554);K=a(2160);M=a(67650);P=a(25138);I=a(77134);O=a(34231);Q=a(93367);S=a(82557);U=a(85405);W=a(56800);Y=a(39551);X=a(69334);Z=a(70068);aa=a(89540);ca=a(30869);da=a(49917);ja=a(80966);R=a(72160);N=a(54952);V=a(97635);ba=a(74834);fa=a(25540);ha=a(38508);la=a(30873);pa=a(78312);ia=a(53085);na=a(63013);T=a(14177);ea=a(56386);ka=a(1200);ra=a(24711);ta=a(13673);qa=a(31099);xa=a(67590);Ba=a(6823);oa=a(95735);va=a(69377);za=a(79785);b.j=new t.we(function(ua){ua(M.FDa).to(P.EDa).pa();ua(U.m3a).Pf(function(ya){var Da;Da=ya.Gb;return function(Ja,Ka){return new (a(92720).nBa)(Ja,Ka,Da.get(r.wB),Da.get(D.Lfa),Da.get(xa.vxa));};});ua(d.Ffb).Pf(function(ya){var Da;Da=ya.Gb;return function(Ja,Ka,La,Oa,Na,Pa,Ta,Va,Xa){return new (a(37517).z)(Da.get(z.Ifb),Ja,Ka,La,Oa,Na,Pa,Ta,Va,Xa);};});ua(z.Ifb).to(B.yFa).pa();ua(n.Hfb).to(c.xFa).pa();ua(g.kcb).to(k.CDa).pa();ua(V.meb).to(ba.OEa).pa();ua(va.U2a).to(za.dxa).pa();ua(Q.Adb).to(S.sEa);ua(Q.zdb).hNb(Q.Adb);ua(e.N5a).Pf(function(ya){var Da;Da=ya.Gb;return function(Ja){return new (a(11372).Dza)(Da.get(D.M5a),Da.get(r.wB),Da.get(p.$d),Ja);};});ua(h.V3a).Pf(function(){return function(ya){return new f.W3a(ya);};});ua(Y.JDa).Pf(function(ya){var Da;Da=ya.Gb;return function(Ja){return new X.KDa(Ja,Da.get(u.yb),Da.get(q.wi));};});ua(ja.I2a).Pf(function(ya){var Da;Da=ya.Gb;return function(Ja){return new R.Vwa(Ja,Da.get(u.yb).ub("AdImpressionLogger"),Da.get(ca.vi),Da.get(m.Fc),Da.get(p.$d),Da.get(da.Twa),Da.get(da.Rwa));};});ua(fa.S2a).to(ha.axa);ua(ka.a2).to(na.Ywa);ua(ka.a2).to(ea.Zwa);ua(ka.a2).to(ra.bxa);ua(ka.a2).to(T.cxa);ua(Z.Xwa).Pf(function(ya){var Da;Da=ya.Gb;return function(Ja,Ka){return new aa.M2a(Ja,Ka,Da.get(u.yb).ub("AdManager"),Da.get(m.Fc),Da.get(V.meb),Da.get(va.U2a),Da.getAll(ka.a2),Da.get(ja.I2a),function(La){return new N.L2a(La);},Da.get(fa.S2a));};});ua(v.fcb).Pf(function(ya){var Da;Da=ya.Gb;return function(Ja){return new l.vDa(Ja,Da.get(u.yb),Da.get(m.Fc),Da.get(q.wi),Da.get(r.wB),Da.get(Y.JDa));};});ua(la.C9a).Pf(function(ya){var Da;Da=ya.Gb;return function(Ja,Ka){return new pa.D9a(Da.get(m.Fc),Da.get(ta.E9a),Da.get(ia.kl),Da.get(u.yb),Ja,Ka);};});ua(ta.E9a).Pf(function(ya){var Da;Da=ya.Gb;return function(Ja){return new qa.F9a(Da.get(m.Fc),Da.get(u.yb),Da.get(E.EI),Ja);};});ua(w.HDa).Pf(function(ya){var Da;Da=ya.Gb;return function(Ja,Ka,La,Oa,Na,Pa,Ta,Va,Xa,mb,nb,eb){return new x.qcb(Ja,Ka,La,Oa,Na,Pa,Ta,Va,Xa,Da.get(v.fcb),Da.get(M.FDa),Da.get(la.C9a),mb,nb,eb);};});ua(A.ieb).Pf(function(ya){return function(Da){var Ja,Ka;Ja=ya.Gb.get(m.Fc);Ka=ya.Gb.get(u.yb);return new C.jeb(Ja,Da,Ka);};});ua(F.mcb).Pf(function(ya){return function(Da){var Ja,Ka,La,Oa,Na;Ja=ya.Gb.get(L.xB);Ka=ya.Gb.get(E.EI);La=ya.Gb.get(H.cm);Oa=ya.Gb.get(J.YEa);Na=ya.Gb.get(W.rU);return new G.ncb(Da,Ja,Ka((0,y.Ji)(1)),La,Oa,Na);};});ua(K.WBa).vM(function(ya){return new (a(51149).VBa)(ya.Gb.get(I.d4),ya.Gb.get(O.Ls));}).pa();ua(Ba.Bga).to(oa.kBa).pa();});},41106:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.N5a="DiagnosticsFactorySymbol";},30873:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jy={x4:"START_SLATE",GAa:"LIVE_EVENT",Yya:"END_SLATE"};b.C9a="LivePlaybackManagerFactorySymbol";},13673:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.E9a="LivePlaybackRateControllerFactorySymbol";},6823:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.N3={};t[t.D7a=1]="HIGH";t[t.MEDIUM=2]="MEDIUM";t[t.P3=3]="LOW";b.Bga="LowNetworkActivityManagerSymbol";},45526:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});},2160:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WBa="MilestonesEventBuilderSymbol";},65090:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.fcb="PlayTimeTrackerFactorySymbol";},51038:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kcb="PlaybackFactorySymbol";},92205:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mcb="PlaybackInfoPanelFactorySymbol";},67650:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.FDa="PlaybackMilestoneStoreSymbol";},61861:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.HDa="PlaybackSegmentDataFactorySymbol";},39551:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.JDa="PlayedSegmentsTrackerFactorySymbol";},93367:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Adb="RepositionTraceSymbol";b.zdb="RepositionTraceFactorySymbol";},65106:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ieb="SeekManagerFactorySymbol";},97635:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.meb="SegmentDroppedLoggerSymbol";},94025:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Xy={};t[t.Pga=0]="NOT_LOADED";t[t.LOADING=1]="LOADING";t[t.uN=2]="LOADED";t[t.O3=3]="LOAD_FAILED";t[t.abb=4]="PARSE_FAILED";},77601:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ffb="TrickPlayFactorySymbol";},78388:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hfb="TrickPlayManagerSymbol";},89561:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ifb="TrickPlayParserSymbol";},72160:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m,p,r,q,u,v){this.context=l;this.log=m;this.La=p;this.config=r;this.Ua=q;this.c3b=u;this.W2b=v;this.BZa={};this.tq=new Set();this.oTa=Math.floor(Math.random() * this.config().oTa);}Object.defineProperty(b,"__esModule",{value:!0});b.Vwa=void 0;t=a(22970);n=a(22674);c=a(81918);h=a(30869);f=a(5021);e=a(4203);g=a(49917);k=a(80966);d.prototype.LLc=function(l,m,p){var r,q,u,v,w;r=this;u=l.event;if(Object.values(k.A2a).includes(u)){v=m.zG?m.zG.oa(f.ya):-1;w={href:m.S.Zo.AY("events").href,Of:m.S.Aa.Of,Ia:this.context.Ia.toString(),event:u,Sw:l.Sw,Xa:l.Xa,Lu:l.Lu,aG:l.aG,pIa:l.Xs,position:l.Ih.offset.G,qk:v,MA:{},IF:this.La.zH.oa(f.ya),appId:this.config().appId || this.Ua.id,sessionId:this.config().sessionId || this.Ua.id,jIa:l.jIa,Dba:l.Dba,iIa:l.iIa,OTa:null === (q=m.S) || void 0 === q?void 0:q.Aa.Sd,Cm:l.Cm};this.srb(m,p,function(){r.W2b.Pe({log:r.log,J:m.R},w).catch(function(x){r.log.error("Failed to send event",{eventKey:u,xid:m.Ia,error:x});});});}else this.log.debug("Ignoring unsupported event " + l.event);};d.prototype.MLc=function(l,m,p,r){var q,u,v,w,x,y;q=this;v=l.event;if(Object.values(k.Uwa).includes(v)){w=l.S.links.events.href;x=l.S.Of;this.BZa[l.qk] || (this.BZa[l.qk]=this.La.g4b((0,f.ec)(l.qk)).oa(f.ya));y={href:w,Of:x,Ia:this.context.Ia.toString(),event:v,Sw:l.Sw,Xa:l.Xa,Lu:l.Lu,aG:l.aG,pIa:l.Xs,position:l.Ih.offset.G,rIa:l.rIa,qk:this.BZa[l.qk],MA:l.MA,IF:this.La.zH.oa(f.ya),appId:this.config().appId || this.Ua.id,sessionId:this.config().sessionId || this.Ua.id,OTa:null === (u=m.S) || void 0 === u?void 0:u.Aa.Sd,QQc:null !== p && void 0 !== p?p:void 0,Cm:l.Cm};this.srb(m,r,function(){q.c3b.Pe({log:q.log,J:m.R},y).catch(function(z){q.log.error("Failed to send event",{eventKey:v,xid:q.context.Ia,error:z});});});}else this.log.debug("Ignoring unsupported event " + l.event);};d.prototype.mkc=function(){this.tq.forEach(function(l){l();});};d.prototype.srb=function(l,m,p){var r,q,u;r=this;l=l.Ac.za && !m?this.oTa:0;if(0 < l){q=function(){Ca.clearTimeout(u);r.tq.delete(q);p();};u=Ca.setTimeout(q,l);this.tq.add(q);}else p();};a=d;b.Vwa=a;b.Vwa=a=t.__decorate([t.__param(2,(0,n.u)(h.vi)),t.__param(3,(0,n.u)(e.Fc)),t.__param(4,(0,n.u)(c.$d)),t.__param(5,(0,n.u)(g.Twa)),t.__param(6,(0,n.u)(g.Rwa))],a);},54952:function(t,b){function a(m){this.Nc=m;}function d(m){this.padding=m;}function n(m){this.Bg=m;}function c(m){this.Ih=m;}function h(m){this.bta=m;}function f(m){this.gXa=m;}function e(m){this.fXa=m;}function g(m){this.qF=m;}function k(m){this.DL=m;}function l(m){this.Cc=m;}Object.defineProperty(b,"__esModule",{value:!0});b.UQb=b.UXb=b.TQb=b.VTb=b.jYb=b.kYb=b.iYb=b.SQb=b.hYb=b.L2a=void 0;l.prototype.getPresentingAdBreak=function(){var m;m=this.Cc.HC();if(m)return new k(m);};l.prototype.getPlayerControlState=function(){var m;m=this.Cc.t9();return {seekEnabled:m.xH,playPauseEnabled:m.fH,languageSelectionEnabled:m.EG};};l.prototype.getAds=function(){return this.Cc.kG();};l.prototype.getLogInfo=function(){return this.Cc.zub();};b.L2a=l;Ha.Object.defineProperties(k.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new g(this.DL.Ra);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var m;m=this.DL.gJ;if(m)return new e(m);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var m;m=this.DL.cWa;if(m)return new f(m);}},progress:{configurable:!0,enumerable:!0,get:function(){return new h(this.DL.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new c(this.DL.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.DL.index;}}});b.hYb=k;Ha.Object.defineProperties(g.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new n(this.qF.Bg);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new d(this.qF.$ua);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new d(this.qF.h8);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.qF.xrc;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.qF.duration.G};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.qF.ksa.G};}},type:{configurable:!0,enumerable:!0,get:function(){return this.qF.type;}},segmentationTypeId:{configurable:!0,enumerable:!0,get:function(){return this.qF.$n;}},isPreroll:{configurable:!0,enumerable:!0,get:function(){return this.qF.hZ;}}});b.SQb=g;Ha.Object.defineProperties(e.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.fXa.Nc);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.fXa.rjb;}},index:{configurable:!0,enumerable:!0,get:function(){return this.fXa.index;}}});b.iYb=e;Ha.Object.defineProperties(f.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.gXa.nsa;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.gXa.JDc;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.gXa.ksa.G};}}});b.kYb=f;Ha.Object.defineProperties(h.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.bta.$2b;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.bta.ijb.G};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.bta.b3b;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.bta.a3b.G};}}});b.jYb=h;Ha.Object.defineProperties(c.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.Ih.L;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Ih.offset.G};}}});b.VTb=c;Ha.Object.defineProperties(n.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.Bg.Xb.map(function(m){return new a(m);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Bg.duration.G};}},type:{configurable:!0,enumerable:!0,get:function(){return this.Bg.type;}},segmentationTypeId:{configurable:!0,enumerable:!0,get:function(){return this.Bg.$n;}},isPreroll:{configurable:!0,enumerable:!0,get:function(){return this.Bg.hZ;}}});b.TQb=n;Ha.Object.defineProperties(d.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.G};}}});b.UXb=d;Ha.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.Nc.El;}},id:{configurable:!0,enumerable:!0,get:function(){return this.Nc.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Nc.startTime.G};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Nc.endTime.G};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.Nc.bZ;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.Nc.k1;}},uiComponent:{configurable:!0,enumerable:!0,get:function(){return this.Nc.a1a;}}});b.UQb=a;},89540:function(t,b,a){var n,c,h,f,e,g;function d(k,l,m,p,r,q,u,v,w,x){var y;y=this;this.bb=k;this.j=l;this.log=m;this.config=p;this.wLc=r;this.n4b=q;this.PMb=u;this.Bo=new n.vc(!1);this.jc=new e.Vl();this.wka=!1;this.hba=function(){y.wka=!0;y.Ou.mkc();g.re.removeListener(g.Gm,y.hba);};this.EP=w(this);k=k.Em();this.Ou=v({Ia:l.Ia.toString()});v=null === k || void 0 === k?void 0:k.js.events;null === v || void 0 === v?void 0:v.addListener("adPresenting",function(){!1;y.Prb();});null === v || void 0 === v?void 0:v.addListener("adBreakPresenting",function(z){!1;!1;y.Uia=z.presentingInfo.Ra.type;"embedded" === y.Uia || y.j.npa() || x.$Z(l);y.Bo.set(!0);});null === v || void 0 === v?void 0:v.addListener("adBreakEnded",function(){!1;y.Bo.set(!1);});null === v || void 0 === v?void 0:v.addListener("adPlaygraphUpdated",function(){!1;});null === v || void 0 === v?void 0:v.addListener("segmentDropped",function(z){var B;!1;B=y.j.Dl(z.segmentId);y.wLc.eHc(z,B);});null === v || void 0 === v?void 0:v.addListener("advertsMismatch",function(z){!1;y.n4b.SGc(z,y.j.ga);});this.Uv=new h.mha();this.j.addEventListener("playbackStart",function(){y.Uv.resolve();});v=null === k || void 0 === k?void 0:k.CQ.events;null === v || void 0 === v?void 0:v.addListener("adEvent",function(z){y.Uv.promise.then(function(){var B,A;z.event === c.Uwa.d3b && y.PMb.forEach(function(C){return C.start(y.j);});B=y.bqc(z);if(z.event === c.Uwa.e3b && B){A=y.wka?c.$wa.hOb:l.wj?c.$wa.error:c.$wa.Oic;B=Object.assign(Object.assign({},B),{reason:A});}y.Ou.MLc(z,l,B,y.wka);});});null === v || void 0 === v?void 0:v.addListener("adBreakEvent",function(z){z.event === c.A2a.wja && y.jc.kd(f.Wwa.wja);y.Uv.promise.then(function(){y.Ou.LLc(z,l,y.wka);});});g.re.addListener(g.Gm,this.hba);}Object.defineProperty(b,"__esModule",{value:!0});b.M2a=void 0;n=a(81734);c=a(80966);h=a(94293);f=a(85001);e=a(94886);g=a(37509);d.prototype.addEventListener=function(k,l,m){this.jc.addListener(k,l,m);};d.prototype.removeEventListener=function(k,l){this.jc.removeListener(k,l);};d.prototype.HC=function(){var k,l;if(this.VMa && !1 !== this.Bo.value)return null === (l=null === (k=this.bb) || void 0 === k?void 0:k.Em()) || void 0 === l?void 0:l.Jj.DL;};d.prototype.t9=function(){var k,l;return (null === (l=null === (k=this.bb) || void 0 === k?void 0:k.Em()) || void 0 === l?void 0:l.js.t9()) || ({xH:void 0,fH:void 0,EG:void 0});};d.prototype.zub=function(){var k,l,m,p;m=this.HC();if(m){p={position:null === m || void 0 === m?void 0:m.position.offset.G,adDuration:null === (k=null === m || void 0 === m?void 0:m.gJ) || void 0 === k?void 0:k.Nc.endTime.G,adIndex:null === (l=m.gJ) || void 0 === l?void 0:l.index,adBreakIndex:m.index,adBreakDuration:null === m || void 0 === m?void 0:m.Ra.duration.G};(k=m.cWa) && (p.padding={type:k.nsa,duration:k.ksa.G});return p;}};d.prototype.kG=function(){var k,l,m,p,r;if(!this.VMa)return [];p=this.j.ga.R.toString();r=null === (l=null === (k=this.bb) || void 0 === k?void 0:k.Em()) || void 0 === l?void 0:l.js.kG({By:[p]});return null !== (m=null === r || void 0 === r?void 0:r.result[p]) && void 0 !== m?m:[];};d.prototype.yv=function(){var k,l,m,p,r;p=this.j.ga.R.toString();r=null === (l=null === (k=this.bb) || void 0 === k?void 0:k.Em()) || void 0 === l?void 0:l.js.yv({By:[p]});return null !== (m=null === r || void 0 === r?void 0:r.result[p]) && void 0 !== m?m:!1;};d.prototype.Prb=function(){};d.prototype.bqc=function(k){var l;l=this.PMb.reduce(function(m,p){return Object.assign(Object.assign({},m),p.coa(k));},{});return Object.assign(Object.assign({},l),{thirdPartyVerificationToken:k.k1});};Ha.Object.defineProperties(d.prototype,{VMa:{configurable:!0,enumerable:!0,get:function(){var k;return this.Uia?this.config().Rqb || "embedded" !== this.Uia:(null === (k=this.j.Ac) || void 0 === k?0:k.za)?this.config().Rqb:!0;}},XSa:{configurable:!0,enumerable:!0,get:function(){return this.Uia;}}});b.M2a=d;},63013:function(t,b,a){var n,c,h,f,e;function d(g,k){var l;l=e.jo.call(this) || this;l.Ua=g;l.paused=!1;l.$w=function(){var m,p,r;p=l.Cc.Bo.value;r=l.Cc.HC();p && r?(p=null === (m=r.gJ) || void 0 === m?void 0:m.Nc.id,m=l.paused,l.paused=l.j.paused.value,m !== l.paused && (l.paused?(l.zsa=l.Ua.wc(),l.W5=r.position.offset.G,l.va.debug("Ad " + p + " paused at " + l.W5 + " ms into the ad")):void 0 !== l.zsa && void 0 !== l.W5 && (r=l.Ua.wc().ea(l.zsa).oa(f.ya),l.va.debug("Ad " + p + " resumed. Pause duration: " + r),l.trace.push([l.W5,r]),l.W5=void 0,l.zsa=void 0))):l.unsubscribe();};l.va=k.ub("AdPauseStateTracker");return l;}Object.defineProperty(b,"__esModule",{value:!0});b.Ywa=void 0;t=a(22970);n=a(22674);c=a(81918);h=a(87386);f=a(5021);e=a(87144);Ia(d,e.jo);d.prototype.start=function(g){e.jo.prototype.start.call(this,g);this.RC || (this.j.paused.addListener(this.$w),this.RC=!0);};d.prototype.coa=function(){return {pauseTrace:this.trace};};d.prototype.Bca=function(){this.W5=void 0;this.paused=this.j.paused.value;this.zsa=void 0;this.trace=[];};d.prototype.unsubscribe=function(){e.jo.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.$w);};a=d;b.Ywa=a;b.Ywa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.$d)),t.__param(1,(0,n.u)(h.yb))],a);},56386:function(t,b,a){var n,c,h,f,e;function d(g,k){var l;l=e.jo.call(this) || this;l.WLa=k;l.iKc=function(){0 === l.trace.length?l.$w():l.sNa.ag(function(){l.$w();});};l.$w=function(){var m,p,r,q;m=l.Cc.Bo.value;p=l.Cc.HC();if(m && p){(m=l.trace[l.trace.length - 1]) && m[0] === p.position.offset.G && l.trace.pop();m=l.trace[l.trace.length - 1];r=l.j.au.getBoundingClientRect();q=r.height;r=r.width;0 < q && 0 < r && (!m || m[1] !== r || m[2] !== q) && l.trace.push([p.position.offset.G,r,q]);}else l.unsubscribe();};l.va=g.ub("AdResizeTracker");l.sNa=k((0,f.Ji)(1));return l;}Object.defineProperty(b,"__esModule",{value:!0});b.Zwa=void 0;t=a(22970);n=a(22674);c=a(34043);h=a(87386);f=a(5021);e=a(87144);Ia(d,e.jo);d.prototype.start=function(g){e.jo.prototype.start.call(this,g);this.RC || (this.ADb=new ResizeObserver(this.iKc),this.ADb.observe(this.j.au),this.RC=!0);};d.prototype.coa=function(){return {resizeTrace:this.trace.slice(1)};};d.prototype.Bca=function(){this.trace=[];};d.prototype.unsubscribe=function(){var g;e.jo.prototype.unsubscribe.call(this);null === (g=this.ADb) || void 0 === g?void 0:g.disconnect();};a=d;b.Zwa=a;b.Zwa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.yb)),t.__param(1,(0,n.u)(c.Kfa))],a);},87144:function(t,b){function a(){var d;d=this;this.RC=!1;this.trace=[];this.yla=function(){d.sNa.ag(function(){d.$w();});};}Object.defineProperty(b,"__esModule",{value:!0});b.jo=void 0;a.prototype.start=function(d){var n;n=this;this.j=d;this.Cc=this.j.Em();this.RC || (this.Cc.Bo.addListener(this.$w),this.j.addEventListener("closing",function(){return n.unsubscribe();}));this.Bca();};a.prototype.unsubscribe=function(){this.Cc.Bo.removeListener(this.$w);this.RC=!1;this.Bca();};b.jo=a;},38508:function(t,b,a){var n,c;function d(h){var f;f=this;this.WO=function(){var e,g,k;g=!document.hidden;k=null === (e=f.j.Em()) || void 0 === e?void 0:e.Bo.value;e=f.j.paused.value;g || !k || e || (f.va.debug("Pausing playback because window is not visible"),f.j.paused.set(!0,{FA:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",f.WO);f.j.Em().Bo.removeListener(f.WO);f.j.paused.removeListener(f.WO);};this.va=h.ub("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.axa=void 0;t=a(22970);n=a(22674);a=a(87386);d.prototype.$Z=function(h){this.Tzc || (this.va.debug("Starting to monitor playback for visibility"),this.j=h,this.Tzc=!0,document.addEventListener("visibilitychange",this.WO),this.j.Em().Bo.addListener(this.WO),this.j.paused.addListener(this.WO),this.j.addEventListener("closing",this.unsubscribe),this.WO());};c=d;b.axa=c;b.axa=c=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.yb))],c);},24711:function(t,b,a){var n,c,h;function d(f){var e;e=h.jo.call(this) || this;e.fUa=0;e.Tob=[0];e.pR=[0];e.visibility=0;e.$w=function(){var g,k;g=e.Cc.Bo.value;k=e.Cc.HC();g && k?(g=e.visibility,e.visibility=document.hidden?0:1,g !== e.visibility && (1 === e.visibility?(e.fUa=e.visibility,e.xqa=k.position.offset.G):(k=k.position.offset.G - (e.xqa || 0),k > e.pR[0] && (e.pR[0]=k),e.xqa=void 0))):e.unsubscribe();};e.va=f.ub("AdVisibilityTracker");return e;}Object.defineProperty(b,"__esModule",{value:!0});b.bxa=void 0;t=a(22970);n=a(22674);c=a(87386);h=a(87144);Ia(d,h.jo);d.prototype.start=function(f){h.jo.prototype.start.call(this,f);this.RC || (document.addEventListener("visibilitychange",this.$w),this.RC=!0);};d.prototype.coa=function(f){var e,g,k;g=this.j.au.getBoundingClientRect();k=g.height;g=g.width;"adStart" === f.event && (k=0 === k?document.documentElement.clientHeight:k,g=0 === g?document.documentElement.clientWidth:g);f=f.Ih.offset.G - (null !== (e=this.xqa) && void 0 !== e?e:0);f > this.pR[0] && (this.pR[0]=f);e=document.fullscreenElement?!0:screen.height === Ca.outerHeight && screen.width === Ca.outerWidth;this.Tob=this.pR;return {cumulativeTimeByVisibilityMs:this.Tob,maxContinuousTimeByVisibilityMs:this.pR,visibility:this.visibility,maxVisibility:this.fUa,screenHeight:screen.height,screenWidth:screen.width,adHeight:k,adWidth:g,fullScreen:e};};d.prototype.Bca=function(){this.xqa=void 0;this.pR=[0];this.fUa=this.visibility=document.hidden?0:1;};d.prototype.unsubscribe=function(){h.jo.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.$w);};a=d;b.bxa=a;b.bxa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.yb))],a);},14177:function(t,b,a){var n,c,h,f,e;function d(g,k){var l;l=e.jo.call(this) || this;l.fh=g;l.WLa=k;l.$w=function(){var m,p;m=l.Cc.Bo.value;p=l.Cc.HC();m && p?(m=l.trace[l.trace.length - 1],p=p.position.offset.G,m && m[0] === p && l.trace.pop(),(m=l.trace[l.trace.length - 1]) && m[1] === l.j.oX || l.trace.push([p,l.j.oX])):l.unsubscribe();};l.va=g.ub("AdVolumeTracker");l.sNa=k((0,f.Ji)(1));return l;}Object.defineProperty(b,"__esModule",{value:!0});b.cxa=void 0;t=a(22970);n=a(22674);c=a(34043);h=a(87386);f=a(5021);e=a(87144);Ia(d,e.jo);d.prototype.start=function(g){e.jo.prototype.start.call(this,g);this.RC || (this.j.volume.addListener(this.yla),this.j.muted.addListener(this.yla),this.RC=!0);};d.prototype.coa=function(){return {volumeChangeTrace:this.trace,volume:this.j.oX};};d.prototype.Bca=function(){this.trace=[];};d.prototype.unsubscribe=function(){e.jo.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.yla);this.j.muted.removeListener(this.yla);};a=d;b.cxa=a;b.cxa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.yb)),t.__param(1,(0,n.u)(c.Kfa))],a);},79785:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.dxa=void 0;t=a(22970);a=a(22674);d.prototype.SGc=function(c,h){h.YK.hb.MIa({xid:h.Ia,playbackcontextid:h.Sd,pbcid:h.correlationId,manifestUnmatchedAdBreakLocations:c.manifestUnmatchedAdBreakLocations,mediaEventsUnmatchedAdBreakLocations:c.mediaEventsUnmatchedAdBreakLocations,sev:c.sev});};n=d;b.dxa=n;b.dxa=n=t.__decorate([(0,a.$)()],n);},31085:function(t,b){function a(d){this.j=d;}Object.defineProperty(b,"__esModule",{value:!0});b.W3a=void 0;a.prototype.LOb=function(){var d;d=this.j.bb;if(null !== d && void 0 !== d && d.YE){d=d.Sc.get();if(null === d || void 0 === d?0:d.wh)this.j.wh=d.wh.Da;if(null === d || void 0 === d?0:d.jb)this.j.jb=d.jb.Da;}};a.prototype.Ok=function(){-1 === this.j.jb && this.LOb();return this.j.jb;};a.prototype.L7b=function(d){-1 !== this.j.wh && -1 !== this.j.jb || this.LOb();return -1 === this.j.wh || -1 === this.j.jb?Number.MAX_VALUE:this.j.wh + 8 * d / this.j.jb;};b.W3a=a;},11372:function(t,b,a){var n;function d(c,h,f,e){this.tMa=c;this.debug=h;this.Ua=f;this.j=e;this.osa=[];this.Uqa={};this.wMa={};this.UNa=!1;this.KMb=1;this.R3a=7.8125;}b.Dza=void 0;n=a(5021);a(85001);a(32687);a(61726);d.prototype.register=function(c,h){this.debug.assert(!(0 <= this.osa.indexOf(c)),"panel already registered");this.Uqa[c]=h;this.osa.push(c);};d.prototype.nDb=function(c){var h;h=this;this.wMa[c]=!0;this.UNa || (this.UNa=!0,setTimeout(function(){return h.dkc();},0));};d.prototype.eoc=function(c){return (c=this.Uqa[c])?c():void 0;};d.prototype.g9=function(){var c;c=this.j.Jsa;return c?c.g9():[];};d.prototype.addEventListener=function(c,h){this.tMa.addListener(c,h);this.Uqa[c] && this.nDb(c);};d.prototype.removeEventListener=function(c,h){this.tMa.removeListener(c,h);};d.prototype.getTime=function(){return this.Ua.wc().oa(n.ya);};d.prototype.dkc=function(){this.UNa=!1;for(var c=this.osa.length,h;c--;)(h=this.osa[c],this.wMa[h] && (this.wMa[h]=!1,this.tMa.kd(h + "changed",{getModel:this.Uqa[h]})));};b.Dza=d;},78312:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m,p,r,q,u,v){var w,x,y,z,B;w=this;this.config=m;this.ud=r;this.K=u;this.j=v;this.HQ=new g.vc(!1);this.gJa=new g.vc(!1);this.Gn=this.bk=void 0;this.l_a=!1;this.WP=void 0;this.log=q.ub("LivePlaybackManager");this.WP=this.config().tkc;x=this.config().$Oc;y=this.config().Qwc;this.l_a=(0,h.pc)(x) && (0,h.pc)(y);null === v || void 0 === v?void 0:v.addEventListener(f.ja.kp,function(){var A;if(w.za && ((0,c.ta)(w.j && w.j.ga === w.K,"Unexpected playback segment on playbackReady"),w.config().whc && (w.GFb=p(function(C){(0,c.ta)(w.za && w.j && w.j.ga === w.K,"Unexpected playback segment on playback rate update");w.K.playbackRate.value !== C && (w.K.playbackRate.set(C),w.j.fireEvent(f.ja.WK));})),w.l_a)){A=w.Vz();z=w.ud.PS((0,n.ec)(500),function(){var C,D,F,G;C=w.Vz();F=A + x;C >= F - 500 && (D=w.jLa(F));F=A + x + y;if(C >= F - 500){G=w.jLa(F);null === z || void 0 === z?void 0:z.cancel();}w.HZa(D,G,!0);});}});null === v || void 0 === v?void 0:v.addEventListener(f.ja.$g,function(){var A;w.za && ((0,c.ta)(w.j && w.j.ga === w.K,"Unexpected playback segment on closing"),w.GFb=void 0,null === (A=w.U$) || void 0 === A?void 0:A.cancel(),w.U$=void 0,null === z || void 0 === z?void 0:z.cancel());});null === v || void 0 === v?void 0:v.addEventListener(f.ja.Sta,function(A){w.za && ((0,c.ta)(w.j && w.j.ga === w.K,"Unexpected playback segment on repositioning"),A.zc !== f.Jc.tu && A.zc !== f.Jc.JU || w.HQ.set((A.zc === f.Jc.JU || w.config().bT) && !w.xyb()));});null === v || void 0 === v?void 0:v.addEventListener(f.ja.I1a,function(){w.za && ((0,c.ta)(w.j && w.j.ga === w.K,"Unexpected playback segment on userInitiatedPause"),w.HQ.set(!1));});null === v || void 0 === v?void 0:v.background.addListener(function(){var A;w.za && ((0,c.ta)(w.j && w.j.ga === w.K,"Unexpected playback segment on background update"),!w.j.background.value && w.Ct() && void 0 === w.WP && (w.MQ()?null === (A=w.j.Rd) || void 0 === A?void 0:A.seek(w.bk,f.Jc.tu):w.Pca()));});this.K.mediaTime.addListener(function(){var A,C,D,F,G,E;if(w.za){(0,c.ta)(w.j && w.j.ga === w.K,"Unexpected playback segment on mediaTime update");F=w.j;w.Mka();G=B;E=null !== (A=w.K.Cr) && void 0 !== A?A:void 0;B=E;A=w.iK(G);G=w.iK(E);A !== G && (!1,F.fireEvent(f.ja.WK));w.MQ()?(null === (C=w.U$) || void 0 === C?void 0:C.cancel(),w.U$=void 0):w.U$ || (w.U$=w.ud.PS((0,n.ec)(1E3),function(){w.Mka();F.fireEvent(f.ja.WK);}));null === (D=w.GFb) || void 0 === D?void 0:D.B1(w.j.Ij.value && w.Ct(),E,w.Vz());w.config().jhc && w.euc() && w.Ssb();}});null === v || void 0 === v?void 0:v.Ij.addListener(function(){w.za && ((0,c.ta)(w.j && w.j.ga === w.K,"Unexpected playback segment on playing update"),w.config().khc && w.Ssb());});this.HQ.addListener(function(){(0,c.ta)(w.za,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + w.za);(0,c.ta)(w.j && w.j.ga === w.K,"Playback is required for live.");w.Mka();});this.gJa.addListener(function(){(0,c.ta)(w.za,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + w.za);(0,c.ta)(w.j && w.j.ga === w.K,"Playback is required for live.");!1;w.j.fireEvent(f.ja.WK);});}Object.defineProperty(b,"__esModule",{value:!0});b.D9a=void 0;n=a(5021);c=a(45146);h=a(32687);f=a(85001);e=a(30873);g=a(81734);k=a(45247);l=a(91176);d.prototype.KNc=function(){var m,p,r;(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");return this.config().wkc || (null !== (r=null === (p=null === (m=this.K.S) || void 0 === m?void 0:m.Aa.bj) || void 0 === p?void 0:p.Zpb) && void 0 !== r?r:!1);};d.prototype.pXa=function(){var m;(0,c.ta)(this.za,"Unexpected call to processManifest(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");(0,c.ta)(null === (m=this.K.S) || void 0 === m?void 0:m.Aa.bj,"Live manifest is unavailable.");m=this.K.S.Aa.bj;this.HZa(m.r8,m.UX);m=this.config().xkc;void 0 !== m && void 0 !== this.bk && (this.WP=this.bk + m);};d.prototype.HZa=function(m,p,r){var q,u,v,w,x;(0,c.ta)(this.za,"Unexpected call to setLiveEventTimes(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");if(!this.l_a || r){r=this.j;v=this.bk;w=this.Gn;x=null !== (q=this.Unb(m)) && void 0 !== q?q:v;q=null !== (u=this.Unb(p)) && void 0 !== u?u:w;if(void 0 === x && void 0 === q || void 0 !== x && 0 <= x && void 0 === q || void 0 !== x && 0 <= x && void 0 !== q && q > x){if((this.bk=x,this.Gn=q,v !== this.bk || w !== this.Gn))(!1,r.fireEvent(f.ja.WK));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (m + ", startPts:") + (x + ", endTime:") + (p + ", endPts:") + q);}};d.prototype.rmc=function(){var m;(0,c.ta)(this.za,"Unexpected call to getCurrentContentEventTime(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");m=this.K.Cr;if(null !== m)return this.jLa(m);};d.prototype.smc=function(){var m,p,r;(0,c.ta)(this.za,"Unexpected call to getCurrentSegmentNumber(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");(0,c.ta)(null === (m=this.K.S) || void 0 === m?void 0:m.Aa.bj,"Live manifest is unavailable.");m=this.K.Cr;if(null !== m){p=this.K.S.Aa.bj;r=p.RS[p.dma[this.K.S.Aa.Ay[0].streams[0].Ko]];p=Number(r.ELb);r=new k.I(r.duration,r.P);return p + Math.floor(m / r.G);}};d.prototype.eoa=function(){var m;(0,c.ta)(this.za,"Unexpected call to getUIAdjustedCurrentContentPts(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");m=this.K.Cr;if(null !== m)switch(this.iK(m)){case e.Jy.x4:return 0;case e.Jy.GAa:return ((0,c.ta)(void 0 !== this.bk,"eventStartPts should be defined in LIVE_EVENT slate."),m - this.bk);case e.Jy.Yya:return ((0,c.ta)(void 0 !== this.bk && void 0 !== this.Gn,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.Gn - this.bk);}};d.prototype.PIb=function(m){var p,r;(0,c.ta)(this.za,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");return void 0 === this.bk?null !== (r=null !== (p=this.Vz()) && void 0 !== p?p:this.K.Cr) && void 0 !== r?r:m:this.bk + m;};d.prototype.Jyb=function(m){var p;(0,c.ta)(this.za,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");p=this.Vz();return void 0 !== p && m >= p - this.config().twc;};d.prototype.rPa=function(m,p){var r,q,u;(0,c.ta)(this.za,"Unexpected call to getLiveBookmark(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");if(void 0 !== this.WP)return {Tp:this.WP,xL:Number.MAX_SAFE_INTEGER,tpb:this.WP};this.config().bT && this.HQ.set(!0);u=Number.MAX_SAFE_INTEGER;p || void 0 === this.bk || void 0 === this.Gn && 0 === m?(this.HQ.set(!0),m=u):(m=this.bk + m,void 0 !== this.Gn && m > this.Gn && (m=this.bk));return {Tp:m,xL:null !== (r=this.Gn) && void 0 !== r?r:Number.MAX_SAFE_INTEGER,tpb:null !== (q=this.bk) && void 0 !== q?q:u};};d.prototype.fK=function(){var m,p,r;return Math.max(null !== (m=this.Gn) && void 0 !== m?m:0,null !== (p=this.Vz()) && void 0 !== p?p:0,null !== (r=this.K.Cr) && void 0 !== r?r:0);};d.prototype.Vvb=function(){var m;(0,c.ta)(this.za,"Unexpected call to getLiveContentDuration(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");if(void 0 === this.bk)return 0;m=this.K.Cr;return (void 0 !== this.Gn?this.Gn:this.kA() && null !== m?m:this.fK()) - this.bk;};d.prototype.Znc=function(){var m;(0,c.ta)(this.za,"Unexpected call to getMaxSeekPts(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");m=this.Vz();m=void 0 !== this.Gn && void 0 !== m?Math.min(this.Gn,m):m;!1;return null !== m && void 0 !== m?m:0;};d.prototype.Vz=function(){var m,p;(0,c.ta)(this.za,"Unexpected call to getLiveEdge(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");return null === (p=null === (m=this.j.bb) || void 0 === m?void 0:m.Jn(this.K.R)) || void 0 === p?void 0:p.G;};d.prototype.Pca=function(){var m;(0,c.ta)(this.za,"Unexpected call to seekToLiveEdge(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");this.HQ.set(!this.xyb());if(this.j.Rd){m=this.Vz();void 0 !== m?this.j.Rd.seek(m,f.Jc.JU,this.K.L):!1;}else this.K.Tp=this.rPa(0,!0).Tp;};d.prototype.kA=function(){(0,c.ta)(this.za,"Unexpected call to isAtLiveEdge(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");this.Mka();return this.gJa.value;};d.prototype.Ct=function(){(0,c.ta)(this.za,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");return this.HQ.value;};d.prototype.iK=function(m){var p,r,q;(0,c.ta)(this.za,"Unexpected call to getLiveEventState(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");m=null !== (p=null !== m && void 0 !== m?m:this.K.Cr) && void 0 !== p?p:0;p=null !== (r=this.bk) && void 0 !== r?r:Infinity;r=null !== (q=this.Gn) && void 0 !== q?q:Infinity;return m < p?e.Jy.x4:m > r?e.Jy.Yya:e.Jy.GAa;};d.prototype.MQ=function(m){(0,c.ta)(this.za,"Unexpected call to isLiveEventEnded(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");if(m)return void 0 !== this.Gn;m=this.Vz();return void 0 !== this.Gn && void 0 !== m && this.Gn < m;};d.prototype.euc=function(){var m;(0,c.ta)(this.za,"Unexpected call to isLiveEventStarted(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");m=this.Vz();return void 0 !== this.bk && void 0 !== m && this.bk < m;};d.prototype.xyb=function(){var m;(0,c.ta)(this.za,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");return this.j.paused.value && !(null === (m=this.j.paused.Am) || void 0 === m?0:m.FA);};d.prototype.Mka=function(){var m;(0,c.ta)(this.za,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");this.gJa.set(this.Ct() && this.Jyb(null !== (m=this.K.Cr) && void 0 !== m?m:0));};d.prototype.Ssb=function(){(0,c.ta)(this.za,"Unexpected call to forceLiveEdgeInStartSlate(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");this.j.Ij.value && this.iK() === e.Jy.x4 && !this.kA() && void 0 === this.WP && this.Pca();};d.prototype.jLa=function(m){var p,r;(0,c.ta)(this.za,"Unexpected call to convertPtsToEventTime(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");(0,c.ta)(null === (p=this.K.S) || void 0 === p?void 0:p.Aa.bj,"Live manifest is unavailable.");p=this.K.S.Aa.bj;r=new Date(p.RS[p.dma[this.K.S.Aa.Ay[0].streams[0].Ko]].MO).getTime();return new Date(r - p.Ema + m).toISOString();};d.prototype.Unb=function(m){var p,r,q;(0,c.ta)(this.za,"Unexpected call to convertEventTimeToPts(). isLive:" + this.za);(0,c.ta)(this.j && this.j.ga === this.K,"Playback is required for live.");(0,c.ta)(null === (p=this.K.S) || void 0 === p?void 0:p.Aa.bj,"Live manifest is unavailable.");if(m){p=this.K.S.Aa.bj;r=p.RS[p.dma[this.K.S.Aa.Ay[0].streams[0].Ko]];q=new Date(m).getTime() + p.Ema - new Date(r.MO).getTime();if(isNaN(q) || 0 > q)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (m + ", eventAvailabilityOffsetMs:") + (p.Ema + ", availabilityStartTime:") + r.MO);else return q;}};Ha.Object.defineProperties(d.prototype,{za:{configurable:!0,enumerable:!0,get:function(){var m,p;m=this.K;p=m.S;m=m.$e;return p?(0,l.Ax)(p.Aa.Of):"live" === m;}}});b.D9a=d;},31099:function(t,b,a){var n,c;function d(h,f,e,g){this.config=h;this.Gua=g;this.log=f.ub("LivePlaybackRateController");this.RQc=e((0,n.ec)(this.config().Hwc));}Object.defineProperty(b,"__esModule",{value:!0});b.F9a=void 0;n=a(5021);c=a(8825);d.prototype.B1=function(h,f,e){var g,k;g=this;if(!h || void 0 === f || void 0 === e || Math.abs(f - e) < this.config().Iwc)k=1;else (h=e - f,h=1 + this.config().Gwc / 1E3 * h,k=(0,c.FE)(h,this.config().Kwc,this.config().Jwc));this.RQc.ag(function(){!1;g.Gua(k);});};b.F9a=d;},95735:function(t,b,a){var n,c,h,f;function d(){this.eO=!1;this.Yia=n.N3.P3;this.Hjc=["chgstrm","debug","cdnsel","netstats","midplay"];}Object.defineProperty(b,"__esModule",{value:!0});b.kBa=void 0;t=a(22970);n=a(6823);c=a(22674);h=a(29204);f=a(45146);d.prototype.erb=function(e){var g,k,l,m;g=this;k=e.duration;l=e.lnaStartTime;m=e.level;(0,f.ta)(void 0 !== k && 0 < k,"Unexpected or undefined duration value");(0,f.ta)(void 0 !== l && 0 < l,"Unexpected or undefined start time value");e.platform && !e.platform.includes("web") || h.config.vkc || (this.Yia=null !== m && void 0 !== m?m:n.N3.P3,setTimeout(function(){g.eO=!0;g.urb({lnaStopTime:k});},l));};d.prototype.urb=function(e){var g,k;g=this;e=e.lnaStopTime;(0,f.ta)(void 0 !== e && 0 < e,"Unexpected or undefined stop time value");k=Math.floor(Math.random() * h.config.Zwc) + 1;this.zNa && clearTimeout(this.zNa);this.zNa=setTimeout(function(){g.eO && (g.eO=!1,g.zNa=void 0);},e + k);};d.prototype.WGc=function(e){var g,k,l,m;if("enterLNAMode" === e.type && e.payload)this.erb(e.payload);else if("exitLNAMode" === e.type && e.payload)this.urb(e.payload);else if("lna" === e.type){g=e.lnaStartTime;k=e.lnaEndTime;l=e.serverCurrTime;e=e.level;if(g && k && l){m=Math.min(k - l,h.config.vyc);l < k && l > g && this.erb({lnaStartTime:1,duration:m,level:e});}}};d.prototype.eUc=function(){return this.eO && this.Yia === n.N3.D7a;};d.prototype.hGb=function(){return this.eO && (this.Yia === n.N3.MEDIUM || this.Yia === n.N3.D7a);};d.prototype.sxc=function(e){return this.eO && this.Hjc.includes(e);};Ha.Object.defineProperties(d.prototype,{Ywc:{configurable:!0,enumerable:!0,get:function(){return this.eO;}}});a=d;b.kBa=a;b.kBa=a=t.__decorate([(0,c.$)()],a);},11953:function(t,b,a){var c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H;function d(){this.Jva=[];this.vRc=50;}function n(J){var L;L=this;this.j=J;Promise.resolve();this.VI=[];this.em=new e.Vl();this.dhb=0;this.qia=[];this.ig=(0,l.Mn)(this.j,"MediaElementASE");this.wib=h.wI;this.wGa=!1;this.fb=new d();this.jg=new E.vc(C.qu.mI.HAVE_NOTHING);this.WHa={};this.yna=this.ria(function(){var K;if(L.Ga)return null !== (K=L.Ga.webkitDecodedFrameCount) && void 0 !== K?K:0;});this.Tz=this.ria(function(){var K;if(L.Ga){K=L.JGa();return K?K.totalVideoFrames:L.Ga.webkitDecodedFrameCount;}});this.iQ=this.ria(function(){var K;if(L.Ga){K=L.JGa();return K?K.droppedVideoFrames:L.Ga.webkitDroppedFrameCount;}});this.a9=this.ria(function(){var K;if(L.Ga){K=L.JGa();return K && K.corruptedVideoFrames;}});this.Lhb=function(K){!1;L.em.kd(z.zk.Xzb,{J:K});};this.jHa=function(){!0 === w.yi.hidden?L.qia.forEach(function(K){K.refresh();K.KOc();}):L.qia.forEach(function(K){K.refresh();K.jPc();});};this.eib=function(K){var M,I;if(L.Ga){K=K.iwa;M=L.m0b();M && (K.ConstrictionActive=M.constrictionActive,K.Status=M.status);try{K.readyState="" + L.Ga.readyState;K.currentTime="" + L.Ga.currentTime;K.pbRate="" + L.Ga.playbackRate;}catch(O){}M=L.VI.length;for(var P;M--;){P=L.VI[M];I="";P.type == h.Cga?I="audio":P.type == h.X3 && (I="video");(0,u.xf)(K,P.pna(),{prefix:I});}L.UB && (M=L.UB.duration) && !isNaN(M) && (K.duration=M.toFixed(4));}};this.cib=function(){L.em.kd(z.zk.nHb);};H?(this.XC=l.Wa.get(y.p9a).create(this,this.j),this.ud=l.Wa.get(G.kl),f.config.tZ && new Promise(function(K){L.wib=K;L.j.addEventListener(A.ja.$g,K);}),this.ig.trace("Created Media Element"),this.addEventListener=this.em.addListener,this.removeEventListener=this.em.removeListener,this.aic="encrypted"):this.nia(m.ca.mbb);}Object.defineProperty(b,"__esModule",{value:!0});b.HBa=void 0;c=a(90762);h=a(33096);f=a(29204);e=a(94886);g=a(37509);k=a(52569);l=a(31276);m=a(36129);p=a(45146);r=a(8825);q=a(67572);u=a(3887);v=a(77705);w=a(22365);x=a(32687);y=a(80012);z=a(16520);B=a(5021);A=a(85001);C=a(63156);D=a(82100);F=a(26388);G=a(53085);E=a(81734);H=!!(w.EN && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);n.prototype.Sz=function(J){try{this.Ga && (this.dhb=this.Ga.currentTime);}catch(L){this.ig.error("Exception while getting VIDEO.currentTime",L);J && this.W4(m.ca.JXb,L);}return (0,w.Ns)(this.dhb * h.Uq);};n.prototype.seek=function(J,L){var K;L=void 0 === L?!1:L;(0,p.ta)(!this.mr);this.pib();K=this.Sz(!0);if(!L && !f.config.A4b && (0,w.Ega)(K - J) <= this.uJb)(this.ig.trace("Seek delta too small",{currentTime:K,seekTime:J,min:this.uJb}),this.fb.trace("smallseek",J));else {this.fb.trace("seek",J);try{this.ig.trace("Setting video elements currentTime",{From:(0,r.Rj)(K),To:(0,r.Rj)(J)});this.mr={};this.Ga.currentTime=J / h.Uq;this.em.kd(z.zk.st);}catch(M){this.ig.error("Exception while setting VIDEO.currentTime",M);this.W4(m.ca.KXb,M);}}};n.prototype.zvb=function(){return !!this.mr;};n.prototype.addSourceBuffer=function(J){var L;try{L=new c.IBa(this.j,J,this.UB,this.ig);this.VI.push(L);J == h.X3 && L.YNa && L.YNa.addListener(this.wib);this.em.kd(z.zk.tLb);return L;}catch(K){L=(0,u.Wi)(K);this.ig.error("Unable to add source buffer.",{error:L});this.j.og(m.ca.HCa,{Sa:J === F.v.X?m.Y.tBa:m.Y.uBa,jf:L});}};n.prototype.b6=function(J){var L;L=this;J.forEach(function(K){return L.addSourceBuffer(K);});return !0;};n.prototype.removeSourceBuffer=function(J){this.VI=this.VI.filter(function(L){return !(0,k.x$b)(J,L);});this.UB.removeSourceBuffer(J);};n.prototype.endOfStream=function(){this.fb.trace("endofstream");!1;f.config.$Ja && this.UB.endOfStream();};n.prototype.tt=function(J){!1;this.VI=[];J && J.c9c();return !0;};n.prototype.APa=function(){if(this.UB)return (0,B.JFc)(this.UB.duration);};n.prototype.ufc=function(){var J;if(!this.wGa && this.Ga && this.Ga.readyState >= C.qu.mI.HAVE_CURRENT_DATA){J=this.Ga.webkitDecodedFrameCount;if(void 0 === J || 0 < J || f.config.BUc)this.wGa=!0;}return this.wGa;};n.prototype.open=function(J){var L;L=this;this.Ga=J || (0,k.createElement)("VIDEO","position:absolute;width:100%;height:100%");try{this.UB=new w.EN();}catch(K){this.W4(m.ca.AXb,K);return;}try{this.Ag=URL.createObjectURL(this.UB);}catch(K){this.W4(m.ca.BXb,K);return;}try{this.UB.addEventListener("sourceopen",function(K){return L.v1b(K);});this.XC.w3b(this.Lhb);this.Y3b(this.Ga);this.Z3b(this.Ga);this.Ga.src=this.Ag;this.jg.addListener(this.cib);this.j.addEventListener(A.ja.j_a,this.eib);g.re.addListener(g.Lr,this.jHa);this.jHa();}catch(K){this.W4(m.ca.CXb,K);return;}J || !this.j.PQ || f.config.C1a || this.XC.ODb();};n.prototype.close=function(){this.fb.trace("close");this.Ga && (this.Sz(!1),this.pib(),this.VI=[],this.oJc(this.Ga),this.jJc(this.Ga),this.XC.hJc(this.Lhb),this.XC.close(),clearTimeout(this.XC.Y9c),this.jg.removeListener(this.cib),this.j.removeEventListener(A.ja.j_a,this.eib),g.re.removeListener(g.Lr,this.jHa),this.Ga=void 0);};n.prototype.hKc=function(){this.mr && (this.fb.trace("resetSeek"),this.mr=void 0);};n.prototype.p1b=function(){f.config.C1a && this.XC.ODb();};n.prototype.JGa=function(){if(this.Ga)return this.Ga.getVideoPlaybackQuality && this.Ga.getVideoPlaybackQuality() || this.Ga.videoPlaybackQuality || this.Ga.playbackQuality;};n.prototype.c2b=function(){var J;J=this.j.wj;return (J=J && J.errorCode) && 0 <= [m.ca.Zga,m.ca.mga].indexOf(J);};n.prototype.ria=function(J){var L;L=l.Wa.get(q.Yab)(J);this.qia.push(L);return function(){L.refresh();return L.qmc();};};n.prototype.W4=function(J,L){var K,M;K={Sa:m.Y.Sq,jf:(0,u.Wi)(L)};try{M=L.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase();M && 8 == M.length && (K.Fg=M);}catch(P){}this.j.og(J,K);};n.prototype.pib=function(){this.qia.forEach(function(J){J.refresh();});};n.prototype.m0b=function(){return this.Ga && this.Ga.msGraphicsTrustStatus;};n.prototype.nia=function(J,L){this.j.og(J,L,void 0);};n.prototype.v1b=function(J){!1;this.f2b || (this.f2b=!0,this.em.kd(z.zk.Uua,J));};n.prototype.u1b=function(){this.fb.trace("seeking");this.ig.trace("Video element event: seeking");this.mr?this.mr.rBc=!0:(this.ig.error("unexpected seeking event"),f.config.ojc && this.nia(m.ca.PXb,{jf:{Trace:this.fb.PY()}}));};n.prototype.t1b=function(){this.fb.trace("seeked");this.ig.trace("Video element event: seeked");this.mr?((0,p.ta)(this.mr.rBc),this.mr.qBc=!0,this.Sib()):(this.ig.error("unexpected seeked event"),f.config.njc && this.nia(m.ca.OXb,{jf:{Trace:this.fb.PY()}}));};n.prototype.w1b=function(){var J;this.fb.trace("timeupdate",null === (J=this.Ga) || void 0 === J?void 0:J.currentTime);!1;this.mr && (this.mr.tBc=!0,this.Sib());this.em.kd(z.zk.st);};n.prototype.s1b=function(){this.ig.trace("Video element event: loadstart");};n.prototype.x1b=function(J){this.ig.trace("Video element event:",J.type);try{this.j.volume.set(this.Ga.volume);this.j.muted.set(this.Ga.muted);}catch(L){this.ig.error("error updating volume",L);}};n.prototype.q1b=function(J){var L,K,M,P,I,O,Q,S;L=this.nia;K=m.ca.lbb;M=m.K6a;P=this.fb.PY();I=J.target;O=I && I.error;Q=J.errorCode;I=O && O.code;(0,x.ed)(I) || (I=Q && Q.code);Q=O && O.message;S=O && O.msExtendedCode;(0,x.ed)(S) || (S=O && O.systemCode);(0,x.ed)(S) || (S=J.systemCode);(0,x.ed)(S) || (S=(0,D.MPa)(Q));J=(0,u.xf)({},{code:I,systemCode:S,trace:JSON.stringify(P)},{$ra:!0});M={Sa:M(I),jf:(0,v.PTa)(J)};try{Q && (M.Eaa=Q);}catch(U){}S=(0,u.Il)(S);(0,x.pc)(S) && (M.Fg=(0,l.wJa)(S,4));L.call(this,K,M);};n.prototype.Sib=function(){this.mr && this.mr.qBc && this.mr.tBc && (this.fb.trace("seekcomplete"),this.mr=void 0,this.em.kd(z.zk.Rca));};n.prototype.Y3b=function(J){var K,M;function L(P,I){J.addEventListener(P,M[P]=I);}K=this;M=this.WHa;L("error",function(P){return K.q1b(P);});L("seeking",function(){return K.u1b();});L("seeked",function(){return K.t1b();});L("timeupdate",function(){return K.w1b();});L("loadstart",function(){return K.s1b();});L("volumechange",function(P){return K.x1b(P);});L(this.aic,function(){return K.p1b();});f.config.Cfc && L("contextmenu",function(P){return P.preventDefault();});this.XHc=this.ud.PS((0,B.ec)(500),function(){K.jg.set(J.readyState);});};n.prototype.oJc=function(J){var L,P;if(J){for(var K=Fa(Object.entries(this.WHa)),M=K.next();!M.done;M=K.next()){P=Fa(M.value);M=P.next().value;P=P.next().value;J.removeEventListener(M,P);delete this.WHa[M];}null === (L=this.XHc) || void 0 === L?void 0:L.cancel();this.jg.set(C.qu.mI.HAVE_NOTHING);}};n.prototype.Z3b=function(J){var L,K;L=this.j.au;K=L.lastChild;K?L.insertBefore(J,K):L.appendChild(J);};n.prototype.jJc=function(J){f.config.vGc && this.c2b() || (J.removeAttribute("src"),J.load(),this.j.au.removeChild(J));this.Ag && (URL.revokeObjectURL(this.Ag),this.Ag=void 0);this.UB=void 0;};Ha.Object.defineProperties(n.prototype,{sourceBuffers:{configurable:!0,enumerable:!0,get:function(){return this.VI;}},uJb:{configurable:!0,enumerable:!0,get:function(){return f.config.rOc;}}});b.HBa=n;d.prototype.trace=function(J,L){this.Jva.push([J,L]);this.Jva.length > this.vRc && this.Jva.shift();};d.prototype.PY=function(){return this.Jva;};},51149:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m,p){var r;r=this;this.vq=m;this.jG=p;this.vNb=function(q){var u,v,w,x,y,z;u=r.KMb++;v=q.request.NJ || "dl";w=r.Tvb(v,"start");if(w){x=q.request.hL.L;if(x && !r.PLb.has(x)){y=r.avb(x);z=q.BD;r.vq.mark(w,y,z?v + "-" + z + "-" + u:v);q.yja(function(){var B,A;B=r.Tvb(v,"end");A=z?v + "-" + z + "-" + u:v;B && r.vq.mark(B,y,A);});}}};this.KMb=0;this.PLb=new Set();this.kZa=new Map();p.f8 && this.GUc();}Object.defineProperty(b,"__esModule",{value:!0});b.VBa=void 0;t=a(22970);n=a(22674);c=a(63156);h=a(77134);f=a(5021);e=a(61726);g=a(34231);k=a(79542);l={start:{video:c.lb.s2,audio:c.lb.o2},end:{video:c.lb.r2,audio:c.lb.n2}};d.prototype.bvb=function(m){var r,q,u,v,w,x,y,z;function p(B){return (0,f.timestamp)(r.$jb((0,f.timestamp)(B),m,!0));}r=this;q=new Set();u=m.wf;v=m.Ia;w=void 0 === m.ILb?null:m.ILb;x=m.L;y=this.vq.Hub(v);z=x && this.avb(x);z && y.push.apply(y,Aa(this.vq.Hub(z)));this.vq.OHb(m.Ia);z && this.vq.OHb(z);x && this.PLb.add(x);x=[];("pr_ats" in u) && x.push({name:c.lb.tha,sy:p(u.pr_ats),Ia:v,correlationId:"request-pre-manifest"});("ats" in u) && x.push({name:c.lb.rha,sy:p(u.ats),Ia:v,correlationId:"request-manifest"});("pr_at" in u) && x.push({name:c.lb.sha,sy:p(u.pr_at),Ia:v,correlationId:"request-pre-manifest"});("at" in u) && x.push({name:c.lb.qha,sy:p(u.at),Ia:v,correlationId:"request-manifest"});("lg" in u) && x.push({name:c.lb.pha,sy:p(u.lg),Ia:v,correlationId:"request-license"});("lr" in u) && (x.push({name:c.lb.oha,sy:p(u.lr),Ia:v,correlationId:"request-license"}),x.push({name:c.lb.afa,sy:p(u.lr),Ia:v,correlationId:"apply-license"}));("ld" in u) && x.push({name:c.lb.$ea,sy:p(u.ld),Ia:v,correlationId:"apply-license"});("tt_start" in u) && x.push({name:c.lb.q2,sy:p(u.tt_start),Ia:v,correlationId:"request-timed-text"});("tt_comp" in u) && x.push({name:c.lb.p2,sy:p(u.tt_comp),Ia:v,correlationId:"request-timed-text"});return x.concat(y).map(function(B){return r.gRc(B,m);}).filter(function(B){return B.ts <= (null !== w && void 0 !== w?w:B.ts)?("end" === B.step && q.add(B.eventId),!0):!1;}).filter(function(B){return "start" !== B.step || q.has(B.eventId)?!0:!1;}).sort(function(B,A){return B.ts - A.ts;}).reduce(function(B,A){var C;C=A.eventName;delete A.eventName;C && (B[C]=A);return B;},{});};d.prototype.f4b=function(m,p,r){return (void 0 === r?0:r)?m.oa(f.ya) + p.Gj.oa(f.ya):m.oa(f.ya) - p.Gj.oa(f.ya);};d.prototype.$jb=function(m,p,r){r=void 0 === r?!1:r;if(p.Lq)if(r)m.oa(f.ya) + p.Lq;else return m.oa(f.ya) - p.Lq;return this.f4b(m,p,r);};d.prototype.gRc=function(m,p){var r,q;r=m.correlationId;q=m.name;return {eventName:this.PAc(q,r),eventId:r || q,ts:this.$jb(m.sy,p),comp:this.Y8(q),cat:this.Xlc(q),step:this.Mpc(q)};};d.prototype.PAc=function(m,p){switch(m){case c.lb.q2:case c.lb.p2:case c.lb.o2:case c.lb.n2:case c.lb.s2:case c.lb.r2:return m + "-" + p;default:return m;}};d.prototype.Y8=function(m){switch(m){case c.lb.tha:case c.lb.sha:case c.lb.rha:case c.lb.qha:return "manifest";case c.lb.pha:case c.lb.oha:case c.lb.zEa:case c.lb.yEa:case c.lb.$fa:case c.lb.Zfa:case c.lb.afa:case c.lb.$ea:return "license";case c.lb.q2:case c.lb.p2:case c.lb.o2:case c.lb.n2:case c.lb.s2:case c.lb.r2:case c.lb.Gwa:case c.lb.Fwa:return "buffering";case c.lb.ECa:case c.lb.DCa:return "playback";default:return (0,k.WX)(m);}};d.prototype.Xlc=function(m){switch(m){case c.lb.tha:case c.lb.sha:case c.lb.rha:case c.lb.qha:return "aws";case c.lb.pha:case c.lb.oha:return "mixed";case c.lb.ECa:case c.lb.DCa:case c.lb.zEa:case c.lb.yEa:case c.lb.$fa:case c.lb.Zfa:case c.lb.afa:case c.lb.$ea:case c.lb.Gwa:case c.lb.Fwa:return "device";case c.lb.q2:case c.lb.p2:case c.lb.o2:case c.lb.n2:case c.lb.s2:case c.lb.r2:return "cdn";default:return (0,k.WX)(m);}};d.prototype.Mpc=function(m){switch(m){case c.lb.tha:case c.lb.ECa:case c.lb.rha:case c.lb.pha:case c.lb.Gwa:case c.lb.q2:case c.lb.o2:case c.lb.s2:case c.lb.zEa:case c.lb.$fa:case c.lb.afa:return "start";case c.lb.sha:case c.lb.DCa:case c.lb.qha:case c.lb.oha:case c.lb.yEa:case c.lb.Zfa:case c.lb.$ea:case c.lb.Fwa:case c.lb.p2:case c.lb.n2:case c.lb.r2:return "end";default:return (0,k.WX)(m);}};d.prototype.Tvb=function(m,p){if((m in l[p]))return l[p][m];};d.prototype.pSc=function(){e.He.removeEventListener(e.Coa,this.vNb);};d.prototype.GUc=function(){this.pSc();e.He.addEventListener(e.Coa,this.vNb);};d.prototype.avb=function(m){var p;if(this.kZa.has(m))return this.kZa.get(m);p=Date.now();this.kZa.set(m,p);return p;};a=d;b.VBa=a;b.VBa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.d4)),t.__param(1,(0,n.u)(g.Ls))],a);},27104:function(t,b,a){var c,h,f,e,g,k,l,m,p,r;function d(q,u,v,w,x,y){var z;z=this;this.dj=q;this.config=v;this.dc=w;this.debug=x;this.NO={};this.jqb=!1;this.z6={};this.RRa=0;this.Ana=function(B){var A,C,D;A=B.stream;if(A){B=A.cc;C=A.bitrate;D=A.Mb;}else B=B.track.cc;return {key:B + "$" + C + "$" + D,cc:B,bitrate:C,Mb:D};};this.Wtb=function(B){var A,C,D;C=z.Ana(B);D=null === (A=B.Oc) || void 0 === A?void 0:A.id;B=B.track.correlationId;return Object.assign({},C,{key:C.key + "$" + D + "$" + B,ul:D,correlationId:B});};this.Slc=function(B){var A;A=B.stream;B=null === A || void 0 === A?void 0:A.cc;A=null === A || void 0 === A?void 0:A.bitrate;return {key:B + "$" + A,cc:null !== B && void 0 !== B?B:"",SZ:A};};this.Cqc=function(B){var A;A=B.stream;B=null === A || void 0 === A?void 0:A.cc;A=null === A || void 0 === A?void 0:A.Mb;return {key:B + "$" + A,cc:null !== B && void 0 !== B?B:"",SZ:A};};this.log=u.ub("PlayTimeTracker");this.Osa=y(q);this.PA=y(q);this.FWa=y(q);this.startTime=this.dj.mediaTime.value;this.fqa=this.config().J2b;this.XT();this.NO.abrdel=0;this.fqa.forEach(function(B){B="abrdel" + B;z.z6[B]=0;z.NO[B]=0;});}function n(){}Object.defineProperty(b,"__esModule",{value:!0});b.vDa=void 0;t=a(22970);c=a(22674);h=a(87386);f=a(4203);e=a(71501);a(5021);g=a(42207);k=a(90597);l=a(33096);m=a(3887);p=a(39551);r=a(30873);n.prototype.encode=function(q){return {downloadableId:q.cc,correlationId:q.correlationId,bitrate:q.bitrate,vmaf:q.Mb,duration:q.duration,metric:q.SZ,cdnId:q.ul};};n.prototype.decode=function(q){return {cc:q.downloadableId,correlationId:q.correlationId,bitrate:q.bitrate,Mb:q.vmaf,duration:q.duration,SZ:q.metric,ul:q.cdnId};};d.prototype.wv=function(q){q=void 0 === q?"content":q;this.lM(this.dj.mediaTime.value);return Math.floor(this.PA.wv(function(u){return u.uq === q;}));};d.prototype.bub=function(q){this.lM(this.dj.mediaTime.value);return Math.floor(this.PA.wv(q));};d.prototype.F9=function(q){var u;q=void 0 === q?"content":q;this.lM(this.dj.mediaTime.value);u=this.PA.F9(function(v){return v.uq === q;});this.debug.assert(u === Math.floor(u),"Value of totalContentPlayTime is not an integer.");return Math.floor(u);};d.prototype.Ilc=function(){this.lM(this.dj.mediaTime.value);return {audio:this.d9(this.Osa,this.Wtb),video:this.d9(this.PA,this.Wtb)};};d.prototype.Noc=function(){var q,u,v;q=this.wv("content");u=this.wv("ads");v=this.wv("other");q={total:q,totalAdDuration:u,totalOtherDuration:v,totalCombinedDuration:q + u + v,totalContentTime:this.F9("content"),totalStartSlateDuration:this.bub(function(w){return !0 === w.y$;}),totalLiveEdgeDuration:this.bub(function(w){return !0 === w.kA;}),audio:this.d9(this.Osa,this.Ana),video:this.d9(this.PA,this.Ana),timedtext:this.d9(this.FWa,this.Ana)};this.debug.assert(!(!q.audio || !q.video));return q;};d.prototype.EOa=function(){var q,u;this.lM(this.dj.mediaTime.value);q=this.PA.AOa(this.Slc);try{u=this.vtb(q);}catch(v){return (this.log.warn("Failed to calc average bitrate."),null);}this.NO.abrdel=Math.round(u);return this.NO.abrdel;};d.prototype.wtb=function(){var q,u;this.lM(this.dj.mediaTime.value);q=this.PA.AOa(this.Cqc);try{u=this.vtb(q);}catch(v){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(u);};d.prototype.utb=function(){var q,u;q=this;if(!this.jqb){u=this.wv();this.fqa.forEach(function(v){var w,x,y;if(0 === q.z6["abrdel" + v] && u > v * l.Uq){w=0;x=0;y=0;q.PA.some(function(z){w+=z.stream.bitrate * (z.endTime - z.startTime);x+=z.endTime - z.startTime;y=z.stream.bitrate;return x > v * l.Uq;});w && (q.z6["abrdel" + v]=Math.round((w - y * (x - v * l.Uq)) / (v * l.Uq)));}});0 !== this.z6["abrdel" + this.fqa[this.fqa.length - 1]] && (this.jqb=!0);(0,m.hi)(this.z6,function(v,w){q.NO[v]=0 === w?q.NO.abrdel:w;});}return this.NO;};d.prototype.s3b=function(q){this.RRa+=q;};d.prototype.woa=function(){return this.PA.woa();};d.prototype.XT=function(){var q;q=this;this.dj.Re.addListener(function(u){q.hX=q.pmb(q.hX,q.Osa,u.newValue);});this.dj.se.addListener(function(u){q.nX=q.pmb(q.nX,q.PA,u.newValue);});this.dj.playbackRate.addListener(function(u){q.lM(q.dj.mediaTime.value,u.oldValue);});this.dj.Fk.addListener(this.KBc.bind(this));};d.prototype.bVa=function(q,u){this.lM(q);this.startTime=u;this.nX=this.hX=void 0;this.mX && (this.mX.startTime=this.startTime);!1;};d.prototype.KBc=function(q){this.FWa.Rf(this.mX,this.dj.mediaTime.value);this.mX=(q=q.newValue)?{track:q,startTime:this.dj.mediaTime.value,endTime:e.zE}:void 0;};d.prototype.lM=function(q,u){u=void 0 === u?this.dj.playbackRate.value:u;q && this.hX && this.nX && (q=Math.min(q,this.hX.endTime,this.nX.endTime),this.Osa.Rf(this.hX,q,u),this.hX.startTime=q,this.PA.Rf(this.nX,q,u),this.nX.startTime=q,this.mX && (this.FWa.Rf(this.mX,q,u),this.mX.startTime=q),this.startTime=q,!1);};d.prototype.pmb=function(q,u,v){var w,x;q && u.Rf(q,Math.min(q.endTime,this.dj.mediaTime.value));if(v && v.stream){q=v.NW;u=v.stream;w=v.uq;x=this.dj.Ac;return {Oc:v.Oc,track:u.track,stream:u,startTime:Math.max(q.startTime,this.startTime),endTime:q.endTime,y$:x.za?x.iK(q.Nnb) === r.Jy.x4:void 0,kA:x.za?x.Ct():void 0,uq:w};}};d.prototype.d9=function(q,u){return q.AOa(u,"content").map(function(v){return new n().encode(v);});};d.prototype.vtb=function(q){var u,v,w;u=this;v=0;q.forEach(function(x){if(u.dc.gi(x.duration) && u.dc.gi(x.SZ))v+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!v)return 0;w=0;q.forEach(function(x){w+=x.SZ * x.duration / v;});return w;};a=d;b.vDa=a;b.vDa=a=t.__decorate([(0,c.$)(),t.__param(1,(0,c.u)(h.yb)),t.__param(2,(0,c.u)(f.Fc)),t.__param(3,(0,c.u)(g.wi)),t.__param(4,(0,c.u)(k.wB)),t.__param(5,(0,c.u)(p.JDa))],a);},24722:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M;function d(P,I,O,Q,S,U,W,Y,X,Z,aa,ca,da,ja,R,N,V,ba,fa,ha,la,pa,ia,na,T,ea,ka,ra){this.fA=P;this.oJ=I;this.Ua=O;this.La=Q;this.o6b=S;this.s0a=U;this.raa=W;this.UTa=Y;this.EZ=X;this.fg=Z;this.Hj=aa;this.Xk=ca;this.PO=da;this.Gba=ja;this.hh=R;this.T0a=N;this.Jh=V;this.vq=ba;this.Df=fa;this.DWa=ha;this.EJc=la;this.eJa=pa;this.vR=ia;this.pWa=na;this.qIa=T;this.D7b=ea;this.IG=ka;this.lW=ra;}Object.defineProperty(b,"__esModule",{value:!0});b.CDa=void 0;t=a(22970);n=a(62665);c=a(22674);h=a(45842);f=a(11479);e=a(81918);g=a(30869);k=a(12826);l=a(37104);m=a(24273);p=a(73449);r=a(66476);q=a(79274);u=a(52531);v=a(24550);w=a(91622);x=a(61861);y=a(78388);z=a(45118);B=a(6823);A=a(74870);C=a(92205);D=a(77134);F=a(93367);G=a(85405);E=a(2160);H=a(49745);J=a(50889);L=a(70068);K=a(33258);d.prototype.create=function(P,I,O,Q,S,U,W,Y){return new (a(18128).lcb)(P,I,U,W,Q,S,this.fA,O,this.Ua,this.oJ,this.La,this.raa,this.o6b,this.s0a,this.UTa,this.EZ,this.fg,this.Hj,this.Xk,this.PO,this.Gba,this.hh,this.T0a,this.Jh,this.Df,this.DWa,this.vq,this.EJc(),this.eJa,this.vR,this.pWa,this.qIa,this.D7b,this.IG,void 0,Y);};M=d;b.CDa=M;b.CDa=M=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(n.xE)),t.__param(1,(0,c.u)(f.Oj)),t.__param(2,(0,c.u)(e.$d)),t.__param(3,(0,c.u)(g.vi)),t.__param(4,(0,c.u)(k.V3a)),t.__param(5,(0,c.u)(h.EI)),t.__param(6,(0,c.u)(l.DBa)),t.__param(7,(0,c.u)(m.u$a)),t.__param(8,(0,c.u)(p.U3)),t.__param(9,(0,c.u)(r.ON)),t.__param(10,(0,c.u)(q.q4)),t.__param(11,(0,c.u)(u.IN)),t.__param(12,(0,c.u)(w.c4a)),t.__param(13,(0,c.u)(x.HDa)),t.__param(14,(0,c.u)(H.QU)),t.__param(15,(0,c.u)(y.Hfb)),t.__param(16,(0,c.u)(z.Dp)),t.__param(17,(0,c.u)(D.d4)),t.__param(18,(0,c.u)(A.cm)),t.__param(19,(0,c.u)(C.mcb)),t.__param(20,(0,c.u)(F.zdb)),t.__param(21,(0,c.u)(G.m3a)),t.__param(22,(0,c.u)(E.WBa)),t.__param(23,(0,c.u)(J.Sbb)),t.__param(24,(0,c.u)(L.Xwa)),t.__param(25,(0,c.u)(K.Yxa)),t.__param(26,(0,c.u)(B.Bga)),t.__param(27,(0,c.u)(v.d2)),t.__param(27,(0,c.optional)())],M);},18128:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M,P,I,O,Q,S,U,W,Y,X,Z,aa,ca,da,ja;function d(R,N,V,ba,fa,ha,la,pa,ia,na,T,ea,ka,ra,ta,qa,xa,Ba,oa,va,za,ua,ya,Da,Ja,Ka,La,Oa,Na,Pa,Ta,Va,Xa,mb,nb,eb){var Ga,Ib;function wb(Ea){Ea.newValue && Ea.newValue.stream && (Ga.se.removeListener(wb),Ga.Toa=Ea.newValue.stream.bitrate);}function xb(Ea){Ea.newValue !== O.Kb.Yg && Ea.newValue !== O.Kb.zi && (Ga.Wb.removeListener(xb),Ga.zG=Ga.La.zH,Ga.jc.kd(O.ja.NA));}function yb(Ea){Ea.newValue !== O.Kb.Yg && (Ga.Wb.removeListener(yb),Ga.kp=!0,Ga.Fba=Ga.La.Eg.oa(C.ya),Ga.jc.kd(O.ja.kp));}Ga=this;this.wb=fa;this.Ql=ha;this.fA=la;this.Ua=ia;this.oJ=na;this.La=T;this.raa=ea;this.UTa=ta;this.EZ=qa;this.fg=xa;this.Hj=Ba;this.Xk=oa;this.PO=va;this.Gba=za;this.hh=ua;this.T0a=ya;this.Jh=Da;this.Df=Ja;this.DWa=Ka;this.vq=La;this.nYa=Oa;this.eJa=Na;this.vR=Pa;this.pWa=Ta;this.qIa=Va;this.UJa=Xa;this.IG=mb;this.lW=nb;this.SFb=[];this.Xn=new Map();this.gRa=new Map();this.Dh=new aa.AbortController();this.ka=new ca.NDa();this.Fk=new p.vc(null);this.nB=new p.vc(void 0);this.Qf=new p.vc(null);this.Ri=new p.vc(null);this.mediaTime=new p.vc(void 0);this.playbackRate=new Y.pcb(1,r.config.eUa);this.background=new p.vc(!0);this.xea=function(Ea){return Ga.ka.oy(Ea);};this.sSc=function(Ea){return Ga.Fk.set(Ea.newValue);};this.hTc=function(Ea){return Ga.nB.set(Ea.newValue);};this.jTc=function(Ea){return Ga.Qf.set(Ea.newValue);};this.uSc=function(Ea){return Ga.Ri.set(Ea.newValue);};this.$Sc=function(Ea){return Ga.se.set(Ea.newValue);};this.ZSc=function(Ea){return Ga.Re.set(Ea.newValue);};this.SSc=function(Ea){return Ga.mediaTime.set(Ea.newValue);};this.vSc=function(Ea){return Ga.background.set(Ea.newValue);};this.B1=function(Ea){return Ga.playbackRate.set(Ea.newValue);};this.Wr={};this.EYa=this.J0a=0;this.jc=new q.Vl();this.iwa={};this.wda=this.IFb=this.kp=!1;this.TT=new p.vc(void 0);this.state=new p.vc(O.Bc.WU);this.Ij=new p.vc(!1);this.paused=new p.vc(!1);this.muted=new p.vc(!1);this.volume=new p.vc(r.config.Iec / 100);this.Wb=new p.vc(O.Kb.Yg);this.ee=new p.vc(O.Wg.Ff);this.et=new p.vc(O.Wg.Ff);this.en=new p.vc(O.Wg.Ff);this.Re=new p.vc(null);this.se=new p.vc(null);this.PJa=new p.vc(null);this.Doa=(0,l.hUb)(this);this.Oc=[new p.vc(null),new p.vc(null),new p.vc(null)];this.yJa={};this.EX=!1;this.jb=this.wh=-1;this.sQ=function(Ea,Ra){var Wa;Ea=void 0 === Ea?null:Ea;return (0,J.pc)(Ea)?Ra && !Ga.Dl(Ra).S?Ea:(null === (Wa=Ga.bb) || void 0 === Wa?0:Wa.Uj)?Ga.bb.iLa(Ea):Ea:null;};this.hba=function(){Ga.A_a();};this.fEb=function(){var Ea,Ra;Ra=document.hidden;0 === Ga.oX && Ra && !Ga.paused.value?(Ga.paused.set(!0,{FA:!0}),!1):Ra || !Ga.paused.value || !0 !== (null === (Ea=Ga.paused.Am) || void 0 === Ea?void 0:Ea.FA) || Ga.background.value || (Ga.Ac.za && Ga.Ac.Ct() && Ga.Ac.Pca(),Ga.paused.set(!1,{FA:!0}),!1);};this.Exc=this.IJ=R;this.addEventListener=this.jc.addListener;this.removeEventListener=this.jc.removeListener;this.fireEvent=this.jc.kd;this.Cja({J:R,sf:fa.ga.ap,L:ba,mb:V || ({})},r.config.ay?this.fg.Xz(R):void 0,N);this.log=(0,A.Mn)(this);this.Spb=pa(this);this.n6b=ka(this);this.au=(0,P.createElement)("DIV",m.kEa,void 0,{id:this.R});this.Msc();this.dd=this.log.dP("Playback");(0,h.aYb)(this);w.Qy.Taa=this;w.Qy.aOa || (w.Qy.aOa=this);this.dd.info("Playback created",this.ri);this.AAb?this.dd.info("Playback selected for trace playback info logging"):this.dd.trace("Playback not selected for trace playback info logging");r.config.ay && (this.fg.$qc(this.R),this.addEventListener(O.ja.NA,function(){Ga.fg.crc(Ga.R);Ga.ka.addListener([Z.v.Ba],function(){Ga.fg.hwb();});Ga.ka.addListener([Z.v.X],function(){Ga.fg.hwb();});}),this.addEventListener(O.ja.$g,function(){Ga.fg.Zqc(Ga.R);}));this.state.addListener(function(Ea){Ga.dd.info("Playback state changed",{From:Ea.oldValue,To:Ea.newValue});(0,F.ta)(Ea.newValue > Ea.oldValue);});v.re.addListener(v.Gm,this.hba,m.vCa);Ib=ra((0,C.Ji)(1));this.mediaTime.addListener(function(){Ga.ckc();Ib.ag(function(){return Ga.xsb();});});this.Wb.addListener(function(Ea){Ga.dd.info("PresentingState changed",{From:Ea.oldValue,To:Ea.newValue,MediaTime:(0,G.Rj)(Ga.mediaTime.value)},Ga.AA());});this.Wb.addListener(function(){Ga.Ij.set(Ga.Wb.value === O.Kb.hg);});this.ee.addListener(function(Ea){Ga.dd.info("BufferingState changed",{From:Ea.oldValue,To:Ea.newValue,MediaTime:(0,G.Rj)(Ga.mediaTime.value)},Ga.AA());});this.et.addListener(function(Ea){Ga.dd.info("AV BufferingState changed",{From:Ea.oldValue,To:Ea.newValue,MediaTime:(0,G.Rj)(Ga.mediaTime.value)},Ga.AA());});this.en.addListener(function(Ea){Ga.dd.info("Text BufferingState changed",{From:Ea.oldValue,To:Ea.newValue,MediaTime:(0,G.Rj)(Ga.mediaTime.value)},Ga.AA());});this.ka.addListener([Z.v.X],function(Ea){(0,F.ta)(Ea.Tx && Ea.Tx.pg);Ga.dd.info("AudioTrack changed",Ea.Tx && ({ToBcp47:Ea.Tx.Cg,To:Ea.Tx.trackId}),Ea.Ov && ({FromBcp47:Ea.Ov.Cg,From:Ea.Ov.trackId}),{MediaTime:(0,G.Rj)(Ga.mediaTime.value)});});this.ka.addListener([Z.v.Ba],function(Ea){(0,F.ta)(!Ea.Tn || Ea.Tn.pg);Ga.dd.info("TimedTextTrack changed",Ea.Tn?{ToBcp47:Ea.Tn.Cg,To:Ea.Tn.trackId}:{To:"none"},Ea.Xx?{FromBcp47:Ea.Xx.Cg,From:Ea.Xx.trackId}:{From:"none"},{MediaTime:(0,G.Rj)(Ga.mediaTime.value)});});this.Wb.addListener(yb,m.YU);this.Wb.addListener(xb);this.addEventListener(O.ja.NA,function(){Ga.wda=!0;Ga.ILb=Ga.Q6();Ga.Sg("start");});this.se.addListener(wb);(0,B.cYb)(this);w.Ip.push(this);r.config.lca && (this.Jsa=this.DWa(this),this.Msa=new y.rcb(this));w.zDa.forEach(function(Ea){Ea(Ga);});this.F3b=function(){Ga.addEventListener(O.ja.m0,function(Ea){var Ra,Wa,ob,zb,Jb,Za,Ab,Kb,pb,Bb,Lb;zb=Ea.zc;Jb=Ea.skip;Za=Ea.ER;Ab=Ea.IR;Kb=Ea.R;pb=Ea.vl;if(zb !== O.Jc.jV && zb !== O.Jc.po)if((null === (Ra=Ga.bb) || void 0 === Ra?void 0:Ra.stop(),Jb)){if(null !== (Wa=Ga.bb) && void 0 !== Wa && Wa.Ik(Za)){Ga.dd.trace("Repositioned. Skipping from " + Ab + " to " + Za);Ea=function(Qa){Ga.log.error("streamingSession.skipped threw an exception",Qa);Qa=Q.ie.ena(D.ca.BQb,Qa);Ga.Zv(Qa.code,Qa);};try{Ga.bb.kM(Za).then(function(Qa){var $a;Qa.dZ || (null === ($a=Ga.bb) || void 0 === $a?void 0:$a.play());}).catch(Ea);}catch(Qa){Ea(Qa);}}else Ga.log.error("can skip returned false");}else {Ga.dd.trace("Repositioned. Seeking from " + Ab + " to " + Za);try{Bb=Ga.wb.oQ(Ga.ga);Lb=Object.keys(Bb.ba).find(function(Qa){var $a;Qa=Bb.ba[Qa];return Qa.J === Kb && Qa.eb <= pb && (null !== ($a=Qa.ib) && void 0 !== $a?$a:Infinity) > pb;});null === (ob=Ga.bb) || void 0 === ob?void 0:ob.rLc(pb,Lb);}catch(Qa){Ga.log.error("streamingSession.seekByContentPts threw an exception",Qa);Za=Q.ie.ena(D.ca.zQb,Qa);Ga.Zv(Za.code,Za);}}});Ga.addEventListener(O.ja.ls,function(Ea){Ga.nYa.ls(Ea);Ga.ga.jp.bVa(Ea.IR,Ea.ER);});};this.playbackRate.addListener(function(){var Ea,Ra;if(null === (Ea=Ga.bb) || void 0 === Ea?0:Ea.Uj)null === (Ra=Ga.bb) || void 0 === Ra?void 0:Ra.cFc();});this.addEventListener(O.ja.zF,function(Ea){var Ra;if(Ea.zc == w.xDa)try{Ga.ee.set(O.Wg.Ff);null === (Ra=Ga.bb) || void 0 === Ra?void 0:Ra.Nq(Ga.Rd.Xtb());}catch(Wa){Ga.log.error("streamingSession.underflow threw an exception",Wa);Ea=Q.ie.ena(D.ca.CQb,Wa);Ga.Zv(Ea.code,Ea);}});v.re.addListener(v.Lr,this.fEb);eb && (this.ga.S=eb,this.hh.lT(R,eb));}Object.defineProperty(b,"__esModule",{value:!0});b.lcb=void 0;n=a(22970);c=a(50040);h=a(86258);f=a(20318);e=a(66093);g=a(11953);k=a(73585);l=a(24427);m=a(33096);p=a(81734);r=a(29204);q=a(94886);u=a(42654);v=a(37509);w=a(13044);x=a(59032);y=a(62439);z=a(79014);B=a(39480);A=a(31276);C=a(5021);D=a(36129);F=a(45146);G=a(8825);E=a(3887);H=a(32219);J=a(32687);L=a(73056);K=a(45266);M=a(16520);P=a(52569);I=a(72639);O=a(85001);Q=a(31149);S=a(78719);U=a(35128);W=a(13494);Y=a(65361);X=a(79048);Z=a(26388);aa=a(91176);ca=a(73403);da=a(54973);ja=a(99416);d.prototype.Sg=function(R,N){var V;N=void 0 === N?this.IJ:N;null === (V=this.Xn.get(N)) || void 0 === V?void 0:V.Sg(R);};d.prototype.uK=function(R){this.ga.uK(R);};d.prototype.ooa=function(){var R;return !(null === (R=this.S) || void 0 === R || !R.Aa.Ez);};d.prototype.iZ=function(){return this.wb.iZ();};d.prototype.yv=function(){var R,N,V,ba;ba=null === (R=this.S) || void 0 === R?void 0:R.Aa.Od;return 0 < (null !== (N=null === ba || void 0 === ba?void 0:ba.rb.length) && void 0 !== N?N:0) || !0 === (null === ba || void 0 === ba?void 0:ba.ak) || !0 === (null === (V=this.Cc) || void 0 === V?void 0:V.yv());};d.prototype.CSa=function(R){return void 0 !== R && R === this.sf;};d.prototype.Msc=function(){var R;R=this;this.ka.addListener([Z.v.X,Z.v.Ba,Z.v.U],function(N){return R.ga.ka.oy(N);});this.Fk.addListener(function(N){return R.ga.Fk.set(N.newValue);});this.nB.addListener(function(N){return R.ga.nB.set(N.newValue);});this.Qf.addListener(function(N){return R.ga.Qf.set(N.newValue);});this.Ri.addListener(function(N){return R.ga.Ri.set(N.newValue);});this.se.addListener(function(N){return R.ga.se.set(N.newValue);});this.Re.addListener(function(N){return R.ga.Re.set(N.newValue);});this.Oc[Z.v.X].addListener(function(N){return R.ga.Oc[Z.v.X].set(N.newValue);});this.Oc[Z.v.U].addListener(function(N){return R.ga.Oc[Z.v.U].set(N.newValue);});this.Oc[Z.v.Ba].addListener(function(N){return R.ga.Oc[Z.v.Ba].set(N.newValue);});this.mediaTime.addListener(function(N){return R.ga.mediaTime.set(N.newValue);});this.background.addListener(function(N){return R.ga.background.set(N.newValue);});this.playbackRate.addListener(function(N){return R.ga.playbackRate.set(N.newValue);});this.SIb();};d.prototype.SIb=function(){var R;R=this;this.ga !== this.Vca && (this.ga.mediaTime.set(this.mediaTime.value),this.ga.background.set(this.background.value),this.ga.playbackRate.set(this.playbackRate.value),this.HUc(this.xea),this.Dy(function(N){return N.nB;},this.hTc),this.Dy(function(N){return N.Fk;},this.sSc),this.Dy(function(N){return N.Qf;},this.jTc),this.Dy(function(N){return N.Ri;},this.uSc),this.Dy(function(N){return N.Re;},this.ZSc),this.Dy(function(N){return N.se;},this.$Sc),this.Dy(function(N){return N.Oc[Z.v.X];},function(N){return R.Oc[Z.v.X].set(N.newValue);}),this.Dy(function(N){return N.Oc[Z.v.U];},function(N){return R.Oc[Z.v.U].set(N.newValue);}),this.Dy(function(N){return N.Oc[Z.v.Ba];},function(N){return R.Oc[Z.v.Ba].set(N.newValue);}),this.Dy(function(N){return N.mediaTime;},this.SSc),this.Dy(function(N){return N.background;},this.vSc),this.Dy(function(N){return N.playbackRate;},this.B1),this.ka.qp(this.ga.ka.Kd),this.ka.bB(this.ga.ka.ce,{sF:!0}),this.ka.c_a(this.ga.ka.zh),this.Fk.set(this.ga.Fk.value),this.nB.set(this.ga.nB.value),this.Qf.set(this.ga.Qf.value),this.Ri.set(this.ga.Ri.value),this.Vca=this.ga);};d.prototype.HUc=function(R){this.Vca && this.Vca.ka.removeListener(R);this.ga.ka.addListener([Z.v.X,Z.v.U,Z.v.Ba],R);};d.prototype.Dy=function(R,N){this.Vca && R(this.Vca).removeListener(N);R(this.ga).addListener(N);};d.prototype.z8b=function(){var R,N;N=!(null === (R=this.Cc) || void 0 === R || !R.Bo.value);R=!N;if(N && "embedded" === this.Cc.XSa || this.npa())R=!0;return R;};d.prototype.npa=function(){var R,N;return this.Ac.za && !(null === (N=null === (R=this.S) || void 0 === R?void 0:R.Aa.Od) || void 0 === N || !N.ak);};d.prototype.load=function(R){var N,V;N=this;this.load=function(){};this.YFb=R;if(!(this.state.value != O.Bc.WU || this.qyb() && this.IG.eUc())){this.dd.info("Playback loading",this);this.YAc();this.Sg("asl_load_start");V=this.oJ;R=V.startTime;V=V.endTime;(0,J.ed)(R)?(0,J.ed)(V)?this.Sg("asl_ended"):this.Sg("asl_in_progress"):this.Sg("asl_not_started");this.oJ.$$(function(ba){N.Sg("asl_load_complete");ba.success?N.icc():N.Zv(ba.errorCode || D.ca.cAa,ba);});}};d.prototype.CFc=function(){!1;try{this.state.value === O.Bc.LOADING && (this.OOb(),this.Tp=this.PO.h4b({ZD:(0,C.ec)(this.Eb),R:this.R,xL:this.MF,mb:this.mb,rL:this.mb.Hg?r.config.QVa:r.config.rL,Ac:this.Ac}).oa(C.ya),this.bJa(),this.Hdc());}catch(R){this.Zv(D.ca.EUb,{Sa:D.Y.Sq,jf:(0,E.Wi)(R)});}};d.prototype.OOb=function(){var R,N,V;V={width:1,height:1};this.nK({XOb:!0}).forEach(function(ba){V.width * V.height < ba.width * ba.height && (V={width:ba.width,height:ba.height});});V.height === (null === (R=this.TT.value) || void 0 === R?void 0:R.height) && V.width === (null === (N=this.TT.value) || void 0 === N?void 0:N.width) || this.TT.set(V);};d.prototype.lD=function(){var R,N;!1;N=this.wb.oQ(this);this.Bob(N);null === (R=this.bb) || void 0 === R?void 0:R.FM(N);};d.prototype.JR=function(R){var N,V;!1;(0,F.ta)(this.bb,"ASE should be initialized");V=this.wb.n9(R);V?R === this.wb.ei?this.bb.Vka(V,!0) || this.J9(V,{}):null === (N=this.bb) || void 0 === N?void 0:N.bn(R,V,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};d.prototype.J9=function(R,N,V){var ba,fa,ha,la,pa;ba=this;V=void 0 === V?!0:V;!1;la=this.wb.Bt(R);if(this.Xk.bwa && this.wb.ga.J === la.J)return Promise.resolve(this.Rd.seek(la.eb,O.Jc.tu,void 0));la=this.Ql.xQ(la.J);N=(0,K.Jqa)(la.Bb,N);if(null === (fa=this.bb) || void 0 === fa || !fa.Uj)throw (!1,Error("No streaming session"));!1;this.EO("Transition " + this.wb.ei + "->" + R);pa=this.Dl(R);pa.Lq=this.Ua.wc().oa(C.ya);pa.mb=N;return "seamless" !== (null !== (ha=this.wb.Bt(R).Td) && void 0 !== ha?ha:"seamless") || V?(this.bb.o9(R).K6?this.Fqc(R,pa.R):this.Qca(R,pa.R)).then(function(){ba.Ckc(pa.R);}):Promise.resolve();};d.prototype.Qca=function(R,N){var V;V=this.wb.Sm.ba[R].eb;!1;this.EO("NO DATA " + R + ", SEEKING " + V + ", viewableId: " + N);return Promise.resolve(this.Rd.seek(V,O.Jc.tu,R,!0));};d.prototype.Fqc=function(R,N){var V,ba,fa,ha,la;V=this;!1;ba=this.bb;if(null === ba || void 0 === ba || !ba.Uj)throw Error("No streaming session");fa=new Promise(function(pa){function ia(){!1;ba.removeEventListener("stop",ia);pa();}ba.addEventListener("stop",ia);});ha=!1;la=new Promise(function(pa){function ia(na){!1;V.removeEventListener(O.ja.m0,ia);ba.stop();ha=na.skip;pa();}V.addEventListener(O.ja.m0,ia);});fa=Promise.all([fa,la]).then(function(){var pa;pa=!1;ha && (pa=ba.Vka(R,!1));if(!pa)return (V.EO("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),V.Qca(R,N));});la=ba.kLa(R,this.wb.Sm.ba[R].eb);!1;this.Rd.seek(la,O.Jc.jV,R,!0);return fa;};d.prototype.Cja=function(R,N,V){var ba,fa,ha,la,pa,ia,na,T,ea;N=void 0 === N?this.fA.NF():N;V=void 0 === V?this.Ua.wc():V;ha=!!r.config.rPb && !(N % r.config.rPb);la=R.J;pa=R.sf;ia=R.L;na=R.mb;T=R.me;if(this.Xn.has(la))N=this.Xn.get(la);else {N=this.Gba(w.Qy.index++,la,ia,na,N,V,ha,this.ga,this.sQ,T,pa,this);this.Xn.set(la,N);1 < this.Xn.size && (N.YK=this.CSa(N.sf)?this.YK:this.EZ.create(this,N,!1,this.sQ));N.QZ=new x.U$a(this,N);ea=null === T || void 0 === T?void 0:T.Fb;(R=R.c6b) || (R=null === (fa=null === (ba=this.ga.S) || void 0 === ba?void 0:ba.Sp) || void 0 === fa?void 0:fa.find(function(ka){return ka.Aa.R === la && (void 0 === ea || ka.Aa.Fb === ea);}));R?this.Qba(R,N):1 < this.Xn.size && this.hh.Av(N.R) && this.zta(N);}};d.prototype.Aob=function(R,N,V,ba){var fa,ha,la,pa,ia,na,T,ea,ka,ra,ta;fa=this;!1;ea={PC:!0,Hg:!1,rB:Date.now()};(0,F.ta)(N.Hf,"Auxiliary viewable config request options must have auxiliary options");ka=N.Hf;ra=ka.Fb;if((ka=ka.fd) && this.M9(ka)){ta=null === (ha=this.Nk(ka).S) || void 0 === ha?void 0:ha.Aa;N={Fb:ra,nD:this.Sd,fd:ka,sba:ta,Cv:N.Cv};(0,F.ta)(null === (la=this.bb) || void 0 === la?void 0:la.Di,"If we have auxiliary viewables combined playgraph must exist");if(null === (ia=null === (pa=this.bb) || void 0 === pa?void 0:pa.Di) || void 0 === ia?0:ia.ba)(la=Object.keys(null === (T=null === (na=this.bb) || void 0 === na?void 0:na.Di) || void 0 === T?void 0:T.ba).find(function(qa){var xa,Ba;return (null === (Ba=null === (xa=fa.bb) || void 0 === xa?void 0:xa.Di) || void 0 === Ba?void 0:Ba.ba[qa].J) === R;}),!la && this.npa() && (la="placeholder-segmentId-" + R),(0,F.ta)(!!la,"Segment for the auxiliary viewable should exist in the combined playgraph"),la && this.Cja({c6b:ba,me:N,mb:ea,L:la,J:R},V));}};d.prototype.M9=function(R){return !!this.Xn.has(R);};d.prototype.ywb=function(R){try{return (this.Dl(R),!0);}catch(N){return !1;}};d.prototype.Nk=function(R){if(R === X.Xq)return this.ga;if(!this.Xn.has(R))throw Error("Playback segment not found: " + R);return this.Xn.get(R);};d.prototype.Dl=function(R){var N,V,ba;a:{for(var fa=Fa(this.bS),ha=fa.next();!ha.done;ha=fa.next())if((ha=ha.value,ha.L === R)){fa=ha;break a;}fa=void 0;}return fa?fa:(null === (V=null === (N=this.bb) || void 0 === N?void 0:N.Di) || void 0 === V?0:V.ba[R])?(R=null === (ba=this.bb) || void 0 === ba?void 0:ba.Di.ba[R].J,this.NTa.R === R && (fa=this.NTa),null !== fa && void 0 !== fa?fa:this.Nk(R)):this.ga;};d.prototype.jub=function(R){return this.gRa.get(R);};d.prototype.zta=function(R){var N,V;N=this;!1;V=R.R;this.Ql.zMc(V);return this.Zca(R).then(function(ba){N.Qba(ba,R);ba=R.PQ?N.$b.XC.JJc(R):Promise.resolve();N.RFc(R);return ba.then(function(){return N.Ql.kKb(V);});}).catch(function(ba){N.log.error("queueManifest failed",ba);N.Ql.yMc(V,ba);throw N.Hj(ba.code,ba);});};d.prototype.fGc=function(){var R,N,V,ba,fa,ha;V=this.ga;(0,F.ta)(void 0 !== V.sf,"segment should have mainViewableId defined to fetch main manifest");V.Ia=null !== (R=V.Ia) && void 0 !== R?R:this.fA.NF();ba=this.wb.oQ(this);R=Object.keys(ba.ba).find(function(la){return ba.ba[la].J === V.sf;});fa=I.Fp.Zq;ha={PC:!0,Hg:!1};R && (ha=ba.ba[R],ha=Object.assign(null !== (N=this.Ql.xQ(V.sf).Bb) && void 0 !== N?N:this.mb,{Eb:ha.eb,Dg:ha.ib,Hg:!1,rB:Date.now(),PC:!0}),this.Cja({J:V.sf,sf:V.sf,L:R,mb:ha},V.Ia));return r.config.ay && this.hh.Av(this.R)?this.hh.U8(this.R):this.hh.Po({Ia:V.Ia,mb:ha,J:V.sf,xt:fa,li:void 0,AM:void 0,me:void 0},this.Dh.signal,!1);};d.prototype.DS=function(R){var N,V,ba,fa,ha,la,pa;N=this;V=R.Wx;ba=R.M6;fa=R.Hf;R=fa.Fb;ha=fa.fd;fa=this.Nk(ha);la=I.Fp.Zq;pa={PC:!0,Hg:!1,rB:Date.now()};return this.hh.Po({Ia:fa.Ia,mb:pa,J:fa.R,xt:la,li:void 0,Wx:V,M6:ba,me:{Fb:R,nD:fa.Sd}},this.Dh.signal,!1).then(function(ia){N.hh.tGb();ia.Sp.forEach(function(na){N.hh.lT(na.Aa.R,na);N.gRa.set(na.Aa.R,na);});if(!ia.Aa.Od)throw Error("Dai prefetch request has no adverts forparentViewableId: " + ha);return ia.Aa.Od;});};d.prototype.CS=function(R){var N,V,ba,fa,ha,la,pa;N=this;(0,F.ta)(R.Hf,"auxiliaryOptions must exist if an adBreak hydration was requested");V=R.Hf;ba=V.Fb;fa=V.fd;ha=R.Vj;la=R.Xa;(0,F.ta)(!!ba,"auxiliaryManifestToken must exist if an adBreak hydration was requested");!1;R=this.Nk(R.Hf.fd);V=I.Fp.Zq;pa={PC:!0,Hg:!1,rB:Date.now()};return this.hh.Po({Ia:R.Ia,mb:pa,J:R.R,xt:V,li:void 0,AM:void 0,me:{Vj:ha,Xa:la,Fb:ba,fd:fa,nD:R.Sd}},this.Dh.signal,!1).then(function(ia){var na,T;ia.Sp.forEach(function(ea){N.gRa.set(ea.Aa.R,ea);});if(null === (na=ia.Aa.Od) || void 0 === na || !na.rb.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (fa + ", adBreakToken: " + ha + ", adBreakTriggerId: " + la));return null === (T=ia.Aa.Od) || void 0 === T?void 0:T.rb[0];});};d.prototype.Jlc=function(){if((0,J.pc)(this.wf.ats) && (0,J.pc)(this.wf.at))return this.wf.at - this.wf.ats;};d.prototype.Atb=function(){var R,N;R=this.Gea();N=this.p6();return Math.min(R,N);};d.prototype.T0=function(){this.background.value || (this.dd.info("Starting inactivity monitor for movie " + this.R),new u.SUb(this));};d.prototype.close=function(R){R && (this.state.value == O.Bc.CLOSED?R():this.addEventListener(O.ja.closed,function(){R();}));this.A_a();};d.prototype.og=function(R,N,V){R=this.Hj(R,N,V);this.AJ(R,void 0);};d.prototype.AJ=function(R,N){var V,ba,fa,ha;V=this;!1;(0,D.Xfa)(R.errorCode,R.Sa,this.Ua.wc().ea(this.Gj).oa(C.ya),null === (ba=this.Rd) || void 0 === ba?void 0:ba.Tz()) || this.UJa.add(this.La.Eg,null === (fa=this.zl) || void 0 === fa?void 0:fa.Rx.Ix,R.errorCode,R.Sa,R.Fg);R.xKb(this.kp);if(this.state.value == O.Bc.WU)this.wj || (this.wj=R,this.load());else {N && (this.state.value == O.Bc.CLOSED?N():this.addEventListener(O.ja.closed,function(){N();}));ba=function(){V.A_a(R);};fa=r.config.Dpb && R && r.config.Dpb[R.errorCode];ha=-1;(0,J.nZ)(fa) && (ha=(0,E.Il)(fa));this.dd.error("Fatal playback error",{Error:"" + R,HandleDelay:"" + fa});0 <= ha?setTimeout(ba,ha):ba();}};d.prototype.EO=function(R){var N;N=void 0 === N?this.L:N;R=this.Ua.wc().oa(C.ya) + "-" + N + "-" + R;!1;this.SFb.push(R);};d.prototype.nkc=function(){this.xsb();};d.prototype.QPa=function(){var R;if(null === (R=this.bb) || void 0 === R?0:R.Uj)if((R=this.bb.At().id,void 0 !== R))return R;return null;};d.prototype.Zvb=function(){var R;R=this.wb.oQ(this);R=Object.values(R.ba).map(function(N){return N.J;});return [].concat(Aa(new Set(R)));};d.prototype.$tb=function(){var R,N,V,ba;ba=this.sf?null === (N=null === (R=this.Xn.get(this.sf)) || void 0 === R?void 0:R.S) || void 0 === N?void 0:N.Aa.duration:null === (V=this.S) || void 0 === V?void 0:V.Aa.duration;if(ba)return this.wb.Ssa.ALc(this.jK(),this.wb.ei,ba);};d.prototype.jK=function(){var R,N;N=null === (R=this.bb) || void 0 === R?void 0:R.Uj;return void 0 === this.ga.n7 || N?this.sQ(this.mediaTime.value):this.ga.n7;};d.prototype.PPa=function(){var R;R=this.sQ(this.Rd.Xtb());return null === R?null:Math.min(this.MF.oa(C.ya),Math.max(0,R));};d.prototype.V8=function(){var R,N;return null === (N=null === (R=this.S) || void 0 === R?void 0:R.Aa.xr) || void 0 === N?void 0:N.ba;};d.prototype.Vva=function(R){!1;this.mb=(0,K.Jqa)(this.mb,R);this.bJa();};d.prototype.AQa=function(R){return (null === R || void 0 === R?0:R.J)?R.J:(null === R || void 0 === R?0:R.XOb) && this.$O?this.$O.J === X.Xq?(R=this.$O.Dc) && this.bb && this.bb.Di?this.bb.Di.ba[R].J:this.R:this.$O.J:this.R;};d.prototype.Flc=function(){var R;R=this.Nk(this.AQa(void 0)).ka.ce;return R?R.streams:[];};d.prototype.nK=function(R){return (R=this.Nk(this.AQa(R)).ka.zh)?R.streams:[];};d.prototype.owb=function(R){for(var N=Fa(this.bS),V=N.next();!V.done;V=N.next())if(V=(V=V.value.ci) && V.find(function(ba){return ba.id === R;}))return V;!1;};d.prototype.RFc=function(R){R=void 0 === R?this.ga:R;!1;R.ka.Kd?this.Hq.aXa(R.ka.Kd):Promise.resolve();};d.prototype.KOb=function(R){var N,V;N=this;V=this.wb.oQ(this);Object.values(V.ba).forEach(function(ba){var fa,ha;ba=N.Xn.get(ba.J);ha=null === (fa=null === ba || void 0 === ba?void 0:ba.Qc) || void 0 === fa?void 0:fa.gj;ha && (fa=ha.filter(function(la){return la.Cg === R.Cg;}),1 < fa.length && (fa=fa.filter(function(la){return la.displayName === R.displayName;})),1 < fa.length && (fa=fa.filter(function(la){return la.Li === R.Li;})),(fa=Fa(fa.sort(function(la,pa){return la.yc - pa.yc;})).next().value) && fa !== ba.ka.Kd && (ba.ka.qp(fa),N.Hq.aXa(ba.ka.Kd)));});};d.prototype.kwb=function(R){for(var N=Fa(this.bS),V=N.next();!V.done;V=N.next()){V=Fa(V.value.Gk);for(var ba=V.next();!ba.done;ba=V.next())if(ba=ba.value.streams.find(function(fa){return fa.cc === R;}))return ba;}!1;};d.prototype.Dwb=function(R){for(var N=Fa(this.bS),V=N.next();!V.done;V=N.next()){V=Fa(V.value.bE);for(var ba=V.next();!ba.done;ba=V.next())if(ba=(ba=ba.value) && ba.streams.find(function(fa){return fa.cc === R;}))return ba;}!1;};d.prototype.yrc=function(R){for(var N=Fa(this.bS),V=N.next();!V.done;V=N.next())if(V.value.Sd === R)return !0;return !1;};d.prototype.oC=function(){var R,N,V;return null !== (V=null === (N=null === (R=this.Msa) || void 0 === R?void 0:R.t7) || void 0 === N?void 0:N.call(R)) && void 0 !== V?V:this.ucc().$rb;};d.prototype.KKb=function(R){var N,V;null !== (N=this.bb) && void 0 !== N && N.Uj && this.Xn.has(R) && ((null === (V=this.Msa) || void 0 === V?0:V.t7)?this.Msa.mOb():(N=this.GLa(R),this.bb.Kua(N,R)));};d.prototype.Nuc=function(){return "trailer" === this.$e;};d.prototype.vtc=function(){return !!this.$e && 0 <= this.$e.indexOf("billboard");};d.prototype.Uuc=function(){return !!this.$e && 0 <= this.$e.indexOf("video-merch");};d.prototype.qyb=function(){return !!this.$e && 0 <= this.$e.indexOf("mini-modal");};d.prototype.lZ=function(){return this.Nuc() || this.vtc() || this.Uuc() || this.qyb();};d.prototype.tna=function(){var R,N,V;N={XOb:!0};if((null === (R=this.Nk(this.AQa(N)).S) || void 0 === R || !R.Aa.Cv) && this.bE){this.nK(N).forEach(function(ba){var fa,ha;if((0,J.pc)(ba.ILa) && (0,J.pc)(ba.Rob) && (0,J.pc)(ba.Qob) && (0,J.pc)(ba.Pob) && (0 < ba.ILa || 0 < ba.Rob)){fa=1;ha=1;(0,J.pc)(ba.vFb) && (0,J.pc)(ba.wFb) && (fa=ba.vFb,ha=ba.wFb);fa=ba.Pob * ha / (ba.Qob * fa);V=(0,J.pc)(V)?0 < ba.ILa?Math.max(V,fa):Math.min(V,fa):fa;}});return V;}};d.prototype.ppc=function(){return {tr:this.J0a,rt:this.EYa};};d.prototype.BY=function(R){return this.Wr[R];};d.prototype.XJa=function(){return this.Lq?this.Ua.wc().oa(C.ya) - this.Lq:this.La.Eg.oa(C.ya) - this.bQ();};d.prototype.Q6=function(){var R;if(this.Lq)return this.Ua.wc().oa(C.ya) - this.Lq;R=this.Ua.GG;return this.Fba - (this.Gj.oa(C.ya) + R.oa(C.ya));};d.prototype.YJa=function(){return this.Lq?this.Ua.wc().oa(C.ya) - this.Lq:this.Fba - this.bQ();};d.prototype.Qlc=function(){var R,N;R=this.loadTime;N={};(0,E.hi)(this.yJa,function(V,ba){N[V]=ba.map(function(fa){return fa - R;});});return e.fC?{level:e.fC.uub(),charging:e.fC.MOa(),statuses:N}:null;};d.prototype.ioa=function(){this.wsb();return this.iwa;};d.prototype.bQ=function(){var R;R=this.mb.rB;R=(0,J.pc)(R)?R:this.Gj.oa(C.ya) + this.Ua.GG.oa(C.ya);(0,F.ta)((0,J.MK)(R));return R;};d.prototype.svb=function(){return this.Ua.wc().oa(C.ya) - this.Gj.oa(C.ya);};d.prototype.tUc=function(){this.WNc=!0;};d.prototype.wra=function(){this.FHb();};d.prototype.Gea=function(){var R;R=this.nW();return R && R.vbuflmsec || 0;};d.prototype.p6=function(){var R;R=this.nW();return R && R.abuflmsec || 0;};d.prototype.MQc=function(){var R;R=this.nW();return R && R.tbuflmsec || 0;};d.prototype.P1a=function(){var R;R=this.nW();return R && R.vbuflbytes || 0;};d.prototype.iJa=function(){var R;R=this.nW();return R && R.abuflbytes || 0;};d.prototype.LQc=function(){var R;R=this.nW();return R && R.tbuflbytes || 0;};d.prototype.Zca=function(R,N,V){var ba,fa,ha,la,pa,ia;ba=this;R=void 0 === R?this.ga:R;V=void 0 === V?!0:V;!1;la=!!N;pa=!la && R !== this.ga;ia=r.config.xta.enabled?I.Fp.pYb:pa?I.Fp.o4:this.lZ()?I.Fp.Jha:I.Fp.Zq;la=this.lZ() || la || pa?void 0:(0,da.k9)(r.config,pa);return this.hh.Po({Ia:R.Ia,mb:R.mb,J:R.R,xt:ia,li:la,AM:N,me:R.me,Cv:null !== (ha=null === (fa=R.me) || void 0 === fa?void 0:fa.Cv) && void 0 !== ha?ha:!1},this.Dh.signal,R.me?!1:V).then(function(na){na.eSa && ba.fireEvent(O.ja.mTa,{R:R.R});return na;});};d.prototype.Qba=function(R,N,V){var ba,fa,ha,la;N=void 0 === N?this.ga:N;V=void 0 === V?!1:V;!1;if(N.mb.Hg && !R.Aa.xr)this.og(D.ca.lRb);else {fa=this.raa.create(this);ha=!!(N.me && N.me.Fb && N.me.sba);if(V){la=fa.csc(N.S,N.Qc,R);R=la.S;la=la.Qc;}else (R=ha?fa.ZKc(R,null === (la=N.me) || void 0 === la?void 0:la.sba):R,la=fa.QEb(R));N.S=R;N.Qc=la;N.sf && (N.me=Object.assign(null !== (ba=N.me) && void 0 !== ba?ba:{},{Fb:R.Aa.Fb,nD:R.Aa.Sd}));N.R !== N.sf || this.jqa || (this.jqa=R.Aa.Sd);V || (N.ka.c_a(la.K7),N.ka.bB(la.F7),N.ka.qp(la.H7));N.Ac.za && N.Ac.pXa();}};d.prototype.Ckc=function(R){var N;N=void 0 === N?!1:N;!1;this.QS({J:R,KQ:N});};d.prototype.qwb=function(R,N){if(!this.Xk.F1a)return !0;R=this.ks.oa(C.ya) - R;return 0 > R || R > N;};d.prototype.FIb=function(){!1;this.Rd.seek(this.jK() || 0,O.Jc.Yfa);};d.prototype.Uwb=function(R,N){var V,ba;V=this;!1;ba=this.ga;ba.Wla=!0;return this.Zca(ba,{nD:ba.Sd,$Jc:R,dKc:N},!1).then(function(fa){var ha;V.Qba(fa,ba,!0);V.hh.lT(ba.R,ba.S);return null === (ha=V.bb) || void 0 === ha?void 0:ha.C1(V.RFb);}).then(function(){var fa,ha;fa=ba.Gk.find(function(la){return la.trackId === R;});ha=ba.gj.find(function(la){return la.trackId === N;});if(!(fa && fa.pg && ha && ha.pg))throw Error("Track hydration failed: requiredAudioTrackId=" + R + " requiredTextTrackId=" + N);V.fireEvent(O.ja.ANb);return {ce:fa,Tda:ha};});};d.prototype.Em=function(){return this.Cc;};d.prototype.QS=function(R){var N,V,ba;N=R.J;V=R.KQ;R=R.$O;!1;R !== this.$O && (this.$O=R,this.OOb());if(this.W_){if(N === this.IJ){this.W_=N;return;}R=this.Nk(N);ba=R.S;ba && (0,J.ed)(ba.ES) && (0,J.ed)(ba.o0) && R.uK({pr_ats:ba.ES,pr_at:ba.o0});this.sf && R.sf === this.sf || this.fireEvent(O.ja.TTa,{R:this.IJ});this.IJ=N;this.bJa();V || this.SIb();this.zG=this.La.zH;this.ga.Lq || (this.ga.Lq=this.Ua.wc().oa(C.ya));}("boolean" === typeof this.mb.OX?this.mb.OX:r.config.OX) && !V && this.T0a.OX(this);V={R:N,KQ:V,W_:this.W_};this.W_=N;this.fireEvent(O.ja.$K,V);};d.prototype.icc=function(){!1;try{this.$b=new g.HBa(this);this.YK=this.EZ.create(this,this.ga,!0,this.sQ);r.config.F8b && new S.HTb(this,this.log);r.config.U6 && this.U6(this);this.JTc();}catch(R){this.Zv(D.ca.DUb,{Sa:D.Y.Sq,jf:(0,E.Wi)(R)});}};d.prototype.JTc=function(){!1;this.wj?this.AJ(this.wj):(0,J.vSa)(this.R)?this.o9b():this.Zv(D.ca.AUb,{jf:"" + this.R});};d.prototype.o9b=function(){var R;!1;R=c.kT.cKb;R?R.success?this.KKa():this.Zv(D.ca.z8a,R):((0,F.ta)(!r.config.zma),this.dIa());};d.prototype.KKa=function(){var R;R=this;!this.background.value && r.config.KKa?(0,w.jcb)(function(){R.dIa();},this):this.dIa();};d.prototype.dIa=function(){var R;R=this;!1;this.state.value == O.Bc.LOADING && (r.config.lNa && !this.lZ()?c.kT.oz(w.icb,function(N){N.success?(R.eqa=N.eqa,R.$kb()):R.Zv(D.ca.y8a);},!0):this.$kb());};d.prototype.$kb=function(){var R,N,V,ba;R=this;if(this.state.value == O.Bc.LOADING){this.log.info("Authorizing",this);N=this.Ua.wc().oa(C.ya);this.Sg("ats");(0,F.pX)(this.R);(0,F.pX)(this.jn);V=this.bHc.bind(this,N);ba=this.ga;Promise.all([this.S,r.config.ay && this.hh.Av(this.R)?this.hh.U8(this.R).catch(function(){}):void 0,ba.sf && ba.sf !== ba.R?this.fGc():void 0]).then(function(fa){var ha,la,pa,ia,na,T;ha=Fa(fa);fa=ha.next().value;la=ha.next().value;ha=ha.next().value;fa && la?ia=la.Aa.expiration > fa.Aa.expiration?la:fa:fa?ia=fa:la && (ia=la);ia && 18E5 > ia.Aa.expiration - R.La.zH.oa(C.ya) && (ia=void 0);if(ha){la=R.Xn.get(ba.sf);na=ha.Aa.Sd;T=ha.Aa.Fb;R.jqa=na;la && R.Qba(ha,la);ba.me=Object.assign(null !== (pa=ba.me) && void 0 !== pa?pa:{},{Fb:T,nD:na});T && T !== (null === ia || void 0 === ia?void 0:ia.Aa.Fb) && (ia=void 0);}return ia?(R.VO=ia === fa?"ui":"videopreparer",ia):R.Zca();}).then(function(fa){try{R.Qba(fa);V(m.Bh);R.IFb || (R.IFb=!0,R.pWa.Ol(R));}catch(ha){R.log.error("Exception processing authorization response",ha);V({success:!1,Sa:D.Y.SXb});}}).catch(V);}};d.prototype.bHc=function(R,N){var V,ba;V=this;!1;if(this.state.value == O.Bc.LOADING){this.Sg("at");ba=this.S;this.uK({pr_ats:ba && (0,J.ed)(ba.ES)?ba.ES:R,pr_at:ba && (0,J.ed)(ba.o0)?ba.o0:this.Ua.wc().oa(C.ya)});N.success?((0,aa.za)(ba.Aa.Of),0 < this.Qc.ci.length && this.Qc.F7 && this.Qc.K7 && this.Qc.H7?this.YFb?(this.log.info("Processing post-authorize",this),this.YFb(this,function(fa){fa.success?V.sOb():V.Zv(D.ca.HUb,fa);})):this.sOb():this.Zv(D.ca.c$a,this.UTa(this.Qc))):this.Zv(D.ca.yN,N);}};d.prototype.sOb=function(){n.__awaiter(this,void 0,void 0,function N(){var V,ba,fa;fa=this;return Sa(N,function(ha){!1;if(fa.state.value != O.Bc.LOADING)return ha.return();(null === (V=fa.ga.S) || void 0 === V?0:V.Aa.xr) && fa.wb.reset((0,X.vKa)(null === (ba=fa.ga.S) || void 0 === ba?void 0:ba.Aa.xr,{config:r.config}));fa.bb=fa.eJa(fa.wb,fa);fa.bb.oNc({Su:f.Su,config:r.config,Df:fa.Df,dd:fa.dd,AA:fa.AA.bind(fa),Fm:A.Fm,dda:fa.dda.bind(fa),QS:fa.QS.bind(fa)});fa.CFc();ha.$r=0;});});};d.prototype.Hdc=function(){var R,N,V,ba,fa,ha,la,pa;R=this;!1;try{if(this.state.value === O.Bc.LOADING){this.$b.open();N=new Promise(function(ia){R.$b.addEventListener(M.zk.Uua,ia);});this.Rd=new L.NBa(this,this.Eb);V=this.Qc.F7.Li === U.wu.NONE;ba={xPb:this.Qc.F7.qq || V};fa={Ia:this.Ia,ti:this.correlationId,TJ:this.TJ};try{if(this.state.value !== O.Bc.LOADING)return;ha=this.bb;ha.h$({flags:ba,v7:fa,L:this.RFb,GLa:this.GLa.bind(this)});la=this.wb.oQ(this);this.Bob(la);ha.FM(la);this.F3b();ha.C6b({Wr:this.Wr,loadTime:this.loadTime});this.Cc=this.qIa(ha,this);this.Cc.Bo.addListener(function(ia){var na,T;ia.newValue?("dynamic" === (null === (na=R.Cc) || void 0 === na?void 0:na.XSa) && R.Hq.Prc(),r.config.ay && !R.Ac.za && R.fg.dwb()):"dynamic" === (null === (T=R.Cc) || void 0 === T?void 0:T.XSa) && R.Hq.ZNc();});this.Cc.addEventListener(O.Wwa.wja,function(){R.Ac.za || R.fg.dwb();});}catch(ia){throw (this.log.error("Failed to initialize ASE streaming",{error:ia,startPts:this.Eb,flags:ba}),ia);}N.then(function(){var ia;R.state.value !== O.Bc.CLOSING && R.state.value !== O.Bc.CLOSED && (null === (ia=R.bb) || void 0 === ia?void 0:ia.open());});this.mediaTime.set(this.Eb);pa=new ja.tfb(r.config);this.Hq=new k.sfb(this,pa);if("boolean" === typeof this.mb.Lta?this.mb.Lta:r.config.Lta)this.Zda=new z.ufb(this,pa);this.T0();w.ADa.forEach(function(ia){ia(R);});this.XAc();}}catch(ia){this.Zv(D.ca.FUb,{Sa:D.Y.Sq,jf:(0,E.Wi)(ia)});}};d.prototype.YAc=function(){(0,F.ta)(this.state.value == O.Bc.WU);this.loadTime=this.Ua.wc().oa(C.ya);this.state.set(O.Bc.LOADING);};d.prototype.oIc=function(){return n.__awaiter(this,void 0,void 0,function N(){var V,ba,fa,ha,la,pa,ia;V=this;return Sa(N,function(na){ba=V;la=(0,J.pc)(null === (fa=V.bb) || void 0 === fa?void 0:fa.Glb)?null === (ha=V.bb) || void 0 === ha?void 0:ha.Glb:V.Cr;(0,F.ta)((0,J.pc)(la),"lastPts before restart should have a valid number type");pa=V.Rd.VR;ia=V.$b.Ga;V.jc.kd(O.ja.Eca);V.$b=new g.HBa(V);V.$b.open(ia);V.Rd=new L.NBa(V,pa?V.mediaTime.value:la,!0);return na.return(new Promise(function(T){function ea(){ba.$b.removeEventListener(M.zk.Uua,ea);T();}ba.$b.addEventListener(M.zk.Uua,ea);}));});});};d.prototype.Zv=function(R,N){this.done || (this.done=!0,N instanceof Q.ie?this.og(N.code,N):this.og(R,N));};d.prototype.U6=function(R){var V,ba;function N(){var fa,ha;fa=e.fC.MOa() + "";ha=R.yJa[fa];ha || (ha=R.yJa[fa]=[]);ha.push(V.Ua.wc().oa(C.ya));V.log.trace("charging change event",{level:e.fC.uub(),charging:e.fC.MOa()});}V=this;ba=e.fC.SRb;e.fC.addEventListener(ba,N);R.addEventListener(O.ja.$g,function(){e.fC.removeEventListener(ba,N);});};d.prototype.A_a=function(R){var N,V;N=this;if(this.state.value == O.Bc.WU || this.state.value == O.Bc.LOADING || this.state.value == O.Bc.qf){this.dd.info("Playback closing",this,R?{ErrorCode:R.$la}:void 0);this.EO("Closing");v.re.removeListener(v.Gm,this.hba);v.re.removeListener(v.Lr,this.fEb);this.wj=R;this.ga.n7=this.jK();this.wsb();(null === (V=this.bb) || void 0 === V?0:V.Uj) && this.bb.flush();try{this.jc.kd(O.ja.$g,{movieId:this.IJ});}catch(ba){this.dd.error("Unable to fire playback closing event",ba);}this.state.set(O.Bc.CLOSING);this.yQb();this.Dh.abort();this.WNc || (0,H.Gh)(function(){return N.FHb();});}};d.prototype.ckc=function(){this.jc.kd(O.ja.lOb);};d.prototype.xsb=function(){var R;R=this.mediaTime.value;this.Hvc != R && (!1,this.Hvc=R,this.jc.kd(O.ja.t0a));};d.prototype.FHb=function(){var R,N;R=this;(0,F.ta)(this.state.value == O.Bc.CLOSING);N=this.eqa;this.eqa=void 0;N?c.kT.release(N,function(V){(0,F.ta)(V.success);R.PKa();}):this.PKa();};d.prototype.yQb=function(){var R;null === (R=this.bb) || void 0 === R?void 0:R.Ne();delete this.bb;};d.prototype.PKa=function(){var R,N;this.PKa=m.wI;(0,F.ta)(this.state.value == O.Bc.CLOSING);N=w.Ip.indexOf(this);(0,F.ta)(0 <= N);w.Ip.splice(N,1);this.state.set(O.Bc.CLOSED);this.jc.kd(O.ja.closed,void 0,!0);this.jc.Og();N=Fa(this.bS);for(var V=N.next();!V.done;V=N.next())(V=V.value,null === (R=V.zl) || void 0 === R?void 0:R.close().catch(function(){}),delete V.zl);this.ga.wra();};d.prototype.bJa=function(){this.mb.playbackState && ("number" === typeof this.mb.playbackState.volume && this.volume.set((0,G.FE)(this.mb.playbackState.volume,0,1)),"boolean" === typeof this.mb.playbackState.muted && this.muted.set(this.mb.playbackState.muted),"number" === typeof this.mb.playbackState.playbackRate && this.playbackRate.set(this.mb.playbackState.playbackRate));};d.prototype.wsb=function(){this.jc.kd(O.ja.j_a,{iwa:this.iwa});};d.prototype.dda=function(R,N,V){N=this.owb(N);R=this.Dl(R);N && R.Oc[V].set(N);};d.prototype.AA=function(){return {AudioBufferLength:this.p6(),VideoBufferLength:this.Gea()};};d.prototype.nW=function(){var R;if(null === (R=this.bb) || void 0 === R?0:R.Uj)return this.bb.Oxb();};d.prototype.XAc=function(){this.state.value == O.Bc.LOADING && this.state.set(O.Bc.qf);};d.prototype.ucc=function(){var R,N,V;R=void 0 === R?this.R:R;N=this.nK({J:R});V=this.Nk(R);return (0,W.oC)(N,function(ba){return V.QZ.CH(ba);});};d.prototype.GLa=function(R){var N,V;R=void 0 === R?this.R:R;N=this.nK({J:R});V=this.Nk(R);return (0,W.wqc)(N,function(ba){return V.QZ.CH(ba);});};d.prototype.Bob=function(R){var N;N=this;Object.keys(R.ba).filter(function(V){return !N.Xn.has(R.ba[V].J);}).forEach(function(V){var ba,fa,ha,la,pa,ia,na;ha=R.ba[V];la=ha.J;pa=N.Xn.get(R.ba[R.lf].J);ia=ha.ap?N.Xn.get(ha.ap):void 0;na=Object.assign(null !== (ba=N.Ql.xQ(la).Bb) && void 0 !== ba?ba:N.mb,{Eb:ha.eb,Dg:ha.ib,Hg:!1,rB:Date.now(),PC:!0});ba=N.CSa(ha.ap) && N.jqa?{Fb:null !== (fa=null === ia || void 0 === ia?void 0:ia.Fb) && void 0 !== fa?fa:null === pa || void 0 === pa?void 0:pa.Fb,nD:N.jqa}:void 0;N.Cja({J:la,sf:ha.ap,L:V,mb:na,me:ba},N.CSa(ha.ap)?null === pa || void 0 === pa?void 0:pa.Ia:void 0);});};Ha.Object.defineProperties(d.prototype,{bS:{configurable:!0,enumerable:!0,get:function(){return this.Xn.values();}},ga:{configurable:!0,enumerable:!0,get:function(){return this.Xn.get(this.IJ);}},NTa:{configurable:!0,enumerable:!0,get:function(){return this.Nk(this.Exc);}},Eb:{configurable:!0,enumerable:!0,get:function(){var R,N;return void 0 !== this.Tp?this.Tp:null !== (N=null === (R=this.bS.next()) || void 0 === R?void 0:R.value.mb.Eb) && void 0 !== N?N:0;}},Qc:{configurable:!0,enumerable:!0,get:function(){return this.ga.Qc;},set:function(R){this.ga.Qc=R;}},ana:{configurable:!0,enumerable:!0,get:function(){return this.ga.mb.ana;}},bna:{configurable:!0,enumerable:!0,get:function(){return this.ga.mb.bna;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ga.index;}},L:{configurable:!0,enumerable:!0,get:function(){return this.ga.L;}},RFb:{configurable:!0,enumerable:!0,get:function(){return this.wb.G1a?this.wb.ei:this.ga.L;}},zl:{configurable:!0,enumerable:!0,get:function(){return this.ga.zl;},set:function(R){this.ga.zl=R;}},Lq:{configurable:!0,enumerable:!0,get:function(){return this.ga.Lq;},set:function(R){this.ga.Lq=R;}},VO:{configurable:!0,enumerable:!0,get:function(){return this.ga.VO;},set:function(R){this.ga.VO=R;}},EW:{configurable:!0,enumerable:!0,get:function(){return this.ga.EW;},set:function(R){this.ga.EW=R;}},Toa:{configurable:!0,enumerable:!0,get:function(){return this.ga.Toa;},set:function(R){this.ga.Toa=R;}},S:{configurable:!0,enumerable:!0,get:function(){return this.ga.S;},set:function(R){this.ga.S=R;}},Tp:{configurable:!0,enumerable:!0,get:function(){return this.ga.Tp;},set:function(R){this.ga.Tp=R;}},Nda:{configurable:!0,enumerable:!0,get:function(){return this.ga.Nda;},set:function(R){this.ga.Nda=R;}},mb:{configurable:!0,enumerable:!0,get:function(){return this.ga.mb;},set:function(R){this.ga.mb=R;}},YK:{configurable:!0,enumerable:!0,get:function(){return this.ga.YK;},set:function(R){this.ga.YK=R;}},jp:{configurable:!0,enumerable:!0,get:function(){return this.ga.jp;}},R:{configurable:!0,enumerable:!0,get:function(){return this.ga.R;}},$e:{configurable:!0,enumerable:!0,get:function(){return this.ga.$e;}},Gk:{configurable:!0,enumerable:!0,get:function(){return this.ga.Gk;}},bE:{configurable:!0,enumerable:!0,get:function(){return this.ga.bE;}},QH:{configurable:!0,enumerable:!0,get:function(){return this.ga.QH;}},gj:{configurable:!0,enumerable:!0,get:function(){return this.ga.gj;}},Sd:{configurable:!0,enumerable:!0,get:function(){return this.ga.Sd;}},Fb:{configurable:!0,enumerable:!0,get:function(){return this.ga.Fb;}},PQ:{configurable:!0,enumerable:!0,get:function(){return this.ga.PQ;}},qS:{configurable:!0,enumerable:!0,get:function(){return this.ga.qS;}},Er:{configurable:!0,enumerable:!0,get:function(){return this.ga.Er;}},ci:{configurable:!0,enumerable:!0,get:function(){return this.ga.ci;}},MF:{configurable:!0,enumerable:!0,get:function(){return this.ga.MF;},set:function(R){this.ga.MF=R;}},Ia:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ia;}},sf:{configurable:!0,enumerable:!0,get:function(){return this.ga.sf;}},jn:{configurable:!0,enumerable:!0,get:function(){return this.ga.jn;}},Gj:{configurable:!0,enumerable:!0,get:function(){return this.ga.Gj;}},zG:{configurable:!0,enumerable:!0,get:function(){return this.ga.zG;},set:function(R){this.ga.zG=R;}},correlationId:{configurable:!0,enumerable:!0,get:function(){return this.ga.correlationId;}},US:{configurable:!0,enumerable:!0,get:function(){return this.ga.US;}},Cr:{configurable:!0,enumerable:!0,get:function(){return this.ga.Cr;}},wf:{configurable:!0,enumerable:!0,get:function(){return this.ga.wf;}},Xu:{configurable:!0,enumerable:!0,get:function(){return this.ga.Xu;}},KMa:{configurable:!0,enumerable:!0,get:function(){return this.ga.KMa;}},QZ:{configurable:!0,enumerable:!0,get:function(){return this.ga.QZ;}},TJ:{configurable:!0,enumerable:!0,get:function(){var R,N,V,ba;V=r.config.oqb;ba=null === (N=null === (R=this.S) || void 0 === R?void 0:R.Aa.GH) || void 0 === N?void 0:N.O_a;if(void 0 !== ba && void 0 !== ba.downloadReportDenominator)try{V=parseInt(ba.downloadReportDenominator,10);}catch(fa){this.log.error("Unable to parse manifest config override:" + ba.downloadReportDenominator);}return 0 !== V && 0 === this.ga.Ia % V;}},Wla:{configurable:!0,enumerable:!0,get:function(){return this.ga.Wla;}},Ac:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ac;}},oX:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},ri:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.R,TrackingId:this.jn,Xid:this.Ia};}},Rm:{configurable:!0,enumerable:!0,get:function(){return this.wb.Rm;}}});b.lcb=d;},52200:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x;function d(y,z,B,A,C,D){var F;F=this;this.j=y;this.Jo=z;this.wea=B;this.xk=A;this.uLb=C;this.Iz=D;this.dpb={};this.update=function(){var G;if(F.hu.selectionStart == F.hu.selectionEnd){G="";F.g9().forEach(function(E){G=G?G + "\n":"";Object.entries(E).forEach(function(H){var J;J=Fa(H);H=J.next().value;J=J.next().value;G+=H + ": " + J + "\n";});});F.hu.style.fontSize=(0,h.FE)((0,e.RU)(F.element.clientHeight / 60),8,18) + "px";F.hu.value=G;}};this.hCc=function(){var G,E;if(F.j.Rd){E=F.j.Rd.iQ();E && (F.MLa=E - (null !== (G=F.lNb) && void 0 !== G?G:0),F.lNb=E,F.s_());}};this.s_=function(){F.wea.ag(F.update);};this.onkeydown=function(G){G.ctrlKey && G.altKey && G.shiftKey && (G.keyCode == l.IU.qSb || G.keyCode == l.IU.Q) && F.toggle();};this.FFb=[y.mediaTime,y.Oc[p.v.X],y.Oc[p.v.U],y.Oc[p.v.Ba],y.Re,y.se,y.Ri,y.Qf,y.Fk,y.state,y.et,y.Wb,y.volume,y.muted];this.element=this.xk.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.hu=this.xk.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.hu);this.controls=this.xk.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);z=this.xk.createElement("button",void 0,"X");z.addEventListener("click",function(){return F.LC();},!1);this.controls.appendChild(z);c.re.addListener(c.oK,this.onkeydown);y.addEventListener(k.ja.$g,function(){c.re.removeListener(c.oK,F.onkeydown);F.LC();});}Object.defineProperty(b,"__esModule",{value:!0});b.ncb=void 0;n=a(13044);c=a(37509);h=a(8825);f=a(77705);e=a(22365);g=a(32687);k=a(85001);l=a(43193);m=a(5021);p=a(26388);r=a(45247);q=a(75568);t={};u=(t[k.Bc.WU]="Not Loaded",t[k.Bc.LOADING]="Loading",t[k.Bc.qf]="Normal",t[k.Bc.CLOSING]="Closing",t[k.Bc.CLOSED]="Closed",t);t={};v=(t[k.Wg.qf]="Normal",t[k.Wg.Ff]="Pre-buffering",t[k.Wg.Xdb]="Network stalled",t);t={};w=(t[k.Kb.Yg]="Waiting for decoder",t[k.Kb.hg]="Playing",t[k.Kb.zi]="Paused",t[k.Kb.zw]="Media ended",t);x=[k.ja.Caa];d.prototype.tMc=function(y){this.dpb.DFR=y;};d.prototype.show=function(){var y;y=this;this.visible || (this.l$=Ca.setInterval(this.hCc,1E3),document.body.appendChild(this.element),this.FFb.forEach(function(z){z.addListener(y.s_);}),x.forEach(function(z){y.j.addEventListener(z,y.s_);}),this.visible=!0,this.Iz.Hda().then(function(z){y.SQa=z;y.s_();}));this.update();};d.prototype.LC=function(){var y;y=this;this.visible && (clearInterval(this.l$),this.lNb=this.MLa=void 0,document.body.removeChild(this.element),this.FFb.forEach(function(z){z.removeListener(y.s_);}),x.forEach(function(z){y.j.removeEventListener(z,y.s_);}),this.wea.ag(),this.visible=!1);};d.prototype.toggle=function(){this.visible?this.LC():this.show();};d.prototype.g9=function(){var y,z,B,A,C,D,F,G,E,H,J,L,K,M,P,I,O,Q,S,U,W,Y,X,Z,aa,ca,da,ja,R,N,V,ba,fa,ha,la,pa,ia,na,T,ea,ka,ra,ta,qa,xa,Ba,oa,va,za,ua,ya,Da,Ja,Ka,La,Oa;y=this;U=[];W=this.Jo();U.push({Version:"6.0053.800.912",Esn:W?W.Vi:"UNKNOWN",PBCID:this.j.correlationId,UserAgent:e.VU});try{Y=this.j.mediaTime.value;X={MovieId:this.j.R,PackageId:null === (B=null === (z=this.j.S) || void 0 === z?void 0:z.Aa) || void 0 === B?void 0:B.ds,Xid:this.j.Ia + " (" + n.Ip.map(function(Na){return Na.Ia;}).join(", ") + ")",Position:(0,h.Rj)(Y),Duration:(0,h.Rj)(this.j.MF.oa(m.ya)),PlayerDuration:(0,h.Rj)(this.j.ks.oa(m.ya)),Volume:(0,e.Ns)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.QPa()};if(this.j.mb.Hg || this.j.mb.PC)X["Segment Position"]=(0,h.Rj)(this.j.jK());null === (A=this.j.Em()) || void 0 === A || A.zub();if(this.j.Ac.za){X["Is Live"]="true";X["Live Event Slate"]=this.j.Ac.iK();X["Is At Live Edge"]="" + this.j.Ac.kA();X["Adjusted Live Edge Target"]=(0,h.Rj)(this.j.Ac.Vz());X["Live Adjusted Duration"]=(0,h.Rj)(this.j.Ac.Vvb());X["Live Adjusted Playback Position"]=(0,h.Rj)(this.j.Ac.eoa());X["Live Event Time Playback Position"]=this.j.Ac.rmc();X["Live Segment Number"]=this.j.Ac.smc();Z=[p.v.U,p.v.X,p.v.Ba].reduce(function(Na,Pa){var Ta,Va,Xa;Xa=null === (Va=null === (Ta=y.j.bb) || void 0 === Ta?void 0:Ta.vA) || void 0 === Va?void 0:Va[Pa];Na[(0,r.UG)(Pa)]=Xa?{encoderRegion:Xa.jv,encoderTag:Xa.kv}:void 0;return Na;},{});X["Live Logging Info"]=JSON.stringify(Z);}U.push(X);}catch(Na){}try{U.push({"Player state":u[this.j.state.value],"Buffering state":v[this.j.et.value],"Rendering state":w[this.j.Wb.value]});}catch(Na){}try{aa=this.j.P1a() + this.j.iJa();ca=this.j.Re.value;da=null === ca || void 0 === ca?void 0:ca.stream;ja=this.j.se.value;R=null === ja || void 0 === ja?void 0:ja.stream;N=null !== (C=null === da || void 0 === da?void 0:da.bitrate) && void 0 !== C?C:"?";V=R?R.bitrate + " (" + R.width + "x" + R.height + ")":"?";ba=null !== (D=null === da || void 0 === da?void 0:da.cc) && void 0 !== D?D:"?";fa=null !== (F=null === R || void 0 === R?void 0:R.cc) && void 0 !== F?F:"?";ha=null !== (G=null === R || void 0 === R?void 0:R.Mb) && void 0 !== G?G:"?";la=null !== (H=null === (E=this.j.Qf.value) || void 0 === E?void 0:E.Mb) && void 0 !== H?H:"?";pa=null !== (L=null === (J=this.j.Ri.value) || void 0 === J?void 0:J.bitrate) && void 0 !== L?L:"?";ia=null !== (M=null === (K=this.j.Qf.value) || void 0 === K?void 0:K.bitrate) && void 0 !== M?M:"?";na=this.j.Oc[p.v.X].value;T=this.j.Oc[p.v.U].value;ea=this.j.Oc[p.v.Ba].value;U.push({"Playing bitrate (a/v)":N + " / " + V,"Playing/Buffering vmaf":ha + "/" + la,"Buffering bitrate (a/v)":pa + " / " + ia,"Buffer size in Bytes (a/v)":this.j.iJa() + " / " + this.j.P1a(),"Buffer size in Bytes":"" + aa,"Buffer size in Seconds (a/v)":(0,h.Rj)(this.j.p6()) + " / " + (0,h.Rj)(this.j.Gea()),"Downloadables (a/v)":ba + " / " + fa,"Current CDN (a/v/t)":(na?na.name + ", Id: " + na.id:"?") + " / " + (T?T.name + ", Id: " + T.id:"?") + " / " + (ea?ea.name + ", Id: " + ea.id:"?")});}catch(Na){}try{ka=this.j.Re.value;z={};if(ka && ka.stream){ra=ka.stream;ta=ra.track;qa=this.uLb.cob(ta.streams);xa=ra.xe;if((/xheaac/).test(xa))Ba="xhe-aac";else if((/heaac/).test(xa))Ba="he-aac";else if((/ddplus/).test(xa))switch(xa){case q.Lc.dN:Ba="ddplus51";break;case q.Lc.eN:Ba="ddplus51hq";break;case q.Lc.fN:Ba="ddplusatmos";break;default:Ba="ddplus";}else Ba="unknown";z["Audio Track"]=ta.Cg + ", Id: " + ta.trackId + ", Channels: " + ta.channels + ", Codec: " + qa + " (" + Ba + ")";z["Audio Tags"]=null === (P=ka.stream) || void 0 === P?void 0:P.vk.toString();}oa=this.j.se.value;if(oa && oa.stream){va=oa.stream;za=this.uLb.Nob(this.j.ka.zh?this.j.ka.zh.streams:[]);ua=va.xe;ya=(/hevc/).test(ua)?"hevc":(/h264hpl/).test(ua)?"avchigh":(/av1/).test(ua)?"av1":"avc";(/hdr/).test(ua) && (ya+=", hdr");(/dv/).test(ua) && (ya+=", dv");(/prk/).test(ua) && (ya+=", prk");z["Video Track"]="Codec: " + za + " (" + ya + ")";z["Video Tags"]=null === (I=oa.stream) || void 0 === I?void 0:I.vk.toString();}Da=this.j.Fk.value;z["Timed Text Track"]=Da?Da.Cg + ", Profile: " + Da.profile + ", Id: " + Da.trackId + ", DownloadableId: " + Da.cc:"none";U.push(z);}catch(Na){}try{Ja=this.j.Rd;Ka=this.j.Qf.value?this.j.Qf.value.framerate:0;La=a(99732).KAb;U.push({Framerate:Ka.toFixed(3),"Current Dropped Frames":(0,g.pc)(this.MLa)?this.MLa:"","Total Frames":Ja.Tz(),"Total Dropped Frames":Ja.iQ(),"Total Corrupted Frames":Ja.a9(),"Main Thread stall/sec":La?La.Fna().join(" "):"DISABLED",KeySystem:null === (O=this.j.zl) || void 0 === O?void 0:O.Rx.Ix,KeyStatus:null === (S=null === (Q=this.j.zl) || void 0 === Q?void 0:Q.qub) || void 0 === S?void 0:S.call(Q),VideoDiag:(0,f.PTa)(this.j.ioa()),"HDR support":this.SQa?this.SQa.result + " (" + this.SQa.reason + ")":"unknown"});}catch(Na){}try{U.push({Throughput:this.j.jb + " kbps"});}catch(Na){}Oa=void 0;try{Object.entries(this.dpb).forEach(function(Na){var Pa;Pa=Fa(Na);Na=Pa.next().value;Pa=Pa.next().value;Oa=Oa || ({});Oa[Na]=JSON.stringify(Pa);});Oa && U.push(Oa);}catch(Na){}return U;};b.ncb=d;},25138:function(t,b,a){var c,h,f,e;function d(g,k,l,m){this.Ia=g;this.XJc=k;this.va=l;this.$h=m;this.wf={};}function n(g,k){this.fh=g;this.$h=k;this.xc={};this.va=g.ub("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.eYb=b.EDa=void 0;t=a(22970);c=a(22674);h=a(87386);f=a(81918);e=a(5021);n.prototype.QIc=function(g,k){this.xc[g] && this.va.warn("registerPlayback: xid " + g + " already registered, overriding");k=(k?k:this.$h.wc()).oa(e.ya);this.va.trace("registerPlayback: xid " + g + " at " + k);this.xc[g]=new d(g,k,this.va,this.$h);return this.xc[g];};n.prototype.Ooc=function(g){this.xc[g] || this.va.warn("getPlaybackMilestones: xid " + g + " is not registered");return this.xc[g];};n.prototype.lJc=function(g){this.va.trace("removePlayback: xid " + g);delete this.xc[g];};a=n;b.EDa=a;b.EDa=a=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(h.yb)),t.__param(1,(0,c.u)(f.$d))],a);d.prototype.Qu=function(g,k){k=k?k.oa(e.ya):this.$h.wc().oa(e.ya) - this.XJc;this.va.trace("addMilestone: xid " + this.Ia + " " + g + " at " + k);this.wf[g]=k;};b.eYb=d;},81889:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.GDa=void 0;a.prototype.VTa=function(d){d=void 0 === d?{}:d;return {jn:d.trackingId,rka:d.authParams,Eq:d.sessionParams,$e:d.uiLabel,cwa:d.uxLabels,yMa:d.disableTrackStickiness,rB:d.uiPlayStartTime,ana:d.forceAudioTrackId,bna:d.forceTimedTextTrackId,Hg:d.isBranching,playbackState:d.playbackState?{currentTime:d.playbackState.currentTime,volume:d.playbackState.volume,muted:d.playbackState.muted,playbackRate:d.playbackState.playbackRate}:void 0,OX:d.enableTrickPlay,TQa:d.heartbeatCooldown,PC:d.isPlaygraph,dqa:d.loadImmediately || !1,rFb:d.pin,rD:d.preciseSeeking,Eb:d.startPts,Dg:d.endPts,cj:d.logicalEnd,Lta:d.renderTimedText,Brb:d.extraManifestParams,o6:d.assetId,I5b:d.audioLanguages,NQc:d.textLanguages,vPb:d.videoLanguage,sPb:d.videoAspectRatio,ds:d.packageId,Kpb:d.desiredDownloadables,sYa:d.requestReference,a4b:d.additionalAudioAssets,d4b:d.additionalTextAssets};};b.GDa=a;},65361:function(t,b,a){var n,c;function d(h,f){h=n.vc.call(this,h) || this;h.eUa=f;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.pcb=void 0;n=a(81734);c=a(8825);Ia(d,n.vc);d.prototype.set=function(h){n.vc.prototype.set.call(this,(0,c.FE)(h,0,this.eUa));};b.pcb=d;},37025:function(t,b,a){var n,c,h;function d(f,e,g,k,l,m,p,r,q,u,v,w,x,y,z){this.index=f;this.R=e;this.L=g;this.mb=k;this.Ia=l;this.Gj=m;this.AAb=p;this.Onb=q;this.UBb=v;this.me=x;this.sf=y;this.j=z;this.ka=new h.NDa();this.Fk=new n.vc(null);this.nB=new n.vc(void 0);this.Qf=new n.vc(null);this.Ri=new n.vc(null);this.Re=new n.vc(null);this.se=new n.vc(null);this.Oc=[new n.vc(null),new n.vc(null),new n.vc(null)];this.mediaTime=new n.vc(void 0);this.playbackRate=new n.vc(1);this.Xu=new n.vc(null);this.background=new n.vc(!1);this.EW={source:"notcached",type:void 0};this.VO="notcached";this.Wla=!1;r && (this.Qf.set(r.Qf.value),this.Ri.set(r.Ri.value));this.jp=u(this);this.vq=this.UBb.QIc(this.Ia,this.Gj);this.Ac=w(this,z);}Object.defineProperty(b,"__esModule",{value:!0});b.qcb=void 0;n=a(81734);c=a(5021);h=a(73403);d.prototype.Sg=function(f){this.vq.Qu(f);};d.prototype.uK=function(f){var e;e=this;Object.entries(f).forEach(function(g){var k;k=Fa(g);g=k.next().value;k=k.next().value;e.vq.Qu(g,(0,c.ec)(k - e.Gj.oa(c.ya)));});};d.prototype.wra=function(){this.UBb.lJc(this.Ia);};Ha.Object.defineProperties(d.prototype,{$e:{configurable:!0,enumerable:!0,get:function(){return this.mb.$e;}},cwa:{configurable:!0,enumerable:!0,get:function(){return this.mb.cwa;}},Er:{configurable:!0,enumerable:!0,get:function(){return this.Qc && this.Qc.Er;}},Gk:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Qc && this.Qc.Gk) && void 0 !== f?f:[];}},bE:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Qc && this.Qc.bE) && void 0 !== f?f:[];}},QH:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Qc && this.Qc.QH) && void 0 !== f?f:[];}},gj:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Qc && this.Qc.gj) && void 0 !== f?f:[];}},Sd:{configurable:!0,enumerable:!0,get:function(){return this.Qc && this.Qc.Sd;}},Fb:{configurable:!0,enumerable:!0,get:function(){return this.Qc && this.Qc.Fb;}},PQ:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Qc && this.Qc.PQ) && void 0 !== f?f:!1;}},qS:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Qc && this.Qc.qS) && void 0 !== f?f:[];}},ci:{configurable:!0,enumerable:!0,get:function(){var f;return null !== (f=this.Qc && this.Qc.ci) && void 0 !== f?f:[];}},MF:{configurable:!0,enumerable:!0,get:function(){var f,e;return this.Ac.za && (void 0 === this.zV || 0 >= this.zV.oa(c.ya) || Infinity <= this.zV.oa(c.ya))?(0,c.ec)(this.Ac.fK()):this.zV && 0 < this.zV.oa(c.ya)?this.zV:(0,c.ec)(null !== (e=null === (f=this.S) || void 0 === f?void 0:f.Aa.duration) && void 0 !== e?e:0);},set:function(f){this.zV=f;}},xBb:{configurable:!0,enumerable:!0,get:function(){return this.Ac.za && (void 0 === this.bja || 0 >= this.bja.oa(c.ya) || Infinity <= this.bja.oa(c.ya))?(0,c.ec)(this.Ac.Znc()):this.bja;},set:function(f){this.bja=f;}},jn:{configurable:!0,enumerable:!0,get:function(){return this.mb.jn || 0;}},Cr:{configurable:!0,enumerable:!0,get:function(){var f,e,g,k,l;if(void 0 !== this.n7)return this.n7;if(void 0 === this.mediaTime.value)return null;l=null === (e=null === (f=this.j) || void 0 === f?void 0:f.bb) || void 0 === e?void 0:e.Uob;return l && this.Ac.za && this.Ac.MQ() && (f=this.j.Nk(l.J),e=null === (k=null === (g=this.j.bb) || void 0 === g?void 0:g.Di) || void 0 === k?void 0:k.ba[f.L],"content" !== (null === e || void 0 === e?void 0:e.type) && (g=this.Onb(this.mediaTime.value,f.L),k=this.Ac.bk,null !== g && k && g < k))?g + k:this.Onb(this.mediaTime.value,this.L);}},correlationId:{configurable:!0,enumerable:!0,get:function(){var f,e;return null === (e=null === (f=this.S) || void 0 === f?void 0:f.Aa.Bz) || void 0 === e?void 0:e.ti;}},US:{configurable:!0,enumerable:!0,get:function(){var f,e;return null === (e=null === (f=this.S) || void 0 === f?void 0:f.Aa.Bz) || void 0 === e?void 0:e.US;}},wf:{configurable:!0,enumerable:!0,get:function(){return this.vq.wf;}},bb:{configurable:!0,enumerable:!0,get:function(){var f;return null === (f=this.j) || void 0 === f?void 0:f.bb;}}});b.qcb=d;},69334:function(t,b,a){var n,c,h;function d(f,e,g){this.dj=f;this.dc=g;this.ba=[];this.log=e.ub("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.KDa=void 0;n=a(22970);t=a(22674);c=a(42207);h=a(87386);a(5021);d.prototype.some=function(f){return this.ba.some(f);};d.prototype.woa=function(){return !!(this.ba[0] && this.ba[0].stream && this.dc.gi(this.ba[0].stream.Mb));};d.prototype.wv=function(f){return this.ba.filter(f).reduce(function(e,g){return e + (g.endTime - g.startTime) / g.rate;},0);};d.prototype.F9=function(f){return this.ba.filter(f).reduce(function(e,g){return e + g.endTime - g.startTime;},0);};d.prototype.AOa=function(f,e){var g,k;g=this;k={};return this.ba.filter(function(l){return !e || l.uq === e;}).reduce(function(l,m){var p,r,q;p=f.bind(g,m)();r=p.key;p=n.__rest(p,["key"]);m=m.endTime - m.startTime;q=k[r];q?q.duration+=m:(q=p,q.duration=m,l.push(q),k[r]=q);return l;},[]);};d.prototype.Rf=function(f,e,g){var k;g=void 0 === g?this.dj.playbackRate.value:g;k=this.ba;f && e && e >= f.startTime && (f={Oc:f.Oc,track:f.track,stream:f.stream,startTime:f.startTime,kA:f.kA,y$:f.y$,endTime:e,rate:g,uq:f.uq || "content"},(e=k[k.length - 1]) && e.track === f.track && e.stream === f.stream && e.Oc === f.Oc && e.endTime === f.startTime && e.rate === f.rate && e.kA === f.kA && e.y$ === f.y$ && e.uq === f.uq?e.endTime=f.endTime:k.push(f),!1);};a=d;b.KDa=a;b.KDa=a=n.__decorate([n.__param(1,(0,t.u)(h.yb)),n.__param(2,(0,t.u)(c.wi))],a);},73403:function(t,b,a){var n,c;function d(){this.fm=[];this.Kd=this.zh=this.ce=null;}Object.defineProperty(b,"__esModule",{value:!0});b.NDa=void 0;n=a(26388);c=a(45146);d.prototype.qp=function(h,f){var e,g;if(h !== this.Kd){g=this.Kd;this.Kd=h;h={p0a:!0,Xx:g,sF:null !== (e=null === f || void 0 === f?void 0:f.sF) && void 0 !== e?e:!1};this.yra(h);}};d.prototype.bB=function(h,f){var e,g;if(h !== this.ce){g=this.ce;this.ce=h;h={Ov:g,mJa:!0,sF:null !== (e=null === f || void 0 === f?void 0:f.sF) && void 0 !== e?e:!1};this.yra(h);}};d.prototype.c_a=function(h){var f;if(h !== this.zh){f=this.zh;this.zh=h;this.yra({EDb:f,Q1a:!0});}};d.prototype.oy=function(h){var f,e,g,k,l,m;f=this.zh !== h.PCb;e=this.ce !== h.Tx;g=this.Kd !== h.Tn;if(f || e || g){k=this.zh;this.zh=h.PCb;l=this.ce;this.ce=h.Tx;m=this.Kd;this.Kd=h.Tn;this.yra({EDb:k,Q1a:f,Ov:l,mJa:e,Xx:m,p0a:g});}};d.prototype.addListener=function(h,f){(0,c.y7)(f);(0,c.ta)(0 > this.jsb(f));this.fm=this.fm.slice();this.fm.push({uh:h,listener:f});};d.prototype.removeListener=function(h){var f;(0,c.y7)(h);this.fm=this.fm.slice();0 <= (f=this.jsb(h)) && this.fm.splice(f,1);};d.prototype.jsb=function(h){return this.fm.findIndex(function(f){return f.listener === h;});};d.prototype.yra=function(h){var k,l;h=Object.assign({p0a:!1,Xx:this.Kd,Tn:this.Kd,mJa:!1,Ov:this.ce,Tx:this.ce,Q1a:!1,EDb:this.zh,PCb:this.zh,sF:!1},h);for(var f=this.fm,e=f.length,g=0;g < e;g++){k=f[g];l=k.uh;k=k.listener;(l.includes(n.v.X) && h.mJa || l.includes(n.v.U) && h.Q1a || l.includes(n.v.Ba) && h.p0a) && k(h);}};b.NDa=d;},82557:function(t,b,a){var n,c,h,f;function d(e){this.Ua=e;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.sEa=void 0;t=a(22970);n=a(85001);c=a(22674);h=a(81918);f=a(5021);d.prototype.ls=function(e){e.zc !== n.Jc.po && (this.trace.unshift({time:this.Ua.wc(),event:e}),5 < this.trace.length && this.trace.pop());};d.prototype.kQa=function(){var e,g;e=this;if(0 === this.trace.length)return {};g=this.trace[0];return {timeSinceLastRepositionMs:this.$Mb(g.time),lastRepositionCause:this.Ftb(g.event.zc),repositionTrace:this.trace.map(function(k){return {timeSince:e.$Mb(k.time),cause:e.Ftb(k.event.zc),newMediaTime:k.event.ER,oldMediaTime:k.event.IR,contentPts:k.event.vl,skip:k.event.skip};})};};d.prototype.$Mb=function(e){return this.Ua.wc().ea(e).oa(f.ya);};d.prototype.Ftb=function(e){switch(e){case n.Jc.po:return "initial";case n.Jc.tu:return "seek";case n.Jc.JU:return "live_edge";case n.Jc.jV:return "segment_changed";case n.Jc.I4:return "track_changed";case n.Jc.Yfa:return "force_rebuffer";case n.Jc.O2:return "fragments_missing";case n.Jc.Dga:return "media_discontinuity";}};a=d;b.sEa=a;b.sEa=a=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(h.$d))],a);},13889:function(t,b,a){var n,c,h,f;function d(e,g,k){this.config=e;this.j=g;this.fh=k;this.K_=this.VR=void 0;this.wba=!1;this.log=this.fh.ub();}Object.defineProperty(b,"__esModule",{value:!0});b.jeb=void 0;n=a(85001);c=a(5021);h=a(8825);f=a(32687);d.prototype.joc=function(e,g,k,l,m){var p,r,q,u,v;k=void 0 === k?this.j.L:k;p=g === n.Jc.jV || g === n.Jc.Dga;l=(void 0 === l?!1:l) || this.quc();r=this.i8b(p?e:this.M9b(e,k),g,l,k);q=this.j.bb;p?(e=r,r=q.iLa(r)):e=q.kLa(k,r);g === n.Jc.po && (this.j.Dlb=r);m=this.Ik(e,g,m);u=(p=p || m)?e:r;if(this.j.ks){v=this.j.mb.Hg?this.config().QVa:this.config().rL;this.j.qwb(u,v) || g !== n.Jc.tu && g !== n.Jc.JU || (u=this.j.ks.oa(c.ya) - v - 1E3,p?(e=u,r=q.iLa(u)):(e=q.kLa(k,u),r=u));}return {ER:u,vl:r,mFc:e,Ik:m,rD:l};};d.prototype.i8b=function(e,g,k,l){k?e=Math.round(e):(k=this.j.bb.Zjc(e,l),e=(0,f.pc)(k)?k:Math.round(e));this.j.mb.Hg && (e=this.Bkc(e));this.config().tJb && 0 !== e && g !== n.Jc.po && (e+=this.config().tJb);return e;};d.prototype.Ik=function(e,g,k){if(this.config().Bfc || g === n.Jc.po || g === n.Jc.I4 || g === n.Jc.Yfa || !k || e < k.start.oa(c.ya) || e >= k.end.oa(c.ya))return !1;g=this.j.bb;return (null === g || void 0 === g?void 0:g.Uj) && g.Ik(e) || !1;};d.prototype.quc=function(){return this.j.mb.Hg || this.j.Ac.za?(!1,!0):"boolean" === typeof this.j.mb.rD?this.j.mb.rD:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().rD && this.config().KFc:this.config().rD;};d.prototype.M9b=function(e,g){var k;k=this.j.Dl(g);g=k.MF;k=k.xBb;!1;g=k || g;k=this.j.Ac.za && !this.j.Ac.MQ()?0:this.config().PUc;g=Math.max(0,g.oa(c.ya) - k);return (0,h.FE)(e,0,g);};d.prototype.Bkc=function(e){var g,k,l;g=this.j.V8();if(Object.values(g).find(function(m){var p;p=m.ib;p=e < (null !== p && void 0 !== p?p:Infinity);return m.eb <= e && p;}))return (!1,e);l=e;Object.entries(g).forEach(function(m){var p;m=Fa(m);m.next();m=m.next().value.eb;p=m - e;0 < p && (void 0 === k || p < k) && (k=p,l=m);});!1;return l;};Ha.Object.defineProperties(d.prototype,{B$:{configurable:!0,enumerable:!0,get:function(){return this.wba || !!this.K_ || !!this.VR;}}});b.jeb=d;},74834:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.OEa=void 0;t=a(22970);a=a(22674);d.prototype.eHc=function(c,h){h.YK.hb.hZa({xid:h.Ia,auxPlaybackcontextid:h.Sd,auxMid:c.auxMid,auxMidType:c.auxMidType,reason:c.reason,adBreakLocationMs:c.adBreakLocationMs},"error" === c.sev);};n=d;b.OEa=n;b.OEa=n=t.__decorate([(0,a.$)()],n);},37517:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m,p,r,q,u,v,w,x,y){var z;z=this;this.KRc=l;this.j=m;this.id=p;this.height=r;this.width=q;this.SEc=u;this.TEc=v;this.size=w;this.cA=x;this.urls=y;this.type=n.qn.U0a;this.retry=!0;this.state=e.Xy.Pga;this.ri={};this.jka={};this.Rba=function(B){if(B.success)try{z.data=z.KRc.parse(B.content);z.state=e.Xy.uN;z.log.trace("TrickPlay parsed",{Images:z.data.images.length},z.ri);z.j.fireEvent(g.ja.oea);}catch(A){z.state=e.Xy.abb;z.log.error("TrickPlay parse failed.",A);}else (z.state=e.Xy.Pga,z.log.error("TrickPlay download failed.",(0,k.uE)(B),z.ri));};this.log=(0,h.Mn)(m,"TrickPlay");}b.z=void 0;n=a(51344);c=a(29204);h=a(31276);f=a(61726);e=a(94025);g=a(85001);k=a(36129);d.prototype.dnc=function(l){if(this.data && (this.cA && (l+=this.cA),l=Math.floor(l / this.data.header.eNb),0 <= l && l < this.data.images.length))return {image:this.data.images[l],time:l * this.data.header.eNb,height:this.height,width:this.width,pixelAspectHeight:this.SEc,pixelAspectWidth:this.TEc};};d.prototype.NY=function(){switch(this.state){case e.Xy.uN:return "downloaded";case e.Xy.LOADING:return "loading";case e.Xy.O3:return "downloadfailed";case e.Xy.abb:return "parsefailed";default:return "notstarted";}};d.prototype.download=function(){var l;l=this.pqc();l?(this.state=e.Xy.LOADING,this.Ufc(l)):this.retry=!1;};d.prototype.getState=function(){return this.state;};d.prototype.pqc=function(){var l,m,p;l=this;m=Object.keys(this.urls).find(function(r){return (l.jka[l.urls[r]] || 0) <= c.config.GRc;});if(m){p=this.urls[m];(p in this.jka)?this.jka[p]++:this.jka[p]=1;return {url:p,ul:m};}};d.prototype.Ufc=function(l){var m,p;this.log.trace("Downloading",l.url,this.ri);p=this.qna(l.ul);l={responseType:f.X9,Oc:p,url:l.url,track:this,my:null !== (m=null === p || void 0 === p?void 0:p.type) && void 0 !== m?m:"unknown",NJ:"trickplay"};this.j.Doa.download(l,this.Rba);};d.prototype.qna=function(l){return this.j.ci.find(function(m){return m && m.id === l;});};b.z=d;},18181:function(t,b,a){var n,c,h,f,e,g;function d(k,l){this.$h=k;this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.xFa=void 0;t=a(22970);n=a(85001);c=a(94025);h=a(81918);f=a(22674);e=a(5021);a=a(4203);d.prototype.OX=function(k){var l;k.pea={};if(!k.lZ() && k.QH && 0 < k.QH.length && (k.PH=this.iub(k),k.PH)){l=this.pNc(k);l() || (k.Wb.addListener(l),k.Qf.addListener(l));}};d.prototype.pNc=function(k){var m;function l(){var p,r;if(!k.Qf.value || k.Wb.value === n.Kb.Yg)return !1;p=k.PH;r=p.getState();return r === c.Xy.LOADING?!1:r !== c.Xy.uN && p.retry?(p=m.gqc(k))?(k.pea.offset=m.$h.wc().oa(e.ya),k.PH=p,p.download(),!0):!1:(k.Wb.removeListener(l),k.Qf.removeListener(l),!1);}m=this;return l;};d.prototype.gqc=function(k){var l,m;l=this.config();m=k.jp.wv() < l.IRc;l=(k.Qf.value?k.Qf.value.bitrate:0) > l.HRc;return this.wpc(k,m && l);};d.prototype.wpc=function(k,l){if(l && (l=this.iub(k),this.xvb(k,l.size)))return (k.pea.pIb="h",l);l=this.Snc(k);if(this.xvb(k,l.size))return (k.pea.pIb="l",l);};d.prototype.xvb=function(k,l){var m,p;m=this.config();p=Math.min(k.p6(),k.Gea());return k.n6b.L7b(l) * (1 + .01 * m.c4b[2]) < p * m.LRc;};d.prototype.iub=function(k){return k.QH[k.QH.length - 1];};d.prototype.Snc=function(k){return k.QH[0];};g=d;b.xFa=g;b.xFa=g=t.__decorate([(0,f.$)(),t.__param(0,(0,f.u)(h.$d)),t.__param(1,(0,f.u)(a.Fc))],g);},25837:function(t,b,a){var n,c,h;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.yFa=void 0;t=a(22970);c=a(70834);a=a(22674);d.prototype.parse=function(f){var e,g;if(!f)throw Error("invalid array buffer");e=new Uint8Array(f);g=new c.Jfa(e);f=this.psa(g);e=this.$Dc(g,e,f);return {header:f,images:e};};d.prototype.psa=function(f){var e,g,k,l;if(f.w9() < this.bKc())throw Error("array buffer too short");n.a$a.forEach(function(m){if(m != f.Xt())throw Error("BIF has invalid magic.");});e=f.c0();if(e > n.VERSION)throw Error("BIF version in unsupported");g=f.c0();if(0 == g)throw Error("BIF has no frames.");k=f.c0();l=f.Tm(n.odb);return {version:e,nBc:g,eNb:k,rIb:l};};d.prototype.$Dc=function(f,e,g){var m,p;for(var k=[],l=0;l <= g.nBc;l++){m={timestamp:f.c0(),offset:f.c0()};void 0 != p && k.push(e.subarray(p.offset,m.offset));p=m;}return k;};d.prototype.bKc=function(){return n.a$a.length + 4 + 4 + 4 + n.odb;};h=n=d;b.yFa=h;h.a$a=[137,66,73,70,13,10,26,10];h.VERSION=0;h.odb=44;b.yFa=h=n=t.__decorate([(0,a.$)()],h);},72614:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v;function d(w){return function(){return w.Gb.get(n.Tbb).Sb();};}Object.defineProperty(b,"__esModule",{value:!0});b.dS=void 0;t=a(22674);n=a(96687);c=a(32979);h=a(23048);f=a(62278);e=a(95480);g=a(91859);k=a(95398);l=a(77334);m=a(10469);p=a(44698);r=a(36258);q=a(78339);u=a(50889);v=a(18477);b.dS=new t.we(function(w){w(k.scb).to(l.IDa).pa();w(c.jDa).to(h.iDa).pa();w(f.Hbb).to(e.SCa).pa();w(n.Tbb).to(g.lDa).pa();w(n.p4).dea(d);w(u.Sbb).to(v.kDa).pa();w(m.Jbb).to(p.WCa).pa().Tea();w(r.Ubb).to(q.mDa).pa();w(r.Qbb).to(q.gDa).pa();w(r.Rbb).to(q.hDa).pa();});},62278:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hbb="PboCachedPlaydataSymbol";},10469:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bha={Bpa:"keepAlive",splice:"splice",pause:"pause",resume:"resume"};b.Jbb="PboEventSenderSymbol";},32979:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jDa="PboPlaydataFactorySymbol";},50889:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sbb="PboPlaydataPlaybackMonitorSymbol";},96687:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tbb="PboPlaydataServicesSymbol";b.p4="PboPlaydataServicesProviderSymbol";},95398:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.scb="PlaydataConfigSymbol";},95480:function(t,b,a){var h,f,e,g,k,l,m,p,r,q;function d(){}function n(){}function c(u,v,w,x,y){var z;z=this;this.is=u;this.Es=v;this.config=w;this.mP=x;this.CEc=y;this.fea=function(){return new d().encode({version:z.version,data:z.dS});};this.oTc=function(B){B=z.upgrade(B);z.CEc.validate(B);return B;};this.upgrade=function(B){var A;if(z.is.Pw(B))return z.pTc(B);A=B.version;if(void 0 != A && z.is.Ao(A) && 1 == A)return z.qTc(B);A=B.version;if(void 0 != A && z.is.Ao(A) && 2 == A)return new d().decode(B);if(B.version && z.is.Ao(B.version))throw new k.ie(e.ca.nI,e.Y.ORb,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new k.ie(e.ca.nI,e.Y.sfa,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.ly=new l.D8a(2,this.config().JFb,"" !== this.config().JFb && 0 < this.config().fFc,this.Es,this.fea);}Object.defineProperty(b,"__esModule",{value:!0});b.SCa=void 0;t=a(22970);h=a(22674);f=a(4203);e=a(36129);g=a(42207);k=a(31149);l=a(52657);m=a(17892);p=a(33554);r=a(23048);a=a(36258);c.prototype.THc=function(){return this.ly.load(this.oTc).catch(function(u){throw new k.ie(e.ca.nI,u.Sa || u.subCode,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,u);});};c.prototype.H3b=function(u){return this.ly.add(u);};c.prototype.SHb=function(u){return this.ly.remove(u,function(v,w){return v.Ia === w.Ia;});};c.prototype.o1a=function(u){return this.ly.update(u,function(v,w){return v.Ia === w.Ia;});};c.prototype.toString=function(){return JSON.stringify(this.fea(),null,"  ");};c.prototype.SOb=function(u){return u?"/events?playbackContextId=" + u + "&esn=" + this.mP().Vi:"";};c.prototype.w1a=function(u){return u.map(function(v){return {cc:v.downloadableId,duration:v.duration};});};c.prototype.TOb=function(u){var v;return u?{total:u.playTimes.total,BT:null !== (v=u.playTimes.totalContentTime) && void 0 !== v?v:u.playTimes.total,t1:u.playTimes.total,xM:0,zM:0,CT:0,DT:0,audio:this.w1a(u.playTimes.audio || []),video:this.w1a(u.playTimes.video || []),text:this.w1a(u.playTimes.timedtext || [])}:{total:0,BT:0,t1:0,xM:0,zM:0,CT:0,DT:0,audio:[],video:[],text:[]};};c.prototype.pTc=function(u){var v,w,x;v=this;u=JSON.parse(u);w={Of:"VOD",href:this.SOb(u.playbackContextId),Ia:u.xid?u.xid.toString():"",R:u.movieId,position:u.position,IF:u.timestamp,qk:u.playback?1E3 * u.playback.startEpoch:-1,NZ:u.mediaId,MA:this.TOb(u.playback),trackId:"",Eq:{},Y_:u.accountKey};x=JSON.stringify({keySessionIds:u.keySessionIds,movieId:u.movieId,xid:u.xid,licenseContextId:u.licenseContextId,profileId:u.profileId});this.Es.create().then(function(y){y.save(v.config().HMa,x,!1);});if("" === w.href || "" === w.Ia)throw new k.ie(e.ca.nI,e.Y.sfa);return {version:2,data:[w]};};c.prototype.qTc=function(u){var v;v=this;if(!u.playdata || !this.is.IO(u.playdata))throw new k.ie(e.ca.nI,e.Y.sfa,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,u);return {version:2,data:(function(w){return w.map(function(x){var y;return {Of:null !== (y=x.streamingType) && void 0 !== y?y:"VOD",href:v.SOb(x.playbackContextId),Ia:x.xid?x.xid.toString():"",R:x.movieId,position:x.position,IF:x.timestamp,qk:x.playback?1E3 * x.playback.startEpoch:-1,NZ:x.mediaId,MA:v.TOb(x.playback),trackId:"",Eq:{},Y_:x.profileId};});})(u.playdata)};};Ha.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.ly.version;}},dS:{configurable:!0,enumerable:!0,get:function(){return this.ly.wr;}}});q=c;b.SCa=q;b.SCa=q=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(g.wi)),t.__param(1,(0,h.u)(m.aI)),t.__param(2,(0,h.u)(f.Fc)),t.__param(3,(0,h.u)(p.xB)),t.__param(4,(0,h.u)(a.Rbb))],q);n.prototype.encode=function(u){var v;v=new r.cha();return u.map(v.encode);};n.prototype.decode=function(u){var v;v=new r.cha();return u.map(v.decode);};d.prototype.encode=function(u){return {version:u.version,data:new n().encode(u.data)};};d.prototype.decode=function(u){return {version:u.version,data:new n().decode(u.data)};};},44698:function(t,b,a){var n,c,h;function d(f,e){this.a7=e;this.log=f.ub("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.WCa=void 0;t=a(22970);n=a(87607);c=a(87386);a=a(22674);d.prototype.qZa=function(f,e){var g;g=this.a7(n.no.start);return this.prb(g,f,e);};d.prototype.SJb=function(f){var e;e=this;return this.a7(n.no.stop).Pe({log:this.log,J:f.R},f).then(function(){}).catch(function(g){e.log.error("PBO stop event failed",g);throw g;});};d.prototype.I0=function(f,e,g){f=this.a7(f);return this.prb(f,e,g);};d.prototype.prb=function(f,e,g){var k;k=this;return f.Pe({log:this.log,links:e.S.Zo,J:g.R},g).then(function(){}).catch(function(l){k.log.error("PBO event failed",l);throw l;});};h=d;b.WCa=h;b.WCa=h=t.__decorate([(0,a.$)(),t.__param(0,(0,a.u)(c.yb)),t.__param(1,(0,a.u)(n.oza))],h);},23048:function(t,b,a){var g,k,l,m,p,r;function d(q,u,v,w){this.La=q;this.H9=u;this.Ua=v;this.profile=w;}function n(){}function c(){}function h(){}function f(){}function e(){}Object.defineProperty(b,"__esModule",{value:!0});b.iDa=b.cha=void 0;t=a(22970);g=a(22674);k=a(30869);l=a(5021);m=a(4203);p=a(81918);a=a(71501);e.prototype.encode=function(q){return {downloadableId:q.cc,duration:q.duration};};e.prototype.decode=function(q){return {cc:q.downloadableId,duration:q.duration};};f.prototype.encode=function(q){return {total:q.total,totalContentTime:q.BT,totalAdDuration:q.xM,totalCombinedDuration:q.t1,totalOtherDuration:q.zM,totalStartSlateDuration:q.DT,totalLiveEdgeDuration:q.CT,audio:q.audio.map(new e().encode),video:q.video.map(new e().encode),text:q.text.map(new e().encode)};};f.prototype.decode=function(q){var u;return {total:q.total,BT:null !== (u=q.totalContentTime) && void 0 !== u?u:q.total,xM:q.totalAdDuration,t1:q.totalCombinedDuration,zM:q.totalOtherDuration,DT:q.totalStartSlateDuration,CT:q.totalLiveEdgeDuration,audio:q.audio.map(new e().decode),video:q.video.map(new e().decode),text:q.text.map(new e().decode)};};h.prototype.encode=function(q){var u;u=new c();return {audio:u.encode(q.audio),video:u.encode(q.video),timedtext:u.encode(q.q1),mediaevents:u.encode(q.GBb)};};h.prototype.decode=function(q){var u;u=new c();return {audio:u.decode(q.audio),video:u.decode(q.video),q1:u.decode(q.timedtext),GBb:u.decode(q.mediaevents)};};c.prototype.encode=function(q){return {streamingCdnId:q.Cda,presentingCdnId:q.cta};};c.prototype.decode=function(q){return {Cda:q.streamingCdnId,cta:q.presentingCdnId};};n.prototype.encode=function(q){return {streamingType:q.Of,href:q.href,xid:q.Ia,movieId:q.R,position:q.position,clientTime:q.IF,sessionStartTime:q.qk,videoTrackId:q.Bp,audioTrackId:q.Wu,timedTextTrackId:q.p1,mediaId:q.NZ,playTimes:new f().encode(q.MA),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.Eq,profileId:q.Y_,cdnDownloadableInfos:q.V6?new h().encode(q.V6):void 0};};n.prototype.decode=function(q){return {Of:q.streamingType,href:q.href,Ia:q.xid,R:q.movieId,position:q.position,IF:q.clientTime,qk:q.sessionStartTime,Bp:q.videoTrackId,Wu:q.audioTrackId,p1:q.timedTextTrackId,NZ:q.mediaId,MA:new f().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,Eq:q.sessionParams,Y_:q.profileId,V6:q.cdnDownloadableInfos?new h().decode(q.cdnDownloadableInfos):void 0};};b.cha=n;d.prototype.create=function(q){var u,v,w,x,y,z,B,A,C;C=Object.assign(Object.assign({},null !== (u=q.mb.Eq) && void 0 !== u?u:{}),{uiVersion:this.H9().hv.uiVersion});u=null !== (v=q.Ac.za?q.Ac.eoa():q.Cr) && void 0 !== v?v:0;v=null === (w=q.bb) || void 0 === w?void 0:w.LPa();return {href:q.S && q.S.Zo?q.S.Zo.AY("events").href:"",Of:null !== (y=null === (x=q.S) || void 0 === x?void 0:x.Aa.Of) && void 0 !== y?y:"VOD",Ia:q.Ia.toString(),R:q.R,position:Math.floor(u),IF:this.La.zH.oa(l.ya),qk:q.zG?q.zG.oa(l.ya):-1,Bp:null === (z=q.ka.zh) || void 0 === z?void 0:z.trackId,Wu:null === (B=q.ka.ce) || void 0 === B?void 0:B.trackId,p1:null === (A=q.ka.Kd) || void 0 === A?void 0:A.trackId,NZ:void 0,MA:this.NPa(q),trackId:void 0 !== q.jn?q.jn.toString():"",sessionId:this.H9().sessionId || this.Ua.id,appId:this.H9().appId || this.Ua.id,Eq:C,Y_:this.profile,V6:null === v || void 0 === v?void 0:v.V6};};d.prototype.load=function(q){return new n().decode(q);};d.prototype.RPa=function(q){return q.map(function(u){return {cc:u.downloadableId,duration:u.duration};});};d.prototype.NPa=function(q){return (q=q.jp)?(q=q.Noc(),{total:q.total,BT:q.totalContentTime,xM:q.totalAdDuration,zM:q.totalOtherDuration,t1:q.totalCombinedDuration,CT:q.totalLiveEdgeDuration,DT:q.totalStartSlateDuration,audio:this.RPa(q.audio),video:this.RPa(q.video),text:this.RPa(q.timedtext)}):{total:0,BT:0,xM:0,t1:0,zM:0,CT:0,DT:0,video:[],audio:[],text:[]};};r=d;b.iDa=r;b.iDa=r=t.__decorate([(0,g.$)(),t.__param(0,(0,g.u)(k.vi)),t.__param(1,(0,g.u)(m.Fc)),t.__param(2,(0,g.u)(p.$d)),t.__param(3,(0,g.u)(a.eV))],r);},18477:function(t,b,a){var n,c,h,f,e;function d(g,k){this.hFb=k;this.log=g.ub("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.kDa=void 0;t=a(22970);n=a(22674);c=a(87386);h=a(85001);f=a(96687);e=a(26388);d.prototype.Ol=function(g){var k;k=this;this.hFb().then(function(l){g.addEventListener(h.ja.$K,function(m){var p,r;if(void 0 !== m.W_){p=g.Nk(m.W_);r=p.sf && p.sf === g.ga.sf;r || l.Ada(p);m.KQ || new Promise(function(q){var u;if(g.Ij.value)q();else {u=function(v){v.newValue && (q(),g.Ij.removeListener(u));};g.Ij.addListener(u);}}).then(function(){r || l.Ol(g,k.cLb(g),function(q){return g.AJ(q);});});}});g.addEventListener(h.ja.NA,function(){l.Ol(g.ga,k.cLb(g),function(m){return g.AJ(m);});});g.background.value || g.addEventListener(h.ja.mTa,function(m){var p;m=g.Nk(m.R);if(null === (p=m.me) || void 0 === p?0:p.fd)(p=g.Nk(m.me.fd),k.log.trace("Auxiliary viewable segment (viewableId: " + m.R + "). Starting playdata monitor for parent viewable " + p.R),m=p);l.D_a(m);});g.addEventListener(h.ja.$g,function(){l.TLb();});g.addEventListener(h.ja.I1a,function(){l.PJb(g.ga).catch(function(m){(m=m.zL) && g.AJ(m);});});g.addEventListener(h.ja.kPb,function(){l.QJb(g.ga).catch(function(m){(m=m.zL) && g.AJ(m);});});g.ka.addListener([e.v.Ba],function(){g.mb.yMa?k.log.trace("stickiness is disabled for timedtext"):l.xua(g.ga);});g.ka.addListener([e.v.X],function(){g.mb.yMa?k.log.trace("stickiness is disabled for audio"):l.xua(g.ga).catch(function(m){(m=m.zL) && g.AJ(m);});});});};d.prototype.cLb=function(g){return g.state.value == h.Bc.qf;};a=d;b.kDa=a;b.kDa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.yb)),t.__param(1,(0,n.u)(f.p4))],a);},91859:function(t,b,a){var c,h,f,e,g,k,l,m,p,r,q,u,v;function d(w,x,y,z,B,A,C){this.config=w;this.ud=y;this.$D=z;this.OA=B;this.Nsa=A;this.Hj=C;this.Jpa=Promise.resolve();this.closed=!1;this.log=x.ub("PlaydataServices");this.cS=[];this.active=new Set();}function n(w,x,y,z,B,A){this.log=w;this.ud=x;this.dj=y;this.OA=z;this.$D=B;this.ZEc=A;this.Lrb=this.Rc=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.lDa=void 0;t=a(22970);c=a(22674);h=a(5021);f=a(87386);e=a(53085);g=a(32979);k=a(62278);l=a(95398);m=a(36129);p=a(23048);r=a(10469);q=a(45266);u=a(30869);a=a(79274);n.prototype.$Z=function(w,x){var z;function y(){var B;B=z.OA.create(z.dj);z.$D.o1a(B).catch(function(A){var C;C=z.Lrb?f.qo.UFa:f.qo.Cp;z.Lrb=!0;z.log.write(C,"Unable to save playdata changes to IDB",A);});}z=this;this.log.trace("Adding initial playdata",x);this.$D.H3b(x).then(function(){z.log.trace("Scheduling monitor",{interval:w});z.iy=z.ud.PS(w,y);}).catch(function(B){z.log.error("Unable to add playdata",{error:B,playdata:new p.cha().encode(x)});z.iy=z.ud.PS(w,y);});};n.prototype.stop=function(w){var x,y;x=this;if(this.Rc)return Promise.resolve();this.iy && this.iy.cancel();y=this.OA.create(this.dj);return this.$D.o1a(y).catch(function(z){x.log.error("Unable to update playdata changes during stop",z);}).then(function(){if(w){if(x.dj.background.value)return (x.log.trace("Playback is currently in the background and never played, not sending the playdata",y),Promise.resolve());x.log.trace("Sending final playdata to the server",y);return x.ZEc.SJb(y);}x.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(w)return (x.log.trace("Removing playdata from the persisted store",y),x.$D.SHb(y));x.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){x.log.info("Successfully stopped the playback",y.R);}).catch(function(z){x.log.error("Unable to remove playdata changes",z);throw z;});};n.prototype.cancel=function(){this.Rc=!0;this.iy && this.iy.cancel();this.$D.o1a(this.OA.create(this.dj));};d.prototype.Sb=function(){var w;w=this;this.xK || (this.log.trace("Starting playdata services"),this.xK=this.$D.THc().then(function(){!1;return w;}).catch(function(x){w.log.error("Unable to read the playdata, it will be deleted and not sent to the server",x);return w;}));return this.xK;};d.prototype.close=function(){this.closed=!0;this.cS.forEach(function(w){w.$Z.cancel();});};d.prototype.send=function(w){var x;if(this.closed)return Promise.resolve();x=this.config;return x.YR && x.oZa?this.NLc(w):Promise.resolve();};d.prototype.Ol=function(w,x,y){var z;z=this;this.closed || (this.D_a(w),this.qZa(w).catch(function(B){z.log.error("Start command failed",{playdata:B.dS,error:B.m8});}),x && this.B_a(this.Anc(w),w,y));};d.prototype.Ada=function(w){var x,y,z;x=this;if(this.closed)return Promise.resolve();y=this.OA.create(w);this.active.delete(y.Ia);w=Fa((0,q.tL)(function(B){return B.key === y.Ia;},this.cS));z=w.next().value;this.cS=w.next().value;return Promise.all(z.map(function(B){B.stopped=!0;return B.$Z.stop(x.config.oZa);})).then(function(){});};d.prototype.D_a=function(w){var x,y;w.Sg("pdb");if(this.config.wWa.uSa()){x=this.OA.create(w);y=x.Ia;this.cS.some(function(z){return z.key === y;})?this.log.trace("Already collecting playdata, ignoring",x):(this.log.info("Starting to collect playdata",x),this.active.add(y),this.cS.push({key:y,$Z:this.foc(w,x),qy:!1,stopped:!1}));}};d.prototype.NLc=function(w){var x,y,z,B;x=this;y=this.$D.dS.filter(function(A){return !x.active.has(A.Ia);});z=void 0;B=void 0;w && Infinity === w?z=y:(y=Fa((0,q.tL)(function(A){return A.R === w;},y)),z=y.next().value,B=y.next().value);B && 0 < B.length && this.ud.Aq(this.config.NJb,function(){x.RJb(B).catch(function(){});});return z && 0 !== z.length?this.RJb(z):Promise.resolve();};d.prototype.RJb=function(w){var y;function x(z){return y.Nsa.SJb(z).then(function(){return y.kJc(z);});}y=this;return w.reduce(function(z,B){return z.then(function(){return x(B);});},Promise.resolve());};d.prototype.kJc=function(w){var x;x=this;return this.$D.SHb(w).then(function(){}).catch(function(y){x.log.error("Unable to complete the stop lifecycle event",y);throw y;});};d.prototype.foc=function(w,x){w=new n(this.log,this.ud,w,this.OA,this.$D,this.Nsa);w.$Z(this.config.wWa,x);return w;};d.prototype.qZa=function(w){var x,y;x=this;y=this.OA.create(w);return this.Nsa.qZa(w,y).then(function(){!1;x.hBb(w);}).catch(function(z){x.hBb(w);throw {dS:y,m8:z};});};d.prototype.hBb=function(w){this.cS.filter(function(x){return x.key === w.Ia.toString();}).forEach(function(x){x.qy=!0;});};d.prototype.PJb=function(w){return this.I0(r.bha.pause,w,m.ca.bbb);};d.prototype.QJb=function(w){return this.I0(r.bha.resume,w,m.ca.pdb);};d.prototype.xua=function(w){return this.I0(r.bha.splice,w,m.ca.Wdb);};d.prototype.I0=function(w,x,y){var B;function z(A){var C;C=B.cS.filter(function(D){return D.key === A.Ia.toString();});return 0 === C.length?!0:C.reduce(function(D,F){return D || F.stopped || !F.qy;},!1);}B=this;return z(x)?this.Jpa:this.Jpa=this.Jpa.catch(function(){return Promise.resolve();}).then(function(){var A;if(z(x))return Promise.resolve();!1;A=B.OA.create(x);return B.Nsa.I0(w,x,A);}).then(function(A){!1;return A;}).catch(function(A){var C;B.log.error("Failed to send event",{eventKey:w,xid:x.Ia,error:A});A.oNa?C=B.Hj(y,A):A.YG === m.Jga.$c && (C=B.Hj(y,A));throw {m8:A,zL:C};});};d.prototype.B_a=function(w,x,y){var z;z=this;!1;this.CKa();this.MSa=this.ud.Aq(w,function(){z.CKa();z.I0(r.bha.Bpa,x,m.ca.W8a).then(function(){z.B_a(w,x,y);}).catch(function(B){var A;A=B.m8;(B=B.zL) && y(B);A.YG !== m.Jga.$c && z.B_a(w,x,y);});});};d.prototype.TLb=function(){this.CKa();};d.prototype.CKa=function(){this.MSa && (this.MSa.cancel(),this.MSa=void 0);};d.prototype.Anc=function(w){return w.mb.TQa?(0,h.ec)(w.mb.TQa):this.config.fzb;};v=d;b.lDa=v;b.lDa=v=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(l.scb)),t.__param(1,(0,c.u)(f.yb)),t.__param(2,(0,c.u)(e.kl)),t.__param(3,(0,c.u)(k.Hbb)),t.__param(4,(0,c.u)(g.jDa)),t.__param(5,(0,c.u)(r.Jbb)),t.__param(6,(0,c.u)(a.q4)),t.__param(7,(0,c.u)(u.vi))],v);},78339:function(t,b,a){var h,f,e,g;function d(){}function n(k){this.BEc=k;}function c(k){this.DEc=k;}Object.defineProperty(b,"__esModule",{value:!0});b.mDa=b.hDa=b.gDa=void 0;t=a(22970);h=a(22674);f=a(36258);e=a(31149);g=a(36129);c.prototype.validate=function(k){k.map(this.DEc.validate);};a=c;b.gDa=a;b.gDa=a=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(f.Ubb))],a);n.prototype.validate=function(k){this.BEc.validate(k.data);};a=n;b.hDa=a;b.hDa=a=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(f.Qbb))],a);d.prototype.validate=function(k){var l;k.Ia && "string" === typeof k.Ia?k.href && "string" === typeof k.href?k.Y_ && "string" === typeof k.Y_ || (l="ProfileId value is corrupted."):l="Href value is corrupted.":l="Xid value is corrupted.";if(l)throw new e.ie(g.ca.nI,g.Y.sfa,void 0,void 0,void 0,l,void 0,k.Ia);};f=d;b.mDa=f;b.mDa=f=t.__decorate([(0,h.$)()],f);},77334:function(t,b,a){var n,c,h,f,e,g;function d(k,l){k=c.Gf.call(this,k,"PlaydataConfigImpl") || this;k.config=l;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.IDa=void 0;t=a(22970);n=a(22674);c=a(64174);h=a(83767);f=a(12501);e=a(5021);a=a(34231);Ia(d,c.Gf);Ha.Object.defineProperties(d.prototype,{YR:{configurable:!0,enumerable:!0,get:function(){return this.config.XF?"unsentplaydatatest":"unsentplaydata";}},oZa:{configurable:!0,enumerable:!0,get:function(){return !0;}},NJb:{configurable:!0,enumerable:!0,get:function(){return (0,e.ec)(1E4);}},wWa:{configurable:!0,enumerable:!0,get:function(){return (0,e.ec)(4E3);}},fzb:{configurable:!0,enumerable:!0,get:function(){return (0,e.zUa)(1);}}});g=d;b.IDa=g;t.__decorate([f.config(f.string,"playdataPersistKey")],g.prototype,"YR",null);t.__decorate([f.config(f.jd,"sendPersistedPlaydata")],g.prototype,"oZa",null);t.__decorate([f.config(f.Sn,"playdataSendDelayMilliseconds")],g.prototype,"NJb",null);t.__decorate([f.config(f.Sn,"playdataPersistIntervalMilliseconds")],g.prototype,"wWa",null);t.__decorate([f.config(f.Sn,"heartbeatCooldown")],g.prototype,"fzb",null);b.IDa=g=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.uo)),t.__param(1,(0,n.u)(a.Ls))],g);},58343:function(t,b,a){var n,c;function d(h,f){var e;e=this;this.Gj=h;this.vh=f;this.addEventListener=function(g,k,l){return e.vh.addListener(g,e.qpb(g,k),l);};this.removeEventListener=function(g,k){return e.vh.removeListener(g,e.qpb(g,k));};this.getReady=function(){return e.vh.Tr();};this.getXid=function(){return e.Nb().Xz();};this.getPlaybackContextId=function(){return e.Nb().cvb();};this.getMovieId=function(){return e.Nb().Qub();};this.getElement=function(){return e.vh.jq();};this.isPlaying=function(){return e.Nb().Dx();};this.isPaused=function(){return e.Nb().z$();};this.isMuted=function(){return e.Nb().kSa();};this.isReady=function(){return e.Nb().Tr();};this.isBackground=function(){return e.Nb().Wxb();};this.setBackground=function(g){return e.Nb().DZa(g);};this.startInactivityMonitor=function(){return e.Nb().T0();};this.setTransitionTime=function(g){return e.Nb().a_a(g);};this.getDiagnostics=function(){return e.Nb().Ttb();};this.getTextTrackList=function(g){return e.Nb().nQa(g);};this.getMaxRecommendedTextIndex=function(g){return e.Nb().yPa(g);};this.getTextTrack=function(){return e.Nb().mQa();};this.setTextTrack=function(g){return e.Nb().qp(g);};this.getVolume=function(){return e.Nb().$vb();};this.isEnded=function(){return e.Nb().$Ra();};this.getBusy=function(){return e.Nb().xj();};this.getError=function(){return e.Nb().getError();};this.getCurrentTime=function(){return e.Nb().Sz();};this.getAdManager=function(){return e.Nb().Em();};this.getLivePlaybackManager=function(){var g;g=e.Nb().Kn();(0,c.ta)(g,"Unexpected call to getLivePlaybackManager()");if(g.za && !g.KNc())return {seekToLiveEdge:function(){return g.Pca();},isAtLiveEdge:function(){return g.kA();},getLiveEventState:function(){return g.iK();},isLiveEventEnded:function(){return g.MQ();}};};this.getBufferedTime=function(){return e.Nb().Btb();};this.getSegmentTime=function(){return e.Nb().lG();};this.getDuration=function(){return e.Nb().fK();};this.getVideoSize=function(){return e.Nb().Xvb();};this.getAudioTrackList=function(){return e.Nb().ttb();};this.getMaxRecommendedAudioIndex=function(){return e.Nb().Iub();};this.getAudioTrack=function(){return e.Nb().stb();};this.getTimedTextTrackList=function(g){return e.Nb().nQa(g);};this.getMaxRecommendedTimedTextIndex=function(g){return e.Nb().yPa(g);};this.getTimedTextTrack=function(){return e.Nb().mQa();};this.getAdditionalLogInfo=function(){return e.Nb().rtb();};this.getTrickPlayFrame=function(g){return e.Nb().Uvb(g);};this.getSessionSummary=function(){return e.Nb().cQa();};this.getTimedTextSettings=function(){return e.Nb().E9();};this.setMuted=function(g){return e.Nb().vKb(g);};this.setVolume=function(g){return e.Nb().MKb(g);};this.getPlaybackRate=function(){return e.Nb().FY();};this.getTimeCodes=function(){return e.Nb().Rvb();};this.setPlaybackRate=function(g){return e.Nb().Gua(g);};this.setAudioTrack=function(g){return e.Nb().bB(g);};this.setTimedTextTrack=function(g){return e.Nb().qp(g);};this.setTimedTextSettings=function(g){return e.Nb().N0(g);};this.prepare=function(){return e.Nb().jS();};this.load=function(){return e.Nb().load();};this.close=function(g){return e.Akb(e.vh.close(),g);};this.play=function(){return e.Nb().play();};this.pause=function(){return e.Nb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(g,k){return e.Akb(e.Nb().PX(g),k);};this.induceError=function(g){return e.Nb().nxb(g);};this.loadCustomTimedTextTrack=function(g,k,l,m){return e.Nb().pAb(g,k,l,m);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return e.Nb().tna();};this.generateScreenshots=function(g){return e.Nb().ltb(g);};this.getPlaygraphManager=function(){return {getPlaygraphId:function(){return e.vh.Soc();},getCurrentSegmentId:function(){return e.vh.Ptb();},getPlaygraphMap:function(){return e.vh.pQ();},updatePlaygraphMap:function(g){return e.vh.FM(g);},getSegmentOffset:function(){return e.vh.Bvb();},getPlaygraphSessionOffset:function(){return e.vh.Toc();},getPlaygraphDuration:function(){return e.vh.Roc();}};};this.uNa=new Map();this.log=(0,n.Fm)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.eia=void 0;n=a(31276);a(24550);c=a(45146);d.prototype.Nb=function(){return this.vh.Nb();};d.prototype.qpb=function(h,f){var e;this.uNa.has(h) || this.uNa.set(h,new Map());e=this.uNa.get(h);e.has(f) || e.set(f,this.sec(h,f));return e.get(f);};d.prototype.sec=function(h,f){var e;e=this;return function(g){return f(Object.assign({},g,{type:h,target:e}));};};d.prototype.Akb=function(h,f){return f?h.then(f,f):h;};b.eia=d;},64059:function(t,b,a){var n;function d(c,h,f){var e;e=n.eia.call(this,c,h) || this;e.seek=function(g){return e.Nb().seek(g);};e.addEpisode=function(g){return e.iTa.l3b(g);};e.playNextEpisode=function(g){g=void 0 === g?{}:g;return e.iTa.$Ec(g);};e.watchCredits=function(g){return e.iTa.xUc(g);};e.playSegment=function(g){return e.Nb().CFb(g);};e.queueSegment=function(g){return e.Nb().YGb(g);};e.updateNextSegmentWeights=function(g,k){return e.Nb().fl(g,k);};e.setNextSegment=function(g){for(var k=[],l=0;l < arguments.length;++l)k[l - 0]=arguments[l];k=k.map(function(m){return {L:m.segmentId,f_:m.nextSegmentId};});e.vh.bn.apply(e.vh,Aa(k));};e.clearNextSegment=function(g){for(var k=[],l=0;l < arguments.length;++l)k[l - 0]=arguments[l];return e.vh.V9b.apply(e.vh,Aa(k));};e.goToNextSegment=function(g,k){return e.vh.DQa(g,k);};e.getPlaying=function(){return e.isPlaying();};e.getPaused=function(){return e.isPaused();};e.getMuted=function(){return e.isMuted();};e.getEnded=function(){return e.isEnded();};e.getTimedTextVisibility=function(){return e.isTimedTextVisible();};e.isTimedTextVisible=function(){return !!e.Nb().E9().visibility;};e.setTimedTextVisibility=function(g){return e.setTimedTextVisible(g);};e.setTimedTextSize=function(g){return e.Nb().N0({size:g});};e.setTimedTextBounds=function(g){return e.Nb().N0({bounds:g});};e.setTimedTextMargins=function(g){return e.Nb().N0({margins:g});};e.setTimedTextVisible=function(g){return e.Nb().N0({visibility:g});};e.getCongestionInfo=function(g){g && g({success:!1,name:null,isCongested:null});};e.iTa=f(c,h,e.log);return e;}b.nfa=void 0;n=a(58343);Ia(d,n.eia);b.nfa=d;},59219:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x;function d(y){var z,B;z=this;this.Lsa=new w.GDa();this.createPlaygraphPlayer=function(A,C,D){var F;A=r.PDa.encode(A);F=h.Wa.get(q.PU);D=D?F.create(D):void 0;F=h.Wa.get(l.TDa).create(A);return F.hdc(A.lf,z.Lsa.VTa(z.Zkb(C,F.wna())),D);};this.closeAllPlayers=function(A){A=void 0 === A?function(){}:A;(0,c.jcb)(A);};this.init=function(A){z.oJ.$$(function(C){C.success?z.QLc().catch(function(D){h.log.error("Unable to initialize the playdata services",D);}).then(function(){Object.assign(z,d.oW);A(Object.assign({success:!0},d.oW));}):A({success:!1,error:(0,h.vcb)(C.errorCode || e.ca.cAa,C)});});};this.applyConfig=function(A){z.yOb(A);(0,n.WKa)(A);};this.prepare=function(A,C){var D;A=z.gGb.ifc(A) || [];D=new Set();A=A.filter(function(F){var G;G=D.has(F.R);D.add(F.R);return !G && (!z.IG.hGb() || F.iSa);});if(n.config.ay && z.fg && 0 < A.length)try{z.fg.jS(A,C);}catch(F){h.log.warn("Prepare call failed",F);}};this.ppmUpdate=function(A){z.IG.hGb() || (Ca._cad_global.playerPredictionModel?(A=z.gGb.kfc(A)) && Ca._cad_global.playerPredictionModel.update(A):h.log.error("ppmUpdate called but there is no ppmModel"));};this.supportsHdr=function(A){(0,h.wY)().Hda().then(function(C){return A(C.result);}).catch(function(){return A(!1);});};this.supportsUltraHd=function(A){(0,h.wY)().Ida().then(A).catch(function(){return A(!1);});};this.supportsDolbyAtmos=function(A){(0,h.wY)().Gda().then(A).catch(function(){return A(!1);});};this.supportsDolbyVision=function(A){(0,h.wY)().vva().then(function(C){return A(C.result);}).catch(function(){return A(!1);});};this.supportsDolby51=function(A){(0,h.wY)().uva().then(A).catch(function(){return A(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return n.config.Mhc;};this.lnaMessage=function(A){z.IG.WGc(A);};this.isLNAOn=function(){return z.IG.Ywc;};this.yOb(y);h.Wa.get(v.g3a);this.gGb=h.Wa.get(f.ccb);this.oJ=h.Wa.get(p.Oj);this.IG=h.Wa.get(x.Bga);B=h.Wa.get(u.acb).apply();(0,n.M$b)([y],B);this.fg=h.Wa.get(m.ON);(0,h.wY)().Ida();}Object.defineProperty(b,"__esModule",{value:!0});b.PN=void 0;n=a(29204);c=a(13044);h=a(31276);f=a(68976);e=a(36129);g=a(83767);k=a(96687);l=a(58252);m=a(66476);p=a(11479);r=a(79048);q=a(17398);u=a(52033);v=a(13847);w=a(81889);x=a(6823);d.prototype.Zkb=function(y,z){var B,A,C,D;y=void 0 === y?{}:y;D=null !== (A=null === (B=y.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== A?A:z.eb;return Object.assign(Object.assign({startPts:D,uiPlayStartTime:Date.now()},y),{endPts:null !== (C=z.ib) && void 0 !== C?C:void 0,isPlaygraph:!0});};d.prototype.yOb=function(y){h.Wa.get(g.rN).ezc(y);};d.prototype.QLc=function(){h.Wa.get(k.p4)().catch(function(y){h.log.error("Unable to initialize the playdata services",y);throw y;}).then(function(y){return y.send(Infinity);}).catch(function(y){h.log.error("Unable to send deferred playdata",y);});return Promise.resolve();};b.PN=d;d.oW={};},17925:function(t,b,a){var n,c,h,f,e,g;function d(k){var l;l=h.PN.call(this,k) || this;l.createPlayer=function(m,p){var r,q,u;p=void 0 === p?{}:p;p="number" === typeof p?{jn:p}:p;r=n.Wa.get(c.r4);q=n.Wa.get(e.PU).create(p.manifest);u=n.Wa.get(f.$Da);m=r.fdc(m);r=n.Wa.get(g.TDa).create(m);m=r.wna();u=u.Job(r);u.addEpisode({movieId:m.J,playbackParams:l.Zkb(p,m),manifest:q});return u;};return l;}Object.defineProperty(b,"__esModule",{value:!0});b.lgb=void 0;n=a(31276);c=a(75864);h=a(59219);f=a(32050);e=a(17398);g=a(58252);Ia(d,h.PN);b.lgb=d;},41325:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperty(b,"__esModule",{value:!0});t=a(17925);d=a(29204);n=a(13044);b=a(87386);c=a(31276);h=a(45118);f=a(36410);e=a(45146);g=a(32687);Ca.netflix=Ca.netflix || ({});(0,e.ta)(!Ca.netflix.player);Ca.netflix.player={VideoSession:t.lgb,diag:{togglePanel:function(k,l){var m;m=[];if(!d.config || d.config.lca){switch(k){case "info":m=n.Ip.map(function(p){return p.Jsa;});break;case "streams":m=n.Ip.map(function(p){return p.Msa;});break;case "log":m=[];}m.forEach(function(p){(0,g.ed)(l)?l?p.show():p.LC():p.toggle();});}},addLogMessageSink:function(k){c.Wa.get(h.Dp).addListener({F$c:function(){},jzc:function(l){k({data:l.data});}});}},log:(0,c.Fm)("Ext"),LogLevel:b.qo,addLogSink:function(k,l){c.Wa.get(f.MU).Hta(k,l);},getVersion:function(){return "6.0053.800.912";},getMostRecentPlaybackDiagnosticGroups:function(){var k;return null === (k=n.Qy.Taa) || void 0 === k?void 0:k.Spb.g9();}};},61524:function(t,b,a){var d,n,c,h,f,e,g,k,l,m;Object.defineProperty(b,"__esModule",{value:!0});d=a(1481);n=a(59219);c=a(33096);h=a(29204);t=a(36129);f=a(31276);e=a(45146);g=a(3887);k=a(32687);l=a(45118);m=a(31850);a=a(11479);f.Wa.get(a.Oj).register(t.ca.t8a,function(p){var r,q;r=(0,f.Fm)("NccpApi");q=(0,g.f5b)(["info","warn","trace","error"]);n.PN.oW.nccp={getEsn:function(){return d.Jo.Vi;},getPreferredLanguages:function(){return h.config.hv.$Wa;},setPreferredLanguages:function(u){(0,e.ta)((0,k.isArray)(u) && (0,k.nZ)(u[0]));h.config.hv.$Wa=u;},queueLogblob:function(u,v,w){var x;if(u && v)if((v=v.toLowerCase(),q[v])){x=f.Wa.get(l.Dp);u=f.Wa.get(m.yE).cv(u,v,w);x.Pc(u);}else r.warn("Invalid severity",{severity:v});},flushLogblobs:function(){f.Wa.get(l.Dp).flush(!0);}};p(c.Bh);});},42433:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u;Object.defineProperty(b,"__esModule",{value:!0});d=a(59219);n=a(1481);c=a(33096);h=a(52569);t=a(36129);f=a(31276);e=a(70834);g=a(45146);k=a(32687);l=a(22365);b=a(11479);m=a(24066);p=a(71501);r=a(97996);q=a(22816);u=a(65630);f.Wa.get(b.Oj).register(t.ca.u8a,function(v){var A;function w(){return n.Jo.Vi;}function x(C){var D;D=f.Wa.get(p.eV);f.Wa.get(r.f4)().then(function(F){var E,H,J,L;function G(K){var M;M={tokendata:"",signature:""};M.tokendata=(0,f.eC)(K.Jq);M.signature=(0,f.eC)(K.sk);return M;}E=F.AR.Ipc(D);H=E.Fo;J=E.ac;E=E.cg;L=F.AR.BR.wg;J && E && H?((0,g.ta)(H),F=["1",(0,f.eC)(JSON.stringify(G(J))),(0,f.eC)(JSON.stringify(G(E)))].join(),C({success:!0,cryptoContext:{cTicket:F,encrypt:function(K,M){K=(0,k.ji)(K)?(0,f.H1)(K):K;H.encrypt(K,L,u.FB.JSON,{result:function(P){P=(0,f.eC)(P);M({success:!0,mslEncryptionEnvelopeBase64:P});},error:function(P){(0,g.ta)(!1,"Encrypt error: " + P);M({success:!1});}});},decrypt:function(K,M){K=(0,f.wF)(K);H.decrypt(K,L,{result:function(P){M({success:!0,text:(0,f.Cea)(P)});},error:function(P){(0,g.ta)(!1,"Decrypt error: " + P);M({success:!1});}});},hmac:function(K,M){K=(0,k.ji)(K)?(0,f.H1)(K):K;H.sign(K,L,u.FB.JSON,{result:function(P){M({success:!0,hmacBase64:(0,f.eC)(P)});},error:function(P){(0,g.ta)(!1,"Hmac error: " + P);M({success:!1});}});}}})):((0,g.ta)(!1,"Must login first"),C({success:!1}));});}function y(C,D){var F;F=(0,f.wF)(C);C=F.subarray(32,48);F=F.subarray(0,32);if(16 != C.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,h.A_)(l.Cn.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,h.A_)(l.Cn.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){D({success:!0,cryptoContext:z(G[0],G[1])});},function(){D({success:!1});});}function z(C,D){function F(G){G=new e.Jfa((0,f.wF)(G));G.Xt();return {iv:G.eHb(),$hc:G.eHb()};}return {encrypt:function(G,E){var H;G=(0,k.ji)(G)?(0,f.H1)(G):G;H=l.uI.getRandomValues(new Uint8Array(16));(0,h.A_)(l.Cn.encrypt({name:"AES-CBC",iv:H},C,G)).then(function(J){var L,K;J=new Uint8Array(J);L=[];K=new e.Jfa(L);K.Ey(2);K.gQb(H);K.gQb(J);J=(0,f.eC)(L);E({success:!0,encryptedDataAsn1Base64:J});},function(J){(0,g.ta)(!1,"Encrypt error: " + J);E({success:!1});});},decrypt:function(G,E){var H;H=F(G);G=H.iv;H=H.$hc;(0,h.A_)(l.Cn.decrypt({name:"AES-CBC",iv:G},C,H)).then(function(J){J=new Uint8Array(J);E({success:!0,text:(0,f.Cea)(J)});},function(J){(0,g.ta)(!1,"Decrypt error: " + J);E({success:!1});});},hmac:function(G,E){G=(0,k.ji)(G)?(0,f.H1)(G):G;(0,h.A_)(l.Cn.sign({name:"HMAC",hash:{name:"SHA-256"}},D,G)).then(function(H){H=new Uint8Array(H);E({success:!0,hmacBase64:(0,f.eC)(H)});},function(H){(0,g.ta)(!1,"Hmac error: " + H);E({success:!1});});}};}function B(){return (0,m.b$b)();}A=f.Wa.get(q.gU);if(A.ayb || A.fpa)d.PN.oW.mdx={getEsn:w,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:B};v(c.Bh);});},13777:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p;Object.defineProperty(b,"__esModule",{value:!0});t=a(11479);b=a(36129);d=a(87386);n=a(91581);c=a(15348);h=a(33096);f=a(29204);e=a(31276);g=a(13044);k=a(59219);l=a(62898);m=a(66476);p=a(45118);e.Wa.get(t.Oj).register(b.ca.v8a,function(r){var v,w,x,y;function q(z,B){return void 0 === z || void 0 === B?Promise.reject("Invalid email and/or password"):e.Wa.get(l.Fbb).Pe({log:this.log,zJa:{email:z,password:B}},{}).then(function(){});}function u(z){var B;B=e.Wa.get(m.ON);return B.Wrb.fetch(z,B);}if(f.config.Uic){v=e.Wa.get(c.oDa);w=e.Wa.get(n.Ps);x=e.Wa.get(d.yb).ub("Test");y=e.Wa.get(p.Dp);k.PN.oW.test={setPboRequestsListener:function(z){return v.KMc(z);},playbacks:g.Ip,playgraphManager:{isNextSegmentReady:function(z){var B,A;return void 0 !== (null === (A=null === (B=g.Ip.find(function(C){return C.Ia === z;})) || void 0 === B?void 0:B.bb) || void 0 === A?void 0:{GJa:0});},isNextSegmentBuffering:function(z,B){var A,C;return null === (C=null === (A=g.Ip.find(function(D){return D.Ia === z;})) || void 0 === A?void 0:A.bb) || void 0 === C?void 0:C.o9(B).K6;}},live:{isLive:function(z){var B;return null === (B=g.Ip.find(function(A){return A.Ia === z;})) || void 0 === B?void 0:B.Ac.za;},isAtLiveEdge:function(z){var B;return null === (B=g.Ip.find(function(A){return A.Ia === z;})) || void 0 === B?void 0:B.Ac.kA();}},device:{esn:Ca._cad_global.device.Vi,esnPrefix:w.ut,errorPrefix:w.jx},log:{info:function(z,B){for(var A=[],C=1;C < arguments.length;++C)A[C - 1]=arguments[C];return x.info(z,A);},error:function(z,B){for(var A=[],C=1;C < arguments.length;++C)A[C - 1]=arguments[C];return x.error(z,A);},warn:function(z,B){for(var A=[],C=1;C < arguments.length;++C)A[C - 1]=arguments[C];return x.warn(z,A);},trace:function(z,B){for(var A=[],C=1;C < arguments.length;++C)A[C - 1]=arguments[C];return x.trace(z,A);},log:function(z,B){for(var A=[],C=1;C < arguments.length;++C)A[C - 1]=arguments[C];return x.log(z,A);},debug:function(z,B){for(var A=[],C=1;C < arguments.length;++C)A[C - 1]=arguments[C];return x.debug(z,A);},flush:function(){return y.flush();}},login:q,getManifest:u};}r(h.Bh);});},66093:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.fC=void 0;d=a(33096);n=a(29204);t=a(36129);c=a(31276);h=a(22365);f=a(11479);e=a(32687);g=a(59818);k=a(5021);a=c.Wa.get(f.Oj);l=c.Wa.get(g.HE);a.register(t.ca.j8a,function(m){var u,v;function p(){m(d.Bh);p=d.wI;}function r(w){if(!(w instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(x){if(!(0,e.yx)(w[x]))throw x + " is not a function";});}function q(){return Promise.resolve().then(function(){var w;w=h.tg.getBattery();if(!(0,e.yx)(w.then))throw "getBattery did not return a promise";return w;});}u=(0,c.Fm)("BatteryManager");b.fC={SRb:"chargingchange",uub:function(){return v?v.level:null;},MOa:function(){return v?v.charging:null;},addEventListener:function(w,x){v && v.addEventListener(w,x);},removeEventListener:function(w,x){v && v.removeEventListener(w,x);}};n.config.U6 && (0,e.yx)(h.tg.getBattery)?l.rs((0,k.ec)(n.config.Plc),q()).then(function(w){r(w);v=w;}).catch(function(w){u.error("getBattery failed",w);}).then(p):p();});},94886:function(t,b,a){var n,c;function d(){var h,f;h=this;this.cz={};this.on=function(e,g,k){h.addListener(e,g,k);};this.addListener=function(e,g,k){h.cz && (h.cz[e]=h.cz[e] || new c.kha(!0)).add(g,k);};this.removeListener=function(e,g){h.cz && h.cz[e] && h.cz[e].removeAll(g);};this.YOa=function(e){return h.cz && h.cz[e]?h.cz[e].flatten():[];};f=this;this.kd=function(e,g,k){var l;if(f.cz){l=f.YOa(e);for(e={bU:0};e.bU < l.length;(e={bU:e.bU},e.bU++))k?(function(m){return function(){var p;p=l[m.bU];(0,n.Gh)(function(){p(g);});};})(e)():l[e.bU].call(this,g);}};}Object.defineProperty(b,"__esModule",{value:!0});b.Vl=void 0;n=a(32219);c=a(20483);d.prototype.Og=function(){this.cz=void 0;};b.Vl=d;},31298:function(t,b,a){var n,c,h;function d(f,e,g,k,l,m){this.debug=f;this.config=e;this.platform=g;this.debug.assert(k && k != c.ca.mh,"There should always be a specific error code");this.errorCode=k || c.ca.mh;l && "object" === typeof l?(this.Sa=l.Sa || l.subCode,this.Fg=l.Fg || l.extCode,this.o8=l.o8 || l.zqb,this.jf=l.jf || l.details,this.T7=l.oNa,this.Bma=l.Bma || l.M8c || l.YG,this.n8=l.n8 || l.data,l.Eaa && (this.Eaa=l.Eaa),this.vba=l.vba,this.Fr=l.Fr,this.method=l.method,this.$G=l.$G,this.alert=l.alert,this.QIa=l.QIa,this.AQ=l.AQ,!this.jf && this.AQ && (this.jf=JSON.stringify(this.AQ)),this.Sd=l.Sd,this.debug.assert(!this.Fr || this.Fr == this.Fg)):(this.Sa=l,this.Fg=m);this.stack=[this.errorCode];this.Sa?this.stack.push(this.Sa):this.Fg && this.stack.push(c.Y.mh);this.Fg && this.stack.push(this.Fg);this.$la=this.ppa?this.vba:this.platform.jx + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.wcb=void 0;n=a(33096);c=a(36129);h=a(32687);a(3887);d.prototype.xKb=function(f){this.lFc=f;};d.prototype.toString=function(){var f;f="[PlayerError #" + this.$la + "]";this.jf && (f+=" " + this.jf);this.T7 && (f+=" (CustomMessage: " + this.T7 + ")");return f;};d.prototype.BC=function(){return (/widevine/i).test(this.config().Hx)?n.Qya:(/fps/i).test(this.config().Hx)?"fairplay":n.Sfa;};d.prototype.eea=function(){var f,e,g,k;this.T7 && (g=["streaming_error"]);g || this.BC() !== n.Sfa || ("80080017" == this.Fg && (g=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Fg && (g=["pause_timeout"]));g || this.BC() !== n.Qya || this.errorCode !== c.ca.g6a && this.errorCode !== c.ca.Tya || (g=["no_cdm","platform_error","plugin_error"]);g || this.errorCode !== c.ca.Wya || this.Sa !== c.Y.Uya || (g=["pause_timeout"]);this.Bma === c.Jga.$c && (this.mKa("2018") || this.mKa("2020")?g=["received_soad"]:this.mKa("5000") && (g=["should_reset_device"]));k=this.Zlc();k && (g=[k],this.T7=void 0);if(!g)switch(this.errorCode){case c.ca.Zga:case c.ca.mga:case c.ca.KQb:case c.ca.FCa:this.lFc && (g=["pause_timeout"]);break;case c.ca.y8a:case c.ca.z8a:g=this.Sa?["platform_error"]:["multiple_tabs"];break;case c.ca.dAa:case c.ca.mbb:case c.ca.HCa:case c.ca.zXb:g=["platform_error","plugin_error"];break;case c.ca.IXb:g=["no_cdm","platform_error","plugin_error"];break;case c.ca.m6a:case c.ca.$ga:case c.ca.obb:switch(this.Fg){case "FFFFD000":g=["device_needs_service","platform_error"];break;case "48444350":g=["unsupported_output","platform_error"];break;case "00000024":g=["private_mode"];}break;case c.ca.kbb:case c.ca.GCa:g=["unsupported_output"];}!g && (0,c.J6a)(this.Sa) && (g=this.Sa == c.Y.z3?["geo"]:["internet_connection_problem"]);g || this.errorCode !== c.ca.Tya || this.Sa !== c.Y.Sq || "S" !== this.platform.jx || (g=["private_mode"]);if(!g)switch(this.V_a(this.Sa)){case c.Y.VFa:g=["should_upgrade"];break;case c.Y.fbb:g=["should_reset_device"];break;case c.Y.ebb:g=["should_reload_device"];break;case c.Y.dbb:g=["should_exit_device"];break;case c.Y.iWb:case c.Y.j$a:g=["should_signout_and_signin"];break;case c.Y.jWb:g=["internet_connection_problem"];break;case c.Y.s5a:g=["platform_error","plugin_error"];break;case c.Y.zSb:case c.Y.g8a:case c.Y.h8a:g=["private_mode"];break;case c.Y.pBa:g=["should_reload_with_preferred_locales"];}g=g || [];if(this.ppa)(g.push(this.vba,this.o8),this.V_a(this.Sa) === c.Y.CCa && g.push("incorrect_pin"));else if((g.push(this.platform.jx + this.errorCode),this.Sa))switch(this.V_a(this.Sa)){case c.Y.CCa:g.push("incorrect_pin");break;default:g.push("" + this.Sa);}g={display:{code:this.$la,text:this.T7},messageIdList:g,alert:this.alert,alertTag:this.QIa,preferredAudioLocale:null === (f=this.AQ) || void 0 === f?void 0:f.Wwb,preferredTextLocale:null === (e=this.AQ) || void 0 === e?void 0:e.Xwb};this.config().Tic && (g.debugData=this.n8);return g;};d.prototype.V_a=function(f){var e;e=parseInt(f,10);return isNaN(e)?f:e;};d.prototype.mKa=function(f){return ((0,h.pc)(this.Fg)?this.Fg.toString():(0,h.ji)(this.Fg)?this.Fg:"").endsWith(f);};d.prototype.Zlc=function(){if(this.errorCode === c.ca.k9a && (this.Sa === c.Y.BCa || this.Sa === c.Y.cbb))return this.$lc(this.Sa === c.Y.BCa);};d.prototype.$lc=function(f){var e,g,k,l;k=this.config().browserInfo || ({});l=null === (e=k.os) || void 0 === e?void 0:e.name;e=((null === (g=k.os) || void 0 === g?void 0:g.version) || "").split(".");g=parseInt(e && e[0]);e=parseInt(e && e[1]);switch(l){case "windows":return 6 > g || 6 === g && 1 > e?f?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":f?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > g || 10 === g && 10 > e?f?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":f?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return f?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};Ha.Object.defineProperties(d.prototype,{ppa:{configurable:!0,enumerable:!0,get:function(){return !!this.vba && !!this.o8;}}});b.wcb=d;},981:function(t,b){function a(d,n){this.B0a=d;this.JC=n;}Object.defineProperty(b,"__esModule",{value:!0});b.vdb=void 0;a.prototype.iNc=function(){this.qja || (this.qja=setInterval(this.JC,this.B0a));};a.prototype.cnb=function(){this.qja && (clearInterval(this.qja),this.qja=void 0);};b.vdb=a;},35128:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zha=void 0;b.wu={$U:"PRIMARY",Hwa:"ASSISTIVE",A4a:"COMMENTARY",NONE:"NONE"};b.Zha={assistive:b.wu.Hwa,closedcaptions:b.wu.Hwa,directorscommentary:b.wu.A4a,commentary:b.wu.A4a,subtitles:b.wu.$U,primary:b.wu.$U,none:b.wu.NONE};},24066:function(t,b,a){var n,c,h,f,e;function d(){return n.cd.get(h.$d).GG.oa(e.ya);}Object.defineProperty(b,"__esModule",{value:!0});b.bx=function(){return n.cd.get(h.$d).wc().oa(e.ya);};b.gnb=function(){return n.cd.get(c.vi).Eg.oa(e.uu);};b.S2c=function(){return n.cd.get(h.$d).GG.oa(e.uu);};b.R2c=function(){return n.cd.get(f.xE).NF();};b.a$b=d;b.b$b=function(){return n.cd.get(c.vi).Eg.oa(e.ya);};b.T2c=function(){return d();};n=a(83989);c=a(30869);h=a(81918);f=a(62665);e=a(5021);},33096:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.M3a=b.kEa=b.X3=b.Cga=b.yRb=b.ARb=b.BRb=b.e4a=b.xRb=b.zRb=b.d4a=b.CRb=b.GRb=b.ERb=b.FRb=b.DRb=b.lTb=b.kTb=b.jTb=b.xVb=b.zVb=b.yVb=b.uVb=b.wVb=b.vVb=b.mTb=b.Qya=b.Sfa=b.GWb=b.XYb=b.g$a=b.rRb=b.p5a=b.vCa=b.YU=b.Xga=b.f$a=b.zE=b.qRb=b.R3a=b.VUb=b.TZb=b.tVb=b.sVb=b.LYb=b.KYb=b.Uq=b.Bh=b.qdb=b.wI=void 0;b.L3a=b.N3a=b.P3a=b.O3a=void 0;b.wI=function(){};b.qdb=function(){return !0;};b.Bh={success:!0};b.Uq=1E3;b.KYb=86400;b.LYb=604800;b.sVb=1E4;b.tVb=1E7;b.TZb=1.5;b.VUb=.128;b.R3a=7.8125;b.qRb=128;b.zE=145152E5;b.f$a=1E5;b.Xga="$netflix$player$order";b.YU=-1;b.vCa=1;b.p5a=["en-US"];b.rRb=8;b.g$a=65535;b.XYb=65536;b.GWb=Number.MAX_VALUE;b.Sfa="playready";b.Qya="widevine";b.mTb="fps";b.vVb='audio/mp4; codecs="mp4a.40.5"';b.wVb='audio/mp4; codecs="mp4a.40.42"';b.uVb='audio/mp4; codecs="ec-3"';b.yVb='video/mp4; codecs="avc1.640028"';b.zVb='video/mp4; codecs="hev1.2.6.L153.B0"';b.xVb='video/mp4; codecs="dvhe.01000000"';b.jTb="9A04F079-9840-4286-AB92-E65BE0885F95";b.kTb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.lTb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.DRb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.FRb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.ERb="4E657466-6C69-7846-7261-6D6552617465";b.GRb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.CRb="mp4a";b.d4a="enca";b.zRb="ec-3";b.xRb="avc1";b.e4a="encv";b.BRb="hvcC";b.ARb="hev1";b.yRb="dvhe";b.Cga=0;b.X3=1;b.kEa="position:relative;width:100%;height:100%;overflow:hidden";b.M3a="AAAAJGZ0eXBpc282AAAAAW1jbDBpc282ZHNtc21zaXhkYXNoAAAAKWZyZWVJc29NZWRpYSBGaWxlIFByb2R1Y2VkIHdpdGggR1BBQwAAAAXwbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAABdwAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAzt0cmFrAAAAXHRraGQAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAYAAAADYAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAAAAAAH0gABAAAAAAKzbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAABdwAAAAABVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABNZWRpYUhhbmRsZXIAAAACXm1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAh5zdGJsAAAB0nN0c2QAAAAAAAAAAgAAAQllbmN2AAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAYAA2ABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAP2F2Y0MBZAAW/+EAI2dkABasylBgd+XARAAAD6QAA6mDkgAD0JAAehKTTAHixbLAAQAFaOk7LIv9+PgAAAAAEHBhc3AAAAABAAAAAQAAAFBzaW5mAAAADGZybWFhdmMxAAAAFHNjaG0AAAAAY2VuYwABAAAAAAAoc2NoaQAAACB0ZW5jAAAAAAAAAQgAAAAABJJuTQAAAAAAAAAAAAAAFGJ0cnQAAFdDAAQxEAAA4PAAAAC5YXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAGAANgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAD9hdmNDAWQAFv/hACNnZAAWrMpQYHflwEQAAA+kAAOpg5IAA9CQAHoSk0wB4sWywAEABWjpOyyL/fj4AAAAABBwYXNwAAAAAQAAAAEAAAAUYnRydAAAV0MABDEQAADg8AAAABBzdHRzAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAOG12ZXgAAAAQbWVoZAAAAAABSRwjAAAAIHRyZXgAAAAAAAAAAQAAAAEAAAPpAAAAAAABAAAAAAGJcHNzaAAAAACaBPB5mEBChquS5lvgiF+VAAABaUoCAAAQAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiAD4ADQAKACAAIAA8AEQAQQBUAEEAPgANAAoAIAAgACAAIAA8AEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+AE8ATgBEAEUATQBBAE4ARAA8AC8ARABFAEMAUgBZAFAAVABPAFIAUwBFAFQAVQBQAD4ADQAKACAAIAA8AC8ARABBAFQAQQA+AA0ACgA8AC8AVwBSAE0ASABFAEEARABFAFIAPgAAAABMcHNzaAAAAAApcB/kPMdKNIxbrpDHQ5pHAAAALAAAAAQAAAAABJJuTcxdH7v6mbzxtj405AeHQcIhLEFIaAigoatAInie7Qj4AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAASSbk0AAAAAAAAAAA==";b.O3a="AAAAJGZ0eXBpc282AAAAAW1jbDBpc282ZHNtc21zaXhkYXNoAAAAKWZyZWVJc29NZWRpYSBGaWxlIFByb2R1Y2VkIHdpdGggR1BBQwAAAAa0bW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAB1MAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAA/90cmFrAAAAXHRraGQAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAABQAAAALQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAAAAAAH0gABAAAAAAN3bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAAABVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABNZWRpYUhhbmRsZXIAAAADIm1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAuJzdGJsAAAClnN0c2QAAAAAAAAAAgAAAWtlbmN2AAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAABQAC0ABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAjmh2Y0MBAiAAAACQAAAAAABd8AD9/fr6AAAPA6AAAQAYQAEMAf//AiAAAAMAkAAAAwAAAwBdkcCQoQABAEFCAQECIAAAAwCQAAADAAADAF2gAoCALRNnkeSQpEM5Kym/RhSVgLUBAQEEAAAPpAAB1MPoq978AS6AJeACXQBLwqIAAQAHRAHBcvY8kAAAABBwYXNwAAAAAQAAAAEAAAATY29scm5jbHgAAQABAAEAAAAAUHNpbmYAAAAMZnJtYWh2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAEkm5NAAAAAAAAAAAAAAAUYnRydAAAfR0ADq1AAAfrqAAAARtodmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAABQAC0ABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAjmh2Y0MBAiAAAACQAAAAAABd8AD9/fr6AAAPA6AAAQAYQAEMAf//AiAAAAMAkAAAAwAAAwBdkcCQoQABAEFCAQECIAAAAwCQAAADAAADAF2gAoCALRNnkeSQpEM5Kym/RhSVgLUBAQEEAAAPpAAB1MPoq978AS6AJeACXQBLwqIAAQAHRAHBcvY8kAAAABBwYXNwAAAAAQAAAAEAAAATY29scm5jbHgAAQABAAEAAAAAFGJ0cnQAAH0dAA6tQAAH66gAAAAQc3R0cwAAAAAAAAAAAAAAEHN0c2MAAAAAAAAAAAAAABRzdHN6AAAAAAAAAAAAAAAAAAAAEHN0Y28AAAAAAAAAAAAAADhtdmV4AAAAEG1laGQAAAAAAAbfkgAAACB0cmV4AAAAAAAAAAEAAAABAAAD6QAAAAAAAQAAAAABiXBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAWlKAgAAEAEAlAI8AFcAUgBNAEgARQBBAEQARQBSACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADIALgAwAC4AMAAiACAAeABtAGwAbgBzAD0AIgBoAHQAdABwADoALwAvAHMAYwBoAGUAbQBhAHMALgBtAGkAYwByAG8AcwBvAGYAdAAuAGMAbwBtAC8ARABSAE0ALwAyADAAMAA3AC8AMAAzAC8AUABsAGEAeQBSAGUAYQBkAHkASABlAGEAZABlAHIAIgA+AA0ACgAgACAAPABEAEEAVABBAD4ADQAKACAAIAAgACAAPABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+AA0ACgAgACAAPAAvAEQAQQBUAEEAPgANAAoAPAAvAFcAUgBNAEgARQBBAEQARQBSAD4AAAAATHBzc2gAAAAAKXAf5DzHSjSMW66Qx0OaRwAAACwAAAAEAAAAAASSbk3MXR+7+pm88bY+NOQHh0HCISxBSGgIoKGrQCJ4nu0I+AAAADRwc3NoAAAAAO3vi6l51krOo8gn3NUdIe0AAAAUCAESEAAAAAAEkm5NAAAAAAAAAAA=";b.P3a="AAAAJGZ0eXBpc282AAAAAW1jbDBpc282ZHNtc21zaXhkYXNoAAAAKWZyZWVJc29NZWRpYSBGaWxlIFByb2R1Y2VkIHdpdGggR1BBQwAAAAX3bW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAABdwAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAA0J0cmFrAAAAXHRraGQAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAmAAAAFWAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAAAAAAPpAABAAAAAAK6bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAABdwAAAAABVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABNZWRpYUhhbmRsZXIAAAACZW1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAiVzdGJsAAAB2XN0c2QAAAAAAAAAAQAAAcllbmN2AAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAmABVgBIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAwGh2Y0MBAiAAAACQAAAAAABa8AD9/fr6AAAPA6AAAQAYQAEMAf//AiAAAAMAkAAAAwAAAwBamLAkoQABAHFCAQECIAAAAwCQAAADAAADAFqgBMIBWfTZ5i5JCkQE7hCsImJ5ff6PNnL+jmUyXv6ObMv0YUITiKxJl7+jmzL9GFETmrEm/Zl+jCmnJWU36MKSsBahIgE2wgAAAwACAAADADHzze9+ALWAFrgBawAtcaIAAQAJRAHBcsKhljyQAAAAEHBhc3AAAAABAAAAAQAAABNjb2xybmNseAAJABAACQAAAAAgbWRjdjPChsQdTAu4hNA+gD0TQEICYloAAAAAMgAAAAxjbGxpJxAArwAAAFBzaW5mAAAADGZybWFodmMxAAAAFHNjaG0AAAAAY2VuYwABAAAAAAAoc2NoaQAAACB0ZW5jAAAAAAAAAQgAAAAABJJuTQAAAAAAAAAAAAAAFGJ0cnQAACRGAAVtaAABwSAAAAAQc3R0cwAAAAAAAAAAAAAAEHN0c2MAAAAAAAAAAAAAABRzdHN6AAAAAAAAAAAAAAAAAAAAEHN0Y28AAAAAAAAAAAAAADhtdmV4AAAAEG1laGQAAAAAADb8kAAAACB0cmV4AAAAAAAAAAEAAAABAAAD6QAAAAAAAQAAAAABiXBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAWlKAgAAEAEAlAI8AFcAUgBNAEgARQBBAEQARQBSACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADIALgAwAC4AMAAiACAAeABtAGwAbgBzAD0AIgBoAHQAdABwADoALwAvAHMAYwBoAGUAbQBhAHMALgBtAGkAYwByAG8AcwBvAGYAdAAuAGMAbwBtAC8ARABSAE0ALwAyADAAMAA3AC8AMAAzAC8AUABsAGEAeQBSAGUAYQBkAHkASABlAGEAZABlAHIAIgA+AA0ACgAgACAAPABEAEEAVABBAD4ADQAKACAAIAAgACAAPABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+AA0ACgAgACAAPAAvAEQAQQBUAEEAPgANAAoAPAAvAFcAUgBNAEgARQBBAEQARQBSAD4AAAAATHBzc2gAAAAAKXAf5DzHSjSMW66Qx0OaRwAAACwAAAAEAAAAAASSbk3MXR+7+pm88bY+NOQHh0HCISxBSGgIoKGrQCJ4nu0I+AAAADRwc3NoAAAAAO3vi6l51krOo8gn3NUdIe0AAAAUCAESEAAAAAAEkm5NAAAAAAAAAAA=";b.N3a="AAAAJGZ0eXBpc282AAAAAW1jbDBpc282ZHNtc21zaXhkYXNoAAAAOmZyZWVJc29NZWRpYSBGaWxlIFByb2R1Y2VkIHdpdGggR1BBQyAyLjIuMS1yZXZyZWxlYXNlAAAABiBtb292AAAAbG12aGQAAAAA5NfWeuTX1noAAF3AAAAAAAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAADa3RyYWsAAABcdGtoZAAAAAHk19Zf5NfWegAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAADwAAAAhwAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAAAAAA+kAAEAAAAAAuNtZGlhAAAAIG1kaGQAAAAA5NfWX+TX1noAAF3AAAAAAFXEAAAAAAA3aGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAD9AR1BBQzIuMi4xLXJldnJlbGVhc2UAAAAChG1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAkRzdGJsAAAB+HN0c2QAAAAAAAAAAgAAARxlbmN2AAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAA8ACHABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAH2h2Y0MBAiAAAACQAAAAAABa8AD9/fr6AAAPAAAAACBkdmNDAQAKDQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEHBhc3AAAAABAAAAAQAAABNjb2xybmNseAACAAIAAoAAAABQc2luZgAAAAxmcm1hZHZoZQAAABRzY2htAAAAAGNlbmMAAQAAAAAAKHNjaGkAAAAgdGVuYwAAAAAAAAEIAAAAAASSbk0AAAAAAAAAAAAAABRidHJ0AACamQAHyWAAAdpQAAAAzGR2aGUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAADwAIcAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAfaHZjQwECIAAAAJAAAAAAAFrwAP39+voAAA8AAAAAIGR2Y0MBAAoNAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQcGFzcAAAAAEAAAABAAAAE2NvbHJuY2x4AAIAAgACgAAAABRidHJ0AACamQAHyWAAAdpQAAAAEHN0dHMAAAAAAAAAAAAAABBzdHNjAAAAAAAAAAAAAAAUc3RzegAAAAAAAAAAAAAAAAAAABBzdGNvAAAAAAAAAAAAAAA4bXZleAAAABBtZWhkAAAAAASXy9QAAAAgdHJleAAAAAAAAAABAAAAAQAAA+kAAAAAAAEAAAAAAYlwc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAFpSgIAABABAJQCPABXAFIATQBIAEUAQQBEAEUAUgAgAHYAZQByAHMAaQBvAG4APQAiADQALgAyAC4AMAAuADAAIgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAPgANAAoAIAAgADwARABBAFQAQQA+AA0ACgAgACAAIAAgADwARABFAEMAUgBZAFAAVABPAFIAUwBFAFQAVQBQAD4ATwBOAEQARQBNAEEATgBEADwALwBEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgANAAoAIAAgADwALwBEAEEAVABBAD4ADQAKADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAEkm5NzF0fu/qZvPG2PjTkB4dBwiEsQUhoCKChq0AieJ7tCPgAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABJJuTQAAAAAAAAAA";b.L3a="AAAAIGZ0eXBpc282AAAAAWlzbzZkc21zbXNpeGRhc2gAAABJZnJlZUlzb01lZGlhIEZpbGUgUHJvZHVjZWQgd2l0aCBHUEFDIDIuMy1ERVYtcmV2NzMyNC1nYmY2MjljNjllLUhFQUQAAAACyW1vb3YAAABsbXZoZAAAAADh+ZcJ4fmXCQAAu4AAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIddHJhawAAAFx0a2hkAAAAB+H5lKLh+ZcJAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAAAAAAAAAAAAQAAAAABlW1kaWEAAAAgbWRoZAAAAADh+ZSi4fmXCQAAu4AAAAAAFccAAAAAACVoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAc291bgAAAAFIbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEMc3RibAAAAKZzdHNkAAAAAAAAAAEAAACWbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAALuAAAAAAAByZXNkcwAAAAADZAAAAARcQBUABhoAAx/QAALzCAVN+UZDIjzA08ngIAAAEkt4gQIEBgtciAIJAggJCAAJ1AGAQARCAAV1AGAwsAGQgAgdcgBgKHACEIAIGQAYCAAABMAK5JYATgAgAASfSwAGAQIAAAAQc3R0cwAAAAAAAAAAAAAAEHN0c2MAAAAAAAAAAAAAABRzdHN6AAAAAAAAAAAAAAAAAAAAEHN0Y28AAAAAAAAAAAAAABpzZ3BkAQAAAHByb2wAAAACAAAAAQABAAAAOG12ZXgAAAAQbWVoZAAAAAAJVBbgAAAAIHRyZXgAAAAAAAAAAQAAAAEAAAQAAAAAAAABAAA=";},77705:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.Sob=b.PTa=void 0;d=a(45146);n=a(3887);c=a(32687);(function(){var f,e,g;function h(k){(0,d.ta)(void 0 !== f[k]);return f[k];}f={'"':'""',"\r":"","\n":" "};e=/["\r\n]/g;g=/[", ]/;b.Sob=function(k){return (0,c.ed)(k)?(0,c.pc)(k)?k:(0,c.ji)(k)?k.replace(e,h):(0,c.Xxb)(k)?k:isNaN(k)?"NaN":"":"";};b.PTa=function(k){var l,m;l=b.Sob;m="";(0,n.hi)(k,function(p,r){p=l(p) + "=" + l(r);g.test(p) && (p='"' + p + '"');m=m?m + ("," + p):p;});return m;};})();},45146:function(t,b,a){var c,h,f;function d(){f || (f=c.Wa.get(h.wB));return f;}function n(e,g){return d().assert(e,g);}Object.defineProperty(b,"__esModule",{value:!0});b.kec=b.y7=b.dec=b.hec=b.pX=b.z7=b.gec=b.iec=b.A7=b.lpb=b.fec=b.eec=b.jec=b.bRb=void 0;b.ta=n;c=a(31276);h=a(90597);b.bRb=function(){n(!1);};b.jec=!0;f=void 0;b.eec=function(e,g){return d().m5b(e,g);};b.fec=function(e,g){return d().n5b(e,g);};b.lpb=function(e,g){return d().fka(e,g);};b.A7=function(e,g){return d().t5b(e,g);};b.iec=function(e,g){return d().r5b(e,g);};b.gec=function(e,g){return d().eka(e,g);};b.z7=function(e,g){return d().p5b(e,g);};b.pX=function(e,g){return d().s5b(e,g);};b.hec=function(e,g){return d().q5b(e,g);};b.dec=function(e,g){return d().l5b(e,g);};b.y7=function(e,g){return d().o5b(e,g);};b.kec=function(){return d().itc();};},32219:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gh=function(a){return setTimeout(a,0);};},22894:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PTb=function(a){var c,h,f,e;function d(){if(f)for(var g;g=c.pop();)g(e);}function n(g){f=!0;e=g;d();}c=[];return function(g){c.push(g);h || (h=!0,a(n));d();};};},37509:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.joa=b.Lr=b.koa=b.oK=b.Gm=b.re=void 0;t=a(94886);d=a(32219);n=a(22365);b.re=new t.Vl();b.Gm=1;b.oK=2;b.koa=3;b.Lr=4;b.joa=5;(0,d.Gh)(function(){var h,f,e;function c(g,k){if(f)f.on(g,k);else Ca.addEventListener(g,k);}h=Ca.jQuery;f=h && h(Ca);h=(h=Ca.netflix) && h.cadmium && h.cadmium.addBeforeUnloadHandler;e=n.yi.hidden;h?h(function(g){b.re.kd(b.Gm,g);}):c("beforeunload",function(g){b.re.kd(b.Gm,g);});c("keydown",function(g){b.re.kd(b.oK,g);});c("resize",function(){b.re.kd(b.koa);});n.yi.addEventListener("visibilitychange",function(){e !== n.yi.hidden && (e=n.yi.hidden,b.re.kd(b.Lr));});});(function(){Ca.addEventListener("error",function(c){b.re.kd(b.joa,c);return !0;});})();},52828:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});t=a(36129);d=a(31276);n=a(31701);a=a(11479);d.Wa.get(a.Oj).register(t.ca.l8a,function(c){d.Wa.get(n.a6a)().then(function(){c({success:!0});}).catch(function(h){d.log.error("error in initializing indexedDb debug tool",h);c({success:!0});});});},37353:function(t,b,a){var g,k,l,m,p;function d(r){var q,v;(0,k.A7)(r);if((0,m.ji)(r) && b.A8a.test(r)){q=r.split(".");if(4 === q.length){for(var u=0;u < q.length;u++){v=(0,p.Il)(q[u]);if(0 > v || !(0,m.MK)(v,0,255) || 1 !== q[u].length && 0 === q[u].indexOf("0"))return;}return r;}}}function n(r){var q;q=0;if(d(r) === r)return (r=r.split("."),q+=(0,p.Il)(r[0]) << 24,q+=(0,p.Il)(r[1]) << 16,q+=(0,p.Il)(r[2]) << 8,q + (0,p.Il)(r[3]));}function c(r){var q,u;(0,k.A7)(r);if((0,m.ji)(r) && r.match(b.B8a)){q=r.split(":");-1 !== q[q.length - 1].indexOf(".") && (r=h(q[q.length - 1]),q.pop(),q.push(r[0]),q.push(r[1]),r=q.join(":"));r=r.split("::");if(!(2 < r.length || 1 === r.length && 8 !== q.length) && (q=1 < r.length?f(r):q,r=q.length,8 === r)){for(;r--;){u=parseInt(q[r],16);if(!(0,m.MK)(u,0,g.g$a))return;}return q.join(":");}}}function h(r){var q;r=n(r) >>> 0;q=[];q.push((r >>> 16 & 65535).toString(16));q.push((r & 65535).toString(16));return q;}function f(r){var q,u,v;q=r[0].split(":");r=r[1].split(":");1 === q.length && "" === q[0] && (q=[]);1 === r.length && "" === r[0] && (r=[]);u=8 - (q.length + r.length);if(1 > u)return [];for(v=0;v < u;v++)q.push("0");for(v=0;v < r.length;v++)q.push(r[v]);return q;}function e(r){return -1 << 32 - r;}Object.defineProperty(b,"__esModule",{value:!0});b.qN=b.B8a=b.A8a=void 0;b.KYc=d;b.GYc=n;b.LYc=c;b.IYc=h;b.JYc=f;b.MYc=function(r,q,u){var v,w,x,y;v=d(r);w=c(r);x=d(q);y=c(q);if(!v && !w || !x && !y || v && !x || w && !y)return !1;if(r === v)return (u=e(u),(n(r) & u) !== (n(q) & u)?!1:!0);if(r === w){r=r.split(":");q=q.split(":");for(v=(0,l.RU)(u / b.qN.length);v--;)if(r[v] !== q[v])return !1;u%=b.qN.length;if(0 !== u)for((r=parseInt(r[v],16).toString(2),q=parseInt(q[v],16).toString(2),r=b.qN.substring(0,b.qN.length - r.length) + r,q=b.qN.substring(0,b.qN.length - q.length) + q,v=0);v < u;v++)if(r[v] !== q[v])return !1;return !0;}return !1;};b.HYc=e;g=a(33096);k=a(45146);l=a(22365);m=a(32687);p=a(3887);b.A8a=/^[0-9.]*$/;b.B8a=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.qN="0000000000000000";},32687:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.yx=b.Xxb=b.nZ=b.ji=b.GSa=b.Stc=b.ytc=b.vSa=b.MK=b.nyb=b.pc=b.H$=b.isArray=b.Iyb=b.mA=b.ed=b.is=void 0;t=a(76564);b.is=t.sN;b.ed=function(d){return b.is.gi(d);};b.mA=function(d){return b.is.h6(d);};b.Iyb=function(d){return b.is.bIa(d);};b.isArray=function(d){return b.is.IO(d);};b.H$=function(d){return b.is.kkb(d);};b.pc=function(d,n,c){return b.is.Ao(d,n,c);};b.nyb=function(d,n,c){return b.is.VIa(d,n,c);};b.MK=function(d,n,c){return b.is.i6(d,n,c);};b.vSa=function(d){return b.is.O5(d);};b.ytc=function(d){return b.is.E2b(d);};b.Stc=function(d){return b.is.F2b(d);};b.GSa=function(d){return b.is.lkb(d);};b.ji=function(d){return b.is.Ws(d);};b.nZ=function(d){return b.is.Pw(d);};b.Xxb=function(d){return b.is.rja(d);};b.yx=function(d){return b.is.tja(d);};},2734:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(31276);b=a(36410);a=a(34126);t.Wa.get(b.MU).Hta(a.iBa.dSb,function(d){var n,c;n=d.level;if(!Ca._cad_global.config || n <= Ca._cad_global.config.xxc){d=d.Gva();c=Ca.console;1 >= n?c.error(d):2 >= n?c.warn(d):c.log(d);}});},73100:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(29204);a(33096);t=a(31276);a(36410);a(34126);a(36129);a(45842);a(5021);a=a(11479);t.Wa.get(a.Oj);!1;},8825:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.FE=void 0;b.SZc=function(n,c,h,f,e){return (n - c) * (e - f) / (h - c) + f;};b.Rj=function(n){if((0,d.pc)(n))return (n / 1E3).toFixed(3);};d=a(32687);b.FE=b.FE || (function(n,c,h){return n >= c?n <= h?n:h:c;});},87051:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.G0c=function(c,h,f){for(f=(f - c.length) / h.length;0 < f--;)c+=h;return c;};b.E0c=function(c,h,f){f=(0,d.ji)(f)?f:"...";return c.length <= h?c:c.substr(0,c.length - (c.length + f.length - h)) + f;};b.F0c=function(c,h){var e;for(var f=1;f < arguments.length;++f);e=n.slice.call(arguments,1);return c.replace(/{(\d+)}/g,function(g,k){return "undefined" != typeof e[k]?e[k]:g;});};b.H0c=function(c){for(var h=c.length,f=new Uint16Array(h),e=0;e < h;e++)f[e]=c.charCodeAt(e);return f.buffer;};b.jbd=function(c){var h;h=new Uint8Array(c.length);Array.prototype.forEach.call(c,function(f,e){h[e]=f.charCodeAt(0);});return h;};d=a(32687);n=a(22365);},52569:function(t,b,a){var g,k,l,m,p,r;function d(){var q,u;if(q=b.Tna.lib)return q;q=m.Nga.search.substr(1);u=q.indexOf("#");0 <= u && (q=q.substr(0,u));q=n(q);return b.Tna.lib=q;}function n(q){for(var u=/[+]/g,v=(q || "").split("&"),w={},x,y=0;y < v.length;y++)(q=(0,l.trim)(v[y]),x=q.indexOf("="),0 <= x?w[decodeURIComponent(q.substr(0,x).replace(u,"%20")).toLowerCase()]=decodeURIComponent(q.substr(x + 1).replace(u,"%20")):w[q.toLowerCase()]=null);return w;}function c(q){return (q=(/function (.{1,})\(/).exec(q.toString())) && 1 < q.length?q[1]:"";}function h(q){return c(q.constructor);}function f(q){return m.sort.call(q,function(u,v){return u - v;});}function e(q){for(var u=0,v=q.length;v--;)u+=q[v];return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Xma=b.createElement=b.p7=b.Tna=b.d7=void 0;b.x$b=function(q,u){if(q === u)return !0;if(!q || !u)return !1;for(var v in q)if(q.hasOwnProperty(v) && (!u.hasOwnProperty(v) || q[v] !== u[v]))return !1;return !0;};b.U9c=function(q){var u;if(q){u=q.length;if(u)return (u=(0,l.LHc)(0,u - 1),q[u]);}};b.Z$b=function(q,u){if(q.length != u.length)return !1;q.sort();u.sort();for(var v=q.length;v--;)if(q[v] !== u[v])return !1;return !0;};b.Q3b=function(q,u,v){function w(){q.removeEventListener(u,w);v.apply(this,arguments);}q.addEventListener(u,w);};b.PHc=function(){var q,u,v,w,x,y;q=m.yi.cookie.split("; ");u=q.length;x={};for(v=0;v < u;v++)if(w=(0,l.trim)(q[v])){y=w.indexOf("=");0 < y && (x[w.substr(0,y)]=w.substr(y + 1));}return x;};b.N5c=d;b.rsa=n;b.getFunctionName=c;b.Ltb=h;b.CDb=function(q){var u;u="";(0,p.isArray)(q) || (0,p.H$)(q)?u=m.reduce.call(q,function(v,w){return v + (32 <= w && 128 > w?(0,m.Xeb)(w):".");},""):(0,p.ji)(q)?u=q:(0,l.hi)(q,function(v,w){u+=(u?", ":"") + "{" + v + ": " + ((0,p.yx)(w)?c(w) || "function":w) + "}";});return "[" + h(q) + " " + u + "]";};b.I9c=function(q,u){q.firstChild?q.insertBefore(u,q.firstChild):q.appendChild(u);};b.B6c=function(q,u){var v;v=q[0];if(u <= v[0])return v.slice(1);for(var w=1,x;x=q[w++];){if(u <= x[0]){q=(u - v[0]) / (x[0] - v[0]);u=[];for(w=1;w < v.length;w++)u.push((v[w] || 0) + q * ((x[w] || 0) - (v[w] || 0)));return u;}v=x;}return v.slice(1);};b.NVc=function(q,u){var x;for(var v={},w=0;w < u.length;w++){x=u[w];if("string" != typeof x && "number" != typeof x)return !1;v[u[w]]=1;}for(w=0;w < q.length;w++)if((x=q[w],!v[x]))return !1;return !0;};b.jxa=f;b.PVc=e;b.hfa=function(q,u){var v,w,x,y;v=-1;w=q.length;if(1 === arguments.length){for(;++v < w && !(null != (x=q[v]) && x <= x);)x=void 0;for(;++v < w;)null != (y=q[v]) && y > x && (x=y);}else {for(;++v < w && !(null != (x=u.call(q,q[v],v)) && x <= x);)x=void 0;for(;++v < w;)null != (y=u.call(q,q[v],v)) && y > x && (x=y);}return x;};b.OVc=function(q,u){var v,w,x,y;v=-1;w=q.length;if(1 === arguments.length){for(;++v < w && !(null != (x=q[v]) && x <= x);)x=void 0;for(;++v < w;)null != (y=q[v]) && x > y && (x=y);}else {for(;++v < w && !(null != (x=u.call(q,q[v],v)) && x <= x);)x=void 0;for(;++v < w;)null != (y=u.call(q,q[v],v)) && x > y && (x=y);}return x;};b.A_=function(q){return (0,p.yx)(q.then)?q:new Promise(function(u,v){q.oncomplete=function(){u(q.result);};q.onerror=function(){v(q.error);};});};b.J4c=function(q,u){var w,x,y,z,B,A;function v(C){0 > w.indexOf(C) && (0,p.pc)(C) && w.push(C);}q=q.slice();f(q);w=[];if(!u || !u.length)return q;if(!q.length)return [];x=u.length;try{for(;x--;){z="" + u[x];B=(0,l.Il)(z);switch(z[z.length - 1]){case "-":for(y=q.length;y--;){A=q[y];if(A < B){v(A);break;}}break;case "+":for(y=0;y < q.length;y++)if((A=q[y],A > B)){v(A);break;}break;default:0 <= q.indexOf(B) && v(B);}}}catch(C){}w.length || w.push(q[0]);f(w);return w;};b.$2c=function(q,u,v){for(var w=[],x=0;x < u;x++)w.push((0,m.x$a)(q[x] - v,2));return (0,m.y$a)(e(w) / w.length);};b.P6=function(q,u){var v;v=q.length;u=(v - 1) * u + 1;if(1 === u)return q[0];if(u == v)return q[v - 1];v=(0,m.RU)(u);return q[v - 1] + (u - v) * (q[v] - q[v - 1]);};b.S4c=function(q,u){if(!(0,p.isArray)(q))throw Error("boxes is not an array");if(0 >= q.length)throw Error("There are no boxes in boxes");u=(0,p.isArray)(u)?u:[u];for(var v=q.length,w=0;w < v;w++)for(var x=0;x < u.length;x++)if(q[w].type == u[x])return q[w];throw Error("Box not found " + u);};b.sWc=function(q){return q.xmc("trak/mdia/minf/stbl/stsd/" + g.d4a + "|" + g.e4a).children.filter(function(u){return "sinf" == u.type && u.O4c.schm.q$c == r.nE;})[0].xmc("schi/tenc").qA;};b.rWc=function(q){var v;function u(w,x){var y;y=v[w];v[w]=v[x];v[x]=y;}v=new Uint8Array(q);u(0,3);u(1,2);u(4,5);u(6,7);return v;};b.z9c=function(q){return function(u){return u && u[q];};};b.Hyb=function(q){return q && 0 == q.toLowerCase().indexOf("https");};b.Pmc=function(){var q,u;q=new ArrayBuffer(4);u=new Uint8Array(q);q=new Uint32Array(q);u[0]=161;u[1]=178;u[2]=195;u[3]=212;return 3569595041 == q[0]?"LE":2712847316 == q[0]?"BE":"undefined";};b.GY=function(){var q,u,v;try{q=/playercore.*js/;u=m.GB.getEntries("resource").filter(function(w){return null !== q.exec(w.name);});if(u && 0 < u.length){v=(0,m.Ns)(u[0].duration);return JSON.stringify(v);}}catch(w){}};b.C9c=function(q,u,v){if(q && q.length){if(v && v.A9b)try{q.forEach(function(w,x){var y;y=(x=v.A9b[x]) && x.media;y && (0,p.ji)(y)?(!1,y=(0,k.wF)(y).buffer,w.media={arrayBuffer:y,length:y.byteLength,stream:u,Oc:x.cdn}):k.log.warn("chunk not in cache",w.ri);});}catch(w){k.log.error("error reading cached chunks",w);}else k.log.warn("chunks not available in cached stream",v.type);}else k.log.warn("chunks not available in mediabuffer",v.type);};g=a(33096);k=a(31276);l=a(3887);m=a(22365);p=a(32687);r=a(82100);b.d7=b.d7 || (function(q,u){if(q.length == u.length){for(var v=q.length;v--;)if(q[v] != u[v])return !1;return !0;}return !1;});b.Tna=Object.assign(d,{lib:void 0});b.p7=b.p7 || (function(q){var u;u="";(0,l.hi)(q,function(v,w){u+=(u?";":"") + v + ":" + w;});return u;});b.createElement=b.createElement || (function(q,u,v,w){var x;x=m.yi.createElement(q);u && (x.style.cssText=u);v && (x.innerHTML=v);w && (0,l.hi)(w,function(y,z){x.setAttribute(y,z);});return x;});b.Xma=b.Xma || (function(q,u,v){var w;if(q / u > v){w=(0,m.Ns)(u * v);q=u;}else (w=q,q=(0,m.Ns)(q / v));return {width:w,height:q};});(0,p.yx)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(q,u){var v,w;void 0 === q && (q=0);void 0 === u && (u=this.byteLength);q=Math.floor(q);u=Math.floor(u);0 > q && (q+=this.byteLength);0 > u && (u+=this.byteLength);q=Math.min(Math.max(0,q),this.byteLength);u=Math.min(Math.max(0,u),this.byteLength);if(0 >= u - q)return new ArrayBuffer(0);v=new ArrayBuffer(u - q);w=new Uint8Array(v);q=new Uint8Array(this,q,u - q);w.set(q);return v;});},3887:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.Wi=b.trim=b.aRa=b.Il=b.xf=b.hi=void 0;b.q8b=function(h,f,e,g){var k;if(h){k=h[f];(0,c.yx)(k) && (e=k.apply(h,n.slice.call(arguments,3)));}return e;};b.f5b=function(h){for(var f={},e=h.length;e--;)f[h[e]]=!0;return f;};b.o9c=function(h){return (/^true$/i).test(h);};b.LHc=function(h,f){return (0,n.Ns)(h + (0,n.Fga)() * (f - h));};b.MPc=function(h){return JSON.stringify(h,null,"  ");};b.ZK=function(h){return Array.isArray(h)?h:[h];};b.V2c=function(h){var g;for(var f=0;f < arguments.length;++f);f=0;for(var e=arguments.length;f < e;){g=arguments[f++];if((0,c.ed)(g))return g;}};b.Hh=function(h){return (0,c.pc)(h)?h.toFixed(0):void 0;};b.Ir=function(h){return (0,c.pc)(h)?(h / 1E3).toFixed(0):void 0;};b.h3c=function(h){for(var f=[],e=0;e < h.length;e++)f[e]=h[e];return f;};d=a(45146);n=a(22365);c=a(32687);b.hi=function(h,f){for(var e in h)h.hasOwnProperty(e) && f(e,h[e]);};b.xf=b.xf || (function(h,f,e){var g,k,l;if(f)if(e){g=e.naa;k=e.prefix;l=e.$ra;(0,b.hi)(f,function(m,p){if(!l || (0,c.ed)(p))h[(k || "") + (g?m.toLowerCase():m)]=p;});}else (0,b.hi)(f,function(m,p){h[m]=p;});return h;});b.Il=b.Il || (function(h){return parseInt(h,10);});b.aRa=(function(){var f,e;function h(g){(0,d.ta)(void 0 !== f[g]);return f[g];}f={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};e=/[&'"<>]/g;return function(g){return g.replace(e,h);};})();b.trim=(function(){var h;h=/^\s+|\s+$/gm;return function(f){return f.replace(h,"");};})();b.Wi=b.Wi || (function(h){var f,e,g;if(h){f=h.stack;e=h.number;g=h.message;g || (g="" + h);f?(h="" + f,0 != h.indexOf(g) && (h=g + "\n" + h)):h=g;e && (h+="\nnumber:" + e);return h;}});},29204:function(t,b,a){var c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C;function d(D){return (D=b.config.aSc[n(D)])?D:{};}function n(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":0 <= D.indexOf("live")?"live":D;}Object.defineProperty(b,"__esModule",{value:!0});b.WKa=b.config=void 0;b.M$b=function(D,F){var aa,ca,da,ja,R,N,V,ba,fa;function G(ha,la){(0,m.hi)(ha,function(pa,ia){(0,r.yx)(ia)?la[pa]=ia.call(void 0,la[pa]):(0,r.mA)(ia) && (la[pa]=la[pa] || ({}),G(ia,la[pa]));});}function E(ha,la,pa,ia){for(var na=[],T=3;T < arguments.length;++T)na[T - 3]=arguments[T];return function(ea){(0,r.ed)(ea) && (pa=ea);(0,g.ta)((0,r.yx)(ha));return ha.apply(void 0,[la,pa].concat(Aa(na)));};}function H(ha){ha=ha.toLowerCase();ja.hasOwnProperty(ha) && (da[ha]=ja[ha],R[ha]=ja[ha]);return ha;}function J(ha,la,pa){var ia;ha=ha.toLowerCase();if(da.hasOwnProperty(ha)){ia=da[ha];try{ia=pa?pa(ia):ia;}catch(na){ia=void 0;}if(void 0 !== ia)return ia;(0,g.ta)(!1);f.log.error("Invalid configuration value. Name: " + ha);}return la;}function L(ha,la,pa,ia){return J(ha,la,function(na){(0,r.ji)(na) && (na=(0,m.Il)(na));if((0,r.nyb)(na,pa,ia))return na;});}function K(ha,la,pa,ia){return J(ha,la,function(na){(0,r.ji)(na) && (na=(0,m.Il)(na));if((0,r.MK)(na,pa,ia))return na;});}function M(ha,la,pa,ia){return J(ha,la,function(na){(0,r.ji)(na) && (na=parseFloat(na));if((0,r.pc)(na,pa,ia))return na;});}function P(ha,la,pa){return J(ha,la,function(ia){if(pa?pa.test(ia):(0,r.ji)(ia))return ia;});}function I(ha,la){return J(ha,la,function(pa){if("true" == pa || !0 === pa)return !0;if("false" == pa || !1 === pa)return !1;});}function O(ha,la){return J(ha,la,function(pa){if((0,r.ji)(pa))return JSON.parse((0,p.Oga)(pa));if((0,r.mA)(pa))return pa;});}function Q(ha,la,pa,ia,na,T){var ea;ha=ha.toLowerCase();da.hasOwnProperty(ha) && (ea=da[ha]);if(!(0,r.ed)(ea))return la;if((0,r.ji)(ea))if(ea[0] !== pa)ea=ia(ea);else try{ea=JSON.parse((0,p.Oga)(ea));}catch(ka){ea=void 0;}if(void 0 === ea)return la;for(ha=0;ha < na.length;ha++)if(!na[ha](ea))return la;return T?T(ea):ea;}function S(ha,la,pa,ia,na){return Q(ha,la,"[",function(T){T=T.split("|");for(var ea=T.length;ea--;)T[ea]=(0,m.Il)(T[ea]);return T;},[function(T){return (0,r.isArray)(T) && 0 < T.length;},function(T){for(var ea=T.length;ea--;)if(!(0,r.MK)(T[ea],pa,ia))return !1;return !0;},function(T){return void 0 === na || T.length >= na;}]);}function U(ha,la){return Q(ha,la,"[",function(pa){pa=(0,r.isArray)(pa)?pa:pa.split("|");for(var ia=pa.length;ia--;)try{pa[ia]=JSON.parse((0,p.Oga)(pa[ia]));}catch(na){pa=void 0;break;}return pa;},[function(pa){return (0,r.isArray)(pa) && 0 < pa.length;},function(pa){for(var ia=pa.length;ia--;)if(!(0,r.ed)(pa[ia]) || !(0,r.mA)(pa[ia]))return !1;return !0;}]);}function W(ha,la){var pa;pa=Y(ha,[]);return pa && 0 < pa.length?(0,C.qg)(pa):U(ha,la);}function Y(ha,la,pa,ia){return Q(ha,la,"[",function(na){return (0,r.isArray)(na)?na:na.split("|");},[function(na){return (0,r.isArray)(na) && 0 < na.length;},function(na){for(var T=na.length;T--;)if(pa?!pa.test(na[T]):!(0,r.nZ)(na[T]))return !1;return !0;},function(na){return void 0 === ia || na.length >= ia;}]);}function X(ha,la,pa){return Q(ha,la,"{",function(ia){var na,ea,ka;na={};ia=ia.split(";");for(var T=ia.length;T--;){ea=ia[T];ka=ea.indexOf(":");if(0 >= ka)return;na[ea.substring(0,ka)]=ea.substring(ka + 1);}return na;},[function(ia){return (0,r.mA)(ia) && 0 < Object.keys(ia).length;},function(ia){if(pa)for(var na in ia)if(!pa.test(ia[na]))return !1;return !0;}],function(ia){var na;na={};(0,m.xf)(na,la);(0,m.xf)(na,ia);return na;});}function Z(ha){var la;la=[];(0,m.hi)(ha,function(pa,ia){var na;try{na="videoapp" === pa.toLowerCase()?"[object object]":JSON.stringify(ia);}catch(T){na="cantparse";}la.push(pa + "=" + na);});return la.join("\n");}aa=/^[0-9]+[%]?$/;ca=/^[0-9]*$/;R={};N=f.Wa.get(e.Ls);V=f.Wa.get(w.cV);(function(ha){function la(pa){pa.split(",").forEach(function(ia){var na;na=ia.indexOf("=");0 < na && (da[ia.substring(0,na).toLowerCase()]=ia.substring(na + 1));});}da={};(0,m.xf)(da,ha);D && D.length && p.forEach.call(D,function(pa){(0,r.ji)(pa)?la(pa):(0,r.mA)(pa) && (0,m.xf)(da,pa,{naa:!0});});ja=(0,m.xf)({},(0,h.Tna)(),{naa:!0});if(ha=(0,h.PHc)().cadmiumconfig)(f.log.info("Config cookie loaded",ha),la(ha));if(f.Wa.get(B.Ps).TIa || da.istestaccount)((0,m.xf)(da,ja),R=ja);})(F);b.config={};ba={Uhc:E(I,H("enableXHEAAC"),!1),d8:E(I,H("enableDDPlus51"),!1),pma:E(I,H("enableDDPlusAtmos"),!1),thc:E(I,H("enableLSSDH"),!0),nhc:E(I,H("enableHEVC"),!1),zEb:E(I,H("overrideEnableHEVC"),!1),YMa:E(I,H("enableHDR"),!1),yEb:E(I,H("overrideEnableHDR"),!1),xDc:E(I,H("overrideEnableHdrDisplay"),!1),xEb:E(I,H("overrideEnableDV"),!1),Vgc:E(I,H("enableAV1"),!1),vEb:E(I,H("overrideEnableAV1"),!1),Wgc:E(I,H("enableAV1HDR10P"),!1),wEb:E(I,H("overrideEnableAV1HDR10P"),!1),yDc:E(I,H("overrideEnableXHEAAC"),!1),vDc:E(I,"overrideEnableAllAudioProfiles",!1),wDc:E(I,"overrideEnableAllVideoProfiles",!1),Fhc:E(I,H("enablePRK"),!1),hhc:E(I,H("enableDV"),!1),ohc:E(I,H("enableHWDRM"),!1),rhc:E(I,H("enableHwdrmOnArm"),!1),R3c:E(I,H("disablePlayReady"),!1),shc:E(I,H("enableImageSubs"),!0),qJ:E(W,H("audioProfiles"),V.qJ),mhc:E(I,H("enableFullHdForSWDRM"),!1),lhc:E(I,H("enableFullHdForHWDRM"),!1),Qhc:E(I,H("enableUHD"),!0),hwa:E(K,"videoCapabilityDetectorType",k.fr.pE),lJa:E(K,"audioCapabilityDetectorType",k.lE.pE),Th:E(W,H("videoProfiles"),V.Th),$o:E(W,H("liveVideoProfiles"),V.$o),Vjb:E(W,H("additionalVideoProfiles"),[]),j2b:E(Y,H("timedTextProfiles"),V.oB),oB:function(){return ba.j2b().filter(function(ha){return ha === l.cr.oya?ba.thc():ha === l.cr.UU?ba.shc():!0;});},endpoint:E(I,H("endpoint"),!1),version:E(P,"version","unknown"),phc:E(I,H("enableHdcp"),!1),ay:E(I,H("prepareCadmium"),!1),K2b:E(I,H("acceptManifestOnPrepareItemParams"),!0),HFc:E(O,"ppmconfig",{maxNumberTitlesScheduled:1}),rma:E(I,H("enableLdlPrefetch"),!1),tma:E(I,H("enableMediaPrefetch"),x.Va.tma),zhc:E(I,H("enableManifestCache"),!0),Wec:E(I,H("deleteCachedManifestOnPlayback"),!1),Vec:E(I,H("deleteCachedManifestOnCreate"),!1),Yec:E(I,H("deleteOtherManifestCacheOnCreate"),!1),Xec:E(I,H("deleteOtherLdlCacheOnCreate"),!1),v9c:E(K,H("periodicPrepareLogsIntervalMilliseconds"),36E5),eGc:E(K,H("prepareManifestCacheMaxCount"),50),cGc:E(K,H("prepareLdlCacheMaxCount"),30),mGb:E(K,H("prepareManifestExpiryMilliseconds"),12E5),dGc:E(K,H("prepareLdlExpiryMilliseconds"),78E4),XFc:E(K,H("prefetcherMaxWishlistSize"),10),WFc:E(K,H("prefetcherBudgetInBytes"),Infinity),YFc:E(I,H("prefetcherOverrideItemPriority"),!0),bGc:E(P,H("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),obd:E(O,"videoApp"),nM:E(O,"storageRules"),Wkc:E(I,"ftlEnabled",!0),lRa:E(K,H("imageSubsResolution"),0),osc:E(K,H("imageSubsMaxBuffer"),V.tyc.oa(y.Iy),0),U6:E(I,H("captureBatteryStatus"),!1),Plc:E(K,H("getBatteryApiTimeoutMilliseconds"),5E3),Hx:E(P,H("keySystemId"),V.Hx),QSa:E(Y,H("keySystemList"),void 0,void 0),O1a:E(I,H("validateKeySystemAccess"),!1),mzc:E(K,H("hdcpGlobalTimeout1"),1E4),nzc:E(K,H("hdcpGlobalTimeout2"),1E4),t8c:E(K,H("hdcpQueryTimeout1"),1E3),u8c:E(K,H("hdcpQueryTimeout2"),1E3),NBb:E(K,H("hdcpQueryTimeout2"),100),OBb:E(I,H("microsoftHwdrmRequiresHevc"),!1),PBb:E(I,H("microsoftHwdrmRequiresQHD"),!1),Izc:E(K,H("minimumMajorOsVersionForHwdrm"),15),lzc:E(I,H("microsoftClearLeadRequiresSwdrm"),!1),$gc:E(I,H("enableAvcHighHwdrm"),!1),qhc:E(I,H("enableHevcPrkHwdrm"),!1),Ahc:E(I,H("enableMediaCapabilities"),!1),GFc:E(I,H("powerEfficientForVideo"),!1),Bhc:E(I,H("enableMediaCapabilitiesSourceBufferCheck"),!1),x7c:E(I,"logMediaPipelineStatus",!1),lca:E(I,H("renderDomDiagnostics"),!0),zAb:function(){return -1;},BZ:E(L,H("logDisplayMaxEntryCount"),V.BZ,-1),xxc:E(L,H("logToConsoleLevel"),-1),q2c:E(L,H("bladerunnerCmdHistorySize"),10),XF:function(){return N.XF;},BTa:E(I,"logErrorIfEsnNotProvided",!0),lNa:E(I,"enforceSinglePlayback",V.lNa),zma:E(I,"enforceSingleSession",V.zma),KKa:E(I,"closeOtherPlaybacks",!0),x5b:E(K,"asyncLoadTimeout",15E3,1),Fxc:E(K,"mainThreadMonitorPollRate",0),groupName:function(){return N.groupName;},IW:function(){return N.IW;},rea:function(){return N.rea;},rPb:E(K,H("verbosePlaybackInfoDenominator"),0),Lta:E(I,"renderTimedText",!0),IFc:E(I,"preBufferTimedText",!0),mjc:E(I,"fatalOnTimedTextLoadError",!0),cRc:E(X,"timedTextStyleDefaults",{characterSize:"MEDIUM"}),dRc:E(X,"timedTextStyleOverrides",{}),Eva:E(X,"timedTextFontFamilyMapping",V.Eva || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),o1:E(K,"timedTextSimpleFallbackThreshold",V.o1.oa(y.Iy)),Moa:E(Y,H("increasedMediumScaleLanguageList"),V.Moa),Noa:E(Y,H("increasedSmallScaleLanguageList"),V.Noa),Spa:E(Y,H("lessBoldLanguageList"),V.Spa),SLa:E(P,H("customDfxpUrl")),Ohc:E(I,H("enableSubtitleTrackerLogging"),!1),ULc:E(I,H("sendSubtitleQoeLogblobOnMidplay"),!1),hKa:E(S,"cdnIdWhiteList",[]),gKa:E(S,"cdnIdBlackList",[]),fOa:E(P,H("forceAudioTrack")),iOa:E(P,H("forceTimedTextTrack")),Cyc:E(K,H("maxRetriesTimedTextDownload"),0),bRc:E(K,H("timedTextRetryInterval"),8E3),rPc:E(P,"storageType","idb",/^(none|fs|idb|ls)$/),vAb:E(K,"lockExpiration",1E4),pxc:E(K,"lockRefresh",3E3),F8b:E(I,"captureUnhandledExceptions",!0),nsc:E(I,"ignoreUnhandledExceptionDuringPlayback",!0),gSc:E(I,"unhandledExceptionsArePlaybackErrors",!1),dOb:E(P,"unhandledExceptionSource",""),vGc:E(I,"preserveLastFrame",!1),zzc:E(K,"minBufferingTimeInMilliseconds",4E3),kHc:E(K,"progressBackwardsGraceTimeMilliseconds",4E3),lHc:E(K,"progressBackwardsMinPercent",10),I6b:E(P,H("bookmarkIgnoreBeginning"),"0",aa),J6b:E(P,H("bookmarkIgnoreEnd"),"5%",aa),K6b:E(P,H("bookmarkIgnoreEndForBranching"),"60000",aa),vqa:E(K,"maxParallelConnections",3),mYa:E(I,"reportThroughputInLogblobs",!0),CA:E(K,"minAudioMediaRequestDuration",4E3),VBb:E(K,"minAudioMediaRequestDurationBranching",0),cD:E(K,"minVideoMediaRequestDuration",4E3),gCb:E(K,"minVideoMediaRequestDurationVariableGOP",0),fCb:E(K,"minVideoMediaRequestDurationBranching",0),Lqa:E(K,"minAudioMediaRequestSizeBytes",0),Pqa:E(K,"minVideoMediaRequestSizeBytes",0),ggc:E(I,"droppedFrameRateFilterEnabled",!1),hgc:E(K,"droppedFrameRateFilterMaxObservation",60,10,1E3),jgc:E(function(ha,la,pa,ia,na,T){return Q(ha,la,"[",function(ea){ea=ea.split(";");for(var ka=ea.length;ka--;){ea[ka]=ea[ka].split("|");for(var ra=ea[ka].length;ra--;)ea[ka][ra]=(0,m.Il)(ea[ka][ra]);}return ea;},[function(ea){return (0,r.isArray)(ea) && 0 < ea.length;},function(ea){for(var ka=ea.length;ka-- && void 0 !== ea;){if(!(0,r.isArray)(ea[ka]))return !1;for(var ra=ea[ka].length;ra--;)if(!(0,r.MK)(ea[ka][ra],pa,ia))return !1;}return !0;},function(ea){if(void 0 !== na)for(var ka=ea.length;ka--;)if(na !== ea[ka].length)return !1;return !0;},function(ea){return void 0 === T || ea.length >= T;}]);},"droppedFrameRateFilterPolicy",[[4,15],[8,9],[12,2],[20,1]],void 0,void 0,2,0),igc:E(K,"droppedFrameRateFilterMinHeight",384),kgc:E(S,"droppedFramesPercentilesList",[]),ozc:E(I,"microsoftScreenSizeFilterEnabled",!1),lvc:E(I,"keyStatusFilterEnabled",!0),$Rc:E(I,"uiLabelFilterEnabled",!0),ZRc:E(O,"uiLabelFilter",{}),Iec:E(K,H("defaultVolume"),100,0,100),eUa:E(K,H("maxPlaybackRate"),2,0,16),Prb:E(I,"fastForwardAds",!1),Cfc:E(I,"disableVideoRightClickMenu",!1),Nqa:E(K,"minDecoderBufferMilliseconds",1E3,0,c.zE),rL:E(K,"optimalDecoderBufferMilliseconds",5E3,0,c.zE),QVa:E(K,"optimalDecoderBufferMillisecondsBranching",3E3,0,c.zE),Raa:E(K,"minimumTimeBeforeBranchDecision",3E3,0,c.zE),kCb:E(K,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,c.zE),OG:E(K,"maxDecoderBufferMilliseconds",V.OG.oa(z.ya),0,c.zE),ppb:E(K,"decoderTimeoutMilliseconds",1E4,1),YCb:E(K,"noRenderTimeoutMilliseconds",0),htb:E(K,"gapsTimeoutMilliseconds",500),Qzc:E(I,"monitorAudioGaps",!0),zEc:E(K,"pauseTimeoutLimitMilliseconds",18E5),tRa:E(K,"inactivityMonitorInterval",3E4,0),J2b:E(S,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),OX:E(I,"enableTrickPlay",!1),c4b:E(S,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),HRc:E(K,"trickPlayHighResolutionBitrateThreshold",1E3),IRc:E(K,"trickPlayHighResolutionThresholdMilliseconds",1E4),LRc:E(M,"trickplayBufferFactor",.5),GRc:E(K,"trickPlayDownloadRetryCount",1),pqa:E(P,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),wrb:E(Y,"experimentalFilter",["throughput-wssl"]),Wka:E(P,"ciPredictorSource","throughput-ci"),Rua:E(P,"simulationDurationStrategy","default"),hra:E(P,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),cUa:E(L,"maxIQRSamples",Infinity),uUa:E(L,"minIQRSamples",5),dPb:E(I,"useResourceTimingAPI",!1),lsc:E(I,"ignoreFirstByte",!0),fjc:E(S,"failedDownloadRetryWaitsASE",[200,500,1E3,2E3,4E3]),ila:E(K,"connectTimeoutMilliseconds",8E3,500),PUa:E(K,"noProgressTimeoutMilliseconds",8E3,500),bNb:E(K,"timedTextDownloadRetryCountBeforeCdnSwitch",3),O8c:E(K,"netflixRequestExpiryTimeout",0),BUc:E(I,"webkitDecodedFrameCountIncorrectlyReported",!1),tva:E(Y,H("supportedAudioTrackTypes"),[],void 0,1),Roa:E(K,"initialLogFlushTimeout",5E3),JFb:E(P,"playdataPersistKey",N.XF?"unsentplaydatatest":"unsentplaydata"),D$c:E(I,"sendPersistedPlaydata",!0),fFc:E(K,"playdataPersistIntervalMilliseconds",4E3),x9c:E(K,"playdataSendDelayMilliseconds",1E4),E$c:E(I,"sendPlaydataBackupOnInit",!0),vxc:E(Y,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),QBb:E(I,"midplayEnabled",!0),Kqa:E(K,"midplayIntervalMilliseconds",3E5),RBb:E(S,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),oqb:E(K,"downloadReportDenominator",0),Wfc:E(K,"downloadReportInterval",3E5),yAb:E(K,"logConfigApplyDenominator",0),Blb:E(X,H("bookmarkByMovieId"),{}),gOa:E(I,H("forceLimitedDurationLicense"),!1),tZ:E(K,H("licenseRenewalRequestDelay"),0),nFb:E(K,H("persistedReleaseDelay"),1E4),t7c:E(I,H("limitedDurationFlagOverride"),void 0),$Ib:E(K,"safariPlayPauseWorkaroundDelay",100),PUc:E(K,"workaroundValueForSeekIssue",1200),$Ja:E(I,H("callEndOfStream"),V.$Ja),lFb:E(I,"performRewindCheck",!1),GTa:E(K,"logUnexpectedRewindDelay",1E3),ojc:E(I,"fatalOnUnexpectedSeeking",!0),njc:E(I,"fatalOnUnexpectedSeeked",!0),ljc:E(I,"fatalOnManifestMistmatch",!0),Epb:E(K,H("delayPlayPause"),0),C1a:E(I,H("useEncryptedEvent"),!0),HMa:E(P,H("drmPersistKey"),"unsentDrmData"),hBc:E(I,H("nudgeSourceBuffer"),!1),tJb:E(L,H("seekDelta"),1),rD:E(I,H("preciseSeeking"),!1),KFc:E(I,H("preciseSeekingOnTwoCoreDevice"),!1),Dpb:E(X,H("delayErrorHandling")),Vi:E(P,"esn",""),Trb:E(P,"fesn",""),Jhc:E(I,H("enablePerformanceLogging"),!1),n4c:E(I,H("enableEmeVerboseLogging"),!1),appId:E(P,"appId","",ca),sessionId:E(P,"sessionId","",ca),jmb:E(P,"cdnProxyUrl"),Usb:E(K,"forceXhrErrorResponseCode",void 0),hv:{L8c:E(P,"mslApiPath","/msl/"),P9c:E(P,"proxyPath",""),uiVersion:E(P,"uiVersion"),uiPlatform:E(P,"uiPlatform"),J2c:function(){return "0";},$Wa:E(Y,"preferredLanguages",c.p5a,/^[a-zA-Z-]{2,5}$/,1),ukc:E(P,H("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),eQc:E(I,"supportPreviewContentPin",!0),fQc:E(I,"supportWatermarking",!0),XNc:E(I,"showAllSubDubTracks",!1),H4c:E(I,H("failOnGuidMismatch"),!1)},xta:{enabled:E(I,"qcEnabled",!1),ds:E(P,"qcPackageId","")},yy:E(I,"useRangeHeader",!1),f8:E(I,"enableMilestoneEventList",!0),a6b:E(X,"authenticationKeyNames",(0,m.xf)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),wQc:E(P,"systemKeyWrapFormat"),PNc:E(I,"shouldSendUserAuthData",!0),rZa:E(I,"sendUserAuthIfRequired",V.rZa),HNc:E(I,"shouldClearUserData",!1),G1:E(I,"usesMsl",!0),bAc:E(I,"mslDeleteStore",!1),dAc:E(I,"mslPersistStore",!0),rac:E(I,"correctNetworkForShortTitles",!0),nQc:E(I,"supportsUnequalizedDownloadables",!0),mpb:E(K,H("debugAseDenominator"),100),bka:E(K,"aseAudioBufferSizeBytes",V.bka.oa(y.Iy)),dka:E(K,"aseVideoBufferSizeBytes",V.dka.oa(y.Iy)),cka:E(K,"aseTextBufferSizeBytes",V.cka.oa(y.Iy)),Px:E(K,"minInitVideoBitrate",x.Va.Px),zA:E(K,"maxInitVideoBitrate",x.Va.zA),Ox:E(K,"minInitAudioBitrate",x.Va.Ox),Ot:E(K,"maxInitAudioBitrate",x.Va.Ot),yR:E(K,"minAllowedVideoBitrate",x.Va.yR),taa:E(K,"maxAllowedVideoBitrate",x.Va.taa),vp:E(Y,"switchableAudioProfiles",x.Va.vp),KH:E(U,"switchableAudioProfilesOverride",x.Va.KH),xR:E(K,"minAcceptableVideoBitrate",x.Va.xR),Qx:E(K,"minRequiredBuffer",x.Va.Qx),fp:E(K,"minPrebufSize",x.Va.fp),Kaa:E(K,"minCheckBufferingCompleteInterval",x.Va.Kaa),aca:E(M,"rebufferingFactor",x.Va.aca),Yr:E(K,"maxBufferingTime",x.Va.Yr),Bea:E(I,"useMaxPrebufSize",x.Va.Bea),aD:E(K,"maxPrebufSize",x.Va.aD),zaa:E(K,"maxRebufSize",x.Va.zaa),zK:E(U,"initialBitrateSelectionCurve",x.Va.zK),tT:E(K,"throughputPercentForAudio",x.Va.tT),C6:E(K,"bandwidthMargin",x.Va.C6),D6:E(I,"bandwidthMarginContinuous",x.Va.D6),E6:E(U,"bandwidthMarginCurve",x.Va.E6),g7:E(K,"conservBandwidthMargin",x.Va.g7),Mda:E(I,"switchConfigBasedOnInSessionTput",x.Va.Mda),i7:E(K,"conservBandwidthMarginTputThreshold",x.Va.i7),h7:E(U,"conservBandwidthMarginCurve",x.Va.h7),qR:E(K,"maxTotalBufferLevelPerSession",x.Va.qR),xP:E(I,"enableCombinedPlaygraphs",x.Va.xP),vC:E(I,"enableAdPlaygraphs",x.Va.vC),AP:E(I,"enableLiveAdPlaygraphs",x.Va.AP),zP:E(I,"enableLiveAdDynamicAutoskip",x.Va.zP),w0:E(I,"retainSbrOnFade",x.Va.w0),s8:E(Y,"excludedContentPlaygraphIds",x.Va.s8),GX:E(I,"enableDiscontiguousBuffering",x.Va.GX),H8:E(S,"forceImmediateTransitionTypeForTitles",x.Va.H8),G8:E(K,"forceImmediateTransitionExitZone",x.Va.G8),XH:E(I,"useBufferSizeLimiter",x.Va.XH),qda:E(I,"skipBitrateInUpswitch",x.Va.qda),Sea:E(K,"watermarkLevelForSkipStart",x.Va.Sea),S9:E(K,"highStreamRetentionWindow",x.Va.S9),gaa:E(K,"lowStreamTransitionWindow",x.Va.gaa),U9:E(K,"highStreamRetentionWindowUp",x.Va.U9),iaa:E(K,"lowStreamTransitionWindowUp",x.Va.iaa),T9:E(K,"highStreamRetentionWindowDown",x.Va.T9),haa:E(K,"lowStreamTransitionWindowDown",x.Va.haa),R9:E(M,"highStreamInfeasibleBitrateFactor",x.Va.R9),xA:E(K,"lowestBufForUpswitch",x.Va.xA),iR:E(K,"lockPeriodAfterDownswitch",x.Va.iR),kaa:E(K,"lowWatermarkLevel",x.Va.kaa),yA:E(K,"lowestWaterMarkLevel",x.Va.yA),maa:E(I,"lowestWaterMarkLevelBufferRelaxed",x.Va.maa),sR:E(M,"mediaRate",x.Va.sR),QG:E(K,"maxTrailingBufferLen",x.Va.QG),q6:E(K,"audioBufferTargetAvailableSize",x.Va.q6),Hea:E(K,"videoBufferTargetAvailableSize",x.Va.Hea),bY:E(M,"fastUpswitchFactor",x.Va.bY),u8:E(M,"fastDownswitchFactor",x.Va.u8),PG:E(K,"maxMediaBufferAllowed",x.Va.PG),pBb:E(K,"maxLiveMediaBufferAllowed",x.Va.pBb),Qua:E(I,"simulatePartialBlocks",x.Va.Qua),j7:E(I,"considerConnectTime",x.Va.j7),f7:E(M,"connectTimeMultiplier",x.Va.f7),uqa:E(K,"maxNetworkErrorsDuringBuffering",x.Va.uqa),uaa:E(K,"maxBufferingTimeAllowedWithNetworkError",x.Va.uaa),jH:E(I,"probeServerWhenError",x.Va.jH),lta:E(K,"probeRequestTimeoutMilliseconds",x.Va.lta),HO:E(I,"allowSwitchback",x.Va.HO),kta:E(K,"probeDetailDenominator",x.Va.kta),Maa:E(K,"minProbeIntervalMs",x.Va.Maa),IZ:E(K,"maxDelayToReportFailure",x.Va.IZ),caa:E(K,"locationStatisticsUpdateInterval",x.Va.caa),O9:E(K,"headerRequestSize",4096),SX:E(I,"estimateHeaderSize",!1),TZ:E(K,"minBufferLenForHeaderDownloading",1E4),gs:E(I,"pipelineEnabled",!1),w_a:E(K,"socketReceiveBufferSize",0),t6:E(K,"audioSocketReceiveBufferSize",32768),Mea:E(K,"videoSocketReceiveBufferSize",65536),Boa:E(K,"headersSocketReceiveBufferSize",32768),Hlb:E(K,"bufferLevelNotifyIntervalMs",2E3),Tu:E(K,"aseReportDenominator",0),qz:E(K,"aseReportIntervalMs",3E5),T_:E(K,"prebufferTimeLimit",24E4),Bsa:E(K,"penaltyFactorForLongConnectTime",2),gqa:E(K,"longConnectTimeThreshold",200),Jja:E(K,"additionalBufferingLongConnectTime",2E3),Kja:E(K,"additionalBufferingPerFailure",8E3),e0:E(K,"rebufferCheckDuration",6E4),CP:E(I,"enableOCSideChannel",!0),j4:E(O,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Ila:E(K,"defaultHeaderCacheSize",4),Hla:E(K,"defaultHeaderCacheDataPrefetchMs",8E3),fra:E(K,"networkFailureResetWaitMs",2E3),dra:E(K,"networkFailureAbandonMs",12E4),Aaa:E(K,"maxThrottledNetworkFailures",3),Uda:E(K,"throttledNetworkFailureThresholdMs",2E3),hqa:E(L,"lowThroughputThreshold",400),Gma:E(I,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),HS:E(I,"requireAudioStreamToEncompassVideo",!0),$Ma:E(I,"enableManagerDebugTraces",!1),X8c:E(I,"notifyManifestCacheEom",!1),zba:E(K,"periodicHistoryPersistMs",3E5),Lca:E(K,"saveBitrateMs",18E4),rwa:E(I,"waitForDrmToAppendMedia",!1),$ma:E(I,H("forceAppendHeadersAfterDrm"),!1),Qsb:E(I,H("forceAppendEncryptedStreamHeaderFirst"),!0),GCb:E(K,"netIntrStoreWindow",36E3),aCb:E(K,"minNetIntrDuration",8E3),Qrb:E(K,"fastHistoricBandwidthExpirationTime",10368E3),nlb:E(K,"bandwidthExpirationTime",5184E3),Mrb:E(K,"failureExpirationTime",86400),j6c:E(K,"historyTimeOfDayGranularity",4),vrb:E(I,"expandDownloadTime",!1),Hoa:E(I,"ignoreShortResponses",!1),WKb:E(I,"shortResponseDurationMs",10),VKb:E(I,"shortResponseBytes",1E4),Sqa:E(K,"minimumMeasurementTime",500),Rqa:E(K,"minimumMeasurementBytes",131072),nta:E(K,"probingMeasurementTime",2E3),mta:E(K,"probingMeasurementBytes",262144),Nwb:E(K,"historicBandwidthUpdateInterval",2E3),pua:E(P,"secondThroughputEstimator","none"),Oqb:E(Y,"enableFilters",("throughput-ewma throughput-sw throughput-sw-fast throughput-iqr throughput-tdigest avtp entropy").split(" ")),Yrb:E(O,"filterDefinitionOverrides",{}),upb:E(P,"defaultFilter","throughput-ewma"),rJb:E(P,"secondaryFilter","none"),cMa:E(O,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-sw-fast":{type:"slidingwindow",mw:500},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),$qa:E(I,"needMinimumNetworkConfidence",!0),yka:E(I,"biasTowardHistoricalThroughput",!0),Aja:E(I,"addHeaderDataToNetworkMonitor",!1),Yua:E(I,"startMonitorOnLoadStart",!1),Qta:E(I,"reportFailedRequestsToNetworkMonitor",!1),rqa:E(L,"maxFastPlayBufferInMs",Infinity),Xja:E(I,"appendFirstHeaderOnComplete",!0),Okb:E(P,"ase_stream_selector","optimized"),Y$:E(P,"liveStreamSelectorAlgorithm","livesimple"),I$:E(I,"jointStreamSelectorEnabled",!1),L6:E(P,"bufferingSelectorAlgorithm","default"),zla:E(I,"ase_dump_fragments",!1),Bla:E(K,"ase_location_history",0),i6c:E(P,"historicByLocationOrGlobal","timedPerLocation"),zFc:E(K,"pollingPeriod",150),hxc:E(K,"loadTimeMs",18E4),cyc:E(K,"marginTimeMs",1E4),QOa:E(I,"getDeviceIdFromBindDevice",!1),xIa:E(I,"addFailedLogBlobsToQueue",!0),aSc:{"content-sampling":{Yr:E(K,"contentSamplingMaxBufferingTime",3E3),aM:E(P,"contentSamplingSelectStartingVMAFMethod",x.Va.aM),XV:E(I,"contentSamplingActivateSelectStartingVMAF",!0),Mv:E(K,"contentSamplingMinStartingVideoVMAF",80),wR:E(K,"contentSamplingMinAcceptableVMAF",70),XG:E(K,"contentSamplingMinAllowedVmaf",60)},billboard:{Px:E(K,"billboardMinInitVideoBitrate",1050),zA:E(K,"billboardMaxInitVideoBitrate",null),fp:E(K,"billboardMinPrebufSize",null),aD:E(K,"billboardMaxPrebufSize",null),Yr:E(K,"billboardMaxBufferingTime",null),yA:E(K,"billboardLowestWaterMarkLevel",6E3),xA:E(K,"billboardLowestBufForUpswitch",25E3),mad:E(P,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Px:E(K,"preplayMinInitVideoBitrate",1050),zA:E(K,"preplayMaxInitVideoBitrate",null),fp:E(K,"preplayMinPrebufSize",null),aD:E(K,"preplayMaxPrebufSize",null),Yr:E(K,"preplayMaxBufferingTime",null),yA:E(K,"preplayLowestWaterMarkLevel",6E3),xA:E(K,"preplayLowestBufForUpswitch",25E3)},embedded:{Px:E(K,"embeddedMinInitVideoBitrate",1050),zA:E(K,"embeddedMaxInitVideoBitrate",null),fp:E(K,"embeddedMinPrebufSize",null),aD:E(K,"embeddedMaxPrebufSize",null),Yr:E(K,"embeddedMaxBufferingTime",null),yA:E(K,"embeddedLowestWaterMarkLevel",6E3),xA:E(K,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Px:E(K,"videoMerchBobHorizontalMinInitVideoBitrate",null),zA:E(K,"videoMerchBobHorizontalMaxInitVideoBitrate",null),fp:E(K,"videoMerchBobHorizontalMinPrebufSize",null),aD:E(K,"videoMerchBobHorizontalMaxPrebufSize",null),Yr:E(K,"videoMerchBobHorizontalMaxBufferingTime",null),yA:E(K,"videoMerchBobHorizontalLowestWaterMarkLevel",null),xA:E(K,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{Px:E(K,"miniModalHorizontalMinInitVideoBitrate",null),zA:E(K,"miniModalHorizontalMaxInitVideoBitrate",null),fp:E(K,"miniModalHorizontalMinPrebufSize",null),aD:E(K,"miniModalHorizontalMaxPrebufSize",null),Yr:E(K,"miniModalHorizontalMaxBufferingTime",500),yA:E(K,"miniModalHorizontalLowestWaterMarkLevel",null),xA:E(K,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},Rhc:E(I,"enableVerbosePlaydelayLogging",!1),Mhc:E(I,"enableSeamless",!1),WQa:E(K,"hindsightDenominator",0),VQa:E(K,"hindsightDebugDenominator",0),XQa:E(O,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),yaa:E(K,"maxNumSessionHistoryStored",30),Oaa:E(K,"minSessionHistoryDuration",3E5),GZ:E(K,"maxActiveRequestsPerSession",3),qqa:E(K,"maxActiveRequestsSABCell100",x.Va.qqa),Upa:E(I,"limitAudioDiscountByMaxAudioBitrate",!0),Ge:E(O,"browserInfo",{}),s7b:E(K,H("busyGracePeriod"),199),WLc:E(I,H("sendTransitionLogblob"),!0),wsc:E(I,H("includeSegmentInfoOnLogblobs"),!0),Uic:E(I,"exposeTestData",!1),Tic:E(I,H("exposeErrorData"),!1),mJ:E(I,H("applyProfileTimestampOffset"),!1),Sba:E(O,H("profileTimestampOffsets"),{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}),Fh:E(I,H("applyProfileStreamingOffset"),!1),Faa:E(I,H("mediaSourceSupportsNegativePts"),!1),A4b:E(I,H("allowSmallSeekDelta"),!1),rOc:E(K,H("smallSeekDeltaThresholdMilliseconds"),q.EEa),chc:E(I,"enableCDMAttestedDescriptors",!1),zca:E(I,"requireDownloadDataAtBuffering",x.Va.zca),Aca:E(I,"requireSetupConnectionDuringBuffering",x.Va.Aca),$Ob:E(I,"useMobileVMAF",!1),Mpb:E(P,"desiredVMAFTypeMobile","phone_plus_lts"),Npb:E(P,"desiredVMAFTypeNonMobile","plus_lts"),XV:E(I,"activateSelectStartingVMAF",x.Va.XV),Mv:E(K,"minStartingVideoVMAF",x.Va.Mv),wR:E(K,"minAcceptableVMAF",x.Va.wR),XG:E(K,"minAllowedVmaf",x.Va.XG),HZ:E(K,"maxAllowedOutstandingRequests",x.Va.HZ),Paa:E(K,"minStreamableConcurrencyWindow",x.Va.Paa),Bda:E(M,"streamableConcurrencyFactor",x.Va.Bda),RO:E(K,"bufferingConcurrencyWindow",x.Va.RO),NX:E(I,"enableResolutionVMAFStreamFilter",x.Va.NX),t0:E(O,"resolutionVMAFCappingRuleList",x.Va.t0),xba:E(L,"percentCapTitlesForResolutionVMAFStreamFilter",x.Va.xba),Bfc:E(I,"disableSkipping",!1),awa:E(I,"useHLSPlayer",V.awa),Aea:E(I,H("useExitZones"),x.Va.Aea),UJc:E(I,"requestSegmentVmaf",!1),WR:E(O,"perFragmentVMAFConfig",{enabled:!1}),lsa:E(K,"paddingDurationMs",1E3),msa:E(P,"paddingMediaType","padding"),RR:E(P,"paddingCodecSelector","flexible"),e0a:E(I,"supportsPtsChanged",!1),NFc:E(I,H("preferUnletterboxed"),!1),zLb:E(I,"standaloneMode",!1),Pqb:E(I,"enableKeySystemRestrictor",!1),Aic:E(K,"errorEventToRestrict",2),zic:E(S,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),yic:E(S,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),Mqb:E(I,"enableCachedErrors",!1),C7b:E(K,"cachedErrorCountLimit",20),E7b:E(K,"cachedErrorExpirationSeconds",604800),F7b:E(K,"cachedErrorsStorageTimeoutSeconds",2E3),txc:E(I,"logKeySystemHasHwdrmAvailable",!1),W$:E(L,"liveEdgeCushion",0),rTa:E(L,"liveEdgeCushionWithSpreadMs",0),sma:E(I,"enableLive5XXHandling",!1),Z$:E(I,"liveStreamSelectorUseLatency",!0),Npa:E(M,"latencyMultiplierForLive",4),Xpa:E(I,"liveLowQualityAvoidance",!0),X$:E(L,"liveLowQualityThreshold",750),wZ:E(M,"liveLowQualityMultiplier",6),Vpa:E(I,"liveBufferRatioStrategy","strict"),Ypa:E(L,"liveMaxUpswitchSteps",Infinity),nma:E(I,"enableConditionalServerTimeUpdate",!1),bra:E(L,"negligibleServerTimeDeltaDifference",1E3),bqa:E(I,"liveSwitchStreamsOnErrorInPipeline",!0),BP:E(I,"enableMissingSegmentsReplacement",!0),bT:E(I,"simulateLiveEdge",!1),twc:E(L,"liveEdgeThreshold",1E4),wkc:E(I,"forceDisableLiveUi",!1),jhc:E(I,"enableForceLiveEdgeAtEventStart",!0),khc:E(I,"enableForceLiveEdgeOnResumeInStartSlate",!0),whc:E(I,"enableLivePlaybackRateDriftCorrection",!1),Kwc:E(M,"livePlaybackRateMin",.98),Jwc:E(M,"livePlaybackRateMax",1.02),Iwc:E(L,"livePlaybackRateAdjustmentThresholdMs",20),Hwc:E(L,"livePlaybackRateAdjustmentIntervalMs",1E3),Gwc:E(M,"livePlaybackRateAdjustmentFactor",.1),tkc:E(L,"forceAstRelativeLiveBookmark",void 0),xkc:E(L,"forceEstRelativeLiveBookmark",void 0),$Oc:E(L,"startSlateMs",void 0),Qwc:E(L,"liveSlateMs",void 0),ZMa:E(I,"enableLiveManifestReuse",!0),uTa:E(I,"liveShouldAccountForPlayDelay",!1),$pa:E(I,"livePrefetchEnabled",!0),D7:E(L,"decryptOCSideChannelMinInterval",1E3),Gla:E(L,"decryptOCSideChannelMinIntervalAfterCompleted",1E3),IX:E(I,"enableLiveOCSideChannelRefresh",!0),yZ:E(L,"liveOCSideChannelRefreshInterval",3E4),Ehc:E(I,H("enableNonSeamlessTransitions"),!1),ZTc:E(Y,H("videoCodecsRequiringNonSeamlessTransitions"),[]),CLc:E(Y,H("segmentTypesRequiringNonSeamlessTransitions"),[]),yFc:E(Y,H("playreadySegmentTypesRequiringNonSeamlessTransitions"),[]),fR:E(O,"liveOriginOverride",void 0),aqa:E(L,"liveRequestSpreadMs",1E3),qTa:E(I,"liveConsiderSpreadInCushion",!1),uma:E(I,"enableTwoPartLiveFragmentEditing",!0),gR:E(I,"liveSlowBufferFilling",!1),Zwc:E(L,"lnaModeJitterMs",12E5),vyc:E(L,"maxLNADuration",36E6),vkc:E(I,"forceDisableLNA",!1),eAb:E(P,"liveAdsCapability","dynamic"),DP:E(I,"enableRequestAbandonment",!1),Gsa:E(L,"pipelineHealthThresholdCriticalMs",2E3),Hsa:E(L,"pipelineHealthThresholdLowMs",6E3),sca:E(L,"requestAbandonmentLockIntervalMs",1E4),lva:E(M,"streamModeAppendAttachThreshold",.75),Rqb:E(I,"enableLiveAdsUi",!0),Wpa:E(M,"liveEarlyRequestProbability",.05),V$:E(L,"liveEarlyRequestDefaultOffsetMs",-500),Fda:E(I,"supportLiveIdrMismatch",!1),h1:E(L,"synthesizeLiveIdrMismatch",0),g6:E(I,"alwaysRetainAds",!1),LX:E(I,"enableMediaEventsTrack",!0),Oda:E(P,"syntheticAdBreakUx",""),e8:E(I,"enableMediaEventHistory",x.Va.e8),yP:E(I,"enableLiveAdBreakReportingEvents",x.Va.yP),wP:E(I,"enableBlackBoxNotification",x.Va.wP),oTa:E(L,"liveAdEventJitterMs",6E4),flb:E(P,"auxiliaryManifestTokenOverride"),Uk:E(L,"minimumPresentationDelayMs",x.Va.Uk),dR:E(L,"liveEdgeSegmentSkipCount",x.Va.dR),Oba:E(I,"probeBeforeSwitchingBackToPrimary",x.Va.Oba),UZ:E(L,"minIntervalForSwitchingBackToPrimary",x.Va.UZ),vaa:E(L,"maxIntervalForSwitchingBackToPrimary",x.Va.vaa),yMb:E(I,"supportsAdLazyLoading",!1),zBb:E(L,"maxSupportedAdAuxiliaryManifests",void 0),Ypb:E(I,"disableDAISupportedForHWDRM",!1),Rzc:E(I,"monitorFrozenFrames",!1),JX:E(I,"enableLiveRequestPacing",x.Va.JX),CZ:E(K,"logarithmicRequestPacingCurveCenterPositionMs",x.Va.CZ),DZ:E(M,"logarithmicRequestPacingCurveSharpness",x.Va.DZ),cL:E(K,"maxLiveTargetBufferDurationMs",x.Va.cL),g8:E(I,"enableSvodRequestPacing",x.Va.g8),WZ:E(K,"minSvodTargetBufferDurationMs",x.Va.WZ),e1:E(M,"svodBufferGrowthRateSlope",x.Va.e1),SJ:E(I,"enableCprVideo",x.Va.SJ),c8:E(I,"enableCprVideoNonPipelined",x.Va.c8),HX:E(I,"enableInitialThroughputHistory",x.Va.HX),FX:E(I,"enableActiveRequestsInFilters",x.Va.FX),XNb:E(O,"uiContext")};fa=!0;b.WKa=function(ha){var la,pa,ia;la=f.Wa.get(A.$d).id;if(0 < b.config.yAb && 0 === la % b.config.yAb)try{pa=f.Wa.get(u.Dp);ia=f.Wa.get(v.yE).cv("config","info",{params:ha});pa.Pc(ia);}catch(na){f.log.error("Failed to log config$apply",na);}Ca._cad_global.config=b.config;(0,g.ta)(ha);ha && (da=(0,m.xf)({},ha,{naa:!0}),(0,m.xf)(da,R,{naa:!0}),G(ba,b.config),da.istestaccount && f.log.trace("Config applied for",Z(fa?da:ha)),fa=!1);};(0,b.WKa)(da);};b.XKa=function(D){D=d(D);return (0,m.xf)({},a(87141)(D),{$ra:!0});};b.L$b=function(D,F,G){F=!!G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("av1"));D={CA:D?b.config.VBb:b.config.CA,cD:D?b.config.fCb:F?b.config.gCb:b.config.cD};return (0,m.xf)({},a(87141)(D),{$ra:!0});};b.b3c=d;b.a3c=n;c=a(33096);h=a(52569);f=a(31276);e=a(34231);g=a(45146);k=a(56800);l=a(75568);m=a(3887);a(87386);p=a(22365);r=a(32687);q=a(93294);u=a(45118);v=a(31850);w=a(5614);x=a(45247);y=a(72574);z=a(5021);B=a(91581);A=a(81918);C=a(88195);},70:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});d=a(52569);n=a(33096);c=a(36129);h=a(22365);t=a(31276);a=a(11479);f=t.Wa.get(a.Oj);f.register(c.ca.w8a,function(e){h.Cn && h.Cn.generateKey && h.Cn.importKey && h.Cn.unwrapKey?(f.Sg("wcs"),(0,d.A_)(h.Cn.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){f.Sg("wcdone");e(n.Bh);},function(g){var k;g="" + g;if(0 <= g.indexOf("missing crypto.subtle"))k=c.Y.VFa;else 0 <= g.indexOf("timeout waiting for iframe to load") && (k=c.Y.WZb);e({Sa:k,jf:g});})):e({Sa:c.Y.VFa});});},1481:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.Jo=void 0;d=a(33096);n=a(29204);t=a(36129);c=a(45146);h=a(31276);f=a(68703);e=a(22365);g=a(11479);k=a(91581);l=h.Wa.get(g.Oj);l.register(t.ca.dAa,function(m){var p,r,q;p=h.Wa.get(k.Ps);(0,c.ta)(n.config);(0,c.ta)(e.uI && e.uI.getDeviceId || e.lab || p.pY);r=h.Wa.get(f.L5a);q=(0,h.Fm)("Device");l.Sg("devs");r.create({deviceId:n.config.deviceId,pY:p.pY,Qpb:"deviceid",Vi:n.config.Vi,ut:p.ut,Q7:p.Q7,userAgent:e.VU,BTa:n.config.BTa,QOa:n.config.QOa,N8c:n.config.XF?"mslstoretest":"mslstore",G1:n.config.G1}).then(function(u){b.Jo=u;Ca._cad_global.device=b.Jo;q.info("Esn source: " + b.Jo.Cma);l.Sg("devdone");m(d.Bh);}).catch(function(u){u.success=void 0;m(u);});});},15531:function(t,b,a){var m,p,r,q,u,v,w,x;function d(y,z,B,A,C){var D;D={};"right" == y.horizontalAlignment?D.right=100 * (B - z.left - z.width - C) / B + "%":D.left=100 * (z.left - C) / B + "%";"bottom" == y.verticalAlignment?D.bottom=100 * (A - z.top - z.height - C) / A + "%":D.top=100 * (z.top - C) / A + "%";return D;}function n(y,z){var B;if(y && z){40 === z.x && 19 === z.y?B=4 / 3 / (40 / 19):52 === z.x && 19 === z.y && (B=16 / 9 / (52 / 19));if(B)return y.width / y.fontSize / B;}}function c(y,z,B,A,C,D,F){for(var G=y.style,E=(0,p.aRa)(y.text),H=y.lineBreaks;H--;)E="<br />" + E;return h(E,G,z,B,A,C,D,y.lang,F);}function h(y,z,B,A,C,D,F,G,E){var H;H=z.characterStyle;C=C[H];H=0 <= H.indexOf("MONOSPACE")?n(C,z.cellResolution) || C.lineHeight:C.lineHeight;A=z.characterSize * A.height / (H || 1);G && "ja" === G.slice(0,2) && z.ruby && "text" === z.ruby && (A/=2);A=0 < D?(0,r.RU)(A * D):(0,r.Ns)(A);D={"font-size":A + "px","line-height":"normal","font-weight":"normal"};z.characterItalic && (D["font-style"]="italic");z.characterUnderline && (D["text-decoration"]="underline");z.characterColor && (D.color=z.characterColor);z.backgroundColor && 0 !== z.backgroundOpacity && (D["background-color"]=f(z.backgroundColor,z.backgroundOpacity));if(G && "ja" === G.slice(0,2)){if(z.textEmphasis){A=z.textEmphasis;switch(A.textEmphasisShape){case "auto":D["text-emphasis"]="vertical-lr" === F || "vertical-rl" === F?"filled sesame":"filled circle";break;default:D["text-emphasis"]=A.textEmphasisFill + " " + A.textEmphasisShape;}E=g(A.textEmphasisPosition,E);switch(F){case "vertical-rl":D["text-emphasis-position"]=w[E];break;case "vertical-lr":D["text-emphasis-position"]=x[E];break;default:D["text-emphasis-position"]=v[E];}}z.textCombine && (D["text-combine-upright"]=z.textCombine);}F=z.characterEdgeColor || "#000000";switch(z.characterEdgeAttributes){case "DROP_SHADOW":D["text-shadow"]=F + " 0px 0px 7px";break;case "UNIFORM":D["text-shadow"]="-1px 0px " + F + ",0px 1px " + F + ",1px 0px " + F + ",0px -1px " + F;break;case "RAISED":D["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":D["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}F=(0,m.p7)(D);(B=B[z.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (F+=";" + B);B=z.characterOpacity;0 < B && 1 > B && (y='<span style="opacity:' + B + '">' + y + "</span>");G && "ja" === G.slice(0,2)?(y='<span lang="ja" style="' + F + '">' + y + "</span>",z.ruby && "text" === z.ruby && (y="<rt>" + y + "</rt>")):y='<span style="' + F + '">' + y + "</span>";return y;}function f(y,z){y=y.substring(1);y=parseInt(y,16);return "rgba(" + (y >> 16 & 255) + "," + (y >> 8 & 255) + "," + (y & 255) + "," + (void 0 !== z?z:1) + ")";}function e(y,z,B,A){var C;C="";y && "text" === y && (C='<ruby style="ruby-position: ' + ("before" === z || "over" === z || "outside" === z && 0 === B?"over":"under") + "; " + A + '">');return C;}function g(y,z){return y === u[0] || "outside" === y && 0 === z?u[0]:u[1];}function k(y){return y.replace(/(<ruby[\s\S]*?)(<br\s*\/?>+)([\s\S]*?<\/ruby>)/g,"$2$1$3");}function l(y){return (y=y.match(/(font-size:\d+px)/))?y[0]:"";}Object.defineProperty(b,"__esModule",{value:!0});b.grb=function(y,z,B,A,C){var D,F,G,E,H,J,L;D="";F="";G=0;E="";H=!1;J="";L="";y.textNodes.forEach(function(K){var M,P,I,O;G+=K.lineBreaks;I=c(K,B,z,A,C,y.region.writingMode,G);if(K.lang && "ja" === K.lang.slice(0,2)){if(K.style && K.style.ruby && "" != K.style.ruby && (K.style.ruby === q.vr && (L=l(I)),K.style.ruby !== q.Gb && (J+=I),I="",K.style.ruby === q.text)){O=e(K.style.ruby,null !== (M=K.style.rubyPosition) && void 0 !== M?M:"outside",G,L);H="" !== O;J=O + J;}!E || "" === E || K.style.ruby && "" !== K.style.ruby && K.style.ruby !== q.Gb || (J=k(J + (H?"</ruby> ":"")),I=J + I,H=!1,J="");}D+=I;E=null !== (P=K.style.ruby) && void 0 !== P?P:"";"" === F && K.style && K.style.shear && (F="font-style: oblique " + -90 * parseFloat(K.style.shear) + "deg;");});"" !== J && (D+=J + (H?"</ruby> ":""));y.region && y.region.multiRowAlignment && (D='<span style="display:inline-block;' + F + "text-align:" + y.region.multiRowAlignment + '">' + D + "</span>");return D;};b.tic=function(y,z,B,A,C){var D,F,E,H,J;D="";F=C.width;C=C.height;for(var G=z.length;G--;){E=z[G];H=y[G];H=H && H.region;J="position:absolute;background:" + A + ";width:" + (0,r.Ns)(E.width + 2 * B) + "px;height:" + (0,r.Ns)(E.height + 2 * B) + "px;";E=d(H,E,F,C,B);(0,p.hi)(E,function(L,K){J+=L + ":" + K + ";";});D+='<div style="' + J + '"></div>';}return D;};b.sic=d;b.t4c=n;b.v4c=c;b.s4c=h;b.u4c=f;b.ric=function(y){var z;y=y.region;z={display:"block","white-space":"nowrap"};switch(y.horizontalAlignment){case "left":z["text-align"]="left";break;case "right":z["text-align"]="right";break;default:z["text-align"]="center";}"vertical-lr" === y.writingMode || "vertical-rl" === y.writingMode?z["writing-mode"]=y.writingMode:"horizontal-tb" === y.writingMode && y.direction && (z.direction=y.direction);return (0,m.p7)(z);};b.u2c=e;b.g3c=g;b.J8c=k;b.x5c=l;m=a(52569);p=a(3887);r=a(22365);q={Gb:"container",text:"text",vr:"base"};u=["before","after"];v={before:"over right",after:"under right"};w={before:"over right",after:"over left"};x={before:"over left",after:"over right"};},33579:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.eSc=function(n,c){function h(g,k,l){var q,v,w,x,y;if(g && 1 < g.length){for(var m=[],p=[],r=0;r < g.length;r++)(m[r]=0,p[r]=0);q=!1;for(r=0;r < g.length;r++)for(var u=r + 1;u < g.length;u++){v=g[r];w=g[u];if(0 > v.width || 0 > w.width || w.left > v.left + v.width || w.left + w.width < v.left || w.top > v.top + v.height?0:w.top + w.height >= v.top){x=(0,d.Ky)(v.left,w.left);y=(0,d.Ky)(v.top,w.top);x={width:(0,d.Ky)((0,d.BE)(v.left + v.width,w.left + w.width) - x,0),height:(0,d.Ky)((0,d.BE)(v.top + v.height,w.top + w.height) - y,0),x:x,y:y};}else x=void 0;if(x && 1 < x.width && 1 < x.height)if((y=x.width <= x.height,v=f(g[r]),w=f(g[u]),y && k || !y && !k))(x=(0,d.Ky)(x.width / 2,.25),v.x <= w.x?(p[r]-=x,p[u]+=x):(p[u]-=x,p[r]+=x));else if(y && !k || !y && k)(v=(0,d.Ky)(x.height / 2,.25),m[r]-=v,m[u]+=v);}for(r=0;r < g.length;r++){if(-.25 > p[r] && 0 <= g[r].left + p[r] || .25 < p[r] && g[r].left + g[r].width + p[r] <= l.width)(g[r].left+=p[r],q=!0);if(-.25 > m[r] && 0 <= g[r].top + m[r] || .25 < m[r] && g[r].top + g[r].height + m[r] <= l.height)(g[r].top+=m[r],q=!0);}return q;}}function f(g){return {x:g.left + g.width / 2,y:g.top + g.height / 2};}n=n.map(function(g){return {top:g.top,left:g.left,width:g.width,height:g.height};});(function(g,k){g.forEach(function(l){0 > l.left && l.left + l.width < k.width?l.left+=(0,d.BE)(-l.left,k.width - (l.left + l.width)):l.left + l.width > k.width && 0 < l.left && (l.left-=(0,d.BE)(l.left + l.width - k.width,l.left));0 > l.top && l.top + l.height < k.height?l.top+=(0,d.BE)(-l.top,k.height - (l.top + l.height)):l.top + l.height > k.height && 0 < l.top && (l.top-=(0,d.BE)(l.top + l.height - k.height,l.top));});})(n,c);for(var e=0;50 > e && h(n,!0,c);e++);for(e=0;50 > e && h(n,!1,c);e++);return n;};d=a(22365);},99732:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.KAb=void 0;d=a(29204);n=a(33096);c=a(24066);t=a(36129);h=a(22365);f=a(32687);e=a(31276);a=a(11479);e.Wa.get(a.Oj).register(t.ca.n8a,function(g){var m,p,r,q,u;function k(){return (0,h.RU)((0,c.bx)() / r);}function l(){var v;v=k();if(v != u){for(var w=(0,h.BE)(v - u,30);w--;)q.push(0);(w=(0,h.Ky)(q.length - 31,0)) && q.splice(0,w);u=v;}q[q.length - 1]++;}m=d.config.Fxc;p=-6 / (m - 2 - 2);r=n.Uq;q=[];u=k();(0,f.vSa)(m) && (setInterval(l,1E3 / m),b.KAb={Fna:function(){var x;for(var v=[],w=q.length - 1;w--;){x=q[w];v.unshift(0 >= x?9:1 >= x?8:x >= m - 1?0:(0,h.Ns)((x - 2) * p + 7));}return v;}});g(n.Bh);});},24674:function(t,b,a){var f,e,g,k,l,m;function d(p){var r;p=new g.Jfa(p);if(1481462272 != p.dw())throw Error("Invalid header");r={XMR:{Version:p.dw(),RightsID:p.DD(16)}};n(p,r.XMR,p.Ina());return r;}function n(p,r,q){var u,v,w,x,y;for(;p.position < q;){u=p.ej();v=p.dw();v-=8;switch(u){case 1:w="OuterContainer";break;case 2:w="GlobalPolicy";break;case 3:w="MinimumEnvironment";break;case 4:w="PlaybackPolicy";break;case 5:w="OutputProtection";break;case 6:w="UplinkKID";break;case 7:w="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:w="AnalogVideoOutputConfiguration";break;case 9:w="KeyMaterial";break;case 10:w="ContentKey";break;case 11:w="Signature";break;case 12:w="DeviceIdentification";break;case 13:w="Settings";break;case 18:w="ExpirationRestriction";break;case 42:w="ECCKey";break;case 48:w="ExpirationAfterFirstPlayRestriction";break;case 50:w="PlayReadyRevocationInformationVersion";break;case 51:w="EmbeddedLicenseSettings";break;case 52:w="SecurityLevel";break;case 54:w="PlayEnabler";break;case 57:w="PlayEnablerType";break;case 85:w="RealTimeExpirationRestriction";break;default:w="Other";}x={Type:c(u)};y=r[w];y?(0,m.isArray)(y)?y.push(x):(r[w]=[],r[w].push(y),r[w].push(x)):r[w]=x;switch(u){case 1:case 2:case 4:case 7:case 9:case 54:n(p,x,p.position + v);break;case 5:x.Reserved1=p.ej();x.MinimumUncompressedDigitalVideoOutputProtectionLevel=p.ej();x.MinimumAnalogVideoOutputProtectionLevel=p.ej();x.Reserved2=p.ej();x.MinimumUncompressedDigitalAudioOutputProtectionLevel=p.ej();break;case 10:x.Reserved=p.DD(16);x.SymmetricCipherType=p.ej();x.AsymmetricCipherType=p.ej();v=p.ej();x.EncryptedKeyLength=v;u=p.DD(v);x.EncryptedKeyData=10 >= v?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 11:x.SignatureType=p.DD(2);v=p.ej();u=p.DD(v);x.SignatureData=10 >= v?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 13:x.Reserved=p.ej();break;case 18:x.BeginDate=p.dw();x.EndDate=p.dw();break;case 42:x.CurveType=p.DD(2);v=p.ej();u=p.DD(v);x.Key=10 >= v?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 48:x.ExpireAfterFirstPlay=p.dw();break;case 50:x.Sequence=p.dw();break;case 51:x.LicenseProcessingIndicator=p.ej();break;case 52:x.MinimumSecurityLevel=p.ej();break;case 57:x.PlayEnablerType=h(p.DD(16));break;case 85:break;default:x.OtherData=p.DD(v);}}}function c(p){return "0x" + p.toString(16);}function h(p){return p.substring(6,8) + p.substring(4,6) + p.substring(2,4) + p.substring(0,2) + "-" + p.substring(10,12) + p.substring(8,10) + "-" + p.substring(14,16) + p.substring(12,14) + "-" + p.substring(16,20) + "-" + p.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.x3c=function(p,r,q){switch(r){case f.Sfa:p && (p=(0,e.qlb)(p),(0,l.YUc)(p,function(u){u.success && (u=u.object) && (u=(0,k.ymc)(u,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (u=(0,k.sEc)(u)) && (u=(0,e.wF)(u)) && (u=d(u)) && q(u);}));}};b.y3c=d;b.z3c=n;b.B3c=c;b.A3c=h;f=a(33096);e=a(31276);g=a(70834);k=a(62604);l=a(84281);m=a(32687);},59032:function(t,b){var d;function a(n,c){var h;h=this;this.EGa=[];d.forEach(function(f){(f=f(n,c)) && h.EGa.push(f);});}Object.defineProperty(b,"__esModule",{value:!0});b.U$a=void 0;b.Gga=function(n){d.push(n);};d=[];a.prototype.CH=function(n){var f;for(var c=[],h=this.EGa.length;h--;){f=this.EGa[h];f.CH(n) && c.push(f.Rma);}if(c.length)return c;};b.U$a=a;},3390:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});t=a(59032);d=a(31276);n=a(4203);c=a(95136);h=a(81918);(0,t.Gga)(function(f,e){var g,k;g=d.Wa.get(n.Fc);if(g().ggc){k=d.Wa.get(h.$d);return new c.Z5a(f,e,d.fh,k,g);}});},95136:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m,p,r,q){var u;u=this;this.j=l;this.Ma=m;this.va=p;this.Ua=r;this.Ira={};this.xX={};this.R0=[];this.Qxb=1E3;this.jva=n.f$a;this.HVa=function(){var v;v=u.j.Wb.value === f.Kb.hg && u.j.state.value === f.Bc.qf && u.j.R === u.Ma.R;u.l$?v || (clearInterval(u.l$),u.l$=void 0,u.Q$=void 0):v && (u.l$=Ca.setInterval(u.WQc,u.Qxb));};this.WQc=function(){var v,w,x,y;w=u.j.se.value;w=w && w.stream;w=null !== (v=w && w.height) && void 0 !== v?v:null;if(null !== w && 0 < w){v=u.Ua.wc().oa(g.ya);x=u.j.Rd.iQ();if(x){if(u.Q$ && v - u.Q$.time < 2 * u.Qxb && w === u.Q$.height){y=x - u.Q$.fgc;u.EIa(w,y);u.C3b(w,y);}u.Q$={time:v,fgc:x,height:w};u.j.Jsa && u.j.Jsa.tMc(u.Ira);}}};this.FOa=function(){var v;v={};u.xX && u.R0.forEach(function(w){var x,y,z;x=u.xX[w];if(x){y=0;z=0;(0,e.hi)(x,function(B,A){z+=(0,e.Il)(B);y+=A;});v[w]=z / y;}});return v;};this.r9=function(v){var w;w={};v.forEach(function(x){w[x]={};});u.xX && ((0,c.jxa)(v),u.R0.forEach(function(x){var y,z,B,A;y=u.xX[x];if(y){z=0;B=0;(0,e.hi)(y,function(E,H){z+=H;});A=Object.keys(y).map(Number);(0,c.jxa)(A);for(var C=A.length - 1,D=A[C],F=v.length - 1;0 <= F;F--){for(var G=v[F];D >= G && 0 <= C;)((D=y[D]) && (B+=D),D=A[--C]);w[G][x]=(0,h.Ns)(B / z * 100);}}}));return w;};this.tKc=function(v){!1 === v.oldValue && !0 === v.newValue && (u.j.FIb(),u.HIb.set(!1));};this.log=this.va.ub("DFF",l);this.RWa=q().jgc;this.Ayc=q().hgc;this.eCb=q().igc;this.Ma.KMa={FOa:this.FOa,r9:this.r9};this.HIb=new k.vc(!1,this.tKc);l.state.addListener(this.HVa);l.Wb.addListener(this.HVa);l.addEventListener(f.ja.$K,this.HVa);}Object.defineProperty(b,"__esModule",{value:!0});b.Z5a=void 0;n=a(33096);c=a(52569);h=a(22365);f=a(85001);e=a(3887);g=a(5021);k=a(81734);d.prototype.CH=function(l){return l.lower && l.height > this.eCb?l.height >= this.Opc():!1;};d.prototype.EIa=function(l,m){var p;p=this.Ira[l];p || (this.Ira[l]=p=[],l > this.eCb && (this.R0.push(l),(0,c.jxa)(this.R0)));0 < m && !(this.Laa && this.Laa < l) && (this.Laa=l);p.push(m);p.length > this.Ayc && p.shift();};d.prototype.C3b=function(l,m){var p;p=this.xX[l];p || (this.xX[l]=p={});l=p[m];p[m]=l?l + 1:1;};d.prototype.Opc=function(){var p,r;if(this.Laa){for(var l=this.R0.length,m=0;m < l;m++){p=this.R0[m];if(p >= this.Laa && p < this.jva){r=this.Ira[p];if(r && this.g9b(this.RWa,r) && this.jva != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Ma.Xu.set({reason:"droppedFrames",height:p}),this.HIb.set(!0),this.jva=p);}}this.Laa=void 0;}return this.jva;};d.prototype.g9b=function(l,m){var u,v;for(var p=l.length,r=m.length,q=0;q < p;q++){u=l[q];v=u[0];u=u[1];for(var w=0;w < r;w++)if(m[w] >= u && 0 >= --v)return !0;}return !1;};Ha.Object.defineProperties(d.prototype,{Rma:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.Z5a=d;},25357:function(t,b,a){var n,c;function d(h,f,e,g,k){var l;l=this;this.j=h;this.Ma=f;this.va=e;this.La=g;this.Gyb=k;this.B4b=function(m){!0 === m.oldValue && !1 === m.newValue && (l.log.error("RestartStreaming: UHD key is no longer usable"),l.j.FIb());};this.YRc=function(m){var p,r,q;l.log.trace("UhdKeyStatus: " + m.oldValue + " -> " + m.newValue);r=m.newValue;q=m.oldValue;"usable" !== r && (l.iMc(r,(null === (p=m.Am) || void 0 === p?void 0:p.height) || 0),"usable" === q && (m=l.La.Eg.ea(l.nvc),l.log.error("UHD KeyStatus unexpectedly changed: " + m.oa(c.ya))));};this.log=this.va.ub("KeyStatusStreamFilter",this.j);this.hkb=new n.vc(k,this.B4b);this.XRc=new n.vc("status-pending",this.YRc);}Object.defineProperty(b,"__esModule",{value:!0});b.h9a=void 0;n=a(81734);c=a(5021);d.prototype.CH=function(h){return h.gk && (this.QPc(),this.hkb.set(this.Gyb),h.lower && 1080 < h.height && !this.hkb.value)?!0:!1;};d.prototype.QCb=function(h){var f;f=this;Object.entries(h).forEach(function(e){var g,k,l;g=Fa(e);e=g.next().value;g=g.next().value;e=null !== (l=null === (k=f.mvc) || void 0 === k?void 0:k[e]) && void 0 !== l?l:0;1080 < e && (f.Gyb="usable" === g,f.XRc.set(g,{height:e}));});};d.prototype.QPc=function(){var h,f;h=this;f=this.Ma.zl;!this.Kuc && f && (this.Kuc=!0,this.mvc=null === f || void 0 === f?void 0:f.pA,this.QCb(f.keyStatuses.value),f.keyStatuses.addListener(function(e){return h.QCb(e.newValue);}),this.nvc=this.La.Eg);};d.prototype.iMc=function(h,f){this.log.error("Restricting resolution due to keyStatus",{keyHeight:f,keyStatus:h});this.Ma.Xu.set({reason:"keyStatus",height:f});};Ha.Object.defineProperties(d.prototype,{Rma:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.h9a=d;},2898:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});t=a(59032);d=a(29204);n=a(31276);c=a(25357);h=a(23563);(0,t.Gga)(function(f,e){var g;if(d.config.lvc){g=n.Wa.get(h.zB);return new c.h9a(f,e,n.fh,n.La,g.WNb);}});},45706:function(t,b,a){var n,c;function d(h,f){var e,g;e=(0,c.Mn)(h,"MSS");if(n.config.ozc)return {Rma:"mss",CH:function(k){var l,m;if(k.lower && 2160 <= k.height)a:{for(l=k;l.lower;){if(2160 > l.height && 1080 < l.height){l=!0;break a;}if(1080 >= l.height)break;l=l.lower;}l=!1;}else l=void 0;if(l){if(void 0 === g){try{m=Ca.MSMediaKeys;g=m && m.isTypeSupportedWithFeatures?"probably" === m.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(p){e.error("hasUltraHdDisplay exception");g=!0;}g || (e.warn("Restricting resolution due screen size",{MaxHeight:k.height}),f.Xu.set({reason:"microsoftScreenSize",height:k.height}));}return !g;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.nZc=d;t=a(59032);n=a(29204);c=a(31276);(0,t.Gga)(d);},76563:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});t=a(59032);d=a(29204);n=a(31276);(0,t.Gga)(function(c,h){var f,e,g,k;f={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(f,d.config.ZRc);e=f[h.$e];if(d.config.$Rc && e){g={};k=(0,n.Mn)(c,"MediaStreamFilter");return {Rma:"uiLabel",CH:function(l){if(l.lower && l.height > e)return (g[l.height] || (g[l.height]=!0,k.warn("Restricting resolution due to uiLabel",{MaxHeight:e,streamHeight:l.height}),h.Xu.set({reason:"uiLabel",height:l.height})),!0);}};}});},24427:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.hUb=function(c){function h(f){c.fireEvent(d.ja.qP,{response:f,R:c.ga.R});}return {download:function(f,e){f.j=c;f=n.He.download(f,e);f.yja(h);return f;}};};d=a(85001);n=a(61726);},61726:function(t,b,a){var e,g,k,l,m,p,r,q,u,v,w,x,y,z;function d(){this.ig=(0,p.Fm)("Http");this.em=new e.Vl();this.XN=0;this.stats={ssl:0,"non-ssl":0,invalid:0};this.uha={Ba:1,ZZb:2,Q3a:3};this.addEventListener=this.em.addListener;this.removeEventListener=this.em.removeListener;}function n(B){var A,C,D,F;A=B.url.split("?");C="sc=" + B.oLc;D=B.z7b?"random=" + (1E17 * (0,u.Fga)()).toFixed(0):"";F=A[0];F=A[1]?F + ("?" + A[1] + "&" + C):F + ("?" + C);F+=D?"&" + D:"";B.Oc && !(0,k.Hyb)(F) && (B=g.config && g.config.jmb) && (F=B.replace("{URL}",F).replace("{EURL}",encodeURIComponent(F)));return F;}function c(B,A){var C,D,F;C=B.url.split("?");D=h(B);F=C[0];D && (A.BD=D,(void 0 === B.yy?g.config.yy:B.yy) || B.my !== x.k4?(B.headers=B.headers || ({}),B.headers.Range="bytes=" + D):(A.BD=D,F="/" === F[F.length - 1]?F + "range/":F + "/range/",F+=D));D=B.z7b?"random=" + (1E17 * (0,u.Fga)()).toFixed(0):"";g.config.CP && B.PD && (D="sc=" + B.PD + (D?"&" + D:""));F=C[1]?F + ("?" + C[1] + (D?"&" + D:"")):F + (D?"?" + D:"");B.Oc && !(0,k.Hyb)(F) && (B=g.config && g.config.jmb) && (F=B.replace("{URL}",F).replace("{EURL}",encodeURIComponent(F)));A.url=F;}function h(B){var A;A=B.offset;if(void 0 !== A)return ((0,r.z7)(A),void 0 !== B.length?(B=A + B.length - 1,(0,r.z7)(B),A + "-" + B):A + "-");}function f(B,A,C,D){var F,G;F=D.ZFb;G=D.headers;B.open(F?"POST":"GET",A,C);switch(D.responseType){case b.X9:B.responseType="arraybuffer";break;case b.cRa:(0,q.q8b)(B,"overrideMimeType",void 0,"text/xml");}F && (A={"Content-Type":(0,w.ji)(F)?"text/plain":"application/x-octet-stream"},G=G?(0,q.xf)(A,G):A);G && (0,q.hi)(G,function(E,H){B.setRequestHeader(E,H);});D.withCredentials && (B.withCredentials=!0);F?B.send(F):B.send();}Object.defineProperty(b,"__esModule",{value:!0});b.X9=b.cRa=b.bRa=b.Wrc=b.dRa=b.Vrc=b.Rwb=b.Coa=b.He=void 0;b.r6c=c;b.q6c=h;e=a(94886);g=a(29204);t=a(33096);k=a(52569);l=a(24066);m=a(36129);p=a(31276);r=a(45146);q=a(3887);u=a(22365);v=a(32219);w=a(32687);x=a(32934);y=a(57504);d.prototype.$Nc=function(B){var A;A=new XMLHttpRequest();B=n(B);A.open("HEAD",B,!0);A.onreadystatechange=function(){2 === A.readyState && 200 <= A.status && 299 >= A.status && !1;};A.send();return function(){return A.abort();};};d.prototype.download=function(B,A){var L,K,M,P,I,O,Q,S,U,W,Y,X,Z,aa;function C(){var ca;if(!Q){Q=!0;aa && (Ca.clearTimeout(aa),aa=null);L.em.removeListener(b.dRa,G);L.yHa(Y,X);X && (X.onloadstart=null,X.onreadystatechange=null,X.onprogress=null,X.onerror=null,X.onload=null,X=X.onabort=null);Y.success || (Y.Sa != m.Y.nN?M.warn("Download failed",O,(0,m.uE)(Y)):M.trace("Download aborted",O));ca=S;S=null;null === ca || void 0 === ca?void 0:ca.reduceRight(function(da,ja){(0,v.Gh)(function(){return ja(Y);});},null);L.em.kd(b.Rwb,Y,!0);}}function D(){aa && (Ca.clearTimeout(aa),aa=null);aa=Ca.setTimeout(E,Z?I:P);}function F(ca,da,ja){var R,N;Y.success=!1;Y.Sa=ca;R=(0,l.bx)();N=Y.sq;N.Ml=N.Ml || R;N.fw=N.fw || R;da && 0 < da && (Y.Fr=da,Y.Fg=da.toString());ja && (Y.jf=ja);ca !== m.Y.x3 && ca !== m.Y.oN && ca !== m.Y.B3 || !X || (X.onabort=null,H());C();}function G(){z() || F(m.Y.x3);}function E(){F(Z?m.Y.oN:m.Y.B3);}function H(){try{null === X || void 0 === X?void 0:X.abort();}catch(ca){}}function J(){F(m.Y.nN);}L=this;(0,r.ta)(A);M=(null === (K=null === B || void 0 === B?void 0:B.j) || void 0 === K?0:K.log)?(0,p.Mn)(B.j,"Http"):this.ig;P=B.ila || g.config.ila;I=B.PUa || g.config.PUa;O={Num:this.XN++};Q=!1;S=[A];U={};this.r2b(B);Y=new y.c8a(B,H,E,U,function(ca){Q || ((0,r.ta)(S,"Callback should be added before download starts."),S && S.unshift(ca));});Z=!1;(0,v.Gh)(function(){var ca;if((0,w.GSa)(B.url))try{if((c(B,Y),W=Y.url,(0,r.A7)(W),O.Url=W,z())){!1;X=new XMLHttpRequest();X.onreadystatechange=function(){2 === (null === X || void 0 === X?void 0:X.readyState) && (Z=!0,U.Ml=(0,l.bx)(),X.onreadystatechange=null,D(),!1,L.yHa(Y,X),Y.KR({timestamp:U.Ml,connect:!0,mediaRequest:B,start:U.rH,rt:[U.Ml - U.rH],responseHeaders:Y.headers,httpCode:Y.fk}));};X.onprogress=function(da){Z=!0;U.Bn=da.loaded;D();L.yHa(Y,X);da={mediaRequest:B,bytes:da.loaded,timestamp:(0,l.bx)(),bytesLoaded:da.loaded,responseHeaders:Y.headers,httpCode:Y.fk};Y.KR(da);};X.onload=function(da){if(!Q && X){(0,r.ta)(void 0 === U.fw);U.fw=(0,l.bx)();U.Ml=U.Ml || U.fw;U.Bn=da.loaded;if(200 <= X.status && 299 >= X.status){a:switch((da=X,Y.type)){case b.X9:da=da.response || new ArrayBuffer(0);break a;case b.cRa:da=da.responseXML;break a;default:da=da.responseText;}Y.parsed=!1;Y.content=da;Y.success=!0;}else 420 === X.status?F(m.Y.z3,X.status):F(m.Y.y3,X.status,X.response);C();}};X.onabort=J;X.onerror=function(){var da,ja;if(X){da=X.status;"undefined" !== typeof g.config.Usb && (da=g.config.Usb);if(0 < da){if(420 === da)F(m.Y.z3,da);else {try{ja=X.responseText;}catch(R){}F(m.Y.y3,da,ja);}}else F(m.Y.C3);}};ca=(0,l.bx)();f(X,W,!0,B);L.em.kd(b.Coa,Y,!0);U.rH=ca;Y.q_({mediaRequest:B,timestamp:ca});D();L.em.addListener(b.dRa,G);}else (0,v.Gh)(F.bind(void 0,m.Y.x3));}catch(da){M.error("Exception starting download",da,O);F(m.Y.Vza,void 0,(0,q.Wi)(da));}else F(m.Y.H7a);});return Y;};d.prototype.PGc=function(B){var A,C;A=new XMLHttpRequest();C=B.MGc;A.open("HEAD",B.url,!0);A.timeout=g.config.lta;A.onreadystatechange=function(){2 === A.readyState && (!1,C && C.k_(A.status));};A.ontimeout=A.onerror=function(){!1;C && C.aVa(A.status);};A.send();};d.prototype.r2b=function(B){var A;try{A=B.url;(0,w.GSa)(A)?0 === A.indexOf("https")?this.stats.ssl++:0 === A.indexOf("http")?this.stats["non-ssl"]++:this.stats.invalid++:this.stats.invalid++;}catch(C){}};d.prototype.yHa=function(B,A){var C;if((void 0 === B.fk || void 0 === B.headers) && A){B.fk=A.status;C={};A.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(D){var F;F=Fa(D.split(": "));D=F.next().value;F=sb(F).join(": ");D && (C[D.toLowerCase()]=F);});B.headers=C;}};z=t.qdb;b.He=new d();b.Coa=1;b.Rwb=2;b.Vrc=3;b.dRa=4;b.Wrc=5;b.bRa=b.He.uha.Ba;b.cRa=b.He.uha.ZZb;b.X9=b.He.uha.Q3a;Ca._cad_global.http=b.He;},57504:function(t,b,a){var n;function d(c,h,f,e,g){this.yja=this.KR=this.q_=n.wI;this.request=c;this.type=c.responseType;this.sq=e;this.abort=h;this.timeout=f;this.yja=g;}Object.defineProperty(b,"__esModule",{value:!0});b.c8a=void 0;n=a(33096);d.prototype.LMc=function(c){this.q_=c;};d.prototype.YMc=function(c){this.KR=c;};b.c8a=d;},31276:function(t,b,a){var d,n,c,h,f,e,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.Wa=b.vcb=b.P8=b.Mn=b.Fm=b.log=b.fh=b.qlb=b.wF=b.eC=b.Ed=b.s6b=b.wJa=b.q6b=b.r6b=b.tl=b.H1=b.Cea=b.jj=b.ud=b.La=void 0;b.wY=function(){return d.cd.get(n.rU);};d=a(83989);t=a(87386);n=a(56800);c=a(84408);h=a(6405);f=a(2248);e=a(32687);g=a(79274);k=a(30869);a=a(53085);b.La=d.cd.get(k.vi);b.ud=d.cd.get(a.kl);b.jj=d.cd.get(c.PE);b.Cea=b.jj.encode.bind(b.jj);b.H1=b.jj.decode.bind(b.jj);b.tl=d.cd.get(h.WM);b.r6b=b.tl.encode.bind(b.tl);b.q6b=b.tl.decode.bind(b.tl);b.wJa=b.tl.fna.bind(b.tl);b.s6b=b.tl.kNb.bind(b.tl);b.Ed=d.cd.get(f.Sl);b.eC=function(l){l=(0,e.ji)(l)?(0,b.H1)(l):l;return b.Ed.encode(l);};b.wF=b.Ed.decode.bind(b.Ed);b.qlb=function(l){return (0,b.Cea)((0,b.wF)(l));};b.fh=d.cd.get(t.yb);b.log=b.fh.ub("General");b.Fm=function(l,m){return b.fh.ub(l,void 0,m);};b.Mn=function(l,m,p){return b.fh.ub(m,l,p);};b.P8=function(l,m,p,r){return b.fh.ub(l,void 0,r,m,p);};b.vcb=function(l,m,p){return d.cd.get(g.q4)(l,m,p).eea();};b.Wa=d.cd;},93114:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v;Object.defineProperty(b,"__esModule",{value:!0});d=a(82956);n=a(33096);c=a(29204);h=a(13044);f=a(24066);t=a(36129);e=a(31276);g=a(77134);k=a(22365);l=a(32219);m=a(32687);p=a(45118);r=a(31850);a=a(11479);v=e.Wa.get(a.Oj);v.register(t.ca.m8a,function(w){var y;function x(){var z,B,A;z=v.startTime;B={browserua:k.VU,browserhref:k.Nga.href,initstart:z,initdelay:v.endTime - z};(z=k.yi.documentMode) && (B.browserdm="" + z);(0,m.nZ)(c.config.Trb) && (B.fesn=c.config.Trb);Object.assign(B,(0,d.yvb)());A=k.GB && k.GB.timing;A && c.config.vxc.map(function(C){var D;D=A[C];D && (B["pt_" + C]=D - (0,f.a$b)());});z=y.Vnc();Object.entries(z).forEach(function(C){var D;D=Fa(C);C=D.next().value;D=D.next().value;return B["m_" + C]=D;});z=u.cv("startup","info",B,h.Qy.aOa);q.Pc(z);}u=e.Wa.get(r.yE);q=e.Wa.get(p.Dp);y=e.Wa.get(g.rV);v.$$(function(){q.Sb();(0,l.Gh)(x);});w(n.Bh);});},86258:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.aYb=function(g){var m,p,r,q;function k(){p || (g.Sg("pdsb"),p=c.Wa.get(h.p4)().then(function(u){q=u;g.Sg("pdsc");return u;}).catch(function(u){m.error("Unable to initialize the playdata services",u);g.Sg("pdse");throw u;}));return p;}function l(){r=!0;q && q.close();n.re.removeListener(n.Gm,l);}m=(0,c.Mn)(g,"PlayDataManager");r=!1;g.Sg("pdctor");g.addEventListener(f.ja.$g,function(){n.re.removeListener(n.Gm,l);});g.addEventListener(f.ja.$g,function(){var u;if(!r){g.tUc();u=[(function(){return k().then(function(v){return v.Ada(g.ga);}).then(function(){m.info("Sent the playdata");}).catch(function(v){m.error("Unable to send the playdata",v);});})(),(function(){return new Promise(function(v){c.Wa.get(e.Dp).flush(!1).catch(function(){m.error("Unable to send logblob");v(void 0);}).then(function(){v(void 0);});});})()];Promise.all(u).then(function(){g.wra();}).catch(function(){g.wra();});}});n.re.addListener(n.Gm,l);return {};};d=a(33096);n=a(37509);c=a(31276);t=a(36129);h=a(96687);f=a(85001);e=a(45118);a=a(11479);c.Wa.get(a.Oj).register(t.ca.nI,function(g){g(d.Bh);});},8129:function(t,b,a){var n,c,h,f,e;function d(g){this.gr=g;}Object.defineProperty(b,"__esModule",{value:!0});b.$7a=void 0;n=a(48795);c=a(45146);h=a(31276);f=a(32687);e=a(3887);d.prototype.y9=function(g,k){var l,m,p;l=this.gr;m=l.BR.He || m;g=(0,f.H$)(g.body)?(0,h.Cea)(g.body):g.body;(0,c.A7)(g,"Msl should not be sending empty request");l={url:l.url,ZFb:g,withCredentials:!0,NJ:"nq-" + l.method,headers:l.headers};g=this.gr.timeout;l.ila=g;l.PUa=g;p=m.download(l,function(r){try{if(r.success)k.result({body:r.content,headers:r.headers});else throw (0,e.xf)(new n.default("HTTP error, SubCode: " + r.Sa + (r.Fr?", HttpCode: " + r.Fr:"")),{cadmiumResponse:r});}catch(q){k.error(q);}});return {abort:function(){p.abort();}};};b.$7a=d;},41292:function(t,b,a){var n,c,h,f,e,g,k,l,m;function d(p,r,q,u,v){this.log=p;this.aAc=r;this.BR=q;this.Zr=u;this.Y=v;this.aLb=[];}Object.defineProperty(b,"__esModule",{value:!0});n=a(51411);c=a(1966);h=a(36114);f=a(14348);e=a(42979);g=a(14945);k=a(70390);l=a(94971);m=a(5988);d.prototype.n3b=function(p){this.aLb.push(p);};d.prototype.send=function(p){var r;r=this;return new Promise(function(q,u){var v,w,x;v=p.timeout;w=new m.default.xWb(r.log,r.BR,p,r.Zr.lQ());x=new l.Xfb(p.url);r.log.trace("Sending MSL request");r.aAc.request(r.BR,w,x,v,{result:function(y){var z;r.log.trace("Received MSL response",{Method:p.method});if(y){p.allowTokenRefresh && r.Fsa();z=y.input.zY();z?(r.Cic(z,p.profileGuid || p.userId),u({error:z})):r.NHc(y,v,{result:function(B){q({headers:y.input.h9(),body:new f.Xha().pe(B)});},timeout:function(){u({subCode:this.Y.l$a});},error:function(B){u({headers:y.input.h9(),error:B});}});}else u({success:!1,error:new c.default(h.default.CB,"Null response stream"),description:"Null response stream"});},timeout:function(){u({success:!1,subCode:this.Y.m$a});},error:function(y){u({success:!1,error:y});}});});};d.prototype.Cic=function(p,r){p.errorCode === n.default.O.gg || p.errorCode === n.default.O.Uh?(this.Zr.Q9b(),this.Fsa()):p.errorCode !== n.default.O.Le && p.errorCode !== n.default.O.$c || this.kca(r);};d.prototype.vQa=function(){return this.Zr.vQa();};d.prototype.kca=function(p){if(p=this.Zr.qx(p))(this.Zr.kca(p),this.Fsa());};d.prototype.Ntc=function(p){return p && p.errorCode == n.default.O.$c;};d.prototype.Mtc=function(p){return p instanceof k.M2;};d.prototype.e9=function(p){return p && p.errorCode;};d.prototype.Ipc=function(p){var r,q;r=this.Zr.EC();p=this.Zr.qx(p);q=r?this.Zr.Rz(r):null;return {ac:r,cg:p,Fo:q};};d.prototype.NHc=function(p,r,q){var u;u=[];(function w(){p.input.read(-1,r,{result:function(x){(0,e.default)(q,function(){if(x)(u.push(x),w());else switch(u.length){case 0:return new Uint8Array(0);case 1:return u[0];default:return g.default.concat(u);}},null);},timeout:function(){q.timeout();},error:function(x){q.error(x);}});})();};d.prototype.Fsa=function(){var p;p=this;this.Zr.Npc({result:function(r){for(var q=p.aLb.slice(),u=0;u < q.length;u++)q[u]({sPc:r});},timeout:function(){p.log.error("Timeout getting store state","");},error:function(r){p.log.error("Error getting store state","" + r);}});};d.prototype.lK=function(p){var r;r=this.Zr.EC();(p=this.Zr.qx(p)) && !p.rh(r) && (p=null);return this.Zr.lK(r,p);};d.prototype.VHb=function(){var p;p=this.Zr.EC();this.Zr.lK(p,null).find(function(r){return "cad" === r.name;}) && (this.Zr.Kta("cad",p,null),this.Fsa());};b["default"]=d;},5988:function(t,b,a){var c,h,f,e,g,k;function d(l,m){this.ig=l;this.gr=m;}function n(l,m,p,r){this.ig=l;this.e1b=m;this.gr=p;this.KI=r;}Object.defineProperty(b,"__esModule",{value:!0});c=a(23710);h=a(48795);f=a(49123);e=a(14348);g=a(42979);k=a(61693);n.prototype.WPa=function(){return null;};n.prototype.lpa=function(){return !1;};n.prototype.una=function(){return {};};n.prototype.s$=function(){return !!this.gr.encrypted;};n.prototype.Ht=function(){return !!this.gr.nonReplayable;};n.prototype.D$=function(){return !0;};n.prototype.Wz=function(){return this.gr.profileGuid || this.gr.userId || null;};n.prototype.goa=function(l,m,p,r){var q;q=this.gr;(0,g.default)(r,function(){return l || !q.shouldSendUserAuthData?null:q.email?new c.cza(q.email,q.password):q.useNetflixUserAuthData || p && q.sendUserAuthIfRequired?new f.jCa():null;},null);};n.prototype.lQ=function(l){l.result(this.gr.allowTokenRefresh?[this.KI]:[]);};n.prototype.q1a=function(l,m,p){var r,q,u,v,w;r=this.ig;q=(this.gr.serviceTokens || []).slice();u=this.e1b;m=u.hm;v=l.hb.EC();w=m.qx(this.Wz());(function y(){var z;z=q.shift();if(z)try{z instanceof k.teb?(l.Jjb(z),y()):(0,k.tsa)(u,z,v,w,null,{result:function(B){try{l.Jjb(B);}catch(A){r.warn("Exception adding service token","" + A);}y();},error:function(B){r.warn("Error parsing service token","" + B);y();}});}catch(B){r.warn("Exception processing service token","" + B);y();}else p.result(!0);})();};n.prototype.write=function(l,m,p){var r;r=new e.Xha().pd(this.gr.body);l.write(r,0,r.length,m,{result:function(q){q != r.length?p.error(new h.default("Not all data was written to output.")):l.flush(m,{result:function(){p.result(!0);},timeout:function(){p.timeout();},error:function(u){p.error(u);}});},timeout:function(){p.timeout();},error:function(q){p.error(q);}});};n.prototype.xna=function(){this.ehb || (this.ehb=new d(this.ig,this.gr));return this.ehb;};d.prototype.XLc=function(l){this.ig.trace("Sent MSL header",this.zt(this.gr,l),("serviceTokens" in l) && l.dM.map(this.ayc).join("\n"));};d.prototype.gIc=function(l){var m,p;m=this.zt(this.gr,l);p=l.errorCode;p?this.ig.warn("Received MSL error header",m,{errorCode:p,errorMessage:null === l || void 0 === l?void 0:l.errorMessage,internalCode:null === l || void 0 === l?void 0:l.k$}):this.ig.trace("Received MSL header",m);};d.prototype.zt=function(l,m){var p,r;p=null === m || void 0 === m?void 0:m.ac;r=null === m || void 0 === m?void 0:m.cg;m=null === m || void 0 === m?void 0:m.dM;return {NccpMethod:l.method,UserId:l.userId,UT:r && r.Cf,MT:p && p.Cf + ":" + p.Kj,STCount:m && m.length};};d.prototype.ayc=function(l){return l.Sh();};b["default"]={xWb:n,PZc:d};},49614:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v;function d(w,x,y,z,B,A){var C,D,F;C=l.aCa.call(this) || this;D=new k.Z$a([q.fI.IAa],null,null);F=new f.Ndb();F.J3b(x,y);z[e.tE.gV]=new h.Mdb(null,F);x={};x[u.dia.Sya]=new n.A6a();x[v.Tga.fCa]=new c.tab();y=new r.D5a();F=new p.T4a();C.cja=F;C.VE=D;C.wg=y;C.aO=B;C.Z_b=z;C.t2b=x;C.H0b=A;C.hm=w;return C;}Object.defineProperty(b,"__esModule",{value:!0});n=a(25606);c=a(79925);h=a(18089);f=a(88774);e=a(36332);g=a(75948);k=a(68480);l=a(38470);m=a(31809);p=a(48603);r=a(30370);q=a(51411);u=a(91331);v=a(32256);Ia(d,l.aCa);d.prototype.getTime=function(){return Date.now();};d.prototype.rvb=function(){return new m.udb();};d.prototype.Bna=function(w){w.result(this.aO);};d.prototype.Qmc=function(w){return e.default.A9(w);};d.prototype.Cna=function(w){return this.Z_b[w];};d.prototype.sqc=function(w){return u.default.A9(w);};d.prototype.Wvb=function(w){return this.t2b[w];};d.prototype.pub=function(w){return g.default.A9(w);};d.prototype.mPa=function(w){return this.H0b.filter(function(x){return x.scheme == w;})[0];};b["default"]=d;},74810:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y;function d(z,B,A,C,D,F){var G;G=p.mV.call(this) || this;G.ig=z;G.mhb=B;G.KI=A;G.G_b=C;G.Kib=D;G.OV=F;return G;}Object.defineProperty(b,"__esModule",{value:!0});n=a(50441);c=a(1966);h=a(36114);f=a(44127);e=a(42979);g=a(96837);k=a(10558);l=a(43088);m=a(9E3);p=a(25137);r=a(58892);q=a(85065);u=a(61693);v=a(72672);w=a(60426);x={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Ia(d,p.mV);d.prototype.eda=function(z,B,A){var C;C=this;C.ig.trace("Adding MasterToken",{SequenceNumber:z.Kj,SerialNumber:z.Cf,Expiration:z.ck().getTime()});p.mV.prototype.eda.call(this,z,B);!A && (z=C.G_b) && (C.ig.trace("Generating new keyx request data"),z().then(function(D){D=Fa(D);C.KI=D.next().value;C.TGa=D.next().value;},function(D){C.ig.error("Unable to generate new keyx request data","" + D);}));};d.prototype.Ija=function(z,B){this.ig.trace("Adding UserIdToken",{UserId:z,SerialNumber:B.Cf,MTSerialNumber:B.Ej,Expiration:B.ck().getTime()});p.mV.prototype.Ija.call(this,z,B);};d.prototype.Eja=function(z){p.mV.prototype.Eja.call(this,z.filter(function(B){return !x[B.name];}));};d.prototype.vQa=function(){var z,B;z=[];for(B in this.zy)z.push(B);return z;};d.prototype.lQ=function(){return this.KI;};d.prototype.Npc=function(z){var B;B=this;(0,e.default)(z,function(){var A;A=B.EC();A?B.Enc(A,{result:function(C){(0,e.default)(z,function(){var D,F;D=B.zy;F=Object.keys(D).map(function(G){var E;E=D[G];return {userId:G,userIdTokenJSON:B.toJSON(D[G]),serviceTokenJSONList:B.lK(A,E).map(B.toJSON)};});C.esn=B.mhb;C.masterTokenJSON=B.toJSON(A);C.userList=F;B.TGa && Object.keys(B.TGa).forEach(function(G){C[G]=B.TGa[G];});return C;},null);},timeout:z.timeout,error:z.error}):z.result(null);},null);};d.prototype.Enc=function(z,B){var A;A=this;(0,e.default)(B,function(){var C;C=A.Rz(z);if(!(C instanceof v.jFa))throw new c.default(h.default.CB,"CryptoContext was not a SymmetricCryptoContext");C={encryptionKey:C.mv,hmacKey:C.EH};if(C.encryptionKey && C.hmacKey){if(A.OV)A.QUc(C,B);else return C;}else throw new c.default(h.default.CB,"Unable to get CryptoContext keys");},null);};d.prototype.toJSON=function(z){return {tokendata:(0,f.bi)(z.Jq),signature:(0,f.bi)(z.sk)};};d.prototype.Nvb=function(z,B){y?B.result(y):Promise.resolve().then(function(){return n.Jg.generateKey({name:z},!1,["wrapKey","unwrapKey"]);}).then(function(A){y=A;B.result(y);}).catch(function(){B.error(new c.default(h.default.CB,"Unable to get system key"));});};d.prototype.QUc=function(z,B){var A;A=this;this.Nvb(this.Kib,{result:function(C){(0,e.default)(B,function(){var D,F,G,E;D=z.encryptionKey;F=z.hmacKey;G=D.$netflix$msl$wrapsys;E=F.$netflix$msl$wrapsys;if(G && E)return {RUc:G,SUc:E};Promise.resolve().then(function(){return Promise.all([n.Jg.wrapKey(A.OV,D,C,C.algorithm),n.Jg.wrapKey(A.OV,F,C,C.algorithm)]);}).then(function(H){G=(0,f.bi)(H[0],!0);D.$netflix$msl$wrapsys=G;E=(0,f.bi)(H[1],!0);F.$netflix$msl$wrapsys=E;B.result({RUc:G,SUc:E});}).catch(function(H){B.error(new c.default(h.default.CB,"Error wrapping key with SYSTEM key",H));});},null);},timeout:B.timeout,error:B.error});};d.prototype.qSc=function(z,B){var A;A=this;this.Nvb(this.Kib,{result:function(C){(0,e.default)(B,function(){var D,F;D=(0,f.Yj)(z.wrappedEncryptionKey,!0);F=(0,f.Yj)(z.wrappedHmacKey,!0);Promise.resolve().then(function(){return Promise.all([n.Jg.unwrapKey(A.OV,D,C,C.algorithm,g.Me.OM,!1,k.RE.Vfa),n.Jg.unwrapKey(A.OV,F,C,C.algorithm,g.Me.DU,!1,k.RE.kV)]);}).then(function(G){var E;E=G[0];G=G[1];E.$netflix$msl$wrapsys=z.wrappedEncryptionKey;G.$netflix$msl$wrapsys=z.wrappedHmacKey;B.result({encryptionKey:E,hmacKey:G});}).catch(function(G){B.error(new c.default(h.default.CB,"Error wrapping key with SYSTEM key",G));});},null);},timeout:B.timeout,error:B.error});};d.prototype.gxc=function(z,B,A,C){var G,E;function D(H,J){var L;try{L=A.userList.slice();}catch(K){}L?(function M(){var P,I;P=L.shift();I={};if(P){for(var O in P.userIdTokenJSON)I[O]=(0,f.Yj)(P.userIdTokenJSON[O]);I=new m.Ni(I);(0,q.mWa)(B,I,H,{result:function(Q){try{G.Ija(P.userId,Q);F(H,Q,P.serviceTokenJSONList,{result:M,timeout:M,error:M});}catch(S){M();}},error:function(){M();}});}else J.result();})():J.result();}function F(H,J,L,K){var M,P;try{M=L.slice();}catch(I){}if(M){P=G.Rz(H);(function O(){var Q,S;Q=M.shift();S={};if(Q){for(var U in Q)S[U]=(0,f.Yj)(Q[U]);Q=new m.Ni(S);S=B.wg.hp(Q.get("tokendata")).pe("name");U={};U[S]=P;(0,u.tsa)(B,Q,H,J,U,{result:function(W){G.Eja([W]);O();},error:function(){O();}});}else K.result();})();}else K.result();}G=this;E=G.ig;A.esn != G.mhb?(E.error("Esn mismatch, starting fresh"),C.error()):(function(H){var K,M,P,I,O;function J(){!K && M && P && I && (K=!0,new w.MEa(P,{result:function(S){new w.MEa(I,{result:function(U){U=new l.B4(B,M,z.esn,S,U);G.eda(M,U,!0);H.result(M);},error:H.error});},error:H.error}));}function L(S,U){E.error(S,U && "" + U);K || (K=!0,H.error(new c.default(h.default.CB,S)));}O={};if(A.masterTokenJSON){for(var Q in A.masterTokenJSON)O[Q]=(0,f.Yj)(A.masterTokenJSON[Q]);O=new m.Ni(O);(0,r.qsa)(B,O,{result:function(S){M=S;J();},error:function(S){L("Error parsing MasterToken",S);}});G.OV?G.qSc(A,{result:function(S){P=S.encryptionKey;I=S.hmacKey;J();},timeout:function(){L("Timeout unwrapping keys");},error:function(S){L("Error unwrapping keys",S);}}):Promise.resolve().then(function(){return n.Jg.encrypt({name:g.Me.OM.name,iv:new Uint8Array(16)},A.encryptionKey,new Uint8Array(1));}).then(function(){P=A.encryptionKey;}).catch(function(){L("Error loading encryptionKey");}).then(function(){return n.Jg.sign(g.Me.DU,A.hmacKey,new Uint8Array(1));}).then(function(){I=A.hmacKey;J();}).catch(function(){L("Error loading hmacKey");});}else L("Persisted store is corrupt");})({result:function(H){D(H,C);},timeout:C.timeout,error:C.error});};b["default"]=d;},24354:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.hac=function(c){return (0,n.iac)(c,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},d.ru.sAa);};d=a(93562);n=a(43124);},43124:function(t,b,a){var d,n,c,h,f,e,g,k,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.iac=function(p,r,q){var w;function u(){return Promise.resolve().then(function(){return c.Jg.generateKey(r,!1,["wrapKey","unwrapKey"]);}).then(function(x){return v(x.publicKey,x.privateKey);});}function v(x,y){return Promise.all([new Promise(function(z,B){new f.nha(x,{result:z,error:function(A){B(new l.default(m.default.CB,"Unable to create keyx public key",A));}});}),new Promise(function(z,B){new e.fdb(y,{result:z,error:function(A){B(new l.default(m.default.CB,"Unable to create keyx private key",A));}});})]).then(function(z){return [new d.zha("rsaKeypairId",q,z[0],z[1]),w?{keyxPublicKey:x,keyxPrivateKey:y}:null];});}w=!p.systemKeyWrapFormat;return Promise.resolve().then(function(){var x,y;x=p.storeState;y=x && x.keyxPublicKey;x=x && x.keyxPrivateKey;return w && y && x?v(y,x):u();}).then(function(x){var y,z,B;x=x[0];y={};y[n.tE.NONE]=new g.Vfb(new h.qCa());z=new k.FFa(p.esn);B=[new d.D3a(new h.qCa())];return {qic:y,pic:z,kvc:B,SC:x,Hcc:w?u:void 0};});};d=a(93562);n=a(36332);c=a(50441);h=a(18461);f=a(42486);e=a(36911);g=a(28296);k=a(2479);l=a(1966);m=a(36114);},65799:function(t,b,a){var c,h,f,e,g,k,l,m,p,r,q,u,v,w;function d(){return k.Hga.apply(this,arguments) || this;}function n(){return g.kCa.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.gUb=void 0;b.Wcc=function(x,y){var z,B,A,C,D;z=x.log;B=x.notifyMilestone || (function(){});Promise.resolve().then(function(){var F;if(!(h.Cn && h.Cn.generateKey && h.Cn.importKey && h.Cn.unwrapKey))throw new q.default(r.default.CB,"No WebCrypto");F=h.Cn.generateKey({name:"AES-CBC",length:128},!0,p.RE.Vfa);(0,f.d_a)("function" === typeof F.then?f.Ub.dr:f.Ub.Ms);B("mslisik");return f.Jg.importKey("spki",x.serverIdentityKeyData,m.Me.t4,!1,["verify"]);}).then(function(F){return new Promise(function(G,E){new l.nha(F,{result:G,error:function(){E(new q.default(r.default.YUb,"Unable to create server identity verification key"));}});});}).then(function(F){A=F;B("mslcc");return (0,c.hac)(x);}).then(function(F){var G;C=new w.default(z,x.esn,F.SC,F.Hcc,x.authenticationKeyNames.s,x.systemKeyWrapFormat);D=new u.default(C,x.serverIdentityId,A,F.qic,F.pic,F.kvc);G=x.storeState;if(G)return (B("mslss"),z.info("Loading store state"),new Promise(function(E){C.gxc(x,D,G,{result:E,timeout:E,error:E});}));z.info("No store state, starting fresh");}).then(function(){var F;F=new e.fab(void 0,new n());B("msldone");y.result(new v.default(z,F,D,C,x.ErrorSubCodes));}).catch(function(F){y.error(F);});};c=a(24354);h=a(22365);f=a(50441);e=a(84898);g=a(61368);k=a(34801);l=a(42486);m=a(96837);p=a(10558);r=a(36114);q=a(1966);u=a(49614);v=a(41292);w=a(74810);Ia(n,g.kCa);n.prototype.vLa=function(x,y,z,B,A,C){new d(x,y,z,B,A,C);};Ia(d,k.Hga);d.prototype.h9=function(){return "function" === typeof this.Us.h9?this.Us.h9() || ({}):{};};b.gUb=d;},46493:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);n=a(62807);c=a(80824);h=a(50040);f=a(1481);e=a(29204);g=a(33096);k=a(36129);l=a(45146);m=a(31276);p=a(77134);r=a(63156);q=a(17892);u=a(3887);v=a(22365);w=a(52569);x=a(45842);y=a(5021);t=a(11479);z=a(50681);B=a(59219);A=a(32934);C=a(71501);D=a(65799);F=a(8129);G={};E=m.Wa.get(t.Oj);E.register(k.ca.o8a,function(H){var M,P,I,O,Q,S,U,W,Y,X,Z;function J(aa){var ca;aa && aa.userList && e.config.HNc && (aa.userList=[]);ca=new n.xgb();c.dCa.Pe(ca);aa={esn:f.Jo.Vi,esnPrefix:f.Jo.ut,authenticationKeyNames:e.config.a6b,systemKeyWrapFormat:e.config.wQc,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:X,storeState:aa,notifyMilestone:E.Sg.bind(E),log:I,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:k.Y.m$a,MSL_READ_TIMEOUT:k.Y.l$a}};(0,D.Wcc)(aa,{result:function(da){L(da);},timeout:function(){H({Sa:k.Y.k$a});},error:function(da){H(K(k.Y.k$a,void 0,da));}});}function L(aa){var da,ja,R;function ca(){Y && m.Wa.get(q.aI).create().then(function(N){return N.save(S,R,!1);}).catch(function(N){I.error("Error persisting msl store",(0,k.uE)(N));});}da=this;ja=m.Wa.get(x.EI)((0,y.ec)(100));Q && aa.n3b(function(N){R=N.sPc;ja.ag(ca);});(0,u.xf)(G,{y6c:function(){W=!0;},send:function(N){function V(){var ba,fa;ba=N.BR;fa={method:N.method,nonReplayable:N.aDb,encrypted:N.Kz,userId:N.jPb,body:N.body,timeout:2 * N.timeout,url:new F.$7a(N),allowTokenRefresh:Y,sendUserAuthIfRequired:Z,shouldSendUserAuthData:e.config.PNc};ba.email?(fa.email=ba.email,fa.password=ba.password || ""):W && (fa.useNetflixUserAuthData=!0);return fa;}return new Promise(function(ba,fa){var ha;ha=V();aa.send(ha).then(function(la){W && (W=!1);ba({body:la.body,headers:la.headers});}).catch(function(la){la.error?fa(K(la.error.cadmiumResponse && la.error.cadmiumResponse.Sa?la.error.cadmiumResponse.Sa:aa.Ntc(la.error)?k.Y.j$a:aa.Mtc(la.error)?k.Y.OVb:k.Y.NVb,aa.e9(la.error),la.error)):(I.error("Unknown MSL error",la),la.subCode=la.subCode,fa({Sa:la.subCode?la.subCode:k.Y.TVb}));});});},AR:aa});B.PN.oW.mslFetch=function(N,V){return d.__awaiter(da,void 0,void 0,function fa(){var ha,la,pa;return Sa(fa,function(ia){if(1 == ia.$r)return (ha=m.Wa.get(C.eV),ab(ia,G.send({BR:{He:m.Wa.get(A.DB),profile:ha},timeout:8E3,url:N.toString(),body:null === V || void 0 === V?void 0:V.body,headers:{"Content-Encoding":"msl_v1","Content-Type":"application/json"},jPb:ha,uJc:!1,aDb:!0,Kz:!0}),2));la=ia.$T;pa={get body() {this.bodyUsed=!0;return la.body;}};return ia.return((pa.bodyUsed=!1,pa.ok=!0,pa.status=200,pa.statusText="OK",pa.type="basic",pa.url=N.toString(),pa.headers=new Headers(la.headers),pa.text=function(){return Promise.resolve(this.body);},pa.json=function(){return Promise.resolve(JSON.parse(this.body));},pa.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},pa.clone=function(){return Object.assign({},this);},pa.blob=function(){return this.arrayBuffer().then(function(na){return new Blob([na]);});},pa.formData=function(){throw Error("Not implemented");},pa.redirected=!1,pa));});});};H(g.Bh);m.Wa.get(z.cCa).fAc(G);}function K(aa,ca,da){var ja,R,N,V;N={Sa:aa,Bma:ca};if(da){V=function(ba){var fa;ba=ba || "" + da;if(da.stack){fa="" + da.stack;ba=0 <= fa.indexOf(ba)?fa:ba + fa;}return ba;};if(R=da.cadmiumResponse){if(ja=R.Fg && R.Fg.toString())R.Fg=ja;R.Sa=aa;R.Bma=ca;R.jf=V(da.message);R.error={subCode:aa,extCode:ja,YG:ca,data:da.cause,message:da.message};return R;}V=V(da.errorMessage);ja=(0,u.Il)(da.k$) || (0,u.Il)(da.error && da.error.k$);R=void 0 !== da.p8?(0,w.CDb)(da.p8):void 0;}V && (N.jf=V);ja && (N.Fg=ja);N.error={subCode:aa,extCode:ja.toString(),YG:ca,data:R,message:V};return N;}(0,l.ta)(e.config);if(v.uI && v.Cn && v.Cn.unwrapKey){M=m.Wa.get(p.rV);P=r.qu.tn;I=(0,m.Fm)("Msl");O=e.config.bAc;Q=e.config.dAc;S=e.config.XF?"mslstoretest":"mslstore";U=h.kT.cKb;W=!0;Y=!U || U.success;X=(0,m.wF)(e.config.XF?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");Z=!!e.config.rZa;m.Wa.get(q.aI).create().then(function(aa){O?aa.remove(S).then(function(){J();}).catch(function(ca){I.error("Unable to delete MSL store",(0,k.uE)(ca));J();}):Q?aa.load(S).then(function(ca){M.mark(P.QVb);J(ca.value);}).catch(function(ca){ca.Sa == k.Y.KE?(M.mark(P.SVb),J()):(I.error("Error loading msl store",(0,k.uE)(ca)),M.mark(P.RVb),aa.remove(S).then(function(){J();}).catch(function(da){H(da);}));}):J();}).catch(function(aa){I.error("Error creating app storage while loading msl store",(0,k.uE)(aa));H(aa);});}else H({Sa:k.Y.PVb});});},78719:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.HTb=function(e,g){function k(m){var p,r;p=m.error || m;r=(0,c.Wi)(p);g.error("uncaught exception",p,r);(p=(p=p && p.stack) && d.config.dOb && d.config.gSc?0 <= p.indexOf(d.config.dOb):void 0) && (m && m.stopImmediatePropagation && m.stopImmediatePropagation(),e.og(h.ca.Mfb));}function l(){n.re.removeListener(n.joa,k);e.removeEventListener(f.ja.$g,l);e.removeEventListener(f.ja.NA,l);}try{n.re.addListener(n.joa,k);e.addEventListener(f.ja.$g,l);d.config.nsc && e.addEventListener(f.ja.NA,l);}catch(m){g.error("exception in exception handler ",m);}};d=a(29204);n=a(37509);c=a(3887);h=a(36129);f=a(85001);},42654:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.SUb=function(m){var r,q,u,v;function p(){m.state.value !== g.Bc.qf || m.Wb.value !== g.Kb.zi && m.Wb.value !== g.Kb.zw?q.Fq():q.WJ();}r=d.config.zEc;if(!m.lZ() && r){q=k.Wa.get(l.J4)(r,function(){m.fireEvent(g.ja.UY,c.ca.Zga);});m.Wb.addListener(p);m.state.addListener(p);if(d.config.tRa){u=(0,n.bx)();v=new h.vdb(d.config.tRa,function(){var w,x;w=(0,n.bx)();x=w - u;x > r && (m.fireEvent(g.ja.UY,c.ca.mga),v.cnb());x > 2 * d.config.tRa && (m.uRa=(0,f.Ky)(x,m.uRa || 0));u=w;});v.iNc();}m.addEventListener(g.ja.$g,function(){q.Fq();(0,e.ed)(v) && v.cnb();});}};d=a(29204);n=a(24066);c=a(36129);h=a(981);f=a(22365);e=a(32687);g=a(85001);k=a(31276);l=a(4246);},33059:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x;function d(y,z){this.j=y;this.al=z;this.oQc=!1;this.log=(0,h.Mn)(this.j,"MediaAppendManager");this.$b=this.j.$b;this.Ga=this.$b.Ga;this.Oea=this.v6=!1;this.audio={type:c.qn.audio,dx:[],ep:[],L_:!1};this.video={type:c.qn.video,dx:[],ep:[],L_:!1};y={};this.ET=(y[v.v.U]=this.video,y[v.v.X]=this.audio,y);this.closed=!1;this.OG=n.config.OG;this.Nqa=n.config.Nqa;this.rL=this.j.mb.Hg?n.config.QVa:n.config.rL;this.klb=!0;this.Ed=h.Wa.get("Base64EncoderSymbol");this.ZNa=!1;(0,e.ta)(this.OG > this.Nqa,"bad config");(0,e.ta)(this.OG > this.rL,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.A$a=void 0;n=a(29204);c=a(51344);h=a(31276);f=a(36129);e=a(45146);g=a(3887);k=a(33096);l=a(85001);m=a(93294);p=a(5021);r=a(63156);q=a(75568);u=a(69931);v=a(26388);w=a(79048);x=a(22210);d.prototype.sY=function(){var B,A;function y(C,D){return z(C,D.gL);}function z(C,D){var F,G,E,H;E=!!D.response;H=D.response;if(D.Xe)return C + (H.byteLength || 0);D=(null !== (F=null === D || void 0 === D?void 0:D.Ika) && void 0 !== F?F:0) - (null !== (G=null === D || void 0 === D?void 0:D.Jka) && void 0 !== G?G:0);return (E?H.byteLength:D) + C;}B=this.ET[v.v.U];A=this.ET[v.v.X];return {videoToAppend:B.ep.reduce(z,0),videoInBuffer:B.dx.reduce(y,0),audioToAppend:A.ep.reduce(z,0),audioInBuffer:A.dx.reduce(y,0)};};d.prototype.tY=function(){return {audioBufferedSegments:this.audio.dx.map(function(y){return [y.gL.IL,y.gL.yD];}),videoBufferedSegments:this.video.dx.map(function(y){return [y.gL.IL,y.gL.yD];})};};d.prototype.gBc=function(){this.audio.Jd && !this.audio.Jd.xj() && (!1,this.audio.Jd.ukb(new Uint8Array([0,0,0,8,102,114,101,101])));};d.prototype.$Mc=function(){this.audio.h_a=!0;this.video.h_a=!0;};d.prototype.dNc=function(y){y === v.v.X?this.v6=!0:y === v.v.U && (this.Oea=!0);};d.prototype.xj=function(){var y,z;return !(null === (y=this.audio.Jd) || void 0 === y || !y.xj()) || !(null === (z=this.video.Jd) || void 0 === z || !z.xj());};d.prototype.cda=function(y){var z,B;null === (z=this.audio.Jd) || void 0 === z?void 0:z.cda(y);null === (B=this.video.Jd) || void 0 === B?void 0:B.cda(y);};d.prototype.P4b=function(y){var z;y.mediaType === v.v.X?this.v6=!1:y.mediaType === v.v.U && (this.Oea=!1);z=this.ET[y.mediaType];z?z.ep.push(y):(0,e.ta)(!1);};d.prototype.O4b=function(y,z,B){z=this.Olb(y.mediaType,z,B);this.ZNa || y.mediaType !== v.v.U || (this.iGc(y,B.profile),this.ZNa=!0);this.vkb(z);};d.prototype.vkb=function(y){var z;z=this.ET[y.mediaType];z?z.ep.push(y):(0,e.ta)(!1);};d.prototype.Olb=function(y,z,B){return {mediaType:y,lA:!1,response:z,ii:function(){return "header";},get Xe() {return !this.lA;},profile:B.profile};};d.prototype.iGc=function(y,z){(0,e.ta)(!!y.GLb,"startOfSegment properties need to be set before first header is appended");this.ZNa || !n.config.Qsb || !this.j.ooa() && !this.j.yv() || y.GLb.cyb || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),y=this.Nmc(z),this.vkb(this.Olb(v.v.U,y.data,{profile:y.profile})));};d.prototype.Nmc=function(y){var z;z=y;x.je.il.test(y)?y=k.N3a:x.je.jl.test(y)?y=k.P3a:x.je.Oza.test(y)?y=k.O3a:(z=q.H.mN,y=k.M3a);return {data:this.Ed.decode(y),profile:z};};d.prototype.cNc=function(y){var z;z=this.ET[y.type];if(z)try{z.Jd=y;}catch(B){this.og(f.ca.HCa,{Sa:(0,m.WOa)(y.type),jf:(0,g.Wi)(B)});}};d.prototype.close=function(){this.Ga=this.$b=void 0;this.closed=!0;};d.prototype.og=function(y,z,B){this.closed || this.j.og(y,z,B);};d.prototype.ZLa=function(y){return this.hqb(this.audio,y,this.Dla()) && this.hqb(this.video,y,this.Dla());};d.prototype.Dla=function(){return this.j.Wb.value === l.Kb.Yg?this.rL:this.Nqa;};d.prototype.iRc=function(){var y,z;y=this.video.ep.filter(function(B){return !B.Xe;}).reduce(function(B,A){return B + A.Pg;},0);z=this.audio.ep.filter(function(B){return !B.Xe;}).reduce(function(B,A){return B + A.Pg;},0);return Math.min(y,z);};d.prototype.hqb=function(y,z,B){var A;A=y.$La;A=A && A.gL;return !y.Jd || 0 === y.ep.length && (y.type === c.qn.audio && this.v6 || y.type === c.qn.video && this.Oea)?!0:A && A.yD - z >= B || !1;};d.prototype.PNb=function(y){this.oQc || (this.ONb(this.audio,y),this.ONb(this.video,y));this.closed || this.Amb();};d.prototype.Amb=function(){var y,z,B,A,C,D;A=!this.audio.Jd || 0 !== this.audio.dx.length;C=0 === this.video.ep.length && this.Oea;D=!this.video.Jd || 0 !== this.video.dx.length;!(0 === this.audio.ep.length && this.v6 && D || C && A) || (null === (y=this.audio.Jd) || void 0 === y?0:y.xj()) || (null === (z=this.video.Jd) || void 0 === z?0:z.xj()) || this.gNa || !(this.Ga.readyState > r.qu.mI.HAVE_NOTHING) || this.al.B$ || (this.gNa=!0,null === (B=this.$b) || void 0 === B?void 0:B.endOfStream());};d.prototype.ONb=function(y,z){var B,A,C,D;if(!this.closed && y.Jd){A=y.Jd;C=y.dx;!A.xj() && 0 < C.length && (y.$La=C[C.length - 1]);if(y.h_a){if(A.xj())return;y.h_a=!1;D=null === (B=this.$b) || void 0 === B?void 0:B.APa().ZWa(p.ya);D && 0 < D && A.remove(0,D / k.Uq);}for(B=y.ep[0];B && B.response && (B.Xe || B.IL - z <= this.OG);)if((this.gNa=!1,this.VRc(B)))(y.ep.shift(),B=y.ep[0]);else break;!A.xj() && 0 < C.length && (y.$La=C[C.length - 1]);}};d.prototype.VRc=function(y){var z,B,A;!1;(0,e.ta)(y && !!y.response);z=y.response;B=y.mediaType;A=this.ET[B];if(!this.closed && A.Jd && !A.Jd.xj()){try{y.Xe && y.profile && A.Jd.Q8b(y.profile);this.log.trace("Feeding media segment to decoder",{Bytes:z.byteLength});A.Jd.ukb(z,y);y.Xe || A.dx.push(this.lcc(y));}catch(C){"QuotaExceededError" === C.name?(this.j.Fla=this.j.Fla?this.j.Fla + 1:1,this.klb=!1,A.L_=!0):(this.log.error("Exception while appending media",y,C),this.og("CodecSwitchingError" === C.name?f.ca.pbb:f.ca.LXb,(0,m.WOa)(B)));return;}return !0;}};d.prototype.ccc=function(y){var z;if(u.bFa[y.Qa])return u.bFa[y.Qa];z=this.j.owb(y.Uc);z || (this.log.warn("Could not find CDN",{cdnId:y.Uc}),z={id:y.Uc,hR:y.location});return z;};d.prototype.ELa=function(y){var z,B;z=y.Qa;if(u.cFa[z])return u.cFa[z];y.mediaType === v.v.X?B=this.j.kwb(z):y.mediaType === v.v.U && (B=this.j.Dwb(z));B || this.log.error("Could not find stream",{stream:z});return B;};d.prototype.lcc=function(y){var z,B,A,C;B=this.ELa(y);A={startTime:Math.floor(y.IL),endTime:Math.floor(y.yD),dac:Math.floor(y.vl),Nnb:Math.floor(y.vl + y.Pg)};C=null === B || void 0 === B?void 0:B.track.uq;"content" === C && (null === (z=this.j.bb) || void 0 === z?0:z.Di) && (z=this.j.bb.Di.ba[y.L],z.type === w.Dd.Nc || z.type === w.Dd.Ra) && (C="ads");return {gL:y,stream:B,NW:A,Oc:this.ccc(y),uq:C};};d.prototype.oKa=function(y){this.Hmb(y,v.v.X);this.Hmb(y,v.v.U);};d.prototype.Hmb=function(y,z){var B,A,C,D,F,G,E,H,J;B=this;C=y;this.klb && (C-=n.config.QG);D=this.ET[z];F=D.dx;H=!1;F.some(function(L,K){var M;M=L.gL;if(y < M.IL - 50)return ((0,e.ta)(!1,"decoder content does not contain media time"),!0);C >= M.yD && (G=K);if(y < M.yD)return (E=K,K=z === v.v.X?B.j.Re:B.j.se,L !== K.value && (K.set(L),H=!0),!0);});if((D.L_ || H) && void 0 !== G && !this.gNa){if(G + 1 === E){if(0 === G)return;G--;}J=G === F.length - 1?null === (A=this.$b) || void 0 === A?void 0:A.APa().ZWa(p.ya):F[G].gL.yD - 1;!1;J && 0 < J && ((A=D.Jd) && !A.xj()?(A.remove(0,J / k.Uq),D.L_=!1,F.splice(0,G + 1)):(D.L_=!0,!1));}};d.prototype.tIb=function(){!1;[this.audio,this.video].forEach(function(y){y.dx=[];y.$La=void 0;y.ep=[];});this.Oea=this.v6=!1;this.j.fireEvent(l.ja.Caa);};d.prototype.uQa=function(){return [this.audio,this.video].filter(function(y){return y.Jd;});};d.prototype.Vlc=function(){var y,z;if(this.xj())(0,e.ta)(!1,"should not be busy while checking buffer ranges");else {y=this.uQa().map(function(B){var A,C,D,F,G;F=B.ep.filter(function(E){return E.lA;});G=B.Jd.buffered();B=G.length?Math.ceil(1E3 * G.start(0)):void 0;G=G.length?Math.floor(1E3 * G.end(G.length - 1)):void 0;B=null !== B && void 0 !== B?B:null === (A=F[0]) || void 0 === A?void 0:A.IL;A=null !== (D=null === (C=F[F.length - 1]) || void 0 === C?void 0:C.yD) && void 0 !== D?D:G;if(void 0 !== B && void 0 !== A)return {start:B,end:A};});if(y.every(function(B){return B;})){z=Math.max.apply(Math,Aa(y.map(function(B){return B.start;})));y=Math.min.apply(Math,Aa(y.map(function(B){return B.end;})));if(y > z)return {start:(0,p.ec)(z),end:(0,p.ec)(y)};}}};d.prototype.skip=function(y){(0,e.ta)(!this.xj(),"should not be busy while skipping");this.uQa().forEach(function(z){z.L_=!0;});this.oKa(y);this.uQa().forEach(function(z){0 < z.dx.length || (z.ep=z.ep.filter(function(B){return B.Xe || B.yD > y?!0:!1;}));});};b.A$a=d;},90762:function(t,b,a){var c,h,f,e,g,k,l,m,p,r,q,u;function d(v){v=Error.call(this,v);this.message=v.message;("stack" in v) && (this.stack=v.stack);this.name="CodecSwitchingError";}function n(v,w,x,y){var z,B;z=this;this.j=v;this.type=w;this.log=y;this.Nia=new f.vc(!1);this.YN={data:void 0,state:"",operation:""};this.error=void 0;this.mimeType=this.Erb((this.type === u.v.U?this.j.ka.zh:this.j.ka.ce).streams);this.em=new e.Vl();this.YGa={Type:this.type};if(h.config.tZ){B=!0;this.YNa=new f.vc(!1);}this.log.trace("Adding source buffer",this.YGa,{TypeId:this.mimeType});this.ol=x.addSourceBuffer(this.mimeType);this.ol.addEventListener("updatestart",function(){!1;z.YN.state="updatestart";});this.ol.addEventListener("update",function(){!1;z.YN.state="update";});this.ol.addEventListener("updateend",function(){var A;!1;z.Nia.set(!1);z.Ugb && z.Ugb();z.YN.state="updateend";A=0;try{A=z.ol.buffered.length;}catch(C){}B && A && (B=!1,z.YNa.set(!0),!1);});this.ol.addEventListener("error",function(A){var C;!1;try{C=A.target.error && A.target.error.message;(A.message || C) && y.error("error event received on sourcebuffer",{mediaErrorMessage:A.message});}catch(D){}A={Sa:(0,c.WOa)(z.type),jf:z.wna()};v.og(k.ca.MXb,A);});this.ol.addEventListener("abort",function(){!1;});v.addEventListener(p.ja.closed,function(){z.ol=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.kSb=b.IBa=void 0;c=a(93294);h=a(29204);f=a(81734);e=a(94886);g=a(31276);a(24550);k=a(36129);a(5021);l=a(45146);m=a(32687);p=a(85001);r=a(95162);q=a(48220);u=a(26388);n.prototype.xj=function(){return this.Nia.value;};n.prototype.updating=function(){return this.ol?this.ol.updating:!1;};n.prototype.cda=function(v){this.Ugb=v;};n.prototype.wna=function(){return this.YN;};n.prototype.buffered=function(){return this.ol.buffered;};n.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};n.prototype.toJSON=function(){return {type:this.type};};n.prototype.KOa=function(){var v,y,z;try{v=this.ol.buffered;if(v){for(var w=[],x=0;x < v.length;x++){y=1E3 * v.start(x);z=1E3 * v.end(x);(0,l.ta)(z > y);w.push({start:y,end:z});}return w;}}catch(B){}};n.prototype.pna=function(){var v,w;v=this.KOa();if(v){v=v.map(function(x){return {start:x.start / 1E3,end:x.end / 1E3};});w=v.reduce(function(x,y){return x + y.end - y.start;},0);v=v.map(function(x){return x.start + "-" + x.end;});return {Buffered:w.toFixed(3),Ranges:v.join("|")};}};n.prototype.ukb=function(v,w){var x;!1;try{(0,l.ta)(this.ol.buffered && 1 >= this.ol.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.pna()));}catch(y){}(0,l.ta)(!this.xj());x=w && w.Yba / 1E3;(0,m.pc)(x) && this.ol.timestampOffset !== x && (!1,this.Lua("timestampOffset",x),this.ol.timestampOffset=x);this.Lua((null === w || void 0 === w?0:w.Xe)?"headerappend":"mediaappend");this.ol.appendBuffer(v);!1;this.Nia.set(!0);};n.prototype.remove=function(v,w){(0,l.ta)(!this.xj());try{this.Lua("remove");!1;this.ol.remove(v,w);this.Nia.set(!0);}catch(x){this.log.error("SourceBuffer remove exception",x,this.YGa);}};n.prototype.Lua=function(v,w){this.YN.data=w;this.YN.state="init";this.YN.operation=v;};n.prototype.JKb=function(v,w){this.Ivc=v / w * 1E3;};n.prototype.Q8b=function(v){var w;if(this.ol){if((v=this.Erb([{type:this.cac,xe:v}]),v !== this.mimeType)){w=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + v);if(!this.ol.changeType)throw new d("Platform doesnt support changing SourceBuffer mime-type");try{this.Lua("changeType",v);this.ol.changeType(v);this.mimeType=v;}catch(x){throw (this.log.error("Error changing SourceBuffer type",x,this.YGa,{From:w,To:v}),new d(x.message));}}}else this.log.info("No SourceBuffer");};n.prototype.appendBuffer=function(v,w){!w || w.Xe?this.jW(v,w):this.ZIa(v,w);return !0;};n.prototype.jW=function(v,w){this.j.Rd.jW(this,v,w || ({}));};n.prototype.ZIa=function(v,w){v=this.W$b(v,w);!1;this.j.Rd.ZIa(v);};n.prototype.W$b=function(v,w){var x;x=this.Ivc || 0;return {ii:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:q.ke.Ud.DONE,IL:w.Eb,yD:w.Eb + w.duration,Pg:w.duration,Yba:x,vl:w.vl,L:w.L,Qa:w.Qa,Uc:+w.Uc,location:w.location,Jka:w.offset,Ika:w.offset + w.ma - 1,bitrate:w.bitrate,response:v,trc:v && 0 < v.byteLength,lA:!0,get Xe() {return !this.lA;},xJb:this.a5 - Math.floor(x) || Infinity,toJSON:function(){var y;y={requestId:this.requestId,segmentId:this.L,isHeader:this.Xe,ptsStart:this.IL,ptsOffset:this.Yba,responseType:this.w1c,duration:this.Pg,readystate:this.jg};this.stream && (y.bitrate=this.stream.bitrate);return JSON.stringify(y);}};};n.prototype.endOfStream=function(){var v;this.j.EO("EndOfStream");null === (v=this.j.Rd) || void 0 === v?void 0:v.xra(this.mediaType);return !0;};n.prototype.FLb=function(v){this.g2b=v;};n.prototype.addEventListener=function(v,w,x){this.em.addListener(v,w,x);};n.prototype.removeEventListener=function(v,w){this.em.removeListener(v,w);};n.prototype.Erb=function(v){var w;w=g.Wa.get(r.YEa);return this.type === u.v.U?w.Nob(v):w.cob(v);};Ha.Object.defineProperties(n.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},GLb:{configurable:!0,enumerable:!0,get:function(){return this.g2b;}},cac:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.IBa=n;Ia(d,Error);b.kSb=d;},73056:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K;function d(M,P,I){var O;O=this;this.j=M;this.txb=P;this.zDc=void 0 === I?!1:I;this.$b=this.j.$b;this.log=(0,k.Mn)(this.j,"MediaPresenterASE");this.gra=this.Ela=0;this.Ga=this.$b.Ga;this.uPb=new K.fgb(this.j,this.log.dP("VideoFreezeMonitor"));this.uL=new J.egb(this.Ga,this.j);this.BFb=this.mFb=this.tpa=this.EWa=!1;this.Tpa=new Set();this.uQc=k.Wa.get(B.EI)((0,z.ec)(x.EEa));this.lW=void 0;this.al=k.Wa.get(C.ieb)(this.j);this.aE={};this.EBb={};this.I9={};this.Pm={};this.qX={};this.fYa={};this.th=new F.A$a(this.j,this.al);this.cOb=0;this.tyb=!1;this.sQc=function(){var Q,S,U;O.j.Nda=(0,g.bx)();if(!O.Im() && O.AK){Q=O.$b.zvb();Q || (O.IEc(),O.th.PNb(O.mediaTime));O.j.paused.value || !O.th.ZLa(O.mediaTime) || !O.MJa() || Q || O.al.B$?O.NYa():O.EWa || O.OYa();O.HEc();if(!(O.$b.zvb() || O.tpa || O.tyb)){Q=O.$b.Sz(!0);S=O.j.Wb.value;U=O.G$b();S !== U && !1;U === v.Kb.zw?(O.mediaTime=O.j.ks.oa(z.ya),O.NYa()):U !== v.Kb.Yg && O.TSc(Q);O.EOb();O.th.oKa(O.mediaTime);O.j.Wb.set(U);U !== v.Kb.Yg || S !== v.Kb.hg && S !== v.Kb.zi || O.CVa();}}};this.ho=(0,D.nHc)(this.sQc);this.mediaTime=this.txb;this.j.rj=!1;this.$b.addEventListener(y.zk.tLb,function(){if(O.vLb){O.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{O.Sb();}catch(Q){O.log.error("Exception while initializing",Q);O.og(l.ca.yXb);}}});this.$b.addEventListener(y.zk.Xzb,function(Q){Q=Q.J;O.vLb?O.SDb(Q):O.Tpa.add(Q);});}Object.defineProperty(b,"__esModule",{value:!0});b.NBa=void 0;n=a(33096);c=a(29204);h=a(13044);f=a(37509);e=a(52569);g=a(24066);k=a(31276);a(24550);l=a(36129);m=a(91591);p=a(45146);r=a(8825);q=a(3887);u=a(32219);v=a(85001);w=a(32687);x=a(93294);y=a(16520);z=a(5021);B=a(45842);A=a(4246);C=a(65106);D=a(97368);F=a(33059);G=a(91562);E=a(22365);H=a(26388);J=a(49587);L=a(63156);K=a(42087);d.prototype.xHc=function(M){var P,I,O;I=Math.ceil(M.uxb);O=Math.ceil(null !== (P=M.DQc) && void 0 !== P?P:M.uxb);this.al.K_ || (P={oldMediaTime:this.mediaTime,newMediaTime:O,contentPts:M.vl},Object.assign(P,this.j.nYa.kQa()),this.log.error("ptsChanged without pendingPtsChanged",P),this.al.K_={rD:!1,IR:this.mediaTime,ER:O,vl:M.vl,zc:v.Jc.tu,skip:!1,Re:this.j.Re.value,se:this.j.se.value,R:this.j.R});P=this.al.K_;this.al.K_=void 0;this.al.wba=!0;I=P.rD?O:I;!1;this.kDb(P,I,M.vl);};d.prototype.Xtb=function(){return this.$b.Sz(!1);};d.prototype.yna=function(){return this.$b.yna();};d.prototype.Tz=function(){return this.$b.Tz();};d.prototype.iQ=function(){return this.$b.iQ();};d.prototype.a9=function(){return this.$b.a9();};d.prototype.Sb=function(){var M,P;M=this;this.log.trace("Video element initializing");this.$b.sourceBuffers.forEach(function(I){return M.th.cNc(I);});this.j.PQ?this.log.trace("Waiting for encrypted"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.R}),null === (P=this.j.bb) || void 0 === P?void 0:P.V7(this.j.R));0 < this.Tpa.size && setTimeout(function(){M.log.trace("Notifying about licenses that were added before source buffers created");Array.from(M.Tpa).forEach(function(I){M.Tpa.delete(I);M.SDb(I);});},0);this.log.trace("Waiting for loadedmetadata");(0,e.Q3b)(this.Ga,"loadedmetadata",function(){M.log.trace("Video element event: loadedmetadata");M.j.Sg("md");});f.re.addListener(f.Gm,this.I9[f.Gm]=function(){return M.close();},n.YU);this.j.addEventListener(v.ja.$g,this.Pm[v.ja.$g]=function(){return M.close();},n.YU);this.j.addEventListener(v.ja.Eca,this.Pm[v.ja.Eca]=function(){return M.close();});this.j.addEventListener(v.ja.Jca,this.Pm[v.ja.Jca]=function(){return M.OYa();});this.j.paused.addListener(this.Pm.paused=function(){return M.ho();});this.j.muted.addListener(this.Pm.muted=function(){return M.s1a();});this.j.volume.addListener(this.Pm.volume=function(){return M.s1a();});this.j.playbackRate.addListener(this.Pm.playbackRate=function(){return M.B1();});this.j.et.addListener(this.Pm.avBufferingState=function(){return M.ho();});this.j.en.addListener(this.Pm.textBufferingState=function(){return M.ho();});this.s1a();this.B1();this.th.cda(function(){return M.Cqa();});this.Cqa();this.ORc();};d.prototype.SDb=function(M){var P;this.j.Sg("ld",M);null === (P=this.j.bb) || void 0 === P?void 0:P.V7(M);this.j.fireEvent(v.ja.jTa);};d.prototype.ZIa=function(M){var P;P=this;!1;this.th.P4b(M);this.P8b(M).then(function(){P.Cqa();P.j.fireEvent(v.ja.Caa);}).catch(function(I){P.og(l.ca.DXb,{jf:(0,q.Wi)(I)});});};d.prototype.jW=function(M,P,I){P=this.ugc(M,P);this.th.O4b(M,P,I);this.Cqa();this.mFb || M.type !== H.v.U || (this.al.B$ || this.seek(this.txb,v.Jc.po),this.mFb=!0);};d.prototype.ORc=function(){var M;M=this;this.$b.addEventListener(y.zk.Rca,this.aE[y.zk.Rca]=function(){return M.KCc();});this.$b.addEventListener(y.zk.st,this.aE[y.zk.st]=function(){return M.Pra();});this.Ga.addEventListener("ended",this.aE.ended=function(){return M.dCc();});this.Ga.addEventListener("play",this.aE.play=function(){return M.zVa();});this.Ga.addEventListener("pause",this.aE.pause=function(){return M.yVa();});this.Ga.addEventListener("playing",this.aE.playing=function(){return M.r_();});this.AK=!0;this.th.PNb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.Sg("vi");c.config.Epb?setTimeout(function(){M.eVa=!0;M.ho();},c.config.Epb):this.eVa=!0;this.POc();this.j.Ac.za && this.ROc();(0,u.Gh)(function(){return M.ho();});};d.prototype.POc=function(){var I;function M(){var O;I.j.Wb.value !== v.Kb.hg || 0 !== (null === (O=I.j.Rd) || void 0 === O?void 0:O.yna()) || E.yi.hidden?(I.QUa.Fq(),O="stopTimer"):(I.QUa.WJ(),O="ensureTimer");I.log.trace("No render timer update: " + O,{presentingState:v.Kb[I.j.Wb.value],hidden:E.yi.hidden});}function P(O){var Q,S;O=void 0 === O?!0:O;Q=I.j.bb;S=(null === Q || void 0 === Q?void 0:Q.Uj) && Q.twb() || I.zDc;I.j.Wb.value == v.Kb.Yg && I.j.state.value == v.Bc.qf && I.j.et.value == v.Wg.qf && I.j.en.value == v.Wg.qf && !I.j.rj && S?(O && I.B7.Fq(),I.B7.WJ(),Q="ensureTimer"):(I.B7.Fq(),Q="stopTimer");I.log.trace("Timer update: " + Q,{presentingState:v.Kb[I.j.Wb.value],playbackState:v.Bc[I.j.state.value],avBufferingState:v.Wg[I.j.et.value],textBufferingState:v.Wg[I.j.en.value],autoplayWasBlocked:I.j.rj,hasLicense:S,restartTimer:O});}I=this;c.config.ppb && ((0,p.ta)(!this.B7),this.B7=k.Wa.get(A.J4)(c.config.ppb,function(){var O;O=k.Wa.get(m.Bya).Rpb(I.j);I.og(O.code,O);}),this.MOc(P));c.config.YCb && (this.QUa=k.Wa.get(A.J4)(c.config.YCb,function(){var O;0 === (null === (O=I.j.Rd) || void 0 === O?void 0:O.Tz()) && (O=k.Wa.get(m.Bya).Rpb(I.j),I.og(O.code,O));I.ULb();}),this.NOc(M));};d.prototype.MOc=function(M){var O;function P(Q,S,U){U=void 0 === U?function(){return M();}:U;O.qX[S]=U;Q.addEventListener(S,U);}function I(Q,S,U){U=void 0 === U?function(){return M();}:U;O.qX[S]=U;Q.addListener(U);}O=this;I(this.j.et,"avBufferingState");I(this.j.Wb,"presentingState");I(this.j.en,"textBufferingState");I(this.j.state,"state");P(this.j,v.ja.ska);P(this.j,v.ja.rj);P(this.j,v.ja.jTa);P(this.j,v.ja.Sta,function(){return M(!0);});M();};d.prototype.kPc=function(){var I,O;function M(Q,S){var U;U=I.qX[S];U && (Q.removeEventListener(S,U),delete I.qX[S]);}function P(Q,S){var U;U=I.qX[S];U && (Q.removeListener(U),delete I.qX[S]);}I=this;P(this.j.et,"avBufferingState");P(this.j.Wb,"presentingState");P(this.j.en,"textBufferingState");P(this.j.state,"state");M(this.j,v.ja.ska);M(this.j,v.ja.rj);M(this.j,v.ja.jTa);M(this.j,v.ja.Sta);null === (O=this.B7) || void 0 === O?void 0:O.Fq();};d.prototype.NOc=function(M){this.j.Wb.addListener(this.fYa.presentingState=M);f.re.addListener(f.Lr,this.I9[f.Lr]=M);M();};d.prototype.ULb=function(){var M;this.fYa.presentingState && this.j.Wb.removeListener(this.fYa.presentingState);f.re.removeListener(f.Lr,this.I9[f.Lr]);null === (M=this.QUa) || void 0 === M?void 0:M.Fq();};d.prototype.ROc=function(){var O;function M(){var Q,S,U,W,Y;U=I();if(U){W=U.IXa;U=U.mediaType;Y=null !== (S=null === (Q=O.Ga) || void 0 === Q?void 0:Q.readyState) && void 0 !== S?S:L.qu.mI.HAVE_NOTHING;S=Y < L.qu.mI.HAVE_FUTURE_DATA;Q=P(W,O.mediaTime);S && Q?(O.hna.WJ(),S="ensureTimer"):(O.hna.Fq(),S="stopTimer");O.log.trace("Gaps Monitor Timer update: " + S,{mediaType:U,mediaTime:O.mediaTime,bufferedRanges:JSON.stringify(W),nextRange:JSON.stringify(Q),readyState:Y});}else O.hna.Fq();}function P(Q,S){return Q.find(function(U,W){if(Math.abs(S - U.end) < Math.abs(S - U.start))return !1;U=U.end - U.start;return W !== Q.length - 1 && 1E4 > U?!1:!0;});}function I(){var Q,S,U;U=O.$b.sourceBuffers.find(function(W){return W.mediaType === H.v.U;});U=null !== (Q=null === U || void 0 === U?void 0:U.KOa()) && void 0 !== Q?Q:[];Q=O.$b.sourceBuffers.find(function(W){return W.mediaType === H.v.X;});Q=c.config.Qzc?null !== (S=null === Q || void 0 === Q?void 0:Q.KOa()) && void 0 !== S?S:[]:[];if(1 < U.length)return {IXa:U,mediaType:"video"};if(1 < Q.length)return {IXa:Q,mediaType:"audio"};}O=this;c.config.htb && ((0,p.ta)(!this.hna),this.hna=k.Wa.get(A.J4)(c.config.htb,function(){var Q,S;Q=I();if(Q){Q=Q.IXa;S=P(Q,O.mediaTime);S && (O.log.error("Detected media gaps: seeking over gap",{seekPoint:S.start,ranges:JSON.stringify(Q)}),O.$b.hKc(),O.seek(S.start,v.Jc.Dga));}}),this.j.mediaTime.addListener(M),this.j.$b.addEventListener(y.zk.nHb,M),this.j.addEventListener(v.ja.Caa,M),M());};d.prototype.ugc=function(M,P){var I;I=this.j.zl;(I=null === I || void 0 === I?void 0:I.xY()) && M.type === H.v.U && ((M=new G.L3(this.log,{mediaType:H.v.U,url:"http://some-url"},P).na(I))?P=M:!1);return P;};d.prototype.Cqa=function(){this.AK && this.ho();this.th.Amb();};d.prototype.cPc=function(){!1;this.j.Wb.set(v.Kb.Yg);this.tpa=!0;this.ho();};d.prototype.B$b=function(){var M;M=this;this.tpa && (!1,this.tpa=!1,(0,u.Gh)(function(){return M.seek(M.j.jK() || 0,v.Jc.I4);}));};d.prototype.TOc=function(){!1;this.tyb=!0;this.j.Wb.set(v.Kb.Yg);this.ho();};d.prototype.sY=function(){return this.th.sY();};d.prototype.tY=function(){return this.th.tY();};d.prototype.xra=function(M){var P;P=this;this.th.dNc(M);(0,u.Gh)(function(){return P.ho();});};d.prototype.tnc=function(){return {Ela:this.Ela,gra:this.gra};};d.prototype.P8b=function(M){var P;P=this.$b && this.$b.APa();(0,p.ta)(this.j.ks,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.ks && P && (M=Infinity !== M.xJb && 0 < M.Yba?M.xJb + M.Yba:M.yD,M > this.j.ks.ZWa(z.ya) && (!1,this.j.ks=(0,z.ec)(M)));return Promise.resolve();};d.prototype.HEc=function(){var M;M=this;this.al.wba && (!1,this.MJa() && this.th.ZLa(this.mediaTime) && (this.$b.seek(this.mediaTime),this.al.wba=!1,(0,u.Gh)(function(){return M.ho();})));};d.prototype.TSc=function(M){var P,I;P=this;if(M < this.mediaTime){if(this.mediaTime - M > x.rdb && (c.config.lFb || c.config.GTa)){this.cOb++;I={Trace:this.$b.fb.PY(),ElementTime:(0,r.Rj)(M),MediaTime:(0,r.Rj)(this.mediaTime)};c.config.lFb?this.og(l.ca.NXb,{jf:I}):c.config.GTa && (this.$b.fb.trace("unexpected-rewind"),Ca.setTimeout(function(){P.log.error("UnexpectedRewind",I);},c.config.GTa));}}else this.mediaTime=(0,r.FE)(M,0,this.j.ks.oa(z.ya));};d.prototype.MJa=function(){return this.j.et.value === v.Wg.qf && this.j.en.value === v.Wg.qf;};d.prototype.G$b=function(){var M,P,I;M=this;P=this.j.Wb.value;I=P;this.al.B$?I=v.Kb.Yg:this.Ga && this.Ga.ended?P === v.Kb.hg && (I=v.Kb.zw):this.MJa() && this.th.ZLa(this.mediaTime)?this.$b.ufc()?I=this.uL.paused?v.Kb.zi:v.Kb.hg:this.uQc.ag(function(){return M.tQc();}):I=this.j.ks?this.j.qwb(this.mediaTime,this.th.Dla())?v.Kb.Yg:v.Kb.zw:v.Kb.Yg;return I;};d.prototype.CVa=function(){var M;if(this.j.Wb.value === v.Kb.Yg){M=this.th.iRc() > this.th.Dla();this.j.en.value !== v.Wg.qf?this.j.Fk.value?(this.j.fireEvent(v.ja.zF,{zc:h.gcb}),this.log.warn("rebuffer due to timed text",this.j.Fk.value.ri)):this.j.fireEvent(v.ja.n1):M?(this.Ela++,this.j.fireEvent(v.ja.zF,{zc:h.wDa})):(this.gra++,this.j.fireEvent(v.ja.zF,{zc:h.xDa}));}};d.prototype.tQc=function(){this.Im() || (c.config.hBc && this.th.gBc(),this.ho());};d.prototype.KCc=function(){this.ho();};d.prototype.Pra=function(){this.ho();this.j.fireEvent(v.ja.st);};d.prototype.dCc=function(){this.log.trace("Video element event: ended");this.ho();};d.prototype.zVa=function(){this.log.trace("Video element event: play");this.ho();};d.prototype.yVa=function(){this.log.trace("Video element event: pause");this.uL.yVa();this.ho();};d.prototype.r_=function(){this.log.trace("Video element event: playing");this.uL.zVa();this.ho();c.config.Rzc && this.j.yv() && this.uPb.QOc();};d.prototype.s1a=function(){this.Im() || (this.Ga && this.Ga.volume !== this.j.volume.value && (this.Ga.volume=this.j.volume.value),this.Ga && this.Ga.muted !== this.j.muted.value && (this.Ga.muted=this.j.muted.value));};d.prototype.B1=function(){!this.Im() && this.Ga && (this.Ga.playbackRate=this.j.playbackRate.value);};d.prototype.OYa=function(){var M;M=this;!this.Im() && (0,w.ed)(this.Ga) && !this.Ga.ended && this.eVa && this.uL.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.uL.play()).then(function(){M.closed || (M.EWa=!1,M.Ga.style.display=null,M.j.rj=!1,M.j.fireEvent(v.ja.ska));}).catch(function(P){"NotAllowedError" === P.name?(M.log.warn("Playback is blocked by the browser settings",P),M.j.rj=!0,M.closed || (M.EWa=!0,M.Ga.style.display="none",M.j.fireEvent(v.ja.rj,{player:{play:function(){return M.OYa();}}}))):M.closed || M.BFb || (M.BFb=!0,M.log.error("Play promise rejected",P));}));};d.prototype.NYa=function(){this.Im() || !(0,w.ed)(this.Ga) || this.Ga.ended || !this.eVa || this.uL.paused || (this.log.trace("Calling pause on element"),this.uL.pause());};d.prototype.EOb=function(M){this.j.mediaTime.set(this.mediaTime);M && this.j.nkc();};d.prototype.seek=function(M,P,I,O){var Q,S,U,W,Y;I=void 0 === I?this.j.L:I;O=void 0 === O?!1:O;Y=null === (Q=this.j.bb) || void 0 === Q?void 0:Q.Uj;!this.Im() && Y && (Q=null !== (W=null === (U=null === (S=this.j.S) || void 0 === S?void 0:S.Aa.bj) || void 0 === U?void 0:U.Zpb) && void 0 !== W?W:!1,this.j.Ac.za && !1 === Q && 0 === M && this.log.error("Unexpected seek to 0 for the live playback",Error().stack),this.j.fireEvent(v.ja.Sta,{zc:P}),this.al.VR={time:M,zc:P,L:I,zkc:O},this.j.Wb.set(v.Kb.Yg),this.ho());};d.prototype.IEc=function(){var M,P,I,O,Q,S,U,W,Y;if(this.al.VR){M=this.al.VR;P=M.time;I=M.zc;O=M.L;Q=M.zkc;if(!this.th.xj() || I === v.Jc.po){M=this.j.Dl(O).R;S=this.th.xj()?void 0:this.th.Vlc();U=this.al.joc(P,I,O,Q,S);O=U.ER;Q=U.vl;W=U.mFc;S=U.Ik;U=U.rD;this.th.oKa(this.mediaTime);Y=this.mediaTime;P=(0,r.Rj)(P);this.j.EO("SEEKING: Requested: (" + M + ":" + I + ":" + P + ") - Actual: (contentPts: " + Q + ",playerPts: " + (W + ", newMediaTime: " + O + ")"));this.log.info("Seeking",{Requested:P,Actual:(0,r.Rj)(O),Cause:I,Skip:S});I === v.Jc.po || S || (this.th.tIb(),this.th.$Mc());P=this.j.Re.value;W=this.j.se.value;this.j.Re.set(null);this.j.se.set(null);this.al.VR=void 0;I={rD:U,IR:Y,ER:O,vl:Q,zc:I,skip:S,Re:P,se:W,R:M};S?this.al.wba=!0:this.al.K_=I;this.j.fireEvent(v.ja.m0,I);S && (this.kDb(I,O,Q),this.th.skip(O));}}};d.prototype.kDb=function(M,P,I){this.mediaTime=P;this.EOb(!0);this.j.fireEvent(v.ja.ls,{ER:P,vl:I,IR:M.IR,zc:M.zc,skip:M.skip,Re:M.Re,se:M.se,R:M.R});};d.prototype.og=function(M,P,I){this.closed || this.j.og(M,P,I);};d.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.th.close();this.kPc();this.ULb();this.$b.removeEventListener(y.zk.Rca,this.EBb[y.zk.Rca]);this.$b.removeEventListener(y.zk.st,this.EBb[y.zk.st]);this.Ga.removeEventListener("ended",this.aE.ended);this.Ga.removeEventListener("play",this.aE.play);this.Ga.removeEventListener("pause",this.aE.pause);this.Ga.removeEventListener("playing",this.aE.playing);this.uL.close();f.re.removeListener(f.Gm,this.I9[f.Gm]);f.re.removeListener(f.Lr,this.I9[f.Lr]);this.j.removeEventListener(v.ja.$g,this.Pm[v.ja.$g]);this.j.removeEventListener(v.ja.Eca,this.Pm[v.ja.Eca]);this.j.removeEventListener(v.ja.Jca,this.Pm[v.ja.Jca]);this.j.removeEventListener(v.ja.$K,this.Pm[v.ja.$K]);this.j.paused.removeListener(this.Pm.paused);this.j.muted.removeListener(this.Pm.muted);this.j.volume.removeListener(this.Pm.volume);this.j.playbackRate.removeListener(this.Pm.playbackRate);this.j.et.removeListener(this.Pm.avBufferingState);this.j.en.removeListener(this.Pm.textBufferingState);this.th.cda(function(){});this.closed=!0;try{this.Ga.volume=0;this.Ga.muted=!0;this.NYa();this.$b.close();}catch(M){}this.Ga=void 0;this.th.tIb();}};d.prototype.Im=function(){return this.closed?!0:(0,w.ed)(this.Ga)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};Ha.Object.defineProperties(d.prototype,{vLb:{configurable:!0,enumerable:!0,get:function(){var M,P;M=this;return !(null === (P=this.j.bb) || void 0 === P || !P.uh) && [].concat(Aa(this.j.bb.uh)).every(function(I){return M.$b.sourceBuffers.find(function(O){return O.mediaType === I;});});}},VR:{configurable:!0,enumerable:!0,get:function(){return this.al.B$;}}});b.NBa=d;},93294:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.rdb=b.EEa=void 0;b.WOa=function(c){return c === d.v.X?n.Y.tBa:n.Y.uBa;};d=a(26388);n=a(36129);b.EEa=50;b.rdb=1E3;},53754:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m){var r,q;function p(){r.I5=new k.vfb();return r.I5;}(0,n.Fm)("MediaSourceASE").trace("Inside MediaSourceASE");r=this;q=m.boc();r.Phb=q;r.readyState=l.Ud.CLOSED;r.addSourceBuffer=function(u){return u === g.v.Ba?p():q.addSourceBuffer(u);};r.b6=function(u){u.includes(g.v.Ba) && p();return q.b6(u);};r.removeSourceBuffer=function(u){if(u.mediaType === g.v.Ba)r.I5=void 0;else return ((0,e.ta)(u.mediaType === g.v.Ba,"Unexpected removeSourceBuffer. Only TEXT is expected to ever be removed."),q.removeSourceBuffer(u));};r.tt=function(u){r.I5=void 0;q.tt(u);};r.duration=void 0;this.readyState=l.Ud.OPEN;this.ng=c.Wa.get(h.cm).YZ(l.ng,{});m=new f.EventEmitter();m.on("subtitleData",function(u){(0,e.ta)(q.j.ka.Kd,"Unexpected AseSubtitleEvent. No current timedTextTrack.");q.j.ka.Kd.CXa(u);});this.events=m;}Object.defineProperty(b,"__esModule",{value:!0});b.S$a=void 0;n=a(31276);c=a(31276);h=a(74870);f=a(90745);e=a(45146);g=a(45247);k=a(91515);Object.defineProperty(d.prototype,"sourceBuffers",{get:function(){return this.I5?this.Phb.sourceBuffers.concat(this.I5):this.Phb.sourceBuffers;}});Object.defineProperty(d.prototype,"duration",{get:function(){return this.a5;},set:function(m){var p;this.a5=m || Infinity;p=Math.floor(1E3 * m) || Infinity;this.sourceBuffers.forEach(function(r){r.a5=p;});}});l={Ud:{CLOSED:0,OPEN:1,zw:2,name:["CLOSED","OPEN","ENDED"]},ng:{k$b:!0,gAc:!0}};b.S$a=Object.assign(d,l);},69931:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.cFa=b.bFa=void 0;t=a(79048);a={};b.bFa=(a[t.Xq]={id:-1,name:"hardcoded",yc:1,type:"hardcoded",hR:"-1",fuc:!1,location:{id:"-1",yc:1,level:100,weight:1}},a);a={};b.cFa=(a[t.Xq]={track:{type:"padding",trackId:"padding",Li:"padding",correlationId:"padding",uq:"other",Cg:"padding",LL:"padding",ri:{},yc:1},type:"padding",cc:"-1",bitrate:1,Mb:100,xe:"unknown",size:1,FMa:{},ri:{},Er:"",framerate:0,gk:!1,vk:[],height:1,width:1},a);},6305:function(t,b,a){var n,c,h;function d(f,e,g,k,l,m,p,r,q,u,v){this.track=f;this.type=e;this.cc=g;this.bitrate=k;this.Mb=l;this.size=m;this.FMa=p;this.xe=r;this.framerate=q;this.gk=u;this.vk=v;this.ri={Type:e,Bitrate:k,DownloadableId:g};}Object.defineProperty(b,"__esModule",{value:!0});b.MediaStream=void 0;b.HWc=function(f,e,g,k,l){if(f == n.Cga || f === h.qn.audio)return e;if(f == n.X3 || f === h.qn.video)return g;if(f == h.qn.q1)return k;if(f == h.qn.U0a)return l;};n=a(33096);c=a(32687);h=a(51344);d.prototype.toJSON=function(){return this.ri;};d.prototype.lNc=function(f,e,g,k){(0,c.ed)(f) && (0,c.ed)(e) && (this.width=f,this.height=e,(0,c.pc)(g) && (0,c.pc)(k) && (this.width=Math.round(g / k * f)),this.ri.Resolution=(this.width || "") + ":" + (this.height || ""));};d.prototype.qMc=function(f,e,g,k,l,m){(0,c.ed)(f) && (0,c.ed)(e) && (0,c.ed)(g) && (0,c.ed)(k) && (this.ILa=f,this.Rob=e,this.Qob=g,this.Pob=k);(0,c.ed)(l) && (0,c.ed)(m) && (this.vFb=l,this.wFb=m);};b.MediaStream=d;},51344:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qn={audio:"audio",video:"video",q1:"timedtext",U0a:"trickplay"};},62439:function(t,b,a){var n,c,h,f,e,g,k;function d(l){var m,p,r,q;m=this;this.j=l;this.t7=void 0;this.AGa=(0,c.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.qGa=(0,c.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.kGa=(0,c.createElement)("DIV","width:100%;text-align:center");this.n_b=this.sGa("Audio Bitrate");this.XHa=this.sGa("Video Bitrate / VMAF");this.lGa=this.sGa("CDN");this.q5={};this.H9=h.Wa.get(f.Ls);this.AGa.appendChild(this.qGa);this.qGa.appendChild(this.kGa);p=(0,c.createElement)("BUTTON",void 0,"Override");p.addEventListener("click",this.m_b.bind(this),!1);this.kGa.appendChild(p);p=(0,c.createElement)("BUTTON",void 0,"Reset");p.addEventListener("click",this.V1b.bind(this),!1);this.kGa.appendChild(p);r=this.y1b.bind(this);n.re.addListener(n.oK,r);l.addEventListener(g.ja.$K,function(){m.q5={};});l.addEventListener(g.ja.$g,function(){n.re.removeListener(n.oK,r);});q=this.S1b.bind(this);l.Oc.forEach(function(u){u.addListener(q);});l.ka.addListener([k.v.X,k.v.U],q);}Object.defineProperty(b,"__esModule",{value:!0});b.rcb=void 0;n=a(37509);c=a(52569);h=a(31276);f=a(34231);e=a(43193);g=a(85001);k=a(26388);d.prototype.show=function(){this.N5 || (this.sib(),document.body.appendChild(this.AGa),this.N5=!0);};d.prototype.LC=function(){this.N5 && (document.body.removeChild(this.AGa),this.N5=!1);};d.prototype.toggle=function(){this.N5?this.LC():this.show();};d.prototype.mOb=function(){var p,r,q,u;function l(v,w,x){var y,z,B;z=[];w.filter(function(A){return A.xe === v;}).forEach(function(A){0 <= x.indexOf(A)?(void 0 === B?B=A.bitrate:y=A.bitrate,void 0 === y && (y=A.bitrate)):void 0 !== B && void 0 !== y && (z.push({min:B,max:y}),B=y=void 0);});if(void 0 !== B && void 0 !== y){z.push({min:B,max:y});B=y=void 0;}return z;}function m(v,w,x){var y;y=[];w.filter(function(z){return z.xe === v;}).forEach(function(z){-1 === x.indexOf(z) && y.push({stream:{bitrate:z.bitrate},disallowedBy:["manual"]});});return y;}r=this.j.oC();q=this.j.nK().sort(function(v,w){return v.bitrate - w.bitrate;});u=q.reduce(function(v,w){0 > v.indexOf(w.xe) && v.push(w.xe);return v;},[]).map(function(v){return {profile:v,ranges:l(v,q,r),disallowed:m(v,q,r)};});!1;null === (p=this.j.bb) || void 0 === p?void 0:p.Kua(u,this.j.R);};d.prototype.m_b=function(){var p,r;this.q5={};for(var l=this.XHa.options,m=l.length;m--;){p=l[m];p.selected && (this.q5[p.value]=1);}this.t7=this.E_b.bind(this);this.mOb();if(l=this.j.ci){r=this.lGa.value;l=l.filter(function(q){return q.id == r;})[0];m=this.j.Oc[k.v.U].value;l && l != m && (l.lmb={testreason:"streammanager",selreason:"userselection"},this.j.Oc[k.v.U].set(l));}this.LC();};d.prototype.V1b=function(){this.t7=void 0;this.j.KKb(this.j.R);this.LC();};d.prototype.E_b=function(){var l;l=this;return this.j.nK().filter(function(m){return l.q5[m.bitrate];});};d.prototype.sib=function(){var l,m,p,r;l=this;m=this.j.ka.ce;p=this.j.ka.zh;r=this.j.ci;m && (r=r.slice(),r.sort(function(q,u){return q.yc - u.yc;}),this.OHa(this.n_b,m.streams.map(function(q){return {value:q.bitrate,caption:q.bitrate,selected:q == l.j.Ri.value};})));p && (this.OHa(this.XHa,p.streams.map(function(q){var u,v,w;u=l.j.QZ.CH(q);v=q.bitrate;q=q.Mb;w="" + v;q && (w+=" / " + q);u && (w+=" (" + u.join("|") + ")");return {value:v,caption:w,selected:l.t7?l.q5[v]:!u};})),this.XHa.removeAttribute("disabled"));r && (this.OHa(this.lGa,r.map(function(q){return {value:q.id,caption:"[" + q.id + "] " + q.name,selected:q == l.j.Oc[k.v.U].value};})),this.lGa.removeAttribute("disabled"));};d.prototype.S1b=function(){this.N5 && this.sib();};d.prototype.sGa=function(l){var m,p;m=(0,c.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");l=(0,c.createElement)("DIV",void 0,l);p=(0,c.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});m.appendChild(l);m.appendChild(p);this.qGa.appendChild(m);return p;};d.prototype.OHa=function(l,m){l.innerHTML="";m.forEach(function(p){var r;r={title:p.caption};p.selected && (r.selected="selected");r=(0,c.createElement)("option",void 0,p.caption,r);r.value=p.value;l.appendChild(r);});};d.prototype.y1b=function(l){l.ctrlKey && l.altKey && l.shiftKey && l.keyCode == e.IU.nfa && this.H9.FSa && this.toggle();};b.rcb=d;},79173:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.gdb=void 0;d=a(31276);n=a(61726);b.gdb=(function(){(0,d.Fm)("ProbeDownloader");return {gna:function(c){c={url:c.url,MGc:c};!1;n.He.PGc(c);}};})();},27758:function(t,b,a){var n,c,h,f,e,g,k;function d(){var l;l=new c.Vl();this.addEventListener=l.addListener.bind(this);this.removeEventListener=l.removeListener.bind(this);this.emit=l.kd.bind(this);this.jja=g++;this.ig=(0,h.Fm)("ProbeRequest");this.hib=n.gdb;(0,f.ta)(void 0 !== this.hib);this.jg=b.Zl.Ud.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Zl=void 0;n=a(79173);c=a(94886);h=a(31276);f=a(45146);e=a(3887);g=0;(function(){function l(){return JSON.stringify({url:this.Ag,id:this.jja,affected:this.mia,readystate:this.jg});}(0,e.xf)(d.prototype,{k_:function(m){this.jg !== b.Zl.Ud.iN && this.jg !== b.Zl.Ud.DONE && (this.nja=m,m={url:this.Ag,affected:this.mia,probed:{requestId:this.jja,url:this.Ag,Uc:this.G5,groupId:this.Jia}},200 <= this.nja && 299 >= this.nja?(this.jg=b.Zl.Ud.DONE,this.emit(b.Zl.Ul.l4,m)):(this.jg=b.Zl.Ud.iN,this.emit(b.Zl.Ul.yI,m)));},aVa:function(m){this.jg !== b.Zl.Ud.iN && this.jg !== b.Zl.Ud.DONE && (this.nja=m,m={url:this.Ag,affected:this.mia,probed:{requestId:this.jja,url:this.Ag,Uc:this.G5,groupId:this.Jia}},this.jg=b.Zl.Ud.iN,this.emit(b.Zl.Ul.yI,m));},open:function(m,p,r){if(!m)return (!1,!1);this.Ag=m;this.mia=p;this.G5=r;this.jg=b.Zl.Ud.OPENED;this.hib.gna(this);this.jg=b.Zl.Ud.JE;return !0;},Ne:function(){!1;return !0;},ii:function(){return this.jja;},toString:l,toJSON:l});Object.defineProperties(d.prototype,{readyState:{get:function(){return this.jg;}},status:{get:function(){return this.nja;}},url:{get:function(){return this.Ag;}},I1c:{get:function(){return this.mia;}}});})();(function(l){l.Ul={l4:"pr0",yI:"pr1"};l.Ud={UNSENT:0,OPENED:1,JE:2,DONE:3,iN:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(k || (k={}));b.Zl=Object.assign(d,k);},59405:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(29204);n=a(33096);t=a(36129);c=a(31276);h=a(69484);a=a(11479);c.Wa.get(a.Oj).register(t.ca.k8a,function(f){d.config.Wkc && c.Wa.get(h.d7a).start();f(n.Bh);});},91515:function(t,b,a){var n;function d(){this.mediaType=n.v.Ba;}Object.defineProperty(b,"__esModule",{value:!0});b.vfb=void 0;n=a(45247);d.prototype.appendBuffer=function(){return !0;};d.prototype.JKb=function(){};b.vfb=d;},49587:function(t,b){function a(d,n){this.j=n;this.UR=!0;this.Nva=!1;this.Ga=d;}Object.defineProperty(b,"__esModule",{value:!0});b.egb=void 0;a.prototype.zVa=function(){this.UR && (this.UR=!1,this.j.paused.set(!1));};a.prototype.yVa=function(){this.UR || (this.UR=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var d;this.paused || (this.UR=!0,null === (d=this.Ga) || void 0 === d?void 0:d.pause());};a.prototype.play=function(){var d,n;d=this;return this.paused && !this.Nva?(this.Nva=!0,Promise.resolve(null === (n=this.Ga) || void 0 === n?void 0:n.play()).then(function(){d.Nva=!1;}).catch(function(c){var h;d.Nva=!1;d.UR=!(null === (h=d.Ga) || void 0 === h || !h.paused);throw c;})):Promise.resolve();};a.prototype.close=function(){this.Ga=void 0;};Ha.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.UR;}}});b.egb=a;},42087:function(t,b){function a(d,n){var c;c=this;this.j=d;this.va=n;this.Nzb=-1;this.jwa=0;this.btb=[];this.aUc=function(h,f){var e,g,k;c.LLa=void 0;h=null !== (g=null === (e=c.j.$b) || void 0 === e?void 0:e.Sz(!1)) && void 0 !== g?g:0;c.Nzb === f.mediaTime?c.jwa++:c.jwa=0;c.Nzb=f.mediaTime;if(0 === f.mediaTime)return c.requestVideoFrameCallback();3 < c.jwa && h >= 1E3 * f.mediaTime + c.MVa && (c.btb.push(f.mediaTime),c.jwa=0,f=c.j.$b.Sz(!1),e=f + c.MVa,c.va.error("freeze detected, seek forward",{currentTime:f,newMediaTime:e,oneFrameInMs:c.MVa}),null === (k=c.j.$b) || void 0 === k?void 0:k.seek(e,!0));c.requestVideoFrameCallback();};}Object.defineProperty(b,"__esModule",{value:!0});b.fgb=void 0;a.prototype.QOc=function(){this.requestVideoFrameCallback();};a.prototype.requestVideoFrameCallback=function(){var d,n;n=null === (d=this.j.$b) || void 0 === d?void 0:d.Ga;n && void 0 !== this.LLa && n.cancelVideoFrameCallback && n.cancelVideoFrameCallback(this.LLa);n && n.requestVideoFrameCallback && (this.LLa=n.requestVideoFrameCallback(this.aUc));};Ha.Object.defineProperties(a.prototype,{MVa:{configurable:!0,enumerable:!0,get:function(){var d,n;if(this.rOa)return this.rOa;if(null === (d=this.j.Qf.value) || void 0 === d?0:d.framerate)this.rOa=Math.ceil(1E3 / this.j.Qf.value.framerate);return null !== (n=this.rOa) && void 0 !== n?n:0;}}});b.fgb=a;},20318:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Su=b.YQb=void 0;b.YQb=a;b.Su=new a();},70632:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);n=a(45247);c=a(51790);h=a(27758);f=a(90762);e=a(29204);g=a(33096);k=a(67263);l=a(53754);m=a(24066);t=a(36129);p=a(31276);r=a(21941);q=a(22365);u=a(59416);b=a(11479);v=a(13044);w=a(20318);x=a(2248);y=a(84408);z=a(97685);({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).SYc && z.TQ.enable();p.Wa.get(b.Oj).register(t.ca.i8a,function(B){var A,C,D,F,G,E,H,J,L,K;A=p.Wa.get(r.zab).Zcc();C=p.Wa.get(k.Lya).I2;D=p.Wa.get(c.Q$a).Xl;F=p.Wa.get(x.Sl);G=p.Wa.get(y.PE);E={Ksa:(0,p.P8)("ASE"),g5b:(0,p.P8)("JS-ASE",void 0,"Platform"),Fm:p.P8,storage:u.storage,soc:q.z5a,getTime:m.bx,Cla:function(M){return F.decode(M).buffer;},JJ:function(M){return G.encode(M);},vma:function(M){return G.decode(M);},cR:{},Xl:D,Zl:h.Zl,I2:C,MediaSource:l.S$a,SourceBuffer:f.IBa,CY:function(){return [e.config.bka,e.config.dka,e.config.cka];},oC:function(M){v.Ip.forEach(function(P){P.KKb(M);});}};C=new Promise(function(M){u.storage.load("nh",function(P){E.cR.nh=P.success?P.data:void 0;M();});});D=new Promise(function(M){u.storage.load("lh",function(P){E.cR.lh=P.success?P.data:void 0;M();});});H=new Promise(function(M){u.storage.load("gh",function(P){E.cR.gh=P.success?P.data:void 0;M();});});J=new Promise(function(M){u.storage.load("sth",function(P){E.cR.sth=P.success?P.data:void 0;M();});});L=new Promise(function(M){u.storage.load("vb",function(P){E.cR.vb=P.success?P.data:void 0;M();});});K=new Promise(function(M){u.storage.load("ab",function(P){E.cR.ab=P.success?P.data:void 0;M();});});Promise.all([C,D,K,L,J,H]).then(function(){return d.__awaiter(this,void 0,void 0,function P(){var I,O;return Sa(P,function(Q){if(1 == Q.$r)return (I=a(92623)(E),w.Su.pm=a(21457),w.Su.pm.declare(n.Vf),w.Su.pm.set(a(87141)(e.config),!0,(0,p.P8)("ASE")),ab(Q,n.p9(I),2));O=Q.$T;O.open(w.Su.pm,A);O.jMc({audio:e.config.bka,video:e.config.dka,text:e.config.cka},{G:e.config.QG,ma:void 0});w.Su.Lj=O;B(g.Bh);Q.$r=0;});});}).catch(function(M){E.Ksa.error("Exception loading location history from local storage",M);});});},39480:function(t,b,a){var d,n,c,h,f,e,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.cYb=function(l){var q,u,v,w,x,y;function m(){return l.state.value === k.Bc.LOADING || l.state.value === k.Bc.qf && l.Wb.value === k.Kb.Yg;}function p(){m()?y || (y=setInterval(r,100)):y && (clearInterval(y),y=void 0,(0,e.Gh)(r));}function r(){var z,B,A,C,D,F,G,E;z=(0,c.bx)();B=q.value;A=B?B.progress:0;C=l.state.value == k.Bc.LOADING || m() && z - u > n.config.s7b;if(C && l.state.value == k.Bc.qf){if(l.ee.value === k.Wg.Xdb)(D=A,F=!0);else {G=z;v=v || z;w=w || v + n.config.zzc + 1;(0,g.pc)(G) && (G=(0,f.Ky)(G,w),D=(0,f.Ns)(1E3 * (0,h.FE)((z - v) / (G - v),0,.99)) / 1E3);}if(D < A)if(A - D < n.config.lHc / 100)(D=A,x=void 0);else if(x){if(z - x > n.config.kHc){E=!0;x=void 0;}else D=A;}else (x=z,D=A);}else x=w=v=void 0;z=C?{Bs:F,progress:D,mHc:E}:null;(!z || !q || !B || (0,g.pc)(z.progress) && !(0,g.pc)(B.progress) || (0,g.pc)(z.progress) && (0,g.pc)(B.progress) && .01 < (0,f.Ega)(z.progress - B.progress) || z.Bs !== B.Bs) && q.set(z);}q=l.PJa;u=0;l.state.addListener(function(){p();r();},d.vCa);l.Wb.addListener(function(z){if(z.oldValue !== k.Kb.Yg || z.newValue !== k.Kb.Yg)u=(0,c.bx)();p();});l.ee.addListener(function(){p();});l.et.addListener(function(){p();});l.en.addListener(function(){p();});y || (y=setInterval(r,100));};d=a(33096);n=a(29204);c=a(24066);h=a(8825);f=a(22365);e=a(32219);g=a(32687);k=a(85001);},13044:function(t,b,a){var n,c;function d(h,f){var e;e=b.Ip[0];e == f && (e=b.Ip[1]);e?e.close(function(){d(h,f);}):h && h(n.Bh);}Object.defineProperty(b,"__esModule",{value:!0});b.icb=b.gcb=b.wDa=b.xDa=b.Qy=b.yDa=b.hcb=b.ADa=b.zDa=b.Ip=void 0;b.jcb=d;b.dYb=function(h,f){switch(h){case b.hcb:b.zDa.push(f);return;case b.yDa:b.ADa.push(f);return;}(0,c.ta)(!1);};b.BDa=function(){return b.Qy.Taa && b.Ip.includes(b.Qy.Taa)?b.Qy.Taa:void 0;};n=a(33096);c=a(45146);b.Ip=[];b.zDa=[];b.ADa=[];b.hcb=1;b.yDa=3;b.Qy={index:0,Taa:void 0,aOa:void 0};b.xDa="network";b.wDa="media";b.gcb="timedtext";b.icb="playback";},30689:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});d=a(29204);n=a(33096);t=a(36129);c=a(31276);b=a(11479);h=a(66476);c.Wa.get(b.Oj).register(t.ca.p8a,function(e){var g,k,l;if(d.config.ay){g=(0,c.Fm)("PlayerPredictionModel");k=c.Wa.get(h.ON);l=a(99886);g.log=g.trace.bind(g);f=new l({},g,{pca:function(){},wJc:function(){}},k,{jS:function(){}});Ca._cad_global.playerPredictionModel=f;g.info("ppm v2 initialized");}e(n.Bh);});},22365:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yTa=b.localStorage=b.Fsc=b.indexedDB=b.lab=b.Cn=b.uI=b.EN=b.URL=b.Oga=b.nWb=b.y$a=b.x$a=b.Ega=b.Fga=b.BE=b.Ky=b.Ns=b.YVb=b.RU=b.Xeb=b.z5a=b.JWb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.uF=b.mWb=b.yi=b.GB=b.mab=b.vI=b.Nga=b.VU=void 0;t=Ca;b.tg=t.navigator;b.VU=null === b.tg || void 0 === b.tg?void 0:b.tg.userAgent;b.Nga=t.location;b.vI=t.screen;b.mab=t.devicePixelRatio;b.GB=t.performance;b.yi=t.document;b.mWb=b.yi.documentElement;b.uF=Array.prototype;b.sort=b.uF.sort;b.map=b.uF.map;b.slice=b.uF.slice;b.every=b.uF.every;b.reduce=b.uF.reduce;b.filter=b.uF.filter;b.forEach=b.uF.forEach;b.pop=b.uF.pop;b.JWb=Object.create;b.z5a=Date.now;b.Xeb=String.fromCharCode;b.RU=Math.floor;b.YVb=Math.ceil;b.Ns=Math.round;b.Ky=Math.max;b.BE=Math.min;b.Fga=Math.random;b.Ega=Math.abs;b.x$a=Math.pow;b.y$a=Math.sqrt;b.nWb=t.escape;b.Oga=t.unescape;b.URL=t.URL || t.webkitURL;b.EN=t.MediaSource || t.WebKitMediaSource;b.uI=t.webkitCrypto || t.msCrypto || t.crypto;b.Cn=b.uI && (b.uI.webkitSubtle || b.uI.subtle);b.lab=t.webkitCryptokeys || t.msCryptokeys || t.cryptokeys;try{b.indexedDB=t.indexedDB;}catch(a){b.Fsc=a || "noex";}try{b.localStorage=t.localStorage;}catch(a){b.yTa=a || "noex";}},59416:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;d=a(29204);n=a(33096);c=a(50350);t=a(36129);h=a(75876);f=a(19630);e=a(31276);a=a(11479);b.storage=b.storage || void 0;e.Wa.get(a.Oj).register(t.ca.r8a,function(g){var k;switch(d.config.rPc){case "idb":k=h.nPc;break;case "none":k=c.pPc;break;case "ls":k=f.oPc;}k(function(l){l.success?(b.storage=l.storage,g(n.Bh)):g(l);});});},75876:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});b.nPc=function(f){d.Wa.get(n.aI).create().then(function(e){f({success:!0,storage:new h.LAa(e,d.Wa.get(c.cm))});}).catch(function(e){f(e);});};d=a(31276);n=a(17892);c=a(74870);h=a(6675);},19630:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});b.oPc=function(f){f({success:!0,storage:new d.LAa(n.Wa.get(c.Q9a),n.Wa.get(h.cm))});};d=a(6675);n=a(31276);c=a(56278);h=a(74870);},50350:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.pPc=function(h){var f;(0,n.Fm)("Storage");f={};h({success:!0,storage:{load:function(e,g){var k;if(f.hasOwnProperty(e)){k=f[e];!1;g({success:!0,data:k,hva:e});}else (!1,g({Sa:c.Y.KE}));},save:function(e,g,k,l){k && f.hasOwnProperty(e)?l({success:!1}):(f[e]=g,!1,l && l({success:!0,hva:e}));},remove:function(e,g){delete f[e];!1;g && g(d.Bh);}}});};d=a(33096);n=a(31276);c=a(36129);a(3887);},50040:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.kT=void 0;d=a(33096);n=a(29204);c=a(37509);h=a(24066);f=a(36129);e=a(45146);g=a(31276);k=a(3887);l=a(22365);m=a(59416);p=a(32687);t=a(11479);g.Wa.get(t.Oj).register(f.ca.s8a,function(r){var v,w,x;function q(){var y;q=d.wI;y=setInterval(u,n.config.pxc);c.re.addListener(c.Gm,function(z){z && z.isPopStateEvent?v.trace("popstate event, Lock timers can stay"):((0,k.hi)(w,function(B,A){localStorage.removeItem(A.Kx);}),clearInterval(y));},d.YU);}function u(){var y;y=(0,h.gnb)();(0,k.hi)(w,function(z,B){!1;z=localStorage.getItem(B.Kx);(z=JSON.parse(z))?z.updated=y:z={updated:y,sessionId:x,count:1};localStorage.setItem(B.Kx,JSON.stringify(z));});}(0,e.ta)(m.storage);v=(0,g.Fm)("StorageLock");w={};x=Date.now() + "-" + Math.floor(1E6 * Math.random());b.kT={oz:function(y,z,B){var C,D,F,G,E,H,J,L,K,M;function A(P){localStorage.setItem(F,JSON.stringify(P));P={Kx:F};w[F]=P;v.trace("Lock acquired",{Name:P.Kx});q();z({success:!0,eqa:P});}C=this;B=void 0 === B?!1:B;if(localStorage){D=(0,h.gnb)();F="lock-" + y;G={updated:D,sessionId:x,count:1};try{if((F in localStorage)){E=localStorage.getItem(F);H=0;J=JSON.parse(E);(0,p.MK)(J.updated) && (H=J.updated);L=(0,l.Ega)(D - H) * d.Uq;K=x === J.sessionId;if(L < n.config.vAb){if(K)(J.count+=1,v.debug("Incremented lock count for existing playbackSession",{id:x,count:J.count}),J.updated=D,A(J));else if(B){M=n.config.vAb - L + d.Uq;v.error("Waiting until current expiration to confirm whether lock is still active",{id:x,count:J.count,Epoch:D,LockEpoch:H,waitTimeoutMs:M});Ca.setTimeout(function(){return C.oz(y,z,!1);},M);}else z({success:!1});}else (v.error("Lock was expired or invalid, ignoring",{Epoch:D,LockEpoch:H}),A(G));}else A(G);}catch(P){v.error("Error acquiring Lock",{errorSubCode:f.Y.Sq,errorDetails:(0,k.Wi)(P)});z({success:!0});}}else (l.yTa?v.error("Local storage access exception",{errorSubCode:f.Y.dZb,errorDetails:(0,k.Wi)(l.yTa)}):v.error("No localstorage",{errorSubCode:f.Y.eZb}),z({success:!0}));},release:function(y,z){var B,A;(0,e.ta)(w[y.Kx] == y);if(localStorage){try{B=localStorage.getItem(y.Kx);A=JSON.parse(B);A && 1 < A.count?(--A.count,localStorage.setItem(y.Kx,JSON.stringify(A)),v.trace("Lock count decremented",{Name:y.Kx,count:A.count})):(localStorage.removeItem(y.Kx),delete w[y.Kx],v.trace("Lock released",{Name:y.Kx}));}catch(C){v.error("Unable to release Lock",{Name:y.Kx},C);}z && z(d.Bh);}}};n.config.zma?b.kT.oz("session",function(y){b.kT.cKb=y;r(d.Bh);}):r(d.Bh);});},991:function(t,b,a){var h,f,e,g;function d(k,l,m,p){var r,q,u;(0,h.ta)((0,g.mA)(k) && !(0,g.isArray)(k));p=p || "";r="";q=k.hasOwnProperty(e.Xea) && k[e.Xea];q && (0,f.hi)(q,function(v,w){r && (r+=" ");r+=v + '="' + c(w) + '"';});m=(l?l + ":":"") + m;q=p + "<" + m + (r?" " + r:"");u=k.hasOwnProperty(e.fE) && k[e.fE].trim && "" !== k[e.fE].trim() && k[e.fE];if(u)return q + ">" + c(u) + "</" + m + ">";k=n(k,l,p + "  ");return q + (k?">\n" + k + "\n" + p + "</" + m + ">":"/>");}function n(k,l,m){var p;(0,h.ta)((0,g.mA)(k) && !(0,g.isArray)(k));m=m || "";p="";(0,f.hi)(k,function(r,q){var w;if("$" != r[0])for(var u=(0,f.ZK)(q),v=0;v < u.length;v++)if((q=u[v],p && (p+="\n"),(0,g.mA)(q)))p+=d(q,l,r,m);else {w=(l?l + ":":"") + r;p+=m + "<" + w + ">" + c(q) + "</" + w + ">";}});return p;}function c(k){if((0,g.ji)(k))return (0,f.aRa)(k);if((0,g.pc)(k))return ((0,h.z7)(k,"Convert non-integer numbers to string for xml serialization."),"" + k);if(null === k || void 0 === k)return "";(0,h.ta)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.c7c=d;b.d7c=n;b.Fad=c;h=a(45146);f=a(3887);e=a(62604);g=a(32687);},62604:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.xEc=b.mQb=b.lQb=b.fE=b.i2a=b.kQb=b.Xea=void 0;b.ymc=function(c,h,f){for(var e=2;e < arguments.length;++e);for(e=1;(h=arguments[e++]) && (c=c[h]););return c;};b.p9c=function(c,h){var f;c?f=(0,d.Il)(c[b.fE]):void 0 !== h && (f=h);(0,n.z7)(f);return f;};b.sEc=function(c,h){var f;c?f=c[b.fE]:void 0 !== h && (f=h);(0,n.lpb)(f);return f;};b.K7c=function(c,h){var f;f={};f[b.Xea]=c;f[b.fE]=h;return f;};d=a(3887);n=a(45146);b.Xea="$attributes";b.kQb="$children";b.i2a="$name";b.fE="$text";b.lQb="$parent";b.mQb="$sibling";b.xEc=/^\s*<\?xml.*\?>/i;},84281:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.YUc=function(e,g){var k,l;try{l=(0,c.ZUc)(e);}catch(m){d.log.error("xml2xmlDoc exception",m);}(0,f.Gh)(function(){if(l && l.documentElement)try{k=(0,h.$Uc)(l);}catch(m){d.log.error("xmlDoc2js exception",m);}(0,f.Gh)(function(){k?g({success:!0,object:k}):g({success:!1,Sa:n.Y.KTb});});});};d=a(31276);n=a(36129);c=a(78857);h=a(74413);f=a(32219);},78857:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.ZUc=function(c){var h,f;if((0,n.nZ)(c)){h=new DOMParser().parseFromString(c,"text/xml");f=h.getElementsByTagName("parsererror");if(f && f[0]){try{d.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(f[0]),xmlData:c.slice(0,300),fileSize:c.length});}catch(e){}throw Error("xml parser error");}return h;}throw Error("bad xml text");};d=a(31276);n=a(32687);},74413:function(t,b,a){var n;function d(c){var h,f,e,g,k,l,m;f={};f[n.i2a]=c.localName;e={};f[n.Xea]=e;g=[];f[n.kQb]=g;k=c.attributes;l=k.length;for(h=0;h < l;h++){m=k[h];e[m.localName]=m.value;}c=c.childNodes;l=c.length;e={};for(h=0;h < l;h++)switch((k=c[h],k.nodeType)){case b.pQb:k=d(k);m=k[n.i2a];k[n.lQb]=f;g.push(k);f[m]?e[m][n.mQb]=k:f[m]=k;e[m]=k;break;case b.qQb:case b.nQb:(k=k.text || k.nodeValue,g.push(k),f[n.fE] || (f[n.fE]=k));}return f;}Object.defineProperty(b,"__esModule",{value:!0});b.oQb=b.nQb=b.qQb=b.aVc=b.pQb=void 0;b.$Uc=function(c){return d(c.nodeType == b.oQb?c.documentElement:c);};b.Abd=d;n=a(62604);b.pQb=1;b.aVc=2;b.qQb=3;b.nQb=4;b.oQb=9;},87886:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x;Object.defineProperty(b,"__esModule",{value:!0});b.vh=void 0;t=a(22674);d=a(58252);n=a(60443);c=a(32050);h=a(62468);f=a(75864);e=a(45716);g=a(99282);k=a(52531);l=a(88063);m=a(79054);p=a(56190);r=a(69751);q=a(62665);u=a(7342);v=a(82585);w=a(76409);x=a(69882);b.vh=new t.we(function(y){y(d.TDa).to(n.SDa).pa();y(c.$Da).to(h.ZDa).pa();y(f.r4).to(e.QDa).pa();y(k.IN).to(g.ODa).pa();y(w.Ncb).to(x.YDa).pa();y(l.Icb).to(m.VDa).pa();y(p.Kcb).Pf(function(z){var B;B=z.Gb;return function(A){return new r.Lcb(A,B.get(w.Ncb),B.get(q.xE),B.get(k.IN));};});y(u.n9a).Pf(function(z){var B;B=z.Gb;return function(A,C,D){return new v.o9a(A,C,D,B.get(k.IN),B.get(f.r4));};});});},7342:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.n9a="LegacyPostPlayShimFactorySymbol";},52531:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.IN="PlaygraphConfigSymbol";},75864:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.s4={};t.BYc="ident";t.oBa="main";t.I4a="credits";b.r4="PlaygraphHelperSymbol";},58252:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.TDa="PlaygraphManagerFactorySymbol";},88063:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Icb="PlaygraphPlaybackStrategyFactorySymbol";},56190:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kcb="PlaygraphStateFactorySymbol";},76409:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ncb="PlaygraphUtilsSymbol";},32050:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Da="PlaygraphVideoPlayerFactorySymbol";},56819:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.QN={};t[t.Gab=0]="None";t[t.Z6a=1]="Fetching";t[t.iTb=2]="Done";t[t.Error=3]="Error";},82585:function(t,b,a){var n,c;function d(h,f,e,g,k){this.Gj=h;this.vh=f;this.log=e;this.Xk=g;this.wq=k;this.Lsa=new n.GDa();}Object.defineProperty(b,"__esModule",{value:!0});b.o9a=void 0;n=a(81889);c=a(75864);d.prototype.l3b=function(h){var f,e,g,k,l,m,p;this.log.info("Next episode added",h);m=this.Lsa.VTa(h.playbackParams);p=Math.max(0,null !== (g=null !== (e=null !== (f=h.startPts) && void 0 !== f?f:h.nextStartPts) && void 0 !== e?e:m.Eb) && void 0 !== g?g:0);f=null !== (l=null !== (k=h.endPts) && void 0 !== k?k:h.currentEndPts) && void 0 !== l?l:m.cj;return this.vh.$3b({R:h.movieId,Eb:p,cj:f,Bb:m,S:h.manifest,Gj:this.Gj});};d.prototype.$Ec=function(h){var f,e,g,k,l,m;h=this.Lsa.VTa(h);this.log.info("Playing the next episode",h);g=this.vh.Ptb();k=this.vh.pQ();l=k.ba[g];m=Object.keys(null !== (f=l.next) && void 0 !== f?f:{}).find(function(p){return l.J !== k.ba[p].J;});f=!this.Xk.Usa || !(null === (e=h.Eq) || void 0 === e?0:e.isUIAutoPlay);return m?this.vh.DQa(g,m,h,f):Promise.reject(Error("Next episode not found"));};d.prototype.xUc=function(h){var f,e;f=this.wq.ox(h,c.s4.oBa);h=this.wq.ox(h,c.s4.I4a);e=this.vh.wb;this.Xk.Usa && e.ei !== h && e.ZL(h) && e.n9(f) !== h && this.vh.bn({L:f,f_:h});};b.o9a=d;},65473:function(t,b,a){var n;function d(c,h,f,e,g){var k;k=this;this.wb=c;this.Ql=h;this.bu=f;this.jc=e;this.wq=g;this.Xsa=new Map();this.qNc();this.jc.addListener(n.Za.loaded,function(){return k.nGb();});}Object.defineProperty(b,"__esModule",{value:!0});b.DN=void 0;n=a(85001);d.prototype.Qjb=function(c){var h,f;h=this;f=Object.keys(this.wb.Sm.ba).find(function(e){return h.wb.Sm.ba[e].J === c.R;});c.id || (c.id=null !== f && void 0 !== f?f:this.wq.ox(c.R));f || (this.wb.Sm=this.wq.R4b(this.wb.Sm,c));f=this.kS(c.id);c.cj && this.wb.JOb(c.id,c.cj);return f;};d.prototype.RNb=function(){return Promise.reject(Error("Error isn't recoverable"));};d.prototype.EQa=function(c,h){var f;f=this;h=void 0 === h?{}:h;return this.bu.transition(c,h).then(function(){f.wb.ei=c;});};d.prototype.close=function(c){return this.bu.close(c);};d.prototype.Tr=function(){return this.bu.fpc();};d.prototype.jq=function(){return this.bu.jq();};d.prototype.rG=function(){return this.bu.rG();};d.prototype.kS=function(c){this.Xsa.has(c) || this.Xsa.set(c,this.bu.Rf(this.q7b(c)));return this.Xsa.get(c);};d.prototype.qNc=function(){var c;c=this;this.bu.addListener(n.dV.Uca,function(h){return c.jc.kd(n.dV.Uca,h);});Object.values(n.Za).forEach(function(h){c.bu.addListener(h,function(f){return c.jc.kd(h,f);});});};d.prototype.lD=function(){this.nGb();};d.prototype.FVa=function(c){this.bu.GOb({id:c,R:this.wb.Bt(c).J,cj:this.wb.Dpc(c)});};d.prototype.JR=function(){};d.prototype.nGb=function(){var c,h;if(this.Tr()){c=this.wb.ei;h=this.wb.n9(c);h && !this.Xsa.has(h) && (this.FVa(c),this.kS(h));}};d.prototype.q7b=function(c){var h,f,e,g;f=this.wb.Bt(c);e=this.Ql.xQ(f.J);g=null === e || void 0 === e?void 0:e.Bb;e=null === e || void 0 === e?void 0:e.S;return {id:c,R:f.J,sf:f.ap,Eb:f.eb,cj:null !== (h=null === g || void 0 === g?void 0:g.cj) && void 0 !== h?h:f.ib,Bb:g,S:e};};b.DN=d;},99282:function(t,b,a){var n,c,h,f,e;function d(g){return c.Gf.call(this,g,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ODa=void 0;t=a(22970);n=a(22674);c=a(64174);h=a(83767);f=a(12501);e=a(5021);Ia(d,c.Gf);Ha.Object.defineProperties(d.prototype,{hGc:{configurable:!0,enumerable:!0,get:function(){return 2;}},gGc:{configurable:!0,enumerable:!0,get:function(){return (0,e.zUa)(3);}},F1a:{configurable:!0,enumerable:!0,get:function(){return !1;}},bwa:{configurable:!0,enumerable:!0,get:function(){return !1;}},ePb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Tsb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Usa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=d;b.ODa=a;t.__decorate([f.config(f.uy,"prepareSegmentsUpfront")],a.prototype,"hGc",null);t.__decorate([f.config(f.Sn,"prepareSegmentsDuration")],a.prototype,"gGc",null);t.__decorate([f.config(f.jd,"usePlaygraphForPostPlay")],a.prototype,"F1a",null);t.__decorate([f.config(f.jd,"usePlaygraphForSkipSegment")],a.prototype,"bwa",null);t.__decorate([f.config(f.jd,"useSinglePlayerPlayback")],a.prototype,"ePb",null);t.__decorate([f.config(f.jd,"forcePlaygraphTrace")],a.prototype,"Tsb",null);t.__decorate([f.config(f.jd,"postPlayDefaultNextEpisode")],a.prototype,"Usa",null);b.ODa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.uo))],a);},45716:function(t,b,a){var n,c,h;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.QDa=void 0;t=a(22970);n=a(75864);c=a(22674);h=a(79048);d.prototype.fdc=function(f){var k,l,m;for(var e=[],g=0;g < arguments.length;++g)e[g - 0]=arguments[g];k=this;if(0 === e.length)throw Error("Empty playgraph");l=new h.Ew().BH(this.ox(e[0]));e.reverse().forEach(function(p){var r;r=k.ox(p);l.Rf(r,Object.assign({J:p,eb:0,ib:Infinity},m?{Dc:m}:{}));m=r;});return l.build();};d.prototype.ox=function(f,e){e=void 0 === e?n.s4.oBa:e;return f + ":" + e;};d.prototype.R4b=function(f,e){var g,k,l,m;if(void 0 === l)l=null !== (g=e.id) && void 0 !== g?g:this.ox(e.R);g=this.rub(f);m=new h.Ew(f);m.Rf(l,{J:e.R,eb:null !== (k=e.Eb) && void 0 !== k?k:0,ib:Infinity});f=f.ba[g];e={};m.Rf(g,Object.assign({},f,{Dc:l,next:Object.assign({},f.next || ({}),(e[l]={},e))}));return m.build();};d.prototype.rub=function(f){for(var e=f.lf,g=e;g=f.ba[g].Dc;)e=g;return e;};a=d;b.QDa=a;b.QDa=a=t.__decorate([(0,c.$)()],a);},60443:function(t,b,a){var n,c,h,f,e,g,k,l,m;function d(p,r,q,u,v,w,x){this.fh=p;this.wNa=r;this.Xk=q;this.P0a=u;this.tFc=v;this.vFc=w;this.uFc=x;}Object.defineProperty(b,"__esModule",{value:!0});b.SDa=void 0;t=a(22970);n=a(22674);c=a(9862);h=a(87386);f=a(52531);e=a(44720);g=a(88063);k=a(25830);l=a(56190);a=a(32050);d.prototype.create=function(p){return new c.Fcb(p,this.fh,this.wNa,this.Xk,this.P0a,this.tFc,this.vFc,this.uFc);};m=d;b.SDa=m;b.SDa=m=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.yb)),t.__param(1,(0,n.u)(e.N2)),t.__param(2,(0,n.u)(f.IN)),t.__param(3,(0,n.u)(k.Dfb)),t.__param(4,(0,n.u)(g.Icb)),t.__param(5,(0,n.u)(l.Kcb)),t.__param(6,(0,n.u)(a.$Da))],m);},9862:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m,p,r,q,u,v,w){this.P0a=q;this.R1a=w;r.bwa && (l=new h.Gcb().ARc(l));this.wb=v(l);this.Ql=new c.Ocb(this.wb);this.Ql.kKb(this.wb.ga.J);this.log=m.ub("PlaygraphManager");this.jc=p.create();this.$x=u.create(this.wb,this.Ql,this.log,this.jc);this.rNc();this.sNc();}Object.defineProperty(b,"__esModule",{value:!0});b.Fcb=void 0;n=a(85001);c=a(98899);h=a(15645);f=a(5021);e=a(33096);g=a(31276);k=a(45842);d.prototype.sNc=function(){var l,m,p;l=this;try{if(null !== (m=navigator.mediaSession) && void 0 !== m && m.setActionHandler){p=g.Wa.get(k.EI)((0,f.ec)(500));navigator.mediaSession.setActionHandler("play",function(){p.ag(function(){l.Nb().play();});});navigator.mediaSession.setActionHandler("pause",function(){p.ag(function(){l.Nb().pause();});});navigator.mediaSession.setActionHandler("seekbackward",function(){p.ag(function(){var r,q;r=l.Nb();q=r.Sz();q && r.seek(Math.max(0,q - 10 * e.Uq),n.Jc.tu);});});navigator.mediaSession.setActionHandler("seekforward",function(){p.ag(function(){var r,q,u;r=l.Nb();q=r.Sz();u=r.fK();q && r.seek(Math.min(q + 10 * e.Uq,u),n.Jc.tu);});});navigator.mediaSession.setActionHandler("seekto",function(r){p.ag(function(){var q;q=l.Nb();r.dZa && 0 <= r.dZa && r.dZa < q.fK() && q.seek(r.dZa * e.Uq,n.Jc.tu);});});navigator.mediaSession.setActionHandler("previoustrack",null);navigator.mediaSession.setActionHandler("nexttrack",null);}}catch(r){this.log.error("Error setting up MediaSession",r);}};d.prototype.Soc=function(){return this.wb.Rm;};d.prototype.wna=function(){return this.wb.ga;};d.prototype.Ptb=function(){return this.wb.ei;};d.prototype.pQ=function(){return this.wb.Sm;};d.prototype.bn=function(l){for(var m=[],p=0;p < arguments.length;++p)m[p - 0]=arguments[p];this.wb.bn.apply(this.wb,Aa(m));};d.prototype.V9b=function(l){for(var m=[],p=0;p < arguments.length;++p)m[p - 0]=arguments[p];this.wb.Pkb(m);};d.prototype.FM=function(l){this.wb.Sm=l;};d.prototype.Roc=function(){return this.wb.Ssa.HY();};d.prototype.fl=function(l,m){this.wb.fl(l,m);};d.prototype.DQa=function(l,m,p,r){var q,u;p=void 0 === p?{}:p;r=void 0 === r?!0:r;if(l !== this.wb.ei)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (q=this.pQ().ba[l].next) && void 0 !== q?q:{}).indexOf(m))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + l + " -> " + m);null === (u=p.Eq) || void 0 === u?void 0:u.isUIAutoPlay;return this.$x.EQa(m,p,r);};d.prototype.Bvb=function(){var l,m;l=this.$x.rG().lG();m=this.wb.ga.eb;return l?l - m:void 0;};d.prototype.Toc=function(){var l,m;l=this.wb.Ssa.HY(this.wb.ei);m=this.Bvb();return l && m?l + m:void 0;};d.prototype.Tr=function(){return this.$x.Tr();};d.prototype.addListener=function(l,m,p){this.jc.addListener(l,m,p);};d.prototype.removeListener=function(l,m){this.jc.removeListener(l,m);};d.prototype.jq=function(){return this.$x.jq();};d.prototype.Nb=function(){return this.$x.rG();};d.prototype.hdc=function(l,m,p){var r;l=void 0 === l?this.pQ().lf:l;m=void 0 === m?{}:m;r=this.R1a.Job(this);this.aGc(null !== l && void 0 !== l?l:this.pQ().lf,m,p);return r;};d.prototype.$3b=function(l){var m;this.log.info("Adding segment - movieId: " + l.R + ", startPts: " + l.Eb + ", logicalEnd: " + l.cj);m=Object.assign({},l.Bb,l.Eb?{Eb:l.Eb}:{},l.cj?{cj:l.cj}:{});this.YLb(l.R,m,l.S);return this.$x.Qjb(l);};d.prototype.transition=function(l){var m;m=this.wb.n9(this.wb.ei);return m?this.DQa(this.wb.ei,m,l):(this.log.error("Next segment is not defined"),Promise.reject());};d.prototype.close=function(l){return this.$x.close(l);};d.prototype.aGc=function(l,m,p){var r;void 0 === l && (l=null === (r=this.pQ()) || void 0 === r?void 0:r.lf);(m || p) && this.YLb(this.pQ().ba[l].J,null !== m && void 0 !== m?m:{},p);this.$x.kS(l);};d.prototype.YLb=function(l,m,p){p && this.Ql.iJ(l,p);this.Ql.G3b(l,m);};d.prototype.rNc=function(){var l;l=this;this.wb.TPc(function(){l.Ql.lD();l.$x.lD();});this.wb.UPc(function(m){l.$x.FVa(m);});this.wb.SPc(function(m){l.$x.JR(m);});this.addListener(n.dV.Uca,function(m){return l.MCc(m);});this.addListener(n.Za.Nxb,function(m){return l.yCc(m);});};d.prototype.yCc=function(l){var m;m=this;this.$x.RNb(l).catch(function(){return m.jc.kd(n.Za.error,l.eea());});};d.prototype.MCc=function(l){var m,p,r;m=this;p=this.Nb().getError();if(p)this.jc.kd(n.Za.xW,p);else {l=l.player;p=l.jq().id;if(!this.Xob || this.Xob !== p){r=function(q){return m.HA(q);};this.Nb().RHb(n.ja.$L,r);l.FIa(n.ja.$L,r);this.Xob=p;}this.jc.kd(n.Za.oka);this.jc.kd(n.Za.Rp);this.jc.kd(n.Za.pB);this.jc.kd(n.Za.wp);this.jc.kd(n.Za.oea);this.jc.kd(n.Za.xW);}};d.prototype.HA=function(l){var m,p,r;!1;m=l.metrics;if(m){p=this.Nb();r=p.Dl(l.position.segmentId);m=p.Dl(m.srcsegment);this.P0a.hHc(l,r,m,!!p.dvb().Hg);}};b.Fcb=d;},15645:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Gcb=void 0;n=a(79048);d.prototype.ARc=function(c){var h;if(!this.Guc(c.ba))return c;h=new n.Ew().BH(c.lf);Object.entries(c.ba).forEach(function(f){var e;e=Fa(f);f=e.next().value;e=e.next().value;f === c.lf?h.Rf(f,Object.assign(Object.assign({},e),{next:void 0,ib:void 0,Dc:void 0})):h.Rf(f,e);});return h.build();};d.prototype.Guc=function(c){c=Object.values(c).map(function(h){return h.J;});return 1 === new Set(c).size;};b.Gcb=d;},79054:function(t,b,a){var n,c,h,f,e,g,k,l,m,p;function d(r,q,u,v,w,x,y){this.Ua=r;this.zLc=u;this.Xk=w;this.wq=y;this.uLc=q.hQ(!1,"6.0053.800.912",r.id,x,v);}Object.defineProperty(b,"__esModule",{value:!0});b.VDa=void 0;t=a(22970);n=a(22674);c=a(81918);h=a(52531);f=a(88574);e=a(93488);g=a(2911);k=a(4203);l=a(65473);m=a(63368);a=a(75864);d.prototype.create=function(r,q,u,v){var w,x;w=this.zLc.Occ(r,this.uLc,q);x=r.G1a;u.debug("Using " + (x?"single":"multiple") + " player playback strategy");return x?new f.Ceb(this.Xk,r,q,u,w,v,this.wq):new l.DN(r,q,w,v,this.wq);};p=d;b.VDa=p;b.VDa=p=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.$d)),t.__param(1,(0,n.u)(e.keb)),t.__param(2,(0,n.u)(g.QEa)),t.__param(3,(0,n.u)(k.Fc)),t.__param(4,(0,n.u)(h.IN)),t.__param(5,(0,n.u)(m.fha)),t.__param(6,(0,n.u)(a.r4))],p);},69751:function(t,b,a){var n,c;function d(h,f,e,g){this.Ssa=f;this.fA=e;this.Xk=g;this.dja={};this.wOb=[];this.oLb=[];this.TCb=[];this.fJa=new WeakMap();this.reset(h);}Object.defineProperty(b,"__esModule",{value:!0});b.Lcb=void 0;n=a(79048);c=a(79048);d.prototype.reset=function(h){var f;f=1 < Object.keys(h.ba).length && 1 === new Set(Object.values(h.ba).map(function(e){return e.J;})).size;this.s2b=this.Xk.ePb || f;this.zKb(h);this.ei=h.lf;this.sHa=this.fA.NF();this.v_a=new Map();};d.prototype.oQ=function(h){if(this.G1a)return this.Sm;this.fJa.has(h) || this.fJa.set(h,(0,n.s_a)(h.R,h.L));return this.fJa.get(h);};d.prototype.zKb=function(h){this.xo=h;this.dja={};h=Object.keys(h.ba);this.Pkb(h);this.Ssa.YSc(this.xo);this.fBc();};d.prototype.bn=function(h){var g;for(var f=[],e=0;e < arguments.length;++e)f[e - 0]=arguments[e];g=this;f.filter(function(k){return g.ZL(k.L);}).filter(function(k){k=k.f_;return !k || g.ZL(k);}).forEach(function(k){var l;l=k.L;g.dja[l]=g.pDb(k.f_);g.aBc(l);});};d.prototype.Pkb=function(h){var f;f=this;h.filter(function(e){return f.ZL(e);}).forEach(function(e){f.dja[e]=f.pDb(f.Bt(e).Dc);});};d.prototype.fl=function(h,f){var e,g,k;e=this.Bt(h);if(e && e.next){g=new c.Ew(this.Sm);k=Object.keys(e.next).reduce(function(l,m){l[m]=void 0 === f[m]?e.next[m]:Object.assign({},e.next[m],{weight:f[m]});return l;},{});k=Object.assign({},e,{next:k});g.Rf(h,k);this.Sm=g.build();}};d.prototype.ZL=function(h,f){f=void 0 === f?this.Sm.ba:f;return (h in f);};d.prototype.n9=function(h){return this.dja[h];};d.prototype.Bt=function(h){return this.Sm.ba[h];};d.prototype.Dpc=function(h){if(this.v_a.has(h))return this.v_a.get(h);h=this.Bt(h);return isFinite(h.ib)?h.ib:void 0;};d.prototype.JOb=function(h,f){this.v_a.set(h,f);this.dBc(h);};d.prototype.TPc=function(h){this.wOb.push(h);};d.prototype.UPc=function(h){this.oLb.push(h);};d.prototype.SPc=function(h){this.TCb.push(h);};d.prototype.iZ=function(){var h;h=void 0 === h?this.Sm:h;return Object.values(h.ba).every(function(f){return void 0 !== f.ap;}) && 1 < Object.values(h.ba).length;};d.prototype.fBc=function(){var h;h=this;this.wOb.forEach(function(f){return f(h.Sm);});};d.prototype.aBc=function(h){this.TCb.forEach(function(f){return f(h);});};d.prototype.dBc=function(h){this.oLb.forEach(function(f){return f(h);});};d.prototype.pDb=function(h){return null === h?void 0:h;};Ha.Object.defineProperties(d.prototype,{Rm:{configurable:!0,enumerable:!0,get:function(){return this.sHa;}},G1a:{configurable:!0,enumerable:!0,get:function(){return this.s2b;}},Sm:{configurable:!0,enumerable:!0,get:function(){return this.xo;},set:function(h){if(this.ei && !this.ZL(this.ei,h.ba))throw Error("Provided playgraphMap does not contain the current segmentId " + this.ei);this.zKb(h);}},ei:{configurable:!0,enumerable:!0,get:function(){return this.N_b;},set:function(h){if(!this.ZL(h))throw Error("Provided currentSegmentId " + h + " does not exist in the current playgraph");this.N_b=h;}},ga:{configurable:!0,enumerable:!0,get:function(){return this.Bt(this.ei);}}});b.Lcb=d;},69882:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.YDa=void 0;t=a(22970);n=a(45146);a=a(22674);d.prototype.YSc=function(h){this.xo=h;this.JAb=this.Ncc(this.xo.ba[this.xo.lf].ap);};d.prototype.HY=function(h){var k;(0,n.ta)(this.xo,"Playgraph should be initialized");for(var f=this.xo.lf,e=0,g=new Set();f && !g.has(f);){k=this.xo.ba[f];if(!k || !k.ib)break;if(h && h === f)break;e+=k.ib - k.eb;g.add(f);f=k.Dc;}return e;};d.prototype.ALc=function(h,f,e){var g,k,l,m,p;(0,n.ta)(this.xo,"Playgraph should be initialized");l=this.xo.ba[f];m=this.HY(f);p=l.ap;if(l && void 0 !== p && void 0 !== m){m=m + h - l.eb;if(p === l.J)return h;h=null === (g=this.JAb.get(f)) || void 0 === g?void 0:g.before;f=null === (k=this.JAb.get(f)) || void 0 === k?void 0:k.after;k=h?this.xo.ba[h].ib:0;e=f?this.xo.ba[f].eb:e;g=h?this.HY(h) + this.xo.ba[h].ib - this.xo.ba[h].eb:0;f=f?this.HY(f):this.HY();if(void 0 != k && void 0 != e && void 0 != g && void 0 != f)return k + (m - g) * (e - k) / (f - g);}};d.prototype.Ncc=function(h){var m;(0,n.ta)(this.xo,"Playgraph should be initialized");for(var f,e=this.xo.lf,g=[],k=new Map(),l=new Set();e && !l.has(e);){m=this.xo.ba[e];m.J === h?(k.set(e,{before:e,after:e}),f=e,g.forEach(function(p){if(p=k.get(p))p.after=f;}),g=[]):(k.set(e,{before:f,after:void 0}),g.push(e));e=m.Dc;}return k;};c=d;b.YDa=c;b.YDa=c=t.__decorate([(0,a.$)()],c);},62468:function(t,b,a){var n,c,h,f;function d(e,g){this.Ua=e;this.Pvc=g;}Object.defineProperty(b,"__esModule",{value:!0});b.ZDa=void 0;t=a(22970);n=a(22674);c=a(81918);h=a(7342);d.prototype.create=function(e){return new (a(58343).eia)(this.Ua.wc(),e);};d.prototype.Job=function(e){return new (a(64059).nfa)(this.Ua.wc(),e,this.Pvc);};f=d;b.ZDa=f;b.ZDa=f=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.$d)),t.__param(1,(0,n.u)(h.n9a))],f);},98899:function(t,b,a){var n;function d(c){this.Z=c;this.L1={};this.lD();}Object.defineProperty(b,"__esModule",{value:!0});b.Ocb=void 0;n=a(56819);d.prototype.lD=function(){var c;c=this;Object.values(this.Z.Sm.ba).forEach(function(h){h=h.J;c.L1[h] || c.Cxb(h);});this.Uva();};d.prototype.xQ=function(c){return this.L1[c];};d.prototype.zMc=function(c){this.q9(c).state=n.QN.Z6a;this.Uva();};d.prototype.yMc=function(c,h){c=this.q9(c);c.state=n.QN.Error;c.error=h;c.AIb(!1);this.Uva();};d.prototype.kKb=function(c){c=this.q9(c);c.state=n.QN.iTb;c.AIb(!0);this.Uva();};d.prototype.G3b=function(c,h){this.q9(c).Bb=h;};d.prototype.iJ=function(c,h){this.q9(c).S=h;};d.prototype.q9=function(c){var h;return null !== (h=this.xQ(c)) && void 0 !== h?h:this.Cxb(c);};d.prototype.Cxb=function(c){var h,f;h=void 0;f=new Promise(function(e,g){h=function(k){(k?e:g)();};});return this.L1[c]={state:n.QN.Gab,VHc:f,AIb:h};};d.prototype.Uva=function(){var h;for(var c=this.Z.ei;c=this.Z.n9(c);){h=this.Jf(c);if(this.L1[h].state === n.QN.Error)break;if(this.L1[h].state === n.QN.Z6a)break;if(this.L1[h].state === n.QN.Gab)break;}};d.prototype.Jf=function(c){return this.Z.Sm.ba[c].J;};b.Ocb=d;},88574:function(t,b,a){var n,c,h,f,e;function d(g,k,l,m,p,r,q){var u;u=f.DN.call(this,k,l,p,r,q) || this;u.Xk=g;u.va=m;u.bu=p;u.Fsb=!1;u.pNa=new Map();u.DCc=function(){u.rG().FIa(c.ja.$L,function(v){u.jc.kd(c.dV.Uca,{player:u.bu.rG()});u.wb.ei=v.position.segmentId;});};u.Isc();r.addListener(c.Za.loaded,u.DCc);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Ceb=void 0;n=a(79048);c=a(85001);h=a(36129);f=a(65473);e=a(75864);Ia(d,f.DN);d.prototype.Qjb=function(g){var k,l,m,p,r,q,u,v,w,x,y;k=this;m=this.wb.Sm;p=this.wq.ox(g.R,"ident");r=this.wq.ox(g.R,"main");q=this.wq.ox(g.R,"credits");u=isFinite(g.cj);v=isFinite(g.Eb) && g.R !== m.ba[m.lf].J;w={};x=new n.Ew(m).Rf(r,Object.assign({J:g.R,eb:v && g.Eb || 0,ib:null !== (l=g.cj) && void 0 !== l?l:Infinity},u?{next:(w[q]={},w),Dc:q}:{}));v && (l={},x.Rf(p,{J:g.R,eb:0,ib:g.Eb,next:(l[r]={},l),Dc:r}));u && x.Rf(q,{J:g.R,eb:g.cj,ib:Infinity});if(!this.wb.ZL(r)){g=m.ba[this.wq.rub(m)].J;y=this.wq.ox(g,e.s4.I4a);[this.wq.ox(g,e.s4.oBa),y].filter(function(z){return k.wb.ZL(z);}).forEach(function(z){var B,A,C;B=k.wb.Bt(z);A=z === y || k.Xk.Usa;C={};x.Rf(z,Object.assign({},B,{next:Object.assign({},B.next,(C[r]={},C))},A?{Dc:r}:{}));});}this.wb.Sm=x.build();return this.kS(r);};d.prototype.lD=function(){this.Tr() && this.rG().lD();};d.prototype.FVa=function(){};d.prototype.JR=function(g){this.rG().JR(g);};d.prototype.EQa=function(g,k,l){k=void 0 === k?{}:k;this.va.debug("goToSegment " + g);return this.rG().J9(g,k,l);};d.prototype.kS=function(g){if(g === this.tLc)return null;this.tLc=g;return this.Fsb?this.Ql.xQ(this.wb.Bt(g).J).VHc:(this.Fsb=!0,f.DN.prototype.kS.call(this,g));};d.prototype.RNb=function(g){return g.errorCode && this.pNa.has(g.errorCode)?this.pNa.get(g.errorCode)(g):Promise.reject(Error("Error " + g.errorCode + " isn't recoverable"));};d.prototype.Isc=function(){var g;g=this;this.pNa.set(h.ca.pbb,function(){var k,l;return null !== (l=null === (k=f.DN.prototype.kS.call(g,g.wb.ei)) || void 0 === k?void 0:k.then(function(){var m,p;f.DN.prototype.EQa.call(g,g.wb.ei,null !== (p=null === (m=g.Ql.xQ(g.wb.ga.J)) || void 0 === m?void 0:m.Bb) && void 0 !== p?p:{});})) && void 0 !== l?l:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.Ceb=d;},32754:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});b.NGb=void 0;t=a(22674);d=a(69493);n=a(28978);c=a(98166);h=a(660);b.NGb=new t.we(function(f){f(d.V5a).to(n.Mya).pa();f(c.q9a).to(h.PAa).pa();});},82100:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.d8a=b.Kdb=b.wE=b.O7a=b.Lha=b.Kha=b.sgb=b.tgb=b.xXb=b.tza=b.TEMPORARY=b.nE=void 0;b.Jub=function(c){var h;h=c.getConfiguration();return [b.wE,b.Lha,b.Kha].find(function(f){var e;return null === (e=h.videoCapabilities) || void 0 === e?void 0:e.some(function(g){return g.robustness === f;});});};b.MPa=function(c){var h,f,e,k;try{f=c.match(/\(hr=([0-9a-fA-F]+)\)/);if(f && f[1]){e=parseInt(f[1],16);if((0,d.pc)(e))return e;}f=/\((\d[^)]+)\)/g;for(var g;g=f.exec(c);){k=Number(g[1]);(0,d.pc)(k) && (h=k);}}catch(l){}return h;};b.byb=function(c){return n.je.lj.test(c);};b.Gnb=function(c){return c.robustness?c.keySystem + "." + c.robustness:c.keySystem;};d=a(32687);n=a(22210);b.nE="cenc";b.TEMPORARY="temporary";b.tza="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.xXb="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.tgb="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.sgb="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.Kha="SW_SECURE_CRYPTO";b.Lha="SW_SECURE_DECODE";b.O7a="HW_SECURE_DECODE";b.wE="HW_SECURE_ALL";b.Kdb={Kha:"SW_SECURE_CRYPTO",Lha:"SW_SECURE_DECODE",O7a:"HW_SECURE_DECODE",wE:"HW_SECURE_ALL"};b.d8a=[b.wE];},56039:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.nPa=function(n){var c;c={};try{n.forEach(function(h){var f,e;if(h.tP){for(var g=(0,d.eC),k=h.tP,l=0,m=new Uint8Array(16),p=0;p < k.length;p+=2)m[l++]=parseInt(k.slice(p,p + 2),16);g=g(m);h=null !== (f=h.height) && void 0 !== f?f:h.yYa;c[g]=Math.max(h,null !== (e=c[g]) && void 0 !== e?e:0);}});}catch(h){}return c;};d=a(31276);},69493:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.V5a="DrmProviderSymbol";},98166:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.q9a="LicenseProviderSymbol";},24735:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.Tq=void 0;b.Wzb=function(d){return ["STANDARD","LIMITED"][d];};(function(d){d[d.Zq=0]="STANDARD";d[d.oI=1]="LIMITED";})(a || (b.Tq=a={}));},28978:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m,p,r,q){this.xk=m;this.Vw=p;this.BTc=r;this.Tvc=q;}Object.defineProperty(b,"__esModule",{value:!0});b.Mya=void 0;t=a(22970);n=a(22674);c=a(74870);h=a(2248);f=a(84408);e=a(53921);g=a(24735);k=a(82100);a=a(98166);d.prototype.Kt=function(m){var p;p=this;return this.xk.d7(m.yJ[0].data[0],[8,4])?Promise.resolve({oZ:[{id:"ddd",Tzb:"cert",Uzb:void 0}],uA:[{sessionId:"ddd",data:new Uint8Array(this.Vw.decode(k.sgb))}]}):this.xk.d7(m.yJ[0].data[0],this.BTc.decode("certificate"))?Promise.resolve({oZ:[{id:"ddd",Tzb:"cert",Uzb:void 0}],uA:[{sessionId:"ddd",data:new Uint8Array(this.Vw.decode(k.tza))}]}):this.Tvc.oz(this.Rkc(m)).then(function(r){return p.Skc(r);});};d.prototype.Rkc=function(m){var p,r;p=this;r=m.yJ.map(function(q){return q.data.map(function(u){return {sessionId:q.sessionId,dataBase64:p.Vw.encode(u)};});});return {Ia:m.Ia,Sd:m.Sd,sqb:m.sqb,li:(0,g.Wzb)(m.li),uP:e.Rq[m.uP],yJ:r.reduce(function(q,u){return q.concat(u);},[]),Zo:m.Zo,Of:m.Of,J:m.J,Bp:m.Bp};};d.prototype.Skc=function(m){return {oZ:m.oZ,uA:m.uA};};l=d;b.Mya=l;b.Mya=l=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.cm)),t.__param(1,(0,n.u)(h.Sl)),t.__param(2,(0,n.u)(f.PE)),t.__param(3,(0,n.u)(a.q9a))],l);},660:function(t,b,a){var n,c,h,f,e;function d(g,k,l,m){this.N2b=g;this.VJc=l;this.qKc=m;this.va=k.ub("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.PAa=void 0;t=a(22970);n=a(22674);c=a(87386);h=a(81378);a(24674);f=a(16257);a=a(829);d.prototype.oz=function(g){var k,l;k=this;!1;l=this.VJc.yRc(g);return this.N2b.Pe({log:this.va,links:g.Zo,J:g.J},l).then(function(m){m.map(function(p){return p.Uvc;});return k.qKc.DNb(m);}).catch(function(m){k.va.error("PBO license failed",m);return Promise.reject(m);});};e=d;b.PAa=e;b.PAa=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.NCa)),t.__param(1,(0,n.u)(c.yb)),t.__param(2,(0,n.u)(f.Lbb)),t.__param(3,(0,n.u)(a.$Ca))],e);},45266:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.Xpb=b.Hqc=b.gOb=b.tL=b.Jqa=b.IBb=void 0;t=a(29664);d=a(31435);n=a(60024);c=a(56663);a=a(5154);b.IBb=t;b.Jqa=function(h,f){return (0,b.IBb)(function(e,g){return void 0 !== g?g:e;},h,f);};b.tL=d;b.gOb=n;b.Hqc=c;b.Xpb=a;},17892:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oZb="StorageValidatorSymbol";b.aI="AppStorageFactorySymbol";},44272:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qeb="Storage";},62945:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;t=a(22674);d=a(91133);n=a(48159);c=a(56278);h=a(42304);f=a(42236);e=a(84970);g=a(57925);k=a(67894);l=a(17892);m=a(86607);p=a(26305);b.storage=new t.we(function(r){r(n.rab).Pf(function(){return function(){return Ca.localStorage;};});r(n.f8a).Pf(function(){return function(){return Ca.indexedDB;};});r(m.Y$a).to(p.QBa).pa();r(l.aI).to(k.gxa).pa();r(c.Q9a).to(h.TAa).pa();r(d.pga).to(g.jAa).pa();r(f.G8a).to(e.kAa).pa();r(f.e8a).to(e.bAa).pa();r(f.H8a).to(e.lAa).pa();});},56278:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q9a="LocalStorageSymbol";},86607:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y$a="MemoryStorageSymbol";},48159:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.wWb="NativeLocalStorageSymbol";b.rab="NativeLocalStorageFactorySymbol";b.f8a="IDBFactorySymbol";},31679:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xSb="__default_rule_key__";},67894:function(t,b,a){var c,h,f,e,g,k,l;function d(m,p,r,q){this.va=m;this.config=p;this.gsc=r;this.nUa=q;this.bP={mem:{storage:this.nUa,key:"mem"}};this.nM=this.config.nM;}function n(m,p,r,q){this.fh=m;this.Es=p;this.nUa=r;this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.hxa=b.gxa=void 0;t=a(22970);c=a(22674);h=a(36129);f=a(42236);e=a(87386);g=a(86607);k=a(31679);a=a(34231);n.prototype.create=function(){this.u7 || (this.u7=this.WW());return this.u7;};n.prototype.WW=function(){this.I4b=new d(this.fh.ub("AppStorage"),this.config,this.Es,this.nUa);return this.I4b.create();};l=n;b.gxa=l;b.gxa=l=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(e.yb)),t.__param(1,(0,c.u)(f.H8a)),t.__param(2,(0,c.u)(g.Y$a)),t.__param(3,(0,c.u)(a.Ls))],l);d.prototype.create=function(){var m;m=this;return this.Bcc().then(function(p){if(!m.y8b(p,m.config.a$))throw m.OAc(p);return m;});};d.prototype.load=function(m){var p;p=this;return new Promise(function(r,q){p.Y8(m).storage.load(m).then(function(u){r(u);}).catch(function(u){q(u);});});};d.prototype.save=function(m,p,r){var q;q=this;return new Promise(function(u,v){q.Y8(m).storage.save(m,p,r).then(function(w){u(w);}).catch(function(w){v(w);});});};d.prototype.remove=function(m){var p;p=this;return new Promise(function(r,q){p.Y8(m).storage.remove(m).then(function(){r();}).catch(function(u){q(u);});});};d.prototype.removeAll=function(){var m;m=this;return new Promise(function(p,r){m.IHb("mem").then(function(){return m.IHb("idb");}).catch(function(q){return Promise.reject(q);}).then(function(){p();}).catch(function(q){m.va.error("remove all failed");r(q);});});};d.prototype.loadAll=function(){var m,p;m=this;p=[];return this.oAb("mem").then(function(r){p=p.concat(r);return m.oAb("idb");}).catch(function(r){m.Iuc(r) || m.va.error("IndexedDb.LoadAll exception",r);return [];}).then(function(r){return p=p.concat(r);}).catch(function(r){m.va.error("load all failed",r);throw r;});};d.prototype.Bcc=function(){var m;m=this;return this.gsc.create().then(function(p){m.bP.idb={storage:p,key:"idb"};}).catch(function(p){m.va.error("idb failed to load",p);return p || ({Sa:h.Y.mh});});};d.prototype.y8b=function(m,p){return !m || m && p?!0:!1;};d.prototype.OAc=function(m){var p;p="";m && (p+=m.Sa);return {Sa:p};};d.prototype.IHb=function(m){return (m=this.bP[m])?m.storage.removeAll():Promise.resolve();};d.prototype.oAb=function(m){return (m=this.bP[m])?m.storage.loadAll():Promise.resolve([]);};d.prototype.Rjc=function(m){for(var p in this.nM)if(m.startsWith(p))return this.nM[p];return this.nM[k.xSb];};d.prototype.Y8=function(m){var p,r;p=this;this.Rjc(m).every(function(q){return p.bP[q]?(r=p.bP[q],!1):!0;});if(!r){this.va.error("component not found for storageKey",{qPc:m,f2c:Object.keys(this.bP),rules:this.nM});r=this.bP.mem;}this.va.trace("component found for key",{storageKey:m,componentKey:r.key});return r;};d.prototype.Iuc=function(m){return (m && (m.Sa || m.errorSubCode)) === h.Y.KE;};b.hxa=d;},6675:function(t,b){function a(d,n){this.tF=d;this.Df=n;}Object.defineProperty(b,"__esModule",{value:!0});b.LAa=void 0;a.prototype.load=function(d,n){var c;c=this;this.tF.load(d).then(function(h){n && n(a.vMb(h));}).catch(function(h){n && n(c.ZF(d,h));});};a.prototype.save=function(d,n,c,h){var f;f=this;this.tF.save(d,n,c).then(function(){h && h(a.vMb({key:d,value:n}));}).catch(function(e){h && h(f.ZF(d,e));});};a.prototype.remove=function(d,n){var c;c=this;this.tF.remove(d).then(function(){n && n({success:!0,hva:d});}).catch(function(h){n && n(c.ZF(d,h));});};a.vMb=function(d){return {success:!0,data:d.value,hva:d.key};};a.prototype.ZF=function(d,n){return {success:!1,hva:d,Sa:n.Sa,jf:n.zc?this.Df.Wi(n.zc):void 0};};b.LAa=a;},42304:function(t,b,a){var n,c,h;function d(f){this.wL=f;}Object.defineProperty(b,"__esModule",{value:!0});b.TAa=void 0;t=a(22970);n=a(22674);c=a(36129);a=a(48159);d.prototype.load=function(f){var e;e=this;return new Promise(function(g,k){var l,m;try{l=e.wL.getItem(f);if(l){m=l;if("{" === l[0])try{m=JSON.parse(l) || l;}catch(p){}g({key:f,value:m});}else k({Sa:c.Y.KE});}catch(p){k({Sa:c.Y.Zdb,zc:p});}});};d.prototype.save=function(f,e,g){var k;k=this;return new Promise(function(l,m){if(g && k.wL.getItem(f))l(!1);else try{"string" === typeof e?k.wL.setItem(f,e):k.wL.setItem(f,JSON.stringify(e));l(!0);}catch(p){m({Sa:c.Y.$db,zc:p});}});};d.prototype.remove=function(f){var e;e=this;return new Promise(function(g,k){try{e.wL.removeItem(f);g();}catch(l){k({Sa:c.Y.GEa,zc:l});}});};d.prototype.loadAll=function(){return Promise.reject("Not supported");};d.prototype.removeAll=function(){return Promise.reject("Not supported");};h=d;b.TAa=h;b.TAa=h=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.wWb))],h);},26305:function(t,b,a){var n,c,h;function d(f){this.fh=f;this.CR={};this.va=this.fh.ub("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.QBa=void 0;t=a(22970);n=a(22674);c=a(36129);a=a(87386);d.prototype.load=function(f){var e;if(this.CR.hasOwnProperty(f)){e=this.CR[f];this.va.debug("Storage entry loaded",{key:f});return Promise.resolve({key:f,value:e});}this.va.debug("Storage entry not found",{key:f});return Promise.reject({Sa:c.Y.KE});};d.prototype.save=function(f,e,g){if(g && this.CR.hasOwnProperty(f))return Promise.resolve(!1);this.CR[f]=e;return Promise.resolve(!0);};d.prototype.remove=function(f){delete this.CR[f];return Promise.resolve();};d.prototype.loadAll=function(){var f;f=Object.entries(this.CR).map(function(e){var g;g=Fa(e);e=g.next().value;g=g.next().value;return {key:e,value:g};});return Promise.resolve(f);};d.prototype.removeAll=function(){this.CR={};return Promise.resolve();};h=d;b.QBa=h;b.QBa=h=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.yb))],h);},92093:function(t,b,a){var c,h,f;function d(e,g,k){this.config=e;this.np=g;this.wL=k;}function n(e,g){this.reason=e;this.zc=g;}Object.defineProperty(b,"__esModule",{value:!0});b.F8a=b.AYb=void 0;c=a(36129);h=a(59818);(function(e){e[e.oCa=0]="NoData";e[e.Error=1]="Error";e[e.NE=2]="Timeout";})(f || (b.AYb=f={}));d.prototype.load=function(e){var g;g=this;return new Promise(function(k,l){g.Hma("get",!1,e).then(function(m){k({key:e,value:m});}).catch(function(m){var p;p=c.Y.Zdb;switch(m.reason){case f.oCa:p=c.Y.KE;break;case f.NE:p=c.Y.cZb;}l({Sa:p,zc:m.zc});});});};d.prototype.save=function(e,g,k){var l;l=this;return new Promise(function(m,p){l.Hma(k?"add":"put",!0,{name:e,data:g}).then(function(){m(!k);}).catch(function(r){var q;q=c.Y.$db;switch(r.reason){case f.NE:q=c.Y.fZb;}p({Sa:q,zc:r.zc});});});};d.prototype.remove=function(e){var g;g=this;return new Promise(function(k,l){g.Hma("delete",!0,e).then(function(){k();}).catch(function(m){var p;p=c.Y.GEa;switch(m.reason){case f.NE:p=c.Y.Ydb;}l({Sa:p,zc:m.zc});});});};d.prototype.removeAll=function(){var e;e=this;return new Promise(function(g,k){e.Hma("clear",!0,"").then(function(){g();}).catch(function(l){var m;m=c.Y.GEa;switch(l.reason){case f.NE:m=c.Y.Ydb;}k({Sa:m,zc:l.zc});});});};d.prototype.loadAll=function(){var e;e=this;return this.np.rs(this.config.timeout,new Promise(function(g,k){var l,m,p;if(e.config.q_a)k(new n(e.config.q_a));else {l=[];m=e.wL.transaction(e.config.gba,"readonly");p=m.objectStore(e.config.gba).openCursor();m.onerror=function(){k(new n(f.Error,p.error));};p.onsuccess=function(r){if(r=r.target.result)try{l.push({key:r.value.name,value:r.value.data});r.continue();}catch(q){k(new n(f.Error,q));}else g(l);};p.onerror=function(){k(new n(f.Error,p.error));};}})).catch(function(g){return g instanceof h.Fw?Promise.reject(new n(f.NE,g)):g instanceof n?Promise.reject(g):Promise.reject(new n(f.Error,g));});};d.prototype.Hma=function(e,g,k){var l;l=this;return this.np.rs(this.config.timeout,new Promise(function(m,p){var r,q;r=l.wL.transaction(l.config.gba,g?"readwrite":"readonly");q=r.objectStore(l.config.gba)[e](k);r.onerror=function(){p(new n(f.Error,q.error));};q.onsuccess=function(u){var v;if("get" == e)try{v=u.target.result;v?m(v.data):p(new n(f.oCa));}catch(w){p(new n(f.oCa,w));}else m(void 0);};q.onerror=function(){p(new n(f.Error,q.error));};})).catch(function(m){return m instanceof h.Fw?Promise.reject(new n(f.NE,m)):m instanceof n?Promise.reject(m):Promise.reject(new n(f.Error,m));});};b.F8a=d;},91133:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pga="IndexedDBConfigSymbol";},42236:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.e8a="IDBDatabaseFactorySymbol";b.G8a="IndexedDBFactorySymbol";b.H8a="IndexedDBStorageFactorySymbol";},57925:function(t,b,a){var n,c,h,f,e;function d(g,k){g=h.Gf.call(this,g,"IndexedDBConfigImpl") || this;g.config=k;g.version=1;g.gba="namedatapairs";return g;}Object.defineProperty(b,"__esModule",{value:!0});b.jAa=void 0;t=a(22970);n=a(22674);c=a(12501);h=a(64174);f=a(34231);a=a(83767);Ia(d,h.Gf);Ha.Object.defineProperties(d.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.XF?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.WLb;}},Zja:{configurable:!0,enumerable:!0,get:function(){return this.config.Zja;}},r_a:{configurable:!0,enumerable:!0,get:function(){return 0;}},q_a:{configurable:!0,enumerable:!0,get:function(){return 0;}},Ksb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});e=d;b.jAa=e;t.__decorate([c.config(c.uy,"simulateIdbOpenError")],e.prototype,"r_a",null);t.__decorate([c.config(c.uy,"simulateIdbLoadAllError")],e.prototype,"q_a",null);t.__decorate([c.config(c.jd,"fixInvalidDatabase")],e.prototype,"Ksb",null);b.jAa=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.uo)),t.__param(1,(0,n.u)(f.Ls))],e);},84970:function(t,b,a){var h,f,e,g,k,l,m,p,r,q,u,v;function d(w,x,y,z,B,A){this.config=x;this.x7=y;this.Es=z;this.QTc=B;this.io=A;this.va=w.ub(l.Qeb);}function n(w,x){this.config=w;this.UD=x;}function c(w,x,y,z,B){this.config=x;this.UD=y;this.io=B;this.va=w.ub(l.Qeb);this.x7=new Promise(function(A,C){var D;try{D=z();D?A(D):C({Sa:k.Y.g8a});}catch(F){C({Sa:k.Y.nga,zc:F});}});}Object.defineProperty(b,"__esModule",{value:!0});b.lAa=b.kAa=b.bAa=void 0;t=a(22970);h=a(22674);f=a(87386);e=a(92093);g=a(48159);k=a(36129);l=a(44272);m=a(91133);p=a(59818);r=a(17892);q=a(77134);u=a(42236);v=a(63156);c.prototype.create=function(){this.VLa || (this.VLa=this.WW());return this.VLa;};c.prototype.tt=function(w){var x;x=this;this.VLa=null;return this.UD.rs(this.config.timeout,new Promise(function(y,z){w.close();x.delete(w.name).then(function(){y();}).catch(function(B){z(B);});})).catch(function(y){return y instanceof p.Fw?Promise.reject({Sa:k.Y.nga}):y.Sa?Promise.reject(y):Promise.reject({Sa:k.Y.nga,zc:y});});};c.prototype.delete=function(w){var x;x=this;return this.UD.rs(this.config.timeout,new Promise(function(y,z){x.x7.then(function(B){var A;A=B.deleteDatabase(w);A.onsuccess=function(){y();};A.onerror=function(){z({Sa:k.Y.nga,zc:A.error});};}).catch(function(B){z(B);});}));};c.prototype.WW=function(){var w,x;w=this;return this.UD.rs(this.config.timeout,new Promise(function(y,z){if(w.config.r_a)return z({Sa:w.config.r_a});w.x7.then(function(B){w.io.mark(v.tn.sUb);x=B.open(w.config.name,w.config.version);if(!x)return z({Sa:k.Y.h8a});x.onblocked=function(){w.io.mark(v.tn.pUb);z({Sa:k.Y.lUb});};x.onupgradeneeded=function(){var A;w.io.mark(v.tn.zUb);A=x.result;try{A.createObjectStore(w.config.gba,{keyPath:"name"});}catch(C){w.va.error("Exception while creating object store",C);}};x.onsuccess=function(A){var C,D;w.io.mark(v.tn.yUb);try{C=A.target.result;D=C.objectStoreNames.length;w.va.trace("objectstorenames length ",D);if(0 === D){w.va.error("invalid indexedDb state, deleting");w.io.mark(v.tn.rUb);try{C.close();}catch(F){}B.deleteDatabase(w.config.name);setTimeout(function(){z({Sa:k.Y.kUb});},1);return;}}catch(F){w.va.error("Exception while inspecting indexedDb objectstorenames",F);}y(x.result);};x.onerror=function(){w.io.mark(v.tn.qUb);w.va.error("IndexedDB open error",x.error);z({Sa:k.Y.mUb,zc:x.error});};}).catch(function(B){z(B);});})).catch(function(y){if(y instanceof p.Fw){try{x && x.readyState && w.io.mark("readyState-" + x.readyState);}catch(z){}if(w.config.Zja && x && "done" === x.readyState){if(w.GTc(x))return (w.io.mark(v.tn.wUb),Promise.resolve(x.result));w.io.mark(v.tn.vUb);}w.io.mark(v.tn.uUb);return Promise.reject({Sa:k.Y.oUb});}if(y.Sa)return Promise.reject(y);w.io.mark(v.tn.tUb);w.va.error("IndexedDB open exception occurred",y);return Promise.reject({Sa:k.Y.nUb,zc:y});});};c.prototype.GTc=function(w){try{return 0 < w.result.objectStoreNames.length;}catch(x){this.io.mark(v.tn.xUb);this.va.error("failed to check open request state",x);}return !1;};a=c;b.bAa=a;b.bAa=a=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(f.yb)),t.__param(1,(0,h.u)(m.pga)),t.__param(2,(0,h.u)(p.HE)),t.__param(3,(0,h.u)(g.f8a)),t.__param(4,(0,h.u)(q.rV))],a);n.prototype.create=function(w){return Promise.resolve(new e.F8a(this.config,this.UD,w));};a=n;b.kAa=a;b.kAa=a=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(m.pga)),t.__param(1,(0,h.u)(p.HE))],a);d.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.u7 || (this.u7=this.WW(this.QTc));return this.u7;};d.prototype.WW=function(w){var x;x=this;w=void 0 === w?[]:w;return new Promise(function(y,z){x.io.mark(v.tn.bZb);x.x7.create().then(function(B){x.Es.create(B).then(function(A){Promise.all(w.map(function(C){return C.validate(A);})).then(function(){x.storage=A;y(x.storage);}).catch(function(C){x.va.debug("DB validation failed, cause: " + C);x.config.Ksb?(x.va.debug("Fixing corrupt DB"),x.x7.tt(B).then(function(){x.va.error("Invalid database deleted, creating new database.");x.WW().then(function(D){x.va.error("Invalid database successfully recreated.");x.storage=D;y(x.storage);});}).catch(function(D){x.va.error("Couldn't delete invalid database.");z(D);})):(x.va.debug("Ignoring invalid DB due to config"),x.storage=A,y(x.storage));});}).catch(function(A){z(A);});}).catch(function(B){z(B);});});};a=d;b.lAa=a;b.lAa=a=t.__decorate([(0,h.$)(),t.__param(0,(0,h.u)(f.yb)),t.__param(1,(0,h.u)(m.pga)),t.__param(2,(0,h.u)(u.e8a)),t.__param(3,(0,h.u)(u.G8a)),t.__param(4,(0,h.optional)()),t.__param(4,(0,h.ZG)(r.oZb)),t.__param(5,(0,h.u)(q.rV))],a);},69899:function(t,b,a){var c;function d(h,f,e){this.start=h;this.track=f;this.oM=Array.isArray(e)?e:[];}function n(h,f){this.log=h;this.fwa=f;this.HXa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.$eb=void 0;c=a(45146);n.prototype.R2b=function(h,f){this.NCb(h,f,"activating");};n.prototype.bec=function(h){this.iNa(h,"de-activating");};n.prototype.NCb=function(h,f,e){var g;this.Dn && this.iNa(h,"close current for new");g=[];this.orphans.length && (g.push.apply(g,Aa(this.orphans)),this.orphans=[]);this.Dn=new d(h,f,g);this.fwa && this.log.trace("new range: " + e,this.Dn);};n.prototype.iNa=function(h,f){this.Dn && (this.Dn.end=h,this.HXa.push(this.Dn),this.fwa && this.log.trace("end range: " + f,this.Dn || ({})),this.Dn=void 0);};n.prototype.POb=function(h){for(var f=[],e=0;e < arguments.length;++e)f[e - 0]=arguments[e];this.Dn?this.Dn.oM.push.apply(this.Dn.oM,Aa(f)):this.orphans.push.apply(this.orphans,Aa(f));};n.prototype.jQa=function(h){var f,e;f=this.HXa.slice(0);if(this.Dn && "undefined" !== typeof h){e=new d(this.Dn.start,this.Dn.track,this.Dn.oM);e.end=h;f.push(e);}h=f.reduce(function(g,k){var l,m,p,r;if(!k.track)return g;m=k.track.cc;p=k.track.mq(k.start,k.end);if(void 0 === p || null === p)return g;r=new Set(k.oM);g[m]?(k=g[m],k.expected+=p,k.missed+=p - r.size):g[m]={dlid:m,bcp47:k.track.Cg,profile:k.track.profile,expected:p,missed:p - r.size,startPts:null !== (l=k.track.Hpc()) && void 0 !== l?l:0};return g;},{});h=Object.values(h);this.fwa && this.log.trace("subtitleqoe:",JSON.stringify(h,null,"\t"));return h;};n.prototype.xpc=function(h){var f,e,g,k;f=this.HXa.slice(0);e=0;g=0;if(this.Dn && "undefined" != typeof h){k=new d(this.Dn.start,this.Dn.track,this.Dn.oM);k.end=h;f.push(k);}f.forEach(function(l){var m,p;if(l.track){if(l.end < l.start){(0,c.ta)(!1,"negative range");l.XL=0;return;}m=new Set(l.oM);p=l.track.mq(l.start,l.end);l.Jma=p;l.XL=void 0 === p || null === p?0:0 === p?100:100 * m.size / p;}else l.XL=100;m=l.end - l.start;e+=m;g+=l.XL * m;});k=e?Math.round(g / e):100;this.log.trace("qoe score " + k + ", at pts: " + h);this.fwa && (h=f.map(function(l){return {start:l.start,"end  ":l.end,duration:l.end - l.start,score:Math.round(l.XL),lang:l.track?l.track.Cg:"none","actual  ":l.oM.join(" "),expected:l.Jma};}),this.log.trace("score for each range: ",JSON.stringify(h,function(l,m){return m;}," ")));return k;};b.$eb=n;},40076:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});b.uT=void 0;t=a(22674);d=a(53205);n=a(29773);c=a(22692);h=a(87549);b.uT=new t.we(function(f){f(h.pfb).to(d.pFa);f(c.nfb).xp(new n.oFa());f(h.ofb).Pf(function(e){return function(){return e.Gb.get(h.pfb);};});});},87549:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pfb="ThroughputTrackerSymbol";b.ofb="ThroughputTrackerFactorySymbol";},22692:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nfb="ThroughputTrackerConfigSymbol";},70826:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.S5a=void 0;d=a(72574);b.S5a=function(n,c){this.Xfc=n;this.size=c.mSa()?d.ia:c;};},29773:function(t,b,a){function d(n){this.Zfc=void 0 === n?10:n;}Object.defineProperty(b,"__esModule",{value:!0});b.oFa=void 0;t=a(22970);a=a(22674);b.oFa=d;b.oFa=d=t.__decorate([(0,a.$)()],d);},53205:function(t,b,a){var n,c,h,f;function d(e){this.config=e;this.t_a=c.ia;this.Q0=[];}Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;t=a(22970);n=a(22674);c=a(72574);h=a(5021);a=a(22692);d.prototype.Ok=function(){var g;for(var e;0 < this.Q0.length;)(e=this.Q0.shift(),this.Ajb(e));e=void 0 === this.U7 || void 0 === this.rP?h.ia:this.rP.ea(this.U7);g=e.Kyb()?0:this.t_a.oa(c.YM) / e.oa(h.ya);return {u0a:Math.floor(g),Y3c:e.oa(h.ya)};};d.prototype.k3b=function(e){this.t_a=this.t_a.add(e.size);this.Q0.push(e.Xfc);for(this.Q0.sort(function(g,k){return g.start.vm(k.start);});this.Q0.length > this.config.Zfc;)(e=this.Q0.shift(),this.Ajb(e));};d.prototype.Ajb=function(e){void 0 === this.U7 && (this.U7=e.start);void 0 !== this.rP && 0 > this.rP.vm(e.start) && (this.U7=this.U7.add(e.start.ea(this.rP)));if(void 0 === this.rP || 0 > this.rP.vm(e.end))this.rP=e.end;};f=d;b.pFa=f;b.pFa=f=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.nfb))],f);},35781:function(t,b,a){var n,c,h,f,e,g,k,l,m;function d(p,r,q,u,v,w){var x,y;p=e.NN.call(this,r,p,v,!0,{correlationId:"",uq:"content"},"1",[{di:0,url:q,type:"unknown"}],"xx",u || p,g.wu.$U,void 0,void 0,"primary",null !== (x=null === w || void 0 === w?void 0:w.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (y=null === w || void 0 === w?void 0:w.midx) && void 0 !== y?y:{},!1,!1,null === w || void 0 === w?void 0:w.isLanguageLeftToRight) || this;p.j=r;p.url=q;p.options=w;p.yy=null === w || void 0 === w?void 0:w.useRangeHeader;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.qfb=void 0;t=a(13044);n=a(29204);c=a(37509);h=a(31276);f=a(52569);e=a(26159);g=a(35128);k=a(61726);l=a(43193);m=a(85001);(0,t.dYb)(t.yDa,function(p){var q;function r(u){var v;if(u.ctrlKey && u.altKey && u.shiftKey && u.keyCode == l.IU.rZb){v=(0,f.createElement)("INPUT",void 0,void 0,{type:"file"});v.addEventListener("change",function(){var w,x,y;w=v.files[0];if(w){x=w.name;q.info("Loading file",{FileName:x});y=new FileReader();y.readAsText(w);y.addEventListener("load",function(){return p.Hq.uIa("nourl",x,{content:y.result});});}});v.click();}}q=(0,h.Mn)(p,"TimedTextCustomTrack");n.config.SLa && (q.info("Loading url",{Url:n.config.SLa}),p.Hq.uIa(n.config.SLa,"custom"));c.re.addListener(c.oK,r);p.addEventListener(m.ja.$g,function(){c.re.removeListener(c.oK,r);});});Ia(d,e.NN);d.jcc=function(p,r,q,u){var v;v="custom" + d.ctc++;return new d(v,p,r,q,-1,u);};d.prototype.qqb=function(){var p;p=this;return new Promise(function(r,q){var u,v;if(null === (u=p.options) || void 0 === u?0:u.content)r(p.options.content);else if(p.url){v={responseType:k.bRa,url:p.url,track:p,Oc:void 0,NJ:"tt-" + p.Cg,my:"unknown"};p.j.Doa.download(v,function(w){w.success?r(w.content):(w.reason="downloadfailed",w.url=v.url,w.track=p,q(w));});}});};b.qfb=d;d.ctc=0;},97154:function(t,b,a){var n,c,h,f,e,g;function d(k,l,m,p){this.tM=k;this.Zma=l;this.UF={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,n.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.nKb(m);this.dOa=this.dub(this.Zma);this.lang=p;}Object.defineProperty(b,"__esModule",{value:!0});b.rfb=void 0;n=a(52569);c=a(33579);h=a(15531);f=a(29204);e=a(22365);g=a(3887);d.prototype.jq=function(){return this.element;};d.prototype.hMc=function(k){this.dC=k;};d.prototype.wMc=function(k){this.entry=k;this.yS();};d.prototype.HMc=function(k){this.nKb(k);this.yS();};d.prototype.IMc=function(k){this.lang=k;this.yS();};d.prototype.yS=function(){var k,l,m,p,r,q,u,v,w,x,y,z,A,C,D;k=this;l=this.jq();m=l.parentElement;p=m && m.clientWidth || 0;r=m && m.clientHeight || 0;q=m=0;u=0;v={width:p,height:r};x=this.tM.Jtb().characterSize;this.lang && f.config.Moa && f.config.Moa.includes(this.lang) && "MEDIUM" === x && (u=1.4);this.lang && f.config.Noa && f.config.Noa.includes(this.lang) && "SMALL" === x && (u=1.6);if(0 < p && 0 < r && this.entry){this.dC && (v=(0,n.Xma)(p,r,this.dC),m=Math.round((p - v.width) / 2),q=Math.round((r - v.height) / 2));y=this.j8b(v);z=(0,n.Xma)(y.width,y.height,this.dC);(w=this.xOc(this.entry.blocks)) && (w=this.EKc(w));y=w && w.map(function(F){var G;G=null === F || void 0 === F?void 0:F.region;switch(G.horizontalAlignment){case "start":G.horizontalAlignment="rtl" === k.UF.direction?"right":"left";break;case "end":G.horizontalAlignment="rtl" === k.UF.direction?"left":"right";}G=(0,h.grb)(F,z,k.Zma,k.dOa,u);F=(0,h.ric)(F) + ";position:absolute";return (0,n.createElement)("div",F,G,d.nya);});}Object.assign(this.UF,{left:m + "px",right:m + "px",top:q + "px",bottom:q + "px"});l.style.display="none";l.style.direction=this.UF.direction;l.innerHTML="";if(y && y.length){p=v.width;m=v.height;x=v;this.I6 && (x=this.L2b(v,this.I6,r,q));this.UF.margin=this.Lx?this.Nka(v,"top") + "px " + this.Nka(v,"right") + "px " + this.Nka(v,"bottom") + "px " + this.Nka(v,"left") + "px ":void 0;y.forEach(function(F){return l.appendChild(F);});r=(0,n.p7)(this.UF);l.style.cssText=r + ";visibility:hidden;z-index:-1";q=[];for(var B=y.length - 1;0 <= B;B--){A=y[B];C=w[B];D=this.$Cb(A,C,p,m);u=0 < u?p / D.width * u:p / D.width;D.width > p && (A.innerHTML=(0,h.grb)(C,v,this.Zma,this.dOa,u),D=this.$Cb(A,C,p,m));q[B]=D;}q=(0,c.eSc)(q,x);if(B=w && w[0] && w[0].textNodes && w[0].textNodes[0] && w[0].textNodes[0].style)(x=B.windowColor,B=B.windowOpacity,x && 0 < B && (A=Math.round(m / 50),v=(0,h.tic)(w,q,A,x,v),v=(0,n.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + B,v,d.nya),l.insertBefore(v,l.firstChild)));l.style.display="none";for(v=q.length - 1;0 <= v;v--)(B=q[v],x=y[v].style,A=w[v].region,B=(0,h.sic)(A,B,p,m,0),Object.assign(x,B));l.style.cssText=r;}};d.prototype.WZa=function(k){this.I6=k;this.yS();};d.prototype.oQa=function(){return this.I6;};d.prototype.XZa=function(k){this.Lx=k;this.yS();};d.prototype.pQa=function(){return this.Lx;};d.prototype.qQa=function(){return "block" === this.UF.display;};d.prototype.YZa=function(k){var l;l=k?"block":"none";this.element.style.display=l;this.UF.display=l;k && this.yS();};d.prototype.HSc=function(k){this.Zma=k;this.dOa=this.dub(k);};d.prototype.dub=function(k){var l,m;l=this;m={};(0,g.hi)(k,function(p,r){m[p]=l.Uyc(r);});return m;};d.prototype.nKb=function(k){this.UF.direction="boolean" === typeof k?k?"ltr":"rtl":"inherit";};d.prototype.Nka=function(k,l){if(this.Lx){if("left" === l || "right" === l)return k.width * (this.Lx[l] || 0);if("top" === l || "bottom" === l)return k.height * (this.Lx[l] || 0);}return 0;};d.prototype.j8b=function(k){return this.Lx?{height:k.height * (1 - (this.Lx.top || 0) - (this.Lx.bottom || 0)),width:k.width * (1 - (this.Lx.left || 0) - (this.Lx.right || 0))}:k;};d.prototype.Uyc=function(k){var l;k="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + k + ";";k=(0,n.createElement)("DIV",k,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",d.nya);e.yi.body.appendChild(k);l={fontSize:1E3,height:k.clientHeight,width:k.clientWidth / 52,lineHeight:k.clientHeight / 1E3};e.yi.body.removeChild(k);return l;};d.prototype.$Cb=function(k,l,m,p){var r,q,u,v,w;r=l.region;q=(r.marginTop || 0) * p;u=(r.marginBottom || 0) * p;v=(r.marginLeft || 0) * m;w=(r.marginRight || 0) * m;l=k.clientWidth || 1;k=k.clientHeight || 1;switch(r.verticalAlignment){case "top":p=q;break;case "center":p=(q + p - u - k) / 2;break;default:p=p - u - k;}switch(r.horizontalAlignment){case "left":m=v;break;case "right":m=m - w - l;break;default:m=(v + m - w - l) / 2;}return {top:p,left:m,width:l,height:k};};d.prototype.L2b=function(k,l,m,p){return {height:m - Math.max(p,l.bottom || 0) - Math.max(p,l.top || 0),width:k.width};};d.prototype.EKc=function(k){var l,r,q,u;l=k && k.map(function(v,w){var x;return "vertical-rl" === (null === (x=null === v || void 0 === v?void 0:v.region) || void 0 === x?void 0:x.writingMode)?w:-1;}).filter(function(v){return -1 !== v;});if(l && 0 !== l.length)for(var m=0,p=l.length - 1;m < p;(m++,p--)){r=l[m];q=l[p];u=Fa([k[q],k[r]]);k[r]=u.next().value;k[q]=u.next().value;}return k;};d.prototype.xOc=function(k){var l,m;if(!k || 0 === k.length)return k;m=k.filter(function(q){var u;return "horizontal-tb" === (null === (u=q.region) || void 0 === u?void 0:u.writingMode);}).sort(function(q,u){return q.region.marginTop - u.region.marginTop;});if(!m || 0 === m.length)return k;for(var p=0,r=0;p < m.length && r < k.length;r++)"horizontal-tb" === (null === (l=k[r].region) || void 0 === l?void 0:l.writingMode) && (k[r]=m[p++]);return k;};b.rfb=d;d.nya={"class":"player-timedtext-text-container"};},99416:function(t,b){function a(d){this.Vf=d.cRc;this.YVa=d.dRc;this.xTa={};}Object.defineProperty(b,"__esModule",{value:!0});b.tfb=void 0;a.prototype.Jtb=function(){return Object.assign(Object.assign(Object.assign({},this.Vf),this.YVa),this.xTa);};a.prototype.Doc=function(){return Object.assign(Object.assign({},this.YVa),this.xTa);};a.prototype.RMc=function(d){this.xTa.characterSize=d;};b.tfb=a;},7953:function(t,b){function a(d,n){var c;c=this;this.Kub=d;this.FDb=n;this.D0a=!1;this.x_=function(){c.Iq=void 0;c.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.wfb=void 0;a.prototype.update=function(d){var n,c,h,f,e;h=this.Kub();if(this.QOb !== h){f=null === (c=null === (n=this.paa) || void 0 === n?void 0:n.gK(h)) || void 0 === c?void 0:c[0];if(f && ("startTime" in f))if(f.startTime <= h && h <= f.endTime){e=f;this.zOb(f.endTime - h);}else this.zOb(f.startTime - h);this.QOb=h;this.fIa !== e && (this.fIa=e,!d && this.FDb && this.FDb());}};a.prototype.start=function(){this.D0a=!0;this.update();};a.prototype.uKb=function(d){this.paa=d;this.fIa=this.QOb=void 0;d || this.stop();};a.prototype.stop=function(){this.D0a=!1;this.Fq();};a.prototype.qlc=function(){this.update(!0);return this.fIa;};a.prototype.zOb=function(d){this.Fq();this.D0a && 0 < d && (this.Iq=Ca.setTimeout(this.x_,d + a.kWb));};a.prototype.Fq=function(){this.Iq && (Ca.clearTimeout(this.Iq),this.Iq=void 0);};b.wfb=a;a.kWb=10;},26159:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w;function d(x,y,z,B,A,C,D,F,G,E,H,J,L,K,M,P,I,O,Q){this.j=x;this.trackId=y;this.yc=z;this.pg=B;this.uNb=A;this.cc=C;this.urls=D;this.Cg=F;this.displayName=G;this.Li=E;this.nT=H;this.variant=J;this.LL=L;this.profile=K;this.BA=M;this.h_=P;this.Dkc=I;this.mpa=O;this.cA=Q;this.type=f.qn.q1;this.yy=void 0;this.pq=!(!K || K != g.cr.UU);this.ri={bcp47:F,trackId:y,downloadableId:C,isImageBased:this.pq};this.log=(0,e.Mn)(x,"TimedTextTrack");this.state=w.Pga;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.NN=void 0;n=a(22970);c=a(61726);h=a(29204);f=a(51344);e=a(31276);g=a(75568);k=a(45146);l=a(32687);m=a(58174);p=a(85001);r=a(36129);q=a(92020);u=a(32934);v=a(45247);(function(x){x[x.Pga=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.uN=2]="LOADED";x[x.O3=3]="LOAD_FAILED";})(w || (w={}));d.prototype.Poa=function(x){var y;y=this;if(this.j.state.value === p.Bc.CLOSED || this.j.state.value === p.Bc.CLOSING)return Promise.reject({success:!1});if(this.b1 && this.j.sf)return Promise.resolve({success:!0,track:this});if(this.pq)return this.Wsc();if(this.j.Ac.za)return (this.state=w.LOADING,this.Bxb(x));this.nqb || (this.nqb=this.qqb());return this.nqb.then(function(z){return y.Bxb(x,z);});};d.prototype.getState=function(){return this.state;};d.prototype.qq=function(){return this.h_;};d.prototype.Wo=function(){return this.Dkc;};d.prototype.iQa=function(){var x;return (null === (x=this.b1) || void 0 === x?0:x.ready)?this.b1.paa:void 0;};d.prototype.mq=function(x,y){var z;try{return null === (z=this.iQa()) || void 0 === z?void 0:z.mq(x,y);}catch(B){this.log.error("error in getSubtitlesCount",B,{start:x,end:y,isImageBased:this.pq});}};d.prototype.Hpc=function(){var x,y,z;if(!(0,l.ed)(this.Eb))try{z=null === (y=null === (x=this.iQa()) || void 0 === x?void 0:x.gK(0)) || void 0 === y?void 0:y[0];this.Eb=null === z || void 0 === z?void 0:z.displayTime;}catch(B){this.log.error("exception in getStartPts",B);}return this.Eb;};d.prototype.CXa=function(x){var y,z;(0,k.ta)((0,v.Yoa)(x));(0,k.ta)(null === (y=this.j.S) || void 0 === y?void 0:y.Aa.bj,"Live manifest is unavailable.");(0,k.ta)(null === (z=this.b1) || void 0 === z?void 0:z.paa,"Subtitle manager is unavailable");y=x.SNb;this.b1.paa.CXa({L:x.L,xml:y,Eb:x.Eb,Dg:x.Dg,size:y.length,by:x.by,endOfStream:x.endOfStream});};d.prototype.xs=function(x){return this.j.state.value === p.Bc.CLOSING || this.j.state.value === p.Bc.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.ka.Kd !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};d.prototype.Lob=function(x){var y,z;y=this;z=(0,e.Mn)(this.j,"TimedTextTrack");z.warn=z.trace.bind(z);z.info=z.debug.bind(z);z=(0,m.tdc)(this.j,z,this.request,this);x=new q.default(z,x);this.b1={paa:x,ready:!1};x.on("ready",function(){y.b1.ready=!0;});return x;};d.prototype.Wsc=function(){var x,y,z,B,A,C,D;x=this;if(!this.xxb){this.state=w.LOADING;y={profile:"nflx-cmisc",url:"",dlb:!1,rUa:this.BA.offset,SBb:this.BA.length,gd:this.j.mediaTime.value || 0,bufferSize:h.config.osc,uua:{ba:this.j.V8()}};z=(this.urls || []).map(function(F){return F.di;});B=0;A={};C=!0;D=function(F,G){var E;(0,l.ed)(F)?C || x.xs(x.zt(x.Gz,"","image"))?(C=!1,x.BA.url=null === (E=x.qna(x.Gz)) || void 0 === E?void 0:E.url,y.url=x.BA.url,A[F]=(A[F] || 0) + 1,E=x.Lob(y),E.on("ready",function(){G({success:!0,track:x});}),E.on("error",function(H){var J;H=Object.assign({success:!1},H);J=x.zt(x.Gz,x.BA.url,"image");J.details={midxoffset:x.BA.offset,midxsize:x.BA.length};J.errorstring=H.errorString;A[F] <= h.config.bNb?(x.Tma(J,!0,"retry with current cdn"),x.uJa(A[F]).then(function(L){x.log.trace("retry timed text download after " + L,x.zt(x.Gz,"","image"));D(x.Gz,G);})):(x.Gz=z[B++],x.Gz?(x.Tma(J,!0,"retry with next cdn"),x.uJa(A[F]).then(function(L){x.log.trace("retry timed text download after " + L,x.zt(x.Gz,"","image"));D(x.Gz,G);})):(x.Tma(J,!1,"all cdns tried"),G({success:!1,Zzc:"all cdns failed for image subs",track:x})));}),E.start()):G({success:!1,aborted:!0}):(G({success:!1,Zzc:"cdnId is not defined for image subs downloadUrl"}),x.Tma(x.zt(0,"","image"),!1,"cdnId is undefined"));};this.Gz=z[B++];this.xxb=new Promise(function(F,G){D(x.Gz,function(E){E.success?(x.log.info("Loaded image subtitle manager"),x.state=w.uN,F(E)):(x.log.error("Unable to load image subtitles manager",E),x.state=w.O3,G(E));});});}return this.xxb;};d.prototype.Bxb=function(x,y){var z,B;z=this;B=this.j.TT.value;(0,k.ta)(B);(0,k.ta)(void 0 !== y || this.j.Ac.za);return new Promise(function(A,C){var D,F,G;F=null === (D=z.j.ga.S) || void 0 === D?void 0:D.Aa;D=null === F || void 0 === F?void 0:F.jRa;G=z.Lob({profile:z.profile,xml:y,Vf:x.Vf,preferences:x.Doc(),gd:z.j.mediaTime.value || 0,dlb:!1,videoSize:B,za:z.j.Ac.za,jRa:D});G.on("ready",function(){A(G);}).on("error",function(E){C({success:!1,error:E});}).start();}).then(function(){z.state=w.uN;return {success:!0,track:z};}).catch(function(A){z.log.error("Unable to parse timed text track",(0,r.uE)(A),z.ri,{url:A.url});z.state=w.O3;A.reason="parseerror";A.track=z;throw A;});};d.prototype.Tma=function(x,y,z){x=Object.assign({},x,{ybd:y,status:z});this.j.fireEvent(p.ja.c1,x);this.log.warn("subtitleerror event",x);};d.prototype.request=function(x,y){var z,B,A;z=this;this.log.trace("Downloading",x);A=this.qna(this.Gz);x={url:x.url,offset:x.offset,length:x.size,yy:this.yy,responseType:c.X9,headers:{},Oc:A?{id:A.di}:void 0,NJ:"tt-" + this.Cg,my:null !== (B=null === A || void 0 === A?void 0:A.type) && void 0 !== B?B:u.k4};this.j.Doa.download(x,function(C){z.log.trace("imgsub: request status " + C.success);C.success?y(null,new Uint8Array(C.content)):y({Sa:C.Sa,Fg:C.Fg});});};d.prototype.zt=function(x,y,z){return {currentCdnId:x,url:y,profile:this.profile,dlid:this.cc,subtitletype:z,bcp47:this.Cg,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.pq};};d.prototype.qna=function(x){return (this.urls || []).find(function(y){return y.di === x;});};d.prototype.qqb=function(){var B,A;function x(C){return n.__awaiter(B,void 0,void 0,function F(){var G,E,H;E=this;return Sa(F,function(J){G=z();H=E.zt(C.Oc.di,C.url,"text");H.errorstring=C.reason;return G && E.xs(H)?J.return(E.uJa(A[G.di]).then(y)):J.return(Promise.reject({success:!1,aborted:!0}));});});}function y(){return n.__awaiter(B,void 0,void 0,function D(){var F,G,E;E=this;return Sa(D,function(H){F=z();G=null === F || void 0 === F?void 0:F.url;return F && G?(A[F.di]=(A[F.di] || 0) + 1,H.return(E.Tfc(G,F).catch(x))):H.return(Promise.reject({}));});});}function z(){return (B.urls || []).find(function(C){return !!((A[C.di] || 0) < h.config.bNb);});}B=this;this.state=w.LOADING;A={};return y();};d.prototype.uJa=function(x){return new Promise(function(y){var z;z=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return y(z);},z);});};d.prototype.Tfc=function(x,y){var z;z=this;this.log.trace("Downloading",y && ({Oc:y.di}),this.zt(y.di,x,"text"));return new Promise(function(B,A){var C,D;D={responseType:c.bRa,url:x,track:z,Oc:{id:y.di},NJ:"tt-" + z.Cg,my:null !== (C=y.type) && void 0 !== C?C:u.k4};z.j.Doa.download(D,function(F){F.success?B(F.content):(F=Object.assign(Object.assign({},F),{reason:"downloadfailed",url:D.url,track:z,Oc:y}),A(F));});});};Ha.Object.defineProperties(d.prototype,{correlationId:{configurable:!0,enumerable:!0,get:function(){return this.uNb.correlationId;}},uq:{configurable:!0,enumerable:!0,get:function(){return this.uNb.uq;}}});b.NN=d;d.$q=w;},58174:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tdc=function(a,d,n,c){return {bpc:function(){var h;h=a.PPa();c.cA && (h+=c.cA);return h;},va:d,request:n,NC:!1};};},73585:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q;function d(u,v){var w;w=this;this.j=u;this.tM=v;this.Z_a=this.ACb=0;this.$g=this.kp=!1;this.LS=0;this.Ioa=new Set();this.jda=!0;this.wp=function(){var x,y;w.Xta();w.hP && (w.log.info("Deactivating",w.hP),w.JH.bec(w.iq()));w.j.Fk.set(null);w.wT.uKb(void 0);w.anb();x=w.j.ka.Kd;x && x.qq() && !x.Wo() && (x=null);if(x && w.j.Wb.value !== p.Kb.Yg){y=w.iq();w.JH.R2b(y,x);}x?(w.log.info("Activating",x),w.j.en.set(x.getState() === n.NN.$q.uN?p.Wg.qf:p.Wg.Ff),w.kp || w.j.Sg("tt_start"),x.Poa(w.tM).then(w.YV).catch(w.YV)):w.j.en.set(p.Wg.qf);w.hP=x;w.VH();w.j.Ac.za && w.j.en.set(p.Wg.qf);};this.sync=function(){w.kp && (w.wT.start(),w.j.Wb.value !== p.Kb.hg && w.wT.stop());};this.VH=function(){var x;w.jda && w.j.state.value === p.Bc.qf && w.j.Wb.value !== p.Kb.Yg && (w.fj?x=w.wT.qlc():w.j.ka.Kd && (x=d.dPc[w.j.ka.Kd.getState()]));x && (0,m.ed)(x.startTime) && w.j.nB.value !== x && (w.ACb++,w.Z_a+=w.wT.Kub() - x.startTime,w.jlb=Math.ceil(w.Z_a / (w.ACb + 0)));w.j.nB.set(x);};this.iq=function(){var x;x=w.j.PPa();w.hP && w.hP.cA && (x+=w.hP.cA);return x;};this.EVa=function(x){w.Ioa.add(x);w.jda && (w.fireEvent(d.gLb,x),x && x.id && (w.JH.POb(x.id),!1));w.log.trace("showsubtitle",w.Yna(x));};this.mba=function(x){w.Ioa.delete(x) && w.jda && (w.fireEvent(d.$Hb,x),w.log.trace("removesubtitle",w.Yna(x)));};this.Nrc=function(){w.Ioa.forEach(function(x){w.fireEvent(d.$Hb,x);w.log.trace("hide subtitle",w.Yna(x));});};this.wKc=function(){w.Ioa.forEach(function(x){w.fireEvent(d.gLb,x);w.log.trace("resume subtitle",w.Yna(x));});};this.Wk=function(){w.log.warn("imagesubs buffer underflow",w.j.ka.Kd.ri);w.j.en.set(p.Wg.Ff);};this.kVa=function(){w.log.info("imagesubs buffering complete",w.j.ka.Kd.ri);w.j.en.set(p.Wg.qf);};this.Pra=function(){w.kp && w.fj && w.fj.WH(w.iq());};this.YDb=function(x){w.kp && w.fj && (w.fj.pause(),w.fj.fM(x.vl));};this.HA=function(){w.kp && w.fj && w.fj.PGb();};this.VDb=function(x){w.fj && w.fj.bn(x.ei,x.f_);};this.eEb=function(x){w.fj && w.fj.fl(x.L,x.ROb);};this.ACc=function(){w.kp=!0;(0,l.Gh)(function(){var x,y;(null === (x=w.hP) || void 0 === x?0:x.pq)?null === (y=w.fj) || void 0 === y?void 0:y.WH(w.iq()):w.sync();w.VH();});};this.xCc=function(){w.anb();w.wT.stop();w.VH();w.$g=!0;w.Xta();};this.IVa=function(x){(x=x.newValue) && (0,m.isArray)(x.blocks) && (w.JH.POb.apply(w.JH,Aa(x.blocks.map(function(y){return y.id;}))),!1);};this.GCc=function(x){w.gTc(x.newValue,x.oldValue);w.sync();w.VH();};this.YV=function(x){var y;if(!w.$g){y=x.track;if(y === w.j.ka.Kd)try{w.fj=y.iQa();y.pq?w.P2b(x):w.Q2b(x);}catch(z){w.log.error("Error activating track:",z,y);return;}w.kp || w.j.Sg(x.success?"tt_comp":"tt_err");x.success?(f.config.$Ib?setTimeout(function(){w.j.en.set(p.Wg.qf);},f.config.$Ib):w.j.en.set(p.Wg.qf),y.pq || w.VH()):x.aborted?w.log.warn("aborted timed text track loading"):f.config.mjc?w.j.og(k.ca.IUb,{jf:x.track?x.track.ri:{}}):(w.log.error("ignore subtitle initialization error",x),w.j.en.set(p.Wg.qf));}};this.jc=new h.Vl();this.JH=new g.$eb((0,e.Mn)(u,"SubtitleTracker"),f.config.Ohc);this.log=(0,e.Mn)(u,"TimedTextManager");this.wT=new c.wfb(this.iq,this.VH);this.j.ka.addListener([q.v.Ba],this.wp);f.config.IFc?(this.j.addEventListener(p.ja.kp,this.ACc),this.wp()):(this.j.en.set(p.Wg.qf),this.j.addEventListener(p.ja.kp,function(){w.kp=!0;w.wp();}));this.j.Wb.addListener(this.GCc);this.j.addEventListener(p.ja.t0a,this.sync);this.j.nB.addListener(this.IVa);this.j.addEventListener(p.ja.$g,this.xCc);}Object.defineProperty(b,"__esModule",{value:!0});b.sfb=void 0;n=a(26159);c=a(7953);h=a(94886);f=a(29204);e=a(31276);g=a(69899);k=a(36129);l=a(32219);m=a(32687);p=a(85001);r=a(35781);q=a(26388);d.prototype.ZNc=function(){this.jda=!0;this.wKc();this.VH();};d.prototype.Prc=function(){this.jda=!1;this.Nrc();this.VH();};d.prototype.addEventListener=function(u,v,w){this.jc.addListener(u,v,w);};d.prototype.removeEventListener=function(u,v){this.jc.removeListener(u,v);};d.prototype.fireEvent=function(u,v,w){this.jc.kd(u,v,w);};d.prototype.uIa=function(u,v,w){var x,y;x=this;y=r.qfb.jcc(this.j,u,v,w);this.Jxb(this.j.gj,y);this.j.Gk.forEach(function(z){x.Jxb(z.gj,y);});this.j.ka.qp(y);this.j.fireEvent(p.ja.pB);};d.prototype.aXa=function(u){return this.xYa(u)?u.Poa(this.tM).then(function(){}):Promise.resolve();};d.prototype.Vpc=function(u){return this.JH.xpc(u);};d.prototype.jQa=function(u){return this.JH.jQa(u);};d.prototype.E9=function(){var u,v;u={size:this.tM.Jtb().characterSize};v=this.j.Zda;v && (u.visibility=v.qQa(),u.I6=v.oQa(),u.Lx=v.pQa());return u;};d.prototype.hNc=function(u){this.tM.RMc(u);u=this.j.ka.Kd;this.xYa(u) && !u.pq && u.Poa(this.tM).then(this.YV).catch(this.YV);};d.prototype.gTc=function(u,v){var w;u === p.Kb.hg || u == p.Kb.zi?v !== p.Kb.hg && v !== p.Kb.zi && ((v=this.j.ka.Kd) && !this.xYa(v) || this.JH.NCb(this.iq(),v || void 0,"presentingstate:" + u)):u !== p.Kb.Yg && u !== p.Kb.zw || this.JH.iNa(null !== (w=this.iq()) && void 0 !== w?w:void 0,"presentingstate:" + u);};d.prototype.Xta=function(){this.LS=0;Ca.clearTimeout(this.AKc);};d.prototype.anb=function(){var u;this.fj && this.fj.stop();(null === (u=this.hP) || void 0 === u?0:u.pq) && this.RAb("removeListener");this.fj=void 0;};d.prototype.RAb=function(u){this.fj && (this.fj[u]("showsubtitle",this.EVa),this.fj[u]("removesubtitle",this.mba),this.fj[u]("underflow",this.Wk),this.fj[u]("bufferingComplete",this.kVa),"addListener" === u?(this.j.addEventListener(p.ja.st,this.Pra),this.j.addEventListener(p.ja.ls,this.YDb),this.j.addEventListener(p.ja.$L,this.HA),this.j.addEventListener(p.ja.lra,this.VDb),this.j.addEventListener(p.ja.m1a,this.eEb)):(this.j.removeEventListener(p.ja.st,this.Pra),this.j.removeEventListener(p.ja.ls,this.YDb),this.j.removeEventListener(p.ja.$L,this.HA),this.j.removeEventListener(p.ja.lra,this.VDb),this.j.removeEventListener(p.ja.m1a,this.eEb)));};d.prototype.Yna=function(u){return {currentPts:this.iq(),displayTime:u.displayTime,duration:u.duration,id:u.id,originX:u.originX,originY:u.originY,sizeX:u.sizeX,sizeY:u.sizeY,rootContainerExtentX:u.rootContainerExtentX,rootContainerExtentY:u.rootContainerExtentY};};d.prototype.P2b=function(u){var v,w;v=this;w=u.track;if(!w || !w.pq)throw Error("Not an image base subtitle");u.success?(this.Xta(),this.RAb("addListener"),this.log.info("Activated",w),this.j.Fk.set(w),this.kp?(0,l.Gh)(function(){v.fj.WH(v.iq());}):this.fj.pause()):this.MIb(w,u);};d.prototype.Q2b=function(u){var v,w;v=u.track;w=u.success;if(!v || v.pq)throw Error("Not a valid text track");w?(this.Xta(),this.wT.uKb(this.fj),this.log.info("Activated",v),this.j.Fk.set(v)):this.MIb(v,(0,k.uE)(u));this.VH();};d.prototype.MIb=function(u,v){var w,x;w=this;x=this.LS < f.config.Cyc;x && (this.AKc=Ca.setTimeout(function(){w.LS++;u.Poa(w.tM).then(w.YV).catch(w.YV);},f.config.bRc));this.log.error("Failed to activate" + ((null === u || void 0 === u?0:u.pq)?" img subtitle":""),{retry:x},v,u);};d.prototype.xYa=function(u){return !(!u || u.qq() && !u.Wo());};d.prototype.Jxb=function(u,v){var w;w=u.findIndex(function(x){return x.yc >= v.yc;});-1 === w && (w=0);u.splice(w,0,v);};b.sfb=d;t={};d.dPc=(t[n.NN.$q.LOADING]={aaa:!0},t[n.NN.$q.O3]={kf:!0},t);d.gLb="showsubtitle";d.$Hb="removesubtitle";},79014:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m){var p,r,q,u;p=this;this.j=l;this.XBc=function(){var v;h.re.removeListener(h.koa,p.aEb);v=p.Et.jq();v && v.parentNode && v.parentNode.removeChild(v);};this.IVa=function(v){p.Et.wMc(v.newValue);};this.TCc=function(v){var w;p.Et.HMc(v.Tn?v.Tn.mpa:void 0);p.Et.IMc(null === (w=v.Tn) || void 0 === w?void 0:w.Cg);p.Et.HSc(p.cub(v.Tn));};this.aEb=function(){p.Et.yS();};q=l.ka.Kd?l.ka.Kd.mpa:void 0;u=null === (r=l.ka.Kd) || void 0 === r?void 0:r.Cg;r=this.cub(l.ka.Kd);this.Et=new e.rfb(m,r,q,u);m=l.TT.value;(0,c.ta)(.1 < m.width / m.height);this.Et.hMc(m.width / m.height);l.au.appendChild(this.Et.jq());l.nB.addListener(this.IVa);l.ka.addListener([k.v.Ba],this.TCc);l.addEventListener(g.ja.$g,this.XBc,n.YU);h.re.addListener(h.koa,this.aEb);}Object.defineProperty(b,"__esModule",{value:!0});b.ufb=void 0;n=a(33096);c=a(45146);h=a(37509);f=a(29204);e=a(97154);g=a(85001);k=a(26388);d.prototype.YZa=function(l){this.Et.YZa(l);};d.prototype.qQa=function(){return this.Et.qQa();};d.prototype.WZa=function(l){this.Et.WZa(l);};d.prototype.oQa=function(){return this.Et.oQa();};d.prototype.XZa=function(l){this.Et.XZa(l);};d.prototype.pQa=function(){return this.Et.pQa();};d.prototype.cub=function(l){var m;if(l && f.config.Spa && 0 <= f.config.Spa.indexOf(l.Cg)){m=Object.assign({},f.config.Eva);Object.entries(m).forEach(function(p){var r;r=Fa(p);p=r.next().value;r=r.next().value;m[p]=r.replace(/font-weight:bolder/g,"font-weight:normal");});return m;}return f.config.Eva;};b.ufb=d;},28838:function(t,b,a){var d,n,c,h,f,e,g,k,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.Df=void 0;t=a(22674);d=a(58421);n=a(6856);c=a(48864);h=a(37187);f=a(17842);e=a(96723);g=a(67371);k=a(47511);l=a(45613);m=a(51361);b.Df=new t.we(function(p){p(h.Uha).to(d.hFa).pa();p(f.gEa).to(c.fEa).pa();p(e.cgb).to(n.MFa).pa();p(g.KWb).to(k.wCa).pa();p(l.XZb).to(m.YFa).pa();});},97368:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nHc=function(a){var d,n;d=!1;n=!1;return function(){if(d)n=!0;else for(n=!0;n;){n=!1;d=!0;try{a();}finally{d=!1;}}};};},54973:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.k9=function(n,c,h){return n.gOa?d.Tq.oI:c && !h?d.Tq.oI:d.Tq.Zq;};d=a(24735);},67371:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.KWb="ObjectComparerSymbol";},88195:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.qg=function(n,c){return [].concat.apply([],Aa(n)).map(function(h){return Object.assign({name:h},null !== c && void 0 !== c?c:{});});};b.GA=function(n,c){for(var h=[],f=1;f < arguments.length;++f)h[f - 1]=arguments[f];return (0,d.Xpb)(function(e,g){return e.name === g;},n,h);};d=a(45266);},17842:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gEa="QueryStringDataProviderSymbol";},37187:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uha=b.su=void 0;b.su=function(){};b.Uha="StringObjectReaderSymbol";},79542:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WX=void 0;b.yyb=function(a){return void 0 !== a && null !== a;};b.mHb=function(a,d){return a.includes(d);};b.WX=function(){return null;};},96723:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cgb="UuidProviderSymbol";},45613:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.XZb="WindowUtilsSymbol";},47511:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.wCa=void 0;t=a(22970);n=a(22674);c=a(76564);d.prototype.compare=function(h,f){var e;e=[];this.NKa(h,f,"",e);return e;};d.prototype.NKa=function(h,f,e,g){var k;k=this;if(c.sN.IO(h))c.sN.IO(f) && h.length === f.length?h.forEach(function(p,r){k.NKa(h[r],f[r],e + "[" + r + "]",g);}):g.push({a:h,b:f,path:e});else if(c.sN.h6(h) && null != h){if(c.sN.h6(f) && null != f){for(var l in h)this.NKa(h[l],f[l],e + "." + l,g);for(var m in f)(m in h) || void 0 === f[m] || g.push({a:void 0,b:f[m],path:e + "." + m});}else g.push({a:h,b:f,path:e});}else h !== f && g.push({a:h,b:f,path:e});};a=d;b.wCa=a;b.wCa=a=t.__decorate([(0,n.$)()],a);},48864:function(t,b,a){var n,c,h,f;function d(e){this.location=e;(0,c.Kv)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.fEa=void 0;t=a(22970);c=a(66523);h=a(63368);a=a(22674);d.rsa=function(e){var g,l,m;g={};if(0 < e.length){e=e.split("&");for(var k=0;k < e.length;k++){l=e[k].trim();m=l.indexOf("=");0 <= m?g[decodeURIComponent(l.substr(0,m).replace(n.qbb,"%20"))]=decodeURIComponent(l.substr(m + 1).replace(n.qbb,"%20")):g[l.toLowerCase()]="";}}return g;};Ha.Object.defineProperties(d.prototype,{GHc:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=n.rsa(this.UGb);}},UGb:{configurable:!0,enumerable:!0,get:function(){var e;if(void 0 !== this.Zba)return this.Zba;this.Zba=this.location.search.substr(1);e=this.Zba.indexOf("#");0 <= e && (this.Zba=this.UGb.substr(0,e));return this.Zba;}}});f=n=d;b.fEa=f;f.qbb=/[+]/g;b.fEa=f=n=t.__decorate([(0,a.$)(),t.__param(0,(0,a.u)(h.R9a))],f);},58421:function(t,b,a){var n,c,h,f,e,g;function d(k,l){this.is=k;this.json=l;(0,c.Kv)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.hFa=void 0;t=a(22970);c=a(66523);h=a(63368);f=a(22674);e=a(42207);g=a(37187);d.prototype.iHb=function(k){var l;l=this;return n.read(k,function(m){return parseInt(m);},function(m){return l.is.VIa(m);});};d.prototype.LXa=function(k){var l;l=this;return n.read(k,function(m){return "true" == m?!0:"false" == m?!1:void 0;},function(m){return l.is.rja(m);});};d.prototype.dw=function(k){var l;l=this;return n.read(k,function(m){return parseInt(m);},function(m){return l.is.i6(m);});};d.prototype.QHc=function(k){var l;l=this;return n.read(k,function(m){return parseFloat(m);},function(m){return l.is.Ao(m);});};d.prototype.gHb=function(k,l){return n.read(k,function(m){return n.Ljc(m,l);},function(m){return void 0 !== m;});};d.prototype.PXa=function(k,l){return n.read(k,function(m){return m;},function(m){return l?l.test(m):!0;});};d.prototype.jHb=function(k){var l,m;l=this;m=void 0 === m?function(){return !0;}:m;try{return n.read(k,function(p){return l.json.parse(decodeURIComponent(p));},function(p){return l.is.h6(p) && m(p);});}catch(p){return new g.su();}};d.prototype.Tm=function(k,l,m){var p,r;p=this;m=void 0 === m?1:m;k=k.trim();r=l instanceof Function?l:this.Xcc(l,m);l=k.indexOf("[");m=k.lastIndexOf("]");if(0 != l || m != k.length - 1)return new g.su();k=k.substring(l + 1,m);try{return n.gEc(k).map(function(q){q=r(p,n.NTc(q));if(q instanceof g.su)throw q;return q;});}catch(q){return q instanceof g.su?q:new g.su();}};d.prototype.Xcc=function(k,l){var m;m=this;l=void 0 === l?1:l;return function(p,r){p=n.yoc(k);return 1 < l?m.Tm(r,k,l - 1):p(m,r);};};d.Ljc=function(k,l){var p;for(var m in l){p=parseInt(m);if(l[p] == k)return p;}};d.read=function(k,l,m){k=l(k);return void 0 !== k && m(k)?k:new g.su();};d.yoc=function(k){switch(k){case "int":return function(l,m){return l.iHb(m);};case "bool":return function(l,m){return l.LXa(m);};case "uint":return function(l,m){return l.dw(m);};case "float":return function(l,m){return l.QHc(m);};case "string":return function(l,m){return l.PXa(m);};case "object":return function(l,m){return l.jHb(m);};}};d.gEc=function(k){var w;for(var l=[["[","]"]],m=[],p=0,r=0,q=0,u=[],v={};r < k.length;(v={R1:v.R1},++r)){v.R1=k.charAt(r);w=void 0;"," == v.R1 && 0 == q?(m.push(k.substr(p,r - p)),p=r + 1):(w=l.find((function(x){return function(y){return y[0] == x.R1;};})(v)))?(++q,u.push(w)):0 < u.length && u[u.length - 1][1] == v.R1 && (--q,u.pop());}if(p != r)m.push(k.substr(p,r - p));else if(p == r && 0 < p)throw new g.su();return m;};d.NTc=function(k){var l;l=k.charAt(0);if('"' == l || "'" == l){if(k.charAt(k.length - 1) != l)throw new g.su();return k.substring(1,k.length - 1);}return k;};a=n=d;b.hFa=a;b.hFa=a=n=t.__decorate([(0,f.$)(),t.__param(0,(0,f.u)(e.wi)),t.__param(1,(0,f.u)(h.HU))],a);},6856:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.MFa=void 0;t=a(22970);a=a(22674);d.prototype.ntb=function(c){var h;h=this;return c?(c ^ 16 * Math.random() >> c / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(f){return h.ntb(f);});};n=d;b.MFa=n;b.MFa=n=t.__decorate([(0,a.$)()],n);},51361:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.YFa=void 0;t=a(22970);n=a(22674);a(22365);b.YFa=d;b.YFa=d=t.__decorate([(0,n.$)()],d);},67590:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vxa="AsePrefetcherAdapterSymbol";b.q3a="AsePrefetcherProviderSymbol";},18148:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.l9a=36E7;b.Vxa="CacheManagerFactorySymbol";},99584:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v;Object.defineProperty(b,"__esModule",{value:!0});b.fg=void 0;t=a(22674);d=a(68976);n=a(37780);c=a(66476);h=a(87657);f=a(12849);e=a(85671);g=a(19484);k=a(71576);l=a(32737);m=a(59315);p=a(20318);r=a(67590);q=a(61170);u=a(18148);v=a(94028);b.fg=new t.we(function(w){w(d.ccb).to(n.uDa).pa();w(h.Wcb).to(f.bEa).pa();w(c.ON).to(e.RFa).pa();w(l.Vcb).to(k.EBa).pa();w(l.Ucb).to(g.OAa).pa();w(r.q3a).oRc(function(){var x;return null === (x=p.Su.Lj) || void 0 === x?void 0:x.RA;});w(r.vxa).to(q.uxa).pa();w(m.XDa).to(m.WDa);w(u.Vxa).to(v.Uxa).pa();});},68976:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ccb="PlayPredictionDeserializerSymbol";},32737:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vcb="PreparerManifestFetcherSymbol";b.Ucb="PreparerLicenseFetcherSymbol";},32573:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Yq={};t.wm="created";t.qy="started";t.d1="succeeded";t.kf="failed";t.Rc="cancelled";t.E8b="cancelled_on_start";t.eKa="cancelled_not_encrypted";},87657:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.iha={};t.HQc="taskstart";t.FQc="taskabort";t.GQc="taskfail";t.IQc="tasksuccess";b.Wcb="PreparerTaskSchedulerSymbol";},66476:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ON="VideoPreparerSymbol";},61170:function(t,b,a){var c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B;function d(){var A;A=this;this.promise=new Promise(function(C,D){A.resolve=C;A.reject=D;});}function n(A,C,D,F,G){var E;E=this;this.PWa=D;this.ZFc=F;this.hh=G;this.Vea=[];this.CL=new Map();this.hRa=new Map();this.FCc=function(H){var J,L;H=(0,f.Jf)(H.wishListItem.key);if(E.CL.has(H)){L=E.CL.get(H);H=L.V_;L=L.RKa;null === (J=L.resolve) || void 0 === J?void 0:J.call(L,H);}};this.Ura=function(H){var J,L;J=H.J;L=H.S;H.target.T1a(H.J) || (E.ve.has({J:J}) && (E.ve.Jr(J).kx=!0),null === L || void 0 === L?void 0:L.then(function(K){var M;M=K.Aa;M && M.Fb && M.Sp && M.Sp.forEach(function(P){var I;I={Hf:{Fb:M.Fb,fd:J}};E.ve.has({J:P.R,fd:M.R,Fb:M.Fb}) && (E.ve.Jr(P.R,I).kx=!0);});}).catch(function(){}),E.LHb(J),E.NKb(E.Vea));};this.yrb=function(H,J){var L,K;L=H.J;K=H.S;H.target.T1a(L) || (null === K || void 0 === K?void 0:K.then(function(M){(M=M.Aa) && M.Fb && M.Fb === J.Fb && L === J.fd && (M={Hf:{Fb:M.Fb,fd:L}},E.ve.has(J) && (E.ve.Jr(J.J,M).kx=!0),E.hRa.delete(E.ve.generateKey(J)));}).catch(function(){}));};this.va=A.ub("VideoPreparer");this.config=C();}Object.defineProperty(b,"__esModule",{value:!0});b.uxa=void 0;t=a(22970);c=a(87386);a(50323);h=a(20318);f=a(45247);e=a(4203);g=a(29204);k=a(72639);l=a(67590);m=a(22674);p=a(59315);r=a(90745);q=a(49745);u=a(64213);v=a(25505);w=a(45146);x=a(37991);y=a(91176);z=a(54973);B=a(31149);n.prototype.Sb=function(A){var C;C=this;this.ve=new u.TFa(function(D,F){return C.qC(D,A,h.Su.pm,F);},function(D){return C.CS(A,D);},function(D,F){return C.DS(D,A,F);});};n.prototype.fetch=function(A,C){var D;D=this;if(-1 === C.events.listeners("manifestRemovedFromCache").indexOf(this.Ura))C.events.on("manifestRemovedFromCache",this.Ura);if(-1 === C.events.listeners("playbackClosing").indexOf(this.Ura))C.events.on("playbackClosing",this.Ura);!1;return this.Po(A.R,C,A.Bb).then(function(){D.NKb(D.u$b(D.Gdc(A,C)));return D.CL.get(A.R).RKa.promise;});};n.prototype.getStats=function(){return this.RA.getStats();};n.prototype.ZLb=function(A,C,D){C={Vj:D,S:C};this.hRa.set(this.ve.generateKey(A),C);};n.prototype.Uoc=function(A){return this.hRa.get(this.ve.generateKey(A));};n.prototype.u$b=function(A){return [A].concat(Aa(this.Vea.filter(function(C){return (0,f.Jf)(C.key) !== (0,f.Jf)(A.key);}))).slice(0,this.config.XFc).map(this.config.YFc?function(C,D){return Object.assign({},C,{priority:D});}:function(C){return C;});};n.prototype.Cub=function(A,C,D){var F;F=this;D=void 0 === D?{}:D;return this.Po(A,C,D).then(function(G){F.qLa(G,C);return G.Aa;}).catch(function(G){var E;throw new f.IB("Failed to request manifest",{sm:0,pva:0,errorCode:null !== (E=G.code) && void 0 !== E?E:0,context:{error:G instanceof B.ie?G.toJSON():G,type:"manifest"}});});};n.prototype.Po=function(A,C,D){var F,G;D=void 0 === D?{}:D;G=new y.AbortController();return this.hh.Po({Ia:null !== (F=C.Xz(A)) && void 0 !== F?F:C.HLa(A),J:A,xt:k.Fp.o4,li:(0,z.k9)(this.config,!0),mb:D},G.signal);};n.prototype.LKb=function(A,C){var G;function D(E){G.yrb(E,C);A.events.Om("playbackClosing",D);}function F(E){G.yrb(E,C);A.events.Om("manifestRemovedFromCache",F);}G=this;A.events.on("manifestRemovedFromCache",F);A.events.on("playbackClosing",D);};n.prototype.DS=function(A,C,D){var F,G,E,H,J,L;F=this;G=A.Wx;E=A.M6;A=A.Hf;H=A.Fb;J=A.fd;L=this.ve.Jr(J);return L.ku.then(function(K){var M,P,I;K=K.S.Sd;M=L.Ia;P=k.Fp.Zq;I={PC:!0,Hg:!1,rB:Date.now()};return F.hh.Po({Ia:Number(M),mb:I,J:J,M6:E,Wx:G,xt:P,li:void 0,AM:void 0,me:{Fb:H,nD:K}},D,!1).then(function(O){F.qLa(O,C);F.hh.tGb();O.Sp.forEach(function(Q){var S;F.hh.lT(Q.Aa.R,Q);S={J:Q.Aa.R,fd:J,Fb:H};F.ZLb(S,Q);F.LKb(C,S);});if(!O.Aa.Od)throw Error("Dai prefetch request has no adverts forparentViewableId: " + J);return O.Aa.Od;});});};n.prototype.CS=function(A,C){var D,F,G,E,H,J,L,K;D=this;(0,w.ta)(C.Hf,"auxiliaryOptions must exist if an adBreak hydration was requested");G=C.Hf;E=G.Fb;H=G.fd;J=C.Vj;L=C.Xa;(0,w.ta)(!!E,"auxiliaryManifestToken must exist if an adBreak hydration was requested");K=this.ve.Jr(null === (F=null === C || void 0 === C?void 0:C.Hf) || void 0 === F?void 0:F.fd);return K.ku.then(function(M){var P,I,O,Q;M=M.S.Sd;P=K.Ia;(0,w.ta)(void 0 !== P,"parent xid must exist if an adBreak hydration was requested");I=k.Fp.Zq;O={PC:!0,Hg:!1,rB:Date.now()};Q=new y.AbortController();return D.hh.Po({Ia:Number(P),mb:O,J:H,xt:I,li:void 0,AM:void 0,me:{Vj:J,Xa:L,Fb:E,fd:H,nD:M}},Q.signal,!1).then(function(S){var U,W;D.qLa(S,A);S.Sp.forEach(function(Y){var X;X={J:Y.Aa.R,fd:H,Fb:E};D.ZLb(X,Y,J);D.LKb(A,X);});if(null === (U=S.Aa.Od) || void 0 === U || !U.rb.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (H + ", adBreakToken: " + J + ", adBreakTriggerId: " + L));return null === (W=S.Aa.Od) || void 0 === W?void 0:W.rb[0];});});};n.prototype.qLa=function(A,C){var D,F,G;D=this;F=A.Aa;null === (G=F.Sp) || void 0 === G?void 0:G.forEach(function(E){D.qC(E.R,C,h.Su.pm,{Hf:{Fb:E.Fb,fd:F.R}},E);});};n.prototype.Gdc=function(A,C){var D,F,G,E,H,J;G=new d();if(this.CL.has(A.R)){E=this.CL.get(A.R);H=E.V_;if(H.R === A.R && H.$e === A.$e)J=E.KUc.key;this.RA.getStats().contents.some(function(L){return L.id === A.R;}) && (G=E.RKa);}E=h.Su.pm.ot((0,g.XKa)(A.$e));J || (J={J:A.R,config:E});H={J:A.R};this.ve.has(H) || this.ve.store(H,this.Edc(A,C,E));C={key:J,R6c:!1,priority:A.priority,zka:f.I.Ca(null !== (F=null === (D=A.Bb) || void 0 === D?void 0:D.Eb) && void 0 !== F?F:0),ve:this.ve};this.CL.set(A.R,{KUc:C,V_:A,RKa:G});return C;};n.prototype.Edc=function(A,C,D){var F,G,E;F=this;G=A.R;return {get Ia() {return C.Xz(G);},kx:!1,events:new r.EventEmitter(),KW:function(){},get ku() {E || (E=F.Cub(A.R,C,A.Bb).then(function(H){return {S:H,lC:H.noa && !H.qK,config:D,n_a:{}};}));return E;},J:G,sva:!1,equals:function(H){var J;J=C.Xz(G);return H && H.J === G && (!H.Ia || !J || J === H.Ia);}};};n.prototype.qC=function(A,C,D,F,G){var E,H,J,L,K,M,P,I;E=this;K=C.Xz(A);if(K || F){M={J:A,fd:null === (H=null === F || void 0 === F?void 0:F.Hf) || void 0 === H?void 0:H.fd,Fb:null === (J=null === F || void 0 === F?void 0:F.Hf) || void 0 === J?void 0:J.Fb};if(!this.ve.has(M)){P=null !== K && void 0 !== K?K:this.ve.Jr(null === (L=null === F || void 0 === F?void 0:F.Hf) || void 0 === L?void 0:L.fd).Ia;this.ve.store(M,{KW:function(){},equals:function(O){return O && O.J === M.J && (P === O.Ia || !O.Ia || !P);},get ku() {I || (I=(G?Promise.resolve(G):E.Cub(A,C)).then(function(O){return {S:O,lC:O.noa && !O.qK,config:D,n_a:{}};}));return I;},set ku(O) {I=O;},events:new r.EventEmitter(),Ia:P,J:M.J,kx:!1,sva:!1});}}};n.prototype.sKb=function(A){this.Vea=A;};n.prototype.NKb=function(A){this.sKb(A);this.RA.e_a(this.Vea);};n.prototype.LHb=function(A){this.CL.has(A) && (this.sKb(this.Vea.filter(function(C){return (0,f.Jf)(C.key) !== A;})),this.CL.delete(A));};Ha.Object.defineProperties(n.prototype,{RA:{configurable:!0,enumerable:!0,get:function(){this.jF || (this.jF=this.ZFc(),this.jF.HIa(new x.Idb()).KZa(this.PWa).CKb(new v.I8a()).gKb({wG:this.config.WFc}),this.jF.events.on("prefetchComplete",this.FCc));return this.jF;}}});a=n;b.uxa=a;b.uxa=a=t.__decorate([(0,m.$)(),t.__param(0,(0,m.u)(c.yb)),t.__param(1,(0,m.u)(e.Fc)),t.__param(2,(0,m.u)(p.XDa)),t.__param(3,(0,m.u)(l.q3a)),t.__param(4,(0,m.u)(q.QU))],a);},94028:function(t,b,a){var n,c,h,f,e,g;function d(k,l,m){var p;p=this;this.$h=l;l=m();this.Tf=new g({log:k.ub("CacheManager"),La:{getTime:function(){return p.$h.wc().oa(f.ya);}},Promise:Promise,NC:!1,B7b:l.eGc,A7b:l.cGc,Ric:l.mGb,Qic:l.dGc});}Object.defineProperty(b,"__esModule",{value:!0});b.Uxa=void 0;t=a(22970);n=a(22674);c=a(81918);h=a(87386);f=a(5021);e=a(4203);g=a(83195);b.Uxa=d;b.Uxa=d=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.yb)),t.__param(1,(0,n.u)(c.$d)),t.__param(2,(0,n.u)(e.Fc))],d);},25505:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.I8a=void 0;a.prototype.psb=function(d,n){var c;return null !== (c=this.Mjc(d,n)) && void 0 !== c?c:this.Qjc(d,n);};a.prototype.Mjc=function(d,n){var c,h;c=this;h=n.Z;return d.find(function(f){var e;return c.bMa(h,null === (e=f.Z) || void 0 === e?void 0:e.Z);});};a.prototype.Qjc=function(d,n){var c,h;c=n.Z.lf;h=n.Z.ba[c];return d.find(function(f){var e;f=null === (e=f.Z) || void 0 === e?void 0:e.Z;f=(e=null === f || void 0 === f?void 0:f.lf) && (null === f || void 0 === f?void 0:f.ba[e]) || void 0;return c === e && h.J === (null === f || void 0 === f?void 0:f.J) && h.eb === (null === f || void 0 === f?void 0:f.eb);});};a.prototype.bMa=function(d,n){var c;c=this;return d === n?!0:"object" !== typeof d || "object" !== typeof n?d === n:Object.keys(d).length === Object.keys(n).length && Object.keys(d).every(function(h){return c.bMa(d[h],n[h]);});};b.I8a=a;},19484:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q;function d(u,v,w,x,y,z){this.N$b=v;this.Ed=w;this.cgc=x;this.OZ=y;this.hh=z;this.log=u.ub("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.OAa=void 0;t=a(22970);n=a(22674);c=a(87386);h=a(4203);f=a(2248);e=a(47737);g=a(92395);k=a(32573);l=a(50323);m=a(49745);p=a(82100);r=a(56039);q=a(54973);d.prototype.fetch=function(u,v){var w;w=this;this.log.trace("Fetching LDL",(0,l.zza)(u));this.R=u.R;this.fg=v;return v.T8(u.R,"ldl").then(function(x){return x.Aua;}).catch(function(){w.log.trace("Requesting a new license",(0,l.zza)(u));return w.hh.U8(u.R).then(function(x){var y,z,B,A,C,D,F;w.Aa=x.Aa;if(v.nwb(u.R))return v.T8(u.R,"ldl").then(function(G){return G.Aua;});y=w.fg.ENc(u.R,w.Aa);if(y)throw {status:y};z=w.Aa.Ay[0];y=z.jta;B=z.tqb;z=z.streams[0].CJ;A=(0,p.byb)(z);C=(y?y:[B]).map(function(G){return w.Ed.decode(G.bytes);});D=(0,q.k9)(w.N$b(),!0,u.iSa);F=w.cgc().then(function(G){var E,H,J;J={type:D,initData:C,epa:A,pA:(0,r.nPa)(w.Aa.Ay[0].streams),hs:{R:u.R,Ia:v.HLa(u.R),Sd:w.Aa.Sd,Er:w.Aa.Er,Zo:x.Zo,Of:w.Aa.Of,Bp:null !== (H=null === (E=w.Aa.uS) || void 0 === E?void 0:E.Bp) && void 0 !== H?H:w.Aa.Ay[0].Nh}};return G.Kt(J,w.OZ());}).catch(function(G){w.handleError("Unable to prepare an EME session.",G);throw G;});w.fg.lMc(u.R,{Aua:F,lTa:{source:"videopreparer",type:D}},function(){if(!w.fg.T1a(u.R))try{F.then(function(G){return G.close();}).catch(function(G){w.handleError("Unable to cleanup LDL session, Unable to get the session.",G);});}catch(G){w.handleError("Unable to cleanup LDL session, unexpected exception.",G);}});return F;}).catch(function(x){w.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:k.Yq.Rc};});});};d.prototype.handleError=function(u,v){this.log.warn(u + " LDL is now invalid.",v);this.fg.P9b(this.R);this.fg.dnb(this.R);};a=d;b.OAa=a;b.OAa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.yb)),t.__param(1,(0,n.u)(h.Fc)),t.__param(2,(0,n.u)(f.Sl)),t.__param(3,(0,n.u)(e.Rfa)),t.__param(4,(0,n.u)(g.Z3)),t.__param(5,(0,n.u)(m.QU))],a);},71576:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r;function d(q,u,v,w,x){this.qaa=v;this.$h=w;this.hh=x;this.log=q.ub("VideoPreparer");this.config=u();}Object.defineProperty(b,"__esModule",{value:!0});b.EBa=void 0;t=a(22970);n=a(4203);c=a(22674);h=a(87386);f=a(81918);e=a(5021);g=a(17398);k=a(72639);l=a(50323);m=a(49745);p=a(91176);r=a(54973);d.prototype.fetch=function(q,u){var v,w,x;this.log.trace("Fetching manifest",(0,l.zza)(q));w=q.Bb;x=new p.AbortController();this.config.K2b && w && w.S && !this.hh.Av(q.R) && (!(("clientGenesis" in w.S) && w.S.clientGenesis) || "number" === typeof w.S.clientGenesis && Date.now() - w.S.clientGenesis < this.config.mGb) && (w=this.qaa.create(w.S)) && (w.ES=this.$h.wc().oa(e.ya),w.o0=this.$h.wc().oa(e.ya),this.hh.lT(q.R,w));return this.hh.Po({Ia:u.HLa(q.R),J:q.R,mb:null !== (v=q.Bb) && void 0 !== v?v:{},xt:k.Fp.o4,li:(0,r.k9)(this.config,!0,q.iSa)},x.signal,!0,function(y){u.events.emit("manifestRemovedFromCache",{target:u,type:"manifestRemovedFromCache",J:q.R,S:y});});};a=d;b.EBa=a;b.EBa=a=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(h.yb)),t.__param(1,(0,c.u)(n.Fc)),t.__param(2,(0,c.u)(g.PU)),t.__param(3,(0,c.u)(f.$d)),t.__param(4,(0,c.u)(m.QU))],a);},37780:function(t,b,a){var n,c,h;function d(f,e){this.dc=e;this.va=f.ub("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.uDa=void 0;t=a(22970);n=a(22674);c=a(87386);a=a(42207);d.prototype.kfc=function(f){var e;e=this;try{return {direction:f.direction,q7c:f.layoutHasChanged,h$c:f.rowInteractionIndex,qc:f.lolomos.map(function(g){return e.ffc(g);})};}catch(g){this.va.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(f)});}};d.prototype.ffc=function(f){var e;e=this;return {context:f.context,list:f.list.map(function(g){return e.efc(g);}),requestId:f.requestId,rowIndex:f.rowIndex,i$c:f.rowSegment};};d.prototype.efc=function(f){var e,g;e={gd:f.pts,property:f.property,J:f.viewableId,index:f.index};g=f.preplay;this.dc.gi(g) && (e.Zsa=this.jfc(g));f=f.params;this.dc.gi(f) && (e.Bb=this.Jpb(f));return e;};d.prototype.jfc=function(f){var e;e={gd:f.pts,J:f.viewableId,P_:f.pipelineNum,index:f.index};f=f.params;this.dc.gi(f) && (e.Bb=this.Jpb(f));return e;};d.prototype.Jpb=function(f){return {$e:f.uiLabel,jn:f.trackingId,Eq:f.sessionParams};};d.prototype.ifc=function(f){var e;e=this;try{return f.map(function(g){return e.gfc(g);});}catch(g){this.va.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(f)});}};d.prototype.gfc=function(f){var e,g;g=f.params;this.dc.gi(g) && (e=this.hfc(g));return {R:f.movieId,priority:f.priority,force:f.force,Bb:e,$e:f.uiLabel,iSa:f.isLivePostplay,Tad:f.uiExpectedStartTime,Sad:f.uiExpectedEndTime,No:f.firstTimeAdded};};d.prototype.hfc=function(f){var e,g;e=void 0;g=f.sessionParams;this.dc.gi(g) && (e=g);return {rka:this.dfc(f.authParams),Eq:e,jn:f.trackingId,Eb:f.startPts,S:f.manifest,Hg:f.isBranching};};d.prototype.dfc=function(f){return {OEc:null === f || void 0 === f?void 0:f.pinCapableClient};};h=d;b.uDa=h;b.uDa=h=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.yb)),t.__param(1,(0,n.u)(a.wi))],h);},59315:function(t,b,a){var n,c,h,f,e,g;function d(k,l,m){this.wq=k;this.config=l;this.debug=m;}Object.defineProperty(b,"__esModule",{value:!0});b.XDa=b.WDa=void 0;t=a(22970);n=a(45247);c=a(22674);h=a(75864);f=a(79048);e=a(4203);a=a(90597);d.prototype.bBb=function(k){var l,m;l=this;if(k.Cd.key.Z)return Promise.resolve(k.Cd.key.Z);m=(0,n.Jf)(k.Cd.key);this.debug.assert(!!m,"SmallAsset is not supported");return k.Cd.ve.Jr(m).ku.then(function(p){p=p.S;return p.xr?(0,f.vKa)(p.xr,{config:l.config()}):(0,f.s_a)(m,l.wq.ox(m));});};g=d;b.WDa=g;b.WDa=g=t.__decorate([(0,c.$)(),t.__param(0,(0,c.u)(h.r4)),t.__param(1,(0,c.u)(e.Fc)),t.__param(2,(0,c.u)(a.wB))],g);b.XDa="PlaygraphResolverSymbol";},50323:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zza=function(){return "";};},79538:function(t,b,a){var n,c;function d(h,f,e,g,k,l,m,p){this.type=h;this.wm=f;this.JEc=void 0 === e?!1:e;this.notify=k;this.vjc=l;this.V_=m;this.fg=p;this.id=++c;this.status=n.Yq.wm;}Object.defineProperty(b,"__esModule",{value:!0});b.hha=void 0;n=a(32573);c=0;d.prototype.zt=function(){var h;h={id:this.id,type:this.type,created:this.wm,status:this.status,movieId:this.R};this.startTime && (h.startTime=this.startTime);this.endTime && this.startTime && (h.duration=this.endTime - this.startTime,h.endTime=this.endTime);return h;};d.prototype.k_=function(h){this.notify && this.notify(h);};d.prototype.PKc=function(){return this.vjc.fetch(this.V_,this.fg);};Ha.Object.defineProperties(d.prototype,{R:{configurable:!0,enumerable:!0,get:function(){return this.V_.R;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.V_.priority;}}});b.hha=d;},12849:function(t,b,a){var n,c,h,f,e,g,k,l,m,p;function d(r,q,u,v){this.is=u;this.$h=v;this.log=r.ub("TaskScheduler");this.jc=new m.Vl();this.config=q();this.currentIteration=this.w7=0;this.sT=[];this.paused=!1;this.cva=[];this.Cnb=[];this.$sc=this.config.bGc || p.append;this.addEventListener=this.jc.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.bEa=void 0;t=a(22970);n=a(22674);c=a(87657);h=a(87386);f=a(4203);e=a(32573);g=a(42207);k=a(81918);l=a(5021);m=a(94886);(function(r){r.prepend="prepend";r.append="append";r.Eoa="ignore";})(p || (p={}));d.prototype.S3b=function(r){this.log.trace("adding tasks, number of tasks: " + r.length);this.paused=!1;this.sT=this.atc(r);this.w7=0;this.currentIteration+=1;this.Gh();};d.prototype.pause=function(){this.paused=!0;};d.prototype.Gh=function(){var r,q,u,v;r=this;if(this.w7 === this.sT.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.w7,numberOfTasks:this.sT.length});else {q=this.poc();u=this.currentIteration;q.startTime=this.$h.wc().oa(l.ya);q.status=e.Yq.qy;this.jc.kd(c.iha.HQc,{R:q.R,type:q.type});this.cva.push(q);v=function(w){q.endTime=r.$h.wc().oa(l.ya);w();r.Cnb.push(q);r.cva.splice(r.cva.indexOf(q),1);r.currentIteration === u && (r.w7++,r.Gh());};q.PKc().then(function(){v(function(){q.status=e.Yq.d1;r.rXa(q,c.iha.IQc,"task succeeded");});}).catch(function(w){v(function(){0 <= [e.Yq.Rc,e.Yq.E8b,e.Yq.eKa].indexOf(w.status)?(q.status=w.status,r.rXa(q,c.iha.FQc,"cancelled task")):(q.status=e.Yq.kf,r.rXa(q,c.iha.GQc,"task failed",w));});});}};d.prototype.poc=function(){return this.sT[this.w7];};d.prototype.getStats=function(r,q,u){var v,w,x,y;v=this.Cnb.map(function(z){return z.zt();});w=this.cva.map(function(z){return z.zt();});x=this.is.gi(r) && this.is.gi(q);y={};if(this.is.gi(u))return (y.C$b=v.filter(function(z){return z.movieId === u;}),y);v.concat(w).forEach(function(z){var B;y[z.type + "_" + z.status]=(y[z.type + "_" + z.status] | 0) + 1;B=z.status == e.Yq.qy?z.startTime:z.endTime;x && B && B >= r && B < q && (y[z.type + "_" + z.status + "_delta"]=(y[z.type + "_" + z.status + "_delta"] | 0) + 1);});return y;};d.prototype.rXa=function(r,q,u,v){var w;w=r.zt();v?this.log.warn(u,w,v):this.log.trace(u,w);this.jc.kd(q,{R:r.R,type:r.type,reason:r.status});r.k_(w);};d.prototype.atc=function(r){var q,u;q=this.sT.filter(function(v){return v.JEc && v.status === e.Yq.wm;});u=this.$sc;return u === p.Eoa?[].concat(r):u === p.prepend?q.concat(r):r.concat(q);};a=d;b.bEa=a;b.bEa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.yb)),t.__param(1,(0,n.u)(f.Fc)),t.__param(2,(0,n.u)(g.wi)),t.__param(3,(0,n.u)(k.$d))],a);},37991:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Idb=void 0;a.prototype.ZJa=function(d,n){var c;d=n(d);null === (c=d.mp) || void 0 === c?void 0:c.forEach(function(h){h.cMb.video.push({Qka:!1,oh:function(f){return f.filter(function(e){return !e.gk || 1080 >= e.IS;});}});});return d;};b.Idb=a;},85671:function(t,b,a){var c,h,f,e,g,k,l,m,p,r,q,u,v,w,x;function d(y,z,B,A,C,D,F,G,E,H){this.XUc=B;this.dc=A;this.$h=C;this.mc=D;this.Wrb=F;this.sjc=G;this.Pma=E;this.events=new x.EventEmitter();this.log=y.ub("VideoPreparer");this.config=z();this.h2a={};this.Xqa={};this.stats={num_of_calls:0,num_of_movies:0};this.Pma.Sb(this);this.Tf=H.Tf;}function n(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.RFa=void 0;t=a(22970);c=a(79538);h=a(4203);f=a(22674);e=a(87386);g=a(62665);k=a(42207);l=a(87657);m=a(81918);p=a(5021);r=a(32573);q=a(18148);u=a(32737);v=a(67590);w=a(91176);x=a(90745);d.prototype.lMc=function(y,z,B){this.Tf.setData(y,"ldl",z,B);};d.prototype.nwb=function(y){return this.Tf.L9(y,"ldl");};d.prototype.P9b=function(y){this.Tf.clearData(y,"ldl",void 0,!0);};d.prototype.T8=function(y,z){return this.Tf.getData(y,z);};d.prototype.Wlc=function(y){var z;z=this.Tf.getData(y,"ldl");this.Tf.clearData(y,"ldl",void 0,!0);return z;};d.prototype.T1a=function(y){return this.OLb === y || this.Oob === y;};d.prototype.jS=function(y,z){var B,A,C;B=this;y=y.map(function(D){D.Bb=D.Bb || ({rka:{OEc:!1},jn:0});B.dc.sX(D.Bb.jn) || (D.Bb.jn=0);B.dc.sX(D.gd) && (D.Bb.Eb=D.gd);return D;});A=y.map(function(D){return B.vdc(D,z);}).reduce(function(D,F){return D.concat(F);},[]);C=A.map(function(D){return D.R + "-" + D.type;});this.log.trace("prepare tasks",C);this.mc.S3b(A);this.stats.num_of_calls++;this.stats.num_of_movies+=y.length;};d.prototype.getStats=function(y,z,B){return Object.assign(Object.assign({},B && this.Xqa[B] || ({})),{sT:this.mc.getStats(y,z,B),cache:this.Tf.getStats(y,z),Xkc:Object.assign(Object.assign({},this.stats),this.Pma.getStats())});};d.prototype.crc=function(y){this.OLb=y;};d.prototype.$qc=function(y){this.log.trace("task scheduler paused on playback created");this.mc.pause();this.config.Yec && this.Tf.BKa(y,["manifest"]);this.config.Xec && this.Tf.BKa(y,["ldl"]);this.config.Vec && this.Tf.clearData(y,"manifest");this.Pma.LHb(y);this.Oob=y;};d.prototype.dwb=function(){this.log.info("ad played, clearing all manifests from cache");this.Lsb();};d.prototype.hwb=function(){this.log.info("track changed, clearing all manifests from cache");this.Lsb();};d.prototype.Zqc=function(y){var z;z=this;this.config.Wec?this.Tf.clearData(y,"manifest"):this.Tf.L9(y,"manifest") && this.Tf.getData(y,"manifest").then(function(B){B.Aa.isSupplemental || z.config.ZMa && (0,w.Ax)(B.Aa.Of)?B.H1a=!0:z.Tf.clearData(y,"manifest");},function(B){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",B);});this.Tf.getState().reduce(function(B,A){A=A.movieId;B.includes(A) || B.push(A);return B;},[]).forEach(function(B){z.Tf.getData(B,"manifest").then(function(A){var C,D;(null === (D=null === (C=A.Aa.GH) || void 0 === C?void 0:C.iT) || void 0 === D?0:D.QC) && ["manifest","ldl"].forEach(function(F){return z.Tf.uOb(B,F);});}).catch(function(){z.Tf.clearData(B,"ldl");});});this.dnb(y);this.OLb=this.Oob=void 0;this.events.emit("playbackClosing",{J:y,type:"playbackClosing",target:this});};d.prototype.Lsb=function(){this.Tf.BKa("none",["manifest","ldl"]);};d.prototype.dnb=function(y){delete this.h2a[y];};d.prototype.Xz=function(y){return this.h2a[y];};d.prototype.HLa=function(y){return this.h2a[y]=this.XUc.NF();};d.prototype.ENc=function(y,z){if(this.nwb(y))return r.Yq.Rc;if(!z.qK)return r.Yq.eKa;};d.prototype.vdc=function(y,z){var B,A;y.$e && y.Bb && (y.Bb.$e=y.$e);this.cTc(y.R,y.No);B=this.Qcc(y,z);A=this.Lcc(y,null === B || void 0 === B?void 0:B.id,z);y=this.Ucc(y,null === B || void 0 === B?void 0:B.id,z);return [B,A,y].filter(n);};d.prototype.Qcc=function(y,z){if(this.Tf.L9(y.R,"manifest"))this.log.trace("manifest exists in cache for " + y.R);else return new c.hha("manifest",this.$h.wc().oa(p.ya),!!y.Bb.jJb,void 0,z,this.Wrb,y,this);};d.prototype.Lcc=function(y,z,B){if(this.config.rma)if(this.Tf.L9(y.R,"ldl"))!1;else return new c.hha("license",this.$h.wc().oa(p.ya),!!y.Bb.jJb,z,B,this.sjc,y,this);};d.prototype.Ucc=function(y,z,B){if(this.config.tma)return new c.hha("getMedia",this.$h.wc().oa(p.ya),!!y.Bb.jJb,z,B,this.Pma,y,this);};d.prototype.cTc=function(y,z){this.Xqa[y] || (this.Xqa[y]={Wsa:0,No:0});y=this.Xqa[y];y.Wsa=(void 0 !== y?void 0 !== y.Wsa?y.Wsa:0:0) + 1;y.No=z;};a=d;b.RFa=a;b.RFa=a=t.__decorate([(0,f.$)(),t.__param(0,(0,f.u)(e.yb)),t.__param(1,(0,f.u)(h.Fc)),t.__param(2,(0,f.u)(g.xE)),t.__param(3,(0,f.u)(k.wi)),t.__param(4,(0,f.u)(m.$d)),t.__param(5,(0,f.u)(l.Wcb)),t.__param(6,(0,f.u)(u.Vcb)),t.__param(7,(0,f.u)(u.Ucb)),t.__param(8,(0,f.u)(v.vxa)),t.__param(9,(0,f.u)(q.Vxa))],a);},36149:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.zPb=void 0;t=a(22674);d=a(58872);n=a(52357);b.zPb=new t.we(function(c){c(d.hgb).to(n.QFa).pa();});},58872:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hgb="VideoPlayerFactorySymbol";},85001:function(t,b){var d,n,c,h,f,e,g,k;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Jc=b.Kb=b.Wg=b.Bc=b.Wwa=b.ja=b.oAa=b.dV=b.Za=void 0;(function(l){l.tAb="loadedtracks";l.sAb="loadedmetadata";l.loaded="loaded";l.error="error";l.closed="closed";l.st="currenttimechanged";l.kOb="unthrottledcurrenttimechanged";l.Eka="bufferedtimechanged";l.LMa="durationchanged";l.S1a="videosizechanged";l.dFb="pausedchanged";l.QWa="playingchanged";l.arb="endedchanged";l.xW="busychanged";l.oka="audiotracklistchanged";l.Rp="audiotrackchanged";l.pB="timedtexttracklistchanged";l.wp="timedtexttrackchanged";l.oea="trickplayframeschanged";l.A0a="timecodesupdated";l.zCb="mutedchanged";l.GPb="volumechanged";l.m_a="showsubtitle";l.bYa="removesubtitle";l.zUc="watermark";l.ySa="isReadyToTransition";l.UY="inactivated";l.Nxb="internalPlaybackError";l.FLc="segmentmaploaded";l.GLc="segmentpresenting";l.clb="autoplaywasallowed";l.tka="autoplaywasblocked";l.k4b="adsstatechanged";l.WK="livestatechanged";l.akb="admetadataupdated";})(d || (b.Za=d={}));(n || (b.dV=n={})).Uca="playgraphsegmenttransition";b.oAa=a;a.$Jb="serverTimeChanged";(function(l){l.Zpa="livePipelineFailover";l.ska="autoplayWasAllowed";l.rj="autoplayWasBlocked";l.zF="bufferUnderrun";l.closed="closed";l.$g="closing";l.st="currentTimeChanged";l.qP="downloadComplete";l.UY="inactivated";l.jTa="licenseAdded";l.mTa="licensed";l.baa="locationSelected";l.TTa="manifestClosing";l.$K="manifestPresenting";l.Caa="mediaBufferChanged";l.lra="nextBranchingSegmentChosen";l.NA="playbackStart";l.kp="playbackReady";l.Sta="repositioning";l.m0="repositionASE";l.ls="repositioned";l.Jca="safePlayRequested";l.$L="segmentPresenting";l.$ca="serverSwitch";l.j_a="shouldUpdateVideoDiagInfo";l.c1="subtitleError";l.t0a="throttledMediaTimeChanged";l.lOb="unthrottledMediaTimeChanged";l.n1="timedTextRebuffer";l.pB="timedTextTrackListChanged";l.oea="trickPlayFramesChanged";l.m1a="updateNextBranchingSegmentWeights";l.I1a="userInitiatedPause";l.kPb="userInitiatedResume";l.ANb="tracksHydrated";l.WK="livestatechanged";l.Eca="restarting";l.lAb="livePostplayUpdated";l.mW="aseLogblob";})(c || (b.ja=c={}));(h || (b.Wwa=h={})).wja="adBreakComplete";(function(l){l[l.WU=0]="NOTLOADED";l[l.LOADING=1]="LOADING";l[l.qf=2]="NORMAL";l[l.CLOSING=3]="CLOSING";l[l.CLOSED=4]="CLOSED";})(f || (b.Bc=f={}));(function(l){l[l.qf=1]="NORMAL";l[l.Ff=2]="BUFFERING";l[l.Xdb=3]="STALLED";})(e || (b.Wg=e={}));(function(l){l[l.Yg=1]="WAITING";l[l.hg=2]="PLAYING";l[l.zi=3]="PAUSED";l[l.zw=4]="ENDED";})(g || (b.Kb=g={}));(function(l){l[l.po=0]="INITIAL";l[l.tu=1]="SEEK";l[l.JU=2]="LIVE_EDGE";l[l.I4=3]="TRACK_CHANGED";l[l.jV=4]="SEGMENT_CHANGED";l[l.Yfa=5]="FORCE_REBUFFER";l[l.O2=6]="FRAGMENTS_MISSING";l[l.Dga=7]="MEDIA_DISCONTINUITY";})(k || (b.Jc=k={}));},91122:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.P4a="CdnPartitionerSymbol";},75950:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B;Object.defineProperty(b,"__esModule",{value:!0});b.Pwb=void 0;t=a(22674);d=a(70673);n=a(78033);c=a(23002);h=a(487);f=a(77764);e=a(23179);g=a(52794);k=a(52961);l=a(44376);m=a(15850);p=a(47500);r=a(68272);q=a(10242);u=a(78029);v=a(62553);w=a(91122);x=a(12394);y=a(20034);z=a(91825);B=a(27134);b.Pwb=new t.we(function(A){A(d.Q7a).to(n.Wza).pa();A(c.T7a).to(h.Xza).pa();A(f.E7a).to(e.Qza).pa();A(g.F7a).to(k.Rza).pa();A(w.P4a).to(x.aya).pa();A(l.ycb).to(m.MDa).pa();A(p.gFa).to(r.fFa);A(q.S3).to(y.wN);A(z.U3).to(B.xN);A(u.Pza).to(v.Yza);});},78029:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pza="HLSConfigSymbol";},77764:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.E7a="HLSPlaylistBuilderSymbol";},52794:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.F7a="HLSPlaylistTransformerSymbol";},70673:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q7a="HeaderFetcherSymbol";},23002:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.T7a="HLSHeaderParserFactorySymbol";},10242:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WYc="LogblobBuilderSymbol";b.S3="HLSLogblobBuilderFactorySymbol";},91825:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.U3="HLSLogblobMonitorFactorySymbol";},44376:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ycb="PlayerPlaydataMonitorSymbol";},47500:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gFa="StreamChangeDetectorSymbol";},12394:function(t,b,a){var n,c;function d(h){this.va=h.ub("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.aya=void 0;t=a(22970);n=a(22674);a=a(87386);d.prototype.amc=function(h){var e,g,k,l,m,p,r;function f(q,u,v){var w,x,y;w=q.map(function(z){return z.di;});w.sort(function(z,B){return u[z] - u[B];});if(1 === w.length)(!1,k.set(v,{X_:q[0],qua:q[0]}));else {x=w.find(function(z){return e.has(z);});x || ((x=w.find(function(z){return !g.has(z);}))?e.add(x):(x=w[0],!1));y=w.find(function(z){return g.has(z) && z !== x;});y || ((y=w.find(function(z){return !e.has(z) && z !== x;}))?g.add(y):(y=w.find(function(z){return z !== x;}),!1));k.set(v,{X_:q.find(function(z){return z.di === x;}),qua:q.find(function(z){return z.di === y;})});}}e=new Set();g=new Set();k=new Map();l=h.video;m=h.audio;p=h.text;r=h.$m.reduce(function(q,u){q[u.id]=u.yc;return q;},{});l.forEach(function(q){q=q.stream;f(q.urls,r,q.Ko);});m.forEach(function(q){q=q.stream;f(q.urls,r,q.Ko);});p.forEach(function(q){var u,v;if(!q.track.Cx || q.track.w$){u=q.stream;q=q.id;v=u.urls.reduce(function(w,x,y){w[x.di]=y + 1;return w;},{});f(u.urls,v,q);}});return k;};c=d;b.aya=c;b.aya=c=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.yb))],c);},62553:function(t,b,a){var n,c,h,f;function d(e){return c.Gf.call(this,e,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Yza=void 0;t=a(22970);n=a(22674);c=a(64174);h=a(83767);a=a(12501);Ia(d,c.Gf);Ha.Object.defineProperties(d.prototype,{UFb:{configurable:!0,enumerable:!0,get:function(){return !0;}},CA:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},cD:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},Qwb:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},Mv:{configurable:!0,enumerable:!0,get:function(){return 80;}}});f=d;b.Yza=f;t.__decorate([a.config(a.jd,"playsInline")],f.prototype,"UFb",null);t.__decorate([a.config(a.CK,"minAudioMediaRequestDuration")],f.prototype,"CA",null);t.__decorate([a.config(a.CK,"minVideoMediaRequestDuration")],f.prototype,"cD",null);t.__decorate([a.config(a.CK,"hlsVideoMediaRequestTargetDuration")],f.prototype,"Qwb",null);t.__decorate([a.config(a.CK,"minStartingVideoVMAF")],f.prototype,"Mv",null);b.Yza=f=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.uo))],f);},23179:function(t,b,a){var f,e,g,k,l,m,p,r,q,u,v,w;function d(x,y){this.I7=y;this.xc=x.filter(function(z){return z.Z0a[m.cr.hia];}).map(function(z){return {track:z,stream:z.Z0a[m.cr.hia],id:z.rqb[m.cr.hia]};});}function n(x,y,z){var B;this.qT=y;this.Mv=z;B=x[0];this.mea=B.streams.map(function(A){return {track:B,P9:A.ALb,stream:A};});}function c(x,y,z,B){function A(C,D){return C.bitrate > D.bitrate?C:D;}this.log=x;this.qT=z;this.I7=B;this.mea=y.map(function(C){var D;D=C.streams.reduce(A);return {track:C,P9:D.bo?D.bo.offset + D.bo.size:void 0,stream:D};});}function h(x,y,z,B,A,C){this.Krc=x;this.Lrc=y;this.xFc=z;this.I8b=B;this.V9=A;this.fh=C;this.va=C.ub("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.sZb=b.VZb=b.ZQb=b.Qza=void 0;t=a(22970);f=a(22674);e=a(70673);g=a(23002);k=a(36129);l=a(31149);m=a(75568);p=a(52794);r=a(91122);q=a(78029);u=a(87386);v=a(79542);w=a(26388);h.prototype.build=function(x,y){var z,B,A,C,D,F;z=this;C=x.Aa;x=this.Glc(C,y);D=this.xqc(C,y);F=null !== (A=null === (B=C.uS) || void 0 === B?void 0:B.p1) && void 0 !== A?A:C.xT.find(function(G){var E;return G.id === (null === (E=C.J7) || void 0 === E?void 0:E[0].sMb);}).Nh;B=new d(C.xT,F);return Promise.all([x,D,B]).then(function(G){var E,H;E=Fa(G);G=E.next().value;H=E.next().value;E=E.next().value;G={audio:G.getMetadata(),video:H.getMetadata(),text:E.getMetadata(),rpb:G.POa(),Dec:E.POa(),duration:C.duration,$m:C.$m};H=z.I8b.amc(G);y("h_s");return {Sxc:z.xFc.transform(G,H),L8b:H,xPc:G};});};h.prototype.xqc=function(x,y){var z;z=new n(x.Ay,this.V9.Qwb,this.V9.Mv);return this.kqb(z.mea,w.v.U,y).then(function(B){z.EZa(B);return z;});};h.prototype.Glc=function(x,y){var z,B,A,C;A=null !== (B=null === (z=x.uS) || void 0 === z?void 0:z.Wu) && void 0 !== B?B:x.uz.find(function(D){var F;return D.id === (null === (F=x.J7) || void 0 === F?void 0:F[0].Wu);}).Nh;C=new c(this.va,x.uz,this.V9.CA,A);return this.kqb(C.mea,w.v.X,y).then(function(D){C.EZa(D);return C;});};h.prototype.gWa=function(x,y,z,B){if(x=this.Lrc.parse(y,x,z))return x;this.va.error("Failed to parse headers",{type:y === w.v.X?"audio":"video",downloadableId:B.stream.Ko});};h.prototype.kqb=function(x,y,z){var B;B=this;return Promise.all(x.map(function(A,C){if(A.P9)return B.Krc.download({urls:A.stream.urls,offset:0,length:A.P9}).then(function(D){z("h_" + (0 === y?"A":"V") + "_" + C + "_s");return B.gWa(D,y,y == w.v.X?B.V9.CA:B.V9.cD,A);}).catch(function(){z("h_" + A.track.Li[0] + "_" + C + "_f");B.va.warn("Failed to download and parse headers for " + A.stream.Ko);});B.va.warn("Stream data offset is missing",{downloadableId:A.stream.Ko});}));};a=h;b.Qza=a;b.Qza=a=t.__decorate([(0,f.$)(),t.__param(0,(0,f.u)(e.Q7a)),t.__param(1,(0,f.u)(g.T7a)),t.__param(2,(0,f.u)(p.F7a)),t.__param(3,(0,f.u)(r.P4a)),t.__param(4,(0,f.u)(q.Pza)),t.__param(5,(0,f.u)(u.yb))],a);c.prototype.EZa=function(x){var y;y=this;if(!x.find(function(z){return void 0 !== z;}))throw l.ie.aQb(k.ca.x8a,k.Y.tBa);this.xc=this.mea.map(function(z,B){if(B=x[B])return {track:z.track,stream:z.stream,Oa:B,qT:y.qT};}).filter(v.yyb);};c.prototype.getMetadata=function(){return this.xc;};c.prototype.POa=function(){var x,y;x=this;if(!this.xc.find(function(z){return z.track.Nh === x.I7;}) && 0 < this.xc.length){y=this.xc[0].track.Nh;this.log.warn("Did not find metadata for audio track " + this.I7 + ", falling back to " + y);return y;}return this.I7;};b.ZQb=c;n.prototype.EZa=function(x){var y,z;y=this;if(!x.find(function(B){return void 0 !== B;}))throw l.ie.aQb(k.ca.x8a,k.Y.uBa);z=this.mea.map(function(B,A){if(A=x[A])return {track:B.track,stream:B.stream,Oa:A,qT:y.qT};}).filter(v.yyb);this.xc=this.Boc(z);};n.prototype.getMetadata=function(){return this.xc;};n.prototype.Boc=function(x){var y,z,B;y=this;x.sort(function(A){return A.stream.bitrate;});z=x.findIndex(function(A){var C;return (null !== (C=A.stream.Mb) && void 0 !== C?C:0) >= y.Mv;});if(-1 !== z && z !== x.length - 1){B=x[z];x.splice(z,1);x.push(B);}x.reverse();return x;};b.VZb=n;d.prototype.POa=function(){return this.I7;};d.prototype.getMetadata=function(){return this.xc;};b.sZb=d;},52961:function(t,b,a){var n,c,h,f,e,g;function d(k){this.va=k.ub("HLSPlaylistTransformerImpl");this.hUc=f.Dya.Fz();this.Q5b=e.Cya.Fz();}Object.defineProperty(b,"__esModule",{value:!0});b.Rza=void 0;t=a(22970);n=a(22674);c=a(87386);h=a(35128);f=a(48617);e=a(12187);g=[0,1];d.prototype.transform=function(k,l){var m,p,r,q,u,v,w,x,y;m=this;p=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];r=k.text;q=k.audio;u=k.video;v=k.duration;w=k.rpb;x=k.Dec;r.forEach(function(z){g.forEach(function(B){var A,C,D,F;A=0 === B;C=z.stream;D=z.track;F=l.get(z.id);A=A?F.X_:F.qua;C=m.$pc({url:A.url,duration:v / 1E3,size:C.size,Zp:"Manifest for subtitles " + D.language + ' stream "' + D.RK + '", ' + D.Nh + ", cdn " + A.di});m.va.trace("Text variant manifest",C.join("\n"));B=m.aqc({groupId:B,name:D.RK,WRa:D.Nh === x,Wo:D.w$,utc:D.Li === h.wu.Hwa,language:D.language,uri:m.oqa(C)});p.push(B);});});q.forEach(function(z){g.forEach(function(B){var A,C,D,F,G,E;A=0 === B;C=z.stream;D=z.track;F=z.Oa;G=z.qT;E=l.get(C.Ko);A=A?E.X_:E.qua;C=m.Lub({url:A.url,P9:C.bo.offset + C.bo.size,Oa:F,JMb:Math.floor(G / 1E3),Zp:"Manifest for audio " + D.language + ' stream "' + D.RK + '", ' + D.Nh + ", cdn " + A.di});m.va.trace("Audio variant manifest",C.join("\n"));B=m.Hlc({groupId:B,language:D.language,name:D.RK,WRa:D.Nh === w,uri:m.oqa(C)});p.push(B);});});y=this.Q5b[q[0].track.profile];u.forEach(function(z){g.forEach(function(B){var A,C,D,F,G,E;A=0 === B;C=z.stream;D=z.track;F=z.Oa;G=z.qT;E=l.get(C.Ko);E=A?E.X_:E.qua;A=0 < r.length;D=m.Lub({url:E.url,P9:C.bo?C.bo.offset + C.bo.size:C.ALb,Oa:F,JMb:Math.floor(G / 1E3),Zp:"Manifest for video bitrate " + C.bitrate + ", stream " + D.Nh + ", cdn " + E.di});m.va.trace("Video variant manifest",D.join("\n"));B=m.yqc({groupId:B,B6:1E3 * C.bitrate,e6b:1E3 * C.bitrate,muc:0 <= C.CJ.indexOf("-hdr-") || 0 <= C.CJ.indexOf("-dv5-"),framerate:(C.$sb / C.Zsb).toFixed(3),Zn:C.yYa + "x" + C.qIb,YTc:m.hUc[C.CJ],H5b:y,OQc:A});p.push(B);B=m.oqa(D);p.push("" + B);});});this.va.trace("Primary manifest",p.join("\n"));return this.oqa(p);};d.prototype.Hlc=function(k){var l;l=k.WRa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + k.groupId + '"','CHANNELS="2"','LANGUAGE="' + k.language + '"','NAME="' + k.name + '"',"DEFAULT=" + (l?"YES":"NO"),"AUTOSELECT=" + (l?"YES":"NO"),'URI="' + k.uri + '"'].join(", ");};d.prototype.Lub=function(k){var l,m;l=k.Oa;m=["#EXTM3U","# " + k.Zp,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + k.JMb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + l[0].byteOffset + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];l.forEach(function(p,r){m.push("#EXTINF:" + p.duration.toFixed(3) + "," + p.Eb.toFixed(3));m.push("#EXT-X-BYTERANGE:" + p.v7b + "@" + p.byteOffset);m.push("{$U}&fi=" + r);});m.push("#EXT-X-ENDLIST");return m;};d.prototype.yqc=function(k){var l,m;l=k.groupId;m=["#EXT-X-STREAM-INF:BANDWIDTH=" + k.B6,"AVERAGE-BANDWIDTH=" + k.e6b,"VIDEO-RANGE=" + (k.muc?"PQ":"SDR"),"FRAME-RATE=" + k.framerate,'AUDIO="group_' + l + '"',"RESOLUTION=" + k.Zn,'CODECS="' + k.YTc + "," + k.H5b + '"'];k.OQc && m.push('SUBTITLES="subs_' + l + '"');return m.join(", ");};d.prototype.$pc=function(k){var l;l=k.duration;return ["#EXTM3U","# " + k.Zp,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(l),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + l.toFixed(3),"#EXT-X-BYTERANGE:" + k.size + "@0","{$U}","#EXT-X-ENDLIST"];};d.prototype.aqc=function(k){var l,m,p;l=k.WRa;m=k.language;p=k.uri;l=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + k.groupId + '"','NAME="' + k.name + '"',"DEFAULT=" + (l?"YES":"NO"),"AUTOSELECT=" + (l?"YES":"NO"),"FORCED=" + (k.Wo?"YES":"NO")];k.utc && l.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');l.push('LANGUAGE="' + m + '"');l.push('URI="' + p + '"');return l.join(", ");};d.prototype.oqa=function(k){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(k.join("\n"));};a=d;b.Rza=a;b.Rza=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.yb))],a);},78033:function(t,b,a){var n,c,h,f;function d(e,g){this.Xrc=e;this.log=g.ub("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Wza=void 0;t=a(22970);n=a(22674);c=a(87386);h=a(2571);f=a(32934);d.prototype.download=function(e){var k,l,m,p,r;function g(q){if(r < l.length - 1)return (!1,r++,k.mqb(l[r].url,m,p).catch(g));throw q;}k=this;l=e.urls;m=e.offset;p=e.length;r=0;return this.mqb(l[r].url,m,p).catch(g);};d.prototype.mqb=function(e,g,k){return this.Xrc.download({url:e,withCredentials:!1,responseType:f.ResponseType.tRb,NJ:"hls_headers",yy:!0,offset:g,length:k,my:f.k4},{JZ:1});};a=d;b.Wza=a;b.Wza=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.Y7a)),t.__param(1,(0,n.u)(c.yb))],a);},487:function(t,b,a){var n,c,h;function d(f){this.va=f.ub("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Xza=void 0;t=a(22970);n=a(22674);c=a(91562);a=a(87386);d.prototype.parse=function(f,e,g){f=new c.Yl(this.va,{mediaType:f},e,["sidx"]).parse();if(f.IA && f.Oa)return this.NIa(f.Oa,g);};d.prototype.NIa=function(f,e){var g,k,l,m,p;g=0;k=0;l=0;m=f.offset;p=[];f.Wf.forEach(function(r,q){k+=r;l+=f.sizes[q];if(1E3 * k / f.P >= e || q === f.Wf.length - 1)(p.push({duration:k / f.P,Eb:g / f.P,byteOffset:m,v7b:l}),g+=k,k=0,m+=l,l=0);});return p;};h=d;b.Xza=h;b.Xza=h=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.yb))],h);},20034:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m,p,r,q){this.fh=l;this.JG=m;this.Jh=p;this.Hc=r;this.Ua=q;}Object.defineProperty(b,"__esModule",{value:!0});b.wN=void 0;t=a(22970);n=a(22674);c=a(81918);h=a(87386);f=a(45118);e=a(98326);g=a(31850);k=a(97444);d.prototype.create=function(l){return new k.T3(this.fh,this.JG,this.Jh,this.Ua,this.Hc,l);};a=d;b.wN=a;b.wN=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(h.yb)),t.__param(1,(0,n.u)(g.yE)),t.__param(2,(0,n.u)(f.Dp)),t.__param(3,(0,n.u)(e.fBa)),t.__param(4,(0,n.u)(c.$d))],a);},97444:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m,p,r,q,u){var v;v=this;this.JG=m;this.Jh=p;this.Ua=r;this.Hc=q;this.qUa=this.DK=this.rca=0;this.XQ=!1;this.WG=function(){var w;w=v.Eba();w.prstate=v.sG();w.paustate=v.j.z$();w.midplayseq=v.qUa++;v.Hc.WY(w);v.Pc(n.Md.WG,void 0,k.bf | k.Sy,w);};this.rj=function(){v.Pc(n.Md.Alb,void 0,k.bf | k.pu,{});};this.wp=function(w){v.dTa=v.getTime();v.eTa=w.Xx;};this.u6=function(w){v.SSa=w.oldValue;};this.Asa=function(w){w != v.XQ && (v.F_a(v.XQ,w),v.XQ=w);};this.F_a=function(w,x){var y;y=v.j.Ma;w={newstate:x?"Paused":"Playing",oldstate:w?"Paused":"Playing"};v.Hc.Bv(w,y.se.value && y.se.value.stream,y.Re.value && y.Re.value.stream);v.Pc(n.Md.yda,void 0,k.bf,w);};this.rda=function(w){v.Pc(n.Md.wLb,void 0,k.bf,{speedold:Math.floor(1E3 * w.oldValue),speed:Math.floor(1E3 * w.newValue)});};this.MH=function(w){var x,y,z;y=v.j.Ma;z=y.ka.Kd;if(w.newValue || z && z.qq() && !z.Wo())(w=null !== (x=w.newValue) && void 0 !== x?x:z,x=v.vQ(w),w=v.vQ(v.eTa),x={switchdelay:(0,c.Hh)(v.getTime() - v.dTa),track:x,oldtrack:w},v.Hc.Bv(x,y.se.value && y.se.value.stream,y.Re.value && y.Re.value.stream),v.Pc(n.Md.cNb,void 0,k.bf,x));};this.zWa=function(w,x){var y;y=v.j.Ma;w={waittime:(0,c.Hh)(w),abortedevent:"resumeplay",resumeplayreason:x};v.Hc.Bv(w,y.Qf.value,y.Ri.value);v.Pc(n.Md.yL,void 0,k.bf | k.pu,w);};this.$t=function(w,x,y){var z;z=y.HYa;y=y.hIb;w={playdelay:(0,c.Hh)(w),reason:z,intrplayseq:v.DK - 1,skipped:x};"repos" === z && (w.prstate=!0 === v.j.Ij.value?"playing":"paused",y === e.Jc.O2 && (w.repos_reason="missing_segments"));v.Pc(n.Md.$t,void 0,k.bf | k.Dw,w);};this.pJa=function(){var w,x,y,z;x=v.dQ(v.j.Ma.ka.ce,v.j.Ma.Ri.value.cc);y=v.FG;z=null === (w=v.SSa) || void 0 === w?void 0:w.cc;w=v.dQ(y,z);v.Pc(n.Md.Xkb,void 0,k.bf,{switchdelay:(0,c.Hh)(v.getTime() - v.TSa),track:x,oldtrack:w});};this.Rp=function(w){v.TSa=v.getTime();v.FG=w.Ov;};this.AWa=function(){var w,x,y;w=v.j.Ma;x={abortedevent:"startplay",trackid:w.jn,prstate:v.sG(),paustate:v.j.z$()};try{y=(0,h.GY)();y && (x.pdltime=y);(0,c.xf)(x,w.wf,{prefix:"sm_"});}catch(z){}v.Hc.Loa(x,w);v.Hc.VY(x,!1,w.ka.ce,w);v.Hc.XY(x,!1,w.ka.zh,w);v.Hc.Bv(x,w.Qf.value,w.Ri.value);v.EQ(x);v.Pc(n.Md.yL,void 0,k.bf | k.Sy | k.pu,x);};this.GF=function(w,x,y,z){w={moff:(0,c.Ir)(y),moffms:(0,c.Hh)(y),vbitrate:x.bitrate,vbitrateold:w.bitrate,vdlid:x.cc,vdlidold:w.cc,vheight:x.height,vheightold:w.height,vwidth:x.width,vwidthold:w.width,bw:z};v.Pc(n.Md.GF,void 0,0,w);};this.QL=function(w,x,y){w={moffold:(0,c.Ir)(w),reposseq:v.rca++,prstate:v.sG(),paustate:v.j.z$()};v.Hc.Bv(w,y && y.stream,x && x.stream);v.Pc(n.Md.QL,void 0,k.bf,w);};this.rp=function(w){var x,y,z,B,A,C,D,F,G;C=w.Ma;D={playdelaysdk:(0,c.Hh)(v.j.Q6()),applicationPlaydelay:(0,c.Hh)(v.j.XJa()),playdelay:(0,c.Hh)(v.j.YJa()),trackid:C.jn,bookmark:(0,c.Hh)(C.Tp || 0),pbnum:C.index};D.audiotrackinfo=v.dQ(v.j.Ma.ka.ce,v.j.Ma.Re.value?v.j.Ma.Re.value.stream?v.j.Ma.Re.value.stream.cc:void 0:void 0);F=v.j.Ma.ka.zh;G=null === (y=null === (x=v.j.Ma.se.value) || void 0 === x?void 0:x.stream) || void 0 === y?void 0:y.cc;D.videotrackinfo=v.zQa(F,G);D.texttrackinfo=v.vQ(v.j.Ma.ka.Kd);v.j.rj && (D.blocked=v.j.rj);D.initvbitrate=v.j.g$;v.Hc.xRa(D);v.Hc.exb(D);D.esnSource=null === (z=Ca._cad_global.device) || void 0 === z?void 0:z.Cma;v.lxb(D,C);D.pdltime=(0,h.GY)();(0,c.xf)(D,C.wf,{prefix:"sm_"});D.ttTrackFields=null === (B=C.ka.Kd) || void 0 === B?void 0:B.ri;D.itsxheaac=MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.40.42"');v.Hc.VY(D,!0,C.ka.ce,C);v.Hc.XY(D,!0,C.ka.zh,C);D.packageId=null === (A=C.S) || void 0 === A?void 0:A.Aa.ds;v.Hc.WY(D);v.Hc.Loa(D,C);v.EQ(D);v.Pc(n.Md.rp,w.wj,k.bf | k.Dw | k.Sy | k.jN | k.pu,D);};this.nv=function(){var w,x,y;w=v.j;x=w.Ma;w=w.wj;y=v.Eba();y.paustate=!v.j.Dx();y.muted=v.j.kSa();y.endreason=w?"error":v.j.$Ra()?"ended":"stopped";v.Hc.VY(y,!1,x.ka.ce,x);v.Hc.XY(y,!1,x.ka.zh,x);v.Hc.WY(y);v.EQ(y);v.Pc(n.Md.nv,w,k.bf | k.Dw | k.Sy | k.jN | k.pu,y);};this.eYa=function(w,x,y){var z;z=v.j.Ma.Re;w={moff:(0,c.Ir)(y),moffms:(0,c.Hh)(y),vdlidold:w.cc,vbitrateold:w.bitrate};v.Hc.Bv(w,x,z.value && z.value.stream);v.Pc(n.Md.mca,void 0,0,w);};this.sG=function(){var w;w=v.j.Wb.value;return w === e.Kb.hg?"playing":w === e.Kb.zi?"paused":w === e.Kb.zw?"ended":"waiting";};this.va=l.ub("LogblobBuilderImpl");this.j=u;}Object.defineProperty(b,"__esModule",{value:!0});b.T3=void 0;n=a(18169);c=a(3887);h=a(52569);f=a(36129);e=a(85001);g=a(5021);d.prototype.getTime=function(){return this.Ua.wc().oa(g.ya);};d.prototype.aQa=function(){return this.getTime() - this.j.Ma.Gj.oa(g.ya);};d.prototype.dQ=function(l,m){return l?{trackId:l.trackId,bcp47:l.Cg,downloadableId:m,rank:l.yc,chan:l.channels}:{};};d.prototype.zQa=function(l,m){return l?{id:l.trackId,downloadableId:m,rank:l.yc}:{};};d.prototype.vQ=function(l){return l?{trackId:l.trackId,bcp47:l.Cg,downloadableId:l.cc,rank:l.yc,isImageBased:l.pq,profile:l.profile}:{};};d.prototype.lxb=function(l,m){var p;if(m=null === (p=m.ka.zh) || void 0 === p?void 0:p.streams)(l.maxbitrate=(0,h.hfa)(m.map(function(r){return r.bitrate;})),l.maxresheight=(0,h.hfa)(m.map(function(r){return r.height;})));};d.prototype.EQ=function(l){l.cachedManifest="notcached";l.cachedLicense="notcached";l.usedldl="false";};d.prototype.Eba=function(){var l,m,p,r;l=this.j.Ma;m=l.jp;p={totaltime:(0,c.Ir)(m.wv()),totalcontenttime:(0,c.Ir)(m.F9()),reposcount:this.rca,intrplaycount:this.DK};p.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});r=l.Qf.value;r && (p.videofr=r.framerate.toFixed(3));(r=m.EOa()) && (p.abrdel=r);(r=m.woa() && m.wtb()) && (p.tw_vmaf=r);(m=m.utb()) && (0,c.xf)(p,m);p.rbfrs=this.DK;this.lxb(p,l);return p;};d.prototype.Pc=function(l,m,p,r){var q,u,v;q=this;m && (0,f.Xfa)(null === m || void 0 === m?void 0:m.errorCode,null === m || void 0 === m?void 0:m.Sa,this.aQa(),void 0) && (u="info");v=this.j.Ma;this.tIa(r,m,p);m=u || (m?"error":"info");r=this.JG.cv(l,m,r,v);this.Jh.Pc(r);"error" !== m && l !== n.Md.nv || this.Jh.flush(!1).catch(function(){q.va.debug("Failed to flush the logblobs");});};d.prototype.tIa=function(l,m,p){var r;r=this.j.Ma;this.Hc.dxb(l,r);p & k.bf && this.Hc.hxb(l,r,!1);p & k.Dw && this.Hc.jxb(l,r);p & k.Sy && this.Hc.kxb(l,this.j.jq());m && p & k.jN && this.Hc.fxb(l,r,m);p & k.pu && this.Hc.xRa(l);};b.T3=d;(function(l){l[l.bf=1]="MOFF";l[l.Dw=2]="PRESENTEDSTREAMS";l[l.Sy=4]="SCREEN";l[l.jN=8]="FATALERROR";l[l.pu=16]="BROWSERINFO";})(k || (k={}));},27134:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m,p,r,q){this.Jh=l;this.config=m;this.La=p;this.Ua=r;this.ITa=q;}Object.defineProperty(b,"__esModule",{value:!0});b.xN=void 0;t=a(22970);n=a(22674);c=a(81918);h=a(30869);f=a(4203);e=a(45118);g=a(10242);k=a(5522);d.prototype.create=function(l){return new k.V3(l,this.Jh,this.config,this.Ua,this.ITa.create(l));};a=d;b.xN=a;b.xN=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(e.Dp)),t.__param(1,(0,n.u)(f.Fc)),t.__param(2,(0,n.u)(h.vi)),t.__param(3,(0,n.u)(c.$d)),t.__param(4,(0,n.u)(g.S3))],a);},5522:function(t,b,a){var n,c,h,f;function d(e,g,k,l,m){var p;p=this;this.j=e;this.Jh=g;this.config=k;this.Ua=l;this.hb=m;this.W6=function(){p.$g();p.j.Ma.Fk.removeListener(p.MH);p.j.Ma.ka.removeListener(p.hb.wp);p.j.Ma.ka.removeListener(p.Rp);p.j.Ma.Ri.removeListener(p.hb.u6);p.j.Ij.removeListener(p.TFb);p.j.l0.removeListener(p.ls);p.j.Ma.se.removeListener(p.Mba);p.j.Wb.removeListener(p.kC);p.j.Wb.removeListener(p.MW);p.j.Ma.Qf.removeListener(p.Nea);p.j.Ma.playbackRate.removeListener(p.hb.rda);p.j.removeEventListener(h.Za.closed,p.W6);p.j.removeEventListener(h.Za.tka,p.hb.rj);};this.MW=function(){p.j.Wb.value === h.Kb.hg && (p.j.Wb.removeListener(p.MW),p.NA());};this.MH=function(r){p.Uv && p.hb.MH(r);};this.ls=function(r){p.Uv && void 0 !== r.newValue && (p.u0 && p.lu && p.hb.zWa(p.getTime() - p.lu,p.u0.HYa),p.u0={HYa:"repos",hIb:r.newValue},p.hb.QL(r.newValue,p.j.Ma.Re.value,p.j.Ma.se.value),p.lu=p.getTime(),(0,c.Gh)(p.kC));};this.TFb=function(r){p.Uv && p.hb.Asa(!r.newValue);};this.Rp=function(r){r.Ov && (p.FG=r.Ov,p.hb.Rp(r),p.u0={HYa:"repos",hIb:h.Jc.I4},p.lu=p.getTime(),(0,c.Gh)(p.kC));};this.kC=function(){var r;if(p.lu && p.u0 && p.j.Wb.value !== h.Kb.Yg){r=p.getTime() - p.lu;p.hb.$t(r,!1,p.u0);p.FG && p.FG != p.j.Ma.ka.ce && p.hb.pJa();p.lu=void 0;p.u0=void 0;}};this.NA=function(){p.Uv || (p.Uv=!0,p.hb.rp(p.j),p.GRa(),p.config().Roa && (p.yG=Ca.setTimeout(function(){p.Jh.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.yG=void 0;},p.config().Roa)));};this.$g=function(){p.yG && (Ca.clearTimeout(p.yG),p.yG=void 0);p.sea && p.sea();p.Uv?p.hb.nv():p.j.wj?p.hb.rp(p.j):p.hb.AWa();};this.Nea=function(r){r.oldValue && r.Am && r.Am.XO && p.hb.GF(r.oldValue,r.newValue,r.Am.XO,r.Am.B6);};this.Mba=function(r){var q;if(r.newValue){q=r.newValue.stream;p.ZQ != q && (p.ZQ && q && p.hb.eYa(p.ZQ,q,r.newValue.NW.startTime),p.ZQ=q);}};this.Zua();}Object.defineProperty(b,"__esModule",{value:!0});b.V3=void 0;n=a(5021);c=a(32219);h=a(85001);f=a(26388);d.prototype.Zua=function(){this.j.addEventListener(h.Za.closed,this.W6);this.j.addEventListener(h.Za.tka,this.hb.rj);this.j.Ma.Fk.addListener(this.MH);this.j.Ma.ka.addListener([f.v.Ba],this.hb.wp);this.j.Ma.ka.addListener([f.v.X],this.Rp);this.j.Ma.Ri.addListener(this.hb.u6);this.j.Ij.addListener(this.TFb);this.j.l0.addListener(this.ls);this.j.Ma.se.addListener(this.Mba);this.j.Wb.addListener(this.kC);this.j.Wb.addListener(this.MW);this.j.Ma.Qf.addListener(this.Nea);this.j.Ma.playbackRate.addListener(this.hb.rda);};d.prototype.getTime=function(){return this.Ua.wc().oa(n.ya);};d.prototype.GRa=function(){var e,g,k;e=this;k=[];this.config().QBb && (this.config().RBb.forEach(function(l){k.push(Ca.setTimeout(e.hb.WG,l));}),this.config().Kqa && (g=Ca.setInterval(this.hb.WG,this.config().Kqa)),this.sea=function(){k.forEach(function(l){Ca.clearTimeout(l);});g && Ca.clearInterval(g);});};b.V3=d;},15850:function(t,b,a){var n,c,h,f,e;function d(g,k){var m;function l(){m.qWa.then(function(p){m.va.trace("Unloading PBO Playdata Services");p.close();});f.re.removeListener(f.Gm,l);}m=this;this.hFb=k;this.EFb=!1;this.qWa=k();this.va=g.ub("PlayerPlaydataMonitorImpl");f.re.addListener(f.Gm,l);}Object.defineProperty(b,"__esModule",{value:!0});b.MDa=void 0;t=a(22970);n=a(22674);c=a(87386);h=a(96687);f=a(37509);e=a(85001);d.prototype.Ol=function(g,k){var l;l=this;this.qWa.then(function(m){m.Ol(k,!0,function(p){return g.close(p);});m.D_a(k);g.addEventListener(e.Za.QWa,function(){g.Dx()?l.EFb?m.QJb(k).catch(function(p){(p=p.zL) && g.close(p);}):l.EFb=!0:m.PJb(k).catch(function(p){(p=p.zL) && g.close(p);});});g.addEventListener(e.Za.wp,function(){m.xua(k).catch(function(p){(p=p.zL) && g.close(p);});});g.addEventListener(e.Za.Rp,function(){m.xua(k).catch(function(p){(p=p.zL) && g.close(p);});});});};d.prototype.Ada=function(g){return this.qWa.then(function(k){k.TLb();return k.Ada(g).catch();});};a=d;b.MDa=a;b.MDa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.yb)),t.__param(1,(0,n.u)(h.p4))],a);},68272:function(t,b,a){var n,c,h,f;function d(e){this.oUa={};this.Ooa={};this.Hpa=-1;this.T_a=new h.vc(null);this.eXa=new h.vc(null);this.va=e.ub("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.fFa=void 0;t=a(22970);n=a(22674);c=a(45247);h=a(81734);a=a(87386);d.prototype.Sb=function(e,g,k){var l;l=this;e.forEach(function(m){m.stream.urls.forEach(function(p){l.oUa[p.url]=[m,p.di];});});this.eMa=g;this.zec=k;new PerformanceObserver(function(m){l.LSc(m.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};d.prototype.iKb=function(e){var g,k,l;if(this.eMa){k=this.Ena(e);if(k !== this.Hpa){for(this.Hpa=k;0 <= k && !this.Ooa[k];)k--;l=Fa(null !== (g=this.Ooa[k]) && void 0 !== g?g:[this.eMa,this.zec]);g=l.next().value;l=l.next().value;this.va.debug("Setting time to " + e + ", using metadata from fragment " + k + " for " + ((0,c.UG)(g.track.type) + " track with bitrate ") + (g.stream.bitrate + " from cdn " + l));e=g.Oa[this.Hpa];k=e.Eb;this.eXa.set({stream:g,NW:{startTime:Math.floor(1E3 * k),endTime:Math.floor(1E3 * (k + e.duration))},ul:l});}}};d.prototype.Ena=function(e){var g,k,l,m,p;g=this.eMa.Oa;e/=1E3;k=0;l=g.length - 1;if(e >= g[l].Eb)return l;for(;l >= k;){m=k + Math.floor((l - k) / 2);p=g[m];if(e < p.Eb)l=m - 1;else if(e >= p.Eb + p.duration)k=m + 1;else return m;}return g.length - 1;};d.prototype.LSc=function(e){var g;g=this;e.filter(function(k){return "video" === k.initiatorType;}).forEach(function(k){var l,m,p;l=k.name.indexOf("&fi=");if(0 < l){m=k.name.substring(0,l);l=Number(k.name.substring(l + 4));if(g.oUa[m]){p=Fa(g.oUa[m]);k=p.next().value;p=p.next().value;m && !Number.isNaN(l) && k && (g.Ooa[l] && (g.Hpa=-1),g.Ooa[l]=[k,p],m=k.Oa[l].Eb,!1,g.T_a.set(k,{XO:Math.floor(1E3 * m),ul:p}));}}});};f=d;b.fFa=f;b.fFa=f=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.yb))],f);},25050:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v;function d(w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M,P){var I,O,Q;I=this;this.Gba=x;this.fA=y;this.Ua=z;this.hh=B;this.jc=A;this.raa=C;this.wFc=D;this.HFb=F;this.kwa=G;this.nka=E;this.La=H;this.EZ=J;this.config=L;this.oJ=K;this.K=M;this.Hj=P;this.aaa=new l.vc(!0);this.Ij=new l.vc(!1);this.Bs=new l.vc(!1);this.ended=new l.vc(!1);this.Hka=new l.vc(0);this.Wb=new l.vc(n.Kb.Yg);this.l0=new l.vc(void 0);this.Dh=new v.AbortController();this.loaded=this.wda=this.closed=!1;this.pGb=function(S,U){return function(W){var Y,X,Z,aa;Y=W.newValue;X=Y.ul;W=Y.NW;Z=Y.stream;Y=S.streams.find(function(ca){return ca.bitrate === Z.stream.bitrate;});aa=I.Ma.ci.find(function(ca){return ca.id === X;});I.log.info("Presenting " + Y.type + " request with bitrate " + Y.bitrate + ", track " + (S.trackId + " [" + W.startTime + "..." + W.endTime + "]"));U.set({stream:Y,NW:Object.assign(Object.assign({},W),{dac:W.startTime,Nnb:W.endTime}),Oc:aa});};};this.jMb=function(S,U,W){return function(Y){var X;X=S.streams.find(function(Z){return Z.bitrate === Y.newValue.stream.bitrate;});I.log.info("Streaming " + X.type + " stream with bitrate " + X.bitrate + ", track " + S.trackId);U.set(X,{XO:Y.Am.XO,B6:void 0});X=I.Ma.ci.filter(function(Z){return Z.id === Y.Am.ul;})[0];W.set(X);};};this.zsb=new Set();this.log=w.ub("HLSVideoPlayer");this.Ga=(0,c.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.Ga.playsInline=this.config.UFb;this.Ma=this.Gba(h.Qy.index++,M.R,M.id,null !== (O=M.Bb) && void 0 !== O?O:{},this.fA.NF(),this.Ua.wc(),!1,void 0,function(){return I.GC();});this.Ma.mediaTime.set(null !== (Q=this.Ma.Tp) && void 0 !== Q?Q:0);this.XT();this.R0b=this.EZ.create(this);this.R0b;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.igb=void 0;n=a(85001);c=a(52569);h=a(13044);f=a(72639);e=a(24735);g=a(36129);k=a(63156);l=a(81734);m=a(5021);p=a(32687);r=a(45266);q=a(3887);u=a(26388);v=a(91176);d.prototype.mQc=function(){return !!this.Ga.canPlayType && ("" !== this.Ga.canPlayType("application/vnd.apple.mpegURL") || "" !== this.Ga.canPlayType("audio/mpegurl"));};d.prototype.XT=function(){var w;w=this;this.Ga.addEventListener("loadedmetadata",function(){w.Jb(n.Za.tAb);w.Jb(n.Za.sAb);w.Jb(n.Za.Rp);w.Jb(n.Za.oka);w.Jb(n.Za.wp);w.Jb(n.Za.pB);});this.Ga.addEventListener("error",function(x){x=w.Hj(g.ca.lbb,x);w.close(x);});this.Ga.addEventListener("timeupdate",function(){w.ended.set(!1);w.Ma.mediaTime.set(w.GC());w.pMa();w.Jb(n.Za.st);w.Jb(n.Za.kOb);});this.Ga.addEventListener("durationchange",function(){w.Jb(n.Za.LMa);});this.Ga.addEventListener("resize",function(){w.Jb(n.Za.S1a);});this.Ga.addEventListener("playing",function(){w.pMa();w.Bs.set(!1);w.Ij.set(!0);w.ended.set(!1);w.Wb.set(n.Kb.hg);});this.Ga.addEventListener("pause",function(){w.Ij.set(!1);w.Bs.set(!1);w.Wb.set(n.Kb.zi);});this.Ga.addEventListener("waiting",function(){w.Wb.set(n.Kb.Yg);});this.Ga.addEventListener("stalled",function(){w.Bs.set(!0);});this.Ga.addEventListener("seeking",function(){w.Bs.set(!1);w.l0.set(w.Ma.mediaTime.value);w.Wb.set(n.Kb.Yg);});this.Ga.addEventListener("seeked",function(){void 0 !== w.l0.value && (w.Ma.jp.bVa(w.l0.value,w.GC()),w.l0.set(void 0));w.Wb.set(w.Dx()?n.Kb.hg:n.Kb.zi);});this.Ga.addEventListener("progress",function(){w.Jb(n.Za.Eka);w.xSc();});this.Ga.addEventListener("ended",function(){w.Wb.set(n.Kb.zw);w.Bs.set(!1);w.Ij.set(!1);w.ended.set(!0);});this.Ga.addEventListener("volumechange",function(){w.Jb(n.Za.GPb);w.Jb(n.Za.zCb);});this.Ij.addListener(function(){w.Jb(n.Za.QWa);w.Jb(n.Za.dFb);w.MW();});this.Hka.addListener(function(){w.Jb(n.Za.xW);});this.Bs.addListener(function(){w.Jb(n.Za.xW);});this.aaa.addListener(function(){w.MW();});this.ended.addListener(function(){w.Jb(n.Za.arb);});this.Ma.playbackRate.addListener(function(x){w.Ga.playbackRate=x.newValue;});};d.prototype.MW=function(){!this.Dx() || this.aaa.value || this.wda || this.blb || (this.wda=!0,this.Ma.zG=this.La.zH,this.HFb.Ol(this,this.Ma));};d.prototype.Q6=function(){return this.Fba - (this.Ma.Gj.oa(m.ya) + this.Ua.GG.oa(m.ya));};d.prototype.bQ=function(){var w;w=this.Ma.mb.rB;return (0,p.pc)(w)?w:this.Ma.Gj.oa(m.ya) + this.Ua.GG.oa(m.ya);};d.prototype.XJa=function(){return this.La.Eg.oa(m.ya) - this.bQ();};d.prototype.YJa=function(){return this.Fba - this.bQ();};d.prototype.xSc=function(){var w;w=this.Ga.readyState <= k.qu.mI.HAVE_METADATA?0:this.Ga.readyState <= k.qu.mI.HAVE_CURRENT_DATA?.5:1;1 === w && (this.Fba=this.La.Eg.oa(m.ya),this.aaa.set(!1),this.TNa(n.Za.loaded));this.Hka.set(w);};d.prototype.pMa=function(){var w;w=this.GC();this.kwa.iKb(w);this.nka.iKb(w);};d.prototype.Zca=function(){var w;w=this;this.Ma.Sg("ats");return this.hh.Po({Ia:this.Ma.Ia,mb:this.Ma.mb,J:this.Ma.R,xt:f.Fp.Jha,li:e.Tq.Zq},this.Dh.signal).then(function(x){var z;function y(B){var A;A=B;B && B.qq() && !B.Wo() && (A=null);w.Ma.Fk.set(A);}w.Ma.Sg("at");z=w.raa.create({}).QEb(x);w.Ma.S=x;w.Ma.Qc=z;w.Ga.audioTracks.addEventListener("addtrack",function(){w.MOb(w.Ma.ka.ce);});w.Ga.audioTracks.addEventListener("change",function(){for(var B,A,C={},D=Fa(w.Ga.audioTracks),F=D.next();!F.done;(C={S1:C.S1},F=D.next()))(C.S1=F.value,C.S1.enabled && C.S1.label !== (null === (B=w.Ma.ka.ce) || void 0 === B?void 0:B.displayName) && (!1,F=null !== (A=w.Ma.Gk.find((function(G){return function(E){return E.displayName === G.S1.label;};})(C))) && void 0 !== A?A:null,w.Ma.ka.bB(F)));});w.Ma.ka.addListener([u.v.X],function(B){w.MOb(B.Tx);w.Jb(n.Za.Rp);w.Jb(n.Za.pB);});w.Ga.textTracks.addEventListener("addtrack",function(){w.NOb(w.Ma.ka.Kd);});w.Ga.textTracks.addEventListener("change",function(){var G;for(var B,A,C=w.Ga.textTracks,D={},F=0;F < C.length;(D={T1:D.T1},F++))if((D.T1=C[F],"showing" === D.T1.mode && D.T1.label !== (null === (B=w.Ma.ka.Kd) || void 0 === B?void 0:B.displayName))){!1;G=null !== (A=w.Ma.gj.find((function(E){return function(H){return H.displayName === E.T1.label;};})(D))) && void 0 !== A?A:null;w.Ma.ka.qp(G);y(G);}});w.Ma.ka.qp(z.H7);y(z.H7);w.Ma.ka.addListener([u.v.Ba],function(B){w.NOb(B.Tn);w.Jb(n.Za.wp);});return w.wFc.build(x,function(B){return w.Ma.Sg(B);});}).then(function(x){var y,z,B,A,C,D,F,G,E,H,J,L,K,M,P;y=x.Sxc;z=x.L8b;x=x.xPc;B=x.audio;A=x.rpb;C=x.video;D=w.Ma;F=D.Ri;G=D.ka;E=D.Gk;H=D.Qf;x=D.Tp;J=D.se;L=D.Re;K=D.jp;D=D.Qc;D.Gk=E.filter(function(I){return B.find(function(O){return O.track.Nh === I.trackId;});});G.c_a(D.K7);G.bB(E.find(function(I){return I.trackId === A;}));D=C[0];M=D.stream;E=B.find(function(I){return I.track.Nh === A;});P=E.stream;w.g$=M.bitrate;w.kwa.eXa.addListener(w.pGb(G.zh,J));w.kwa.T_a.addListener(w.jMb(G.zh,H,w.Ma.Oc[u.v.U]));H=z.get(M.Ko).X_.di;w.kwa.Sb(C,D,H);w.nka.eXa.addListener(w.pGb(G.ce,L));w.nka.T_a.addListener(w.jMb(G.ce,F,w.Ma.Oc[u.v.X]));z=z.get(P.Ko).X_.di;w.nka.Sb(B,E,z);w.Ga.src=y;w.Ga.currentTime=(null !== x && void 0 !== x?x:0) / 1E3;w.Ga.load();K.bVa(0,x && 0 < x?x:1);}).catch(function(x){var y,z;if(x instanceof Error){z=(0,q.Wi)(x);w.log.error("uncaught exception",x,z);}w.close(w.Hj(null !== (y=x.code) && void 0 !== y?y:g.ca.Mfb,x));});};d.prototype.Rvb=function(){return [];};d.prototype.NOb=function(w){var z;for(var x=this.Ga.textTracks,y=0;y < x.length;y++){z=x[y];z.label === w.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== w.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};d.prototype.MOb=function(w){for(var x=Fa(this.Ga.audioTracks),y=x.next();!y.done;y=x.next())(y=y.value,y.label !== w.displayName || y.enabled || (!1,y.enabled=!0),y.label !== w.displayName && y.enabled && (!1,y.enabled=!1));};d.prototype.Em=function(){};d.prototype.Kn=function(){};d.prototype.GC=function(){return Math.floor(1E3 * this.Ga.currentTime);};d.prototype.lG=function(){return this.GC();};d.prototype.Sz=function(){return this.GC();};d.prototype.fK=function(){return Math.floor(1E3 * this.Ga.duration);};d.prototype.Qub=function(){return this.K.R;};d.prototype.Xz=function(){return this.Ma.Ia;};d.prototype.cvb=function(){var w;return null === (w=this.Ma.S) || void 0 === w?void 0:w.Aa.Sd;};d.prototype.jq=function(){return this.Ga;};d.prototype.Tr=function(){return null === this.xj();};d.prototype.Dx=function(){return this.Ij.value;};d.prototype.z$=function(){return !this.Ij.value;};d.prototype.$Ra=function(){return this.Ga.ended;};d.prototype.xj=function(){return 1 !== this.Hka.value?{stalled:this.Bs.value,progress:this.Hka.value,progressRollback:!1}:null;};d.prototype.getError=function(){var w,x;return null !== (x=null === (w=this.wj) || void 0 === w?void 0:w.eea()) && void 0 !== x?x:null;};d.prototype.Btb=function(){return 1 === this.Ga.buffered.length?1E3 * this.Ga.buffered.end(0):null;};d.prototype.Xvb=function(){return {width:this.Ga.videoWidth,height:this.Ga.videoHeight};};d.prototype.kSa=function(){return this.Ga.muted;};d.prototype.$vb=function(){return this.Ga.volume;};d.prototype.vKb=function(w){this.Ga.muted=w;};d.prototype.MKb=function(w){this.Ga.volume=w;};d.prototype.addEventListener=function(w,x,y){this.jc.addListener(w,x,y);};d.prototype.removeEventListener=function(w,x){this.jc.removeListener(w,x);};d.prototype.load=function(){var w;w=this;this.loaded || (this.loaded=!0,this.oJ.$$(function(x){w.mQc()?x.success?w.Zca():w.close(w.Hj(x.errorCode || g.ca.cAa,x)):w.close(w.Hj(g.ca.$Tb));}));};d.prototype.close=function(w){if(this.closed)return Promise.resolve();this.Ma.mediaTime.set(this.GC());this.pMa();this.Ma.n7=this.lG();this.closed=!0;this.Ga.removeAttribute("src");this.Ga.load();null === w || void 0 === w?void 0:w.xKb(!this.aaa.value);this.wj=w;this.Dh.abort();w && this.Jb(n.Za.error,w.eea());this.Jb(n.Za.closed);return this.HFb.Ada(this.Ma);};d.prototype.play=function(){var w,x;w=this;x=this.Ga.play();this.blb=!1;x && x.then(function(){w.TNa(n.Za.clb);}).catch(function(y){w.Jb(n.Za.xW);"NotAllowedError" === y.name && (w.log.warn("Playback is blocked by the browser settings",y),w.blb=!0,w.rj=!0,w.TNa(n.Za.tka,{player:{play:function(){return w.play();}}}));});};d.prototype.Jb=function(w,x,y){x=x || ({});x.target=this;this.jc.kd(w,x,!y);};d.prototype.TNa=function(w,x){this.zsb.has(w) || (this.zsb.add(w),this.Jb(w,x,void 0));};d.prototype.pause=function(){this.Ga.pause();};d.prototype.cFb=function(){this.pause();};d.prototype.seek=function(w){this.Ga.currentTime=w / 1E3;};d.prototype.nxb=function(w){this.close(this.Hj(g.ca.r6a,g.Y.mh,w));};d.prototype.FY=function(){return this.Ma.playbackRate.value;};d.prototype.Gua=function(w){this.Ma.playbackRate.set(w);};d.prototype.ttb=function(){var w;w=this;return this.Ma.Gk.map(function(x){return w.xv(x);});};d.prototype.nQa=function(w){var x;x=this;return this.u9(w).map(function(y){return x.xv(y);});};d.prototype.stb=function(){var w;w=this.Ma.ka.ce;return w && this.xv(w);};d.prototype.mQa=function(){var w;w=this.Ma.ka.Kd;return w && this.xv(w);};d.prototype.bB=function(w){if((w=this.y8(w)) && w.pg)return (this.Ma.ka.bB(w),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};d.prototype.qp=function(w){var x,y;x=this;y=this.Ma.gj.find(function(z){return x.xv(z) === w;});if(y && y.pg)return (this.Ma.ka.qp(y),this.Ma.Fk.set(y),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};d.prototype.Iub=function(){var w;return this.m9(this.Ma.Gk,null === (w=this.Ma.S) || void 0 === w?void 0:w.Aa.tBb);};d.prototype.yPa=function(w){var x;return this.m9(this.u9(w),null === (x=this.Ma.S) || void 0 === x?void 0:x.Aa.uBb);};d.prototype.xv=function(w){var x;x=w.yXa=w.yXa || ({trackId:w.trackId,bcp47:w.Cg,displayName:w.displayName,trackType:w.Li,rawTrackType:w.LL,channels:w.channels});this.rSa(w) && (x.isNative=w.isNative,x.surroundFormatLabel=w.Jda);this.sSa(w) && (x.isNoneTrack=w.qq(),x.isForcedNarrative=w.Wo(),x.isImageBased=w.pq);x.subType=w.nT;x.variant=w.variant;return x;};d.prototype.rSa=function(w){return "undefined" !== typeof w.isNative;};d.prototype.sSa=function(w){return "undefined" !== typeof w.qq && "undefined" !== typeof w.Wo;};d.prototype.y8=function(w){var x;x=this;return w && this.Ma.Gk.find(function(y){return x.xv(y) === w;});};d.prototype.u9=function(w){var x;w=this.y8(w) || this.Ma.ka.ce;return null !== (x=null === w || void 0 === w?void 0:w.gj) && void 0 !== x?x:[];};d.prototype.m9=function(w,x){var y;y=w.length - 1;if("number" !== typeof x)return y;w=w.findIndex(function(z){return z.yc > x;});return -1 === w?y:w - 1;};d.prototype.Vva=function(w){this.Ma.mb=(0,r.Jqa)(this.Ma.mb,w);};d.prototype.Dl=function(w){if(w !== this.Ma.L)throw (!1,Error("Unknown segmentId " + w));return this.Ma;};d.prototype.dvb=function(){return this.Ma.mb;};d.prototype.FIa=function(){!1;};d.prototype.RHb=function(){!1;};d.prototype.lD=function(){!1;};d.prototype.JR=function(){!1;};d.prototype.J9=function(){!1;return Promise.reject();};d.prototype.cQa=function(){return {};};d.prototype.tna=function(){};d.prototype.rtb=function(){return {};};d.prototype.DZa=function(){};d.prototype.T0=function(){};d.prototype.Wxb=function(){return !1;};d.prototype.Ttb=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};d.prototype.PX=function(){!1;return Promise.resolve({success:!0});};d.prototype.Uvb=function(){!1;};d.prototype.E9=function(){!1;};d.prototype.N0=function(){!1;};d.prototype.a_a=function(){!1;};d.prototype.pAb=function(){!1;};d.prototype.ltb=function(){!1;return Promise.reject();};d.prototype.CFb=function(){!1;return Promise.reject();};d.prototype.YGb=function(){!1;return Promise.reject();};d.prototype.fl=function(){!1;return Promise.reject();};d.prototype.jS=function(){!1;};b.igb=d;},41893:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m,p,r,q,u,v,w,x,y,z,B,A,C,D){var F;F=this;this.Df=l;this.dc=m;this.jc=r;this.OA=u;this.a7=v;this.mtb=w;this.config=y;this.Hj=B;this.K=A;this.j=z.create(A.R,A.Gj,x,C,D,A.Bb,A.id,A.S);this.j.background.set(!0);this.log=p.ub("VideoPlayer",this.j);this.kFb=[];this.mB=[];this.ended=!1;this.XT();this.j.state.addListener(function(G){G.newValue === c.Bc.qf && F.Jb(c.Za.ySa,{movieId:A.R});});this.j.mb.Hg && (this.uW=q.Zbc(this,this.j),this.j.addEventListener(c.ja.$L,function(G){G=G.position.segmentId;F.Gvc !== G && (F.Gvc=G,F.Jb(c.Za.GLc,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.L8a=void 0;n=a(36129);c=a(85001);h=a(5021);f=a(22365);e=a(87607);g=a(3887);k=a(26388);d.prototype.Tr=function(){return this.j.state.value === c.Bc.qf;};d.prototype.Qub=function(){return this.j.R;};d.prototype.Xz=function(){return this.j.Ia;};d.prototype.cvb=function(){var l;return null === (l=this.j.S) || void 0 === l?void 0:l.Aa.Sd;};d.prototype.jq=function(){return this.j.au;};d.prototype.Dx=function(){return this.j.Ij.value;};d.prototype.z$=function(){return this.j.paused.value;};d.prototype.$Ra=function(){return this.ended;};d.prototype.xj=function(){var l;l=this.j.PJa.value;return l?{networkStalled:!!l.Bs,stalled:!!l.Bs,progress:l.progress,progressRollback:!!l.mHc}:null;};d.prototype.getError=function(){var l;l=this.j.wj;return l?l.eea():null;};d.prototype.Em=function(){var l;return null === (l=this.j.Em()) || void 0 === l?void 0:l.EP;};d.prototype.Kn=function(){return this.j.Ac;};d.prototype.Sz=function(){var l;return this.Kn().za?null !== (l=this.Kn().eoa()) && void 0 !== l?l:null:this.GC();};d.prototype.GC=function(){return this.j.mediaTime.value;};d.prototype.Btb=function(){var l;l=(this.lG() || 0) + this.j.Atb();return Math.min(l,this.fK());};d.prototype.lG=function(){var l;return this.Kn().za?null !== (l=this.Kn().eoa()) && void 0 !== l?l:null:this.j.jK();};d.prototype.fK=function(){return this.Kn().za?this.Kn().Vvb():this.j.MF.oa(h.ya);};d.prototype.Xvb=function(){var l;l=this.j.TT.value;return l?{width:l.width,height:l.height}:null;};d.prototype.tna=function(){return this.j.tna();};d.prototype.ltb=function(l){var m,p;return (null === (m=this.j.S) || void 0 === m?0:m.Zo.AY("generateScreenshots"))?this.mtb.Pe({log:this.log,links:this.j.S.Zo},l):(m=null === (p=this.j.mb) || void 0 === p?void 0:p.ds)?this.mtb.Pe({log:this.log},Object.assign({packageId:m},l)):Promise.reject("Unknown packageId");};d.prototype.Ttb=function(){return this.Amc(this.j.Spb);};d.prototype.ttb=function(){var l;l=this;return this.j.Gk.map(function(m){return l.xv(m);});};d.prototype.Iub=function(){var l;return this.m9(this.j.Gk,null === (l=this.j.S) || void 0 === l?void 0:l.Aa.tBb);};d.prototype.nQa=function(l){var m;m=this;return this.u9(l).map(function(p){return m.xv(p);});};d.prototype.yPa=function(l){var m;return this.m9(this.u9(l),null === (m=this.j.S) || void 0 === m?void 0:m.Aa.uBb);};d.prototype.kSa=function(){return this.j.muted.value;};d.prototype.$vb=function(){return this.j.volume.value;};d.prototype.stb=function(){var l,m;m=(null === (l=this.pD) || void 0 === l?void 0:l.ce) || this.j.ka.ce;return m && this.xv(m);};d.prototype.mQa=function(){var l,m;m=(null === (l=this.pD) || void 0 === l?void 0:l.Tda) || this.j.ka.Kd;return m && this.xv(m);};d.prototype.Wxb=function(){return this.j.background.value;};d.prototype.vKb=function(l){this.j.muted.set(!!l);};d.prototype.MKb=function(l){this.j.volume.set(this.mBc(l));};d.prototype.Gua=function(l){this.j.playbackRate.set(l);};d.prototype.FY=function(){return this.j.playbackRate.value;};d.prototype.bB=function(l){var m,p,r,q,u;m=this;r=this.y8(l);if(r){if(r.pg)return (this.j.ka.bB(r),Promise.resolve());q=(l=(null === (p=this.pD) || void 0 === p?void 0:p.Tda) || this.j.ka.Kd) && this.Dyb(r,l)?l:r.gj[0];p=r.trackId;u=q.trackId;this.pD={ce:r,Tda:q};this.Jb(c.Za.Rp);this.Jb(c.Za.pB);q !== l && this.Jb(c.Za.wp);return this.j.Uwb(p,u).then(function(v){v=v.ce;m.pD=void 0;m.j.ka.bB(v);}).catch(function(v){m.pD=void 0;v=m.Df.Wi(v);m.log.error(v);m.close(m.Hj(n.ca.yN,{Sa:n.Y.pBa,jf:v,AQ:{dsc:r.trackId,Wwb:r.Cg,esc:q.trackId,Xwb:q.Cg}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};d.prototype.qp=function(l){var m,p,r,q;m=this;r=(null === (p=this.pD) || void 0 === p?void 0:p.ce) || this.j.ka.ce;if(null !== r){q=r.gj;p={};for(var u=0;u < q.length;(p={ou:p.ou},u++)){p.ou=q[u];if(!l && null === p.ou)return (this.j.ka.qp(null),this.j.sf && this.j.KOb(p.ou),Promise.resolve());if(this.xv(p.ou) === l){if(p.ou.pg)return (this.log.info("Setting Timed Text, profile: " + p.ou.profile),this.j.ka.qp(p.ou),this.j.sf && this.j.KOb(p.ou),Promise.resolve());l=r.trackId;q=p.ou.trackId;this.pD={ce:r,Tda:p.ou};this.Jb(c.Za.wp);return this.j.Uwb(l,q).then(function(v){v=v.Tda;m.pD=void 0;m.j.ka.qp(v);}).catch((function(v){return function(w){m.pD=void 0;w=m.Df.Wi(w);m.log.error(w);m.close(m.Hj(n.ca.yN,{Sa:n.Y.pBa,jf:w,AQ:{dsc:r.trackId,Wwb:r.Cg,esc:v.ou.trackId,Xwb:v.ou.Cg}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};d.prototype.DZa=function(l){this.j.background.set(l);};d.prototype.T0=function(){this.j.T0();};d.prototype.Vva=function(l){this.j.Vva(l);};d.prototype.Dl=function(l){return this.j.Dl(l);};d.prototype.dvb=function(){return this.j.mb;};d.prototype.lD=function(){this.j.lD();};d.prototype.JR=function(l){this.j.JR(l);};d.prototype.J9=function(l,m,p){return this.j.J9(l,m,p);};d.prototype.FIa=function(l,m){this.j.addEventListener(l,m,void 0);};d.prototype.RHb=function(l,m){this.j.removeEventListener(l,m);};d.prototype.addEventListener=function(l,m,p){this.jc.addListener(l,m,p);};d.prototype.removeEventListener=function(l,m){this.jc.removeListener(l,m);};d.prototype.jS=function(){};d.prototype.load=function(){var l;l=this;this.loaded || (this.loaded=!0,this.j.load(function(m,p){try{l.Jb(c.Za.tAb,void 0,!0);m.S && (m.S.Aa.RPb && l.Jb(c.Za.zUc,m.S.Aa.RPb,!0),m.S.Aa.xr && l.Jb(c.Za.FLc,{segmentMap:m.S.Aa.xr},!0),m.S.Aa.z0a && (l.mB=m.S.Aa.z0a,l.Jb(c.Za.A0a,{timecodes:l.mB},!0)));p({success:!0});}catch(r){p({Sa:n.Y.Sq,jf:l.Df.Wi(r)});}}));};d.prototype.Rvb=function(){return this.mB;};d.prototype.close=function(l){var m;m=this;this.jnb || (this.jnb=new Promise(function(p){l?m.j.AJ(l,p):m.j.close(p);}));return this.jnb;};d.prototype.play=function(){this.j.rj?this.j.fireEvent(c.ja.Jca):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(c.ja.kPb)));};d.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(c.ja.I1a));};d.prototype.cFb=function(){this.load();this.j.paused.value || this.j.paused.set(!0,{FA:!0});};d.prototype.seek=function(l,m,p,r){m=void 0 === m?c.Jc.tu:m;this.j.z8b() && (this.Kn().za && this.Kn().Jyb(this.Kn().PIb(l)) && !this.Kn().MQ(!0)?this.Kn().Pca():this.j.Rd?(this.Kn().za && (l=this.Kn().PIb(l)),this.j.Rd.seek(l,m,p,r)):(this.Kn().za && (l=this.Kn().rPa(l).Tp),this.j.Tp=l));};d.prototype.CFb=function(l){return this.uW?(this.log.trace("Playing a segment",l),this.uW.play(l)):Promise.resolve();};d.prototype.YGb=function(l){return this.uW?(this.log.trace("Queueing a segment",l),this.uW.Zf(l)):Promise.resolve();};d.prototype.fl=function(l,m){return this.uW?(this.log.trace("Updating next segment weights",l,m),this.uW.fl(l,m)):Promise.resolve();};d.prototype.E9=function(){var l;l=this.j.Hq.E9();return {bounds:l.I6,margins:l.Lx,size:l.size,visibility:l.visibility};};d.prototype.N0=function(l){var m,p,r;m=l.bounds;p=l.margins;r=l.size;l=l.visibility;this.j.Zda && (m && this.j.Zda.WZa(m),p && this.j.Zda.XZa(p),"boolean" === typeof l && this.j.Zda.YZa(l));this.j.Hq && r && this.j.Hq.hNc(r);};d.prototype.a_a=function(l){this.j.Lq=l;};d.prototype.Uvb=function(l){return this.j.PH && this.j.PH.dnc(l) || null;};d.prototype.rtb=function(){return this.Df.YZ({playerver:this.config.version,jssid:this.config.hvc,groupName:this.config.inc(),xid:this.j.Ia,pbi:this.j.index},this.config.YEc,{prefix:"pi_"});};d.prototype.nxb=function(l){this.j.og(n.ca.r6a,n.Y.mh,l);};d.prototype.pAb=function(l,m,p,r){if(!this.dc.lkb(l))throw Error("invalid url");this.kFb.push({url:l,name:m,b6b:p,options:r});this.FGb();};d.prototype.cQa=function(){var l,m,p,r,q,u,v,w;l={};m=this.j.wda;try{if((this.j.wj && (l.errorCode=this.j.wj.$la,l.errorType=m?"endplay":"startplay"),l.playdelay=(0,g.Hh)(this.j.Q6()),l.xid=this.j.Ia,this.j.S && this.dc.Ws(this.j.S.Aa.ds) && (l.packageId=Number(this.j.S.Aa.ds)),l.auth=this.j.Jlc(),m)){l.totaltime=this.j.jp?this.Ir(this.j.jp.wv("content")):0;l.abrdel=this.j.jp?this.j.jp.EOa():0;p=this.j.Rd;r=p?p.iQ():null;this.dc.Ao(r) && (l.totdfr=r);r=p?p.a9():null;this.dc.Ao(r) && (l.totcfr=r);q=p?p.tnc():null;q && (l.rbfrs_decoder=q.Ela,l.rbfrs_network=q.gra);l.rbfrs_delay=this.j.jp?this.j.jp.RRa:0;l.init_vbr=this.j.Toa;u=this.GY();this.dc.sX(u) && (l.pdltime=u);v=this.j.se.value;w=v && v.stream;w && (l.vbr=w.bitrate,l.vdlid=w.cc);l.bufferedTime=this.j.Atb();}}catch(x){this.log.error("error capturing session summary",x);}return l;};d.prototype.PX=function(l){this.j.mb.Eq && (this.j.mb.Eq.userEngageAction=1);return this.dc.Ao(this.j.mediaTime.value)?(l=Object.assign(Object.assign({},this.OA.create(this.j)),{action:l}),this.a7(e.no.PX).Pe({log:this.log,links:this.j.S.Zo},l).then(function(){return {success:!0};}).catch(function(m){return {success:!1,errorCode:m.code,errorSubCode:m.subCode,errorExternalCode:m.extCode,errorData:m.data,errorDetails:m.details};})):Promise.resolve({success:!1});};d.prototype.Amc=function(l){return {register:l.register.bind(l),notifyUpdated:l.nDb.bind(l),getModel:l.eoc.bind(l),getGroups:l.g9.bind(l),addEventListener:l.addEventListener.bind(l),removeEventListener:l.removeEventListener.bind(l),getTime:l.getTime.bind(l)};};d.prototype.xv=function(l){var m;m=l.yXa=l.yXa || ({trackId:l.trackId,bcp47:l.Cg,displayName:l.displayName,trackType:l.Li,rawTrackType:l.LL,channels:l.channels});this.rSa(l) && (m.isNative=l.isNative,m.surroundFormatLabel=l.Jda);this.sSa(l) && (m.isNoneTrack=l.qq(),m.isForcedNarrative=l.Wo(),m.isImageBased=l.pq);m.subType=l.nT;m.variant=l.variant;return m;};d.prototype.rSa=function(l){return "undefined" !== typeof l.isNative;};d.prototype.sSa=function(l){return "undefined" !== typeof l.qq && "undefined" !== typeof l.Wo;};d.prototype.y8=function(l){var m;m=this;return l && this.j.Gk.find(function(p){return m.xv(p) === l;});};d.prototype.u9=function(l){var m,p;l=this.y8(l) || (null === (m=this.pD) || void 0 === m?void 0:m.ce) || this.j.ka.ce;return null !== (p=null === l || void 0 === l?void 0:l.gj) && void 0 !== p?p:[];};d.prototype.m9=function(l,m){var p;p=l.length - 1;if("number" !== typeof m)return p;l=l.findIndex(function(r){return r.yc > m;});return -1 === l?p:l - 1;};d.prototype.Dyb=function(l,m){return 0 <= l.gj.indexOf(m);};d.prototype.mBc=function(l){return 0 <= l?1 >= l?l:1:0;};d.prototype.Ir=function(l){return this.dc.Ao(l)?(l / 1E3).toFixed(0):"";};d.prototype.Jb=function(l,m,p){m=m || ({});m.target=this;this.jc.kd(l,m,!p);};d.prototype.XT=function(){var l;l=this;this.j.addEventListener(c.ja.t0a,function(){l.Jb(c.Za.st);});this.j.TT.addListener(function(){l.Jb(c.Za.S1a);});this.j.addEventListener(c.ja.lOb,function(){l.Jb(c.Za.kOb);});this.j.addEventListener(c.ja.Caa,function(){l.Jb(c.Za.Eka);});this.j.addEventListener(c.ja.ls,function(){l.Jb(c.Za.Eka);});this.j.addEventListener(c.ja.UY,function(m){l.Jb(c.Za.UY,{errorCode:m});});this.j.addEventListener(c.ja.ska,function(){l.Jb(c.Za.clb);});this.j.addEventListener(c.ja.rj,function(m){l.Jb(c.Za.tka,m);});this.j.addEventListener(c.ja.ANb,function(){l.Jb(c.Za.oka);l.Jb(c.Za.pB);});this.j.addEventListener(c.ja.lAb,function(m){var p,r;if(l.Kn().za && l.K.R === m.J){p=m.Kba;if(void 0 !== p){r="execute" === m.action?"ending":"prefetch";l.mB=l.mB.filter(function(q){return q.type !== r;});l.mB.push({type:r,startOffsetMs:p,endOffsetMs:p});l.Jb(c.Za.A0a,{timecodes:l.mB},!0);}}});this.j.Ij.addListener(function(){l.Jb(c.Za.QWa);});this.j.paused.addListener(function(){l.Jb(c.Za.dFb);});this.j.muted.addListener(function(){l.Jb(c.Za.zCb);});this.j.volume.addListener(function(){l.Jb(c.Za.GPb);});this.j.Wb.addListener(function(){l.tOb();});this.j.state.addListener(function(){l.tOb();});this.j.PJa.addListener(function(m){l.ixc || l.j.state.value != c.Bc.qf || m.newValue || (l.ixc=!0,l.Jb(c.Za.loaded),setTimeout(function(){l.log.debug.bind(l.log,"summary ",l.cQa());}));l.Jb(c.Za.xW);});this.j.ka.addListener([k.v.X],function(){l.Jb(c.Za.Rp);l.Jb(c.Za.pB);setTimeout(function(){var m,p;m=l.j.ka.ce;p=l.j.ka.Kd;null === m || null === p || l.Dyb(m,p) || (l.log.info("Changing timed text track to match audio track"),l.j.ka.qp(m.gj[0]));},0);});this.j.ka.addListener([k.v.Ba],function(m){m.Xx && m.Tn && m.Xx.trackId == m.Tn.trackId || l.Jb(c.Za.wp);});this.j.addEventListener(c.ja.pB,function(){l.Jb(c.Za.pB);});this.j.addEventListener(c.ja.oea,function(){l.Jb(c.Za.oea);});this.j.state.addListener(function(m){switch(m.newValue){case c.Bc.qf:l.Jb(c.Za.LMa);l.Jb(c.Za.S1a);l.Jb(c.Za.oka);l.Jb(c.Za.pB);l.Jb(c.Za.sAb);l.FGb();l.FUc();break;case c.Bc.CLOSING:l.j.wj && l.Jb(c.Za.Nxb,l.j.wj);break;case c.Bc.CLOSED:(l.Jb(c.Za.closed),l.jc.Og());}});this.j.addEventListener(c.ja.WK,function(){l.Jb(c.Za.WK);l.Jb(c.Za.st);l.Jb(c.Za.Eka);l.Jb(c.Za.LMa);});};d.prototype.FUc=function(){var l,m,p,r,q;l=this;this.j.Hq.addEventListener("showsubtitle",function(u){l.Jb(c.Za.m_a,u,!0);});this.j.Hq.addEventListener("removesubtitle",function(u){l.Jb(c.Za.bYa,u,!0);});r=this.j.Em();r.Bo.addListener(function(u){r.VMa && l.Jb(c.Za.k4b,{state:u.newValue?"start":"stop"});});q=null === (m=this.j.bb) || void 0 === m?void 0:m.Em();m=null === q || void 0 === q?void 0:q.js.events;null === m || void 0 === m?void 0:m.addListener("adPlaygraphUpdated",function(){l.Jb(c.Za.akb);});null === (p=this.j.bb) || void 0 === p?void 0:p.addEventListener("adMetadataUpdated",function(){l.Jb(c.Za.akb);});};d.prototype.FGb=function(){if(this.j.state.value == c.Bc.qf){for(var l,m,p;m=this.kFb.shift();)(l=this.j.Hq.uIa(m.url,m.name,m.options),m.b6b && (p=l));p && this.j.ka.qp(p);}};d.prototype.tOb=function(){var l,m,p,r;m=this.ended;p=this.j.state.value == c.Bc.qf && this.j.Wb.value == c.Kb.zw;r=!1;p && this.j.bb && (r=null === (l=this.j.bb) || void 0 === l?void 0:l.Qoc());m === p || r || (this.ended=p,this.j.EO("Ended changed: " + p),(p || this.j.state.value === c.Bc.CLOSING) && this.Jb(c.Za.arb));};d.prototype.GY=function(){var l,m;try{l=/playercore.*js/;m=f.GB.getEntriesByType("resource").filter(function(p){return null !== l.exec(p.name);});if(m && 0 < m.length)return JSON.stringify(Math.round(m[0].duration));}catch(p){}};b.L8a=d;},52357:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H;function d(J){this.cd=J;}Object.defineProperty(b,"__esModule",{value:!0});b.QFa=void 0;t=a(22970);n=a(22674);c=a(71501);h=a(74870);f=a(42207);e=a(87386);g=a(15160);k=a(2911);l=a(41106);m=a(41893);p=a(32979);r=a(87607);q=a(95738);u=a(25050);v=a(61861);w=a(62665);x=a(81918);y=a(49745);z=a(37104);B=a(77764);A=a(4203);C=a(44376);D=a(47500);F=a(30869);G=a(78029);E=a(91825);H=a(11479);d.prototype.YW=function(J,L,K,M,P,I){return this.cd.get(A.Fc)().awa?new u.igb(this.cd.get(e.yb),this.cd.get(v.HDa),this.cd.get(w.xE),this.cd.get(x.$d),this.cd.get(y.QU),this.cd.get(g.qza),this.cd.get(z.DBa),this.cd.get(B.E7a),this.cd.get(C.ycb),this.cd.get(D.gFa),this.cd.get(D.gFa),this.cd.get(F.vi),this.cd.get(E.U3),this.cd.get(G.Pza),this.cd.get(H.Oj),M,K):new m.L8a(this.cd.get(h.cm),this.cd.get(f.wi),this.cd.get(e.yb),this.cd.get(g.qza),this.cd.get(k.QEa),this.cd.get(p.jDa),this.cd.get(r.oza),this.cd.get(q.Kbb),this.cd.get(l.N5a),J,L,K,M,P,I);};a=d;b.QFa=a;b.QFa=a=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(c.J8a))],a);},54861:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WEa="SocketRouterWebPlayerClient";},42933:function(t,b,a){var c;function d(h,f){var e;e=c.E4.call(this,"WSS",h.trace) || this;e.options=h;e.g2a=f;f.onmessage=function(g){g=g.data;"string" === typeof g?(e.trace("Received",g),e.emit("message",{Hd:e,message:g}),h.uf.sHb(g.length)):e.trace("Received non-string message",g);};f.onclose=function(g){e.trace("Received close event",g);e.options.uf.h$b();e.g$b=g;e.close();};f.onerror=function(g){e.trace("Received error, closing",g);e.options.uf.error();e.failure={type:"ws-native-error",url:h.url,event:null !== g && void 0 !== g?g:"undefined"};e.emit("failure",{Ae:"ws.onerror",Hd:e,error:e.failure});e.close();};e.closed.then(function(){e.g2a=void 0;f.onopen=n;f.onclose=n;f.onerror=n;f.onmessage=n;f.close();});return e;}function n(){}Object.defineProperty(b,"__esModule",{value:!0});b.R4=void 0;c=a(9568);Ia(d,c.E4);d.open=function(h){return new Promise(function(f,e){var g,k,l,m,p,r;k=new URL(h.url);new URLSearchParams(h.Bb).forEach(function(q,u){k.searchParams.append(u,q);});l=k.toString();m=null === (g=h.timing) || void 0 === g?void 0:g.gva(["network","web.WebSocket"]);h.uf.bDc();p=new WebSocket(l);r=new d(h,p);r.trace("Connecting with",l);p.onopen=function(){p.onopen=function(){};r.trace("Connected");null === m || void 0 === m?void 0:m.end();h.uf.Pv();f(r);};r.closed.then(function(){var q,u,v;v=null !== (q=r.failure) && void 0 !== q?q:{type:"ws-did-not-open",url:h.url,event:null !== (u=r.g$b) && void 0 !== u?u:void 0};null === m || void 0 === m?void 0:m.end(v);e(v);});});};d.prototype.close=function(){if(c.E4.prototype.close.call(this))return (this.options.uf.closed(),!0);};d.prototype.send=function(h){if(this.open && this.g2a)return (this.trace("Sending",h),this.g2a.send(h),this.options.uf.T(h.length),!0);};b.R4=d;d.supported="function" === typeof globalThis.WebSocket;},4888:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.AUc=function(e,g){function k(l){var m,p,r,q;m=e.url;p=e.trace;r=e.uf;q={"x-netflix.request.client.context":JSON.stringify({appState:e.visible.ZT?"foreground":"background"}),"x-netflix.socketrouter.schema.version":"" + d.Rha.mLc,"x-netflix.socketrouter.group.name":"" + g.groupName};return h.R4.open({url:m,trace:p,uf:r,Bb:q,timing:l});}return function(l){return n.W2a.open({timing:l,trace:e.trace,timeout:e.timeout,hW:c.X2a.rkc({trace:e.trace,wl:e.wl.hW}),lx:k,KC:new f.Geb(e.ik)});};};d=a(41066);n=a(42050);c=a(61222);h=a(42933);f=a(1409);},21015:function(t,b,a){var n,c,h,f,e;function d(g,k){g=f.Gf.call(this,g,"SocketRouterConfigImpl") || this;g.config=k;return g;}Object.defineProperty(b,"__esModule",{value:!0});b.UEa=b.Qha=void 0;t=a(22970);n=a(22674);c=a(4203);h=a(12501);f=a(64174);a=a(83767);b.Qha="SocketRouterConfigSymbol";Ia(d,f.Gf);Ha.Object.defineProperties(d.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !1;}},url:{configurable:!0,enumerable:!0,get:function(){return "wss://web.ws.prod.cloud.netflix.com/socketrouter";}},O_:{configurable:!0,enumerable:!0,get:function(){return 24E4;}},esa:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},Uta:{configurable:!0,enumerable:!0,get:function(){return 15E3;}},groupName:{configurable:!0,enumerable:!0,get:function(){return this.config().groupName;}},RF:{configurable:!0,enumerable:!0,get:function(){return !1;}},dLb:{configurable:!0,enumerable:!0,get:function(){return !1;}},bLb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});e=d;b.UEa=e;t.__decorate([h.config(h.jd,"socketRouterEnabled")],e.prototype,"enabled",null);t.__decorate([h.config(h.string,"socketRouterURL")],e.prototype,"url",null);t.__decorate([h.config(h.uy,"socketRouterPingInterval")],e.prototype,"O_",null);t.__decorate([h.config(h.uy,"socketRouterOpenTimeout")],e.prototype,"esa",null);t.__decorate([h.config(h.uy,"socketRouterRequestTimeout")],e.prototype,"Uta",null);t.__decorate([h.config(h.string,"socketRouterGroupName")],e.prototype,"groupName",null);t.__decorate([h.config(h.jd,"socketRouterDisableOnSuspend")],e.prototype,"RF",null);t.__decorate([h.config(h.jd,"socketRouterShouldSendLogblobs")],e.prototype,"dLb",null);t.__decorate([h.config(h.jd,"socketRouterShouldSendEvents")],e.prototype,"bLb",null);b.UEa=e=t.__decorate([(0,n.$)(),t.__param(0,(0,n.u)(a.uo)),t.__param(1,(0,n.u)(c.Fc))],e);},70885:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.VEa=b.rgb=void 0;t=a(22970);a=a(22674);b.rgb={logblob:{maxLengthBytes:204800,maxInQueue:4},events:{maxInQueue:void 0},manifest:{maxInQueue:void 0},license:{maxInQueue:void 0},ntlBatch:{maxLengthBytes:204800,maxInQueue:4},ntlSendImmediate:{maxInQueue:void 0}};d.prototype.Sb=function(c,h){this.client=c;this.config=h;};d.prototype.request=function(c){return this.client.request(c);};d.prototype.start=function(){this.client.start();};d.prototype.disconnect=function(){this.client.disconnect();};Ha.Object.defineProperties(d.prototype,{nSa:{configurable:!0,enumerable:!0,get:function(){var c;return !(null === (c=this.client) || void 0 === c || !c.nSa);}}});n=d;b.VEa=n;b.VEa=n=t.__decorate([(0,a.$)()],n);},99133:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x;Object.defineProperty(b,"__esModule",{value:!0});d=a(33351);n=a(12746);c=a(35097);h=a(49217);f=a(41066);t=a(11479);e=a(87386);g=a(91581);k=a(37509);l=a(33554);m=a(31276);p=a(22365);r=a(36475);q=a(4888);b=a(36129);u=a(7605);v=a(21015);w=a(54861);x=a(42933);m.Wa.get(t.Oj).register(b.ca.q8a,function(y){var A,C,D,F,G,E,H,J,L,K,M,P,I,O,Q;function z(){k.re.removeListener(k.Lr,B);k.re.removeListener(k.Gm,z);O && O();}function B(){I.set(!0 !== p.yi.hidden);}A=m.Wa.get(v.Qha);if(!A.enabled || !x.R4.supported)return y({success:!0});C=m.Wa.get(u.Py);D=m.Wa.get(r.Dbb);F=m.Wa.get(l.xB);G=m.Wa.get(g.Ps);E=A.groupName;H=A.url;J=A.O_;L=A.esa;K=A.Uta;M=A.RF;P=m.Wa.get(e.yb).ub("SocketRouterClient");H={lx:function(S){return (0,q.AUc)(S,{groupName:E});},enabled:!0,url:H,O_:J,esa:L,Uta:K,RF:M,dkb:!0,FXa:!1};G=G.version;I=new n.wxa().set(!0 !== p.yi.hidden);O=null;k.re.removeListener(k.Lr,B);k.re.addListener(k.Lr,B);k.re.addListener(k.Gm,z);C=new d.G5a({kR:function(S,U){switch(S){case "error":P.error("socket-router-client-error",U);break;case "warn":!1;break;default:!1;}},info:{$0a:"WEBSITE",groupName:E,Fea:{Ua:"",build:"",$0a:C.uiVersion,platform:C.uiPlatform,player:G}},hW:{Vi:F().Vi,crypto:new c.Y2a(),dg:new h.d3a(),vHc:function(){return D.Pe({log:P},{}).then(function(S){return S.provisionResponse;});}},visible:I});Q=new f.Feb(H,C);O=function(){Q.disconnect();};Q.start();m.Wa.get(w.WEa).Sb(Q,A);y({success:!0});});},35558:function(t,b,a){t.exports={sYb:a(81198),qWc:a(52915)};},52915:function(t,b,a){function d(c){this.data=c;this.right=this.left=null;}function n(c){this.yg=null;this.az=c;this.size=0;}b=a(61161);d.prototype.Yi=function(c){return c?this.right:this.left;};d.prototype.iw=function(c,h){c?this.right=h:this.left=h;};n.prototype=new b();n.prototype.Gt=function(c){if(null === this.yg)(this.yg=new d(c),this.size++);else for(var h=0,f=null,e=this.yg;;){if(null === e){e=new d(c);f.iw(h,e);ret=!0;this.size++;break;}if(0 === this.az(e.data,c))break;h=0 > this.az(e.data,c);f=e;e=e.Yi(h);}};n.prototype.remove=function(c){var h,f,l;if(null === this.yg)return !1;h=new d(void 0);f=h;f.right=this.yg;for(var e=null,g=null,k=1;null !== f.Yi(k);){e=f;f=f.Yi(k);l=this.az(c,f.data);k=0 < l;0 === l && (g=f);}return null !== g?(g.data=f.data,e.iw(e.right === f,f.Yi(null === f.left)),this.yg=h.right,this.size--,!0):!1;};t.exports=n;},81198:function(t,b,a){function d(e){this.data=e;this.right=this.left=null;this.red=!0;}function n(e){this.yg=null;this.az=e;this.size=0;}function c(e){return null !== e && e.red;}function h(e,g){var k;k=e.Yi(!g);e.iw(!g,k.Yi(g));k.iw(g,e);e.red=!0;k.red=!1;return k;}function f(e,g){e.iw(!g,h(e.Yi(!g),!g));return h(e,g);}b=a(61161);d.prototype.Yi=function(e){return e?this.right:this.left;};d.prototype.iw=function(e,g){e?this.right=g:this.left=g;};n.prototype=new b();n.prototype.Gt=function(e){var g,k,l,m,p,r,q,u;if(null === this.yg)(this.yg=new d(e),this.size++);else {g=new d(void 0);k=0;l=0;m=null;p=g;r=null;q=this.yg;for(p.right=this.yg;;){null === q?(q=new d(e),r.iw(k,q),this.size++):c(q.left) && c(q.right) && (q.red=!0,q.left.red=!1,q.right.red=!1);if(c(q) && c(r)){u=p.right === m;q === r.Yi(l)?p.iw(u,h(m,!l)):p.iw(u,f(m,!l));}u=this.az(q.data,e);if(0 === u)break;l=k;k=0 > u;null !== m && (p=m);m=r;r=q;q=q.Yi(k);}this.yg=g.right;}this.yg.red=!1;};n.prototype.remove=function(e){var g,k,q,u,v;if(null === this.yg)return !1;g=new d(void 0);k=g;k.right=this.yg;for(var l=null,m,p=null,r=1;null !== k.Yi(r);){q=r;m=l;l=k;k=k.Yi(r);u=this.az(e,k.data);r=0 < u;0 === u && (p=k);if(!c(k) && !c(k.Yi(r)))if(c(k.Yi(!r)))(m=h(k,r),l.iw(q,m),l=m);else if(!c(k.Yi(!r)) && (u=l.Yi(!q),null !== u))if(c(u.Yi(!q)) || c(u.Yi(q))){v=m.right === l;c(u.Yi(q))?m.iw(v,f(l,q)):c(u.Yi(!q)) && m.iw(v,h(l,q));q=m.Yi(v);q.red=!0;k.red=!0;q.left.red=!1;q.right.red=!1;}else (l.red=!1,u.red=!0,k.red=!0);}null !== p && (p.data=k.data,l.iw(l.right === k,k.Yi(null === k.left)),this.size--);this.yg=g.right;null !== this.yg && (this.yg.red=!1);return null !== p;};t.exports=n;},61161:function(t){function b(){}function a(d){this.Rib=d;this.xu=[];this.Xh=null;}b.prototype.clear=function(){this.yg=null;this.size=0;};b.prototype.find=function(d){var c;for(var n=this.yg;null !== n;){c=this.az(d,n.data);if(0 === c)return n.data;n=n.Yi(0 < c);}return null;};b.prototype.lowerBound=function(d){var f;for(var n=this.yg,c=this.iterator(),h=this.az;null !== n;){f=h(d,n.data);if(0 === f)return (c.Xh=n,c);c.xu.push(n);n=n.Yi(0 < f);}for(f=c.xu.length - 1;0 <= f;--f)if((n=c.xu[f],0 > h(d,n.data)))return (c.Xh=n,c.xu.length=f,c);c.xu.length=0;return c;};b.prototype.upperBound=function(d){for(var n=this.lowerBound(d),c=this.az;null !== n.data() && 0 === c(n.data(),d);)n.next();return n;};b.prototype.min=function(){var d;d=this.yg;if(null === d)return null;for(;null !== d.left;)d=d.left;return d.data;};b.prototype.max=function(){var d;d=this.yg;if(null === d)return null;for(;null !== d.right;)d=d.right;return d.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.Y7=function(d){for(var n=this.iterator(),c;null !== (c=n.next());)d(c);};a.prototype.data=function(){return null !== this.Xh?this.Xh.data:null;};a.prototype.next=function(){var d;if(null === this.Xh){d=this.Rib.yg;null !== d && this.Shb(d);}else if(null === this.Xh.right){do if((d=this.Xh,this.xu.length))this.Xh=this.xu.pop();else {this.Xh=null;break;}while(this.Xh.right === d);}else (this.xu.push(this.Xh),this.Shb(this.Xh.right));return null !== this.Xh?this.Xh.data:null;};a.prototype.cy=function(){var d;if(null === this.Xh){d=this.Rib.yg;null !== d && this.Ohb(d);}else if(null === this.Xh.left){do if((d=this.Xh,this.xu.length))this.Xh=this.xu.pop();else {this.Xh=null;break;}while(this.Xh.left === d);}else (this.xu.push(this.Xh),this.Ohb(this.Xh.left));return null !== this.Xh?this.Xh.data:null;};a.prototype.Shb=function(d){for(;null !== d.left;)(this.xu.push(d),d=d.left);this.Xh=d;};a.prototype.Ohb=function(d){for(;null !== d.right;)(this.xu.push(d),d=d.right);this.Xh=d;};t.exports=b;},29919:function(t,b,a){var d,n;b=a(4090);d=a(49638);n=a(68418);a=a(36476);t.exports=a || b.call(n,d);},26497:function(t,b,a){var d,n,c;d=a(4090);n=a(49638);c=a(29919);t.exports=function(){return c(d,n,arguments);};},49638:function(t){t.exports=Function.prototype.apply;},68418:function(t){t.exports=Function.prototype.call;},68381:function(t,b,a){var d,n,c,h;d=a(4090);n=a(5408);c=a(68418);h=a(29919);t.exports=function(f){if(1 > f.length || "function" !== typeof f[0])throw new n("a function is required");return h(d,c,f);};},36476:function(t){t.exports="undefined" !== typeof Reflect && Reflect && Reflect.apply;},62680:function(t,b,a){var d,n,c;d=a(67286);n=a(89429);c=n(d("String.prototype.indexOf"));t.exports=function(h,f){f=d(h,!!f);return "function" === typeof f && -1 < c(h,".prototype.")?n(f):f;};},89429:function(t,b,a){var d,n;d=a(47669);b=a(70999);n=a(68381);a=a(26497);t.exports=function(c){var h,f;h=n(arguments);f=c.length - (arguments.length - 1);return d(h,1 + (0 < f?f:0),!0);};b?b(t.exports,"apply",{value:a}):t.exports.apply=a;},8435:function(t,b,a){var d,n,c;d=a(67286);n=a(68381);c=n([d("%String.prototype.indexOf%")]);t.exports=function(h,f){f=d(h,!!f);return "function" === typeof f && -1 < c(h,".prototype.")?n([f]):f;};},75195:function(t,b,a){var d,n,c,h;d=a(70999);n=a(48342);c=a(5408);h=a(50326);t.exports=function(f,e,g){var k,l,m,p,r;if(!f || "object" !== typeof f && "function" !== typeof f)throw new c("`obj` must be an object or a function`");if("string" !== typeof e && "symbol" !== typeof e)throw new c("`property` must be a string or a symbol`");if(3 < arguments.length && "boolean" !== typeof arguments[3] && null !== arguments[3])throw new c("`nonEnumerable`, if provided, must be a boolean or null");if(4 < arguments.length && "boolean" !== typeof arguments[4] && null !== arguments[4])throw new c("`nonWritable`, if provided, must be a boolean or null");if(5 < arguments.length && "boolean" !== typeof arguments[5] && null !== arguments[5])throw new c("`nonConfigurable`, if provided, must be a boolean or null");if(6 < arguments.length && "boolean" !== typeof arguments[6])throw new c("`loose`, if provided, must be a boolean");k=3 < arguments.length?arguments[3]:null;l=4 < arguments.length?arguments[4]:null;m=5 < arguments.length?arguments[5]:null;p=6 < arguments.length?arguments[6]:!1;r=!!h && h(f,e);if(d)d(f,e,{configurable:null === m && r?r.configurable:!m,enumerable:null === k && r?r.enumerable:!k,value:g,writable:null === l && r?r.writable:!l});else if(p || !k && !l && !m)f[e]=g;else throw new n("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");};},14926:function(t,b,a){var d,n,c,h,f,e;d=a(33464);n="function" === typeof Symbol && "symbol" === typeof Symbol("foo");c=Object.prototype.toString;h=Array.prototype.concat;f=a(75195);e=a(81181)();t.exports=function(g,k){var l,m,r,q,u,v;l=2 < arguments.length?arguments[2]:{};m=d(k);n && (m=h.call(m,Object.getOwnPropertySymbols(k)));for(var p=0;p < m.length;p+=1)a:{r=g;q=m[p];u=k[m[p]];v=l[m[p]];if((q in r))if(!0 === v){if(r[q] === u)break a;}else if("function" !== typeof v || "[object Function]" !== c.call(v) || !v())break a;e?f(r,q,u,!0):f(r,q,u);}};},5141:function(t,b,a){var d,n,c;b=a(68381);a=a(50326);try{d=[].__proto__ === Array.prototype;}catch(h){if(!(h && "object" === typeof h && ("code" in h)) || "ERR_PROTO_ACCESS" !== h.code)throw h;}d=!!d && a && a(Object.prototype,"__proto__");n=Object;c=n.getPrototypeOf;t.exports=d && "function" === typeof d.get?b([d.get]):"function" === typeof c?function(h){return c(null == h?h:n(h));}:!1;},90808:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.c_b="ella-object";b.Igb="1.0.34";},70999:function(t){var b;b=Object.defineProperty || !1;if(b)try{b({},"a",{value:1});}catch(a){b=!1;}t.exports=b;},69654:function(t){t.exports=EvalError;},42321:function(t){t.exports=Error;},48205:function(t){t.exports=RangeError;},2976:function(t){t.exports=ReferenceError;},48342:function(t){t.exports=SyntaxError;},5408:function(t){t.exports=TypeError;},82885:function(t){t.exports=URIError;},42977:function(t,b,a){var d;d=a(5408);t.exports=function(n){if(null == n)throw new d(0 < arguments.length && arguments[1] || "Cannot call method on " + n);return n;};},8156:function(t,b,a){var d,n;d=a(54546);n=a(42977);t.exports=function(c){n(c);return d(c);};},54546:function(t){t.exports=Object;},5158:function(t){t.exports=function(b){return !!b && ("function" === typeof b || "object" === typeof b);};},5885:function(t,b,a){var d,n,c,h,f;d="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;n=a(53919);c=a(9680);h=a(54277);f=a(88705);t.exports=function(e){var g,k,l;if(n(e))return e;g="default";1 < arguments.length && (arguments[1] === String?g="string":arguments[1] === Number && (g="number"));if(d)if(Symbol.toPrimitive){k=Symbol.toPrimitive;l=e[k];if(null !== l && "undefined" !== typeof l){if(!c(l))throw new TypeError(l + " returned for property " + String(k) + " of object " + e + " is not a function");k=l;}else k=void 0;}else f(e) && (k=Symbol.prototype.valueOf);if("undefined" !== typeof k){g=k.call(e,g);if(n(g))return g;throw new TypeError("unable to convert exotic object to primitive");}"default" === g && (h(e) || f(e)) && (g="string");a:{g="default" === g?"number":g;if("undefined" === typeof e || null === e)throw new TypeError("Cannot call method on " + e);if("string" !== typeof g || "number" !== g && "string" !== g)throw new TypeError('hint must be "string" or "number"');g="string" === g?["toString","valueOf"]:["valueOf","toString"];for(k=0;k < g.length;++k)if((l=e[g[k]],c(l) && (l=l.call(e),n(l))))break a;throw new TypeError("No default value");}return l;};},53919:function(t){t.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},22699:function(t){var g,k,l,m;function b(){b.Sb.call(this);}function a(p){if("function" !== typeof p)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof p);}function d(p,r,q,u){var v,w;a(q);v=p.oc;if(void 0 === v)(v=p.oc=Object.create(null),p.bO=0);else {void 0 !== v.tAc && (p.emit("newListener",r,q.listener?q.listener:q),v=p.oc);w=v[r];}void 0 === w?(v[r]=q,++p.bO):("function" === typeof w?w=v[r]=u?[q,w]:[w,q]:u?w.unshift(q):w.push(q),q=void 0 === p.iz?b.dMa:p.iz,0 < q && w.length > q && !w.Z1a && (w.Z1a=!0,q=Error("Possible EventEmitter memory leak detected. " + w.length + " " + String(r) + " listeners added. Use emitter.setMaxListeners() to increase limit"),q.name="MaxListenersExceededWarning",q.Jz=p,q.type=r,q.count=w.length,console && console.warn && console.warn(q)));return p;}function n(){if(!this.ysb)return (this.target.removeListener(this.type,this.dQb),this.ysb=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function c(p,r,q){p={ysb:!1,dQb:void 0,target:p,type:r,listener:q};r=n.bind(p);r.listener=q;return p.dQb=r;}function h(p){var r;r=this.oc;if(void 0 !== r){p=r[p];if("function" === typeof p)return 1;if(void 0 !== p)return p.length;}return 0;}function f(p,r,q){"function" === typeof p.on && e(p,"error",r,q);}function e(p,r,q,u){if("function" === typeof p.on){if(u.once)p.once(r,q);else p.on(r,q);}else if("function" === typeof p.addEventListener)p.addEventListener(r,function x(w){u.once && p.removeEventListener(r,x);q(w);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof p);}g="object" === typeof Reflect?Reflect:null;k=g && "function" === typeof g.apply?g.apply:function(p,r,q){return Function.prototype.apply.call(p,r,q);};l=Number.isNaN || (function(p){return p !== p;});t.exports=b;t.exports.once=function(p,r){return new Promise(function(q,u){function v(x){p.removeListener(r,w);u(x);}function w(){"function" === typeof p.removeListener && p.removeListener("error",v);q([].slice.call(arguments));}e(p,r,w,{once:!0});"error" !== r && f(p,v,{once:!0});});};b.EventEmitter=b;b.prototype.oc=void 0;b.prototype.bO=0;b.prototype.iz=void 0;m=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return m;},set:function(p){if("number" !== typeof p || 0 > p || l(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + p + ".");m=p;}});b.Sb=function(){if(void 0 === this.oc || this.oc === Object.getPrototypeOf(this).oc)(this.oc=Object.create(null),this.bO=0);this.iz=this.iz || void 0;};b.prototype.setMaxListeners=function(p){if("number" !== typeof p || 0 > p || l(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + p + ".");this.iz=p;return this;};b.prototype.emit=function(p){var u,v;for(var r=[],q=1;q < arguments.length;q++)r.push(arguments[q]);u="error" === p;q=this.oc;if(void 0 !== q)u=u && void 0 === q.error;else if(!u)return !1;if(u){0 < r.length && (v=r[0]);if(v instanceof Error)throw v;r=Error("Unhandled error." + (v?" (" + v.message + ")":""));r.context=v;throw r;}q=q[p];if(void 0 === q)return !1;if("function" === typeof q)k(q,this,r);else {v=q.length;u=Array(v);for(var w=0;w < v;++w)u[w]=q[w];for(q=0;q < v;++q)k(u[q],this,r);}return !0;};b.prototype.addListener=function(p,r){return d(this,p,r,!1);};b.prototype.on=b.prototype.addListener;b.prototype.Ysa=function(p,r){d(this,p,r,!0);};b.prototype.once=function(p,r){a(r);this.on(p,c(this,p,r));return this;};b.prototype.oGb=function(p,r){a(r);this.Ysa(p,c(this,p,r));};b.prototype.removeListener=function(p,r){var q,u,v,w,x;a(r);u=this.oc;if(void 0 === u)return this;v=u[p];if(void 0 === v)return this;if(v === r || v.listener === r)0 === --this.bO?this.oc=Object.create(null):(delete u[p],u.removeListener && this.emit("removeListener",p,v.listener || r));else if("function" !== typeof v){w=-1;for(q=v.length - 1;0 <= q;q--)if(v[q] === r || v[q].listener === r){x=v[q].listener;w=q;break;}if(0 > w)return this;if(0 === w)v.shift();else {for(;w + 1 < v.length;w++)v[w]=v[w + 1];v.pop();}1 === v.length && (u[p]=v[0]);void 0 !== u.removeListener && this.emit("removeListener",p,x || r);}return this;};b.prototype.Om=b.prototype.removeListener;b.prototype.removeAllListeners=function(p){var r,q,u;r=this.oc;if(void 0 === r)return this;if(void 0 === r.removeListener)return (0 === arguments.length?(this.oc=Object.create(null),this.bO=0):void 0 !== r[p] && (0 === --this.bO?this.oc=Object.create(null):delete r[p]),this);if(0 === arguments.length){q=Object.keys(r);for(r=0;r < q.length;++r){u=q[r];"removeListener" !== u && this.removeAllListeners(u);}this.removeAllListeners("removeListener");this.oc=Object.create(null);this.bO=0;return this;}q=r[p];if("function" === typeof q)this.removeListener(p,q);else if(void 0 !== q)for(r=q.length - 1;0 <= r;r--)this.removeListener(p,q[r]);return this;};b.prototype.listeners=function(p){var r;r=this.oc;if(void 0 === r)p=[];else if((p=r[p],void 0 === p))p=[];else if("function" === typeof p)p=[p.listener || p];else {r=Array(p.length);for(var q=0;q < r.length;++q)r[q]=p[q].listener || p[q];p=r;}return p;};b.listenerCount=function(p,r){return "function" === typeof p.listenerCount?p.listenerCount(r):h.call(p,r);};b.prototype.listenerCount=h;},37795:function(t){var n,c;function b(h,f){for(var e="",g=0;g < h.length;g+=1)(e+=h[g],g + 1 < h.length && (e+=f));return e;}function a(h,f){var e;e=[];f=f || 0;for(var g=0;f < h.length;(f+=1,g+=1))e[g]=h[f];return e;}function d(h,f){for(var e=[],g=0;g < h.length;g+=1)e[g]=h[g];for(g=0;g < f.length;g+=1)e[g + h.length]=f[g];return e;}n=Object.prototype.toString;c=Math.max;t.exports=function(h){var f;f=this;if("function" !== typeof f || "[object Function]" !== n.apply(f))throw new TypeError("Function.prototype.bind called on incompatible " + f);for(var e=a(arguments,1),g,k=c(0,f.length - e.length),l=[],m=0;m < k;m++)l[m]="$" + m;g=Function("binder","return function (" + b(l,",") + "){ return binder.apply(this,arguments); }")(function(){var p;if(this instanceof g){p=f.apply(this,d(e,arguments));return Object(p) === p?p:this;}return f.apply(h,d(e,arguments));});f.prototype && (k=function(){},k.prototype=f.prototype,g.prototype=new k(),k.prototype=null);return g;};},4090:function(t,b,a){b=a(37795);t.exports=Function.prototype.bind || b;},67286:function(t,b,a){var h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M,P,I,O,Q,S,U,W,Y,X;function d(Z){var aa,ca,da;aa=U(Z,0,1);ca=U(Z,-1);if("%" === aa && "%" !== ca)throw new l("invalid intrinsic syntax, expected closing `%`");if("%" === ca && "%" !== aa)throw new l("invalid intrinsic syntax, expected opening `%`");da=[];S(Z,Y,function(ja,R,N,V){da[da.length]=N?S(V,X,"$1"):R || ja;});return da;}function n(){throw new m();}function c(Z){try{return z('"use strict"; return (' + Z + ").constructor;")();}catch(aa){}}h=a(54546);f=a(42321);e=a(69654);g=a(48205);k=a(2976);l=a(48342);m=a(5408);p=a(82885);r=a(14383);q=a(45736);u=a(27130);v=a(22400);w=a(23654);x=a(96890);y=a(82026);z=Function;B=a(50326);A=a(70999);C=B?(function(){try{return (arguments.callee,n);}catch(Z){try{return B(arguments,"callee").get;}catch(aa){return n;}}})():n;D=a(32636)();F=a(21750);G=a(2938);E=a(78354);b=a(49638);H=a(68418);J={};L="undefined" !== typeof Uint8Array && F?F(Uint8Array):void 0;K={__proto__:null,"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":D && F?F([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":J,"%AsyncGenerator%":J,"%AsyncGeneratorFunction%":J,"%AsyncIteratorPrototype%":J,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":f,"%eval%":eval,"%EvalError%":e,"%Float16Array%":"undefined" === typeof Float16Array?void 0:Float16Array,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":z,"%GeneratorFunction%":J,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":D && F?F(F([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && D && F?F(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":h,"%Object.getOwnPropertyDescriptor%":B,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":g,"%ReferenceError%":k,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && D && F?F(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":D && F?F(("")[Symbol.iterator]()):void 0,"%Symbol%":D?Symbol:void 0,"%SyntaxError%":l,"%ThrowTypeError%":C,"%TypedArray%":L,"%TypeError%":m,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":p,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet,"%Function.prototype.call%":H,"%Function.prototype.apply%":b,"%Object.defineProperty%":A,"%Object.getPrototypeOf%":G,"%Math.abs%":r,"%Math.floor%":q,"%Math.max%":u,"%Math.min%":v,"%Math.pow%":w,"%Math.round%":x,"%Math.sign%":y,"%Reflect.getPrototypeOf%":E};if(F)try{(null).error;}catch(Z){h=F(F(Z));K["%Error.prototype%"]=h;}M=function ca(aa){var da,ja;if("%AsyncFunction%" === aa)da=c("async function () {}");else if("%GeneratorFunction%" === aa)da=c("function* () {}");else if("%AsyncGeneratorFunction%" === aa)da=c("async function* () {}");else if("%AsyncGenerator%" === aa){ja=ca("%AsyncGeneratorFunction%");ja && (da=ja.prototype);}else "%AsyncIteratorPrototype%" === aa && (ja=ca("%AsyncGenerator%")) && F && (da=F(ja.prototype));return K[aa]=da;};P={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};h=a(4090);I=a(72196);O=h.call(H,Array.prototype.concat);Q=h.call(b,Array.prototype.splice);S=h.call(H,String.prototype.replace);U=h.call(H,String.prototype.slice);W=h.call(H,RegExp.prototype.exec);Y=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;X=/\\(\\)?/g;t.exports=function(aa,ca){var da,ja,R,N,V,ba,fa,ha,la;if("string" !== typeof aa || 0 === aa.length)throw new m("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof ca)throw new m('"allowMissing" argument must be a boolean');if(null === W(/^%?[^%]*%?$/,aa))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");da=d(aa);ja=0 < da.length?da[0]:"";R="%" + ja + "%";N=R;if(I(P,N)){V=P[N];N="%" + V[0] + "%";}if(I(K,N)){ba=K[N];ba === J && (ba=M(N));if("undefined" === typeof ba && !ca)throw new m("intrinsic " + R + " exists, but is not available. Please file an issue!");}else throw new l("intrinsic " + R + " does not exist!");R=ba;N=!1;V && (ja=V[0],Q(da,O([0,1],V)));V=1;for(ba=!0;V < da.length;V+=1){fa=da[V];ha=U(fa,0,1);la=U(fa,-1);if(('"' === ha || "'" === ha || "`" === ha || '"' === la || "'" === la || "`" === la) && ha !== la)throw new l("property names with quotes must have matching quotes");"constructor" !== fa && ba || (N=!0);ja+="." + fa;ha="%" + ja + "%";if(I(K,ha))R=K[ha];else if(null != R){if(!((fa in R))){if(!ca)throw new m("base intrinsic for " + aa + " exists, but the property is not available.");return;}B && V + 1 >= da.length?(la=B(R,fa),R=(ba=!!la) && ("get" in la) && !(("originalValue" in la.get))?la.get:R[fa]):(ba=I(R,fa),R=R[fa]);ba && !N && (K[ha]=R);}}return R;};},2938:function(t,b,a){b=a(54546);t.exports=b.getPrototypeOf || null;},78354:function(t){t.exports="undefined" !== typeof Reflect && Reflect.getPrototypeOf || null;},21750:function(t,b,a){var d,n,c;d=a(78354);n=a(2938);c=a(5141);t.exports=d?function(h){return d(h);}:n?function(h){if(!h || "object" !== typeof h && "function" !== typeof h)throw new TypeError("getProto: not an object");return n(h);}:c?function(h){return c(h);}:null;},93165:function(t){t.exports=Object.getOwnPropertyDescriptor;},50326:function(t,b,a){if(b=a(93165))try{b([],"length");}catch(d){b=null;}t.exports=b;},81181:function(t,b,a){var n;function d(){return !!n;}n=a(70999);d.krc=function(){if(!n)return null;try{return 1 !== n([],"length",{value:1}).length;}catch(c){return !0;}};t.exports=d;},32636:function(t,b,a){var d,n;d="undefined" !== typeof Symbol && Symbol;n=a(66679);t.exports=function(){return "function" !== typeof d || "function" !== typeof Symbol || "symbol" !== typeof d("foo") || "symbol" !== typeof Symbol("bar")?!1:n();};},66679:function(t){t.exports=function(){var b,a,d;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");d=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(d))return !1;b[a]=42;for(var n in b)return !1;if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;d=Object.getOwnPropertySymbols(b);return 1 !== d.length || d[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},67226:function(t,b,a){var d;d=a(66679);t.exports=function(){return d() && !!Symbol.toStringTag;};},72196:function(t,b,a){var d;b=Function.prototype.call;d=Object.prototype.hasOwnProperty;a=a(4090);t.exports=a.call(b,d);},28041:function(t,b,a){var c,h;function d(f,e,g,k,l){var m,p,q;m={};p="number" === typeof l;l=void 0 !== l && p?l.toString():g;if(p && void 0 !== g)throw Error(c.LUb);Reflect.QQa(f,e) && (m=Reflect.getMetadata(f,e));g=m[l];if(Array.isArray(g)){p=0;for(var r=g;p < r.length;p++){q=r[p];if(q.key === k.key)throw Error(c.cTb + " " + q.key.toString());}}else g=[];g.push(k);m[l]=g;Reflect.Lla(f,m,e);}function n(f,e){return function(g,k){e(g,k,f);};}Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);h=a(37425);b.pT=function(f,e,g,k){d(h.bfb,f,e,k,g);};b.Qda=function(f,e,g){d(h.cfb,f.constructor,e,g);};b.KJ=function(f,e,g){"number" === typeof g?(f=[n(g,f)],Reflect.KJ(f,e)):"string" === typeof g?Reflect.KJ([f],e,g):Reflect.KJ([f],e);};},29385:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);n=a(37425);c=a(67258);h=a(28041);t=(function(){function f(e){this.w_b=e;}f.prototype.DM=function(){return this.w_b();};return f;})();b.JAa=t;b.u=function(f){return function(e,g,k){var l;if(void 0 === f)throw Error(d.wZb(e.name));l=new c.Metadata(n.F3,f);"number" === typeof k?h.pT(e,g,k,l):h.Qda(e,g,l);};};},16504:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);n=a(37425);b.$=function(){return function(c){var h;if(Reflect.QQa(n.ACa,c))throw Error(d.bTb);h=Reflect.getMetadata(n.ySb,c) || [];Reflect.Lla(n.ACa,h,c);return c;};};},3342:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(67258);c=a(28041);b.ZG=function(h){return function(f,e,g){var k;k=new n.Metadata(d.AN,h);"number" === typeof g?c.pT(f,e,g,k):c.Qda(f,e,k);};};},44466:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(67258);c=a(28041);b.BCb=function(h){return function(f,e,g){var k;k=new n.Metadata(d.sI,h);"number" === typeof g?c.pT(f,e,g,k):c.Qda(f,e,k);};};},5923:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(67258);c=a(28041);b.optional=function(){return function(h,f,e){var g;g=new n.Metadata(d.Qab,!0);"number" === typeof e?c.pT(h,f,e,g):c.Qda(h,f,g);};};},76311:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);n=a(37425);c=a(67258);b.$Fb=function(){return function(h,f){f=new c.Metadata(n.n4,f);if(Reflect.QQa(n.n4,h.constructor))throw Error(d.UVb);Reflect.Lla(n.n4,f,h.constructor);};};},91823:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(67258);n=a(28041);b.HMb=function(c,h){return function(f,e,g){var k;k=new d.Metadata(c,h);"number" === typeof g?n.pT(f,e,g,k):n.Qda(f,e,k);};};},67509:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(67258);c=a(28041);b.Rda=function(h){return function(f,e,g){var k;k=new n.Metadata(d.Kga,h);c.pT(f,e,g,k);};};},53022:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(67258);c=a(28041);b.ju=function(){return function(h,f,e){var g;g=new n.Metadata(d.M4,!0);c.pT(h,f,e,g);};};},70078:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(5493);n=a(72632);t=(function(){function c(h,f){this.id=n.id();this.eIa=!1;this.Ph=h;this.scope=f;this.type=d.Tl.TUb;this.cP=function(){return !0;};this.yX=this.jD=this.pS=this.lx=this.cache=this.nq=null;}c.prototype.clone=function(){var h;h=new c(this.Ph,this.scope);h.eIa=!1;h.nq=this.nq;h.yX=this.yX;h.scope=this.scope;h.type=this.type;h.lx=this.lx;h.pS=this.pS;h.cP=this.cP;h.jD=this.jD;h.cache=this.cache;return h;};return c;})();b.uRb=t;},57197:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fxa={oZc:2,Dab:0,MWb:1};},25640:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bTb="Cannot apply @injectable decorator multiple times.";b.cTb="Metadata key was used more than once in a parameter:";b.h4="NULL argument";b.$8a="Key Not Found";b.vQb="Ambiguous match found for serviceIdentifier:";b.PRb="Could not unbind serviceIdentifier:";b.rWb="No matching bindings found for serviceIdentifier:";b.JVb="Missing required @injectable annotation in:";b.KVb="Missing required @inject or @multiInject annotation in:";b.wZb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.TRb="Circular dependency found:";b.GZc="Sorry, this feature is not fully implemented yet.";b.KUb="Invalid binding type:";b.uWb="No snapshot available to restore.";b.OUb="Invalid return type in middleware. Middleware must return!";b.NUb="Value provided to function binding must be a function!";b.PUb="The toSelf function can only be applied when a constructor is used as service identifier";b.LUb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.xQb=function(){for(var a=[],d=0;d < arguments.length;d++)a[d]=arguments[d];return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.hSb="Invalid Container constructor argument. Container options must be an object.";b.fSb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.eSb="Invalid Container option. Auto bind injectable must be a boolean";b.gSb="Invalid Container option. Skip base check must be a boolean";b.UVb="Cannot apply @postConstruct decorator multiple times in the same class";b.QXb=function(){for(var a=[],d=0;d < arguments.length;d++)a[d]=arguments[d];return "@postConstruct error in class " + a[0] + ": " + a[1];};b.URb=function(){for(var a=[],d=0;d < arguments.length;d++)a[d]=arguments[d];return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.$Yb="Maximum call stack size exceeded";},5493:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hy={Request:"Request",SEa:"Singleton",$ha:"Transient"};b.Tl={d5a:"ConstantValue",e5a:"Constructor",c6a:"DynamicValue",uza:"Factory",Function:"Function",Instance:"Instance",TUb:"Invalid",kdb:"Provider"};b.ME={S4a:"ClassProperty",f5a:"ConstructorArgument",PFa:"Variable"};},37425:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sI="named";b.Kga="name";b.M4="unmanaged";b.Qab="optional";b.F3="inject";b.AN="multi_inject";b.bfb="inversify:tagged";b.cfb="inversify:tagged_props";b.ACa="inversify:paramtypes";b.ySb="design:paramtypes";b.n4="post_construct";},99700:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r;d=this && this.__awaiter || (function(q,u,v,w){return new (v || (v=Promise))(function(x,y){function z(C){try{A(w.next(C));}catch(D){y(D);}}function B(C){try{A(w["throw"](C));}catch(D){y(D);}}function A(C){C.done?x(C.value):new v(function(D){D(C.value);}).then(z,B);}A((w=w.apply(q,u || [])).next());});});n=this && this.__generator || (function(q,u){var x,y,z,B,A;function v(C){return function(D){return w([C,D]);};}function w(C){if(y)throw new TypeError("Generator is already executing.");for(;x;)try{if((y=1,z && (B=z[C[0] & 2?"return":C[0]?"throw":"next"]) && !(B=B.call(z,C[1])).done))return B;if((z=0,B))C=[0,B.value];switch(C[0]){case 0:case 1:B=C;break;case 4:return (x.label++,{value:C[1],done:!1});case 5:x.label++;z=C[1];C=[0];continue;case 7:C=x.NR.pop();x.tc.pop();continue;default:if(!(B=x.tc,B=0 < B.length && B[B.length - 1]) && (6 === C[0] || 2 === C[0])){x=0;continue;}if(3 === C[0] && (!B || C[1] > B[0] && C[1] < B[3]))x.label=C[1];else if(6 === C[0] && x.label < B[1])(x.label=B[1],B=C);else if(B && x.label < B[2])(x.label=B[2],x.NR.push(C));else {B[2] && x.NR.pop();x.tc.pop();continue;}}C=u.call(q,x);}catch(D){C=[6,D];z=0;}finally{y=B=0;}if(C[0] & 5)throw C[1];return {value:C[0]?C[1]:void 0,done:!0};}x={label:0,T:function(){if(B[0] & 1)throw B[1];return B[1];},tc:[],NR:[]};return (A={next:v(0),"throw":v(1),"return":v(2)},"function" === typeof Symbol && (A[Symbol.iterator]=function(){return this;}),A);});Object.defineProperty(b,"__esModule",{value:!0});c=a(70078);h=a(25640);f=a(5493);a(37425);e=a(11499);g=a(75262);k=a(85933);l=a(49825);m=a(72632);p=a(48530);a(95817);r=a(62240);t=(function(){function q(u){u=u || ({});if("object" !== typeof u)throw Error("" + h.hSb);if(void 0 === u.jP)u.jP=f.Hy.$ha;else if(u.jP !== f.Hy.SEa && u.jP !== f.Hy.$ha && u.jP !== f.Hy.Request)throw Error("" + h.fSb);if(void 0 === u.y6)u.y6=!1;else if("boolean" !== typeof u.y6)throw Error("" + h.eSb);if(void 0 === u.cT)u.cT=!1;else if("boolean" !== typeof u.cT)throw Error("" + h.gSb);this.options={y6:u.y6,jP:u.jP,cT:u.cT};this.id=m.id();this.UN=new r.hVb();this.e2b=[];this.parent=this.dHa=null;this.$0b=new e.UBa();}q.Rn=function(u,v){var x,y;function w(z,B){z.ERc(function(A,C){C.forEach(function(D){B.add(D.Ph,D.clone());});});}x=new q();y=g.GOa(x);u=g.GOa(u);v=g.GOa(v);w(u,y);w(v,y);return x;};q.prototype.load=function(){var x,y;for(var u=[],v=0;v < arguments.length;v++)u[v]=arguments[v];v=this.thb();for(var w=0;w < u.length;w++){x=u[w];y=v(x.id);x.ZXa(y.wlb,y.bOb,y.Lyb,y.qHb);}};q.prototype.$$=function(){for(var u=[],v=0;v < arguments.length;v++)u[v]=arguments[v];d(this,void 0,void 0,function(){var w,x,y,z,B;return n(this,function(A){switch(A.label){case 0:(w=this.thb(),x=0,y=u,A.label=1);case 1:if(!(x < y.length))return [3,4];z=y[x];B=w(z.id);return [4,z.ZXa(B.wlb,B.bOb,B.Lyb,B.qHb)];case 2:(A.T(),A.label=3);case 3:return (x++,[3,1]);case 4:return [2];}});});};q.prototype.hOb=function(){function u(y){return function(z){return z.nCb === y;};}for(var v=this,w=[],x=0;x < arguments.length;x++)w[x]=arguments[x];w.forEach(function(y){y=u(y.id);v.UN.dJc(y);});};q.prototype.bind=function(u){var v;v=new c.uRb(u,this.options.jP || f.Hy.$ha);this.UN.add(u,v);return new l.wRb(v);};q.prototype.$Hc=function(u){this.aOb(u);return this.bind(u);};q.prototype.aOb=function(u){try{this.UN.remove(u);}catch(v){throw Error(h.PRb + " " + p.MY(u));}};q.prototype.Yxb=function(u){var v;v=this.UN.swb(u);!v && this.parent && (v=this.parent.Yxb(u));return v;};q.prototype.restore=function(){var u;u=this.e2b.pop();if(void 0 === u)throw Error(h.uWb);this.UN=u.F6;this.dHa=u.qzc;};q.prototype.ecc=function(){var u;u=new q(this.options);u.parent=this;return u;};q.prototype.get=function(u){return this.shb(!1,!1,f.ME.PFa,u);};q.prototype.getAll=function(u){return this.shb(!0,!0,f.ME.PFa,u);};q.prototype.resolve=function(u){var v;v=this.ecc();v.bind(u).jNb();return v.get(u);};q.prototype.thb=function(){var y;function u(z){return function(B){B=y.$Hc.bind(y)(B);B.bd.nCb=z;return B;};}function v(){return function(z){return y.Yxb.bind(y)(z);};}function w(){return function(z){y.aOb.bind(y)(z);};}function x(z){return function(B){B=y.bind.bind(y)(B);B.bd.nCb=z;return B;};}y=this;return function(z){return {wlb:x(z),Lyb:v(z),qHb:u(z),bOb:w(z)};};};q.prototype.shb=function(u,v,w,x){var y;y=null;u={i6b:u,jac:function(z){return z;},huc:v,key:void 0,Ph:x,EQc:w,value:void 0};if(this.dHa){if((y=this.dHa(u),void 0 === y || null === y))throw Error(h.OUb);}else y=this.G1b()(u);return y;};q.prototype.G1b=function(){var u;u=this;return function(v){var w;w=g.Q_(u.$0b,u,v.huc,v.EQc,v.Ph,v.key,v.value,v.i6b);w=v.jac(w);return k.resolve(w);};};return q;})();b.Dfa=t;},51164:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(72632);b.we=(function(){return function(n){this.id=d.id();this.ZXa=n;};})();b.E3a=(function(){return function(n){this.id=d.id();this.ZXa=n;};})();},95817:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PWc=(function(){function a(){}a.of=function(d,n){var c;c=new a();c.F6=d;c.qzc=n;return c;};return a;})();},62240:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);t=(function(){function n(){this.Mg=new Map();}n.prototype.Eub=function(){return this.Mg;};n.prototype.add=function(c,h){var f;if(null === c || void 0 === c)throw Error(d.h4);if(null === h || void 0 === h)throw Error(d.h4);f=this.Mg.get(c);void 0 !== f?(f.push(h),this.Mg.set(c,f)):this.Mg.set(c,[h]);};n.prototype.get=function(c){if(null === c || void 0 === c)throw Error(d.h4);c=this.Mg.get(c);if(void 0 !== c)return c;throw Error(d.$8a);};n.prototype.remove=function(c){if(null === c || void 0 === c)throw Error(d.h4);if(!this.Mg.delete(c))throw Error(d.$8a);};n.prototype.dJc=function(c){var h;h=this;this.Mg.forEach(function(f,e){f=f.filter(function(g){return !c(g);});0 < f.length?h.Mg.set(e,f):h.Mg.delete(e);});};n.prototype.swb=function(c){if(null === c || void 0 === c)throw Error(d.h4);return this.Mg.has(c);};n.prototype.clone=function(){var c;c=new n();this.Mg.forEach(function(h,f){h.forEach(function(e){return c.add(f,e.clone());});});return c;};n.prototype.ERc=function(c){this.Mg.forEach(function(h,f){c(f,h);});};return n;})();b.hVb=t;},22674:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(37425);b.$Yc=t;t=a(99700);b.Dfa=t.Dfa;t=a(5493);b.Hy=t.Hy;b.Tl=t.Tl;b.ME=t.ME;t=a(51164);b.E3a=t.E3a;b.we=t.we;t=a(16504);b.$=t.$;t=a(91823);b.HMb=t.HMb;t=a(44466);b.BCb=t.BCb;t=a(29385);b.u=t.u;b.JAa=t.JAa;t=a(5923);b.optional=t.optional;t=a(53022);b.ju=t.ju;t=a(3342);b.ZG=t.ZG;t=a(67509);b.Rda=t.Rda;t=a(76311);b.$Fb=t.$Fb;t=a(11499);b.UBa=t.UBa;t=a(72632);b.id=t.id;t=a(28041);b.KJ=t.KJ;t=a(41146);b.NNb=t.NNb;b.IMb=t.IMb;b.CCb=t.CCb;b.UNb=t.UNb;t=a(48530);b.MY=t.MY;a=a(14577);b.yCb=a.yCb;},91734:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(72632);t=(function(){function n(c){this.id=d.id();this.Gb=c;}n.prototype.E3b=function(c){this.Q_=c;};return n;})();b.i5a=t;},67258:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);t=(function(){function n(c,h){this.key=c;this.value=h;}n.prototype.toString=function(){return this.key === d.sI?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return n;})();b.Metadata=t;},11499:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);t=(function(){function n(){}n.prototype.Ktb=function(c){var h;h=Reflect.getMetadata(d.ACa,c);c=Reflect.getMetadata(d.bfb,c);return {xnb:h,ATc:c || ({})};};n.prototype.$oc=function(c){return Reflect.getMetadata(d.cfb,c) || [];};return n;})();b.UBa=t;},4595:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Xb=(function(){return function(a,d){this.H_=a;this.LYa=d;};})();},75262:function(t,b,a){var f,e,g,k,l,m,p,r,q,u,v,w;function d(x,y,z,B,A){var C,D;C=h(z.Gb,A.Ph);D=[];C.length === f.Fxa.Dab && z.Gb.options.y6 && "function" === typeof A.Ph && x.Ktb(A.Ph).xnb && (z.Gb.bind(A.Ph).jNb(),C=h(z.Gb,A.Ph));D=y?C:C.filter(function(F){var G;G=new v.Request(F.Ph,z,B,F,A);return F.cP(G);});n(A.Ph,D,A,z.Gb);return D;}function n(x,y,z,B){switch(y.length){case f.Fxa.Dab:if(z.uyb())return y;x=m.MY(x);y=e.rWb;y+=m.Yvc(x,z);y+=m.aAb(B,x,h);throw Error(y);case f.Fxa.MWb:if(!z.isArray())return y;default:if(z.isArray())return y;x=m.MY(x);y=e.vQb + " " + x;y+=m.aAb(B,x,h);throw Error(y);}}function c(x,y,z,B,A,C){var D;if(null === A){y=d(x,y,B,null,C);D=new v.Request(z,B,null,y,C);z=new q.$Xb(B,D);B.E3b(z);}else (y=d(x,y,B,A,C),D=A.xjb(C.Ph,y,C));y.forEach(function(F){var G,E,H;G=null;if(C.isArray())G=D.xjb(F.Ph,F,C);else {if(F.cache)return;G=D;}if(F.type === g.Tl.Instance && null !== F.nq){E=u.wmc(x,F.nq);if(!B.Gb.options.cT){H=u.Nlc(x,F.nq);if(E.length < H)throw (F=e.xQb(u.getFunctionName(F.nq)),Error(F));}E.forEach(function(J){c(x,!1,J.Ph,B,G,J);});}});}function h(x,y){var z,B;z=[];B=x.UN;B.swb(y)?z=B.get(y):null !== x.parent && (z=h(x.parent,y));return z;}Object.defineProperty(b,"__esModule",{value:!0});f=a(57197);e=a(25640);g=a(5493);k=a(37425);l=a(69523);m=a(48530);p=a(91734);r=a(67258);q=a(4595);u=a(34912);v=a(22929);w=a(23927);b.GOa=function(x){return x.UN;};b.Q_=function(x,y,z,B,A,C,D,F){void 0 === F && (F=!1);y=new p.i5a(y);z=new r.Metadata(z?k.AN:k.F3,A);B=new w.Wha(B,"",A,z);void 0 !== C && (C=new r.Metadata(C,D),B.xc.push(C));try{return (c(x,F,A,y,null,B),y);}catch(G){throw (l.Byb(G) && y.Q_ && m.E9b(y.Q_.LYa),G);}};b.m3c=function(x,y,z,B){z=new w.Wha(g.ME.PFa,"",y,new r.Metadata(z,B));x=new p.i5a(x);return new v.Request(y,x,null,[],z);};},11625:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(d){this.X0=d;}a.prototype.startsWith=function(d){return 0 === this.X0.indexOf(d);};a.prototype.endsWith=function(d){var n;n=d.split("").reverse().join("");d=this.X0.split("").reverse().join("");return this.startsWith.call({X0:d},n);};a.prototype.contains=function(d){return -1 !== this.X0.indexOf(d);};a.prototype.equals=function(d){return this.X0 === d;};a.prototype.value=function(){return this.X0;};return a;})();b.qYb=t;},34912:function(t,b,a){var f,e,g,k,l,m;function d(p,r,q,u){var v,w,x,y,B,A,C,D,F,G,E,H;v=p.Ktb(q);w=v.xnb;if(void 0 === w)throw Error(e.JVb + " " + r + ".");v=v.ATc;x=Object.keys(v);y=0 === q.length && 0 < x.length?x.length:q.length;x=[];for(var z=0;z < y;z++){B=z;A=u;C=r;D=w;F=v[B.toString()] || [];G=h(F);E=!0 !== G.ju;D=D[B];H=G.u || G.ZG;D=H?H:D;D instanceof f.JAa && (D=D.DM());if(E){E=D === Function;E=D === Object || E || void 0 === D;if(!A && E)throw Error(e.KVb + " argument " + B + " in class " + C + ".");B=new m.Wha(g.ME.f5a,G.Rda,D);B.xc=F;F=B;}else F=null;null !== F && x.push(F);}p=n(p,q);return x.concat(p);}function n(p,r){var x,y,z;for(var q=p.$oc(r),u=[],v=0,w=Object.keys(q);v < w.length;v++){x=w[v];y=q[x];z=h(q[x]);x=new m.Wha(g.ME.S4a,z.Rda || x,z.u || z.ZG);x.xc=y;u.push(x);}r=Object.getPrototypeOf(r.prototype).constructor;r !== Object && (p=n(p,r),u=u.concat(p));return u;}function c(p,r){var q,u;r=Object.getPrototypeOf(r.prototype).constructor;if(r !== Object){q=l.getFunctionName(r);q=d(p,q,r,!0);u=q.map(function(v){return v.xc.filter(function(w){return w.key === k.M4;});});u=[].concat.apply([],u).length;q=q.length - u;return 0 < q?q:c(p,r);}return 0;}function h(p){var r;r={};p.forEach(function(q){r[q.key.toString()]=q.value;});return {u:r[k.F3],ZG:r[k.AN],Rda:r[k.Kga],ju:r[k.M4]};}Object.defineProperty(b,"__esModule",{value:!0});f=a(29385);e=a(25640);g=a(5493);k=a(37425);l=a(48530);b.getFunctionName=l.getFunctionName;m=a(23927);b.wmc=function(p,r){var q;q=l.getFunctionName(r);return d(p,q,r,!1);};b.Nlc=c;},22929:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(72632);t=(function(){function n(c,h,f,e,g){this.id=d.id();this.Ph=c;this.H_=h;this.dH=f;this.target=g;this.uKa=[];this.F6=Array.isArray(e)?e:[e];this.TJc=null === f?new Map():null;}n.prototype.xjb=function(c,h,f){c=new n(c,this.H_,this,h,f);this.uKa.push(c);return c;};return n;})();b.Request=t;},23927:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(72632);c=a(67258);h=a(11625);t=(function(){function f(e,g,k,l){this.id=n.id();this.type=e;this.Ph=k;this.name=new h.qYb(g || "");this.xc=[];e=null;"string" === typeof l?e=new c.Metadata(d.sI,l):l instanceof c.Metadata && (e=l);null !== e && this.xc.push(e);}f.prototype.Bwb=function(e){for(var g=0,k=this.xc;g < k.length;g++)if(k[g].key === e)return !0;return !1;};f.prototype.isArray=function(){return this.Bwb(d.AN);};f.prototype.kyc=function(e){return this.ZTa(d.AN)(e);};f.prototype.lSa=function(){return this.Bwb(d.sI);};f.prototype.ESa=function(){return this.xc.some(function(e){return e.key !== d.F3 && e.key !== d.AN && e.key !== d.Kga && e.key !== d.M4 && e.key !== d.sI;});};f.prototype.uyb=function(){return this.ZTa(d.Qab)(!0);};f.prototype.goc=function(){return this.lSa()?this.xc.filter(function(e){return e.key === d.sI;})[0]:null;};f.prototype.tmc=function(){return this.ESa()?this.xc.filter(function(e){return e.key !== d.F3 && e.key !== d.AN && e.key !== d.Kga && e.key !== d.M4 && e.key !== d.sI;}):null;};f.prototype.ZTa=function(e){var g;g=this;return function(k){var p;for(var l=0,m=g.xc;l < m.length;l++){p=m[l];if(p.key === e && p.value === k)return !0;}return !1;};};return f;})();b.Wha=t;},40198:function(t,b,a){var c,h,f;function d(e,g,k){var l;g=g.filter(function(m){return null !== m.target && m.target.type === h.ME.S4a;});l=g.map(k);g.forEach(function(m,p){m=m.target.name.value();e[m]=l[p];});return e;}function n(e,g){var k;if(Reflect.urc(f.n4,e)){k=Reflect.getMetadata(f.n4,e);try{g[k.value]();}catch(l){throw Error(c.QXb(e.name,l.message));}}}Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);h=a(5493);f=a(37425);b.jKc=function(e,g,k){var l;l=null;0 < g.length?(l=g.filter(function(m){return null !== m.target && m.target.type === h.ME.f5a;}).map(k),l=new (e.bind.apply(e,[void 0].concat(l)))(),l=d(l,g,k)):l=new e();n(e,l);return l;};},85933:function(t,b,a){var c,h,f,e,g;function d(k){return function(l){var m,p,r,q,u;m=l.F6;p=l.uKa;r=l.target && l.target.isArray();q=!l.dH || !l.dH.target || !l.target || !l.dH.target.kyc(l.target.Ph);if(r && q)return p.map(function(v){return d(k)(v);});r=null;if(!l.target.uyb() || 0 !== m.length){u=m[0];m=u.scope === h.Hy.SEa;q=u.scope === h.Hy.Request;if(m && u.eIa)return u.cache;if(q && null !== k && k.has(u.id))return k.get(u.id);if(u.type === h.Tl.d5a)r=u.cache;else if(u.type === h.Tl.Function)r=u.cache;else if(u.type === h.Tl.e5a)r=u.nq;else if(u.type === h.Tl.c6a && null !== u.yX)r=n("toDynamicValue",u.Ph,function(){return u.yX(l.H_);});else if(u.type === h.Tl.uza && null !== u.lx)r=n("toFactory",u.Ph,function(){return u.lx(l.H_);});else if(u.type === h.Tl.kdb && null !== u.pS)r=n("toProvider",u.Ph,function(){return u.pS(l.H_);});else if(u.type === h.Tl.Instance && null !== u.nq)r=g.jKc(u.nq,p,d(k));else throw (p=e.MY(l.Ph),Error(c.KUb + " " + p));"function" === typeof u.jD && (r=u.jD(l.H_,r));m && (u.cache=r,u.eIa=!0);q && null !== k && !k.has(u.id) && k.set(u.id,r);return r;}};}function n(k,l,m){try{return m();}catch(p){if(f.Byb(p))throw Error(c.URb(k,l.toString()));throw p;}}Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);h=a(5493);f=a(69523);e=a(48530);g=a(40198);b.resolve=function(k){return d(k.Q_.LYa.TJc)(k.Q_.LYa);};},51580:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(5493);n=a(75714);t=(function(){function c(h){this.bd=h;}c.prototype.pa=function(){this.bd.scope=d.Hy.SEa;return new n.XM(this.bd);};c.prototype.rRa=function(){this.bd.scope=d.Hy.$ha;return new n.XM(this.bd);};return c;})();b.vRb=t;},61142:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(51580);n=a(1003);c=a(7190);t=(function(){function h(f){this.bd=f;this.U4=new c.Gxa(this.bd);this.hGa=new n.pfa(this.bd);this.Qgb=new d.vRb(f);}h.prototype.pa=function(){return this.Qgb.pa();};h.prototype.rRa=function(){return this.Qgb.rRa();};h.prototype.when=function(f){return this.U4.when(f);};h.prototype.Tea=function(){return this.U4.Tea();};h.prototype.jD=function(f){return this.hGa.jD(f);};return h;})();b.$3a=t;},1003:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(7190);t=(function(){function n(c){this.bd=c;}n.prototype.jD=function(c){this.bd.jD=c;return new d.Gxa(this.bd);};return n;})();b.pfa=t;},49825:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);n=a(5493);c=a(61142);h=a(75714);t=(function(){function f(e){this.bd=e;}f.prototype.to=function(e){this.bd.type=n.Tl.Instance;this.bd.nq=e;return new c.$3a(this.bd);};f.prototype.jNb=function(){if("function" !== typeof this.bd.Ph)throw Error("" + d.PUb);this.to(this.bd.Ph);};f.prototype.xp=function(e){this.bd.type=n.Tl.d5a;this.bd.cache=e;this.bd.yX=null;this.bd.nq=null;new h.XM(this.bd);};f.prototype.vM=function(e){this.bd.type=n.Tl.c6a;this.bd.cache=null;this.bd.yX=e;this.bd.nq=null;return new c.$3a(this.bd);};f.prototype.nRc=function(e){this.bd.type=n.Tl.e5a;this.bd.nq=e;new h.XM(this.bd);};f.prototype.Pf=function(e){this.bd.type=n.Tl.uza;this.bd.lx=e;new h.XM(this.bd);};f.prototype.oRc=function(e){if("function" !== typeof e)throw Error(d.NUb);this.xp(e);this.bd.type=n.Tl.Function;};f.prototype.hNb=function(e){this.bd.type=n.Tl.uza;this.bd.lx=function(g){return function(){return g.Gb.get(e);};};new h.XM(this.bd);};f.prototype.dea=function(e){this.bd.type=n.Tl.kdb;this.bd.pS=e;new h.XM(this.bd);};f.prototype.rRc=function(e){this.vM(function(g){return g.Gb.get(e);});};return f;})();b.wRb=t;},75714:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(1003);n=a(7190);t=(function(){function c(h){this.bd=h;this.U4=new n.Gxa(this.bd);this.hGa=new d.pfa(this.bd);}c.prototype.when=function(h){return this.U4.when(h);};c.prototype.Tea=function(){return this.U4.Tea();};c.prototype.jD=function(h){return this.hGa.jD(h);};return c;})();b.XM=t;},7190:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(1003);a(41146);t=(function(){function n(c){this.bd=c;}n.prototype.when=function(c){this.bd.cP=c;return new d.pfa(this.bd);};n.prototype.Tea=function(){this.bd.cP=function(c){return null !== c.target && !c.target.lSa() && !c.target.ESa();};return new d.pfa(this.bd);};return n;})();b.Gxa=t;},41146:function(t,b,a){var c;function d(h){return function(f){function e(g){return null !== g && null !== g.target && g.target.ZTa(h)(f);}e.LBb=new c.Metadata(h,f);return e;};}function n(h,f){h=h.dH;return null !== h?f(h)?!0:n(h,f):!1;}Object.defineProperty(b,"__esModule",{value:!0});t=a(37425);c=a(67258);b.NNb=n;b.IMb=d;a=d(t.sI);b.CCb=a;b.UNb=function(h){return function(f){var e;if(null !== f){e=f.F6[0];return "string" === typeof h?e.Ph === h:h === f.F6[0].nq;}return !1;};};},14577:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yCb=function(a){return function(d){return function(){for(var n=[],c=0;c < arguments.length;c++)n[c]=arguments[c];return n.forEach(function(h){return a.bind(h).rRc(d);});};};};},69523:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);b.Byb=function(n){return n instanceof RangeError || n.message === d.$Yb;};},72632:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},48530:function(t,b,a){var e;function d(g){return "function" === typeof g?g.name:"symbol" === typeof g?g.toString():g;}function n(g,k){return null === g.dH?!1:g.dH.Ph === k?!0:n(g.dH,k);}function c(g){function k(l,m){var p;void 0 === m && (m=[]);p=d(l.Ph);m.push(p);return null !== l.dH?k(l.dH,m):m;}return k(g).reverse().join(" --\x3e ");}function h(g){g.uKa.forEach(function(k){if(n(k,k.Ph))throw (k=c(k),Error(e.TRb + " " + k));h(k);});}function f(g){var k;if(g.name)return g.name;g=g.toString();k=g.match(/^function\s*([^\s(]+)/);return k?k[1]:"Anonymous function: " + g;}Object.defineProperty(b,"__esModule",{value:!0});e=a(25640);b.MY=d;b.aAb=function(g,k,l){var m;m="";g=l(g,k);0 !== g.length && (m="\nRegistered bindings:",g.forEach(function(p){var r;r="Object";null !== p.nq && (r=f(p.nq));m=m + "\n " + r;p.cP.LBb && (m=m + " - " + p.cP.LBb);}));return m;};b.E9b=h;b.Yvc=function(g,k){var l,m;if(k.ESa() || k.lSa()){l="";m=k.goc();k=k.tmc();null !== m && (l+=m.toString() + "\n");null !== k && k.forEach(function(p){l+=p.toString() + "\n";});return " " + g + "\n " + g + " - " + l;}return " " + g;};b.getFunctionName=f;},9680:function(t){var n,c,h,f,e,g,k,l;function b(){return !1;}function a(m){try{if(d(m))return !1;n.call(m);return !0;}catch(p){return !1;}}function d(m){var p;try{p=n.call(m);return e.test(p);}catch(r){return !1;}}n=Function.prototype.toString;c="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof c && "function" === typeof Object.defineProperty)try{h=Object.defineProperty({},"length",{get:function(){throw f;}});f={};c(function(){throw 42;},null,h);}catch(m){m !== f && (c=null);}else c=null;e=/^\s*class\b/;g=Object.prototype.toString;k="function" === typeof Symbol && !!Symbol.toStringTag;l=!((0 in [,]));"object" === typeof document && g.call(document.all) === g.call(document.all) && (b=function(m){var p;if(!(!l && m || "undefined" !== typeof m && "object" !== typeof m))try{p=g.call(m);return ("[object HTMLAllCollection]" === p || "[object HTML document.all class]" === p || "[object HTMLCollection]" === p || "[object Object]" === p) && null == m("");}catch(r){}return !1;});t.exports=c?function(m){if(b(m))return !0;if(!m || "function" !== typeof m && "object" !== typeof m)return !1;try{c(m,null,h);}catch(p){if(p !== f)return !1;}return !d(m) && a(m);}:function(m){var p;if(b(m))return !0;if(!m || "function" !== typeof m && "object" !== typeof m)return !1;if(k)return a(m);if(d(m))return !1;p=g.call(m);return "[object Function]" === p || "[object GeneratorFunction]" === p || (/^\[object HTML/).test(p)?a(m):!1;};},54277:function(t,b,a){var d,n,c;b=a(8435);d=b("Date.prototype.getDay");n=b("Object.prototype.toString");c=a(67226)();t.exports=function(h){if("object" !== typeof h || null === h)h=!1;else if(c)try{d(h);h=!0;}catch(f){h=!1;}else h="[object Date]" === n(h);return h;};},58786:function(t,b,a){var d,n,c,h,f,e,g;b=a(8435);d=a(67226)();n=a(72196);c=a(50326);if(d){h=b("RegExp.prototype.exec");f={};a=function(){throw f;};e={toString:a,valueOf:a};"symbol" === typeof Symbol.toPrimitive && (e[Symbol.toPrimitive]=a);a=function(k){var l;if(!k || "object" !== typeof k)return !1;l=c(k,"lastIndex");if(!l || !n(l,"value"))return !1;try{h(k,e);}catch(m){return m === f;}};}else {g=b("Object.prototype.toString");a=function(k){return !k || "object" !== typeof k && "function" !== typeof k?!1:"[object RegExp]" === g(k);};}t.exports=a;},26302:function(t,b,a){var d,n,c;b=a(8435);d=b("String.prototype.valueOf");n=b("Object.prototype.toString");c=a(67226)();t.exports=function(h){if("string" === typeof h)h=!0;else if(h && "object" === typeof h){if(c)try{d(h);h=!0;}catch(f){h=!1;}else h="[object String]" === n(h);}else h=!1;return h;};},88705:function(t,b,a){var d,n,c,h;b=a(8435);d=b("Object.prototype.toString");n=a(32636)();a=a(63671);if(n){c=b("Symbol.prototype.toString");h=a(/^Symbol\(.*\)$/);t.exports=function(f){if("symbol" === typeof f)return !0;if(!f || "object" !== typeof f || "[object Symbol]" !== d(f))return !1;try{return "symbol" !== typeof f.valueOf()?!1:h(c(f));}catch(e){return !1;}};}else t.exports=function(){return !1;};},14383:function(t){t.exports=Math.abs;},38752:function(t){t.exports=Number.MAX_SAFE_INTEGER || 9007199254740991;},45736:function(t){t.exports=Math.floor;},88562:function(t,b,a){var d;d=a(68806);t.exports=function(n){return ("number" === typeof n || "bigint" === typeof n) && !d(n) && Infinity !== n && -Infinity !== n;};},68806:function(t){t.exports=Number.isNaN || (function(b){return b !== b;});},27130:function(t){t.exports=Math.max;},22400:function(t){t.exports=Math.min;},23654:function(t){t.exports=Math.pow;},96890:function(t){t.exports=Math.round;},82026:function(t,b,a){var d;d=a(68806);t.exports=function(n){return d(n) || 0 === n?n:0 > n?-1:1;};},62082:function(t){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},w9:function(){return this.buffer.length - this.position;},Ina:function(){return this.buffer.length;},Xt:function(){return this.buffer[this.position++];},Tm:function(a){var d;d=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(d,this.position):a.slice(d,this.position);},cw:function(a){for(var d=0;a--;)d=256 * d + this.buffer[this.position++];return d;},NXa:function(a){for(var d="";a--;)d+=String.fromCharCode(this.buffer[this.position++]);return d;},ej:function(){return this.cw(2);},dw:function(){return this.cw(4);},d0:function(){return this.cw(8);},DD:function(a){for(var d,n="";a--;)(d=this.Xt(),n+=("0123456789ABCDEF")[d >>> 4] + ("0123456789ABCDEF")[d & 15]);return n;},OXa:function(a){for(var d=0,n=0;n < a;n++)d+=this.Xt() << (n << 3);return d;},c0:function(){return this.OXa(4);},Ey:function(a){this.buffer[this.position++]=a;},iQb:function(a,d){this.position+=d;for(var n=1;n <= d;n++)(this.buffer[this.position - n]=a & 255,a=Math.floor(a / 256));},d2a:function(a){for(var d=a.length,n=0;n < d;n++)this.buffer[this.position++]=a[n];},P1:function(a,d){this.d2a(a.Tm(d));}};t.exports=b;},31503:function(t){t.exports=function(b,a){for(var d in b)b.hasOwnProperty(d) && (a[d]=b[d]);return a;};},27E3:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(13752);n=a(29636);c=a(67566);b["default"]=function(h){var f;h=new d.hxa(h);f=new c.CWb(h);return new n.BWb(h,f);};},13752:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(d){this.kxc=d;}a.prototype.hub=function(){var d;try{d=this.kxc.getItem("gtp");if(d)return JSON.parse(d);}catch(n){}};a.prototype.Ok=function(){var d;d=this.hub();if(d && d.tp)return d.tp.a;};a.prototype.unc=function(){var d;d=this.lPa();if(d)return d.p25;};a.prototype.vnc=function(){var d;d=this.lPa();if(d)return d.p50;};a.prototype.wnc=function(){var d;d=this.lPa();if(d)return d.p75;};a.prototype.lPa=function(){var d;d=this.hub();if(d && (d=d.iqr))return d;};return a;})();b.hxa=t;},29636:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(d,n){this.tF=d;this.pra=n;}a.prototype.Ok=function(){return this.tF.Ok();};return a;})();b.BWb=t;},67566:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(d){this.tF=d;}a.prototype.pra=function(){var d,n,c;d=this.tF.unc();n=this.tF.vnc();c=this.tF.wnc();if("number" === typeof d && "number" === typeof n && "number" === typeof c)return (c - d) / n;};return a;})();b.CWb=t;},15410:function(t,b,a){var n;function d(c){return new Promise(function(h,f){globalThis.oDb.Dqc.load({url:c,w$c:!1,async:!0},function(e){e.data?h(e.data.toString()):f(Error("Failed to load ella-object: no data"));});});}Object.defineProperty(b,"__esModule",{value:!0});b.fxc=function(c,h){return n.__awaiter(this,arguments,void 0,function(f,e,g){var k,l,m,p,r,q,u,v,w;g=void 0 === g?{}:g;u=g.v6b;v=g.filename;w=g.T$c;return n.__generator(this,function(x){switch(x.label){case 0:null !== u && void 0 !== u?u:u="https://occ.a.nflxso.net/genc/nrdp";null !== v && void 0 !== v?v:v="index.release.js";null !== w && void 0 !== w?w:w=!1;if(!globalThis.oDb)throw Error("nf-package-loader only works on NRD devices. globalThis.nrdp is not defined.");k=("").concat(u,"/").concat(f,"/").concat(e,"/").concat(v);return [4,d(k)];case 1:l=x.T();m=("(function() { ").concat(l,"; return module.default; })();");p=globalThis.oDb.Dqc.eval(m,k);r=p.c_b;if(r !== f)throw Error(("Unexpected package name, expected '").concat(f,"', got '").concat(r,"'"));if(!w && (q=p.Igb,q !== e))throw Error(("ella-object: unexpected version, expected ").concat(e,", got ").concat(q,". "));return [2,p];}});});};n=a(22970);},79809:function(t){t.exports="undefined" !== typeof process && "undefined" !== typeof nrdp?nrdp.ha:Date.now;},94030:function(t,b,a){var h;function d(f,e,g,k,l,m,p){this.Eea=k;this.ZT=f;this.OUa=e;this.eD=g;this.Wuc=m;this.XL=p;this.split=l;}function n(){this.V={};this.V["0"]=new d("1","2","1","14","-0.0000100136",0,0);this.V["1"]=new d("3","4","3","20","-0.0000100136",0,0);this.V["3"]=new d("7","8","7","10","1.5",0,0);this.V["7"]=new d("15","16","15","9","4.5",0,0);this.V["15"]=new d("31","32","31","2","5.5",0,0);this.V["31"]=new d("63","64","63","29","-0.0000100136",0,0);this.V["63"]=new d("123","124","123","24","-0.0000100136",0,0);this.V["123"]=new d("123","124","123","0","0",1,.207298);this.V["124"]=new d("123","124","123","0","0",1,.49076);this.V["64"]=new d("125","126","125","4","40.5",0,0);this.V["125"]=new d("125","126","125","0","0",1,-.00157835);this.V["126"]=new d("125","126","125","0","0",1,.934205);this.V["32"]=new d("65","66","65","135","5.5",0,0);this.V["65"]=new d("127","128","128","4","1272.5",0,0);this.V["127"]=new d("127","128","128","0","0",1,-.510333);this.V["128"]=new d("127","128","128","0","0",1,.18363);this.V["66"]=new d("129","130","129","24","-0.0000100136",0,0);this.V["129"]=new d("129","130","129","0","0",1,-.0464542);this.V["130"]=new d("129","130","129","0","0",1,.458833);this.V["16"]=new d("33","34","34","10","2.00001",0,0);this.V["33"]=new d("67","68","67","0","29.5",0,0);this.V["67"]=new d("131","132","131","2","39.5",0,0);this.V["131"]=new d("131","132","131","0","0",1,-.37577);this.V["132"]=new d("131","132","131","0","0",1,.512087);this.V["68"]=new d("133","134","134","140","1.5",0,0);this.V["133"]=new d("133","134","134","0","0",1,.321272);this.V["134"]=new d("133","134","134","0","0",1,-.675396);this.V["34"]=new d("69","70","70","2","24.5",0,0);this.V["69"]=new d("135","136","136","9","28.5",0,0);this.V["135"]=new d("135","136","136","0","0",1,-.0573845);this.V["136"]=new d("135","136","136","0","0",1,-.507455);this.V["70"]=new d("137","138","137","45","-0.0000100136",0,0);this.V["137"]=new d("137","138","137","0","0",1,-.503909);this.V["138"]=new d("137","138","137","0","0",1,.450886);this.V["8"]=new d("17","18","17","4","44189.5",0,0);this.V["17"]=new d("35","36","35","2","21.5",0,0);this.V["35"]=new d("71","72","72","0","19.5",0,0);this.V["71"]=new d("139","140","140","9","2.5",0,0);this.V["139"]=new d("139","140","140","0","0",1,.00403497);this.V["140"]=new d("139","140","140","0","0",1,-.312656);this.V["72"]=new d("141","142","141","135","96",0,0);this.V["141"]=new d("141","142","141","0","0",1,-.465786);this.V["142"]=new d("141","142","141","0","0",1,.159633);this.V["36"]=new d("73","74","73","130","89.5",0,0);this.V["73"]=new d("143","144","144","10","4.5",0,0);this.V["143"]=new d("143","144","144","0","0",1,-.76265);this.V["144"]=new d("143","144","144","0","0",1,-.580804);this.V["74"]=new d("145","146","146","10","16.5",0,0);this.V["145"]=new d("145","146","146","0","0",1,.296357);this.V["146"]=new d("145","146","146","0","0",1,-.691659);this.V["18"]=new d("37","38","38","9","1.5",0,0);this.V["37"]=new d("37","38","38","0","0",1,.993951);this.V["38"]=new d("75","76","75","0","19",0,0);this.V["75"]=new d("147","148","147","39","-0.0000100136",0,0);this.V["147"]=new d("147","148","147","0","0",1,-.346535);this.V["148"]=new d("147","148","147","0","0",1,-.995745);this.V["76"]=new d("147","148","147","0","0",1,-.99978);this.V["4"]=new d("9","10","9","5","4.5",0,0);this.V["9"]=new d("19","20","19","2","4.5",0,0);this.V["19"]=new d("39","40","39","140","7.5",0,0);this.V["39"]=new d("77","78","78","134","6.5",0,0);this.V["77"]=new d("149","150","150","7","11.5",0,0);this.V["149"]=new d("149","150","150","0","0",1,.729843);this.V["150"]=new d("149","150","150","0","0",1,.383857);this.V["78"]=new d("151","152","151","133","4.5",0,0);this.V["151"]=new d("151","152","151","0","0",1,.39017);this.V["152"]=new d("151","152","151","0","0",1,.0434342);this.V["40"]=new d("79","80","79","133","3.5",0,0);this.V["79"]=new d("153","154","154","8","4.5",0,0);this.V["153"]=new d("153","154","154","0","0",1,-.99536);this.V["154"]=new d("153","154","154","0","0",1,-.00943396);this.V["80"]=new d("155","156","155","125","-0.0000100136",0,0);this.V["155"]=new d("155","156","155","0","0",1,.266272);this.V["156"]=new d("155","156","155","0","0",1,.959904);this.V["20"]=new d("41","42","42","10","65.5",0,0);this.V["41"]=new d("81","82","82","7","10.5",0,0);this.V["81"]=new d("157","158","158","2","37.5",0,0);this.V["157"]=new d("157","158","158","0","0",1,-.701873);this.V["158"]=new d("157","158","158","0","0",1,.224649);this.V["82"]=new d("159","160","159","133","9.5",0,0);this.V["159"]=new d("159","160","159","0","0",1,.0955181);this.V["160"]=new d("159","160","159","0","0",1,-.58962);this.V["42"]=new d("83","84","83","39","-0.0000100136",0,0);this.V["83"]=new d("161","162","161","135","31",0,0);this.V["161"]=new d("161","162","161","0","0",1,-.229692);this.V["162"]=new d("161","162","161","0","0",1,.88595);this.V["84"]=new d("163","164","164","1","13.5",0,0);this.V["163"]=new d("163","164","164","0","0",1,-.992157);this.V["164"]=new d("163","164","164","0","0",1,.922159);this.V["10"]=new d("21","22","22","4","486",0,0);this.V["21"]=new d("43","44","44","133","4.5",0,0);this.V["43"]=new d("85","86","86","10","4.5",0,0);this.V["85"]=new d("165","166","166","4","158.5",0,0);this.V["165"]=new d("165","166","166","0","0",1,-.127778);this.V["166"]=new d("165","166","166","0","0",1,.955189);this.V["86"]=new d("165","166","166","0","0",1,-.994012);this.V["44"]=new d("87","88","88","1","3.5",0,0);this.V["87"]=new d("167","168","168","135","7",0,0);this.V["167"]=new d("167","168","168","0","0",1,-.997015);this.V["168"]=new d("167","168","168","0","0",1,.400821);this.V["88"]=new d("169","170","169","130","36",0,0);this.V["169"]=new d("169","170","169","0","0",1,-.898638);this.V["170"]=new d("169","170","169","0","0",1,.56129);this.V["22"]=new d("45","46","45","9","2.5",0,0);this.V["45"]=new d("89","90","90","9","1.5",0,0);this.V["89"]=new d("171","172","171","10","10.5",0,0);this.V["171"]=new d("171","172","171","0","0",1,.573986);this.V["172"]=new d("171","172","171","0","0",1,-.627266);this.V["90"]=new d("173","174","173","31","-0.0000100136",0,0);this.V["173"]=new d("173","174","173","0","0",1,.925273);this.V["174"]=new d("173","174","173","0","0",1,-.994805);this.V["46"]=new d("91","92","91","136","5.5",0,0);this.V["91"]=new d("175","176","175","10","10.5",0,0);this.V["175"]=new d("175","176","175","0","0",1,.548352);this.V["176"]=new d("175","176","175","0","0",1,-.879195);this.V["92"]=new d("177","178","178","8","14.5",0,0);this.V["177"]=new d("177","178","178","0","0",1,.457305);this.V["178"]=new d("177","178","178","0","0",1,-.998992);this.V["2"]=new d("5","6","5","10","2.5",0,0);this.V["5"]=new d("11","12","11","9","4.5",0,0);this.V["11"]=new d("23","24","24","10","4.00001",0,0);this.V["23"]=new d("47","48","48","133","5.5",0,0);this.V["47"]=new d("93","94","93","3","13.5",0,0);this.V["93"]=new d("179","180","179","138","15.5",0,0);this.V["179"]=new d("179","180","179","0","0",1,.658398);this.V["180"]=new d("179","180","179","0","0",1,-.927007);this.V["94"]=new d("181","182","182","3","15.5",0,0);this.V["181"]=new d("181","182","182","0","0",1,-.111351);this.V["182"]=new d("181","182","182","0","0",1,-.99827);this.V["48"]=new d("95","96","95","7","167",0,0);this.V["95"]=new d("183","184","183","132","36.5",0,0);this.V["183"]=new d("183","184","183","0","0",1,.895161);this.V["184"]=new d("183","184","183","0","0",1,-.765217);this.V["96"]=new d("185","186","186","137","6.00001",0,0);this.V["185"]=new d("185","186","186","0","0",1,-.851095);this.V["186"]=new d("185","186","186","0","0",1,.674286);this.V["24"]=new d("49","50","49","137","5.5",0,0);this.V["49"]=new d("97","98","97","5","23.5",0,0);this.V["97"]=new d("187","188","187","3","28.5",0,0);this.V["187"]=new d("187","188","187","0","0",1,.951654);this.V["188"]=new d("187","188","187","0","0",1,-.993808);this.V["98"]=new d("187","188","187","0","0",1,-.99705);this.V["50"]=new d("187","188","187","0","0",1,-.997525);this.V["12"]=new d("25","26","25","8","8.5",0,0);this.V["25"]=new d("51","52","52","10","4.00001",0,0);this.V["51"]=new d("99","100","100","133","5.5",0,0);this.V["99"]=new d("189","190","190","7","40.5",0,0);this.V["189"]=new d("189","190","190","0","0",1,.151839);this.V["190"]=new d("189","190","190","0","0",1,-.855517);this.V["100"]=new d("191","192","192","133","14.5",0,0);this.V["191"]=new d("191","192","192","0","0",1,.86223);this.V["192"]=new d("191","192","192","0","0",1,.544394);this.V["52"]=new d("101","102","101","135","47.5",0,0);this.V["101"]=new d("193","194","194","4","24.5",0,0);this.V["193"]=new d("193","194","194","0","0",1,.946185);this.V["194"]=new d("193","194","194","0","0",1,.811859);this.V["102"]=new d("193","194","194","0","0",1,-.991561);this.V["26"]=new d("53","54","54","132","6.5",0,0);this.V["53"]=new d("103","104","103","131","85",0,0);this.V["103"]=new d("195","196","196","134","16.5",0,0);this.V["195"]=new d("195","196","196","0","0",1,.0473538);this.V["196"]=new d("195","196","196","0","0",1,-.999401);this.V["104"]=new d("197","198","198","8","15.5",0,0);this.V["197"]=new d("197","198","198","0","0",1,.816129);this.V["198"]=new d("197","198","198","0","0",1,-.99322);this.V["54"]=new d("105","106","105","133","3.5",0,0);this.V["105"]=new d("105","106","105","0","0",1,-.998783);this.V["106"]=new d("199","200","199","39","-0.0000100136",0,0);this.V["199"]=new d("199","200","199","0","0",1,.528588);this.V["200"]=new d("199","200","199","0","0",1,-.998599);this.V["6"]=new d("13","14","14","10","7.5",0,0);this.V["13"]=new d("27","28","28","133","7.5",0,0);this.V["27"]=new d("55","56","56","10","4.5",0,0);this.V["55"]=new d("107","108","107","3","3.5",0,0);this.V["107"]=new d("201","202","201","4","17.5",0,0);this.V["201"]=new d("201","202","201","0","0",1,-.379512);this.V["202"]=new d("201","202","201","0","0",1,.15165);this.V["108"]=new d("203","204","203","57","-0.0000100136",0,0);this.V["203"]=new d("203","204","203","0","0",1,-.884606);this.V["204"]=new d("203","204","203","0","0",1,.265406);this.V["56"]=new d("109","110","109","136","6.5",0,0);this.V["109"]=new d("205","206","205","4","157.5",0,0);this.V["205"]=new d("205","206","205","0","0",1,-.0142737);this.V["206"]=new d("205","206","205","0","0",1,.691279);this.V["110"]=new d("205","206","205","0","0",1,-.998086);this.V["28"]=new d("57","58","58","138","11.5",0,0);this.V["57"]=new d("111","112","112","2","6.5",0,0);this.V["111"]=new d("207","208","208","7","67.5",0,0);this.V["207"]=new d("207","208","208","0","0",1,.763925);this.V["208"]=new d("207","208","208","0","0",1,-.309645);this.V["112"]=new d("209","210","209","40","-0.0000100136",0,0);this.V["209"]=new d("209","210","209","0","0",1,-.306635);this.V["210"]=new d("209","210","209","0","0",1,.556696);this.V["58"]=new d("113","114","113","138","50.5",0,0);this.V["113"]=new d("211","212","212","8","25.5",0,0);this.V["211"]=new d("211","212","212","0","0",1,.508234);this.V["212"]=new d("211","212","212","0","0",1,.793551);this.V["114"]=new d("211","212","212","0","0",1,-.998438);this.V["14"]=new d("29","30","29","134","27.5",0,0);this.V["29"]=new d("59","60","60","7","17.5",0,0);this.V["59"]=new d("115","116","115","135","5.5",0,0);this.V["115"]=new d("213","214","214","137","5.5",0,0);this.V["213"]=new d("213","214","214","0","0",1,.401747);this.V["214"]=new d("213","214","214","0","0",1,.0367503);this.V["116"]=new d("215","216","216","8","5.5",0,0);this.V["215"]=new d("215","216","216","0","0",1,-.0241984);this.V["216"]=new d("215","216","216","0","0",1,-.999046);this.V["60"]=new d("117","118","117","0","12.5",0,0);this.V["117"]=new d("217","218","218","132","5.5",0,0);this.V["217"]=new d("217","218","218","0","0",1,-.997294);this.V["218"]=new d("217","218","218","0","0",1,.210398);this.V["118"]=new d("219","220","219","137","1.5",0,0);this.V["219"]=new d("219","220","219","0","0",1,-.55763);this.V["220"]=new d("219","220","219","0","0",1,.074493);this.V["30"]=new d("61","62","62","133","42.5",0,0);this.V["61"]=new d("119","120","119","135","5.5",0,0);this.V["119"]=new d("221","222","222","4","473.5",0,0);this.V["221"]=new d("221","222","222","0","0",1,-.920213);this.V["222"]=new d("221","222","222","0","0",1,-.17615);this.V["120"]=new d("223","224","224","5","144",0,0);this.V["223"]=new d("223","224","224","0","0",1,-.954295);this.V["224"]=new d("223","224","224","0","0",1,-.382538);this.V["62"]=new d("121","122","121","133","50",0,0);this.V["121"]=new d("225","226","226","10","18.5",0,0);this.V["225"]=new d("225","226","226","0","0",1,-.0731343);this.V["226"]=new d("225","226","226","0","0",1,.755454);this.V["122"]=new d("227","228","228","0","30",0,0);this.V["227"]=new d("227","228","228","0","0",1,.25);this.V["228"]=new d("227","228","228","0","0",1,-.997101);}function c(f,e,g,k,l,m){this.cua=l;this.dla=m;}b=a(21457);h=a(79809);a={};a.E5b=new (function(){this.i0b=h();this.gb=0;this.update=function(){this.gb=h() - this.i0b;};this.type="num";})();a.Zvc=new (function(){this.type="cat";})();a.$vc=new (function(){this.type="cat";})();a.bwc=new (function(){this.type="cat";})();a.cwc=new (function(){this.type="cat";})();a.awc=new (function(){this.type="cat";})();a.dwc=new (function(){this.type="cat";})();a.ewc=new (function(){this.type="cat";})();a.fwc=new (function(){this.type="cat";})();a.gwc=new (function(){this.type="cat";})();a.hwc=new (function(){this.type="cat";})();a.iwc=new (function(){this.type="cat";})();a.jwc=new (function(){this.type="cat";})();a.lwc=new (function(){this.type="cat";})();a.mwc=new (function(){this.type="cat";})();a.nwc=new (function(){this.type="cat";})();a.kwc=new (function(){this.type="cat";})();a.y6b=new (function(){this.update=function(f){for(var e in f.qc)if("becauseYouAdded" === f.qc[e].context){this.gb=Math.max(f.qc[e].list.length,this.gb);break;}};this.type="num";this.gb=0;})();a.z6b=new (function(){this.update=function(f){for(var e in f.qc)if("becauseYouLiked" === f.qc[e].context){this.gb=Math.max(f.qc[e].list.length,this.gb);break;}};this.type="num";this.gb=0;})();a.B6b=new (function(){this.update=function(f){for(var e in f.qc)if("billboard" === f.qc[e].context){this.gb=Math.max(f.qc[e].list.length,this.gb);break;}};this.type="num";this.gb=0;})();a.kac=new (function(){this.update=function(f){for(var e in f.qc)if("continueWatching" === f.qc[e].context){this.gb=Math.max(f.qc[e].list.length,this.gb);break;}};this.type="num";this.gb=0;})();a.A6b=new (function(){this.update=function(f){for(var e in f.qc)if("bigRow" === f.qc[e].context){this.gb=Math.max(f.qc[e].list.length,this.gb);break;}};this.type="num";this.gb=0;})();a.nlc=new (function(){this.update=function(f){for(var e in f.qc)if("genre" === f.qc[e].context){this.gb=Math.max(f.qc[e].list.length,this.gb);break;}};this.type="num";this.gb=0;})();a.lAc=new (function(){this.update=function(f){for(var e in f.qc)if("netflixOriginals" === f.qc[e].context){this.gb=Math.max(f.qc[e].list.length,this.gb);break;}};this.type="num";this.gb=0;})();a.uAc=new (function(){this.update=function(f){for(var e in f.qc)if("newRelease" === f.qc[e].context){this.gb=Math.max(f.qc[e].list.length,this.gb);break;}};this.type="num";this.gb=0;})();a.BFc=new (function(){this.update=function(f){for(var e in f.qc)if("popularTitles" === f.qc[e].context){this.gb=Math.max(f.qc[e].list.length,this.gb);break;}};this.type="num";this.gb=0;})();a.Zf=new (function(){this.update=function(f){for(var e in f.qc)if("queue" === f.qc[e].context){this.gb=Math.max(f.qc[e].list.length,this.gb);break;}};this.type="num";this.gb=0;})();a.kIc=new (function(){this.update=function(f){for(var e in f.qc)if("recentlyAdded" === f.qc[e].context){this.gb=Math.max(f.qc[e].list.length,this.gb);break;}};this.type="num";this.gb=0;})();a.dOc=new (function(){this.update=function(f){for(var e in f.qc)if("similars" === f.qc[e].context){this.gb=Math.max(f.qc[e].list.length,this.gb);break;}};this.type="num";this.gb=0;})();a.FRc=new (function(){this.update=function(f){for(var e in f.qc)if("trendingNow" === f.qc[e].context){this.gb=Math.max(f.qc[e].list.length,this.gb);break;}};this.type="num";this.gb=0;})();a.cSc=new (function(){this.update=function(f){for(var e in f.qc)if("ultraHD" === f.qc[e].context){this.gb=Math.max(f.qc[e].list.length,this.gb);break;}};this.type="num";this.gb=0;})();a.wUc=new (function(){this.update=function(f){for(var e in f.qc)if("watchAgain" === f.qc[e].context){this.gb=Math.max(f.qc[e].list.length,this.gb);break;}};this.type="num";this.gb=0;})();a.tRc=new (function(){this.update=function(f){for(var e in f.qc)if("topTen" === f.qc[e].context){this.gb=Math.max(f.qc[e].list.length,this.gb);break;}};this.type="num";this.gb=0;})();a.sac=new (function(){this.type="cat";})();a.tac=new (function(){this.type="cat";})();a.uac=new (function(){this.type="cat";})();a.vac=new (function(){this.type="cat";})();a.wac=new (function(){this.type="cat";})();a.xac=new (function(){this.type="cat";})();a.yac=new (function(){this.type="cat";})();a.zac=new (function(){this.type="cat";})();a.Aac=new (function(){this.type="cat";})();a.Bac=new (function(){this.type="cat";})();a.Cac=new (function(){this.type="cat";})();a.Dac=new (function(){this.type="cat";})();a.Eac=new (function(){this.type="cat";})();a.Fac=new (function(){this.type="cat";})();a.Gac=new (function(){this.type="cat";})();a.Hac=new (function(){this.type="cat";})();a.Iac=new (function(){this.type="cat";})();a.Jac=new (function(){this.type="cat";})();a.Kac=new (function(){this.type="cat";})();a.Lac=new (function(){this.type="cat";})();a.Mac=new (function(){this.type="cat";})();a.Nac=new (function(){this.type="cat";})();a.Oac=new (function(){this.type="cat";})();a.Pac=new (function(){this.type="cat";})();a.Qac=new (function(){this.type="cat";})();a.Rac=new (function(){this.type="cat";})();a.Sac=new (function(){this.type="cat";})();a.Tac=new (function(){this.type="cat";})();a.Uac=new (function(){this.type="cat";})();a.Vac=new (function(){this.type="cat";})();a.Wac=new (function(){this.type="cat";})();a.Xac=new (function(){this.type="cat";})();a.Yac=new (function(){this.type="cat";})();a.Zac=new (function(){this.type="cat";})();a.$ac=new (function(){this.type="cat";})();a.abc=new (function(){this.type="cat";})();a.bbc=new (function(){this.type="cat";})();a.cbc=new (function(){this.type="cat";})();a.dbc=new (function(){this.type="cat";})();a.ebc=new (function(){this.type="cat";})();a.fbc=new (function(){this.type="cat";})();a.gbc=new (function(){this.type="cat";})();a.hbc=new (function(){this.type="cat";})();a.ibc=new (function(){this.type="cat";})();a.jbc=new (function(){this.type="cat";})();a.kbc=new (function(){this.type="cat";})();a.lbc=new (function(){this.type="cat";})();a.mbc=new (function(){this.type="cat";})();a.nbc=new (function(){this.type="cat";})();a.obc=new (function(){this.type="cat";})();a.pbc=new (function(){this.type="cat";})();a.qbc=new (function(){this.type="cat";})();a.rbc=new (function(){this.type="cat";})();a.sbc=new (function(){this.type="cat";})();a.tbc=new (function(){this.type="cat";})();a.ubc=new (function(){this.type="cat";})();a.vbc=new (function(){this.type="cat";})();a.wbc=new (function(){this.type="cat";})();a.xbc=new (function(){this.type="cat";})();a.ybc=new (function(){this.type="cat";})();a.zbc=new (function(){this.type="cat";})();a.Abc=new (function(){this.type="cat";})();a.Bbc=new (function(){this.type="cat";})();a.Cbc=new (function(){this.type="cat";})();a.Dbc=new (function(){this.type="cat";})();a.Ebc=new (function(){this.type="cat";})();a.Fbc=new (function(){this.type="cat";})();a.Gbc=new (function(){this.type="cat";})();a.Hbc=new (function(){this.type="cat";})();a.Ibc=new (function(){this.type="cat";})();a.Jbc=new (function(){this.type="cat";})();a.Kbc=new (function(){this.type="cat";})();a.Lbc=new (function(){this.type="cat";})();a.Mbc=new (function(){this.type="cat";})();a.Nbc=new (function(){this.type="cat";})();a.Obc=new (function(){this.type="cat";})();a.Pbc=new (function(){this.type="cat";})();a.Qbc=new (function(){this.type="cat";})();a.Rbc=new (function(){this.type="cat";})();a.qIc=new (function(){this.type="cat";})();a.rIc=new (function(){this.type="cat";})();a.sIc=new (function(){this.type="cat";})();a.tIc=new (function(){this.type="cat";})();a.uIc=new (function(){this.type="cat";})();a.vIc=new (function(){this.type="cat";})();a.wIc=new (function(){this.type="cat";})();a.xIc=new (function(){this.type="cat";})();a.yIc=new (function(){this.type="cat";})();a.zIc=new (function(){this.type="cat";})();a.AIc=new (function(){this.type="cat";})();a.BIc=new (function(){this.type="cat";})();a.CIc=new (function(){this.type="cat";})();a.DIc=new (function(){this.type="cat";})();a.EIc=new (function(){this.type="cat";})();a.FIc=new (function(){this.type="cat";})();a.GIc=new (function(){this.type="cat";})();a.HIc=new (function(){this.type="cat";})();a.IIc=new (function(){this.type="cat";})();a.JIc=new (function(){this.type="cat";})();a.KIc=new (function(){this.type="cat";})();a.LIc=new (function(){this.type="cat";})();a.MIc=new (function(){this.type="cat";})();a.aQc=new (function(){this.update=function(f){"down" === f.direction && this.gb++;};this.type="num";this.gb=0;})();a.cQc=new (function(){this.update=function(f){"right" === f.direction && this.gb++;};this.type="num";this.gb=0;})();a.bQc=new (function(){this.update=function(f){"left" === f.direction && this.gb++;};this.type="num";this.gb=0;})();a.dQc=new (function(){this.update=function(f){"up" === f.direction && this.gb++;};this.type="num";this.gb=0;})();a.Lyc=new (function(){this.gb=0;this.update=function(f){this.gb=Math.max(this.gb,f.rowIndex);};this.type="num";})();a.Myc=new (function(){this.gb=0;this.update=function(f){this.gb=Math.max(this.gb,f.onb);};this.type="num";})();a.Syc=new (function(){this.XN=this.gb=0;this.update=function(f){this.XN++;this.gb=1 * (this.gb + f.rowIndex) / this.XN;};this.type="num";})();a.Tyc=new (function(){this.XN=this.gb=0;this.update=function(f){this.XN++;return this.gb=1 * (this.gb + f.onb) / this.XN;};this.type="num";})();a.oGc=new (function(){this.type="num";})();a.pGc=new (function(){this.type="num";})();n.prototype.XL=function(f){return this.xib(this.V["0"].mJb(f),f);};n.prototype.xib=function(f,e){return "string" == typeof f?this.xib(this.V[f].mJb(e),e):f;};d.prototype.mJb=function(f){switch(this.Wuc){case 0:switch(f.features[this.Eea].type){case "cat":return null === f.features[this.Eea].value?this.OUa:"missing" == f.features[this.Eea].value?this.eD:this.ZT;case "num":return null === f.features[this.Eea].value?this.eD:f.features[this.Eea].value < this.split?this.ZT:this.OUa;default:return this.eD;}case 1:return this.XL;default:return this.XL;}};b.declare({Saa:["modelSelector","modelone"],n$b:["colEpisodeList",5],Src:["holdDuration",15E3],TIb:["rowFirst",2],nnb:["colFirst",5],UIb:["rowScroll",2],pnb:["colScroll",6],LKc:["rowScrollHorizontal",6],qLc:["searchTop",3],fpb:["cwFirst",2],W9:["horizontalItemsFocusedMode",3],Zuc:["itemsPerRank",1],zyc:["maxNumberPayloadsStored",10],rBb:["maxNumberTitlesScheduled",5],m4c:["enableDetailedLogging",!0],j$c:["rowStep",20],W2c:["colStep",15],l9c:["pageRows",100],k9c:["pageColumns",75],YTa:["maskParamsList",new (function(){var f,e;this.YTa=[];this.lp={};this.cua=20;this.dla=15;for(f=0;100 > f;f++)for(e=0;75 > e;e++)(Math.floor(f / this.cua) + "_" + Math.floor(e / this.dla) in this.lp) || (this.lp[Math.floor(f / this.cua) + "_" + Math.floor(e / this.dla)]=1,this.YTa.push(new c("grid",10,5,5,Math.floor(f / this.cua),Math.floor(e / this.dla))));})().YTa],V:["nodes",new n().V],mapping:["mapping",{Myc:"0",Tyc:"1",Lyc:"2",Syc:"3",E5b:"4",dQc:"5",bQc:"6",cQc:"7",aQc:"8",pGc:"9",oGc:"10",Zvc:"11",$vc:"12",bwc:"13",cwc:"14",awc:"15",dwc:"16",ewc:"17",fwc:"18",gwc:"19",hwc:"20",iwc:"21",jwc:"22",kwc:"23",lwc:"24",mwc:"25",nwc:"26",qIc:"27",rIc:"28",sIc:"29",tIc:"30",uIc:"31",vIc:"32",wIc:"33",xIc:"34",yIc:"35",zIc:"36",AIc:"37",BIc:"38",CIc:"39",DIc:"40",EIc:"41",FIc:"42",GIc:"43",HIc:"44",IIc:"45",JIc:"46",KIc:"47",LIc:"48",MIc:"49",sac:"50",tac:"51",uac:"52",vac:"53",wac:"54",xac:"55",yac:"56",zac:"57",Aac:"58",Bac:"59",Cac:"60",Dac:"61",Eac:"62",Fac:"63",Gac:"64",Hac:"65",Iac:"66",Jac:"67",Kac:"68",Lac:"69",Mac:"70",Nac:"71",Oac:"72",Pac:"73",Qac:"74",Rac:"75",Sac:"76",Tac:"77",Uac:"78",Vac:"79",Wac:"80",Xac:"81",Yac:"82",Zac:"83",$ac:"84",abc:"85",bbc:"86",cbc:"87",dbc:"88",ebc:"89",fbc:"90",gbc:"91",hbc:"92",ibc:"93",jbc:"94",kbc:"95",lbc:"96",mbc:"97",nbc:"98",obc:"99",pbc:"100",qbc:"101",rbc:"102",sbc:"103",tbc:"104",ubc:"105",vbc:"106",wbc:"107",xbc:"108",ybc:"109",zbc:"110",Abc:"111",Bbc:"112",Cbc:"113",Dbc:"114",Ebc:"115",Fbc:"116",Gbc:"117",Hbc:"118",Ibc:"119",Jbc:"120",Kbc:"121",Lbc:"122",Mbc:"123",Nbc:"124",Obc:"125",Pbc:"126",Qbc:"127",Rbc:"128",wUc:"129",kIc:"130",dOc:"131",Zf:"132",kac:"133",nlc:"134",FRc:"135",tRc:"136",B6b:"137",uAc:"138",cSc:"139",BFc:"140",y6b:"141",A6b:"142",z6b:"143",lAc:"144"}],features:["features",a],v1c:["_modelName","tree"],s1c:["_format","xgboost"],u1c:["_itemsToKeep",5],t1c:["_itemsThreshold",null],w2c:["cacheLimit",20]});t.exports={config:b,U7c:c,s3c:d};},45578:function(t){t.exports={mE:{lFa:0,Qdb:1,Hp:2,name:["transient","semiTransient","permanent"]},gE:{V6a:0,Pdb:1,Fha:2,m4:3,GE:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},d1c:{N0c:0,bZc:1,CWc:2,GE:100,name:["trailer","montage","content"]},EB:{j9a:0,sdb:1,FZb:2,$Sb:3,GE:100,name:["left","right","up","down"]},M3:{iSb:0,Fha:1,vYc:2,QXc:3,VVc:4,tYc:5,cRb:6,GE:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},FU:{m4:0,r5a:1,GE:100,name:["playFocused","detailsOpened"]}};},90638:function(t,b,a){var c,h,f,e,g,k,l,m,p,r;function d(q,u){this.Wm=q;this.Yp=u;}function n(q){this.qb=q;this.reset();}c=a(79809);h=a(45578);b=a(76122);f=a(94030).config;e=b.pmc;g=b.Rlc;k=b.pfc;l=b.yBc;m=b.xBc;p=b.wBc;r=b.osb;n.prototype.constructor=n;n.prototype.reset=function(){this.gib=void 0;this.yn=[];this.$hb=this.aib=!1;};n.prototype.update=function(q,u){var v;this.yn && (this.yn=this.yn.filter(this.MNc,this));if(!1 === this.aib){v=e(q.qc).slice(0,f.fpb);0 < v.length && (this.zR(v,h.mE.Hp),this.aib=!0,this.yn=this.HT(v.concat(this.yn)));}!1 === this.$hb && (v=g(q.qc).slice(0,f.fpb),0 < v.length && (this.zR(v,h.mE.Hp),this.$hb=!0,this.yn=this.HT(v.concat(this.yn))));switch(u){case h.gE.V6a:u=this.Oqc(q);break;case h.gE.Pdb:u=this.drc(q);break;case h.gE.Fha:u=this.erc(q);break;case h.gE.m4:u=this.Yqc(q);break;default:u=this.Kqc(q);}this.gib=q;return u;};n.prototype.Oqc=function(q){q=l(q.qc,f.TIb,f.nnb);this.zR(q,h.mE.Hp);return this.yn=this.HT(this.yn.concat(q));};n.prototype.drc=function(q){var u,v;this.qb.log("handleScrollHorizontal");u=q.qc;q=l(u,f.UIb,f.pnb);v=k(u,this.gib.qc);u=u[v].list.slice(0,f.LKc);u.concat(q);this.zR(u,h.mE.lFa);return this.HT(u.concat(this.yn));};n.prototype.zR=function(q,u){q.forEach(function(v){if(void 0 === v.xJ || v.xJ < u)v.xJ=u;void 0 === v.sM && (v.sM=c());void 0 === v.No && (v.No=c());});};n.prototype.erc=function(q){this.qb.log("handleSearch");q=m(q.qc,f.qLc);this.zR(q,h.mE.Qdb);this.yn=q.concat(this.yn);return this.yn=this.HT(this.yn);};n.prototype.Yqc=function(q){var u,v,w,x,y;this.qb.log("handlePlayFocus: ",f.W9);u=q.direction;v=q.qc;q=[];w=r(v);if(void 0 !== w.Wm)switch((q.push(w),u)){case h.EB.sdb:for(u=1;u < f.W9;u++)q.push(new d(w.Wm,w.Yp + u));q.push(new d(w.Wm - 1,w.Yp));q.push(new d(w.Wm + 1,w.Yp));break;case h.EB.j9a:for(u=1;u < f.W9;u++)q.push(new d(w.Wm,w.Yp - u));q.push(new d(w.Wm - 1,w.Yp));q.push(new d(w.Wm + 1,w.Yp));break;case h.EB.FZb:q.push(new d(w.Wm - 1,w.Yp));for(u=1;u <= f.W9 / 2;u++)(q.push(new d(w.Wm,w.Yp + u)),q.push(new d(w.Wm,w.Yp - u)));break;case h.EB.$Sb:for((q.push(new d(w.Wm + 1,w.Yp)),u=1);u <= f.W9 / 2;u++)(q.push(new d(w.Wm,w.Yp + u)),q.push(new d(w.Wm,w.Yp - u)));}x=[];q.forEach(function(z){y=p(v,z.Wm,z.Yp);void 0 !== y && x.push(y);});this.zR(x,h.mE.lFa);return this.HT(x.concat(this.yn));};n.prototype.Kqc=function(q){this.qb.log("ModelOne: handleDefaultCase");q=l(q.qc,f.UIb,f.pnb);this.zR(q,h.mE.lFa);return this.HT(q.concat(this.yn));};n.prototype.MNc=function(q){return q.xJ == h.mE.Hp | q.xJ == h.mE.Qdb & c() - q.sM < f.Src;};n.prototype.HT=function(q){var u,v,w,x,y,z,B;u=[];v={};x=0;y=q.length;for(w=0;w < y;w++){z=q[w].J;B=q[w];!1 === (z in v)?(u.push(B),v[z]=x,x++):(z=u[v[z]],B.No < z.No && (z.No=B.No),B.xJ > z.xJ && (z.xJ=B.xJ),B.sM > z.sM && (z.sM=B.sM));}return u;};t.exports=n;},7795:function(t){function b(d,n){var c;if(void 0 === n || "function" !== typeof n || "string" !== typeof d)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Zh)return (this.Zh={},this.Zh[d]=[n],!0);c=this.Zh[d];return void 0 === c?(this.Zh[d]=[n],!0):0 > c.indexOf(n)?(c.push(n),!0):!1;}function a(d,n){d=this.Zh?this.Zh[d]:void 0;if(!d)return !1;d.forEach(function(c){c(n);});return !0;}t.exports={addEventListener:b,on:b,removeEventListener:function(d,n){var c;if(void 0 === n || "function" !== typeof n || "string" !== typeof d)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Zh)return !1;c=this.Zh[d];if(void 0 === c)return !1;n=c.indexOf(n);if(0 > n)return !1;if(1 === c.length)return (delete this.Zh[d],!0);c.splice(n,1);return !0;},Zw:a,emit:a,removeAllListeners:function(d){this.Zh && (void 0 === d?delete this.Zh:delete this.Zh[d]);return this;}};},65267:function(t){function b(d,n,c,h){d.trace(":",c,":",h);n(h);}function a(d){this.listeners=[];this.console=d;}a.prototype.constructor=a;a.prototype.addEventListener=function(d,n,c,h){c=h?c.bind(h):c;h=!1;if(d){this.console && (c=b.bind(null,this.console,c,n));if("function" === typeof d.addEventListener)h=d.addEventListener(n,c);else if("function" === typeof d.addListener)h=d.addListener(n,c);else throw Error("Emitter does not have a function to add listeners for '" + n + "'");this.listeners.push([d,n,c]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var d;d=this.listeners.length;this.listeners.forEach(function(n){var c,h;c=n[0];h=n[1];n=n[2];"function" === typeof c.removeEventListener?c.removeEventListener(h,n):"function" === typeof c.removeListener && c.removeListener(h,n);});this.listeners=[];this.console && this.console.trace("removed",d,"listener(s)");};t.exports=a;},41628:function(t,b,a){t.exports={EventEmitter:a(7795),af:a(65267)};},99886:function(t,b,a){var h,f,e,g,k,l,m;function d(p,r,q,u,v,w){this.R=this.J=p;this.priority=r;this.gd=q;w && w.$e && (this.$e=w.$e);void 0 !== u && (this.P_=u);this.No=v;this.Bb=w;}function n(p,r,q,u,v){e(void 0 !== u,"video preparer is null");e(void 0 !== v,"ui preparer is null");this.qb=r || console;this.qb=r;this.wa=q;this.u2b=u;this.l2b=v;this.fib=l.YWa;this.NV=[];this.UHa=!1;this.Z4=0;new m().on(l,"changed",c,this);this.reset();}function c(){this.qb.log("config changed");l.YWa && (this.fib=l.YWa);l.Saa !== this.HV && (this.reset(),this.jYa());}h=a(79809);f=a(45578);b=a(76122);e=b.assert;g=b.osb;k=a(90638);l=a(94030).config;m=a(41628).af;l.declare({YWa:["ppmConfig",{uWc:{uDb:0,tDb:2,qDb:0,rDb:5,OKb:0},u0c:{uDb:0,tDb:1,qDb:0,rDb:3,OKb:1E3},JWc:{uDb:0,tDb:1,qDb:0,rDb:3,OKb:1E3}}]});n.prototype.constructor=n;n.prototype.reset=function(){this.FGa=!0;this.HV=l.Saa;this.qb.log("create model: " + l.Saa,l.TIb,l.nnb);switch(l.Saa){case "modelone":this.HV=new k(this.qb);break;default:this.HV=new k(this.qb);}};n.prototype.jYa=function(){var r,q;if(!1 === this.UHa){this.UHa=!0;for(var p=0;p < this.NV.length;p++){this.qb.log("PlayPredictionModel replay: ",JSON.stringify(this.NV[p]));r=this.Vnb(this.NV[p]);q=this.ptb(r);this.HV.update(r,q);this.FGa=!1;}this.NV=[];}};n.prototype.update=function(p){var r,q,u;this.qb.log("PlayPredictionModel update: ",JSON.stringify(p));if(p && p.qc && p.qc[0]){!1 === this.UHa && this.NV.length < l.zyc && this.NV.push(p);r=this.Vnb(p);q=this.ptb(r);this.qb.log("actionType",q);r="mlmodel" == l.Saa?this.HV.update(p,q):this.HV.update(r,q);r=this.jlc(r,l.Zuc || 1);this.qb.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(r));0 === this.Z4 && (this.Z4=h(),this.wa && this.wa.pca && this.wa.pca({lfc:this.Z4}));if(this.wa && this.wa.wJc){this.zmc();u=[];r.forEach(function(v){u.push({Cad:v.J});});JSON.stringify(p);JSON.stringify(r);}this.u2b.jS(r);this.l2b.jS(r);this.FGa=!1;}};n.prototype.zmc=function(){h();};n.prototype.pca=function(){this.Z4=h();this.wa && this.wa.pca && this.wa.pca({lfc:this.Z4});};n.prototype.Vnb=function(p){var r,q,u,v,w;r={};u=p.qc || [];v=(function(x){var y,z;y={};w=f.M3.name.indexOf(x.context);y.context=0 <= w?w:f.M3.GE;y.rowIndex=x.rowIndex;y.requestId=x.requestId;y.list=[];q=x.list || [];q.forEach((function(B){z={J:B.J,gd:B.gd,index:B.index,P_:B.P_,Zsa:B.Zsa,list:B.list,Bb:B.Bb};void 0 !== B.property && (w=f.FU.name.indexOf(B.property),z.property=0 <= w?w:f.FU.GE);y.list.push(z);}).bind(this));r.qc.push(y);}).bind(this);if(void 0 !== p.direction){w=f.EB.name.indexOf(p.direction);r.direction=0 <= w?w:f.EB.GE;}void 0 !== p.E8 && (r.U4c=p.E8.rowIndex,r.T4c=p.E8.t$b);r.E8=p.E8;r.qc=[];u.forEach(v);return r;};n.prototype.ptb=function(p){var r,q,u;r=p.direction || f.EB.GE;q=p.E8;u=p.qc || [];!0 === this.FGa?p=f.gE.V6a:!0 === u.some(this.zrc)?(p=f.gE.m4,this.Rta(u,r,q)):p=u[0].context === f.M3.Fha?f.gE.Fha:r === f.EB.sdb || r === f.EB.j9a?f.gE.Pdb:f.gE.GE;return p;};n.prototype.zrc=function(p){return (p.list || []).some(function(r){return r.property === f.FU.m4 || r.property === f.FU.r5a;});};n.prototype.Rta=function(p,r,q){var u,v;this.qb.log("reportPlayFocusEvent: ",r,q);u={};v=g(p);this.wa && this.wa.Rta && (u.A4c=h(),u.direction=f.EB.name[r],q && (u.rowIndex=q.rowIndex,u.onb=q.t$b),void 0 !== v.Wm && (u.requestId=p[v.Wm].requestId),this.wa.Rta && this.wa.Rta(u));};n.prototype.jlc=function(p,r){for(var q=p.length,u=[],v,w,x,y,z=0;z < q;z++){w=p[z];v=Math.floor(z / r) + 1;if(void 0 !== w.list){x=w.list;y=x.length;for(var B=0;B < Math.min(l.n$b,y) && !(x[B].No=w.No,this.Gjb(x[B],v,u),u.length >= l.rBb);B++);}else this.Gjb(w,v,u);if(u.length >= l.rBb)break;}return u;};n.prototype.Gjb=function(p,r,q){var v,w;function u(x){x.$e && (x.Bb || (x.Bb={}),x.Bb.$e=x.$e);return x.Bb;}v=p.Zsa;if(void 0 !== v && v instanceof Array)v.forEach(function(x){void 0 !== x.J && (w=u(x),q.push(new d(x.J,r,x.gd,x.P_,p.No,w)));});else if(void 0 !== v && void 0 !== v.J){v=p.Zsa;w=u(v);q.push(new d(v.J,r,v.gd,v.P_,p.No,w));}void 0 !== p.J && (w=u(p),q.push(new d(p.J,r,p.gd,p.P_,p.No,w)));};n.prototype.hQ=function(p){var r;r=this.fib;return p?r[p]:r;};t.exports=n;},76122:function(t,b,a){var n;function d(c){for(var h="",f=0;f < c.length;f++)h+=c[f].J + "|";return h;}n=a(45578);t.exports={assert:function(c,h){if(!c)throw Error("PlayPredictionModel assertion failed" + (h?" : " + h:""));},z6c:function(c,h,f){Array.prototype.splice.apply(c,[h,0].concat(f));},pmc:function(c){for(var h=[],f=0;f < c.length;f++)if(c[f].context === n.M3.iSb){h=c[f].list;break;}return h;},Rlc:function(c){for(var h=[],f=0;f < c.length;f++)if(c[f].context === n.M3.cRb){h=c[f].list;break;}return h;},pfc:function(c,h){for(var f=0,e,g,k,l=0,m=c.length - 1;l < m;l++){e=d(c[l].list || []);k=!1;for(var p=0,r=h.length;p < r;p++)if((g=d(h[p].list || []),g == e)){k=!0;break;}if(!1 === k){f=l;break;}}return f;},yBc:function(c,h,f){for(var e=[],g,k=0;k < Math.min(h,c.length);k++)(g=c[k].list || [],e=e.concat(g.slice(0,f)));return e;},xBc:function(c,h){for(var f=[],e,g=0;g < c.length && (e=c[g].list || [],e=e.slice(0,Math.min(e.length,h)),h-=e.length,f=f.concat(e),0 !== h);g++);return f;},wBc:function(c,h,f){var e;h < c.length && 0 <= h && (c=c[h].list || [],f < c.length && (e=c[f]));return e;},osb:function(c){for(var h={},f=c.length,e,g=0;g < f;g++){e=c[g].list || [];for(var k=0;k < e.length;k++)if(e[k].property === n.FU.m4 || e[k].property === n.FU.r5a){h.Wm=g;h.Yp=k;break;}}void 0 === h.Wm && void 0 === h.Yp && (h.Wm=0,h.Yp=0);return h;}};},21457:function(t,b,a){var g,k,l,m,p,r,q,u;function d(v){return v.split(",").reduce(function(w,x){var y;y=x.split("=");x=y[0];y=y.slice(1).join("=");x && x.length && (w[x]=y || !0);return w;},{});}function n(v){return v && "object" === typeof v?JSON.stringify(v):"string" === typeof v?'"' + v + '"':"" + v;}function c(v,w,x){var y;if("string" === typeof v)return c.call(this,d(v),w,x);y=0;Object.keys(v).forEach(function(z){var B,A,C;B=p[z];A=v[z];if(B){if(C=r[z] || u[typeof g[B]])try{A=C(A);}catch(D){x && x.error("Failed to convert value '" + A + "' for config '" + z + "' : " + D.toString());return;}C=m[B];this[B]=A;m[B] !== C && (x && x.debug("Config changed for '" + z + "' from " + n(C) + " (" + typeof C + ") to " + n(A) + " (" + typeof A + ")"),++y);}else w?(B=(B=q[z])?B.filter(function(D){return D[0] !== this;},this):[],B.push([this,A]),q[z]=B):x && x.error("Attempt to change undeclared config option '" + z + "'");},this);y && m.emit("changed");return y;}function h(){return Object.keys(p).reduce(function(v,w){var x,y;x=p[w];y=v[x];y?(y.push(w),v[x]=y.sort(function(z,B){return B.length - z.length;})):v[x]=[w];return v;},{});}function f(v,w){return v.hasOwnProperty(w)?n(v[w]):void 0;}function e(v,w){return "undefined" === typeof v?w:v;}b=a(31503);a=a(37911).EventEmitter;g={};k=Object.create(g);l=Object.create(k);m=Object.create(l);p={};r={};q={};m.declare=function(v){Object.keys(v).forEach(function(w){var x,y,z,B;x=v[w];y=x[0];z=x[1];B=x[2];if(g.hasOwnProperty(w))throw Error("The local configuraion key '" + w + "' is already in use");"string" === typeof y && (y=[y]);y.forEach(function(A){var C;if(p.hasOwnProperty(A))throw Error("The configuration value '" + A + "' has been declared more than once");g.hasOwnProperty(w) || ("function" === typeof z && (z=z()),g[w]=z);p[A]=w;"function" === typeof B && (r[A]=B);if(C=q[A])(C.forEach(function(D){var F,G;F=D[0];G={};G[A]=D[1];c.call(F,G,!1);}),delete q[A]);});});return m;};u={object:function(v){return "object" == typeof v?v:JSON.parse("" + v);},"boolean":function(v){return "boolean" == typeof v?v:!("0" === "" + v || "false" === ("" + v).toLowerCase());},number:function(v){if("number" == typeof v)return v;v=parseFloat("" + v);if(isNaN(v))throw Error("parseFloat returned NaN");return v;}};m.set=c.bind(k);m.VVa=c.bind(l);m.dump=function(v,w){var y,z,B,A;function x(){A && v && v.log("===========================================");}y=Object.keys(q).sort();z={};B=h();w=e(w,!0);Object.keys(p).sort().forEach(function(C){var D,F,G;C=p[C];if(!z[C]){z[C]=!0;D=f(k,C);F=f(l,C);if(w || "undefined" !== typeof D || "undefined" !== typeof F){G=B[C].join(",");G+=" = " + n(m[C]) + " (" + typeof m[C] + ") [";G+=e(F,"<unset>") + ",";G+=e(D,"<unset>") + ",";G+=f(g,C) + "]";A || (A=!0,v && v.log("Current config values"),x());v && v.log(G);}}});(w || y.length) && v && v.log("<undeclared> :",y);x();};m.ot=function(v){var w,x;w={};x={};Object.keys(p).forEach(function(y){y=p[y];x[y] || (x[y]=!0,w[y]=m[y]);});v && c.call(w,v);return w;};m.MEc=function(){var v;v=h();return Object.getOwnPropertyNames(k).reduce(function(w,x){w[v[x][0]]=k[x];return w;},{});};m.reset=function(){Object.keys(k).forEach(function(v){delete k[v];});};m.Zh={};b(a,m);t.exports=Object.freeze(m);},76295:function(t){function b(d,n){var c;if(void 0 === n || "function" !== typeof n || "string" !== typeof d)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Zh)return (this.Zh={},this.Zh[d]=[n],!0);c=this.Zh[d];return void 0 === c?(this.Zh[d]=[n],!0):0 > c.indexOf(n)?(c.push(n),!0):!1;}function a(d,n){d=this.Zh?this.Zh[d]:void 0;if(!d)return !1;d.forEach(function(c){c(n);});return !0;}t.exports={addEventListener:b,on:b,removeEventListener:function(d,n){var c;if(void 0 === n || "function" !== typeof n || "string" !== typeof d)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Zh)return !1;c=this.Zh[d];if(void 0 === c)return !1;n=c.indexOf(n);if(0 > n)return !1;if(1 === c.length)return (delete this.Zh[d],!0);c.splice(n,1);return !0;},Zw:a,emit:a,removeAllListeners:function(d){this.Zh && (void 0 === d?delete this.Zh:delete this.Zh[d]);return this;}};},92653:function(t){function b(d,n,c,h){d.trace(":",c,":",h);n(h);}function a(d){this.listeners=[];this.console=d;}a.prototype.constructor=a;a.prototype.addEventListener=function(d,n,c,h){c=h?c.bind(h):c;h=!1;if(d){this.console && (c=b.bind(null,this.console,c,n));if("function" === typeof d.addEventListener)h=d.addEventListener(n,c);else if("function" === typeof d.addListener)h=d.addListener(n,c);else throw Error("Emitter does not have a function to add listeners for '" + n + "'");this.listeners.push([d,n,c]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var d;d=this.listeners.length;this.listeners.forEach(function(n){var c,h;c=n[0];h=n[1];n=n[2];"function" === typeof c.removeEventListener?c.removeEventListener(h,n):"function" === typeof c.removeListener && c.removeListener(h,n);});this.listeners=[];this.console && this.console.trace("removed",d,"listener(s)");};t.exports=a;},37911:function(t,b,a){t.exports={EventEmitter:a(76295),af:a(92653)};},17267:function(t){var b;b={pc:function(a){return "number" === typeof a;},mA:function(a){return "object" === typeof a;},ji:function(a){return "string" === typeof a;},Gx:function(a){return "undefined" === typeof a;},F6c:function(a){return "boolean" === typeof a;},yx:function(a){return "function" === typeof a;},md:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,d){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,d);},ODc:function(a){var d,n;n=[];if(!b.mA(a))throw new TypeError("Object.pairs called on non-object");for(d in a)a.hasOwnProperty(d) && n.push([d,a[d]]);return n;}};b.Y7=b.forEach=function(a,d,n){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var c=0,h=a.length;c < h;c++)d.call(n,a[c],c,a);else for(c in a)b.has(a,c) && d.call(n,a[c],c,a);return a;};t.exports=b;},75691:function(t,b,a){var d,n,c,h,f,e,g,k,l,m;if(!Object.keys){d=Object.prototype.hasOwnProperty;n=Object.prototype.toString;c=a(30801);b=Object.prototype.propertyIsEnumerable;h=!b.call({toString:null},"toString");f=b.call(function(){},"prototype");e=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");g=function(p){var r;r=p.constructor;return r && r.prototype === p;};k={cVc:!0,dVc:!0,eVc:!0,fVc:!0,gVc:!0,hVc:!0,iVc:!0,jVc:!0,kVc:!0,lVc:!0,mVc:!0,nVc:!0,oVc:!0,pVc:!0,qVc:!0,rVc:!0,sVc:!0,tVc:!0,uVc:!0,vVc:!0,wVc:!0,xVc:!0,yVc:!0};l=(function(){if("undefined" === typeof Ca)return !1;for(var p in Ca)try{if(!k["$" + p] && d.call(Ca,p) && null !== Ca[p] && "object" === typeof Ca[p])try{g(Ca[p]);}catch(r){return !0;}}catch(r){return !0;}return !1;})();m=function(p){var r,q,u,v,w,y;r=null !== p && "object" === typeof p;q="[object Function]" === n.call(p);u=c(p);v=r && "[object String]" === n.call(p);w=[];if(!r && !q && !u)throw new TypeError("Object.keys called on a non-object");r=f && q;if(v && 0 < p.length && !d.call(p,0))for(v=0;v < p.length;++v)w.push(String(v));if(u && 0 < p.length)for(u=0;u < p.length;++u)w.push(String(u));else for(var x in p)r && "prototype" === x || !d.call(p,x) || w.push(String(x));if(h){if("undefined" !== typeof Ca && l)try{y=g(p);}catch(z){y=!1;}else y=g(p);for(u=0;u < e.length;++u)y && "constructor" === e[u] || !d.call(p,e[u]) || w.push(e[u]);}return w;};}t.exports=m;},33464:function(t,b,a){var d,n,c,h,f;d=Array.prototype.slice;n=a(30801);c=Object.keys;h=c?function(e){return c(e);}:a(75691);f=Object.keys;h.xNc=function(){Object.keys?(function(){var e;e=Object.keys(arguments);return e && e.length === arguments.length;})(1,2) || (Object.keys=function(e){return n(e)?f(d.call(e)):f(e);}):Object.keys=h;return Object.keys || h;};t.exports=h;},30801:function(t){var b;b=Object.prototype.toString;t.exports=function(a){var d,n;d=b.call(a);n="[object Arguments]" === d;n || (n="[object Array]" !== d && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return n;};},61386:function(t,b,a){var f,e,g,k;function d(l){var m,p,r;if("Object" !== g(this))throw new TypeError("receiver is not an Object");m=e(this,k);p=l;r=l;f(l) && (p=c(m,l),r=n(m,l));return this.then(p,r);}function n(l,m){return function(p){var r;r=m();return h(l,r).then(function(){throw p;});};}function c(l,m){return function(p){var r;r=m();return h(l,r).then(function(){return p;});};}function h(l,m){return new l(function(p){p(m);});}a(57897)();f=a(83317);e=a(88251);g=a(18132);k=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(d,"name")) && b.configurable && Object.defineProperty(d,"name",{configurable:!0,value:"finally"});t.exports=d;},32887:function(t,b,a){var d,n;d=a(57897);n=a(61386);t.exports=function(){d();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:n;};},57897:function(t){t.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},65574:function(t,b,a){var d,n,c;d=a(57897);n=a(32887);c=a(14926);t.exports=function(){var h;d();h=n();c(Promise.prototype,{"finally":h},{"finally":function(){return Promise.prototype["finally"] !== h;}});return h;};},23614:function(t,b,a){var d;d=a(35375);b=a(31187)(function(n,c){return d(n.length,function(){return n.apply(c,arguments);});});t.exports=b;},57301:function(t,b,a){var d,n,c,h,f;b=a(31187);d=a(55446);n=a(89028);c=a(77894);h=a(67758);f=a(75850);a=b(function(e,g){return n(f(c,0,h("length",g)),function(){var k,l;k=arguments;l=this;return e.apply(l,d(function(m){return m.apply(l,k);},g));});});t.exports=a;},89028:function(t,b,a){var d,n,c;d=a(35375);n=a(16805);b=a(31187);c=a(16500);a=b(function(h,f){return 1 === h?n(f):d(h,c(h,[],f));});t.exports=a;},5154:function(t,b,a){var d;d=a(25701);b=a(20239)(function(n,c,h){for(var f=[],e=0,g=c.length;e < g;)(d(n,c[e],h) || d(n,c[e],f) || f.push(c[e]),e+=1);return f;});t.exports=b;},42514:function(t,b,a){var d,n,c,h,f,e;b=a(31187);d=a(8414);n=a(46458);c=a(78678);h=a(18468);f=a(14128);e=a(93358);a=b(d(["filter"],f,function(g,k){return c(k)?h(function(l,m){g(k[m]) && (l[m]=k[m]);return l;},{},e(k)):n(g,k);}));t.exports=a;},56663:function(t,b,a){b=a(31187)(function(d,n){for(var c=[],h=0,f=n.length;h < f;){for(var e=h + 1;e < f && d(n[e - 1],n[e]);)e+=1;c.push(n.slice(h,e));h=e;}return c;});t.exports=b;},35375:function(t){t.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(d){return a.apply(this,arguments);};case 2:return function(d,n){return a.apply(this,arguments);};case 3:return function(d,n,c){return a.apply(this,arguments);};case 4:return function(d,n,c,h){return a.apply(this,arguments);};case 5:return function(d,n,c,h,f){return a.apply(this,arguments);};case 6:return function(d,n,c,h,f,e){return a.apply(this,arguments);};case 7:return function(d,n,c,h,f,e,g){return a.apply(this,arguments);};case 8:return function(d,n,c,h,f,e,g,k){return a.apply(this,arguments);};case 9:return function(d,n,c,h,f,e,g,k,l){return a.apply(this,arguments);};case 10:return function(d,n,c,h,f,e,g,k,l,m){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},48925:function(t){t.exports=function(b){return function(){return !b.apply(this,arguments);};};},86614:function(t){t.exports=function(b,a){var d,n,c,h;b=b || [];a=a || [];n=b.length;c=a.length;h=[];for(d=0;d < n;)(h[h.length]=b[d],d+=1);for(d=0;d < c;)(h[h.length]=a[d],d+=1);return h;};},25701:function(t){t.exports=function(b,a,d){for(var n=0,c=d.length;n < c;){if(b(a,d[n]))return !0;n+=1;}return !1;};},16805:function(t,b,a){var d;d=a(28198);t.exports=function(n){return function f(h){return 0 === arguments.length || d(h)?f:n.apply(this,arguments);};};},31187:function(t,b,a){var d,n;d=a(16805);n=a(28198);t.exports=function(c){return function g(f,e){switch(arguments.length){case 0:return g;case 1:return n(f)?g:d(function(k){return c(f,k);});default:return n(f) && n(e)?g:n(f)?d(function(k){return c(k,e);}):n(e)?d(function(k){return c(f,k);}):c(f,e);}};};},20239:function(t,b,a){var d,n,c;d=a(16805);n=a(31187);c=a(28198);t.exports=function(h){return function l(e,g,k){switch(arguments.length){case 0:return l;case 1:return c(e)?l:n(function(m,p){return h(e,m,p);});case 2:return c(e) && c(g)?l:c(e)?n(function(m,p){return h(m,g,p);}):c(g)?n(function(m,p){return h(e,m,p);}):d(function(m){return h(e,g,m);});default:return c(e) && c(g) && c(k)?l:c(e) && c(g)?n(function(m,p){return h(m,p,k);}):c(e) && c(k)?n(function(m,p){return h(m,g,p);}):c(g) && c(k)?n(function(m,p){return h(e,m,p);}):c(e)?d(function(m){return h(m,g,k);}):c(g)?d(function(m){return h(e,m,k);}):c(k)?d(function(m){return h(e,g,m);}):h(e,g,k);}};};},16500:function(t,b,a){var n,c;function d(h,f,e){return function(){var p;for(var g=[],k=0,l=h,m=0;m < f.length || k < arguments.length;){if(m < f.length && (!c(f[m]) || k >= arguments.length))p=f[m];else (p=arguments[k],k+=1);g[m]=p;c(p) || --l;m+=1;}return 0 >= l?e.apply(this,g):n(l,d(h,g,e));};}n=a(35375);c=a(28198);t.exports=d;},8414:function(t,b,a){var d,n;d=a(84357);n=a(11972);t.exports=function(c,h,f){return function(){var e,g;if(0 === arguments.length)return f();e=Array.prototype.slice.call(arguments,0);g=e.pop();if(!d(g)){for(var k=0;k < c.length;){if("function" === typeof g[c[k]])return g[c[k]].apply(g,e);k+=1;}if(n(g))return h.apply(null,e)(g);}return f.apply(this,arguments);};};},46458:function(t){t.exports=function(b,a){for(var d=0,n=a.length,c=[];d < n;)(b(a[d]) && (c[c.length]=a[d]),d+=1);return c;};},58380:function(t){t.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},46546:function(t,b,a){var d,n;d=a(58380);n=Object.prototype.toString;t.exports=function(){return "[object Arguments]" === n.call(arguments)?function(c){return "[object Arguments]" === n.call(c);}:function(c){return d("callee",c);};};},84357:function(t){t.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},33905:function(t,b,a){var d,n;b=a(16805);d=a(84357);n=a(86807);a=b(function(c){return d(c)?!0:!c || "object" !== typeof c || n(c)?!1:1 === c.nodeType?!!c.length:0 === c.length?!0:0 < c.length?c.hasOwnProperty(0) && c.hasOwnProperty(c.length - 1):!1;});t.exports=a;},78678:function(t){t.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},28198:function(t){t.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},86807:function(t){t.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},11972:function(t){t.exports=function(b){return "function" === typeof b["@@transducer/step"];};},55446:function(t){t.exports=function(b,a){for(var d=0,n=a.length,c=Array(n);d < n;)(c[d]=b(a[d]),d+=1);return c;};},18468:function(t,b,a){var c,h,f,e;function d(g,k,l){for(var m=l.next();!m.done;){if((k=g["@@transducer/step"](k,m.value)) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}m=l.next();}return g["@@transducer/result"](k);}function n(g,k,l,m){return g["@@transducer/result"](l[m](f(g["@@transducer/step"],g),k));}c=a(33905);h=a(71402);f=a(23614);e="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";t.exports=function(g,k,l){"function" === typeof g && (g=h(g));if(c(l)){for(var m=0,p=l.length;m < p;){if((k=g["@@transducer/step"](k,l[m])) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}m+=1;}return g["@@transducer/result"](k);}if("function" === typeof l["fantasy-land/reduce"])return n(g,k,l,"fantasy-land/reduce");if(null != l[e])return d(g,k,l[e]());if("function" === typeof l.next)return d(g,k,l);if("function" === typeof l.reduce)return n(g,k,l,"reduce");throw new TypeError("reduce: list must be array or iterable");};},18610:function(t){t.exports={Sb:function(){return this.Wea["@@transducer/init"]();},result:function(b){return this.Wea["@@transducer/result"](b);}};},14128:function(t,b,a){var d,n;b=a(31187);d=a(18610);n=(function(){function c(h,f){this.Wea=f;this.f=h;}c.prototype["@@transducer/init"]=d.Sb;c.prototype["@@transducer/result"]=d.result;c.prototype["@@transducer/step"]=function(h,f){return this.f(f)?this.Wea["@@transducer/step"](h,f):h;};return c;})();a=b(function(c,h){return new n(c,h);});t.exports=a;},94406:function(t,b,a){var d,n;b=a(31187);d=a(18610);n=(function(){function c(h,f){this.Wea=f;this.f=h;}c.prototype["@@transducer/init"]=d.Sb;c.prototype["@@transducer/result"]=d.result;c.prototype["@@transducer/step"]=function(h,f){return this.Wea["@@transducer/step"](h,this.f(f));};return c;})();a=b(function(c,h){return new n(c,h);});t.exports=a;},71402:function(t){var b;b=(function(){function a(d){this.f=d;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(d){return d;};a.prototype["@@transducer/step"]=function(d,n){return this.f(d,n);};return a;})();t.exports=function(a){return new b(a);};},72849:function(t,b,a){var d;b=a(16805);d=a(57301);a=b(function(n){return d(function(){return Array.prototype.slice.call(arguments,0);},n);});t.exports=a;},93358:function(t,b,a){var d,n,c,h,f;b=a(16805);d=a(58380);n=a(46546);c=!({toString:null}).propertyIsEnumerable("toString");h=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");f=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || f?function(e){var g,k,l,m;if(Object(e) !== e)return [];g=[];k=f && n(e);for(l in e)!d(l,e) || k && "length" === l || (g[g.length]=l);if(c)for(k=h.length - 1;0 <= k;){l=h[k];if(m=d(l,e)){a:{for(m=0;m < g.length;){if(g[m] === l){m=!0;break a;}m+=1;}m=!1;}m=!m;}m && (g[g.length]=l);--k;}return g;}:function(e){return Object(e) !== e?[]:Object.keys(e);});t.exports=a;},81057:function(t,b,a){var d,n,c,h,f,e;b=a(31187);d=a(8414);n=a(55446);c=a(18468);h=a(94406);f=a(89028);e=a(93358);a=b(d(["fantasy-land/map","map"],h,function(g,k){switch(Object.prototype.toString.call(k)){case "[object Function]":return f(k.length,function(){return g.call(this,k.apply(this,arguments));});case "[object Object]":return c(function(l,m){l[m]=g(k[m]);return l;},{},e(k));default:return n(g,k);}}));t.exports=a;},77894:function(t,b,a){b=a(31187)(function(d,n){return n > d?n:d;});t.exports=b;},29664:function(t,b,a){var d;b=a(20239);d=a(29924);a=b(function(n,c,h){return d(function(f,e,g){return n(e,g);},c,h);});t.exports=a;},29924:function(t,b,a){var d,n;b=a(20239);d=a(78678);n=a(48796);a=b(function g(h,f,e){return n(function(k,l,m){return d(l) && d(m)?g(h,l,m):h(k,l,m);},f,e);});t.exports=a;},48796:function(t,b,a){var d;b=a(20239);d=a(58380);a=b(function(n,c,h){var f,e;f={};for(e in c)d(e,c) && (f[e]=d(e,h)?n(e,c[e],h[e]):c[e]);for(e in h)d(e,h) && !d(e,f) && (f[e]=h[e]);return f;});t.exports=a;},31435:function(t,b,a){var d;b=a(42514);d=a(72849);a=a(64580);a=d([b,a]);t.exports=a;},23335:function(t,b,a){b=a(31187)(function(d,n){for(var c=0;c < d.length;){if(null == n)return;n=n[d[c]];c+=1;}return n;});t.exports=b;},67758:function(t,b,a){var d,n;b=a(31187);d=a(81057);n=a(38695);a=b(function(c,h){return d(n(c),h);});t.exports=a;},38695:function(t,b,a){var d;b=a(31187);d=a(23335);a=b(function(n,c){return d([n],c);});t.exports=a;},75850:function(t,b,a){b=a(20239);a=a(18468);a=b(a);t.exports=a;},64580:function(t,b,a){var d,n;d=a(48925);b=a(31187);n=a(42514);a=b(function(c,h){return n(d(c),h);});t.exports=a;},60024:function(t,b,a){var d,n;d=a(86614);b=a(20239);n=a(25228);a=b(function(c,h,f){return n(c,d(h,f));});t.exports=a;},25228:function(t,b,a){var d;d=a(25701);b=a(31187)(function(n,c){for(var h=0,f=c.length,e=[],g;h < f;)(g=c[h],d(n,g,e) || (e[e.length]=g),h+=1);return e;});t.exports=b;},1738:function(t,b,a){var d;(function(n){(function(c){var f,e;function h(g,k){return function(l,m){"function" !== typeof g[l] && Object.defineProperty(g,l,{configurable:!0,writable:!0,value:m});k && k(l,m);};}f="object" === typeof a.nY?a.nY:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();e=h(n);"undefined" === typeof f.Reflect?f.Reflect=n:e=h(f.Reflect,e);c(e);})(function(c){var F,G,E,H,J,L,K,M,P,I,O;function h(Q,S,U){var W;W=O.get(Q);if(r(W)){if(!U)return;W=new P();O.set(Q,W);}Q=W.get(S);if(r(Q)){if(!U)return;Q=new P();W.set(S,Q);}return Q;}function f(Q,S,U){if(e(Q,S,U))return !0;S=z(S);return null === S?!1:f(Q,S,U);}function e(Q,S,U){S=h(S,U,!1);return r(S)?!1:!!S.has(Q);}function g(Q,S,U){if(e(Q,S,U))return k(Q,S,U);S=z(S);if(null !== S)return g(Q,S,U);}function k(Q,S,U){S=h(S,U,!1);if(!r(S))return S.get(Q);}function l(Q,S){var U,X,Z;U=m(Q,S);Q=z(Q);if(null === Q)return U;S=l(Q,S);if(0 >= S.length)return U;if(0 >= U.length)return S;Q=new I();for(var W=[],Y=0;Y < U.length;Y++){X=U[Y];Z=Q.has(X);Z || (Q.add(X),W.push(X));}for(U=0;U < S.length;U++)(X=S[U],(Z=Q.has(X)) || (Q.add(X),W.push(X)));return W;}function m(Q,S){var U,W;U=[];Q=h(Q,S,!1);if(r(Q))return U;Q=Q.keys();S=y(Q,H);if(!x(S))throw new TypeError();Q=S.call(Q);if(!q(Q))throw new TypeError();for(S=0;;){W=Q.next();W=W.done?!1:W;if(!W)return (U.length=S,U);W=W.value;try{U[S]=W;}catch(X){var Y;try{Y=Q["return"];Y && Y.call(Q);}finally{throw X;}}S++;}}function p(Q){if(null === Q)return 1;switch(typeof Q){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === Q?1:6;default:return 6;}}function r(Q){return void 0 === Q;}function q(Q){return "object" === typeof Q?null !== Q:"function" === typeof Q;}function u(Q,S){var U;switch(p(Q)){case 0:return Q;case 1:return Q;case 2:return Q;case 3:return Q;case 4:return Q;case 5:return Q;}S=3 === S?"string":5 === S?"number":"default";U=y(Q,E);if(void 0 !== U){Q=U.call(Q,S);if(q(Q))throw new TypeError();return Q;}a:{if("string" === ("default" === S?"number":S)){S=Q.toString;if(x(S) && (S=S.call(Q),!q(S)))break a;S=Q.valueOf;}else {S=Q.valueOf;if(x(S) && (S=S.call(Q),!q(S)))break a;S=Q.toString;}if(!x(S) || (S=S.call(Q),q(S)))throw new TypeError();}return S;}function v(Q){Q=u(Q,3);return "symbol" === typeof Q?Q:"" + Q;}function w(Q){return Array.isArray?Array.isArray(Q):Q instanceof Object?Q instanceof Array:"[object Array]" === Object.prototype.toString.call(Q);}function x(Q){return "function" === typeof Q;}function y(Q,S){Q=Q[S];if(void 0 !== Q && null !== Q){if(!x(Q))throw new TypeError();return Q;}}function z(Q){var S,U;S=Object.getPrototypeOf(Q);if("function" !== typeof Q || Q === M || S !== M)return S;U=Q.prototype;U=U && Object.getPrototypeOf(U);if(null == U || U === Object.prototype)return S;U=U.constructor;return "function" !== typeof U || U === Q?S:U;}function B(){var W,Y,X;function Q(Z){return Z;}function S(Z,aa){return aa;}function U(Z,aa){return [Z,aa];}W={};Y=[];X=(function(){function Z(aa,ca,da){this.Yh=0;this.xg=aa;this.Bi=ca;this.$1b=da;}Z.prototype["@@iterator"]=function(){return this;};Z.prototype[H]=function(){return this;};Z.prototype.next=function(){var aa,ca;aa=this.Yh;if(0 <= aa && aa < this.xg.length){ca=this.$1b(this.xg[aa],this.Bi[aa]);aa + 1 >= this.xg.length?(this.Yh=-1,this.Bi=this.xg=Y):this.Yh++;return {value:ca,done:!1};}return {value:void 0,done:!0};};Z.prototype.throw=function(aa){0 <= this.Yh && (this.Yh=-1,this.Bi=this.xg=Y);throw aa;};Z.prototype.return=function(aa){0 <= this.Yh && (this.Yh=-1,this.Bi=this.xg=Y);return {value:aa,done:!0};};return Z;})();return (function(){function Z(){this.xg=[];this.Bi=[];this.OB=W;this.$y=-2;}Object.defineProperty(Z.prototype,"size",{get:function(){return this.xg.length;},enumerable:!0,configurable:!0});Z.prototype.has=function(aa){return 0 <= this.XE(aa,!1);};Z.prototype.get=function(aa){aa=this.XE(aa,!1);return 0 <= aa?this.Bi[aa]:void 0;};Z.prototype.set=function(aa,ca){aa=this.XE(aa,!0);this.Bi[aa]=ca;return this;};Z.prototype.delete=function(aa){var ca,da;ca=this.XE(aa,!1);if(0 <= ca){da=this.xg.length;for(ca+=1;ca < da;ca++)(this.xg[ca - 1]=this.xg[ca],this.Bi[ca - 1]=this.Bi[ca]);this.xg.length--;this.Bi.length--;aa === this.OB && (this.OB=W,this.$y=-2);return !0;}return !1;};Z.prototype.clear=function(){this.xg.length=0;this.Bi.length=0;this.OB=W;this.$y=-2;};Z.prototype.keys=function(){return new X(this.xg,this.Bi,Q);};Z.prototype.values=function(){return new X(this.xg,this.Bi,S);};Z.prototype.entries=function(){return new X(this.xg,this.Bi,U);};Z.prototype["@@iterator"]=function(){return this.entries();};Z.prototype[H]=function(){return this.entries();};Z.prototype.XE=function(aa,ca){this.OB !== aa && (this.$y=this.xg.indexOf(this.OB=aa));0 > this.$y && ca && (this.$y=this.xg.length,this.xg.push(aa),this.Bi.push(void 0));return this.$y;};return Z;})();}function A(){return (function(){function Q(){this.Mg=new P();}Object.defineProperty(Q.prototype,"size",{get:function(){return this.Mg.size;},enumerable:!0,configurable:!0});Q.prototype.has=function(S){return this.Mg.has(S);};Q.prototype.add=function(S){return (this.Mg.set(S,S),this);};Q.prototype.delete=function(S){return this.Mg.delete(S);};Q.prototype.clear=function(){this.Mg.clear();};Q.prototype.keys=function(){return this.Mg.keys();};Q.prototype.values=function(){return this.Mg.values();};Q.prototype.entries=function(){return this.Mg.entries();};Q.prototype["@@iterator"]=function(){return this.keys();};Q.prototype[H]=function(){return this.keys();};return Q;})();}function C(){var W,Y;function Q(){var X,ca;do {X="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):U(new Uint8Array(16),16):U(Array(16),16);X[6]=X[6] & 79 | 64;X[8]=X[8] & 191 | 128;for(var Z="",aa=0;16 > aa;++aa){ca=X[aa];if(4 === aa || 6 === aa || 8 === aa)Z+="-";16 > ca && (Z+="0");Z+=ca.toString(16).toLowerCase();}X="@@WeakMap@@" + Z;}while(K.has(W,X));W[X]=!0;return X;}function S(X,Z){if(!F.call(X,Y)){if(!Z)return;Object.defineProperty(X,Y,{value:K.create()});}return X[Y];}function U(X,Z){for(var aa=0;aa < Z;++aa)X[aa]=255 * Math.random() | 0;return X;}W=K.create();Y=Q();return (function(){function X(){this.gz=Q();}X.prototype.has=function(Z){Z=S(Z,!1);return void 0 !== Z?K.has(Z,this.gz):!1;};X.prototype.get=function(Z){Z=S(Z,!1);return void 0 !== Z?K.get(Z,this.gz):void 0;};X.prototype.set=function(Z,aa){S(Z,!0)[this.gz]=aa;return this;};X.prototype.delete=function(Z){Z=S(Z,!1);return void 0 !== Z?delete Z[this.gz]:!1;};X.prototype.clear=function(){this.gz=Q();};return X;})();}function D(Q){Q.b_b=void 0;delete Q.b_b;return Q;}F=Object.prototype.hasOwnProperty;G="function" === typeof Symbol;E=G && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";H=G && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";G="function" === typeof Object.create;J=({__proto__:[]}) instanceof Array;L=!G && !J;K={create:G?function(){return D(Object.create(null));}:J?function(){return D({__proto__:null});}:function(){return D({});},has:L?function(Q,S){return F.call(Q,S);}:function(Q,S){return (S in Q);},get:L?function(Q,S){return F.call(Q,S)?Q[S]:void 0;}:function(Q,S){return Q[S];}};M=Object.getPrototypeOf(Function);P=(G="object" === typeof process && "true" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?B():Map;I=G || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?A():Set;O=new (G || "function" !== typeof WeakMap?C():WeakMap)();c("decorate",function(Q,S,U,W){var X;if(r(U)){if(!w(Q))throw new TypeError();if("function" !== typeof S)throw new TypeError();for(U=Q.length - 1;0 <= U;--U)if((W=(0,Q[U])(S),!r(W) && null !== W)){if("function" !== typeof W)throw new TypeError();S=W;}return S;}if(!w(Q))throw new TypeError();if(!q(S))throw new TypeError();if(!q(W) && !r(W) && null !== W)throw new TypeError();null === W && (W=void 0);U=v(U);for(var Y=Q.length - 1;0 <= Y;--Y){X=(0,Q[Y])(S,U,W);if(!r(X) && null !== X){if(!q(X))throw new TypeError();W=X;}}return W;});c("metadata",function(Q,S){return function(U,W){var Y;if(!q(U))throw new TypeError();if(Y=!r(W)){a:switch(p(W)){case 3:Y=!0;break a;case 4:Y=!0;break a;default:Y=!1;}Y=!Y;}if(Y)throw new TypeError();h(U,W,!0).set(Q,S);};});c("defineMetadata",function(Q,S,U,W){if(!q(U))throw new TypeError();r(W) || (W=v(W));h(U,W,!0).set(Q,S);});c("hasMetadata",function(Q,S,U){if(!q(S))throw new TypeError();r(U) || (U=v(U));return f(Q,S,U);});c("hasOwnMetadata",function(Q,S,U){if(!q(S))throw new TypeError();r(U) || (U=v(U));return e(Q,S,U);});c("getMetadata",function(Q,S,U){if(!q(S))throw new TypeError();r(U) || (U=v(U));return g(Q,S,U);});c("getOwnMetadata",function(Q,S,U){if(!q(S))throw new TypeError();r(U) || (U=v(U));return k(Q,S,U);});c("getMetadataKeys",function(Q,S){if(!q(Q))throw new TypeError();r(S) || (S=v(S));return l(Q,S);});c("getOwnMetadataKeys",function(Q,S){if(!q(Q))throw new TypeError();r(S) || (S=v(S));return m(Q,S);});c("deleteMetadata",function(Q,S,U){var W;if(!q(S))throw new TypeError();r(U) || (U=v(U));W=h(S,U,!1);if(r(W) || !W.delete(Q))return !1;if(0 < W.size)return !0;Q=O.get(S);Q.delete(U);if(0 < Q.size)return !0;O.delete(S);return !0;});});})(d || (d={}));},63671:function(t,b,a){var d,n,c;b=a(8435);d=a(58786);n=b("RegExp.prototype.exec");c=a(5408);t.exports=function(h){if(!d(h))throw new c("`regex` must be a RegExp");return function(f){return null !== n(h,f);};};},47669:function(t,b,a){var d,n,c,h,f;b=a(67286);d=a(75195);n=a(81181)();c=a(50326);h=a(5408);f=b("%Math.floor%");t.exports=function(e,g){var k,l,m,p;if("function" !== typeof e)throw new h("`fn` is not a function");if("number" !== typeof g || 0 > g || 4294967295 < g || f(g) !== g)throw new h("`length` must be a positive 32-bit integer");k=2 < arguments.length && !!arguments[2];l=!0;m=!0;if(("length" in e) && c){p=c(e,"length");p && !p.configurable && (l=!1);p && !p.writable && (m=!1);}if(l || m || !k)n?d(e,"length",g,!0,!0):d(e,"length",g);return e;};},24454:function(t,b,a){var d,n,c,h,f;d=a(42977);n=a(11885);c=a(8435)("String.prototype.replace");h=(b=(/^\s$/).test("\u180e"))?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/;f=b?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var e;e=n(d(this));return c(c(e,h,""),f,"");};},11341:function(t,b,a){var n,c,h,f,e;function d(g){c(g);return e(g);}b=a(89429);n=a(14926);c=a(42977);h=a(24454);f=a(33871);a=a(93607);e=b(f());n(d,{M5c:f,implementation:h,xNc:a});t.exports=d;},33871:function(t,b,a){var d;d=a(24454);t.exports=function(){return String.prototype.trim?String.prototype.trim:d;};},93607:function(t,b,a){var d,n,c;d=a(81181)();n=a(75195);c=a(33871);t.exports=function(){var h;h=c();String.prototype.trim !== h && (d?n(String.prototype,"trim",h,!0):n(String.prototype,"trim",h));return h;};},15913:function(t,b,a){var f;function d(e,g,k){this.uX=!1 === e;this.ex=e || .01;this.vAa=void 0 === g?25:g;this.J4a=void 0 === k?1.1:k;this.um=new f(n);this.reset();}function n(e,g){return e.sh > g.sh?1:e.sh < g.sh?-1:0;}function c(e,g){return e.bD - g.bD;}function h(e){this.config=e || ({});this.mode=this.config.mode || "auto";d.call(this,"cont" === this.mode?e.ex:!1);this.wfc=this.config.ratio || .9;this.xfc=this.config.uad || 1E3;this.Zqa=0;}f=a(35558).sYb;d.prototype.reset=function(){this.um.clear();this.hTa=this.n=0;};d.prototype.size=function(){return this.um.size;};d.prototype.hj=function(e){var g;g=[];e?(this.uia(!0),this.um.Y7(function(k){g.push(k);})):this.um.Y7(function(k){g.push({sh:k.sh,n:k.n});});return g;};d.prototype.summary=function(){return [(this.uX?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.mk(0),"Q1  = " + this.mk(.25),"Q2  = " + this.mk(.5),"Q3  = " + this.mk(.75),"max = " + this.mk(1)].join("\n");};d.prototype.push=function(e,g){g=g || 1;e=Array.isArray(e)?e:[e];for(var k=0;k < e.length;k++)this.ihb(e[k],g);};d.prototype.EXa=function(e){e=Array.isArray(e)?e:[e];for(var g=0;g < e.length;g++)this.ihb(e[g].sh,e[g].n);};d.prototype.uia=function(e){var g;if(!(this.n === this.hTa || !e && this.J4a && this.J4a > this.n / this.hTa)){g=0;this.um.Y7(function(k){k.bD=g + k.n / 2;g=k.fX=g + k.n;});this.n=this.hTa=g;}};d.prototype.akc=function(e){var g,k;if(0 === this.size())return null;g=this.um.lowerBound({sh:e});k=null === g.data()?g.cy():g.data();return k.sh === e || this.uX?k:(g=g.cy()) && Math.abs(g.sh - e) < Math.abs(k.sh - e)?g:k;};d.prototype.IV=function(e,g,k){this.um.Gt({sh:e,n:g,fX:k});this.n+=g;};d.prototype.lia=function(e,g,k){g !== e.sh && (e.sh+=k * (g - e.sh) / (e.n + k));e.fX+=k;e.bD+=k / 2;e.n+=k;this.n+=k;};d.prototype.ihb=function(e,g){var k,l,m;k=this.um.min();l=this.um.max();m=this.akc(e);m && m.sh === e?this.lia(m,e,g):m === k?this.IV(e,g,0):m === l?this.IV(e,g,this.n):this.uX?this.IV(e,g,m.fX):(k=m.bD / this.n,Math.floor(4 * this.n * this.ex * k * (1 - k)) - m.n >= g?this.lia(m,e,g):this.IV(e,g,m.fX));this.uia(!1);!this.uX && this.vAa && this.size() > this.vAa / this.ex && this.Eo();};d.prototype.L6b=function(e){var g,k;this.um.az=c;g=this.um.upperBound({bD:e});this.um.az=n;k=g.cy();e=k && k.bD === e?k:g.next();return [k,e];};d.prototype.mk=function(e){var g;g=(Array.isArray(e)?e:[e]).map(this.F1b,this);return Array.isArray(e)?g:g[0];};d.prototype.F1b=function(e){var g,k;if(0 !== this.size()){this.uia(!0);this.um.min();this.um.max();e*=this.n;g=this.L6b(e);k=g[0];g=g[1];return g === k || null === k || null === g?(k || g).sh:this.uX?e <= k.fX?k.sh:g.sh:k.sh + (e - k.bD) * (g.sh - k.sh) / (g.bD - k.bD);}};d.prototype.Eo=function(){var e;if(!this.Enb){e=this.hj();this.reset();for(this.Enb=!0;0 < e.length;)this.EXa(e.splice(Math.floor(Math.random() * e.length),1)[0]);this.uia(!0);this.Enb=!1;}};h.prototype=Object.create(d.prototype);h.prototype.constructor=h;h.prototype.push=function(e){d.prototype.push.call(this,e);this.v9b();};h.prototype.IV=function(e,g,k){this.Zqa+=1;d.prototype.IV.call(this,e,g,k);};h.prototype.lia=function(e,g,k){1 === e.n && --this.Zqa;d.prototype.lia.call(this,e,g,k);};h.prototype.v9b=function(){!("auto" !== this.mode || this.size() < this.xfc) && this.Zqa / this.size() > this.wfc && (this.mode="cont",this.uX=!1,this.ex=this.config.ex || .01,this.Eo());};t.exports={TDigest:d,Digest:h};},63053:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);n=d.__importDefault(a(51411));c=a(32260);t=(function(h){function f(e,g,k,l){var m,p;m=this.constructor;p=h.call(this,g.message) || this;m=m.prototype;"undefined" === typeof Object.setPrototypeOf?p.__proto__=m:Object.setPrototypeOf(p,m);k && (p.message+=" [" + k + "]");p.name=e;p.error=g;p.zc=l;e=p.toString();p.stack && (e+="\n" + p.stack);p.zc && p.zc.stack && (e+="\nCaused by " + p.zc.stack);p.stack=e;return p;}d.__extends(f,h);f.prototype.Rh=function(e){if(0 > e || e > n.default.Se)throw new RangeError("Message ID " + e + " is outside the valid range.");this.Mub() || (this.jO=e);return this;};f.prototype.Mub=function(){if(this.jO)return this.jO;if(this.zc && c.zd(this.zc))return this.zc.jO;};f.prototype.kc=function(e){!e || this.ac || this.Bl || (this.ac=e);return this;};f.prototype.Nf=function(e){!e || this.ac || this.Bl || (this.Bl=e);return this;};f.prototype.ze=function(e){!e || this.cg || this.ij || (this.cg=e);return this;};f.prototype.nf=function(e){!e || this.cg || this.ij || (this.ij=e);return this;};f.prototype.toString=function(){return this.name + ": " + this.message;};return f;})(Error);b["default"]=t;},51411:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});b.jvb=b.fI=void 0;t=a(69193);d=a(96837);a=t.AB.OE;b.fI={STb:"GZIP",IAa:"LZW"};b.jvb=function(f){for(var e=[b.fI.STb,b.fI.IAa],g=0;g < e.length && 0 < f.length;++g)for(var k=e[g],l=0;l < f.length;++l)if(f[l] == k)return k;return null;};n={Ewa:"AES"};Object.defineProperties(n,{$P:{value:function(f){var e;e=f;"string" === typeof f && (e=f.toLowerCase());"object" === typeof f && "string" === typeof f.name && (e=f.name.toLowerCase());return d.Me.OM.name.toLowerCase() == e?n.Ewa:n[f];},writable:!1,enumerable:!1,configurable:!1},H0a:{value:function(f){if(n.Ewa == f)return d.Me.OM;},writable:!1,enumerable:!1,configurable:!1}});Object.freeze(n);c={m2a:"AES/CBC/PKCS5Padding",EVc:"AESWrap",tdb:"RSA/ECB/PKCS1Padding"};Object.defineProperties(c,{$P:{value:function(f){return c.m2a == f?c.m2a:c.tdb == f?c.tdb:c[f];},writable:!1,enumerable:!1,configurable:!1}});Object.freeze(c);h={Zza:"HmacSHA256",BEa:"SHA256withRSA",l2a:"AESCmac"};Object.defineProperties(h,{$P:{value:function(f){var e,g;e=f;"string" === typeof f && (e=f.toLowerCase());"object" === typeof f && "string" === typeof f.name && (e=f.name.toLowerCase());"object" === typeof f.hash && (g=f.hash.name.toLowerCase());return d.Me.DU.name.toLowerCase() == e && d.Me.DU.hash.name.toLowerCase() == g?h.Zza:d.Me.t4.name.toLowerCase() == e && d.Me.t4.hash.name.toLowerCase() == g?h.BEa:d.Me.n2a.name.toLowerCase() == e?h.l2a:h[f];},writable:!1,enumerable:!1,configurable:!1},H0a:{value:function(f){if(h.Zza == f)return d.Me.DU;if(h.BEa == f)return d.Me.BEa;if(h.l2a == f)return d.Me.n2a;},writable:!1,enumerable:!1,configurable:!1}});Object.freeze(h);t={fa:1,ar:2,gg:3,Le:4,K3:5,Uh:6,$c:7,K2:8,jEa:9,Hha:10};Object.freeze(t);b["default"]={wSb:a,Se:9007199254740992,rVb:12,hza:n,cya:c,C4:h,O:t};},42458:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(h,f,e){return n.call(this,"MslCryptoException",h,f,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},88257:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(h,f,e){return n.call(this,"MslEncodingException",h,f,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},24571:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(h,f,e){return n.call(this,"MslEntityAuthException",h,f,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},36114:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970).__importDefault(a(51411));t=(function(){function n(c,h,f){this.k$=1E5 + c;this.oKc=h;this.message=f;}n.prototype.toString=function(){return "MslError{" + this.k$ + "," + this.oKc + "," + this.message + "}";};n.Te=new n(0,d.default.O.fa,"Error parsing MSL encodable.");n.MVb=new n(1,d.default.O.fa,"Error encoding MSL encodable.");new n(2,d.default.O.fa,"Computed hash does not match envelope hash.");n.pN=new n(3,d.default.O.fa,"Invalid public key provided.");n.EU=new n(4,d.default.O.fa,"Invalid private key provided.");new n(5,d.default.O.fa,"Plaintext is not a multiple of the block size.");new n(6,d.default.O.fa,"Plaintext contains incorrect padding.");new n(7,d.default.O.fa,"Ciphertext is not a multiple of the block size.");new n(8,d.default.O.fa,"Ciphertext contains incorrect padding.");n.Xya=new n(9,d.default.O.fa,"Encryption not supported.");n.mya=new n(10,d.default.O.fa,"Decryption not supported.");new n(11,d.default.O.fa,"Encryption envelope key ID does not match crypto context key ID.");n.x4a=new n(12,d.default.O.fa,"Error parsing ciphertext envelope.");n.xfa=new n(13,d.default.O.fa,"Error encoding ciphertext envelope.");n.CEa=new n(14,d.default.O.fa,"Sign not supported.");n.NFa=new n(15,d.default.O.fa,"Verify not suppoprted.");n.Udb=new n(16,d.default.O.fa,"Signature not initialized or unable to process data/signature.");n.gga=new n(17,d.default.O.fa,"Error computing HMAC.");n.Wfa=new n(18,d.default.O.fa,"Error encrypting plaintext.");n.gI=new n(19,d.default.O.fa,"Error decrypting ciphertext.");new n(20,d.default.O.fa,"Insufficient ciphertext for decryption.");new n(21,d.default.O.fa,"Error when creating session keys.");n.eAa=new n(24,d.default.O.fa,"Invalid symmetric key provided.");new n(25,d.default.O.fa,"Invalid encryption key.");new n(26,d.default.O.fa,"Invalid HMAC key.");n.ugb=new n(27,d.default.O.fa,"Wrap not supported.");n.Sfb=new n(28,d.default.O.fa,"Unwrap not supported.");new n(29,d.default.O.fa,"Unidentified JSON web key type.");new n(30,d.default.O.fa,"Unidentified JSON web key usage.");new n(31,d.default.O.fa,"Unidentified JSON web key algorithm.");n.XFa=new n(32,d.default.O.fa,"Error wrapping plaintext.");n.DFa=new n(33,d.default.O.fa,"Error unwrapping ciphertext.");new n(34,d.default.O.fa,"Invalid JSON web key.");new n(35,d.default.O.fa,"Invalid JSON web key keydata.");new n(36,d.default.O.fa,"Unsupported JSON web key algorithm.");new n(37,d.default.O.fa,"Error when creating wrapping key.");new n(38,d.default.O.fa,"Invalid wrap ciphertext.");new n(39,d.default.O.fa,"Unsupported JSON web encryption algorithm.");new n(40,d.default.O.fa,"Error encoding JSON web encryption header.");new n(41,d.default.O.fa,"Error parsing JSON web encryption header.");new n(42,d.default.O.fa,"Invalid algorithm parameters.");new n(43,d.default.O.fa,"JSON web encryption header algorithms mismatch.");n.YUb=new n(44,d.default.O.fa,"Error importing key.");n.yAa=new n(45,d.default.O.fa,"Error exporting key.");new n(46,d.default.O.fa,"Error in digest.");n.BFa=new n(47,d.default.O.fa,"Unsupported key type or algorithm.");new n(48,d.default.O.fa,"Unsupported JSON web encryption serialization.");new n(51,d.default.O.fa,"Invalid wrapping key.");n.Nfb=new n(52,d.default.O.fa,"Unidentified ciphertext envelope version.");new n(53,d.default.O.fa,"Unidentified signature envelope version.");n.DZb=new n(54,d.default.O.fa,"Unsupported ciphertext envelope version.");n.CFa=new n(55,d.default.O.fa,"Unsupported signature envelope version.");n.zZb=new n(56,d.default.O.fa,"Unidentified cipher specification.");n.AFa=new n(57,d.default.O.fa,"Unidentified algorithm.");new n(58,d.default.O.fa,"Error parsing signature envelope.");n.Tdb=new n(59,d.default.O.fa,"Error encoding signature envelope.");new n(60,d.default.O.fa,"Invalid signature.");new n(61,d.default.O.fa,"Error deriving key.");new n(62,d.default.O.fa,"Unidentified JSON web key key operation.");new n(63,d.default.O.fa,"Error generating key.");new n(64,d.default.O.fa,"Invalid initialization vector.");new n(65,d.default.O.fa,"Invalid ciphertext.");n.e$a=new n(1E3,d.default.O.gg,"Master token is not trusted.");n.d$a=new n(1001,d.default.O.gg,"Unable to construct symmetric keys from master token.");n.kVb=new n(1002,d.default.O.gg,"Master token expiration timestamp is before the renewal window opens.");n.nVb=new n(1003,d.default.O.gg,"No master token session data found.");n.lVb=new n(1004,d.default.O.gg,"Master token sequence number is out of range.");n.mVb=new n(1005,d.default.O.gg,"Master token serial number is out of range.");new n(1006,d.default.O.gg,"Invalid master token data.");new n(1007,d.default.O.gg,"Invalid master token signature.");new n(1008,d.default.O.gg,"Invalid master token session data.");new n(1009,d.default.O.gg,"Master token sequence number does not have the expected value.");n.pVb=new n(1010,d.default.O.gg,"No master token data found.");n.qVb=new n(1011,d.default.O.gg,"Error parsing master token data.");n.oVb=new n(1012,d.default.O.gg,"Error parsing master token session data.");new n(1013,d.default.O.gg,"Master token entity identity is revoked.");new n(1014,d.default.O.gg,"Master token is rejected by the application.");new n(1015,d.default.O.fa,"Master token issuer data encoding error.");n.EFa=new n(2E3,d.default.O.Le,"User ID token master token serial number does not match master token serial number.");new n(2001,d.default.O.Le,"User ID token is not decrypted or verified.");n.JZb=new n(2002,d.default.O.Le,"User ID token requires a master token.");n.GZb=new n(2003,d.default.O.Le,"User ID token expiration timestamp is before the renewal window opens.");n.PZb=new n(2004,d.default.O.Le,"No user ID token user data found.");n.IZb=new n(2005,d.default.O.Le,"User ID token is bound to an unknown master token.");n.KZb=new n(2006,d.default.O.Le,"User ID token master token serial number is out of range.");n.LZb=new n(2007,d.default.O.Le,"User ID token serial number is out of range.");new n(2008,d.default.O.Le,"Invalid user ID token data.");new n(2009,d.default.O.Le,"Invalid user ID token signature.");new n(2010,d.default.O.Le,"Invalid user ID token user data.");n.HZb=new n(2011,d.default.O.Le,"Invalid user ID token user identity.");new n(2012,d.default.O.Le,"The entity is not associated with the user.");new n(2013,d.default.O.Le,"The user identity was not found.");new n(2014,d.default.O.Le,"The user identity must be reauthenticated because the password version changed.");n.OZb=new n(2015,d.default.O.Le,"The user ID token and user authentication data user identities do not match.");n.MZb=new n(2016,d.default.O.Le,"No user ID token data found.");n.NZb=new n(2017,d.default.O.Le,"Error parsing user ID token data.");n.QZb=new n(2018,d.default.O.Le,"Error parsing user ID token user data.");new n(2019,d.default.O.Le,"User ID token is revoked.");new n(2020,d.default.O.$c,"User ID token is rejected by the application.");n.wEa=new n(3E3,d.default.O.fa,"Service token master token serial number does not match master token serial number.");n.xEa=new n(3001,d.default.O.fa,"Service token user ID token serial number does not match user ID token serial number.");new n(3002,d.default.O.fa,"Service token data invalid.");n.RYb=new n(3003,d.default.O.fa,"Service token is bound to an unknown master token.");n.TYb=new n(3004,d.default.O.fa,"Service token is bound to an unknown user ID token.");n.SYb=new n(3005,d.default.O.fa,"Service token master token serial number is out of range.");n.UYb=new n(3006,d.default.O.fa,"Service token user ID token serial number is out of range.");new n(3007,d.default.O.fa,"Invalid service token data.");new n(3008,d.default.O.fa,"Invalid service token signature.");n.Rdb=new n(3009,d.default.O.fa,"No service token data found.");n.AZb=new n(4E3,d.default.O.fa,"Unable to identify entity authentication scheme.");n.Zya=new n(4001,d.default.O.fa,"No factory registered for entity authentication scheme.");new n(4002,d.default.O.Uh,"Error parsing X.509 certificate data.");new n(4003,d.default.O.Uh,"Error encoding X.509 certificate data.");new n(4004,d.default.O.Uh,"X.509 certificate verification failed.");new n(4005,d.default.O.fa,"Entity not recognized.");new n(4006,d.default.O.fa,"Entity used incorrect entity authentication data type.");n.yYb=new n(4007,d.default.O.Uh,"RSA public key not found.");new n(4023,d.default.O.fa,"Unsupported entity authentication data.");n.n6a=new n(4025,d.default.O.fa,"Entity is revoked.");new n(4026,d.default.O.Uh,"Entity is rejected by the application.");new n(4028,d.default.O.Uh,"X.509 certificate is expired.");new n(4029,d.default.O.Uh,"X.509 certificate is not yet valid.");new n(4030,d.default.O.Uh,"X.509 certificate is invalid.");n.xYb=new n(4031,d.default.O.Uh,"RSA private key not found.");new n(4032,d.default.O.fa,"Entity authentication data master token is not decrypted or verified.");new n(4033,d.default.O.Uh,"Invalid entity authentication data siganture.");new n(4034,d.default.O.Uh,"Invalid entity authentication data ciphertext.");new n(4035,d.default.O.Uh,"Entity authentication data signature verification failed.");new n(4036,d.default.O.fa,"Invalid entity authentication data master token.");new n(4037,d.default.O.Uh,"ECC public key not found.");new n(4038,d.default.O.Uh,"ECC private key not found.");n.CZb=new n(5003,d.default.O.fa,"Unable to identify user authentication scheme.");n.Ufb=new n(5004,d.default.O.fa,"No factory registered for user authentication scheme.");n.qTb=new n(5005,d.default.O.$c,"Email or password is blank.");n.e6a=new n(5007,d.default.O.$c,"Email or password is incorrect.");n.EZb=new n(5008,d.default.O.fa,"Unsupported user authentication data.");new n(5011,d.default.O.$c,"User authentication data user ID token is invalid.");new n(5013,d.default.O.fa,"Unable to identify user authentication mechanism.");new n(5014,d.default.O.fa,"Unsupported user authentication mechanism.");new n(5016,d.default.O.$c,"User authentication required master token is missing.");new n(5021,d.default.O.$c,"User authentication data user ID token is not decrypted or verified.");new n(5024,d.default.O.$c,"User authentication data master token is invalid.");new n(5025,d.default.O.$c,"User authentication data master token is not decrypted or verified.");new n(5030,d.default.O.$c,"User authentication required user ID token is missing.");new n(5032,d.default.O.$c,"User authentication data does not match entity identity.");new n(5033,d.default.O.fa,"Entity used incorrect user authentication data type.");new n(5037,d.default.O.$c,"User is rejected by the application.");new n(5040,d.default.O.Le,"The entity is not associated with the user.");new n(5041,d.default.O.$c,"Entity and user combination used incorrect user authentication data type.");new n(5042,d.default.O.$c,"User authentication data signature verification failed.");new n(5043,d.default.O.$c,"User ID token could not be checked for revocation.");n.Qfb=new n(6E3,d.default.O.fa,"Unsupported compression algorithm.");n.VRb=new n(6001,d.default.O.fa,"Error compressing data.");n.vZb=new n(6002,d.default.O.fa,"Error uncompressing data.");n.sBa=new n(6003,d.default.O.fa,"Message header entity authentication data or master token not found.");n.OWb=new n(6004,d.default.O.fa,"Payload chunk message ID does not match header message ID .");n.QWb=new n(6005,d.default.O.fa,"Payload chunk sequence number does not match expected sequence number.");n.SWb=new n(6006,d.default.O.fa,"Payload chunk payload signature verification failed.");n.AVb=new n(6007,d.default.O.fa,"No message data found.");new n(6008,d.default.O.fa,"Malformed message data.");n.GVb=new n(6009,d.default.O.fa,"Message header/error data signature verification failed.");n.z7a=new n(6010,d.default.O.fa,"No header data found.");n.NWb=new n(6011,d.default.O.fa,"No payload data found in non-EOM payload chunk.");new n(6012,d.default.O.fa,"Corrupt payload data found in non-EOM payload chunk.");n.Ofb=new n(6013,d.default.O.fa,"Unidentified compression algorithm.");new n(6014,d.default.O.K2,"Message expired and not renewable. Rejected.");n.h$a=new n(6015,d.default.O.fa,"Message ID is out of range.");n.JUb=new n(6016,d.default.O.fa,"Error header internal code is negative.");n.yZb=new n(6017,d.default.O.fa,"Unexpected response message ID. Possible replay.");new n(6018,d.default.O.K3,"Message response requires encryption.");n.RWb=new n(6019,d.default.O.fa,"Payload chunk sequence number is out of range.");n.PWb=new n(6020,d.default.O.fa,"Payload chunk message ID is out of range.");new n(6021,d.default.O.jEa,"Non-replayable message replayed.");n.jUb=new n(6022,d.default.O.fa,"Non-replayable message sent without a master token.");new n(6023,d.default.O.fa,"Invalid Header signature.");new n(6024,d.default.O.fa,"Invalid header data.");new n(6025,d.default.O.fa,"Invalid payload.");new n(6026,d.default.O.fa,"Invalid payload signature.");new n(6027,d.default.O.K3,"Message response requires a master token.");new n(6028,d.default.O.Le,"Message response requires a user ID token.");new n(6029,d.default.O.fa,"User-associated message requires user authentication data.");new n(6030,d.default.O.fa,"Message sender is equal to the local entity or not the master token entity.");n.pWb=new n(6031,d.default.O.fa,"Non-replayable message requires a master token.");n.nab=new n(6032,d.default.O.fa,"Non-replayable message non-replayable ID is out of range.");new n(6033,d.default.O.fa,"Service token master token or user ID token serial number does not match the message token serial numbers.");new n(6034,d.default.O.fa,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers.");new n(6035,d.default.O.K3,"Message response requires integrity protection.");n.WTb=new n(6036,d.default.O.fa,"Handshake message is not renewable or does not contain key request data.");new n(6037,d.default.O.fa,"Message recipient does not match local identity.");n.BVb=new n(6038,d.default.O.Uh,"Message header entity-based signature verification failed.");n.EVb=new n(6039,d.default.O.gg,"Message header master token-based signature verification failed.");new n(6040,d.default.O.gg,"Non-replayable message replayed with a sequence number that is too far out of sync to recover.");new n(6041,d.default.O.fa,"Message sender is equal to the local entity.");n.xZb=new n(6042,d.default.O.fa,"User authentication data included in unencrypted message header.");n.FVb=new n(6043,d.default.O.fa,"Message sender entity identity does not match expected identity.");n.CVb=new n(6044,d.default.O.K2,"Message expired and not renewable. Rejected.");n.DVb=new n(6045,d.default.O.K2,"Message expired and missing key request data. Rejected.");new n(6046,d.default.O.gg,"Master token identity does not match entity authentication data identity.");n.XTb=new n(6047,d.default.O.fa,"Handshake message requires key request data.");n.Pfb=new n(7E3,d.default.O.fa,"Unable to identify key exchange scheme.");n.wAa=new n(7001,d.default.O.fa,"No factory registered for key exchange scheme.");new n(7002,d.default.O.fa,"No key request found matching header key response data.");new n(7003,d.default.O.fa,"Unable to identify key exchange key ID.");new n(7004,d.default.O.fa,"Unsupported key exchange key ID.");n.BZb=new n(7005,d.default.O.fa,"Unable to identify key exchange mechanism.");n.Rfb=new n(7006,d.default.O.fa,"Unsupported key exchange mechanism.");n.X8a=new n(7007,d.default.O.fa,"Key exchange response does not match request.");n.WUb=new n(7008,d.default.O.fa,"Key exchange private key missing.");new n(7009,d.default.O.fa,"Key exchange parameters ID unknown or invalid.");new n(7010,d.default.O.fa,"Master token required for key exchange is missing.");new n(7011,d.default.O.fa,"Key exchange public key is invalid.");new n(7012,d.default.O.fa,"Key exchange public key missing.");new n(7013,d.default.O.fa,"Key exchange wrapping key missing.");new n(7014,d.default.O.fa,"Key exchange wrapping key ID missing.");new n(7015,d.default.O.fa,"Key exchange wrapping key is invalid.");new n(7016,d.default.O.fa,"Entity used incorrect key exchange data type.");new n(7017,d.default.O.fa,"Entity used incorrect key exchange mecahnism.");new n(7018,d.default.O.fa,"Key exchange derivation key missing.");new n(7019,d.default.O.fa,"Key exchange encryption key is invalid.");new n(7020,d.default.O.fa,"Key exchange HMAC key is invalid.");new n(7021,d.default.O.fa,"Key exchange wrap data is invalid.");new n(7022,d.default.O.fa,"Unsupported key exchange scheme.");new n(7023,d.default.O.fa,"Key exchange identity not found.");n.CB=new n(9E3,d.default.O.ar,"Internal exception.");new n(9001,d.default.O.fa,"Error communicating with MSL entity.");n.NONE=new n(9999,d.default.O.fa,"Special unit test error.");return n;})();b["default"]=t;},1966:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(h,f,e){return n.call(this,"MslException",h,f,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},18595:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(h,f,e){var g;g=this.constructor;f=n.call(this,f) || this;g=g.prototype;"undefined" === typeof Object.setPrototypeOf?f.__proto__=g:Object.setPrototypeOf(f,g);f.name=h;f.zc=e;h=f.toString();f.stack && (h+="\n" + f.stack);f.zc && f.zc.stack && (h+="\nCaused by " + f.zc.stack);f.stack=h;return f;}d.__extends(c,n);c.prototype.toString=function(){return this.name + ": " + this.message;};return c;})(Error);b["default"]=t;},10690:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(h,f){return n.call(this,"MslInternalException",h,f) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(18595)).default);b["default"]=t;},25978:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(h,f){return n.call(this,"MslInterruptedException",h,f) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(18595)).default);b["default"]=t;},48795:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(h,f){return n.call(this,"MslIoException",h,f) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(18595)).default);b["default"]=t;},35661:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(h,f,e){return n.call(this,"MslKeyExchangeException",h,f,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},80760:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(h,f){h=n.call(this,"MslMasterTokenException",h) || this;h.ac=f;return h;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},20754:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(h,f,e){return n.call(this,"MslMessageException",h,f,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},88361:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(h,f,e){return n.call(this,"MslUserAuthException",h,f,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},67609:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(h,f,e,g){h=n.call(this,"MslUserIdTokenException",h,e,g) || this;h.cg=f;return h;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},45826:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b["default"]="netflixidentity";},99075:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=d.__importDefault(a(36114));n=d.__importDefault(a(51411));a=(function(c){function h(f,e,g){return c.call(this,1E5 + f,e,g) || this;}d.__extends(h,c);new h(22,n.default.O.fa,"Error parsing ASN.1.");new h(23,n.default.O.fa,"Error encoding ASN.1.");new h(49,n.default.O.fa,"Error parsing XML.");new h(50,n.default.O.fa,"Error encoding XML.");new h(1009,n.default.O.gg,"Master token sequence number does not have the expected value.");new h(1013,n.default.O.gg,"Master token entity identity is revoked.");new h(2013,n.default.O.Le,"The user identity was not found.");new h(2014,n.default.O.Le,"The user identity must be reauthenticated because the password version changed.");new h(2015,n.default.O.fa,"The user ID token MSL user type is incorrect.");new h(2016,n.default.O.Le,"The user ID token MSL user is invalid.");new h(2017,n.default.O.ar,"Error communicating with membership service");new h(2018,n.default.O.$c,"Previous credentials are no longer valid");new h(2019,n.default.O.Le,"The user identity was not found.");new h(2020,n.default.O.Le,"The user identity was not found.");new h(2021,n.default.O.Le,"The user identity was not found.");new h(4005,n.default.O.fa,"Entity not recognized.");new h(4006,n.default.O.fa,"Entity used incorrect entity authentication data type.");new h(4024,n.default.O.fa,"Cryptex RSA key set not found.");h.n6a=new h(4025,n.default.O.fa,"Entity is revoked.");new h(4028,n.default.O.Uh,"Error parsing Anycast challenge.");new h(4029,n.default.O.Uh,"Anycast challenge is not acceptable.");new h(4030,n.default.O.Uh,"X.509 certificates are missing from entity auth.");new h(4031,n.default.O.fa,"Cryptex ECC key set not found.");new h(4032,n.default.O.fa,"Invalid MSL Trust Store found.");new h(4033,n.default.O.fa,"Entity migration is not allowed.");new h(4034,n.default.O.Uh,"FairPlay Streaming key request is invalid.");new h(5E3,n.default.O.$c,"User must login again.");new h(5001,n.default.O.$c,"Netflix ID cookie identity has expired.");h.lWb=new h(5002,n.default.O.$c,"Netflix ID cookie is blank.");new h(5003,n.default.O.$c,"Secure Netflix ID cookie is blank.");new h(5005,n.default.O.ar,"Unknown error communicating with authentication manager.");new h(5006,n.default.O.ar,"Error communicating with authentication manager.");h.e6a=new h(5007,n.default.O.$c,"Email or password is incorrect.");new h(5008,n.default.O.$c,"Password has not been set.");new h(5009,n.default.O.Hha,"SSO token is blank.");new h(5010,n.default.O.$c,"SSO token is not associated with a Netflix user.");new h(5012,n.default.O.$c,"Profile GUID is blank.");new h(5015,n.default.O.Hha,"SSO token invalid.");new h(5017,n.default.O.ar,"Error communicating with the account manager.");new h(5018,n.default.O.ar,"SSO user association failed.");new h(5019,n.default.O.ar,"SSO user disassociation failed.");new h(5020,n.default.O.$c,"MDX user authentication data verification failed.");new h(5022,n.default.O.$c,"MDX user authentication data action is invalid.");new h(5023,n.default.O.$c,"CTicket decryption failed.");new h(5026,n.default.O.$c,"Error creating CTicket crypto context.");new h(5027,n.default.O.$c,"MDX controller or target PIN is blank.");new h(5028,n.default.O.$c,"MDX controller and target PIN mismatch.");new h(5029,n.default.O.$c,"MDX controller user ID token or CTicket is not decrypted or verified.");new h(5031,n.default.O.$c,"MDX controller authentication data is invalid.");new h(5032,n.default.O.$c,"User authentication data does not match entity identity.");new h(5033,n.default.O.fa,"Entity used incorrect user authentication data type.");new h(5034,n.default.O.$c,"SSO user association failed because the customer is not a member.");new h(5035,n.default.O.$c,"SSO user association failed because the customer is a former member.");new h(5036,n.default.O.$c,"SSO user association failed because the token identifies a different member.");new h(5038,n.default.O.$c,"Not permitted to switch to the requested user profile.");new h(5039,n.default.O.ar,"Error communicating with the membership manager.");new h(5040,n.default.O.$c,"No entity association record found for the user.");new h(5041,n.default.O.fa,"The MSL user type is incorrect.");new h(5042,n.default.O.$c,"User entity association record query returned an error.");new h(5043,n.default.O.$c,"User entity association record query returned different entity identities.");new h(5044,n.default.O.$c,"User entity association record is deactivated.");new h(5045,n.default.O.$c,"User entity association record query returned different user identities.");new h(5046,n.default.O.Le,"No entity association record found for the user.");new h(5047,n.default.O.Le,"User entity association record query returned an error.");new h(5048,n.default.O.Le,"User entity association record query returned different entity identities.");new h(5049,n.default.O.Le,"User entity association record is deactivated.");new h(5050,n.default.O.Le,"User entity association record query returned different user identities.");new h(5052,n.default.O.Le,"User entity association record query returned different user identities.");new h(5053,n.default.O.ar,"The maximum number of devices has been reached for this user.");h.nab=new h(6032,n.default.O.fa,"Non-replayable message non-replayable ID is out of range.");new h(7E3,n.default.O.fa,"Invalid key exchange GUID.");new h(7001,n.default.O.ar,"Error communicating with key exchange service");new h(7002,n.default.O.fa,"Identity in challenge doesn't match device identity");new h(7003,n.default.O.fa,"Error returned by key exchange service");new h(7004,n.default.O.fa,"Request rejected by key exchange service");new h(7005,n.default.O.ar,"Internal error encountered during key exchange");new h(7006,n.default.O.fa,"Request failed validation during key exchange");new h(7007,n.default.O.fa,"Request blacklisted by key exchange service");new h(7008,n.default.O.fa,"Request could not be decoded by key exchange service");new h(7009,n.default.O.gg,"Widevine key exchange entity authentication scheme unknown.");new h(7010,n.default.O.gg,"Widevine key exchange issuer data parse error.");new h(7011,n.default.O.gg,"Widevine key exchange identity mismatch between key request data and entity auth data");new h(7012,n.default.O.gg,"Widevine key exchange identity mismatch between key request data and mastertoken");new h(7013,n.default.O.gg,"Widevine key exchange CDM ID mismatch between key request data and previous mastertoken");new h(8E3,n.default.O.fa,"Error encrypting data with cryptex.");new h(8001,n.default.O.fa,"Error decrypting data with cryptex.");new h(8002,n.default.O.fa,"Error computing MAC with cryptex.");new h(8003,n.default.O.fa,"Error verifying MAC or signature with cryptex.");new h(8004,n.default.O.fa,"Error creating cryptex cipher or MAC context.");new h(8005,n.default.O.ar,"Error accessing data model device.");new h(8006,n.default.O.fa,"Data model device type not found.");new h(8007,n.default.O.fa,"Cryptex key set not supported.");new h(8008,n.default.O.fa,"Insufficient privileges for cryptex operation.");new h(8009,n.default.O.fa,"Error wrapping data with cryptex.");new h(8010,n.default.O.fa,"Error unwrapping data with cryptex.");new h(8011,n.default.O.ar,"Error comunicating with cryptex.");new h(8012,n.default.O.fa,"Error computing signature with cryptex.");new h(8013,n.default.O.fa,"Error computing key fingerprint with cryptex.");new h(8014,n.default.O.fa,"Bypassing Error Header Signing.");return h;})(t.default);b["default"]=a;},48603:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.T4a=void 0;d=a(22970).__importDefault(a(10690));t=(function(){function n(){}n.prototype.encrypt=function(c,h,f,e){e.result(c);};n.prototype.decrypt=function(c,h,f){f.result(c);};n.prototype.$H=function(c,h,f,e){e.error(new d.default("Wrap is unsupported by the MSL token crypto context."));};n.prototype.DM=function(c,h,f,e){e.error(new d.default("Unwrap is unsupported by the MSL token crypto context."));};n.prototype.sign=function(c,h,f,e){e.result(new Uint8Array(0));};n.prototype.verify=function(c,h,f,e){e.result(!1);};return n;})();b.T4a=t;},69351:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.S8a=b.D6a=b.Algorithm=void 0;t=a(22970);d=a(96837);n=t.__importDefault(a(10690));c=t.__importDefault(a(42458));h=t.__importDefault(a(36114));f=a(50441);e=a(36911);g=a(42486);k=a(60426);l=t.__importDefault(a(42979));b.Algorithm={IE:d.Me.IE.name,Zea:d.Me.Zea.name};b.D6a={A128GCM:"A128GCM",AVc:"A256GCM"};a=(function(){function m(p,r,q,u,v){switch(r){case b.Algorithm.IE:r=d.Me.IE;v=v && (v.aw || v);u=u && (u.aw || u);break;case b.Algorithm.Zea:r=d.Me.Zea;v=u=u && (u.aw || u);break;default:throw new n.default("Unsupported algorithm: " + r);}this.Sj=p;this.Qib=r;this.B2b=v;this.p2b=u;}m.prototype.encrypt=function(p,r,q,u){u.error(new c.default(h.default.Xya));};m.prototype.decrypt=function(p,r,q){q.error(new c.default(h.default.mya));};m.prototype.$H=function(p,r,q,u){l.default(u,function(){f.Jg.wrapKey("jwe+jwk",p.aw,this.B2b,this.Qib).then(function(v){u.result(new Uint8Array(v));},function(v){u.error(new c.default(h.default.XFa,null,v));});},this);};m.prototype.DM=function(p,r,q,u){function v(w){l.default(u,function(){switch(w.type){case "secret":k.bX(w,u);break;case "public":g.$W(w,u);break;case "private":e.ZW(w,u);break;default:throw new c.default(h.default.BFa,"type: " + w.type);}});}l.default(u,function(){f.Jg.unwrapKey("jwe+jwk",p,this.p2b,this.Qib,r,!1,q).then(function(w){v(w);},function(w){u.error(new c.default(h.default.DFa,null,w));});},this);};m.prototype.sign=function(p,r,q,u){u.error(new c.default(h.default.CEa));};m.prototype.verify=function(p,r,q,u){u.error(new c.default(h.default.NFa));};return m;})();b.S8a=a;},11475:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yk={iEa:"raw",sga:"jwk",AI:"spki",ZU:"pkcs8"};},25881:function(t,b,a){var d,n,c,h,f,e,g,k,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.hWa=b.wLa=b.eWb=b.cf=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(51411));c=d.__importDefault(a(42979));h=a(44127);f=d.__importDefault(a(42458));e=d.__importDefault(a(6838));g=d.__importDefault(a(88257));k=d.__importDefault(a(36114));l=d.__importDefault(a(10690));b.cf={ll:1,Zy:2};m=(function(p){function r(q,u,v){var w,x,y,z,B;w=p.call(this) || this;x=b.cf.ll;y=q;z=null;for(B in n.default.cya)if(n.default.cya[B] == q){x=b.cf.Zy;y=null;z=q;break;}w.version=x;w.qA=y;w.D9b=z;w.iv=u;w.HF=v;return w;}d.__extends(r,p);r.prototype.hn=function(q,u,v){var w;w=this;c.default(v,function(){var x;x=q.ff();switch(w.version){case b.cf.ll:x.put("keyid",w.qA);w.iv && x.put("iv",w.iv);x.put("ciphertext",w.HF);x.put("sha256",h.Yj("AA=="));break;case b.cf.Zy:x.put("version",w.version);x.put("cipherspec",w.D9b);w.iv && x.put("iv",w.iv);x.put("ciphertext",w.HF);break;default:throw new l.default("Ciphertext envelope version " + w.version + " encoding unsupported.");}q.sj(x,u,v);},this);};return r;})(t.ro);b.eWb=m;b.wLa=function(p,r,q,u){c.default(u,function(){return new m(p,r,q);});};b.hWa=function(p,r,q){c.default(q,function(){var u,v,w,x,y;if(!r)try{r=p.kQ("version");u=!1;for(v in b.cf)if(b.cf[v] == r){u=!0;break;}if(!u)throw new f.default(k.default.Nfb,"ciphertext envelope " + p);}catch(z){if(z instanceof e.default)r=b.cf.ll;else throw z;}switch(r){case b.cf.ll:try{w=p.pe("keyid");x=p.has("iv")?p.pd("iv"):null;y=p.pd("ciphertext");p.pd("sha256");}catch(z){if(z instanceof e.default)throw new g.default(k.default.Te,"ciphertext envelope " + p,z);throw z;}break;case b.cf.Zy:try{if(p.kQ("version") != b.cf.Zy)throw new f.default(k.default.Nfb,"ciphertext envelope " + p);w=n.default.cya.$P(p.pe("cipherspec"));if(!w)throw new f.default(k.default.zZb,"ciphertext envelope " + p);x=p.has("iv")?p.pd("iv"):null;y=p.pd("ciphertext");}catch(z){if(z instanceof e.default)throw new g.default(k.default.Te,"ciphertext envelope " + p,z);throw z;}break;default:throw new f.default(k.default.DZb,"ciphertext envelope " + p);}return new m(w,x,y);});};},50441:function(t,b,a){var h,f,e,g,k,l;function d(m){return "undefined" === typeof m?!1:m;}function n(m){if(m && m.length){if(k === b.Ub.dr || k === b.Ub.er)m=m.map(function(p){return "wrap" == p?"wrapKey":"unwrap" == p?"unwrapKey":p;});return m;}return k === b.Ub.dr || k === b.Ub.er?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function c(m){return m.then?m:f.default.create(function(p,r){m.oncomplete=function(q){p(q.target.result);};m.onerror=function(q){r(q);};});}Object.defineProperty(b,"__esModule",{value:!0});b.Jg=b.rMc=b.BQa=b.d_a=b.Ub=void 0;t=a(22970);h=a(11475);f=t.__importDefault(a(90122));e=a(69193);g=t.__importDefault(a(69763));b.Ub={Ms:1,Gw:2,dr:3,er:4,Cw:5,aVb:3};k=b.Ub.aVb;b.d_a=function(m){k=m;};b.BQa=function(){return k;};if("undefined" !== typeof Ca)if(Ca.msCrypto){l=Ca.msCrypto.subtle;k=b.Ub.Ms;}else if(Ca.crypto)if(Ca.crypto.CUc)(l=Ca.crypto.CUc,k=b.Ub.er);else if(Ca.crypto.subtle)l=Ca.crypto.subtle;else throw new ReferenceError("Expected window.crypto.subtle but it was undefined. It may be unavailable if running in an insecure context.");b.rMc=function(m){l=m;};b.Jg={encrypt:function(m,p,r){switch(k){case b.Ub.Ms:case b.Ub.Gw:case b.Ub.dr:case b.Ub.er:case b.Ub.Cw:return (m=l.encrypt(m,p,r),c(m));default:throw Error("Unsupported Web Crypto version " + k + ".");}},decrypt:function(m,p,r){switch(k){case b.Ub.Ms:case b.Ub.Gw:case b.Ub.dr:case b.Ub.er:case b.Ub.Cw:return (m=l.decrypt(m,p,r),c(m));default:throw Error("Unsupported Web Crypto version " + k + ".");}},sign:function(m,p,r){switch(k){case b.Ub.Ms:case b.Ub.Gw:case b.Ub.dr:case b.Ub.er:case b.Ub.Cw:return (m=l.sign(m,p,r),c(m));default:throw Error("Unsupported Web Crypto version " + k + ".");}},verify:function(m,p,r,q){switch(k){case b.Ub.Ms:case b.Ub.Gw:case b.Ub.dr:case b.Ub.er:case b.Ub.Cw:return (m=l.verify(m,p,r,q),c(m));default:throw Error("Unsupported Web Crypto version " + k + ".");}},digest:function(m,p){switch(k){case b.Ub.Ms:case b.Ub.Gw:case b.Ub.dr:case b.Ub.er:case b.Ub.Cw:return (m=l.digest(m,p),c(m));default:throw Error("Unsupported Web Crypto version " + k + ".");}},generateKey:function(m,p,r){p=d(p);r=n(r);switch(k){case b.Ub.Ms:case b.Ub.Gw:case b.Ub.dr:case b.Ub.er:case b.Ub.Cw:return (m=l.generateKey(m,p,r),c(m));default:throw Error("Unsupported Web Crypto version " + k + ".");}},deriveKey:function(m,p,r,q,u){q=d(q);u=n(u);switch(k){case b.Ub.Ms:case b.Ub.Gw:case b.Ub.dr:case b.Ub.er:case b.Ub.Cw:return (m=l.deriveKey(m,p,r,q,u),c(m));default:throw Error("Unsupported Web Crypto version " + k + ".");}},deriveBits:function(m,p,r){switch(k){case b.Ub.Ms:case b.Ub.Gw:case b.Ub.dr:case b.Ub.er:case b.Ub.Cw:return (m=l.deriveBits(m,p,r),c(m));default:throw Error("Unsupported Web Crypto version " + k + ".");}},importKey:function(m,p,r,q,u){var v;q=d(q);u=n(u);switch(k){case b.Ub.Ms:case b.Ub.Gw:case b.Ub.dr:case b.Ub.Cw:return (r=l.importKey(m,p,r,q,u),c(r));case b.Ub.er:if(m == h.yk.AI || m == h.yk.ZU){m=g.default.SPb(r);v=g.default.TPb(u);p=g.default.VIb(p,m,v,q);if(!p)throw Error("Could not make valid JWK from DER input");p=JSON.stringify(p);r=l.importKey(h.yk.sga,e.LB.pd(p),r,q,u);}else r=l.importKey(m,p,r,q,u);return c(r);default:throw Error("Unsupported Web Crypto version " + k + ".");}},exportKey:function(m,p){switch(k){case b.Ub.Ms:case b.Ub.Gw:case b.Ub.dr:case b.Ub.Cw:return (m=l.exportKey(m,p),c(m));case b.Ub.er:if(m == h.yk.AI || m == h.yk.ZU)return (m=l.exportKey(h.yk.sga,p),c(m).then(function(r){r=JSON.parse(e.LB.pe(new Uint8Array(r)));r=g.default.ezb(r);if(!r)throw Error("Could not make valid DER from JWK input");return r.N7.buffer;}));m=l.exportKey(m,p);return c(m);default:throw Error("Unsupported Web Crypto version " + k + ".");}},wrapKey:function(m,p,r,q){switch(k){case b.Ub.Ms:case b.Ub.Cw:m=l.wrapKey(p,r,q);break;case b.Ub.Gw:case b.Ub.dr:case b.Ub.er:m=l.wrapKey(m,p,r,q);break;default:throw Error("Unsupported Web Crypto version " + k + ".");}return c(m);},unwrapKey:function(m,p,r,q,u,v,w){switch(k){case b.Ub.Ms:m=l.unwrapKey(p,u,r);break;case b.Ub.Gw:case b.Ub.dr:case b.Ub.er:case b.Ub.Cw:v=d(v);w=n(w);m=l.unwrapKey(m,p,r,q,u,v,w);break;default:throw Error("Unsupported Web Crypto version " + k + ".");}return c(m);}};},75007:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.iWa=b.xLa=b.hWb=b.cf=void 0;t=a(22970);d=t.__importDefault(a(42979));n=t.__importDefault(a(10690));c=t.__importDefault(a(42458));h=t.__importDefault(a(51411));f=t.__importDefault(a(6838));e=t.__importDefault(a(88257));g=t.__importDefault(a(36114));k=a(44127);b.cf={ll:1,Zy:2};l=(function(){function m(p,r,q){this.version=p;this.algorithm=r;this.nda=q;}m.prototype.pd=function(p,r,q){var u;u=this;d.default(q,function(){var v;switch(u.version){case b.cf.ll:return u.nda;case b.cf.Zy:v=p.ff();v.put("version",u.version);v.put("algorithm",u.algorithm);v.put("signature",u.nda);p.sj(v,r,q);break;default:throw new n.default("Signature envelope version " + u.version + " encoding unsupported.");}});};return m;})();b.hWb=l;b.xLa=function(){var m,p,r,q;if(2 == arguments.length)(m=b.cf.ll,p=arguments[0],r=null,q=arguments[1]);else 3 == arguments.length && (m=b.cf.Zy,r=arguments[0],p=arguments[1],q=arguments[2]);d.default(q,function(){return new l(m,r,p);});};b.iWa=function(m,p,r,q){d.default(q,function(){var u,v,w,x,y;if(p)switch(p){case b.cf.ll:return new l(b.cf.ll,null,m);case b.cf.Zy:try{u=r.hp(m);v=u.kQ("version");if(b.cf.Zy != v)throw new c.default(g.default.CFa,"signature envelope " + m);w=h.default.C4.$P(u.pe("algorithm"));if(!w)throw new c.default(g.default.AFa,"signature envelope " + m);x=u.pd("signature");return new l(b.cf.Zy,w,x);}catch(B){if(B instanceof f.default)throw new e.default(g.default.Te,"signature envelope " + m,B);throw B;}default:throw new c.default(g.default.CFa,"signature envelope " + k.bi(m));}try{u=r.hp(m);}catch(B){if(B instanceof f.default)u=null;else throw B;}if(u && u.has("version"))try{y=u.kQ("version");y !== y && (y=b.cf.ll);v=!1;for(var z in b.cf)if(b.cf[z] == y){v=!0;break;}v || (y=b.cf.ll);}catch(B){B instanceof f.default && (y=b.cf.ll);}else y=b.cf.ll;switch(y){case b.cf.ll:return new l(y,null,m);case b.cf.Zy:try{return (w=h.default.C4.$P(u.pe("algorithm")),x=u.pd("signature"),w?new l(y,w,x):new l(b.cf.ll,null,m));}catch(B){if(B instanceof f.default)return new l(b.cf.ll,null,m);throw B;}default:throw new c.default(g.default.CFa,"signature envelope " + m);}});};},97962:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kab=void 0;t=(function(){function a(){}a.prototype.encrypt=function(d,n,c,h){h.result(d);};a.prototype.decrypt=function(d,n,c){c.result(d);};a.prototype.$H=function(d,n,c,h){h.result(d);};a.prototype.DM=function(d,n,c,h){h.result(d);};a.prototype.sign=function(d,n,c,h){h.result(new Uint8Array(0));};a.prototype.verify=function(d,n,c,h){h.result(!0);};return a;})();b.Kab=t;},36911:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m){if(m == f.yk.ZU){if(l instanceof Uint8Array)return l;if("string" === typeof l)try{return g.Yj(l);}catch(p){throw new c.default(e.default.EU,m + " " + l,p);}throw new c.default(e.default.EU,m + " " + l);}if(m == f.yk.sga){if("string" === typeof l)try{l=JSON.parse(l);}catch(p){throw new c.default(e.default.EU,m + " " + l,p);}if("object" === typeof l && l.constructor === Object)return l;throw new c.default(e.default.EU,m + " " + l);}throw new c.default(e.default.EU,"Invalid format '" + m + "'");}Object.defineProperty(b,"__esModule",{value:!0});b.psc=b.ZW=b.fdb=void 0;t=a(22970);n=t.__importDefault(a(42979));c=t.__importDefault(a(42458));h=a(50441);f=a(11475);e=t.__importDefault(a(36114));g=a(44127);k=(function(){function l(m,p,r){var u;function q(v){n.default(p,function(){u.aw=m;u.eNa=v;return u;});}u=this;n.default(p,function(){if("object" !== typeof m || "private" != m.type)throw new TypeError("Only original private crypto keys are supported.");!r && m.extractable?h.Jg.exportKey(f.yk.ZU,m).then(function(v){q(new Uint8Array(v));},function(v){p.error(new c.default(e.default.yAa,f.yk.ZU,v));}):q(r);});}l.prototype.DC=function(){return this.eNa;};return l;})();b.fdb=k;b.ZW=function(l,m){new k(l,m);};b.psc=function(l,m,p,r,q){n.default(q,function(){var u;u=d(l,r);h.Jg.importKey(r,u,m,!0,p).then(function(v){new k(v,q,u);},function(v){q.error(new c.default(e.default.EU,null,v));});});};},42486:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m){if(m == f.yk.AI){if(l instanceof Uint8Array)return l;if("string" === typeof l)try{return g.Yj(l);}catch(p){throw new c.default(h.default.pN,m + " " + l,p);}throw new c.default(h.default.pN,m + " " + l);}if(m == f.yk.sga){if("string" === typeof l)try{l=JSON.parse(l);}catch(p){throw new c.default(h.default.pN,m + " " + l,p);}if("object" === typeof l && l.constructor === Object)return l;throw new c.default(h.default.pN,m + " " + l);}throw new c.default(h.default.pN,"Invalid format '" + m + "'");}Object.defineProperty(b,"__esModule",{value:!0});b.oRa=b.$W=b.nha=void 0;t=a(22970);n=t.__importDefault(a(42979));c=t.__importDefault(a(42458));h=t.__importDefault(a(36114));f=a(11475);e=a(50441);g=a(44127);k=(function(){function l(m,p,r){var u;function q(v){n.default(p,function(){u.aw=m;u.eNa=v;return u;});}u=this;n.default(p,function(){if("object" !== typeof m || "public" != m.type)throw new TypeError("Only original public crypto keys are supported.");!r && m.extractable?e.Jg.exportKey(f.yk.AI,m).then(function(v){q(new Uint8Array(v));},function(v){p.error(new c.default(h.default.yAa,f.yk.AI,v));}):q(r);});}l.prototype.DC=function(){return this.eNa;};return l;})();b.nha=k;b.$W=function(l,m){new k(l,m);};b.oRa=function(l,m,p,r,q){n.default(q,function(){var u;u=d(l,r);e.Jg.importKey(r,u,m,!0,p).then(function(v){new k(v,q,u);},function(v){q.error(new c.default(h.default.pN,null,v));});});};},33863:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.Eha=b.DE=void 0;t=a(22970);d=a(96837);n=t.__importDefault(a(42979));c=t.__importDefault(a(42458));h=t.__importDefault(a(6838));f=t.__importDefault(a(36114));e=a(50441);g=a(75007);k=a(60426);l=a(42486);m=a(36911);p=t.__importDefault(a(88257));r=a(25881);q=a(32260);b.DE={yTb:1,zTb:2,vgb:3,wgb:4,kV:5};a=(function(){function u(v,w,x,y,z){var B;x && (x=x.aw);y && (y=y.aw);v=z == b.DE.zTb?d.Me.vha:z == b.DE.yTb?d.Me.IE:"nullOp";B=z == b.DE.wgb?d.Me.vha:z == b.DE.vgb?d.Me.IE:"nullOp";z=z == b.DE.kV?d.Me.t4:"nullOp";this.id=w;this.privateKey=x;this.publicKey=y;this.transform=v;this.ywa=B;this.Sja=z;}u.prototype.encrypt=function(v,w,x,y){var z;z=this;n.default(y,function(){if("nullOp" == z.transform)return v;if(!z.publicKey)throw new c.default(f.default.Xya,"no public key");if(0 == v.length)return v;e.Jg.encrypt(z.transform,z.publicKey,v).then(function(B){r.wLa(z.id,null,new Uint8Array(B),{result:function(A){A.hn(w,x,{result:y.result,error:function(C){C instanceof h.default && (C=new c.default(f.default.xfa,null,C));y.error(C);}});},error:function(A){q.zd(A) || (A=new c.default(f.default.Wfa,null,A));y.error(A);}});},function(B){y.error(new c.default(f.default.Wfa,null,B));});});};u.prototype.decrypt=function(v,w,x){var y;y=this;n.default(x,function(){var z;if("nullOp" == y.transform)return v;if(!y.privateKey)throw new c.default(f.default.mya,"no private key");if(0 == v.length)return v;try{z=w.hp(v);}catch(B){if(B instanceof h.default)throw new c.default(f.default.x4a,null,B);throw new c.default(f.default.gI,null,B);}r.hWa(z,g.cf.ll,{result:function(B){try{e.Jg.decrypt(y.transform,y.privateKey,B.HF).then(function(A){x.result(new Uint8Array(A));},function(A){x.error(new c.default(f.default.gI,null,A));});}catch(A){q.zd(A)?x.error(A):x.error(new c.default(f.default.gI,null,A));}},error:function(B){B instanceof p.default && (B=new c.default(f.default.xfa,null,B));q.zd(B) || (B=new c.default(f.default.gI,null,B));x.error(B);}});});};u.prototype.$H=function(v,w,x,y){var z;z=this;n.default(y,function(){if("nullOp" == z.ywa || !z.publicKey)throw new c.default(f.default.ugb,"no public key");e.Jg.wrapKey("jwk",v.aw,z.publicKey,z.ywa).then(function(B){y.result(new Uint8Array(B));},function(B){y.error(new c.default(f.default.XFa,null,B));});});};u.prototype.DM=function(v,w,x,y){var B;function z(A){n.default(y,function(){switch(A.type){case "secret":k.bX(A,y);break;case "public":l.$W(A,y);break;case "private":m.ZW(A,y);break;default:throw new c.default(f.default.BFa,"type: " + A.type);}});}B=this;n.default(y,function(){if("nullOp" == B.ywa || !B.privateKey)throw new c.default(f.default.Sfb,"no private key");e.Jg.unwrapKey("jwk",v,B.privateKey,B.ywa,w,!1,x).then(z,function(A){y.error(new c.default(f.default.DFa,null,A));});});};u.prototype.sign=function(v,w,x,y){var z;z=this;n.default(y,function(){if("nullOp" == z.Sja)return new Uint8Array(0);if(!z.privateKey)throw new c.default(f.default.CEa,"no private key");e.Jg.sign(z.Sja,z.privateKey,v).then(function(B){g.xLa(new Uint8Array(B),{result:function(A){A.pd(w,x,{result:y.result,error:function(C){C instanceof h.default && (C=new c.default(f.default.Tdb,void 0,C));y.error(C);}});},error:y.error});},function(B){y.error(new c.default(f.default.Udb,void 0,B));});});};u.prototype.verify=function(v,w,x,y){var z;z=this;n.default(y,function(){if("nullOp" == z.Sja)return !0;if(!z.publicKey)throw new c.default(f.default.NFa,"no public key");g.iWa(w,g.cf.ll,x,{result:function(B){n.default(y,function(){var A;A=y.result;e.Jg.verify(z.Sja,z.publicKey,B.nda,v).then(A,function(C){y.error(new c.default(f.default.Udb,void 0,C));});});},error:y.error});});};return u;})();b.Eha=a;},60426:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperty(b,"__esModule",{value:!0});b.pRa=b.bX=b.MEa=void 0;t=a(22970);d=t.__importDefault(a(42979));n=t.__importDefault(a(42458));c=t.__importDefault(a(36114));h=a(50441);f=a(11475);e=a(44127);g=(function(){function k(l,m,p){var q;function r(u){d.default(m,function(){var v;v=u?e.bi(u):void 0;q.algorithm=l.algorithm;q.aw=l;q.NSa=u;q.f7c=v;return q;});}q=this;d.default(m,function(){if("object" !== typeof l)throw new n.default(c.default.eAa);!p && l.extractable?h.Jg.exportKey(f.yk.iEa,l).then(function(u){r(new Uint8Array(u));},function(u){m.error(new n.default(c.default.yAa,f.yk.iEa,u));}):r(p);});}k.prototype.size=function(){return this.NSa.length;};k.prototype.r1=function(){return this.NSa;};k.prototype.DC=function(){return this.NSa;};return k;})();b.MEa=g;b.bX=function(k,l){new g(k,l);};b.pRa=function(k,l,m,p){d.default(p,function(){try{k="string" === typeof k?e.Yj(k):k;}catch(r){throw new n.default(c.default.eAa,"keydata " + k,r);}h.Jg.importKey(f.yk.iEa,k,l,!0,m).then(function(r){new g(r,p,k);},function(r){p.error(new n.default(c.default.eAa,null,r));});});};},43088:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.B4=void 0;d=a(22970);t=a(72672);n=d.__importDefault(a(80760));c=d.__importDefault(a(36114));a=(function(h){function f(e,g,k,l,m){if(void 0 !== k || l || m)e=h.call(this,e,k?k + "_" + g.Kj:"" + g.Kj,l,m,null) || this;else {if(!g.q$())throw new n.default(c.default.e$a,g);e=h.call(this,e,g.Ft + "_" + g.Kj,g.mv,g.EH,null) || this;}return e;}d.__extends(f,h);return f;})(t.jFa);b.B4=a;},72672:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.jFa=void 0;t=a(22970);d=t.__importDefault(a(42979));n=t.__importDefault(a(42458));c=t.__importDefault(a(36114));h=a(25881);f=t.__importDefault(a(6838));e=a(50441);g=a(96837);k=t.__importDefault(a(88257));l=a(60426);m=a(42486);p=a(36911);r=a(75007);q=a(32260);a=(function(){function u(v,w,x,y,z){this.$j=v;this.id=w;this.mv=null === x || void 0 === x?void 0:x.aw;this.EH=null === y || void 0 === y?void 0:y.aw;this.wrapKey=null === z || void 0 === z?void 0:z.aw;}u.prototype.encrypt=function(v,w,x,y){var z;z=this;d.default(y,function(){var B;if(!z.mv)throw new n.default(c.default.Xya,"no encryption/decryption key");if(0 == v.length)return v;B=new Uint8Array(16);z.$j.rvb().yAc(B);e.Jg.encrypt({name:g.Me.OM.name,iv:B},z.mv,v).then(function(A){h.wLa(z.id,B,new Uint8Array(A),{result:function(C){C.hn(w,x,{result:y.result,error:function(D){D instanceof f.default && (D=new n.default(c.default.xfa,null,D));y.error(D);}});},error:function(C){q.zd(C) || (C=new n.default(c.default.Wfa,null,C));y.error(C);}});},function(A){y.error(new n.default(c.default.Wfa,null,A));});});};u.prototype.decrypt=function(v,w,x){var y;y=this;d.default(x,function(){var z;if(!y.mv)throw new n.default(c.default.mya,"no encryption/decryption key");if(0 == v.length)return v;try{z=w.hp(v);}catch(B){if(B instanceof f.default)throw new n.default(c.default.x4a,null,B);throw new n.default(c.default.gI,null,B);}h.hWa(z,h.cf.ll,{result:function(B){try{e.Jg.decrypt({name:g.Me.OM.name,iv:B.iv},y.mv,B.HF).then(function(A){x.result(new Uint8Array(A));},function(A){x.error(new n.default(c.default.gI,null,A));});}catch(A){q.zd(A)?x.error(A):x.error(new n.default(c.default.gI,null,A));}},error:function(B){B instanceof k.default && (B=new n.default(c.default.xfa,null,B));q.zd(B) || (B=new n.default(c.default.gI,null,B));x.error(B);}});});};u.prototype.$H=function(v,w,x,y){var z;z=this;d.default(y,function(){if(!z.wrapKey)throw new n.default(c.default.ugb,"no wrap/unwrap key");e.Jg.wrapKey("raw",v.aw,z.wrapKey,z.wrapKey.algorithm).then(function(B){y.result(new Uint8Array(B));},function(B){y.error(new n.default(c.default.XFa,null,B));});});};u.prototype.DM=function(v,w,x,y){var B;function z(A){d.default(y,function(){switch(A.type){case "secret":l.bX(A,y);break;case "public":m.$W(A,y);break;case "private":p.ZW(A,y);break;default:throw new n.default(c.default.BFa,"type: " + A.type);}});}B=this;d.default(y,function(){if(!B.wrapKey)throw new n.default(c.default.Sfb,"no wrap/unwrap key");e.Jg.unwrapKey("raw",v,B.wrapKey,B.wrapKey.algorithm,w,!1,x).then(function(A){z(A);},function(A){y.error(new n.default(c.default.DFa,null,A));});},this);};u.prototype.sign=function(v,w,x,y){var z;z=this;d.default(y,function(){if(!z.EH)throw new n.default(c.default.CEa,"no signature key.");e.Jg.sign(z.EH.algorithm,z.EH,v).then(function(B){d.default(y,function(){r.xLa(new Uint8Array(B),{result:function(A){A.pd(w,x,{result:y.result,error:function(C){d.default(y,function(){C instanceof f.default && (C=new n.default(c.default.Tdb,void 0,C));y.error(C);});}});},error:y.error});});},function(B){y.error(new n.default(c.default.gga,null,B));});});};u.prototype.verify=function(v,w,x,y){var z;z=this;d.default(y,function(){if(!z.EH)throw new n.default(c.default.NFa,"no signature key.");r.iWa(w,r.cf.ll,x,{result:function(B){d.default(y,function(){var A;A=y.result;e.Jg.verify(z.EH.algorithm,z.EH,B.nda,v).then(A,function(C){y.error(new n.default(c.default.gga,void 0,C));});});},error:y.error});});};return u;})();b.jFa=a;},96837:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gtc=b.wuc=b.Xtc=b.Me=void 0;b.Me={Zea:{name:"AES-KW"},OM:{name:"AES-CBC"},oTb:{name:"ECDH"},ASb:{name:"DH"},DU:{name:"HMAC",hash:{name:"SHA-256"}},IE:{name:"RSA-OAEP",hash:{name:"SHA-1"}},vha:{name:"RSAES-PKCS1-v1_5"},vYb:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}},n2a:{name:"AES-CMAC"},pTb:{name:"ECDSA",hash:{name:"SHA-256"}},wYb:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}},t4:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},IVc:{name:"NFLX-DH"},V_c:{name:"SHA-256"},W_c:{name:"SHA-384"}};b.Xtc=function(a){return "HMAC" == a.name;};b.wuc=function(a){switch(a.name){case b.Me.IE.name:case b.Me.vha.name:case b.Me.vYb.name:case b.Me.wYb.name:case b.Me.t4.name:return !0;default:return !1;}};b.Gtc=function(a){switch(a.name){case b.Me.oTb.name:case b.Me.pTb.name:return !0;default:return !1;}};},10558:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.RE={Vfa:["encrypt","decrypt"],MXc:["encrypt"],UWc:["decrypt"],h1c:["wrap","unwrap"],WFa:["wrap"],U0c:["unwrap"],kV:["sign","verify"],X_c:["sign"],b1c:["verify"],WWc:["deriveKey"]};},58768:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.KEb=b.L2=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(42979));c=d.__importDefault(a(24571));h=d.__importDefault(a(36114));f=d.__importDefault(a(6838));e=d.__importDefault(a(88257));a=(function(g){function k(l){var m;m=g.call(this) || this;m.scheme=l;m.encodings={};return m;}d.__extends(k,g);k.prototype.equals=function(l){return this === l?!0:l instanceof k?this.scheme == l.scheme:!1;};k.prototype.hn=function(l,m,p){var r;r=this;n.default(p,function(){if(r.encodings[m])return r.encodings[m];r.eQ(l,{result:function(q){n.default(p,function(){var u;u=l.ff();u.put("scheme",r.scheme.name);u.put("authdata",q);l.sj(u,m,{result:function(v){n.default(p,function(){return r.encodings[m]=v;});},error:p.error});});},error:p.error});});};return k;})(t.ro);b.L2=a;b.KEb=function(g,k,l){n.default(l,function(){var m,p,r,q;try{m=k.pe("scheme");p=k.lq("authdata",g.wg);r=g.Qmc(m);if(!r)throw new c.default(h.default.AZb,m);q=g.Cna(r);if(!q)throw new c.default(h.default.Zya,r.name);q.q7(p,l);}catch(u){if(u instanceof f.default)throw new e.default(h.default.Te,"entityauthdata " + k,u);throw u;}});};},80477:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lza=void 0;b.lza=(function(){return function(a){this.scheme=a;};})();},36332:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tE=void 0;t=(function(){function a(d,n,c){this.name=d;this.xma=n;this.KGb=c;a.$A[d]=this;}a.prototype.toString=function(){return this.name;};a.A9=function(d){return a.$A[d]?a.$A[d]:null;};a.$A={};return a;})();b["default"]=t;b.tE={ubb:new t("PSK",!0,!0),TXb:new t("PSK_PROFILE",!0,!0),j1c:new t("X509",!1,!0),gV:new t("RSA",!1,!0),nTb:new t("ECC",!1,!0),NONE:new t("NONE",!1,!1),oWb:new t("NONE_SUFFIXED",!1,!1),kZc:new t("MT_PROTECTED",!1,!1),s_c:new t("PROVISIONED",!1,!1),IVb:new t("MIGRATION",!1,!1)};},75563:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperty(b,"__esModule",{value:!0});b.hEc=b.lYb=void 0;d=a(22970);t=a(58768);n=a(36332);c=d.__importDefault(a(42979));h=d.__importDefault(a(6838));f=d.__importDefault(a(88257));e=d.__importDefault(a(36114));g=(function(k){function l(m,p){var r;r=k.call(this,n.tE.TXb) || this;r.gta=m;r.profile=p;return r;}d.__extends(l,k);l.prototype.Uz=function(){return this.gta + "-" + this.profile;};l.prototype.eQ=function(m,p){var r;r=this;c.default(p,function(){var q;q=m.ff();q.put("pskid",r.gta);q.put("profile",r.profile);return q;});};l.prototype.equals=function(m){return this === m?!0:m instanceof l?k.prototype.equals.call(this,m) && this.gta == m.gta && this.profile == m.profile:!1;};return l;})(t.L2);b.lYb=g;b.hEc=function(k){var l,m;try{l=k.pe("pskid");m=k.pe("profile");return new g(l,m);}catch(p){if(p instanceof h.default)throw new f.default(e.default.Te,"psk profile authdata " + k);throw p;}};},90973:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperty(b,"__esModule",{value:!0});b.VEb=b.Ldb=void 0;d=a(22970);t=a(58768);n=a(36332);c=d.__importDefault(a(42979));h=d.__importDefault(a(6838));f=d.__importDefault(a(88257));e=d.__importDefault(a(36114));g=(function(k){function l(m,p){var r;r=k.call(this,n.tE.gV) || this;r.Ft=m;r.vta=p;return r;}d.__extends(l,k);l.prototype.Uz=function(){return this.Ft;};l.prototype.eQ=function(m,p){var r;r=this;c.default(p,function(){var q;q=m.ff();q.put("identity",r.Ft);q.put("pubkeyid",r.vta);return q;});};l.prototype.equals=function(m){return this === m?!0:m instanceof l?k.prototype.equals.call(this,m) && this.Ft == m.Ft && this.vta == m.vta:!1;};return l;})(t.L2);b.Ldb=g;b.VEb=function(k){var l,m;try{l=k.pe("identity");m=k.pe("pubkeyid");return new g(l,m);}catch(p){if(p instanceof h.default)throw new f.default(e.default.Te,"RSA authdata" + k);throw p;}};},18089:function(t,b,a){var d,n,c,h,f,e,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.Mdb=void 0;d=a(22970);t=a(80477);n=a(36332);c=d.__importDefault(a(42979));h=a(90973);f=d.__importDefault(a(10690));e=d.__importDefault(a(24571));g=d.__importDefault(a(36114));k=a(33863);a=(function(l){function m(p,r){var q;q=l.call(this,n.tE.gV) || this;q.Jt=p;q.store=r;return q;}d.__extends(m,l);m.prototype.q7=function(p,r){c.default(r,function(){return h.VEb(p);});};m.prototype.Rz=function(p,r){var q,u,v,w;if(!(r instanceof h.Ldb))throw new f.default("Incorrect authentication data type " + r + ".");q=r.Ft;u=r.vta;v=this.store.pvb(u);w=this.store.Yoc(u);if(u == this.Jt && !w)throw new e.default(g.default.xYb,u).Nf(r);if(u != this.Jt && !v)throw new e.default(g.default.yYb,u).Nf(r);return new k.Eha(p,q,w,v,k.DE.kV);};return m;})(t.lza);b.Mdb=a;},88774:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ndb=void 0;t=a(22970);d=a(42486);a(36911);n=t.__importDefault(a(10690));t.__importDefault(a(32260));a=(function(){function c(){this.zXa={};this.vGb={};}c.prototype.J3b=function(h,f){if(!(f instanceof d.nha))throw new n.default("Incorrect key data type " + f + ".");this.zXa[h]=f;};c.prototype.pvb=function(h){return this.zXa[h];};c.prototype.Yoc=function(h){return this.vGb[h];};c.prototype.clear=function(){this.zXa={};this.vGb={};};return c;})();b.Ndb=a;},2479:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperty(b,"__esModule",{value:!0});b.ZEb=b.FFa=void 0;d=a(22970);t=a(58768);n=a(36332);c=d.__importDefault(a(42979));h=d.__importDefault(a(6838));f=d.__importDefault(a(88257));e=d.__importDefault(a(36114));g=(function(k){function l(m){var p;p=k.call(this,n.tE.NONE) || this;p.Ft=m;return p;}d.__extends(l,k);l.prototype.Uz=function(){return this.Ft;};l.prototype.eQ=function(m,p){var r;r=this;c.default(p,function(){var q;q=m.ff();q.put("identity",r.Ft);return q;});};l.prototype.equals=function(m){return this === m?!0:m instanceof l?k.prototype.equals.call(this,m) && this.Ft == m.Ft:!1;};return l;})(t.L2);b.FFa=g;b.ZEb=function(k){var l;try{l=k.pe("identity");return new g(l);}catch(m){if(m instanceof h.default)throw new f.default(e.default.Te,"Unauthenticated authdata" + k);throw m;}};},28296:function(t,b,a){var d,n,c,h,f,e,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.Vfb=void 0;d=a(22970);t=a(80477);n=a(36332);c=d.__importDefault(a(42979));h=a(2479);f=d.__importDefault(a(24571));e=d.__importDefault(a(36114));g=d.__importDefault(a(10690));k=a(97962);a=(function(l){function m(p){var r;r=l.call(this,n.tE.NONE) || this;r.alb=p;return r;}d.__extends(m,l);m.prototype.q7=function(p,r){c.default(r,function(){return h.ZEb(p);});};m.prototype.Rz=function(p,r){if(!(r instanceof h.FFa))throw new g.default("Incorrect authentication data type " + r + ".");p=r.Uz();if(this.alb.Ktc(p))throw new f.default(e.default.n6a,"none " + p).Nf(r);return new k.Kab();};return m;})(t.lza);b.Vfb=a;},66734:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperty(b,"__esModule",{value:!0});b.vEc=b.RZb=void 0;d=a(22970);t=a(58768);n=a(36332);c=d.__importDefault(a(42979));h=d.__importDefault(a(6838));f=d.__importDefault(a(88257));e=d.__importDefault(a(36114));g=(function(k){function l(m,p){var r;r=k.call(this,n.tE.oWb) || this;r.root=m;r.qva=p;return r;}d.__extends(l,k);l.prototype.Uz=function(){return this.root + "." + this.qva;};l.prototype.eQ=function(m,p){var r;r=this;c.default(p,function(){var q;q=m.ff();q.put("root",r.root);q.put("suffix",r.qva);return q;});};l.prototype.equals=function(m){return this === m?!0:m instanceof l?k.prototype.equals.call(this,m) && this.root == m.root && this.qva == m.qva:!1;};return l;})(t.L2);b.RZb=g;b.vEc=function(k){var l,m;try{l=k.pe("root");m=k.pe("suffix");return new g(l,m);}catch(p){if(p instanceof h.default)throw new f.default(e.default.Te,"Unauthenticated suffixed authdata" + k);throw p;}};},83853:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});b.KRb=void 0;d=a(22970);t=a(53389);n=a(25078);c=d.__importDefault(a(48795));h=d.__importDefault(a(79804));a=(function(f){function e(g){var k;k=f.call(this) || this;k.Us=g;k.Pb=null;k.vn=0;k.Hu=-1;k.ml=!1;return k;}d.__extends(e,f);e.prototype.abort=function(){this.Us.abort();};e.prototype.close=function(g,k){this.ml=!0;this.Us.close(g,k);};e.prototype.mark=function(g){var k;if(!this.Pb)(this.Pb=new n.rfa(),this.vn=0);else if(0 < this.vn){k=this.Pb.r1();this.Pb=new n.rfa();this.Pb.write(k,this.vn,k.length - this.vn,-1,{result:function(){},error:function(){}});this.vn=0;}this.Hu=g;};e.prototype.reset=function(){if(!this.Pb)throw new c.default("Cannot reset before input stream has been marked or if mark has been invalidated.");this.vn=0;};e.prototype.read=function(g,k,l){var p;function m(r,q){var u;if(!q)return r;p.Pb && (-1 != p.Hu && p.Pb.size() + q.length > p.Hu?(p.Pb=null,p.vn=0,p.Hu=-1):(p.Pb.write(q,0,q.length,-1,{result:function(){},error:function(){}}),p.vn+=q.length));if(!r)return q;u=new Uint8Array(r.length + q.length);u.set(r);u.set(q,r.length);return u;}p=this;h.default(l,function(){var r,q;if(p.ml)throw new c.default("Stream is already closed.");if(p.Pb && p.Pb.size() > p.vn){r=void 0;r=-1 == g?p.Pb.size():Math.min(p.Pb.size(),p.vn + g);q=p.Pb.r1().subarray(p.vn,r);p.vn+=q.length;if(q.length >= g)return q;}else q=null;r=-1;-1 != g && (r=g - (q?q.length:0));p.Us.read(r,k,{result:function(u){h.default(l,function(){return m(q,u);});},timeout:function(u){h.default(l,function(){var v;v=m(q,u);l.timeout(v);});},error:l.error});});};e.prototype.skip=function(g,k,l){var m;m=this;h.default(l,function(){var p;if(m.ml)throw new c.default("Stream is already closed.");p=0;if(m.Pb && m.Pb.size() > m.vn && (p=Math.min(g,m.Pb.size() - m.vn),m.vn+=p,p == g))return p;m.read(g - p,k,{result:function(r){h.default(l,function(){return r?r.length + p:p;});},timeout:function(r){h.default(l,function(){return r?r.length + p:p;});},error:l.error});});};return e;})(t.qga);b.KRb=a;},99881:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.q4a=void 0;d=a(22970);t=a(53389);n=d.__importDefault(a(79804));c=d.__importDefault(a(48795));a=(function(h){function f(e){var g;g=h.call(this) || this;g.Tj=e;g.ml=!1;g.Kw=0;g.ZGa=-1;return g;}d.__extends(f,h);f.prototype.abort=function(){};f.prototype.close=function(e,g){var k;k=this;n.default(g,function(){return k.ml=!0;});};f.prototype.mark=function(){this.ZGa=this.Kw;};f.prototype.reset=function(){if(-1 == this.ZGa)throw new c.default("Cannot reset before input stream has been marked or if mark has been invalidated.");this.Kw=this.ZGa;};f.prototype.read=function(e,g,k){var l;l=this;n.default(k,function(){var m;if(l.ml)throw new c.default("Stream is already closed.");if(l.Kw == l.Tj.length)return null;-1 == e && (e=l.Tj.length - l.Kw);m=l.Tj.subarray(l.Kw,l.Kw + e);l.Kw+=m.length;return m;});};f.prototype.skip=function(e,g,k){var l;l=this;n.default(k,function(){var m;m=l.Kw;l.Kw=Math.min(l.Kw + e,l.Tj.length);return l.Kw - m;});};return f;})(t.qga);b.q4a=a;},25078:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.rfa=void 0;d=a(22970).__importDefault(a(48795));t=(function(){function n(){this.ml=!1;this.lz=new Uint8Array(0);this.iGa=[];}n.prototype.abort=function(){};n.prototype.close=function(c,h){this.ml=!0;h.result(!0);};n.prototype.write=function(c,h,f,e,g){var k;try{if(this.ml)throw new d.default("Stream is already closed.");if(0 > h)throw new RangeError("Offset cannot be negative.");if(0 > f)throw new RangeError("Length cannot be negative.");if(h + f > c.length)throw new RangeError("Offset plus length cannot be greater than the array length.");k=c.subarray(h,Math.min(c.length,h + f));this.iGa.push(k);g.result(k.length);}catch(l){g.error(l);}};n.prototype.flush=function(c,h){var f,e;try{for(;0 < this.iGa.length;){f=this.iGa.shift();if(this.lz){e=new Uint8Array(this.lz.length + f.length);e.set(this.lz);e.set(f,this.lz.length);this.lz=e;}else this.lz=new Uint8Array(f);}h.result(!0);}catch(g){h.error(g);}};n.prototype.size=function(){this.flush(1,{result:function(){},error:function(){}});return this.lz.length;};n.prototype.r1=function(){this.flush(1,{result:function(){},error:function(){}});return this.lz;};return n;})();b.rfa=t;},98263:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.R4a=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(12457));a=(function(){function c(){var h,f,e;h=n.default.Ie();h.vW=d.default.Se;f={values:[],stack:[],ym:void 0,Go:void 0,gP:void 0};e=!1;h.onerror=function(){e || (e=!0,h.end());};h.onopenobject=function(g){var k;if(f.ym)(f.ym[f.gP]={},f.stack.push(f.ym),f.ym=f.ym[f.gP]);else if(f.Go){k={};f.stack.push(f.Go);f.Go.push(k);f.ym=k;f.Go=void 0;}else f.ym={};f.gP=g;};h.oncloseobject=function(){var g;g=f.stack.pop();g?"object" === typeof g?f.ym=g:(f.ym=void 0,f.Go=g):(f.values.push(f.ym),f.ym=void 0,h.pause());};h.onopenarray=function(){var g;if(f.ym)(f.ym[f.gP]=[],f.stack.push(f.ym),f.Go=f.ym[f.gP],f.ym=void 0);else if(f.Go){g=[];f.stack.push(f.Go);f.Go.push(g);f.Go=g;}else f.Go=[];};h.onclosearray=function(){var g;g=f.stack.pop();g?"object" === typeof g?(f.ym=g,f.Go=void 0):f.Go=g:(f.values.push(f.Go),f.Go=void 0,h.pause());};h.onkey=function(g){f.gP=g;};h.onvalue=function(g){f.ym?f.ym[f.gP]=g:f.Go?f.Go.push(g):(f.values.push(g),h.pause());};this.Ce=h;this.$a=f;}c.prototype.write=function(h){this.Ce.resume();this.Ce.write(h);};c.prototype.UCb=function(){var h;h=this.$a;0 == h.values.length && 0 < this.Ce.pending.length && (this.Ce.resume(),this.Ce.parse());if(0 < h.values.length)return h.values.shift();};return c;})();b.R4a=a;},30370:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.D5a=void 0;d=a(22970);t=a(21399);n=a(65630);c=a(77593);h=d.__importDefault(a(6838));f=d.__importDefault(a(42979));e=a(72536);a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}d.__extends(k,g);k.prototype.kvb=function(){return n.FB.JSON;};k.prototype.llc=function(l,m){if(n.FB.JSON === m)return new c.R8a(this,l);throw new h.default("Unsupported encoder format: " + m + ".");};k.prototype.hp=function(l){var m;m=this.YDc(l);if(n.FB.JSON == m)return new e.tN(this,l);throw new h.default("Unsupported encoder format: " + m + ".");};k.prototype.sj=function(l,m,p){var r;r=this;f.default(p,function(){if(n.FB.JSON == m)e.Wqb(r,l,p);else throw new h.default("Unsupported encoder format: " + m + ".");});};return k;})(t.gab);b.D5a=a;},14894:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.Z7a=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(79804));c=a(69193);h=a(99881);f=a(65630);e=t.__importDefault(a(48795));a=(function(){function g(k){this.oHa=k;this.Pb=void 0;this.Hu=-1;this.DV=void 0;this.ug=this.qr=!1;this.G0b=void 0;this.Ahb=[];}g.prototype.abort=function(){this.oHa.abort();};g.prototype.close=function(k,l){var m;m=this;n.default(l,function(){if(m.Pb)m.Pb.close(k,l);else return !0;});};g.prototype.mark=function(k){this.Pb?this.Pb.mark(k):this.Hu=k;};g.prototype.reset=function(){this.Pb && this.Pb.reset();};g.prototype.h9=function(){return this.Ahb;};g.prototype.read=function(k,l,m){var r;function p(q){n.default(m,function(){if(!q)return new Uint8Array(0);r.oHa.y9({result:function(u){n.default(m,function(){var v;if(u.spa)(r.qr=!0,m.timeout());else {if(u.HK)throw (r.DV=u.error || new e.default("Unknown HTTP exception."),r.DV);if(!u.response)throw (r.DV=new e.default("Missing HTTP response."),r.DV);r.Ahb=u.response.headers;if(void 0 !== u.response.json){r.G0b=u.response.json;v=new Uint8Array([f.FB.JSON.identifier]);}else if(u.response.content instanceof Uint8Array)v=u.response.content;else if("string" === typeof u.response.body)v=c.LB.pd(u.response.body,d.default.wSb);else throw new e.default("Missing HTTP response content.");r.Pb=new h.q4a(v);-1 != r.Hu && r.Pb.mark(r.Hu);r.Pb.read(k,l,m);}});},error:m.error});});}r=this;n.default(m,function(){if(r.DV)throw r.DV;if(r.qr)m.timeout();else {if(r.ug)return new Uint8Array(0);r.Pb?r.Pb.read(k,l,m):r.oHa.close(l,{result:function(q){p(q);},timeout:m.timeout,error:m.error});}});};g.prototype.skip=function(){throw Error("wat?");};return g;})();b.Z7a=a;},41161:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.a8a=void 0;t=a(22970);d=t.__importDefault(a(10690));n=t.__importDefault(a(42979));c=a(89752);h=t.__importDefault(a(79804));f=a(25078);e=t.__importDefault(a(48795));a=(function(){function g(k,l){this.OGa=k;this.ql=l;this.Pb=new f.rfa();this.kia=this.Op=void 0;this.ug=!1;this.tO=new c.j2();}g.prototype.setTimeout=function(k){this.ql=k;};g.prototype.y9=function(k){var l;l=this;this.tO.Jba(-1,{result:function(m){n.default(k,function(){m && l.tO.add(m);return m;});},timeout:function(){n.default(k,function(){l.Op={HK:!0};l.tO.add(l.Op);l.abort();throw new d.default("Timeout while waiting for HttpOutputStream.getResponse() despite no timeout being specified.");});},error:function(m){n.default(k,function(){l.Op={HK:!0};l.tO.add(l.Op);throw m;});}});};g.prototype.abort=function(){this.kia && this.kia.abort();this.ug=!0;};g.prototype.close=function(k,l){var m;m=this;h.default(l,function(){var p;if(m.Op || m.kia || m.ug)return !0;p=m.Pb.r1();0 < p.length && (m.kia=m.OGa.y9({body:p},{result:function(r){m.Op={response:r};m.tO.add(m.Op);},timeout:function(){m.Op={spa:!0};m.tO.add(m.Op);},error:function(r){m.Op={HK:!0,error:r};m.tO.add(m.Op);}}));return !0;});};g.prototype.write=function(k,l,m,p,r){var q;q=this;h.default(r,function(){if(q.Op)throw new e.default("HttpOutputStream already closed.");q.Pb.write(k,l,m,p,r);},this);};g.prototype.flush=function(k,l){var m;m=this;h.default(l,function(){if(m.Op)return !0;m.Pb.flush(k,l);});};return g;})();b.a8a=a;},53389:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.qga=void 0;d=a(22970).__importDefault(a(79804));t=(function(){function n(){}n.prototype.skip=function(c,h,f){this.read(c,h,{result:function(e){d.default(f,function(){return e?e.length:0;});},timeout:function(e){d.default(f,function(){return e?e.length:0;});},error:f.error});};return n;})();b.qga=t;},89768:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.tga=void 0;d=a(22970);n=a(77633);c=a(9E3);h=a(48235);f=a(65630);e=a(69193);g=d.__importDefault(a(6838));k=a(44127);l=d.__importDefault(a(42979));m=a(72536);p=a(32260);t=(function(r){function q(u,v){var w,y;w=r.call(this,null) || this;w.EP=u;u=[];if(v instanceof Array)u=v;else if(v instanceof n.Ak)for(var x=0;x < v.size();++x)u.push(v.mf(x));else if(v instanceof Uint8Array)try{x=e.LB.pe(v,e.AB.OE);y=JSON.parse(x);if(!(y instanceof Array))throw new g.default("Invalid JSON array encoding.");u=y;}catch(z){if(!p.zd(z))throw new g.default("Invalid JSON array encoding.",z);throw z;}try{for(v=0;v < u.length;++v)w.put(-1,u[v]);}catch(z){if(z instanceof TypeError)throw new g.default("Invalid MSL array encoding.",z);throw z;}return w;}d.__extends(q,r);q.prototype.put=function(u,v){var w;try{w=v instanceof Object && v.constructor === Object?new m.tN(this.EP,v):v instanceof Array?new q(this.EP,v):v;}catch(x){if(x instanceof g.default)throw new TypeError("Unsupported JSON object or array representation.");throw x;}return r.prototype.put.call(this,u,w);};q.prototype.pd=function(u){var v;v=this.get(u);if(v instanceof Uint8Array)return v;try{if(v instanceof String)return k.Yj(v.valueOf(),!1);if("string" === typeof v)return k.Yj(v,!1);}catch(w){}throw new g.default("MslArray[" + u + "] is not binary data.");};q.prototype.Fva=function(u,v){var x;function w(y,z,B){l.default(v,function(){var A;if(B >= z)return y;A=x.mf(B);A instanceof Uint8Array?(y.push(k.bi(A)),w(y,z,B + 1)):A instanceof m.tN?A.zT(u,{result:function(C){l.default(v,function(){y.push(C);w(y,z,B + 1);});},error:v.error}):A instanceof q?A.Fva(u,{result:function(C){l.default(v,function(){y.push(C);w(y,z,B + 1);});},error:v.error}):A instanceof c.Ni?new m.tN(u,A).zT(u,{result:function(C){l.default(v,function(){y.push(C);w(y,z,B + 1);});},error:v.error}):A instanceof n.Ak?new q(u,A).Fva(u,{result:function(C){l.default(v,function(){y.push(C);w(y,z,B + 1);});},error:v.error}):A instanceof h.ro?A.hn(u,f.FB.JSON,{result:function(C){l.default(v,function(){new m.tN(u,C).zT(u,{result:function(D){l.default(v,function(){y.push(D);w(y,z,B + 1);});},error:v.error});});},error:v.error}):(y.push(A),w(y,z,B + 1));});}x=this;l.default(v,function(){var y;y=x.size();w([],y,0);});};return q;})(n.Ak);b.tga=t;},72536:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q;Object.defineProperty(b,"__esModule",{value:!0});b.tN=b.Wqb=void 0;d=a(22970);n=a(77633);c=a(9E3);h=a(69193);f=a(48235);e=a(65630);g=d.__importDefault(a(6838));k=a(44127);l=d.__importDefault(a(42979));m=a(21399);p=a(89768);r=a(32260);b.Wqb=function(u,v,w){l.default(w,function(){(v instanceof q?v:new q(u,v)).pRc(u,{result:function(x){l.default(w,function(){return h.LB.pd(x,h.AB.OE);});},error:w.error});});};q=(function(u){function v(w,x){var y,A;void 0 === x && (x=null);y=u.call(this) || this;y.EP=w;try{if((w=void 0,x instanceof c.Ni))for(var z=x.j9(),B=0;B < z.length;++B)(w=z[B],y.put(w,x.mf(w)));else if(x instanceof Object && x.constructor === Object)for(w in x){if(!(w instanceof String) && "string" !== typeof w)throw new g.default("Invalid JSON object encoding.");y.put(w,x[w]);}else if(x instanceof Uint8Array){B=h.LB.pe(x,h.AB.OE);A=JSON.parse(B);if(!(A instanceof Object) || A.constructor !== Object)throw new g.default("Invalid JSON object encoding.");for(w in A){if(!(w instanceof String) && "string" !== typeof w)throw new g.default("Invalid JSON object encoding.");y.put(w,A[w]);}}}catch(C){if(C instanceof TypeError)throw new g.default("Invalid MSL object encoding.",C);if(!r.zd(C))throw new g.default("Invalid JSON object encoding.",C);throw C;}return y;}d.__extends(v,u);v.prototype.put=function(w,x){var y;try{y=x instanceof Object && x.constructor === Object?new v(this.EP,x):x instanceof Array?new p.tga(this.EP,x):x;}catch(z){if(z instanceof g.default)throw new TypeError("Unsupported JSON object or array representation.");throw z;}return u.prototype.put.call(this,w,y);};v.prototype.pd=function(w){var x;x=this.get(w);if(x instanceof Uint8Array)return x;try{if(x instanceof String)return k.Yj(x.valueOf(),!1);if("string" === typeof x)return k.Yj(x,!1);}catch(y){}throw new g.default("MslObject[" + m.quote(w) + "] is not binary data.");};v.prototype.zT=function(w,x){var z;function y(B,A,C){l.default(x,function(){var D,F;if(C >= A.length)return B;D=A[C];F=z.mf(D);F instanceof Uint8Array?(B[D]=k.bi(F),y(B,A,C + 1)):F instanceof v?F.zT(w,{result:function(G){l.default(x,function(){B[D]=G;y(B,A,C + 1);});},error:x.error}):F instanceof p.tga?F.Fva(w,{result:function(G){l.default(x,function(){B[D]=G;y(B,A,C + 1);});},error:x.error}):F instanceof c.Ni?new v(w,F).zT(w,{result:function(G){l.default(x,function(){B[D]=G;y(B,A,C + 1);});},error:x.error}):F instanceof n.Ak?new p.tga(w,F).Fva(w,{result:function(G){l.default(x,function(){B[D]=G;y(B,A,C + 1);});},error:x.error}):F instanceof f.ro?F.hn(w,e.FB.JSON,{result:function(G){l.default(x,function(){new v(w,G).zT(w,{result:function(E){l.default(x,function(){B[D]=E;y(B,A,C + 1);});},error:x.error});});},error:x.error}):(B[D]=F,y(B,A,C + 1));});}z=this;l.default(x,function(){var B;B=z.j9();y({},B,0);});};v.prototype.pRc=function(w,x){this.zT(w,{result:function(y){l.default(x,function(){return JSON.stringify(y);});},error:x.error});};return v;})(c.Ni);b.tN=q;},77593:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperty(b,"__esModule",{value:!0});b.R8a=void 0;d=a(22970);t=a(1454);n=d.__importDefault(a(42979));c=d.__importDefault(a(79804));h=d.__importDefault(a(6838));f=a(98263);e=a(72536);g=a(69193);a=(function(k){function l(m,p){var r;r=k.call(this) || this;r.wg=m;r.Us=p;r.Wgb=g.AB.OE;r.j5="";r.Ce=new f.R4a();return r;}d.__extends(l,k);l.prototype.close=function(m,p){var r;r=this;c.default(p,function(){var q;if(0 == r.Ce.Ce.pending.length)return !0;q=g.LB.pd(r.j5.substring(0,r.j5.length - r.Ce.Ce.pending.length),r.Wgb);r.Us.reset();r.Us.skip(q.length,m,{result:function(u){n.default(p,function(){if(u != q.length)throw new h.default("Only skipped " + u + " of " + q.length + " bytes. Source input stream may not be reusable for additional MSL messages.");return !0;});},timeout:function(u){n.default(p,function(){if(u != q.length)throw new h.default("Only skipped " + u + " of " + q.length + " bytes. Source input stream may not be reusable for additional MSL messages.");return !0;});},error:p.error});});};l.prototype.abort=function(){k.prototype.abort.call(this);this.Us.abort();};l.prototype.IEb=function(m,p){var r;r=this;c.default(p,function(){r.Us.mark(65536);r.Us.read(65536,m,{result:function(q){c.default(p,function(){var u;if(!q || !q.length)return null;r.j5=g.LB.pe(q,r.Wgb);u=r.Ce.Ce.pending.length + r.j5.length;if(10485760 < u)throw new h.default("JSON parsing stopped after reaching " + u + " unparsed characters.");r.Ce.write(r.j5);u=r.Ce.UCb();if(void 0 !== u)return u;setTimeout(function(){r.IEb(m,p);},0);});},timeout:p.timeout,error:function(q){n.default(p,function(){throw new h.default("Error reading from the source input stream.",q);});}});});};l.prototype.next=function(m,p){var q;function r(u){c.default(p,function(){if("object" !== typeof u)throw new h.default("Malformed MSL message. Parsed " + typeof u + " instead of object.");return new e.tN(q.wg,u);});}q=this;c.default(p,function(){var u;u=q.Ce.UCb();void 0 !== u?r(u):q.IEb(q.ql,{result:function(v){c.default(p,function(){if(q.ug || !v)return null;r(v);});},timeout:p.timeout,error:p.error});});};return l;})(t.hab);b.R8a=a;},77633:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Ak=void 0;d=a(22970).__importDefault(a(6838));n=a(48235);c=a(21399);h=a(9E3);f=a(46383);t=(function(){function e(g){void 0 === g && (g=null);this.list=[];if(g)for(var k=0;k < g.length;++k)this.put(-1,g[k]);}e.prototype.get=function(g){var k;if(0 > g || g >= this.list.length)throw new RangeError("MslArray[" + g + "] is negative or exceeds array length.");k=this.list[g];if(null === k || void 0 === k)throw new d.default("MslArray[" + g + "] is null.");return k instanceof Object && k.constructor === Object?new h.Ni(k):k instanceof Array?new e(k):k;};e.prototype.Q8=function(g){var k;k=this.get(g);if(k instanceof Boolean)return k.valueOf();if("boolean" === typeof k)return k;throw new d.default("MslArray[" + g + "] is not a boolean.");};e.prototype.pd=function(g){var k;k=this.get(g);if(k instanceof Uint8Array)return k;throw new d.default("MslArray[" + g + "] is not binary data.");};e.prototype.kQ=function(g){var k;k=this.get(g);if(k instanceof Number)return k.valueOf() << 0;if("number" === typeof k)return k << 0;throw new d.default("MslArray[" + g + "] is not a number.");};e.prototype.CPa=function(g){var k;k=this.get(g);if(k instanceof e)return k;if(k instanceof Array)return new e(k);throw new d.default("MslArray[" + g + "] is not a MslArray.");};e.prototype.lq=function(g,k){var l;l=this.get(g);if(l instanceof h.Ni)return l;if(l instanceof Object && l.constructor === Object)return new h.Ni(l);if(l instanceof Uint8Array)try{return k.hp(l);}catch(m){if(m instanceof d.default)throw new d.default("MslObject[" + g + "] is not a MslObject.",m);throw m;}throw new d.default("MslArray[" + g + "] is not a MslObject.");};e.prototype.Ln=function(g){var k;k=this.get(g);if(k instanceof Number)return parseInt(k.valueOf());if("number" === typeof k)return parseInt(k);throw new d.default("MslArray[" + g + "] is not a number.");};e.prototype.pe=function(g){var k;k=this.get(g);if(k instanceof String)return k.valueOf();if("string" === typeof k)return k;throw new d.default("MslArray[" + g + "] is not a string.");};e.prototype.md=function(g){if(0 > g || g >= this.list.length)throw new RangeError("MslArray[" + g + "] is negative or exceeds array length.");return null == this.list[g];};e.prototype.size=function(){return this.list.length;};e.prototype.mf=function(g){if(0 > g || g >= this.list.length)throw new RangeError("MslArray[" + g + "] is negative or exceeds array length.");g=this.list[g];try{if(g instanceof Object && g.constructor === Object)return new h.Ni(g);if(g instanceof Array)return new e(g);}catch(k){if(k instanceof TypeError)return null;}return g;};e.prototype.fsa=function(g){g=this.mf(g);return g instanceof e?g:g instanceof Array?new e(g):null;};e.prototype.oba=function(g,k){g=this.mf(g);return g instanceof String?g.valueOf():"string" === typeof g?g:k instanceof String?k.valueOf():"string" === typeof k || null === k?k:"";};e.prototype.put=function(g,k){if(-1 > g)throw new RangeError("MslArray[" + g + "] is negative.");if(!(k instanceof Boolean || "boolean" === typeof k || k instanceof Uint8Array || k instanceof Number || "number" === typeof k || k instanceof h.Ni || k instanceof e || k instanceof String || "string" === typeof k || k instanceof n.ro || null === k))if(k instanceof Object && k.constructor === Object)k=new h.Ni(k);else if(k instanceof Array)k=new e(k);else throw new TypeError("Value [" + typeof k + "] is an unsupported type.");for(var l=this.list.length;l < g;++l)this.list.push(null);if(-1 == g || g == this.list.length)return (this.list.push(k),this);this.list[g]=k;return this;};e.prototype.remove=function(g){var k;if(-1 > g || g >= this.list.length)throw new RangeError("MslArray[" + g + "] is negative or exceeds array length.");k=this.mf(-1 == g?this.list.length - 1:g);this.list.splice(g,1);return k;};e.prototype.equals=function(g){if(this == g)return !0;if(!(g instanceof e))return !1;try{return f.irb(this,g);}catch(k){if(k instanceof d.default)return !1;throw k;}};e.prototype.toString=function(){var l;for(var g="[",k=0;k < this.list.length;k++){l=this.list[k];g=l instanceof h.Ni?g + "{}":l instanceof e?g + "[]":g + c.stringify(l);k != this.list.length - 1 && (g+=",");}return g + "]";};return e;})();b.Ak=t;},48235:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ro=void 0;b.ro=(function(){return function(){};})();},6838:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(h,f){return n.call(this,"MslEncoderException",h,f) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(18595)).default);b["default"]=t;},21399:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.gab=b.stringify=b.quote=void 0;t=a(22970);d=a(44127);n=a(9E3);c=a(77633);h=a(65630);f=t.__importDefault(a(42979));e=t.__importDefault(a(6838));a(83853);b.quote=function(g){return JSON.stringify(g).replace(/["]/g,'\\"').replace(/[\\]/g,"\\\\").replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t");};b.stringify=function(g){return g instanceof n.Ni || g instanceof c.Ak?g.toString():g instanceof Uint8Array?d.bi(g,!1):JSON.stringify(g).replace(/["]/g,'\\"').replace(/[\\]/g,"\\\\").replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t");};a=(function(){function g(){}g.prototype.xdc=function(k,l,m){var r;function p(q,u){f.default(m,function(){var v;v=h.Iga.ZOa(u);if(!v)throw new e.default("Unidentified encoder format ID: (byte)" + u + ".");q.reset();return r.llc(q,v);});}r=this;f.default(m,function(){k.mark(1);k.read(1,l,{result:function(q){f.default(m,function(){if(null == q || 1 > q.length)throw new e.default("End of stream reached when attempting to read the byte stream identifier.");p(k,q[0]);});},timeout:m.timeout,error:m.error});});};g.prototype.ff=function(){var k;void 0 === k && (k=null);return new n.Ni(k);};g.prototype.YDc=function(k){var l;if(1 > k.length)throw new e.default("No encoding identifier found.");k=k[0];l=h.Iga.ZOa(k);if(!l)throw new e.default("Unidentified encoder format ID: (byte)" + k + ".");return l;};g.prototype.o7=function(k){void 0 === k && (k=null);return new c.Ak(k);};return g;})();b.gab=a;},65630:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.FB=b.Iga=void 0;t=(function(){function a(d,n){this.name=d;this.identifier=n;a.lOa[d]=this;a.kOa[n]=this;}a.ZOa=function(d){return "string" === typeof d && a.lOa[d]?a.lOa[d]:"number" === typeof d && a.kOa[d]?a.kOa[d]:null;};a.kOa={};a.lOa={};return a;})();b.Iga=t;b.FB={JSON:new t("JSON",123)};},46383:function(t,b,a){var c,h,f,e,g,k;function d(l,m){var p,r,q,u,v;if(l === m)return !0;if(null == l || null == m)return !1;p=l.j9();r=m.j9();if(p !== r && (null == p || null == r || p.length != r.length || !k.default.l7(p,r)))return !1;for(r=0;r < p.length;++r){q=p[r];u=l.mf(q);v=m.mf(q);if(u !== v){if(null == u || null == v)return !1;if(u instanceof Uint8Array || v instanceof Uint8Array){if((u=l.pd(q),q=m.pd(q),!k.default.equal(u,q)))return !1;}else if(u instanceof h.Ni && v instanceof h.Ni){if(!d(u,v))return !1;}else if(u instanceof f.Ak && v instanceof f.Ak){if(!n(u,v))return !1;}else if(typeof u !== typeof v || u != v)return !1;}}return !0;}function n(l,m){var r,q;if(l === m)return !0;if(null == l || null == m || l.size() != m.size())return !1;for(var p=0;p < l.size();++p){r=l.mf(p);q=m.mf(p);if(r !== q){if(null == r || null == q)return !1;if(r instanceof Uint8Array || q instanceof Uint8Array){if((r=l.pd(p),q=m.pd(p),!k.default.equal(r,q)))return !1;}else if(r instanceof h.Ni && q instanceof h.Ni){if(!d(r,q))return !1;}else if(r instanceof f.Ak && q instanceof f.Ak){if(!n(r,q))return !1;}else if(typeof r !== typeof q || r != q)return !1;}}return !0;}Object.defineProperty(b,"__esModule",{value:!0});b.Rn=b.wic=b.irb=b.jrb=b.o7=void 0;t=a(22970);c=t.__importDefault(a(42979));h=a(9E3);f=a(77633);e=a(48235);g=t.__importDefault(a(6838));k=t.__importDefault(a(14945));b.o7=function(l,m,p){function r(q,u,v,w){c.default(w,function(){var x;if(v >= m.length)return u;x=m[v];if(x instanceof Boolean || "boolean" === typeof x || x instanceof Uint8Array || x instanceof Number || "number" === typeof x || x instanceof h.Ni || x instanceof f.Ak || x instanceof String || "string" === typeof x || x instanceof Object && x.constructor === Object || x instanceof Array || null === x)(u.put(-1,x),r(q,u,v + 1,w));else if(x instanceof e.ro)x.hn(q,q.kvb(),{result:function(y){c.default(w,function(){var z;z=q.hp(y);u.put(-1,z);r(q,u,v + 1,w);});},error:w.error});else throw new g.default("Class " + typeof x + " is not MSL encoding-compatible.");});}c.default(p,function(){var q,u;q=l.wg;u=q.o7();r(q,u,0,p);});};b.jrb=d;b.irb=n;b.wic=function(l,m){if(l == m)return !0;if(null == l || null == m || l.size() != m.size())return !1;for(var p=[],r=[],q=0;q < l.size();++q)(p[q]=l.mf(q),r[q]=m.mf(q));return k.default.l7(p,r);};b.Rn=function(l,m){var q;if(!l && !m)return null;l=l?new h.Ni(l.Eub()):new h.Ni();if(!m)return l;for(var p=m.j9(),r=0;r < p.length;++r){q=p[r];l.put(q,m.get(q));}return l;};},9E3:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.Ni=void 0;d=a(22970).__importDefault(a(6838));n=a(48235);c=a(21399);h=a(77633);f=a(46383);t=(function(){function e(g){void 0 === g && (g=null);this.map={};if(g)for(var k in g){if(!(k instanceof String) && "string" !== typeof k)throw new TypeError("Map key is not a string.");this.put(k,g[k]);}}e.prototype.get=function(g){var k;g instanceof String && (g=g.valueOf());if("string" !== typeof g)throw new TypeError("Unsupported key.");k=this.map[g];if(null === k || void 0 === k)throw new d.default("MslObject[" + c.quote(g) + "] not found.");return k instanceof Object && k.constructor === Object?new e(k):k instanceof Array?new h.Ak(k):k;};e.prototype.Q8=function(g){var k;k=this.get(g);if(k instanceof Boolean)return k.valueOf();if("boolean" === typeof k)return k;throw new d.default("MslObject[" + c.quote(g) + "] is not a boolean.");};e.prototype.pd=function(g){var k;k=this.get(g);if(k instanceof Uint8Array)return k;throw new d.default("MslObject[" + c.quote(g) + "] is not binary data.");};e.prototype.kQ=function(g){var k;k=this.get(g);if(k instanceof Number)return k.valueOf() << 0;if("number" === typeof k)return k << 0;throw new d.default("MslObject[" + c.quote(g) + "] is not a number.");};e.prototype.CPa=function(g){var k;k=this.get(g);if(k instanceof h.Ak)return k;if(k instanceof Array)return new h.Ak(k);throw new d.default("MslObject[" + c.quote(g) + "] is not a MslArray.");};e.prototype.lq=function(g,k){var l;l=this.get(g);if(l instanceof e)return l;if(l instanceof Object && l.constructor === Object)return new e(l);if(l instanceof Uint8Array)try{return k.hp(l);}catch(m){if(m instanceof d.default)throw new d.default("MslObject[" + c.quote(g) + "] is not a MslObject.");throw m;}throw new d.default("MslObject[" + c.quote(g) + "] is not a MslObject.");};e.prototype.Ln=function(g){var k;k=this.get(g);if(k instanceof Number)return parseInt(k.valueOf());if("number" === typeof k)return k;throw new d.default("MslObject[" + c.quote(g) + "] is not a number.");};e.prototype.pe=function(g){var k;k=this.get(g);if(k instanceof String)return k.valueOf();if("string" === typeof k)return k;throw new d.default("MslObject[" + c.quote(g) + "] is not a string.");};e.prototype.has=function(g){if("string" !== typeof g)throw new TypeError("Null key.");return this.map.hasOwnProperty(g);};e.prototype.mf=function(g){g instanceof String && (g=g.valueOf());if("string" !== typeof g)throw new TypeError("Unsupported key.");g=this.map[g];try{if(g instanceof Object && g.constructor === Object)return new e(g);if(g instanceof Array)return new h.Ak(g);}catch(k){if(g instanceof TypeError)return null;}return g;};e.prototype.fsa=function(g){g=this.mf(g);return g instanceof h.Ak?g:g instanceof Array?new h.Ak(g):null;};e.prototype.oba=function(g,k){g=this.mf(g);return g instanceof String?g.valueOf():"string" === typeof g?g:k instanceof String?k.valueOf():"string" === typeof k || null === k?k:"";};e.prototype.put=function(g,k){g instanceof String && (g=g.valueOf());if("string" !== typeof g)throw new TypeError("Unsupported key.");if(null === k)return (delete this.map[g],this);if(k instanceof Boolean || "boolean" === typeof k || k instanceof Uint8Array || k instanceof Number || "number" === typeof k || k instanceof e || k instanceof h.Ak || k instanceof String || "string" === typeof k || k instanceof n.ro)this.map[g]=k;else if(k instanceof Object && k.constructor === Object)this.map[g]=new e(k);else if(k instanceof Array)this.map[g]=new h.Ak(k);else throw new TypeError("Value [" + typeof k + "] is an unsupported type.");return this;};e.prototype.remove=function(g){var k;g instanceof String && (g=g.valueOf());if("string" !== typeof g)throw new TypeError("Unsupported key.");k=this.mf(g);delete this.map[g];return k;};e.prototype.j9=function(){return Object.keys(this.map);};e.prototype.Eub=function(){var g,k;g={};for(k in this.map)g[k]=this.map[k];return g;};e.prototype.equals=function(g){if(this == g)return !0;if(!(g instanceof e))return !1;try{return f.jrb(this,g);}catch(k){if(k instanceof d.default)return !1;throw k;}};e.prototype.toString=function(){var m,p;for(var g="{",k=Object.keys(this.map),l=0;l < k.length;l++){m=k[l];p=this.map[m];g=p instanceof e || p instanceof h.Ak?g + (c.quote(m) + ":{}"):g + (c.quote(m) + ":" + c.stringify(p));l != k.length - 1 && (g+=",");}return g + "}";};return e;})();b.Ni=t;},1454:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.hab=void 0;t=a(22970);d=t.__importDefault(a(79804));n=t.__importDefault(a(10690));a=(function(){function c(){this.fF=null;this.ml=this.ug=!1;}c.prototype.close=function(h,f){this.ml=!0;f.result(!0);};c.prototype.abort=function(){this.ug=!0;};c.prototype.uCb=function(h){var f;f=this;d.default(h,function(){if(f.ug || f.ml)return !1;if(f.fF)return !0;f.KUa({result:function(e){d.default(h,function(){f.fF=e;return null != f.fF;});},timeout:h.timeout,error:h.error});});};c.prototype.next=function(h,f){d.default(f,function(){throw new n.default("MslTokenizer.next() must be implemented by a subclass.");});};c.prototype.KUa=function(h){var f;f=this;d.default(h,function(){var e;if(f.ug || f.ml)return null;if(null != f.fF){e=f.fF;f.fF=null;return e;}f.next(-1,h);});};return c;})();b.hab=a;},94971:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Xfb=void 0;d=a(14894);n=a(41161);t=(function(){function c(h,f){void 0 === f && (f=null);this.OGa=h;this.ql=f;}c.prototype.setTimeout=function(h){this.ql=h;};c.prototype.YCc=function(){var h;h=new n.a8a(this.OGa,this.ql);return {input:new d.Z7a(h),PR:h};};return c;})();b.Xfb=t;},93562:function(t,b,a){var h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F;function d(G,E){e.default(E,function(){var H,J,L;try{H=G.pe("keypairid");J=G.pe("mechanism");L=G.pd("publickey");if(!b.ru[J])throw new k.default(p.default.BZb,J);}catch(K){if(K instanceof l.default)throw new m.default(p.default.Te,"keydata " + G);throw K;}try{switch(J){case b.ru.gV:case b.ru.P8a:case b.ru.O8a:case b.ru.sAa:r.oRa(L,q.Me.IE,u.RE.WFa,v.yk.AI,{result:function(K){E.result(new D(H,J,K,null));},error:E.error});break;case b.ru.Q8a:r.oRa(L,q.Me.vha,u.RE.WFa,v.yk.AI,{result:function(K){E.result(new D(H,J,K,null));},error:E.error});break;default:throw new w.default(p.default.Rfb,J);}}catch(K){if(!C.zd(K))throw new w.default(p.default.pN,"keydata " + G,K);throw K;}});}function n(G,E){var H,J,L;try{H=E.pe("keypairid");J=E.pd("encryptionkey");L=E.pd("hmackey");}catch(K){if(K instanceof l.default)throw new m.default(p.default.Te,"keydata " + E);throw K;}return new F(G,H,J,L);}function c(G,E,H,J,L){switch(H){case b.ru.P8a:case b.ru.O8a:return new y.S8a(G,y.Algorithm.IE,y.D6a.A128GCM,J,L);case b.ru.gV:case b.ru.sAa:return new z.Eha(G,E,J,L,z.DE.vgb);case b.ru.Q8a:return new z.Eha(G,E,J,L,z.DE.wgb);default:throw new w.default(p.default.Rfb,H);}}Object.defineProperty(b,"__esModule",{value:!0});b.D3a=b.lEc=b.EYb=b.jEc=b.zha=b.ru=void 0;h=a(22970);t=a(59786);f=a(75948);e=h.__importDefault(a(42979));g=h.__importDefault(a(14945));k=h.__importDefault(a(35661));l=h.__importDefault(a(6838));m=h.__importDefault(a(88257));p=h.__importDefault(a(36114));r=a(42486);q=a(96837);u=a(10558);v=a(11475);w=h.__importDefault(a(42458));x=a(49140);y=a(69351);z=a(33863);B=h.__importDefault(a(10690));a(58892);h.__importDefault(a(80760));A=a(43088);C=a(32260);a(55531);a=a(75316);b.ru={gV:"RSA",nTb:"ECC",P8a:"JWE_RSA",O8a:"JWEJS_RSA",sAa:"JWK_RSA",Q8a:"JWK_RSAES"};D=(function(G){function E(H,J,L,K){var M;M=G.call(this,f.vga.Iwa) || this;M.Jt=H;M.eL=J;M.publicKey=L;M.privateKey=K;return M;}h.__extends(E,G);E.prototype.oPa=function(H,J){var L;L=this;e.default(J,function(){var K;K=H.ff();K.put("keypairid",L.Jt);K.put("mechanism",L.eL);K.put("publickey",L.publicKey.DC());return K;});};E.prototype.equals=function(H){var J;if(H === this)return !0;if(!(H instanceof E))return !1;J=this.privateKey === H.privateKey || this.privateKey && H.privateKey && g.default.equal(this.privateKey.DC(),H.privateKey.DC());return G.prototype.equals.call(this,H) && this.Jt == H.Jt && this.eL == H.eL && g.default.equal(this.publicKey.DC(),H.publicKey.DC()) && J;};E.prototype.Sh=function(){var H,J;H=this.publicKey.DC();J=this.privateKey && this.privateKey.DC();H=G.prototype.Sh.call(this) + ":" + this.Jt + ":" + this.eL + ":" + g.default.xoa(H);J && (H+=":" + g.default.xoa(J));return H;};return E;})(t.f9a);b.zha=D;b.jEc=d;F=(function(G){function E(H,J,L,K){H=G.call(this,H,f.vga.Iwa) || this;H.Jt=J;H.mv=L;H.rK=K;return H;}h.__extends(E,G);E.prototype.oPa=function(H,J){var L;L=this;e.default(J,function(){var K;K=H.ff();K.put("keypairid",L.Jt);K.put("encryptionkey",L.mv);K.put("hmackey",L.rK);return K;});};E.prototype.equals=function(H){return this === H?!0:H instanceof E?G.prototype.equals.call(this,H) && this.Jt == H.Jt && g.default.equal(this.mv,H.mv) && g.default.equal(this.rK,H.rK):!1;};E.prototype.Sh=function(){return G.prototype.Sh.call(this) + ":" + this.Jt + ":" + g.default.xoa(this.mv) + ":" + g.default.xoa(this.rK);};return E;})(x.g9a);b.EYb=F;b.lEc=n;a=(function(G){function E(H){var J;J=G.call(this,f.vga.Iwa) || this;J.alb=H;return J;}h.__extends(E,G);E.prototype.mdc=function(H,J){d(H,J);};E.prototype.odc=function(H,J,L){e.default(L,function(){return n(H,J);});};E.prototype.Rz=function(H,J,L,K,M){e.default(M,function(){var P,I,O;if(!(J instanceof D))throw new B.default("Key request data " + J + " was not created by this factory.");if(!(L instanceof F))throw new B.default("Key response data " + L + " was not created by this factory.");P=J.Jt;I=L.Jt;if(P != I)throw new k.default(p.default.X8a,"request " + P + "; response " + I).kc(K);I=J.privateKey;if(!I)throw new k.default(p.default.WUb,"request Asymmetric private key").kc(K);O=c(H,P,J.eL,I,null);O.DM(L.mv,q.Me.OM,u.RE.Vfa,{result:function(Q){O.DM(L.rK,q.Me.DU,u.RE.kV,{result:function(S){H.Bna({result:function(U){e.default(M,function(){return new A.B4(H,L.ac,U.Uz(),Q,S);});},error:function(U){e.default(M,function(){C.zd(U) && U.kc(K);throw U;});}});},error:function(S){e.default(M,function(){C.zd(S) && S.kc(K);throw S;});}});},error:function(Q){e.default(M,function(){C.zd(Q) && Q.kc(K);throw Q;});}});});};return E;})(a.d9a);b.D3a=a;},55531:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZUb=void 0;b.ZUb=(function(){return function(a,d){this.keyResponseData=a;this.Fo=d;};})();},75316:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.d9a=void 0;t=a(22970);t.__importDefault(a(42979));a(60426);a(96837);a(10558);t.__importDefault(a(42458));t.__importDefault(a(36114));b.d9a=(function(){return function(d){this.scheme=d;};})();},75948:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vga=void 0;t=(function(){function a(d){this.name=d;a.$A[d]=this;}a.prototype.toString=function(){return this.name;};a.A9=function(d){return a.$A[d]?a.$A[d]:null;};a.$A={};return a;})();b["default"]=t;b.vga={Iwa:new t("ASYMMETRIC_WRAPPED"),ASb:new t("DIFFIE_HELLMAN"),QYc:new t("JWE_LADDER"),RYc:new t("JWK_LADDER"),s0c:new t("SYMMETRIC_WRAPPED")};},59786:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.OEb=b.f9a=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(42979));c=d.__importDefault(a(35661));h=d.__importDefault(a(6838));f=d.__importDefault(a(88257));e=d.__importDefault(a(36114));a=(function(g){function k(l){var m;m=g.call(this) || this;m.oA=l;return m;}d.__extends(k,g);k.prototype.hn=function(l,m,p){var r;r=this;this.oPa(l,{result:function(q){n.default(p,function(){var u;u=l.ff();u.put("scheme",r.oA.name);u.put("keydata",q);l.sj(u,m,p);});},error:p.error});};k.prototype.equals=function(l){return this === l?!0:l instanceof k?this.oA == l.oA:!1;};k.prototype.Sh=function(){return this.oA;};return k;})(t.ro);b.f9a=a;b.OEb=function(g,k,l){n.default(l,function(){var m,p,r,q;try{m=k.pe("scheme");p=g.pub(m);if(!p)throw new c.default(e.default.Pfb,m);r=k.lq("keydata",g.wg);q=g.mPa(p);if(!q)throw new c.default(e.default.wAa,p.name);q.mdc(r,l);}catch(u){if(u instanceof h.default)throw new f.default(e.default.Te,"keyrequestdata " + k,u);throw u;}});};},49140:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperty(b,"__esModule",{value:!0});b.PEb=b.g9a=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(42979));c=a(58892);h=d.__importDefault(a(35661));f=d.__importDefault(a(36114));e=d.__importDefault(a(6838));g=d.__importDefault(a(88257));a=(function(k){function l(m,p){var r;r=k.call(this) || this;r.ac=m;r.oA=p;return r;}d.__extends(l,k);l.prototype.hn=function(m,p,r){var q;q=this;this.oPa(m,{result:function(u){n.default(r,function(){var v;v=m.ff();v.put("mastertoken",q.ac);v.put("scheme",q.oA.name);v.put("keydata",u);m.sj(v,p,r);});},error:r.error});};l.prototype.equals=function(m){return this === m?!0:m instanceof l?this.ac.equals(m.ac) && this.oA == m.oA:!1;};l.prototype.Sh=function(){return this.ac.Sh() + ":" + this.oA;};return l;})(t.ro);b.g9a=a;b.PEb=function(k,l,m){n.default(m,function(){var p,r,q,u,v;p=k.wg;try{r=l.lq("mastertoken",p);q=l.pe("scheme");u=k.pub(q);if(!u)throw new h.default(f.default.Pfb,q);v=l.lq("keydata",p);c.qsa(k,r,{result:function(w){n.default(m,function(){var x;x=k.mPa(u);if(!x)throw new h.default(f.default.wAa,u.name);x.odc(w,v,m);});},error:m.error});}catch(w){if(w instanceof e.default)throw new g.default(f.default.Te,"keyresponsedata " + l,w);throw w;}});};},69763:function(t,b,a){var z,B,A,C,D,F,G,E;function d(H,J,L,K,M,P,I,O,Q,S,U){this.n=H;this.e=J;this.d=L;this.p=K;this.q=M;this.dp=P;this.dq=I;this.qi=O;this.alg=Q;this.Epa=S;this.ext=U;}function n(H,J,L,K){this.n=H;this.e=J;this.ext=L;this.Epa=K;}function c(H){this.Y4=H;}function h(H,J,L,K,M,P){this.Tj=H;this.VB=J || void 0;this.ahb=L || !1;this.Lib=0;this.pja=K || 0;this.AV=M || 0;this.ZN=P || 0;}function f(H,J){var L;J.Ey(H.g0a << 6 | H.eLa << 5 | H.tag);L=H.eFb;if(128 > L)J.Ey(L);else {for(var K=L,M=0;K;)(++M,K>>=8);J.Ey(128 | M);for(K=0;K < M;++K)J.Ey(L >> 8 * (M - K - 1) & 255);}if(H.ef)for((H.tag == C.dI && J.Ey(0),H=H.WN);H;){if(!f(H,J))return !1;H=H.next;}else switch(H.tag){case C.oga:H.uJ[H.Hz] >> 7 && J.Ey(0);J.ola(H.uJ,H.Hz,H.sC);break;case C.dI:J.Ey(0);J.ola(H.uJ,H.Hz,H.sC);break;case C.Uga:J.ola(H.uJ,H.Hz,H.sC);break;case C.rCa:J.ola(H.uJ,H.Hz,H.sC);}return !0;}function e(H){var J,L;J=H.Xt();L=J & 127;if(L == J)return L;if(3 < L || 0 === L)return -1;for(var K=J=0;K < L;++K)J=J << 8 | H.Xt();return J;}function g(H,J,L){var K,M,P,I,O,Q,S;K=H.uJ;M=new A(K,J);J+=L;L=H;if(!(8 < F++)){for(;M.position < J;){I=M.Xt();if(31 == (I & 31)){for(P=0;I & 128;)(P<<=8,P|=I & 127);I=P;}O=I;P=O & 31;if(0 > P || 30 < P)return;I=e(M);if(0 > I || I > M.w9())return;L.eLa=O & 32;L.g0a=(O & 192) >> 6;L.tag=P;L.sC=I;L.Hz=M.position;P=M;Q=O;O=I;if(Q & 32)P=!0;else if(Q < C.dI || Q > C.Uga)P=!1;else {S=new A(P);Q == C.dI && S.skip(1);S.Xt() >> 6 & 1?P=!1:(Q=e(S),P=S.position - P.position + Q == O);}P && (P=M.position,O=I,L.tag == C.dI && (L.Hz++,L.sC--,P++,O--),L.ef=new h(K,L),g(L.ef,P,O));L.tag == C.oga && (P=M.position,0 == M.jFb(P) && M.jFb(P + 1) >> 7 && (L.Hz++,L.sC--));M.skip(I);M.position < J && (L.next=new h(K,L.parent),L=L.next);}F--;return H;}}function k(H,J,L){if(9 != L)return !1;for(L=0;9 > L;++L)if(H[J++] != G[L])return !1;return !0;}function l(H){var J;if(!(H && H.ef && H.ef.next && H.ef.ef && H.ef.next.ef))return !1;J=H.ef.ef;return k(J.uJ,J.Hz,J.sC) && 2 == H.d_ && 2 == H.ef.d_ && 2 == H.ef.next.ef.d_?!0:!1;}function m(H){var J;if(!(H && H.ef && H.ef.next && H.ef.next.ef && H.ef.next.next && H.ef.next.next.ef))return !1;J=H.ef.next.ef;return k(J.uJ,J.Hz,J.sC) && 3 == H.d_ && 2 == H.ef.next.d_ && 9 == H.ef.next.next.ef.d_?!0:!1;}function p(H){var J,L;J=D.cX();L=new c(J);L.hJ(D.cX());L.hJ(D.xob(G));L.Uw(D.vob());L.Ojb(J,D.Ybc(null));L.hJ(D.cX());L.hJ(D.cx(H.n));L.Uw(D.cx(H.e));return J;}function r(H){var J;H=H.ef.next.ef.ef;J=H.data;H=H.next;return new n(J,H.data,null,null);}function q(H){var J,L;J=D.cX();L=new c(J);L.hJ(D.cx(new Uint8Array([0])));L.Uw(D.cX());L.hJ(D.xob(G));L.Uw(D.vob());L.Ojb(J,D.bdc(null));L.hJ(D.cX());L.hJ(D.cx(new Uint8Array([0])));L.Uw(D.cx(H.n));L.Uw(D.cx(H.e));L.Uw(D.cx(H.d));L.Uw(D.cx(H.p));L.Uw(D.cx(H.q));L.Uw(D.cx(H.dp));L.Uw(D.cx(H.dq));L.Uw(D.cx(H.qi));return J;}function u(H){var J;J=[];H=H.ef.next.next.ef.ef.next;for(var L=0;8 > L;L++)(J.push(H.data),H=H.next);return new d(J[0],J[1],J[2],J[3],J[4],J[5],J[6],J[7]);}function v(H,J,L,K){if(H instanceof n || H instanceof d){if(L)for(var M=0;M < L.length;++M)if(-1 == E.indexOf(L[M]))return;J={kty:"RSA",alg:J,key_ops:L || [],ext:void 0 == K?!1:K,n:z.bi(H.n,!0),e:z.bi(H.e,!0)};H instanceof d && (J.d=z.bi(H.d,!0),J.p=z.bi(H.p,!0),J.q=z.bi(H.q,!0),J.dp=z.bi(H.dp,!0),J.dq=z.bi(H.dq,!0),J.qi=z.bi(H.qi,!0));return J;}}function w(H){var J,L,K,M,P,I,O,Q,S,U;if(H.kty && "RSA" == H.kty && H.n && H.e){J=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(!H.alg || -1 != J.indexOf(H.alg)){J=[];H.use?"enc" == H.use?J=["encrypt","decrypt","wrap","unwrap"]:"sig" == H.use && (J=["sign","verify"]):J=H.key_ops;L=H.ext;K=z.Yj(H.n,!0);M=z.Yj(H.e,!0);if(H.d){P=z.Yj(H.d,!0);I=z.Yj(H.p,!0);O=z.Yj(H.q,!0);Q=z.Yj(H.dp,!0);S=z.Yj(H.dq,!0);U=z.Yj(H.qi,!0);return new d(K,M,P,I,O,Q,S,U,H.alg,J,L);}return new n(K,M,L,J);}}}function x(H,J,L,K){this.N7=H;this.type=J;this.Epa=L;this.extractable=K;}function y(H){F=0;return g(new h(H),0,H.length);}Object.defineProperty(b,"__esModule",{value:!0});b.TPb=b.SPb=b.ezb=b.VIb=b.FYb=b.nEc=b.n7b=b.oEc=b.o7b=b.pEc=b.p7b=b.GYb=b.HYb=b.AQc=b.MRb=b.FWb=b.yuc=b.zuc=b.show=b.parse=void 0;z=a(44127);B=a(11475);A=(function(){function H(J,L){J instanceof A?(this.eJ=J.eJ,this.position=J.position):(this.eJ=J,this.position=L || 0);}H.prototype={Xt:function(){return this.eJ[this.position++];},Ey:function(J){this.eJ[this.position++]=J;},jFb:function(J){return this.eJ[J];},ola:function(J,L,K){var M;M=new Uint8Array(this.eJ.buffer,this.position,K);J=new Uint8Array(J.buffer,L,K);M.set(J);this.position+=K;},seek:function(J){this.position=J;},skip:function(J){this.position+=J;},setPosition:function(J){this.position=J;},w9:function(){return this.eJ.length - this.position;},Ina:function(){return this.eJ.length;},show:function(){return "AbvStream: pos " + (this.position.toString() + " of " + this.Ina().toString());}};return H;})();C={UVc:0,XVc:1,oga:2,dI:3,Uga:4,g4:5,rCa:6,d_c:7,FYc:8,L_c:9,PXc:10,tXc:11,X0c:12,M_c:13,OYb:16,U_c:17,OZc:18,o_c:19,K0c:20,J0c:20,c1c:21,AYc:22,W0c:23,rYc:24,uYc:25,e1c:26,NYc:26,sYc:27,T0c:28,zWc:29,WVc:30};b.AQc=C;h.prototype={WN:void 0,fF:void 0,get data() {return new Uint8Array(this.Tj.buffer.slice(this.AV,this.AV + this.ZN));},get uJ() {return this.Tj;},get eLa() {return this.ahb;},set eLa(H) {this.ahb=0 != H?!0:!1;},get g0a() {return this.Lib;},set g0a(H) {this.Lib=H;},get tag() {return this.pja;},set tag(H) {this.pja=H;},get Hz() {return this.AV;},set Hz(H) {this.AV=H;},get sC() {return this.ZN;},set sC(H) {this.ZN=H;},get ef() {return this.WN;},set ef(H) {this.WN=H;this.WN.parent=this;},get next() {return this.fF;},set next(H) {this.fF=H;},get parent() {return this.VB;},set parent(H) {this.VB=H;},get eFb() {var H;H=0;if(this.WN){for(var J=this.WN;J;)(H+=J.length,J=J.next);this.pja == C.dI && H++;}else switch(this.pja){case C.oga:H=this.ZN;this.Tj[this.AV] >> 7 && H++;break;case C.dI:H=this.ZN + 1;break;case C.Uga:H=this.ZN;break;case C.g4:H=0;break;case C.rCa:k(this.Tj,this.AV,this.ZN) && (H=9);}return H;},get length() {var H,J;H=this.eFb;if(127 < H)for(J=H;J;)(J>>=8,++H);return H + 2;},get N7() {var H,J;H=this.length;if(H){H=new Uint8Array(H);J=new A(H);if(f(this,J))return H;}},get d_() {for(var H=0,J=this.WN;J;)(H++,J=J.next);return H;}};D={cX:function(){return new h(null,null,!0,C.OYb,null,null);},xob:function(H){return new h(H,null,!1,C.rCa,0,H?H.length:0);},vob:function(){return new h(null,null,!1,C.g4,null,null);},Ybc:function(H){return new h(H,null,!1,C.dI,0,H?H.length:0);},cx:function(H){return new h(H,null,!1,C.oga,0,H?H.length:0);},bdc:function(H){return new h(H,null,!1,C.Uga,0,H?H.length:0);}};b.FWb=D;b.MRb=c;c.prototype={hJ:function(H){this.JIa(this.Y4,H);},Uw:function(H){this.JIa(this.Y4.parent,H);},JIa:function(H,J){this.Y4=J;this.Y4.parent=H;if(H.ef){for(H=H.ef;H.next;)H=H.next;H.next=J;}else H.ef=J;},Ojb:function(H,J){this.Wjc(H) && this.JIa(H,J);},Wjc:function(H){for(var J=this.Y4;J;){if(H == J)return !0;J=J.parent;}return !1;}};F=0;G=new Uint8Array([42,134,72,134,247,13,1,1,1]);b.show=function(){};b.zuc=l;b.yuc=m;b.HYb=n;b.GYb=d;b.p7b=p;b.pEc=function(H){H=y(H);if(l)return r(H);};b.o7b=q;b.oEc=function(H){H=y(H);if(m(H))return u(H);};E=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");b.n7b=v;b.nEc=w;b.VIb=function(H,J,L,K){if(H=y(H)){if(l(H))H=r(H);else if(m(H))H=u(H);else return;return v(H,J,L,K);}};b.FYb=x;x.prototype.getDer=function(){return this.N7;};x.prototype.getType=function(){return this.type;};x.prototype.getKeyOps=function(){return this.Epa;};x.prototype.getExtractable=function(){return this.extractable;};b.ezb=function(H){var J,L;if(H=w(H)){if(H instanceof n)(J=B.yk.AI,L=p(H).N7);else if(H instanceof d)(J=B.yk.ZU,L=q(H).N7);else return;return new x(L,J,H.Epa,H.ext);}};b.TPb=function(H){return H.map(function(J){return "wrapKey" == J?"wrap":"unwrapKey" == J?"unwrap":J;});};b.SPb=function(H){if("RSAES-PKCS1-v1_5" == H.name)return "RSA1_5";if("RSASSA-PKCS1-v1_5" == H.name){if("SHA-256" == H.hash.name)return "RS256";if("SHA-384" == H.hash.name)return "RS384";if("SHA-512" == H.hash.name)return "RS512";}};b.parse=y;},12457:function(t,b,a){var k,l,m,p,q,u;function d(v){for(var w in l)v[w]=l[w];}function n(v){if(!(this instanceof n))return new n(v);d(this);this.vW=k.zN;this.pending=this.q=this.c=this.p="";this.mf=v || ({});this.closed=this.RW=this.OS=this.paused=!1;this.tag=this.error=null;this.state=p.eU;this.stack=[];this.position=this.KF=0;this.line=1;this.pLb=!1;this.fOb=0;this.Qva=null;this.depth=0;h(this,"onready");}function c(v){var w;if(!(this instanceof c))return new c(v);this.Ce=new n(v);this.readable=this.writable=!0;this.Yw=this.AW=0;this.m0a={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)};this.string="";w=this;u.apply(w);this.Ce.onend=function(){w.emit("end");};this.Ce.onerror=function(x){w.emit("error",x);w.Ce.error=null;};m.forEach(function(x){Object.defineProperty(w,"on" + x,{get:function(){return w.Ce["on" + x];},set:function(y){if(!y)return (w.removeAllListeners(x),w.Ce["on" + x]=y);w.on(x,y);},enumerable:!0,configurable:!1});});}function h(v,w,x){k.E3 && console.log("-- emit",w,x);if(v[w])v[w](x);}function f(v,w){var x,y;x=v.mf;y=v.textNode;void 0 !== y && (x.trim && (y=y.trim()),x.normalize && (y=y.replace(/\s+/g," ")));v.textNode=y;void 0 !== v.textNode && h(v,w?w:"onvalue",v.textNode);v.textNode=void 0;}function e(v,w){f(v);w+="\nLine: " + v.line + "\nColumn: " + v.KF + "\nChar: " + v.c;w=Error(w);v.error=w;h(v,"onerror",w);return v;}function g(v){v.state === p.Qs && 0 === v.depth || e(v,"Unexpected end");f(v);v.c="";v.closed=!0;h(v,"onend");n.call(v,v.mf);return v;}Object.defineProperty(b,"__esModule",{value:!0});k={};t="object" === typeof process?{NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}:Ca;k.Ie=function(v){return new n(v);};k.DWc=n;k.EWc=c;k.ELa=function(v){return new c(v);};k.zN=65536;k.l="debug" === t.t4a;k.E3="debug" === t.t4a || "info" === t.t4a;k.Ul=("value string key openobject closeobject openarray closearray error end ready").split(" ");l={textNode:void 0,kk:""};m=k.Ul.filter(function(v){return "error" !== v && "end" !== v;});p=0;k.$q={eU:p++,Qs:p++,tCa:p++,lU:p++,Vga:p++,Rxa:p++,L0c:p++,IEa:p++,SVc:p++,NXc:p++,sCa:p++,y4a:p++,ffb:p++,gfb:p++,hfb:p++,R6a:p++,S6a:p++,T6a:p++,U6a:p++,g4:p++,pab:p++,qab:p++,vWb:p++,Rga:p++};for(var r in k.$q)k.$q[k.$q[r]]=r;p=k.$q;Object.create || (Object.create=function(v){function w(){this.__proto__=v;}w.prototype=v;return new w();});Object.getPrototypeOf || (Object.getPrototypeOf=function(v){return v.__proto__;});Object.keys || (Object.keys=function(v){var w,x;w=[];for(x in v)v.hasOwnProperty(x) && w.push(x);return w;});q=/[\\"\n]/g;n.prototype={end:function(){g(this);},write:function(v){if(this.error)throw this.error;if(this.closed)return e(this,"Cannot write after close. Assign an onready handler.");if(null === v)return g(this);this.pending+=v;if(this.paused)return this;k.l && console.log("write -> [" + v + "]");return this.parse();},parse:function(){var z,B,A;for(var v=this.pending,w=0,x=v[0],y;x && !this.paused;){y=x;this.c=x=v.charAt(w++);y !== x?this.p=y:y=this.p;if(!x)break;k.l && console.log(w,x,k.$q[this.state]);this.position++;"\n" === x?(this.line++,this.KF=0):this.KF++;switch(this.state){case p.eU:"{" === x?this.state=p.tCa:"[" === x?this.state=p.Vga:"\r" !== x && "\n" !== x && " " !== x && "\t" !== x && e(this,"Non-whitespace before {[.");continue;case p.sCa:case p.tCa:if("\r" === x || "\n" === x || " " === x || "\t" === x)continue;if(this.state === p.sCa)this.stack.push(p.y4a);else if("}" === x){h(this,"onopenobject");this.depth++;h(this,"oncloseobject");this.depth--;this.state=this.stack.pop() || p.Qs;continue;}else this.stack.push(p.lU);'"' === x?this.state=p.IEa:e(this,'Malformed object key should start with "');continue;case p.y4a:case p.lU:if("\r" === x || "\n" === x || " " === x || "\t" === x)continue;":" === x?(this.state === p.lU?(this.stack.push(p.lU),f(this,"onopenobject"),this.depth++):f(this,"onkey"),this.state=p.Qs):"}" === x?(f(this),h(this,"oncloseobject",void 0),this.depth--,this.state=this.stack.pop() || p.Qs):"," === x?(this.state === p.lU && this.stack.push(p.lU),f(this),this.state=p.sCa):e(this,"Bad object");continue;case p.Vga:case p.Qs:if("\r" === x || "\n" === x || " " === x || "\t" === x)continue;if(this.state === p.Vga)if((h(this,"onopenarray"),this.depth++,this.state=p.Qs,"]" === x)){h(this,"onclosearray");this.depth--;this.state=this.stack.pop() || p.Qs;continue;}else this.stack.push(p.Rxa);'"' === x?this.state=p.IEa:"{" === x?this.state=p.tCa:"[" === x?this.state=p.Vga:"t" === x?this.state=p.ffb:"f" === x?this.state=p.R6a:"n" === x?this.state=p.g4:"-" === x?this.kk+=x:"0" === x?(this.kk+=x,this.state=p.Rga):-1 !== ("123456789").indexOf(x)?(this.kk+=x,this.state=p.Rga):e(this,"Bad value");continue;case p.Rxa:if("," === x)(this.stack.push(p.Rxa),f(this,"onvalue"),this.state=p.Qs);else if("]" === x)(f(this),h(this,"onclosearray",void 0),this.depth--,this.state=this.stack.pop() || p.Qs);else if("\r" === x || "\n" === x || " " === x || "\t" === x)continue;else e(this,"Bad array");continue;case p.IEa:void 0 === this.textNode && (this.textNode="");y=w - 1;(z=this.pLb,B=this.fOb);a:for(;;){for(k.l && console.log(w,x,k.$q[this.state],z);0 < B;)if((this.Qva+=x,x=v.charAt(w++),this.position++,4 === B?(this.textNode+=String.fromCharCode(parseInt(this.Qva,16)),B=0,y=w - 1):B++,!x))break a;if('"' === x && !z){this.state=this.stack.pop() || p.Qs;this.textNode+=v.substring(y,w - 1);this.position+=w - 1 - y;break;}if("\\" === x && !z && (z=!0,this.textNode+=v.substring(y,w - 1),this.position+=w - 1 - y,x=v.charAt(w++),this.position++,!x))break;if(z)if((z=!1,"n" === x?this.textNode+="\n":"r" === x?this.textNode+="\r":"t" === x?this.textNode+="\t":"f" === x?this.textNode+="\f":"b" === x?this.textNode+="\b":"u" === x?(B=1,this.Qva=""):this.textNode+=x,x=v.charAt(w++),this.position++,y=w - 1,x))continue;else break;q.lastIndex=w;A=q.exec(v);if(null === A){w=v.length + 1;this.textNode+=v.substring(y,w - 1);this.position+=w - 1 - y;break;}w=A.index + 1;x=v.charAt(A.index);if(!x){this.textNode+=v.substring(y,w - 1);this.position+=w - 1 - y;break;}}this.pLb=z;this.fOb=B;continue;case p.ffb:if("" === x)continue;"r" === x?this.state=p.gfb:e(this,"Invalid true started with t" + x);continue;case p.gfb:if("" === x)continue;"u" === x?this.state=p.hfb:e(this,"Invalid true started with tr" + x);continue;case p.hfb:if("" === x)continue;"e" === x?(h(this,"onvalue",!0),this.state=this.stack.pop() || p.Qs):e(this,"Invalid true started with tru" + x);continue;case p.R6a:if("" === x)continue;"a" === x?this.state=p.S6a:e(this,"Invalid false started with f" + x);continue;case p.S6a:if("" === x)continue;"l" === x?this.state=p.T6a:e(this,"Invalid false started with fa" + x);continue;case p.T6a:if("" === x)continue;"s" === x?this.state=p.U6a:e(this,"Invalid false started with fal" + x);continue;case p.U6a:if("" === x)continue;"e" === x?(h(this,"onvalue",!1),this.state=this.stack.pop() || p.Qs):e(this,"Invalid false started with fals" + x);continue;case p.g4:if("" === x)continue;"u" === x?this.state=p.pab:e(this,"Invalid null started with n" + x);continue;case p.pab:if("" === x)continue;"l" === x?this.state=p.qab:e(this,"Invalid null started with nu" + x);continue;case p.qab:if("" === x)continue;"l" === x?(h(this,"onvalue",null),this.state=this.stack.pop() || p.Qs):e(this,"Invalid null started with nul" + x);continue;case p.vWb:"." === x?(this.kk+=x,this.state=p.Rga):e(this,"Leading zero not followed by .");continue;case p.Rga:-1 !== ("0123456789").indexOf(x)?this.kk+=x:"." === x?(-1 !== this.kk.indexOf(".") && e(this,"Invalid number has two dots"),this.kk+=x):"e" === x || "E" === x?(-1 === this.kk.indexOf("e") && -1 === this.kk.indexOf("E") || e(this,"Invalid number has two exponential"),this.kk+=x):"+" === x || "-" === x?("e" !== y && "E" !== y && e(this,"Invalid symbol in number"),this.kk+=x):(this.kk && h(this,"onvalue",parseFloat(this.kk)),this.kk="",w--,this.state=this.stack.pop() || p.Qs);continue;default:e(this,"Unknown state: " + this.state);}}if(this.position >= this.vW){x=Math.max(k.zN,10);y=0;for(var C in l){z=void 0 === this[C]?0:this[C].length;if(z > x)switch(C){case "text":closeText(this);break;default:e(this,"Max buffer length exceeded: " + C);}y=Math.max(y,z);}this.vW=k.zN - y + this.position;}0 < w && (this.pending=v.substring(w));return this;},pause:function(){this.paused=!0;return this;},resume:function(){this.paused=!1;this.error=null;return this;},close:function(){return this.write(null);}};try{u=a(75177).D0c;}catch(v){u=function(){};}c.prototype=Object.create(null,{constructor:{value:c}});c.prototype.write=function(v){var x;v=new Buffer(v);for(var w=0;w < v.length;w++){x=v[w];if(0 < this.AW){for(x=0;x < this.AW;x++)this.m0a[this.Yw][this.Yw - this.AW + x]=v[x];this.string=this.m0a[this.Yw].toString();this.Yw=this.AW=0;w=w + x - 1;this.Ce.write(this.string);this.emit("data",this.string);}else if(0 === this.AW && 128 <= x){194 <= x && 223 >= x && (this.Yw=2);224 <= x && 239 >= x && (this.Yw=3);240 <= x && 244 >= x && (this.Yw=4);if(this.Yw + w > v.length){for(x=0;x <= v.length - 1 - w;x++)this.m0a[this.Yw][x]=v[w + x];this.AW=w + this.Yw - v.length;return !0;}this.string=v.slice(w,w + this.Yw).toString();w=w + this.Yw - 1;this.Ce.write(this.string);this.emit("data",this.string);}else {for(x=w;x < v.length && !(128 <= v[x]);x++);this.string=v.slice(w,x).toString();this.Ce.write(this.string);this.emit("data",this.string);w=x - 1;}}};c.prototype.end=function(v){v && v.length && this.Ce.write(v.toString());this.Ce.end();return !0;};c.prototype.on=function(v,w){var x;x=this;x.Ce["on" + v] || -1 === m.indexOf(v) || (x.Ce["on" + v]=function(){var y;y=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);y.splice(0,0,v);x.emit.apply(x,y);});return u.prototype.on.call(x,v,w);};c.prototype.tt=function(){d(this.Ce);this.emit("close");};b["default"]=k;},31238:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});b.fya=void 0;t=a(22970);t.__importDefault(a(42979));a(70390);d=a(93652);n=a(34801);c=a(25462);t.__importDefault(a(32260));h=a(56058);a=(function(){function f(){}f.prototype.vLa=function(e,g,k,l,m,p){n.qob(e,g,k,l,m,p);};f.prototype.cdc=function(e,g,k,l,m,p){c.rob(e,g,k,l,null,m,p);};f.prototype.aX=function(e,g,k,l,m){d.pob(e,g,k,l,m);};f.prototype.vcc=function(e,g,k){h.fob(e,g,k);};return f;})();b.fya=a;},56058:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.fob=b.U4a=void 0;d=a(22970);n=d.__importDefault(a(42979));c=a(68480);h=a(93652);f=a(32260);e=(function(g){function k(l,m,p){var r;r=g.call(this,l,null,null,0,p) || this;n.default(p,function(){var q,u,v,w,x,y,z,B;q=m.ac;u=m.Bl;v=m.cg;w=m.ij;x=m.ye;y=h.wK(x);z=c.QRa(m.KBb,l.VE);try{B=m.keyResponseData;r.zxb(l,y,z,u,B?B.ac:q,v,m.dM);return r;}catch(A){throw (f.zd(A) && (A.kc(q),A.Nf(u),A.ze(v),A.nf(w),A.Rh(x)),A);}});return r;}d.__extends(k,g);return k;})(h.RBa);b.U4a=e;b.fob=function(g,k,l){new e(g,k,l);};},70390:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.LEb=b.rcc=b.M2=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(10690));c=t.__importDefault(a(20754));h=t.__importDefault(a(36114));f=t.__importDefault(a(42979));e=t.__importDefault(a(6838));g=t.__importDefault(a(24571));k=t.__importDefault(a(42458));l=t.__importDefault(a(58511));m=t.__importDefault(a(88257));p=a(44127);r=a(32260);q=(function(){return function(v,w){this.p8=v;this.uM=w;};})();u=(function(){function v(w,x,y,z,B,A,C,D){var F;0 > B && (B=-1);if(0 > y || y > d.default.Se)throw new n.default("Message ID " + y + " is out of range.");if(!x)throw new c.default(h.default.sBa);if(D){F=D.uM;D=D.p8;}else (F=parseInt(w.getTime() / 1E3),D=w.wg.ff(),D.put("timestamp",F),D.put("messageid",y),D.put("errorcode",z),0 < B && D.put("internalcode",B),A && D.put("errormsg",A),C && D.put("usermsg",C));this.$j=w;this.Bl=x;this.uM=F;this.ye=y;this.errorCode=z;this.k$=B;this.errorMessage=A;this.p8=D;this.encodings={};}v.prototype.rQa=function(){return null !== this.uM?new Date(1E3 * this.uM):null;};v.prototype.hn=function(w,x,y){var z;z=this;f.default(y,function(){var B,A;if(z.encodings[x])return z.encodings[x];B=z.$j.Cna(z.Bl.scheme);if(!B)throw new e.default("No entity authentication factory found for entity.");try{A=B.Rz(z.$j,z.Bl);}catch(C){if(C instanceof g.default || C instanceof k.default)throw new e.default("Error creating the entity crypto context.",C);throw C;}w.sj(z.p8,x,{result:function(C){A.encrypt(C,w,x,{result:function(D){A.sign(D,w,x,{result:function(F){f.default(y,function(){var G;G=w.ff();G.put(l.default.xAa,z.Bl);G.put(l.default.XUb,D);G.put(l.default.zAa,F);w.sj(G,x,{result:function(E){f.default(y,function(){return z.encodings[x]=E;});},error:y.error});});},error:function(F){F instanceof k.default && (F=new e.default("Error signing the error data.",F));y.error(F);}});},error:function(D){D instanceof k.default && (D=new e.default("Error signing the error data.",D));y.error(D);}});},error:y.error});});};return v;})();b.M2=u;b.rcc=function(v,w,x,y,z,B,A,C){f.default(C,function(){return new u(v,w,x,y,z,B,A,null);});};b.LEb=function(v,w,x,y,z){f.default(z,function(){var B,A,C,D;B=v.wg;if(!x)throw new c.default(h.default.sBa);try{A=x.scheme;C=v.Cna(A);if(!C)throw new g.default(h.default.Zya,A);D=C.Rz(v,x);}catch(F){throw (r.zd(F) && F.Nf(x),F);}D.verify(w,y,B,{result:function(F){f.default(z,function(){if(!F)throw new k.default(h.default.GVb).Nf(x);D.decrypt(w,B,{result:function(G){f.default(z,function(){var E,H,J,L,K,M,P,I,O;try{E=B.hp(G);H=E.Ln("messageid");if(0 > H || H > d.default.Se)throw new c.default(h.default.h$a,"errordata " + E).Nf(x);}catch(Q){if(Q instanceof e.default)throw new m.default(h.default.Te,"errordata " + p.bi(G),Q).Nf(x);throw Q;}try{J=E.has("timestamp")?E.Ln("timestamp"):null;L=E.kQ("errorcode");K=!1;for(M in d.default.O)if(d.default.O[M] == L){K=!0;break;}K || (L=d.default.O.fa);if(E.has("internalcode")){P=E.kQ("internalcode");if(0 > P)throw new c.default(h.default.JUb,"errordata " + E).Nf(x).Rh(H);}else P=-1;I=E.oba("errormsg",null);O=E.oba("usermsg",null);}catch(Q){if(Q instanceof e.default)throw new m.default(h.default.Te,"errordata " + E,Q).Nf(x).Rh(H);throw Q;}E=new q(E,J);return new u(v,x,H,L,P,I,O,E);});},error:function(G){f.default(z,function(){r.zd(G) && G.Nf(x);throw G;});}});});},error:function(F){f.default(z,function(){r.zd(F) && F.Nf(x);throw F;});}});});};},58511:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.psa=void 0;t=a(22970);d=t.__importDefault(a(42979));n=t.__importDefault(a(6838));c=t.__importDefault(a(88257));h=a(58768);f=a(58892);e=t.__importDefault(a(20754));g=t.__importDefault(a(36114));k=a(70390);l=a(54449);b["default"]={xAa:"entityauthdata",Z8a:"mastertoken",Y8a:"headerdata",XUb:"errordata",zAa:"signature"};b.psa=function(m,p,r,q){function u(w,x,y){x?f.qsa(m,x,{result:function(z){v(w,z,y);},error:q.error}):v(w,null,y);}function v(w,x,y){d.default(q,function(){var z,B;try{if(p.has("headerdata")){z=p.pd("headerdata");if(0 == z.length)throw new e.default(g.default.z7a).kc(x).Nf(w);l.SEb(m,z,w,x,y,r,q);}else if(p.has("errordata")){B=p.pd("errordata");if(0 == B.length)throw new e.default(g.default.z7a).kc(x).Nf(w);k.LEb(m,B,w,y,q);}else throw new c.default(g.default.Te,p);}catch(A){if(A instanceof n.default)throw new c.default(g.default.Te,"header/errormsg " + p,A);throw A;}});}d.default(q,function(){var w,x,y,z;try{w=m.wg;x=p.has("entityauthdata")?p.lq("entityauthdata",w):null;y=p.has("mastertoken")?p.lq("mastertoken",w):null;z=p.pd("signature");}catch(B){if(B instanceof n.default)throw new c.default(g.default.Te,"header/errormsg " + p,B);throw B;}x?h.KEb(m,x,{result:function(B){u(B,y,z);},error:q.error}):u(null,y,z);});};},93652:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.pob=b.RBa=b.uec=b.wK=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(10690));c=t.__importDefault(a(42979));h=t.__importDefault(a(36114));f=t.__importDefault(a(20754));e=a(54449);a(61693);a(97962);g=t.__importDefault(a(32260));k=a(32260);new Uint8Array(0);b.wK=function(m){if(0 > m || m > d.default.Se)throw new n.default("Message ID " + m + " is outside the valid range.");return m == d.default.Se?0:m + 1;};b.uec=function(m){if(0 > m || m > d.default.Se)throw new n.default("Message ID " + m + " is outside the valid range.");return 0 == m?d.default.Se:m - 1;};l=(function(){function m(p,r,q,u,v){var w;w=this;c.default(v,function(){if(void 0 == u || null == u)u=g.default.cpc(p);else if(0 > u || u > d.default.Se)throw new n.default("Message ID " + u + " is outside the valid range.");p.Bna({result:function(x){c.default(v,function(){w.zxb(p,u,p.VE,x,r,q,null);return w;});},error:v.error});});}m.prototype.zxb=function(p,r,q,u,v,w,x){var y,z;y=[];z=p.hm.lK(v,w);y.push.apply(y,z);x && x.forEach(function(B){if(B.Bx() && !B.rh(v))throw new f.default(h.default.wEa,"st " + B + "; mt " + v).kc(v);if(B.Fv() && !B.rh(w))throw new f.default(h.default.xEa,"st " + B + "; uit " + w).kc(v).ze(w);y.push(B);},this);this.Sj=p;this.aO=u;this.Ss=v;this.jO=r;this.VE=q;this.JI=null;this.B5=this.Lw=this.o5=!1;this.KI={};this.VHa=null;this.xO=w;this.ZB=y;this.D1b=this.B1b=null;this.C1b=[];};m.prototype.Mub=function(){return this.jO;};m.prototype.Rh=function(p){if(0 > p || p > d.default.Se)throw new n.default("Message ID " + p + " is out of range.");this.jO=p;return this;};m.prototype.EC=function(){return this.Ss;};m.prototype.qx=function(){return this.xO;};m.prototype.WPb=function(){return this.Ss || this.aO.scheme.xma;};m.prototype.XPb=function(){return this.Ss || this.JI || this.aO.scheme.xma;};m.prototype.YPb=function(){return this.Ss || this.aO.scheme.KGb;};m.prototype.ZPb=function(){return this.Ss || this.JI || this.aO.scheme.KGb;};m.prototype.nG=function(p){var r;r=this;c.default(p,function(){var q,u,v;q=r.JI?r.JI.keyResponseData:null;u=[];for(v in r.KI)u.push(r.KI[v]);if(r.o5){if(!r.Ss)throw new f.default(h.default.pWb);v=r.Sj.hm.roc(r.Ss);}else v=null;q=new e.P7a(r.jO,v,r.B5,r.Lw,r.VE,u,q,r.VHa,r.xO,r.ZB);u=new e.U7a(r.B1b,r.D1b,r.C1b);r.XW(r.Sj,r.aO,r.Ss,q,u,p);});};m.prototype.XW=function(p,r,q,u,v,w){e.XW(p,r,q,u,v,w);};m.prototype.Ht=function(){return this.o5;};m.prototype.WS=function(p){if(this.o5=p)this.Lw=!1;};m.prototype.It=function(){return this.B5;};m.prototype.MZa=function(p){(this.B5=p) || (this.Lw=!1);};m.prototype.IK=function(){return this.Lw;};m.prototype.DMc=function(p){if(this.Lw=p)(this.o5=!1,this.B5=!0);};m.prototype.eKb=function(p,r){var q,u,w;q=this;if(r && !r.rh(p))throw new n.default("User ID token must be bound to master token.");if(this.JI)throw new n.default("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{u=this.Sj.hm.lK(p,r);}catch(x){if(k.zd(x))throw new n.default("Invalid master token and user ID token combination despite checking above.",x);throw x;}for(var v=this.ZB.length - 1;0 <= v;--v){w=this.ZB[v];(w.Fv() && !w.rh(r) || w.Bx() && !w.rh(p)) && this.ZB.splice(v,1);}u.forEach(function(x){q.nrb(x.name,x.Bx(),x.Fv());q.ZB.push(x);});this.Ss=p;(this.xO=r) || (this.VHa=null);};m.prototype.nf=function(p){this.VHa=p;return this;};m.prototype.u3b=function(p){this.KI[p.Sh()]=p;};m.prototype.P3b=function(p){var r;r=this.JI?this.JI.keyResponseData.ac:this.Ss;if(p.Bx() && !p.rh(r))throw new f.default(h.default.wEa,"st " + p + "; mt " + r).kc(r);if(p.Fv() && !p.rh(this.xO))throw new f.default(h.default.xEa,"st " + p + "; uit " + this.xO).kc(r).ze(this.xO);this.nrb(p.name,p.Bx(),p.Fv());this.ZB.push(p);};m.prototype.nrb=function(){var p,r,q,v;if(1 == arguments.length){p=arguments[0];r=p.name;q=p.Bx();p=p.Fv();}else (arguments.length=3,r=arguments[0],q=arguments[1],p=arguments[2]);for(var u=this.ZB.length - 1;0 <= u;--u){v=this.ZB[u];v.name == r && v.Bx() == q && v.Fv() == p && this.ZB.splice(u,1);}};m.prototype.lK=function(){var p;p=[];p.push.apply(p,this.ZB);return p;};return m;})();b.RBa=l;b.pob=function(m,p,r,q,u){new l(m,p,r,q,u);};},68480:function(t,b,a){var n,c,h,f,e,g,k,l,m;function d(p,r){var q,u,v;q={};u=[];for(v=0;v < p.length;++v)q[p[v]]=!0;for(v=0;v < r.length;++v)q[r[v]] && u.push(r[v]);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.REb=b.Z$a=b.QRa=void 0;n=a(22970);t=a(48235);c=n.__importDefault(a(42979));h=n.__importDefault(a(14945));f=a(51411);e=a(65630);g=n.__importDefault(a(6838));k=n.__importDefault(a(88257));l=n.__importDefault(a(36114));b.QRa=function(p,r){var q,u;if(!p || !r)return null;q=d(p.BJ,r.BJ);u=d(p.languages,r.languages);p=d(p.FP,r.FP);return new m(q,u,p);};m=(function(p){function r(q,u,v){var w;w=p.call(this) || this;q || (q=[]);u || (u=[]);v || (v=[]);q.sort();w.BJ=q;w.languages=u;w.FP=v;return w;}n.__extends(r,p);r.prototype.hn=function(q,u,v){var w;w=this;c.default(v,function(){var x;x=q.ff();x.put("compressionalgos",q.o7(w.BJ));x.put("languages",w.languages);for(var y=q.o7(),z=0;z < w.FP.length;++z)y.put(-1,w.FP[z].name);x.put("encoderformats",y);q.sj(x,u,v);});};r.prototype.equals=function(q){return this === q?!0:q instanceof r?h.default.l7(this.BJ,q.BJ) && h.default.l7(this.languages,q.languages) && h.default.l7(this.FP,q.FP):!1;};r.prototype.Sh=function(){return this.BJ.join(":") + "|" + this.languages.join(":") + "|" + this.FP.join(":");};return r;})(t.ro);b.Z$a=m;b.REb=function(p){var v,w,x,y,z;try{for(var r=[],q=p.fsa("compressionalgos"),u=0;q && u < q.size();++u){v=q.pe(u);(v in f.fI) && r.push(v);}q=[];w=p.fsa("languages");for(u=0;w && u < w.size();++u)q.push(w.pe(u));w=[];x=p.fsa("encoderformats");for(u=0;x && u < x.size();++u){y=x.pe(u);z=e.Iga.ZOa(y);z && w.push(z);}return new m(r,q,w);}catch(B){if(B instanceof g.default)throw new k.default(l.default.Te,"capabilities " + p,B);throw B;}};},54449:function(t,b,a){var k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M,P,I;function d(O,Q,S){var U;if(S){if(Q=O.hm.Rz(S))return Q;if(!S.Oq || !S.q$())throw new l.default(m.default.e$a,S);return new p.B4(O,S);}S=Q.scheme;U=O.Cna(S);if(!U)throw new r.default(m.default.Zya,S.name);return U.Rz(O,Q);}function n(O,Q,S){q.default(S,function(){if(Q)F.PEb(O,Q,S);else return null;});}function c(O,Q,S,U){q.default(U,function(){if(Q)C.mWa(O,Q,S,U);else return null;});}function h(O,Q,S,U){q.default(U,function(){if(S)B.$Eb(O,Q,S,U);else return null;});}function f(O,Q,S,U,W,Y,X){var aa;function Z(ca,da,ja){q.default(ja,function(){var R,N;if(da >= ca.size()){R=[];for(N in aa)R.push(aa[N]);return R;}try{R=ca.lq(da,O.wg);}catch(V){if(V instanceof w.default)throw new x.default(m.default.Te,"headerdata " + Y,V);throw V;}A.tsa(O,R,S,U,W,{result:function(V){q.default(ja,function(){aa[V.Sh()]=V;Z(ca,da + 1,ja);});},error:ja.error});});}aa={};q.default(X,function(){if(Q)Z(Q,0,X);else return [];});}function e(O,Q,S,U,W){q.default(W,function(){return {rWa:null,tWa:null,sWa:[]};});}function g(O,Q,S){var W;function U(Y,X){q.default(S,function(){var Z;if(X >= Y.size())return W;Z=Y.lq(X,O.wg);D.OEb(O,Z,{result:function(aa){q.default(S,function(){W.push(aa);U(Y,X + 1);});},error:S.error});});}W=[];q.default(S,function(){var Y;try{if(!Q.has("keyrequestdata"))return [];Y=Q.CPa("keyrequestdata");U(Y,0);}catch(X){if(X instanceof w.default)throw new x.default(m.default.Te,"headerdata " + Q,X);throw X;}});}Object.defineProperty(b,"__esModule",{value:!0});b.SEb=b.XW=b.TU=b.pSb=b.U7a=b.P7a=void 0;k=a(22970);l=k.__importDefault(a(80760));m=k.__importDefault(a(36114));p=a(43088);r=k.__importDefault(a(24571));t=a(48235);q=k.__importDefault(a(42979));u=k.__importDefault(a(51411));v=k.__importDefault(a(10690));w=k.__importDefault(a(6838));x=k.__importDefault(a(88257));y=k.__importDefault(a(42458));z=k.__importDefault(a(58511));B=a(5248);A=a(61693);a(58892);C=a(85065);D=a(59786);F=a(49140);G=k.__importDefault(a(20754));E=a(44127);H=a(68480);J=k.__importDefault(a(88361));L=a(32260);K=(function(){return function(O,Q,S,U,W,Y,X,Z,aa,ca){this.ye=O;this.RUa=Q;this.gYa=S;this.KC=U;this.ng=W;this.SC=Y;this.keyResponseData=X;this.iPb=Z;this.cg=aa;this.dM=ca;};})();b.P7a=K;M=(function(){return function(O,Q,S){this.rWa=O;this.tWa=Q;this.sWa=S;};})();b.U7a=M;P=(function(){return function(O,Q,S,U){this.NT=O;this.uM=Q;this.izc=S;this.Aoa=U;};})();b.pSb=P;I=(function(O){function Q(S,U,W,Y,X,Z,aa){var da;function ca(ja){q.default(aa,function(){var R,N,V,ba,fa,ha,la,pa,ia,na,T,ea,ka,ra,ta,qa;if(0 > Y.ye || Y.ye > u.default.Se)throw new v.default("Message ID " + Y.ye + " is out of range.");if(!U && !W)throw new v.default("Message entity authentication data or master token must be provided.");if(!W && !U.scheme.xma && Y.iPb)throw new v.default("User authentication data cannot be included if the message is not encrypted.");U=W?null:U;R=Y.RUa;N=Y.gYa;V=Y.KC;ba=Y.ng;fa=Y.ye;ha=Y.SC?Y.SC:[];la=Y.keyResponseData;pa=Y.iPb;ia=Y.cg;na=Y.dM?Y.dM:[];T=[];ea=la?la.ac:W;if(ia && (!ea || !ia.rh(ea)))throw new v.default("User ID token must be bound to a master token.");na.forEach(function(xa){if(xa.Bx() && (!ea || !xa.rh(ea)))throw new v.default("Master token bound service tokens must be bound to the provided master token.");if(xa.Fv() && (!ia || !xa.rh(ia)))throw new v.default("User ID token bound service tokens must be bound to the provided user ID token.");},da);T.forEach(function(xa){if(xa.Bx())throw new v.default("Master token bound peer service tokens must be bound to the provided peer master token.");if(xa.Fv())throw new v.default("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},da);if(Z)(ka=Z.NT,ra=Z.uM,ta=Z.Aoa,qa=Z.izc);else {ka=ia?ia.NT:null;ra=parseInt(S.getTime() / 1E3);try{ta=S.wg.ff();"string" === typeof ja && ta.put("sender",ja);ta.put("timestamp",ra);ta.put("messageid",fa);ta.put("nonreplayable","number" === typeof R);"number" === typeof R && ta.put("nonreplayableid",R);ta.put("renewable",N);ta.put("handshake",V);ba && ta.put("capabilities",ba);0 < ha.length && ta.put("keyrequestdata",ha);la && ta.put("keyresponsedata",la);pa && ta.put("userauthdata",pa);ia && ta.put("useridtoken",ia);0 < na.length && ta.put("servicetokens",na);0 < T.length && ta.put("peerservicetokens",T);}catch(xa){if(xa instanceof w.default)throw new x.default(m.default.MVb,"headerdata",xa).kc(W).Nf(U).ze(null).nf(pa).Rh(fa);throw xa;}try{qa=d(S,U,W);}catch(xa){throw (L.zd(xa) && (xa.kc(W),xa.Nf(U),xa.ze(ia),xa.nf(pa),xa.Rh(fa)),xa);}}da.Bl=U;da.ac=W;da.Aoa=ta;da.uM=ra;da.ye=fa;da.RUa=R;da.gYa=N;da.KC=V;da.KBb=ba;da.SC=ha;da.keyResponseData=la;da.ij=pa;da.cg=ia;da.dM=na;da.rWa=null;da.tWa=null;da.sWa=T;da.NT=ka;da.Fo=qa;da.encodings={};return da;});}da=O.call(this) || this;q.default(aa,function(){Z?ca(null):W?S.Bna({result:function(ja){q.default(aa,function(){var R;R=ja.Uz();ca(R?R:"");});},error:aa.error}):ca(null);});return da;}k.__extends(Q,O);Q.prototype.rQa=function(){return new Date(1E3 * this.uM);};Q.prototype.It=function(){return this.gYa;};Q.prototype.IK=function(){return this.KC;};Q.prototype.hn=function(S,U,W){var Y;Y=this;q.default(W,function(){if(Y.encodings[U.name])return Y.encodings[U.name];S.sj(Y.Aoa,U,{result:function(X){q.default(W,function(){Y.Fo.encrypt(X,S,U,{result:function(Z){q.default(W,function(){Y.Fo.sign(Z,S,U,{result:function(aa){q.default(W,function(){var ca;ca=S.ff();Y.ac?ca.put(z.default.Z8a,Y.ac):ca.put(z.default.xAa,Y.Bl);ca.put(z.default.Y8a,Z);ca.put(z.default.zAa,aa);S.sj(ca,U,{result:function(da){q.default(W,function(){return Y.encodings[U.name]=da;});},error:W.error});});},error:function(aa){q.default(W,function(){aa instanceof y.default && (aa=new w.default("Error signing the header data.",aa));throw aa;});}});});},error:function(Z){q.default(W,function(){Z instanceof y.default && (Z=new w.default("Error encrypting the header data.",Z));throw Z;});}});});},error:W.error});});};return Q;})(t.ro);b.TU=I;b.XW=function(O,Q,S,U,W,Y){new I(O,Q,S,U,W,null,Y);};b.SEb=function(O,Q,S,U,W,Y,X){function Z(da,ja,R,N,V,ba,fa,ha,la){q.default(la,function(){n(O,V,{result:function(pa){q.default(la,function(){var ia;ia=pa?pa.ac:U;c(O,ba,ia,{result:function(na){q.default(la,function(){h(O,ia,fa,{result:function(T){q.default(la,function(){var ea,ka,ra;if(T){if(!U && !S.scheme.xma)throw new G.default(m.default.xZb).ze(na).nf(T);ea=T.scheme;ka=O.Wvb(ea);if(!ka)throw new J.default(m.default.Ufb,ea).ze(na).nf(T);ka.qJa(O,U?U.Ft:S.Uz(),T,na,{result:function(ta){f(O,ha,ia,na,Y,ja,{result:function(qa){ca(da,ja,R,N,pa,na,T,ta,qa,la);},error:la.error});},error:la.error});}else {ra=na?na.NT:null;f(O,ha,ia,na,Y,ja,{result:function(ta){ca(da,ja,R,N,pa,na,T,ra,ta,la);},error:la.error});}});},error:la.error});});},error:la.error});});},error:la.error});});}function aa(da,ja){q.default(X,function(){var R,N,V,ba,fa,ha,la,pa,ia;R=O.wg;try{N=R.hp(ja);V=N.Ln("messageid");if(0 > V || V > u.default.Se)throw new G.default(m.default.h$a,"headerdata " + N).kc(U).Nf(S);}catch(na){if(na instanceof w.default)throw new x.default(m.default.Te,"headerdata " + E.bi(ja),na).kc(U).Nf(S);throw na;}try{ba=N.has("timestamp")?N.Ln("timestamp"):null;fa=N.has("keyresponsedata")?N.lq("keyresponsedata",R):null;ha=N.has("useridtoken")?N.lq("useridtoken",R):null;la=N.has("userauthdata")?N.lq("userauthdata",R):null;pa=N.has("servicetokens")?N.CPa("servicetokens"):null;}catch(na){if(na instanceof w.default)throw new x.default(m.default.Te,"headerdata " + N,na).kc(U).Nf(S).Rh(V);throw na;}ia=X;X={result:ia.result,error:function(na){L.zd(na) && (na.kc(U),na.Nf(S),na.Rh(V));ia.error(na);}};Z(da,N,V,ba,fa,ha,la,pa,X);});}function ca(da,ja,R,N,V,ba,fa,ha,la,pa){q.default(pa,function(){var ia,na,T,ea,ka,ra;ia=O.wg;try{na=ja.has("nonreplayableid")?ja.Ln("nonreplayableid"):null;T=ja.Q8("renewable");ea=ja.has("handshake")?ja.Q8("handshake"):!1;if(0 > na || na > u.default.Se)throw new G.default(m.default.nab,"headerdata " + ja.toString());ka=null;if(ja.has("capabilities")){ra=ja.lq("capabilities",ia);ka=H.REb(ra);}}catch(ta){if(ta instanceof w.default)throw new x.default(m.default.Te,"headerdata " + ja.toString(),ta).kc(U).Nf(S).ze(ba).nf(fa).Rh(R);throw ta;}g(O,ja,{result:function(ta){e(O,ja,V,Y,{result:function(qa){q.default(pa,function(){var xa,Ba,oa,va;xa=qa.rWa;Ba=qa.tWa;oa=qa.sWa;va=new K(R,na,T,ea,ka,ta,V,fa,ba,la);xa=new M(xa,Ba,oa);Ba=new P(ha,N,da,ja);new I(O,S,U,va,xa,Ba,pa);});},error:pa.error});},error:function(ta){q.default(pa,function(){L.zd(ta) && (ta.ze(ba),ta.nf(fa));throw ta;});}});});}q.default(X,function(){var da,ja;da=O.wg;S=U?null:S;if(!S && !U)throw new G.default(m.default.sBa);try{ja=d(O,S,U);}catch(R){throw (L.zd(R) && (R.kc(U),R.Nf(S)),R);}ja.verify(Q,W,da,{result:function(R){q.default(X,function(){if(!R){if(U)throw new y.default(m.default.EVb);throw new y.default(m.default.BVb);}ja.decrypt(Q,da,{result:function(N){aa(ja,N);},error:function(N){q.default(X,function(){if(N instanceof y.default || N instanceof r.default)(N.kc(U),N.Nf(S));throw N;});}});});},error:function(R){q.default(X,function(){if(R instanceof y.default || R instanceof r.default)(R.kc(U),R.Nf(S));throw R;});}});});};},34801:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A;function d(C,D,F,G){c.default(G,function(){var H,J,L,K,M,P,I;function E(){c.default(G,function(){var O;if(I >= F.length){if(P)throw P;throw new f.default(e.default.X8a,F);}O=F[I];K != O.oA?(++I,E()):M.Rz(C,O,J,H,{result:G.result,error:function(Q){c.default(G,function(){if(!B.zd(Q))throw Q;P=Q;++I;E();});}});});}H=D.ac;J=D.keyResponseData;if(!J)return null;L=J.ac;if(L.q$())return new h.B4(C,L);K=J.oA;M=C.mPa(K);if(!M)throw new f.default(e.default.wAa,K);I=0;E();});}Object.defineProperty(b,"__esModule",{value:!0});b.qob=b.Hga=void 0;n=a(22970);c=n.__importDefault(a(42979));h=a(43088);f=n.__importDefault(a(35661));e=n.__importDefault(a(36114));g=n.__importDefault(a(79804));k=n.__importDefault(a(88257));l=n.__importDefault(a(6838));t=a(53389);m=a(58511);p=a(70390);r=a(89752);q=n.__importDefault(a(20754));u=n.__importDefault(a(80760));v=n.__importDefault(a(67609));w=n.__importDefault(a(10690));x=a(42296);y=n.__importDefault(a(48795));z=a(54449);B=a(32260);A=(function(C){function D(F,G,E,H,J,L){var W;function K(Y){g.default(L,function(){W.J5=Y;W.J5.uCb({result:function(X){X?M():(W.Ve=new k.default(e.default.AVb),U());},timeout:function(){W.qr=!0;U();},error:function(X){X instanceof l.default && (X=new k.default(e.default.Te,"header",X));W.Ve=X;U();}});return W;});}function M(){W.J5.KUa({result:function(Y){m.psa(F,Y,H,{result:P,error:function(X){W.Ve=X;U();}});},timeout:function(){W.qr=!0;U();},error:function(Y){Y instanceof l.default && (Y=new k.default(e.default.Te,"header",Y));W.Ve=Y;U();}});}function P(Y){var X;W.ez=Y;if(W.ez instanceof p.M2)(W.Sia=null,W.sia=null,U());else {X=W.ez;d(F,X,E,{result:function(Z){var aa;try{W.Sia=Z;W.sia=W.Sia?W.Sia:X.Fo;try{if(X.IK() && (!X.It() || 0 == X.SC.length))throw new q.default(e.default.WTb,X);try{aa=X.ac;aa && aa.Oq?S(F,X):I(F,X);}catch(ca){B.zd(ca) && (ca.kc(X.ac),ca.Nf(X.cg),ca.ze(X.ij),ca.nf(X.ye));W.Ve=ca;U();}}catch(ca){B.zd(ca) && (ca.kc(X.ac),ca.Nf(X.Bl),ca.ze(X.cg),ca.nf(X.ij),ca.Rh(X.ye));W.Ve=ca;U();}}catch(ca){B.zd(ca) && (ca.kc(X.ac),ca.Nf(X.Bl),ca.ze(X.cg),ca.nf(X.ij),ca.Rh(X.ye));W.Ve=ca;U();}},error:function(Z){B.zd(Z) && (Z.kc(X.ac),Z.Nf(X.Bl),Z.ze(X.cg),Z.nf(X.ij),Z.Rh(X.ye));W.Ve=Z;U();}});}}function I(Y,X){var Z,aa;try{Z=X.ac;aa=X.RUa;"number" === typeof aa?Z?(null).y1c(Y,Z,aa,{result:function(ca){ca && (W.Ve=new q.default(ca,X).kc(Z).ze(X.cg).nf(X.ij).Rh(X.ye));U();},error:function(ca){B.zd(ca) && (ca.kc(Z),ca.ze(X.cg),ca.nf(X.ij),ca.Rh(X.ye));W.Ve=ca;U();}}):(W.Ve=new q.default(e.default.jUb,X).Nf(X.Bl).ze(X.cg).nf(X.ij).Rh(X.ye),U()):U();}catch(ca){B.zd(ca) && (ca.kc(X.ac),ca.Nf(X.Bl),ca.ze(X.cg),ca.nf(X.ij),ca.Rh(X.ye));W.Ve=ca;U();}}function O(Y,X){var Z;try{Z=X.ac;Z.Ev(null)?X.It()?0 == X.SC.length?(W.Ve=new q.default(e.default.DVb,X).kc(Z).ze(X.cg).nf(X.ij).Rh(X.ye),U()):(null).O6c(Y,Z,{result:function(aa){aa?(W.Ve=new q.default(aa,"Master token is expired and not renewable.").kc(Z).ze(X.cg).nf(X.ij).Rh(X.ye),U()):I(Y,X);},error:function(aa){B.zd(aa) && (aa.kc(X.ac),aa.ze(X.cg),aa.nf(X.ij),aa.Rh(X.ye));W.Ve=aa;U();}}):(W.Ve=new q.default(e.default.CVb,X).kc(Z).ze(X.cg).nf(X.ij).Rh(X.ye),U()):I(Y,X);}catch(aa){B.zd(aa) && (aa.kc(X.ac),aa.ze(X.cg),aa.nf(X.ij),aa.Rh(X.ye));W.Ve=aa;U();}}function Q(Y,X){var Z,aa;try{Z=X.ac;aa=X.cg;aa?(null).$6c(Y,Z,aa,{result:function(ca){ca?(W.Ve=new v.default(ca,aa).kc(Z).ze(aa).Rh(X.ye),U()):O(Y,X);},error:function(ca){B.zd(ca) && (ca.kc(X.ac),ca.ze(X.cg),ca.nf(X.ij),ca.Rh(X.ye));W.Ve=ca;U();}}):O(Y,X);}catch(ca){B.zd(ca) && (ca.kc(X.ac),ca.ze(X.cg),ca.nf(X.ij),ca.Rh(X.ye));W.Ve=ca;U();}}function S(Y,X){var Z;try{Z=X.ac;(null).P6c(Y,Z,{result:function(aa){aa?(W.Ve=new u.default(aa,Z).ze(X.cg).nf(X.ij).Rh(X.ye),U()):Q(Y,X);},error:function(aa){B.zd(aa) && (aa.kc(X.ac),aa.ze(X.cg),aa.nf(X.ij),aa.Rh(X.ye));W.Ve=aa;U();}});}catch(aa){B.zd(aa) && (aa.kc(X.ac),aa.ze(X.cg),aa.nf(X.ij),aa.Rh(X.ye));W.Ve=aa;U();}}function U(){W.Dk=!0;W.RI.add(!0);}W=C.call(this) || this;W.Sj=F;W.Us=G;W.WB=1;W.Bia=!1;W.Zgb=!1;W.dm=!1;W.oj=[];W.kz=-1;W.iF=0;W.$Ga=0;W.Hu=0;W.LV=0;W.Dk=!1;W.RI=new r.j2();W.ug=!1;W.qr=!1;g.default(L,function(){F.wg.xdc(G,J,{result:K,timeout:L.timeout,error:L.error});});return W;}n.__extends(D,C);D.prototype.DAc=function(F){var G;G=this;g.default(F,function(){if(!G.kq())throw new w.default("Read attempted with error message.");if(G.Bia)return null;G.J5.uCb({result:function(E){g.default(F,function(){if(!E)return (G.Bia=!0,null);G.J5.KUa({result:F.result,timeout:F.timeout,error:function(H){g.default(F,function(){if(H instanceof l.default)throw new k.default(e.default.Te,"payloadchunk",H);throw H;});}});});},timeout:F.timeout,error:function(E){g.default(F,function(){if(E instanceof l.default)throw new k.default(e.default.Te,"payloadchunk",E);throw E;});}});});};D.prototype.IUa=function(F){var G;G=this;g.default(F,function(){var E;E=G.kq();if(!E)throw new w.default("Read attempted with error message.");if(-1 != G.kz && G.kz < G.oj.length)return G.oj[G.kz++];if(G.Bia)return null;G.DAc({result:function(H){g.default(F,function(){if(!H)return null;x.UEb(G.Sj,H,G.sia,{result:function(J){g.default(F,function(){var L,K,M,P;L=E.ac;K=E.Bl;M=E.cg;P=E.S5c;if(J.ye != E.ye)throw new q.default(e.default.OWb,"payload mid " + J.ye + " header mid " + E.ye).kc(L).Nf(K).ze(M).nf(P);if(J.Kj != G.WB)throw new q.default(e.default.QWb,"payload seqno " + J.Kj + " expected seqno " + G.WB).kc(L).Nf(K).ze(M).nf(P);++G.WB;null == G.Lw && (G.Lw=E.It() && 0 < E.SC.length && J.kNa && 0 == J.data.length);J.kNa && (G.Bia=!0);L=J.data;-1 != G.$Ga && (G.oj.push(L),G.kz=-1);return L;});},error:F.error});});},timeout:F.timeout,error:F.error});});};D.prototype.Tr=function(F){var E;function G(){g.default(F,function(){if(E.ug)return !1;if(E.qr)F.timeout();else {if(E.Ve)throw E.Ve;return !0;}});}E=this;g.default(F,function(){E.Dk?G():E.RI.Jba(-1,{result:function(H){g.default(F,function(){if(void 0 === H)return !1;G();});},timeout:function(){c.default(F,function(){throw new w.default("Timeout while waiting for MessageInputStream.isReady() despite no timeout being specified.");});},error:F.error});});};D.prototype.IK=function(F){var G;G=this;g.default(F,function(){var E;E=G.kq();if(!E)return !1;if(E.IK())return !0;if(null == G.Lw)G.IUa({result:function(H){g.default(F,function(){if(!G.ug)return (G.Ck=H,G.iF=0,G.Ck || (G.Lw=!1),G.Lw);});},timeout:F.timeout,error:function(H){g.default(F,function(){B.zd(H) && (G.y5=new y.default("Error reading the payload chunk.",H));throw H;});}});else return G.Lw;});};D.prototype.kq=function(){return this.ez instanceof z.TU?this.ez:null;};D.prototype.zY=function(){return this.ez instanceof p.M2?this.ez:null;};D.prototype.Uz=function(){var F,G;F=this.kq();if(F){G=F.ac;return G?G.Ft:F.Bl.Uz();}return this.zY().Bl.Uz();};D.prototype.j$b=function(F){this.Zgb=F;};D.prototype.abort=function(){this.ug=!0;this.Us.abort();this.RI.Rka();};D.prototype.close=function(F,G){var H;function E(){H.IUa({result:function(J){J?E():G.result(!0);},timeout:function(){G.timeout();},error:function(){G.result(!0);}});}H=this;g.default(G,function(){H.J5.close(F,{result:function(){H.Zgb?H.Us.close(F,G):H.kq()?H.IK({result:function(J){J?E():G.result(!0);},timeout:G.timeout,error:function(){G.result(!0);}}):G.result(!0);},timeout:G.timeout,error:function(){G.result(!0);}});});};D.prototype.mark=function(F){this.Hu=F?F:-1;this.LV=0;this.dm=!0;if(this.Ck){for(;0 < this.oj.length && this.oj[0] !== this.Ck;)this.oj.shift();0 == this.oj.length && this.oj.push(this.Ck);this.kz=0;this.Ck=this.oj[this.kz++];this.$Ga=this.iF;}else (this.kz=-1,this.oj=[]);};D.prototype.read=function(F,G,E){var L;function H(){g.default(E,function(){var K;if(L.ug)return new Uint8Array(0);if(L.qr)E.timeout(new Uint8Array(0));else {if(L.Ve)throw L.Ve;if(null != L.y5){K=L.y5;L.y5=null;throw K;}L.IK({result:function(M){g.default(E,function(){if(void 0 === M)return new Uint8Array(0);if(M)return null;J();});},timeout:E.timeout,error:function(M){g.default(E,function(){L.y5=null;throw new y.default("Error reading the payload chunk.",M);});}});}});}function J(){g.default(E,function(){var M,P,I;function K(O){g.default(O,function(){var Q,S,U;if(M && I >= M.length)return M.subarray(0,I);Q=-1;if(L.Ck){S=L.Ck.length - L.iF;if(!M){U=S;if(-1 != L.kz)for(var W=L.kz;W < L.oj.length;++W)U+=L.oj[W].length;0 < U && (M=new Uint8Array(U));}S=Math.min(S,M?M.length - I:0);0 < S && (Q=L.Ck.subarray(L.iF,L.iF + S),M.set(Q,P),Q=S,P+=S,L.iF+=S,L.dm && (L.LV+=S,-1 != L.Hu && L.LV > L.Hu && (L.dm=!1,L.LV=L.Hu=0)));}-1 != Q?(I+=Q,K(O)):L.IUa({result:function(Y){g.default(O,function(){if(L.ug)return M?M.subarray(0,I):new Uint8Array(0);L.Ck=Y;L.iF=0;if(L.Ck)K(O);else return 0 == I && 0 != F?null:M?M.subarray(0,I):new Uint8Array(0);});},timeout:function(){O.timeout(M?M.subarray(0,I):new Uint8Array(0));},error:function(Y){g.default(O,function(){B.zd(Y) && (Y=new y.default("Error reading the payload chunk.",Y));if(0 < I)return (L.y5=Y,M.subarray(0,I));throw Y;});}});});}M=-1 != F?new Uint8Array(F):void 0;P=0;I=0;K(E);});}L=this;g.default(E,function(){if(-1 > F)throw new RangeError("read requested with illegal length " + F);L.Dk?H():L.RI.Jba(G,{result:function(K){void 0 === K?E.result(!1):H();},timeout:function(){E.timeout(new Uint8Array(0));},error:E.error});});};D.prototype.reset=function(){this.dm && (this.kz=0,0 < this.oj.length?(this.Ck=this.oj[this.kz++],this.iF=this.$Ga):this.Ck=null,this.LV=0);};return D;})(t.qga);b.Hga=A;b.qob=function(C,D,F,G,E,H){new A(C,D,F,G,E,H);};},25462:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r;Object.defineProperty(b,"__esModule",{value:!0});b.rob=b.aWb=void 0;t=a(22970);d=t.__importDefault(a(79804));n=a(54449);c=a(68480);h=a(42296);f=a(51411);e=t.__importDefault(a(6838));g=t.__importDefault(a(48795));k=t.__importDefault(a(10690));l=a(70390);m=a(89752);p=a(32260);r=(function(){function q(u,v,w,x,y,z,B){var A;A=this;this.Sj=u;this.zia=v;this.ez=w;this.WB=1;this.Ck=[];this.Ygb=this.ml=!1;this.Vgb=!0;this.oj=[];this.Dk=!1;this.RI=new m.j2();this.qr=this.ug=!1;this.Ve=null;d.default(B,function(){var D,F,G,E;function C(){A.Dk=!0;A.RI.add(!0);}D=u.wg;if(w instanceof n.TU)(G=(F=c.QRa(u.VE,w.KBb))?f.jvb(F.BJ):null,E=D.kvb());else (F=u.VE,G=null,E=y);A.W_b=E;A.VE=F;A.sia=x;A.oGa=G;w.hn(D,E,{result:function(H){v.write(H,0,H.length,z,{result:function(J){try{A.ug?C():J < H.length?(A.qr=!0,C()):v.flush(z,{result:function(L){A.ug || (A.qr=!L);C();},timeout:function(){A.qr=!0;C();},error:function(L){A.Ve=L;C();}});}catch(L){A.Ve=L;C();}},timeout:function(){A.qr=!0;C();},error:function(J){A.Ve=J;C();}});},error:function(H){A.Ve=H instanceof e.default?new g.default("Error encoding the message header.",H):H;C();}});return A;});}q.prototype.Tr=function(u){var w;function v(){d.default(u,function(){if(w.ug)return !1;if(w.qr)u.timeout();else {if(w.Ve)throw w.Ve;return !0;}});}w=this;d.default(u,function(){w.Dk?v():w.RI.Jba(-1,{result:function(x){d.default(u,function(){if(void 0 === x)return !1;v();});},timeout:function(){d.default(u,function(){throw new k.default("Timeout while waiting for MessageOutputStream.isReady() despite no timeout being specified.");});},error:u.error});});};q.prototype.mMc=function(u,v,w){var y;function x(){y.flush(v,{result:function(z){d.default(w,function(){if(!z)throw new g.default("flush() aborted");y.oGa=u;return !0;});},timeout:w.timeout,error:w.error});}y=this;d.default(w,function(){if(!y.kq())throw new k.default("Cannot write payload data for an error message.");if(y.oGa == u)return !0;if(u){if(!y.VE)return !1;for(var z=y.VE.BJ,B=0;B < z.length;++B)if(z[B] == u){x();return;}return !1;}x();});};q.prototype.kq=function(){return this.ez instanceof n.TU?this.ez:null;};q.prototype.zY=function(){return this.ez instanceof l.M2?this.ez:null;};q.prototype.hPc=function(){this.Vgb=!1;this.oj=[];};q.prototype.abort=function(){this.ug=!0;this.zia.abort();this.RI.Rka();};q.prototype.f$b=function(u){this.Ygb=u;};q.prototype.close=function(u,v){var w;w=this;d.default(v,function(){if(w.ug)return !1;if(w.qr)v.timeout();else {if(w.Ve)throw w.Ve;if(w.ml)return !0;w.ml=!0;w.flush(u,{result:function(x){d.default(v,function(){x && (w.Ck=null);if(w.Ygb)w.zia.close(u,v);else return x;});},timeout:v.timeout,error:v.error});}});};q.prototype.flush=function(u,v){var x;function w(){d.default(v,function(){var y,z,D;if(!x.Ck || !x.ml && 0 == x.Ck.length)return !0;y=x.kq();if(!y || y.IK())return !0;z=0;x.Ck.forEach(function(F){z+=F.length;});for(var B=new Uint8Array(z),A=0,C=0;C < x.Ck.length;++C){D=x.Ck[C];B.set(D,A);A+=D.length;}h.yob(x.Sj,x.WB,y.ye,x.ml,x.oGa,B,x.sia,{result:function(F){d.default(v,function(){x.Vgb && x.oj.push(F);F.hn(x.Sj.wg,x.W_b,{result:function(G){d.default(v,function(){x.zia.write(G,0,G.length,u,{result:function(E){d.default(v,function(){if(x.ug)return !1;E < F.length?v.timeout():x.zia.flush(u,{result:function(H){d.default(v,function(){if(x.ug)return !1;if(H)return (++x.WB,x.Ck=x.ml?null:[],!0);v.timeout();});},timeout:v.timeout,error:function(H){d.default(v,function(){p.zd(H) && (H=new g.default("Error encoding payload chunk [sequence number " + x.WB + "].",H));throw H;});}});});},timeout:function(){v.timeout();},error:function(E){d.default(v,function(){p.zd(E) && (E=new g.default("Error encoding payload chunk [sequence number " + x.WB + "].",E));throw E;});}});});},error:function(G){d.default(v,function(){if(G instanceof e.default)throw new g.default("Error encoding payload chunk [sequence number " + x.WB + "].",G);throw G;});}});});},error:function(F){d.default(v,function(){p.zd(F) && (F=new g.default("Error encoding payload chunk [sequence number " + x.WB + "].",F));throw F;});}});});}x=this;this.Tr({result:function(y){d.default(v,function(){if(y)w();else return !1;});},timeout:v.timeout,error:v.error});};q.prototype.write=function(u,v,w,x,y){var z;z=this;d.default(y,function(){var B;if(z.ug)return !1;if(z.qr)y.timeout();else {if(z.Ve)throw z.Ve;if(z.ml)throw new g.default("Message output stream already closed.");if(0 > v)throw new RangeError("Offset cannot be negative.");if(0 > w)throw new RangeError("Length cannot be negative.");if(v + w > u.length)throw new RangeError("Offset plus length cannot be greater than the array length.");B=z.kq();if(!B)throw new k.default("Cannot write payload data for an error message.");if(B.IK())throw new k.default("Cannot write payload data for a handshake message.");B=u.subarray(v,v + w);z.Ck.push(B);return B.length;}});};return q;})();b.aWb=r;b.rob=function(q,u,v,w,x,y,z){new r(q,u,v,w,x,y,z);};},41962:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.aab=void 0;t=a(22970);d=t.__importDefault(a(20754));t.__importDefault(a(42979));a(61693);t.__importDefault(a(10690));a=(function(){function n(c,h,f){this.$j=c;this.eX=h.una();this.hb=f;}n.prototype.Jjb=function(c){try{this.hb.P3b(c);}catch(h){if(!(h instanceof d.default))throw h;}};return n;})();b.aab=a;},84898:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.fab=void 0;d=a(22970).__importDefault(a(2178));t=(function(){function n(c,h){this.Vhb=new d.default(c,h);}n.prototype.send=function(c,h){for(var f=[],e=2;e < arguments.length;e++)f[e - 2]=arguments[e];return this.Vhb.send(c,h,f);};n.prototype.request=function(c,h){for(var f=[],e=2;e < arguments.length;e++)f[e - 2]=arguments[e];return this.Vhb.request(c,h,f);};return n;})();b.fab=t;},2178:function(t,b,a){var c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M;function d(P,I,O){return function(){I && P.PV.cancel(I);O.abort();};}function n(P){for(;P;){if(P instanceof e.default)return !0;P=y.zd(P)?P.zc:void 0;}return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.fWb=b.gWb=b.dWb=void 0;c=a(22970);h=c.__importDefault(a(42979));f=c.__importDefault(a(79804));e=c.__importDefault(a(25978));g=c.__importDefault(a(1966));k=a(31238);l=a(74015);m=a(93652);p=c.__importDefault(a(10690));r=c.__importDefault(a(51411));q=a(41962);u=c.__importDefault(a(20754));v=c.__importDefault(a(36114));w=a(89752);x=a(81214);y=a(32260);z=(function(){return function(P,I){this.input=P;this.PR=I;};})();b.dWb=z;B=(function(){function P(I,O){this.Sj=I;this.Ss=O;}P.prototype.equals=function(I){return this === I?!0:I instanceof P?this.Sj === I.Sj && this.Ss.equals(I.Ss):!1;};P.prototype.Sh=function(){return this.Sj.Sh() + ":" + this.Ss.Sh();};return P;})();t=(function(){function P(I){this.Iw=I;}P.prototype.una=function(){return this.Iw.una();};P.prototype.WPa=function(){return this.Iw.WPa();};P.prototype.s$=function(){return this.Iw.s$();};P.prototype.lpa=function(){return this.Iw.lpa();};P.prototype.Ht=function(){return this.Iw.Ht();};P.prototype.D$=function(){return this.Iw.D$();};P.prototype.Wz=function(){return this.Iw.Wz();};P.prototype.goa=function(I,O,Q,S){this.Iw.goa(I,O,Q,S);};P.prototype.lQ=function(I){this.Iw.lQ(I);};P.prototype.q1a=function(I,O,Q){this.Iw.q1a(I,O,Q);};P.prototype.write=function(I,O,Q){this.Iw.write(I,O,Q);};P.prototype.xna=function(){return this.Iw.xna();};return P;})();A=(function(P){function I(O,Q){Q=P.call(this,Q) || this;Q.oj=O;return Q;}c.__extends(I,P);I.prototype.write=function(O,Q,S){var U,W;U=this;if(this.oj && 0 != this.oj.length){W=function(Y){var X;if(Y == U.oj.length)S.result(!0);else {X=U.oj[Y];O.mMc(X.hla,Q,{result:function(){O.write(X.data,0,X.data.length,Q,{result:function(){f.default(S,function(){X.kNa?O.close(Q,{result:function(Z){Z?W(Y + 1):S.result(Z);},timeout:S.timeout,error:S.error}):O.flush(Q,{result:function(Z){Z?W(Y + 1):S.result(Z);},timeout:S.timeout,error:S.error});});},timeout:S.timeout,error:S.error});},timeout:S.timeout,error:S.error});}};W(0);}else P.prototype.write.call(this,O,Q,S);};return I;})(t);C=(function(P){function I(O){return P.call(this,O) || this;}c.__extends(I,P);I.prototype.D$=function(){return !1;};return I;})(t);D=(function(){return function(P,I){this.ac=P;this.XQc=I;};})();F=(function(){return function(P,I){this.hb=P;this.$zc=I;};})();G=(function(){return function(P,I){this.request=P;this.KC=I;};})();E=(function(){return function(P,I){this.request=I.request;this.KC=I.KC;this.response=P;};})();H={};J=(function(){function P(I){I || (I=new k.fya());this.dF=I;this.Eia=null;this.kF=[];this.hO={};}P.prototype.nQ=function(I,O,Q,S){var U;U=this;f.default(S,function(){var W,Y,X,Z,aa;W=O.hm;Y=W.EC();if(!Y)return null;X=new B(O,Y).Sh();Z=U.hO[X];Z || (Z=new l.nEa(),U.hO[X]=Z);aa=Z.SHc(Q,{result:function(ca){f.default(S,function(){var da;if(void 0 === ca)throw new e.default("getNewestMasterToken aborted.");da=W.EC();if(Y.equals(da))return new D(Y,ca);Z.unlock(ca);Z.hQb(Q,{result:function(ja){f.default(S,function(){if(void 0 === ja)throw new e.default("getNewestMasterToken aborted.");delete U.hO[X];Z.unlock(ja);return U.nQ(I,O,Q,S);});},timeout:S.timeout,error:S.error});});},timeout:S.timeout,error:S.error});I.J0(function(){aa && (Z.cancel(aa),aa=void 0);});});};P.prototype.jMa=function(I,O){var Q;Q=this;O && setTimeout(function(){var S,U;S=new B(I,O).Sh();U=Q.hO[S];U || (U=new l.nEa(),Q.hO[S]=U);U.hQb(-1,{result:function(W){W && (I.hm.KHb(O),delete Q.hO[S],U.unlock(W));},timeout:function(){throw new p.default("Unexpected timeout received.");},error:function(W){throw W;}});},0);};P.prototype.Yt=function(I,O){O && O.ac && (I=new B(I,O.ac).Sh(),(I=this.hO[I]) && I.unlock(O.XQc));};P.prototype.USc=function(I,O,Q){var S;S=I.hm;Q && (S.eda(Q.keyResponseData.ac,Q.Fo),this.jMa(I,O.ac));};P.prototype.KSc=function(I,O,Q){var S,U;S=Q.kq();if(S){U=I.hm;if(S=S.keyResponseData)(U.eda(S.ac,Q.Sia),this.jMa(I,O.ac));}};P.prototype.$Lb=function(I,O,Q,S){var Y,X;I=I.hm;for(var U=[],W=0;W < S.length;++W){Y=S[W];if(!Y.rh(O) || !O.Oq){X=Y.getData();X && 0 == X.length?I.Kta(Y.name,Y.Bx()?O:null,Y.Fv()?Q:null):U.push(Y);}}0 < U.length && I.Eja(U);};P.prototype.l7b=function(I,O,Q,S,U){var W;W=this;this.nQ(I,O,S,{result:function(Y){h.default(U,function(){var X,Z,aa,ca,da;try{X=Y && Y.ac;Z=void 0;if(X){aa=Q.Wz();ca=O.hm;da=aa?ca.qx(aa):null;Z=da && da.rh(X)?da:null;}else Z=null;W.dF.aX(O,X,Z,null,{result:function(ja){h.default(U,function(){ja.WS(Q.Ht());return {hb:ja,yp:Y};});},error:function(ja){h.default(U,function(){W.Yt(O,Y);y.zd(ja) && (ja=new p.default("User ID token not bound to master token despite internal check.",ja));throw ja;});}});}catch(ja){W.Yt(O,Y);}});},timeout:U.timeout,error:U.error});};P.prototype.h7b=function(I,O,Q,S,U,W){var Y;Y=this;this.dF.vcc(O,S,{result:function(X){f.default(W,function(){X.WS(Q.Ht());Y.nQ(I,O,U,{result:function(Z){f.default(W,function(){var aa,ca,da,ja,R;try{aa=Z && Z.ac;ca=void 0;if(aa){da=Q.Wz();ja=O.hm;R=da?ja.qx(da):null;ca=R && R.rh(aa)?R:null;}else ca=null;X.eKb(aa,ca);return {hb:X,yp:Z};}catch(N){Y.Yt(O,Z);}});},timeout:W.timeout,error:W.error});});},error:W.error});};P.prototype.m7b=function(I,O,Q,S,U,W,Y){var aa;function X(ca,da){aa.nQ(I,O,W,{result:function(ja){f.default(Y,function(){var R,N,V;R=ja && ja.ac;N=m.wK(U.ye);V=new A(da,Q);aa.dF.aX(O,R,null,N,{result:function(ba){f.default(Y,function(){ba.WS(V.Ht());return {ZF:new F(ba,V),yp:ja};});},error:Y.error});});},timeout:Y.timeout,error:Y.error});}function Z(ca,da){f.default(Y,function(){var ja,R;ja=m.wK(U.ye);R=new A(da,Q);aa.dF.aX(O,null,null,ja,{result:function(N){f.default(Y,function(){N.WS(R.Ht());return {ZF:new F(N,R),yp:null};});},error:Y.error});});}aa=this;f.default(Y,function(){var ca,da,ja;ca=S.request.kq();da=S.request.oj;ja=U.errorCode;switch(ja){case r.default.O.Uh:case r.default.O.gg:O.Bna({result:function(R){f.default(Y,function(){if(!R)return null;Z(ca,da);});},error:Y.error});break;case r.default.O.$c:case r.default.O.Hha:Q.goa(ja,!1,!0,{result:function(R){f.default(Y,function(){if(!R)return null;X(ca,da);});},error:Y.error});break;case r.default.O.Le:X(ca,da);break;case r.default.O.K3:Q.lQ({result:function(R){f.default(Y,function(){var N,V;if(null === R || 0 === R.length)return null;N=m.wK(U.ye);V=new A(da,Q);aa.dF.aX(O,null,null,N,{result:function(ba){f.default(Y,function(){ba.MZa(!0);ba.WS(V.Ht());return {ZF:new F(ba,V),yp:null};});},error:Y.error});});},error:Y.error});break;case r.default.O.K2:Q.lQ({result:function(R){f.default(Y,function(){if(null === R || 0 === R.length)return null;aa.nQ(I,O,W,{result:function(N){f.default(Y,function(){var V,ba,fa,ha;V=N && N.ac;if(V){ba=Q.Wz();fa=O.hm;ba=(ba=ba?fa.qx(ba):null) && ba.rh(V)?ba:null;}else ba=null;fa=m.wK(U.ye);ha=new A(da,Q);aa.dF.aX(O,V,ba,fa,{result:function(la){f.default(Y,function(){var pa;pa=ca.ac;pa && !pa.equals(V) || la.MZa(!0);la.WS(ha.Ht());return {ZF:new F(la,ha),yp:N};});},error:Y.error});});},timeout:Y.timeout,error:Y.error});});},error:Y.error});break;case r.default.O.jEa:aa.nQ(I,O,W,{result:function(R){f.default(Y,function(){var N,V,ba,fa;N=R && R.ac;if(N){V=Q.Wz();ba=O.hm;V=(V=V?ba.qx(V):null) && V.rh(N)?V:null;}else V=null;ba=m.wK(U.ye);fa=new A(da,Q);aa.dF.aX(O,N,V,ba,{result:function(ha){f.default(Y,function(){ha.WS(fa.Ht());return {ZF:new F(ha,fa),yp:R};});},error:Y.error});});},timeout:Y.timeout,error:Y.error});break;default:return null;}});};P.prototype.N9b=function(I,O,Q){switch(Q.errorCode){case r.default.O.gg:case r.default.O.Uh:this.jMa(I,O.ac);break;case r.default.O.Le:case r.default.O.$c:(Q=O.cg,O.ac && Q && I.hm.kca(Q));}};P.prototype.send=function(I,O,Q,S,U,W,Y,X){var ja;function Z(R,N,V){f.default(X,function(){var ba;ba=new q.aab(O,Q,U);Q.q1a(ba,V,{result:function(){U.nG({result:function(fa){f.default(X,function(){var ha,la;ha=Q.xna();ha && ha.XLc(fa);ha=U.JI;ja.USc(O,fa,ha);ja.$Lb(O,ha?ha.keyResponseData.ac:R,N,fa.dM);ha=ha?ha.Fo:fa.Fo;if(I.ug)throw new e.default("send aborted.");la=null != ja.Eia?ja.Eia.J5c(S):S;ja.dF.cdc(O,la,fa,ha,Y,{result:function(pa){f.default(X,function(){I.J0(function(){pa.abort();});pa.f$b(W);pa.Tr({result:function(ia){f.default(X,function(){if(!ia)throw new e.default("MessageOutputStream aborted.");aa(pa,V);});},timeout:X.timeout,error:X.error});});},timeout:X.timeout,error:X.error});});},timeout:X.timeout,error:X.error});},error:X.error});});}function aa(R,N){N?f.default(X,function(){return new G(R,N);}):Q.write(R,Y,{result:function(){f.default(X,function(){if(I.ug)throw new e.default("MessageOutputStream write aborted.");return new G(R,N);});},timeout:X.timeout,error:X.error});}function ca(R,N,V){f.default(X,function(){var ba,fa,ha;ba=!(!(V || Q.s$() && !U.XPb() || Q.lpa() && !U.ZPb()) && (!Q.Ht() || U.Ht() && R));U.DMc(ba);fa=[];if(U.It()){ha=O.Vna();if(!R || R.It(ha) || Q.Ht()){Q.lQ({result:function(la){f.default(X,function(){var ia;if(ba && (null === la || 0 == la.length))throw new u.default(v.default.XTb);if(null !== la)for(var pa=0;pa < la.length;++pa){ia=la[pa];fa.push(ia);U.u3b(ia);}Z(R,N,ba,fa);});},error:X.error});return;}}Z(R,N,ba,fa);});}function da(R,N,V){f.default(X,function(){ca(R,N,V);});}ja=this;f.default(X,function(){var R,N,V,ba;R=U.EC();N=U.qx();V=!1;if(Q.Wz()){ba=!N;Q.goa(null,U.It(),ba,{result:function(fa){f.default(X,function(){fa && (U.WPb() && U.YPb()?U.nf(fa):V=!0);da(R,N,V);});},error:X.error});}else da(R,N,V);});};P.prototype.dIc=function(I,O,Q,S,U,W,Y){var Z;function X(aa){f.default(Y,function(){var ca,da,ja,R,N,V,ba,fa,ha,la,pa,ia,na;ca=aa.kq();da=aa.zY();ja=Q.xna();ja && ja.gIc(ca?ca:da);if(ca){ja=ca.ac;R=ca.Bl;N=ca.cg;V=ca.ij;}else (ja=null,R=da.Bl,V=N=null);if(U){ba=da?da.errorCode:null;if(ca || ba != r.default.O.fa && ba != r.default.O.ar && ba != r.default.O.gg && ba != r.default.O.Uh){ba=ca?ca.ye:da.ye;fa=m.wK(U.ye);if(ba != fa)throw new u.default(v.default.yZb,"expected " + fa + "; received " + ba).kc(ja).Nf(R).ze(N).nf(V);}}try{ha=Q.WPa();if(ha && R){la=R.Uz();if(la && ha != la)throw new u.default(v.default.FVb,"expected " + ha + "; received " + la);}if(ca){U && Z.KSc(O,U,aa);pa=ca.keyResponseData;ba=la=ha=void 0;ha=pa?pa.ac:ca.ac;la=ca.cg;ba=ca.dM;ia=Q.Wz();ia && la && !la.Oq && O.hm.Ija(ia,la);Z.$Lb(O,ha,la,ba);}na=ca?ca.rQa():null === da || void 0 === da?void 0:da.rQa();na && U && O.aTc(na);}catch(T){throw (y.zd(T) && (T.kc(ja),T.Nf(R),T.ze(N),T.nf(V)),T);}return aa;});}Z=this;f.default(Y,function(){var aa,ca,da;if(I.ug)throw new e.default("receive aborted.");aa=[];U && (aa=U.SC.filter(function(){return !0;}));ca=Q.una();da=Z.Eia?Z.Eia.A5c(S):S;Z.dF.vLa(O,da,aa,ca,W,{result:function(ja){f.default(Y,function(){I.J0(function(){ja.abort();});ja.Tr({result:function(R){f.default(Y,function(){if(!R)throw new e.default("MessageInputStream aborted.");X(ja);});},timeout:Y.timeout,error:Y.error});});},timeout:Y.timeout,error:Y.error});});};P.prototype.RLc=function(I,O,Q,S,U,W,Y,X,Z,aa){var da;function ca(ja,R,N){f.default(aa,function(){var V,ba;V=ja.hb;ba=ja.yp;V.MZa(N);da.send(I,O,Q,U,V,X,Z,{result:function(fa){f.default(aa,function(){var ha,la;ha=fa.request.kq();la=ha.SC;0 == Y || fa.KC || 1 == Y && (null == la || 0 == la.length) || ha.It() && ha.ac && ha.ij?da.dIc(I,O,Q,S,ha,Z,{result:function(pa){f.default(aa,function(){var ia;ia=pa.zY();ia && da.N9b(O,ha,ia);N && da.g0(O,R,pa);da.Yt(O,ba);pa.j$b(X);return new E(pa,fa);});},timeout:function(){f.default(aa,function(){N && da.g0(O,R,null);da.Yt(O,ba);aa.timeout();});},error:function(pa){f.default(aa,function(){N && da.g0(O,R,null);da.Yt(O,ba);aa.error(pa);});}}):f.default(aa,function(){N && da.g0(O,R,null);da.Yt(O,ba);return new E(null,fa);});});},timeout:function(){f.default(aa,function(){N && da.g0(O,R,null);da.Yt(O,ba);aa.timeout();});},error:function(fa){f.default(aa,function(){N && da.g0(O,R,null);da.Yt(O,ba);aa.error(fa);});}});});}da=this;f.default(aa,function(){var ja;ja=new w.j2();da.O2b(I,O,Q,ja,W,Z,{result:function(R){ca(W,ja,R);},timeout:function(){f.default(aa,function(){da.Yt(O,W.yp);aa.timeout();});},error:function(R){f.default(aa,function(){da.Yt(O,W.yp);if(R instanceof e.default)return null;aa.error(R);});}});});};P.prototype.O2b=function(I,O,Q,S,U,W,Y){var ca;function X(da,ja,R,N,V){f.default(Y,function(){var ha,la;if(I.ug)throw new e.default("acquireRenewalLock aborted.");for(var ba=null,fa=0;fa < ca.kF.length;++fa){ha=ca.kF[fa];if(ha.$j === O){ba=ha.Zf;break;}}if(!ba)return (ca.kF.push({$j:O,Zf:S}),!0);la=ba.Jba(W,{result:function(pa){f.default(Y,function(){var ia;if(void 0 === pa)throw new e.default("acquireRenewalLock aborted.");ba.add(pa);if(pa === H)X(da,ja,R,N,V);else {ia=da;da && da.equals(pa)?aa(ia,da,ja,R,N,V):(ca.Yt(O,V),ca.nQ(I,O,W,{result:function(na){f.default(Y,function(){(da=(U.yp=na) && na.ac)?aa(ia,da,ja,R,N,na):X(da,ja,R,N,na);});},timeout:Y.timeout,error:Y.error}));}});},timeout:Y.timeout,error:Y.error});I.J0(function(){la && (ba.cancel(la),la=void 0);});});}function Z(da,ja){f.default(Y,function(){var R,V;if(I.ug)throw new e.default("acquireRenewalLock aborted.");R=O.Vna();if(!da || da.It(R) || !ja && Q.Wz() || ja && ja.It(R)){R=null;for(var N=0;N < ca.kF.length;++N){V=ca.kF[N];if(V.$j === O){R=V.Zf;break;}}if(!R)return (ca.kF.push({$j:O,Zf:S}),!0);}return !1;});}function aa(da,ja,R,N,V,ba){f.default(Y,function(){var fa;if(N && !R || R && !R.rh(ja)){fa=O.hm.qx(N);R=fa && fa.rh(ja)?fa:null;}V.eKb(ja,R);fa=O.Vna();ja.Ev(fa)?X(ja,R,N,V,ba):V.It() && ja.equals(da)?X(ja,R,N,V,ba):Q.D$() && !R?X(ja,R,N,V,ba):Z(ja,R);});}ca=this;f.default(Y,function(){var da,ja,R,N,V,ba;da=U.hb;ja=U.yp;R=da.EC();N=da.qx();V=Q.Wz();ba=O.Vna();Q.s$() && !da.XPb() || Q.lpa() && !da.ZPb() || da.It() || !R && Q.Ht() || R && R.Ev(ba) || !(N || !V || da.WPb() && da.YPb()) || Q.D$() && (!R || V && !N)?X(R,N,V,da,ja):Z(R,N);});};P.prototype.g0=function(I,O,Q){var Y;for(var S,U,W=0;W < this.kF.length;++W){Y=this.kF[W];if(Y.$j === I){S=W;U=Y.Zf;break;}}if(U !== O)throw new p.default("Attempt to release renewal lock that is not owned by this queue.");Q?(I=Q.kq())?(Q=I.keyResponseData)?O.add(Q.ac):(I=I.ac)?O.add(I):O.add(H):O.add(H):O.add(H);this.kF.splice(S,1);};return P;})();b.gWb=J;t=(function(){function P(I,O){var Q;Q=null;"number" === typeof I && 0 < I && (Q=new x.qeb(I));this.Bhb=new J(O);this.PV=Q;this.Eib=!1;}P.prototype.submit=function(I,O,Q,S){var U,W;U=this;if(this.PV){W={result:function(Y){h.default(S,function(){U.PV.signal();return Y;});},timeout:function(){h.default(S,function(){U.PV.signal();S.timeout();});},error:function(Y){h.default(S,function(){U.PV.signal();S.error(Y);});}};Q=this.PV.wait(Q,{result:function(Y){Y?setTimeout(function(){I.call(W);},0):S.result(O);},timeout:S.timeout,error:S.error});return d(this,Q,I);}setTimeout(function(){I.call(S);},0);return d(this,null,I);};P.prototype.send=function(I,O){var U,W,Y,X,Z;for(var Q=[],S=2;S < arguments.length;S++)Q[S - 2]=arguments[S];if(this.Eib)throw new g.default("MslControl is shutdown.");if(3 == Q.length)(W=Q[0],Y=U=null,X=Q[1],Z=Q[2]);else 4 == Q.length && (W=null,U=Q[0],Y=Q[1],X=Q[2],Z=Q[3]);new C(O);Q=new M(this.Bhb,I,O,W,U,Y,X);return this.submit(Q,null,X,Z);};P.prototype.request=function(I,O,Q){var S,U,W,Y,X;if(this.Eib)throw new g.default("MslControl is shutdown.");if(3 == Q.length)(U=Q[0],W=S=null,Y=Q[1],X=Q[2]);else 4 == Q.length && (U=null,S=Q[0],W=Q[1],Y=Q[2],X=Q[3]);I=new K(this.Bhb,I,O,U,S,W,null,0,0,Y);return this.submit(I,null,Y,X);};return P;})();b.fWb=t;L={result:function(){},timeout:function(){},error:function(){}};K=(function(){function P(I,O,Q,S,U,W,Y,X,Z,aa){var ca;if(Y){ca=Y.hb;Y=Y.yp;}else Y=ca=null;this.II=I;this.Sj=O;this.Uhb=Q;this.ija=S;this.SB=U;this.hF=W;this.mO=!1;this.jGa=ca;this.Pib=Y;this.CGa=X;this.ql=aa;this.d1b=Z;this.ug=this.aja=!1;this.cGa=null;}P.prototype.abort=function(){this.ug=!0;this.cGa && this.cGa.call(this);};P.prototype.J0=function(I){this.cGa=I;};P.prototype.Pe=function(I,O,Q,S,U){var ca;function W(da){f.default(U,function(){var ja,R,N;ja=da.request;R=da.response;N=R.kq();if(!da.KC)return new z(R,ja);X(da,function(V){f.default(U,function(){var ba;if(!V)return null;ba=new A(null,I);ca.II.h7b(ca,ca.Sj,I,N,Q,{result:function(fa){f.default(U,function(){var ha;ha=new P(ca.II,ca.Sj,ba,ca.ija,null,null,fa,ca.CGa,S,ca.ql);ca.J0(function(){ha.abort();});ha.call(U);});},timeout:U.timeout,error:U.error});});});});}function Y(da){function ja(R,N){f.default(U,function(){return ca.aja || N && !N.input?new z(R.response,null):N;});}f.default(U,function(){var R;R=da.response;ca.II.m7b(ca,ca.Sj,I,da,R.zY(),Q,{result:function(N){f.default(U,function(){var V,ba;if(!N)return new z(R,null);V=N.ZF;ba=new P(ca.II,ca.Sj,V.$zc,ca.ija,null,null,{hb:V.hb,yp:N.yp},ca.CGa,S,ca.ql);ca.J0(function(){ba.abort();});ba.call({result:function(fa){f.default(U,function(){ca.aja=ba.aja;ja(da,fa);});},timeout:U.timeout,error:U.error});});},timeout:U.timeout,error:U.error});});}function X(da,ja){Z(da,function(R){R?da.response.close(ca.ql,{result:function(N){ja.call(ca,N);},timeout:function(){ja.call(ca,!0);},error:function(N){n(N) && ja.call(ca,!1);ja.call(ca,!0);}}):ja.call(ca,!1);});}function Z(da,ja){da.request.close(ca.ql,{result:function(R){ja.call(this,R);},timeout:function(){ja.call(this,!0);},error:function(R){n(R) && ja.call(this,!1);ja.call(this,!0);}});}function aa(da){f.default(U,function(){X(da,function(ja){ja?Y(da):U.result(null);});});}ca=this;f.default(U,function(){if(S + 2 > r.default.rVb)return (ca.II.Yt(ca.Sj,O.yp),ca.aja=!0,null);ca.II.RLc(ca,ca.Sj,I,ca.SB,ca.hF,O,ca.CGa,ca.mO,Q,{result:function(da){f.default(U,function(){var ja,R;if(!da)return null;ja=da.request;R=da.response;S+=2;if(!R)return new z(R,ja);R.kq()?W(da):aa(da);});},timeout:U.timeout,error:U.error});});};P.prototype.call=function(I){var Q;function O(S,U,W){f.default(I,function(){Q.Pe(Q.Uhb,{hb:S,yp:U},W,Q.d1b,{result:function(Y){f.default(I,function(){Y && Y.PR && Y.PR.hPc();!Q.mO || Y && Y.input || Q.SB.close(W,L);return Y;});},timeout:function(){f.default(I,function(){Q.mO && (Q.hF.close(W,L),Q.SB.close(W,L));I.timeout();});},error:function(Y){f.default(I,function(){Q.mO && (Q.hF.close(W,L),Q.SB.close(W,L));if(n(Y))return null;I.error(Y);});}});});}Q=this;f.default(I,function(){var S,U,W;S=Q.ql;if(!Q.SB || !Q.hF)try{Q.ija.setTimeout(Q.ql);U=Date.now();W=Q.ija.YCc();Q.hF=W.PR;Q.SB=W.input;-1 != S && (S=Q.ql - (Date.now() - U));Q.mO=!0;}catch(Y){Q.jGa && Q.II.Yt(Q.Sj,Q.Pib);Q.hF && Q.hF.close(Q.ql,L);Q.SB && Q.SB.close(Q.ql,L);if(n(Y))return null;throw Y;}Q.jGa?O(Q.jGa,Q.Pib,S):Q.II.l7b(Q,Q.Sj,Q.Uhb,Q.ql,{result:function(Y){f.default(I,function(){O(Y.hb,Y.yp,S);});},timeout:function(){f.default(I,function(){Q.mO && (Q.hF.close(Q.ql,L),Q.SB.close(Q.ql,L));I.timeout();});},error:function(Y){f.default(I,function(){Q.mO && (Q.hF.close(Q.ql,L),Q.SB.close(Q.ql,L));if(n(Y))return null;I.error(Y);});}});});};return P;})();M=(function(){function P(I,O,Q,S,U,W,Y){this.T1b=new K(I,O,Q,S,U,W,null,2,0,Y);}P.prototype.call=function(I){this.T1b.call({result:function(O){h.default(I,function(){return O?O.PR:null;});},timeout:I.timeout,error:I.error});};return P;})();b["default"]=t;},43056:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.sob=b.yWb=void 0;d=a(22970);n=a(28865);c=(function(h){function f(e,g,k,l,m){return h.call(this,e,g,k,l,m) || this;}d.__extends(f,h);f.prototype.XW=function(e,g,k,l,m,p){n.yLa(e,g,k,l,m,p);};return f;})(a(93652).RBa);b.yWb=c;b.sob=function(h,f,e,g,k){new c(h,f,e,g,k);};},61368:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.kCa=void 0;d=a(22970);t=a(31238);n=a(9635);d.__importDefault(a(43125));c=a(43056);a=(function(h){function f(){return null !== h && h.apply(this,arguments) || this;}d.__extends(f,h);f.prototype.vLa=function(e,g,k,l,m,p){n.tob(e,g,k,l,m,p,void 0);};f.prototype.eP=function(e,g,k,l,m){c.sob(e,g,k,l,m);};return f;})(t.fya);b.kCa=a;},28865:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.yLa=void 0;d=a(22970);n=d.__importDefault(a(42979));c=d.__importDefault(a(6838));h=d.__importDefault(a(42458));f=d.__importDefault(a(58511));e=a(54449);(function(g){function k(l,m,p,r,q,u,v){return g.call(this,l,m,p,r,q,u,v) || this;}d.__extends(k,g);k.prototype.hn=function(l,m,p){var r;r=this;n.default(p,function(){if(r.encodings[m])return r.encodings[m];l.sj(r.Aoa,m,{result:function(q){n.default(p,function(){r.Fo.encrypt(q,l,m,{result:function(u){n.default(p,function(){r.Fo.sign(u,l,m,{result:function(v){n.default(p,function(){var w;w=l.ff();r.ac?w.put(f.default.Z8a,r.ac):w.put(f.default.xAa,r.Bl);w.put(f.default.Y8a,u);w.put(f.default.zAa,v);l.sj(w,m,{result:function(x){n.default(p,function(){return r.encodings[m]=x;});},error:p.error});});},error:function(v){n.default(p,function(){v instanceof h.default && (v=new c.default("Error signing the header data.",v));throw v;});}});});},error:function(u){n.default(p,function(){u instanceof h.default && (u=new c.default("Error encrypting the header data.",u));throw u;});}});});},error:p.error});});};return k;})(e.TU);b.yLa=function(g,k,l,m,p,r){new e.TU(g,k,l,m,p,null,r);};},9635:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.tob=b.zWb=void 0;d=a(22970);a(66734);a(75563);t=a(34801);d.__importDefault(a(45826));n=(function(c){function h(f,e,g,k,l,m){return c.call(this,f,e,g,k,l,m) || this;}d.__extends(h,c);return h;})(t.Hga);b.zWb=n;b.tob=function(c,h,f,e,g,k){new n(c,h,f,e,g,k);};},43125:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.Ycc=b.AWb=void 0;d=a(22970);n=a(28865);c=(function(h){function f(e,g,k){return h.call(this,e,g,k) || this;}d.__extends(f,h);f.prototype.XW=function(e,g,k,l,m,p){n.yLa(e,g,k,l,m,p);};return f;})(a(56058).U4a);b.AWb=c;b.Ycc=function(h,f,e){new c(h,f,e);};},42296:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.UEb=b.yob=b.VXb=void 0;d=a(22970);t=a(48235);n=d.__importStar(a(51411));c=d.__importDefault(a(10690));h=d.__importDefault(a(42979));f=d.__importDefault(a(42458));e=d.__importDefault(a(6838));g=d.__importDefault(a(88257));k=d.__importDefault(a(36114));l=d.__importDefault(a(20754));m=d.__importDefault(a(1966));p=a(44127);r=a(53140);q=(function(){return function(v){this.payload=v;};})();u=(function(v){function w(x,y,z,B,A,C,D,F){var G;G=v.call(this) || this;if(0 > y || y > n.default.Se)throw new c.default("Sequence number " + y + " is outside the valid range.");if(0 > z || z > n.default.Se)throw new c.default("Message ID " + z + " is outside the valid range.");if(F)x=F.payload;else {if(A){if((F=r.EE.Eo(A,C),!(F && F.length < C.length) || F.length * r.EE.xPa() < C.length))(A=null,F=C);}else (A=null,F=C);x=x.wg.ff();x.put("sequencenumber",y);x.put("messageid",z);B && x.put("endofmsg",B);null != A && x.put("compressionalgo",A);x.put("data",F);}G.payload=x;G.Kj=y;G.ye=z;G.kNa=B;G.hla=A;G.data=C;G.Fo=D;G.encodings={};return G;}d.__extends(w,v);w.prototype.hn=function(x,y,z){var B;B=this;h.default(z,function(){if(B.encodings[y])return B.encodings[y];x.sj(B.payload,y,{result:function(A){h.default(z,function(){B.Fo.encrypt(A,x,y,{result:function(C){h.default(z,function(){B.Fo.sign(C,x,y,{result:function(D){h.default(z,function(){var F;F=x.ff();F.put("payload",C);F.put("signature",D);x.sj(F,y,{result:function(G){h.default(z,function(){return B.encodings[y]=G;});},error:z.error});});},error:function(D){h.default(z,function(){if(D instanceof f.default)throw new e.default("Error signing the payload.",D);throw D;});}});});},error:function(C){h.default(z,function(){if(C instanceof f.default)throw new e.default("Error encrypting the payload.",C);throw C;});}});});},error:z.error});});};return w;})(t.ro);b.VXb=u;b.yob=function(v,w,x,y,z,B,A,C){h.default(C,function(){return new u(v,w,x,y,z,B,A,null);});};b.UEb=function(v,w,x,y){function z(B,A){h.default(y,function(){var C,D,F,G,E,H,J,L;try{C=B.hp(A);D=C.Ln("sequencenumber");if(0 > D || D > n.default.Se)throw new m.default(k.default.RWb,"payload chunk payload " + C);F=C.Ln("messageid");if(0 > F || F > n.default.Se)throw new m.default(k.default.PWb,"payload chunk payload " + C);G=C.has("endofmsg")?C.Q8("endofmsg"):!1;E=void 0;if(C.has("compressionalgo")){H=C.pe("compressionalgo");if(-1 === Object.values(n.fI).indexOf(H))throw new l.default(k.default.Ofb,H);E=H;}else E=null;H=void 0;J=C.pd("data");if(0 == J.length){if(!G)throw new l.default(k.default.NWb);H=new Uint8Array(0);}else H=null == E?J:r.EE.RH(E,J);L=new q(C);return new u(v,D,F,G,E,H,x,L);}catch(K){if(K instanceof e.default)throw new g.default(k.default.Te,"payload chunk payload " + p.bi(A),K);throw K;}});}h.default(y,function(){var B,A,C;B=v.wg;try{A=w.pd("payload");C=w.pd("signature");}catch(D){if(D instanceof e.default)throw new g.default(k.default.Te,"payload chunk " + w,D);throw D;}x.verify(A,C,B,{result:function(D){h.default(y,function(){if(!D)throw new f.default(k.default.SWb);x.decrypt(A,B,{result:function(F){z(B,F);},error:y.error});});},error:y.error});});};},58892:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u;Object.defineProperty(b,"__esModule",{value:!0});b.qsa=b.Rcc=b.w$a=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(10690));c=d.__importDefault(a(51411));h=d.__importDefault(a(42458));f=d.__importDefault(a(36114));e=d.__importDefault(a(42979));g=d.__importDefault(a(6838));k=d.__importDefault(a(88257));l=d.__importDefault(a(1966));m=a(44127);p=a(60426);r=a(10558);q=(function(){return function(v,w,x,y){this.Bua=v;this.Jq=w;this.sk=x;this.Oq=y;};})();u=(function(v){function w(x,y,z,B,A,C,D,F,G,E){var H,J,L,K,M;H=v.call(this) || this;if(z.getTime() < y.getTime())throw new n.default("Cannot construct a master token that expires before its renewal window opens.");if(0 > B || B > c.default.Se)throw new n.default("Sequence number " + B + " is outside the valid range.");if(0 > A || A > c.default.Se)throw new n.default("Serial number " + A + " is outside the valid range.");y=Math.floor(y.getTime() / 1E3);z=Math.floor(z.getTime() / 1E3);if(E){J=E.Bua;L=E.Jq;K=E.sk;E=E.Oq;}else {E=F.r1();L=c.default.hza.$P(F.algorithm);K=G.r1();M=c.default.C4.$P(G.algorithm);if(!L || !M)throw new h.default(f.default.AFa,"encryption algorithm: " + F.algorithm + "; signature algorithm: " + G.algorithm);J=x.wg.ff();C && J.put("issuerdata",C);J.put("identity",D);J.put("encryptionkey",E);J.put("encryptionalgorithm",L);J.put("hmackey",K);J.put("signaturekey",K);J.put("signaturealgorithm",M);K=L=null;E=!0;}H.$j=x;H.AS=y;H.RP=z;H.Kj=B;H.Cf=A;H.Bua=J;H.Xuc=C;H.Ft=D;H.mv=F;H.EH=G;H.Jq=L;H.sk=K;H.Oq=E;H.encodings={};return H;}d.__extends(w,v);w.prototype.x9=function(){return new Date(1E3 * this.AS);};w.prototype.ck=function(){return new Date(1E3 * this.RP);};w.prototype.q$=function(){return this.Bua?!0:!1;};w.prototype.It=function(x){return x?this.x9().getTime() <= x.getTime():this.Oq?this.x9().getTime() <= this.$j.getTime():!0;};w.prototype.Ev=function(x){return x?this.ck().getTime() <= x.getTime():this.Oq?this.ck().getTime() <= this.$j.getTime():!1;};w.prototype.kuc=function(x){var y;if(this.Kj == x.Kj)return this.ck() > x.ck();if(this.Kj > x.Kj){y=this.Kj - c.default.Se + 127;return x.Kj >= y;}y=x.Kj - c.default.Se + 127;return this.Kj < y;};w.prototype.hn=function(x,y,z){var A;function B(C,D){e.default(z,function(){var F;F=x.ff();F.put("tokendata",C);F.put("signature",D);x.sj(F,y,{result:function(G){e.default(z,function(){return A.encodings[y.name]=G;});},error:z.error});});}A=this;e.default(z,function(){var C;if(A.encodings[y.name])return A.encodings[y.name];if(null != A.Jq || null != A.sk)B(A.Jq,A.sk);else {try{C=A.$j.cja;}catch(D){if(D instanceof h.default)throw new g.default("Error creating the MSL crypto context.",D);throw D;}x.sj(A.Bua,y,{result:function(D){C.encrypt(D,x,y,{result:function(F){e.default(z,function(){var G;G=x.ff();G.put("renewalwindow",A.AS);G.put("expiration",A.RP);G.put("sequencenumber",A.Kj);G.put("serialnumber",A.Cf);G.put("sessiondata",F);x.sj(G,y,{result:function(E){C.sign(E,x,y,{result:function(H){B(E,H);},error:function(H){e.default(z,function(){if(H instanceof h.default)throw new g.default("Error signing the token data.",H);throw H;});}});},error:z.error});});},error:function(F){e.default(z,function(){if(F instanceof h.default)throw new g.default("Error encrypting the session data.",F);throw F;});}});},error:z.error});}});};w.prototype.toString=function(){var x,y;x=this.$j.wg;y=x.ff();y.put("renewalwindow",this.AS);y.put("expiration",this.RP);y.put("sequencenumber",this.Kj);y.put("serialnumber",this.Cf);y.put("sessiondata","(redacted)");x=x.ff();x.put("tokendata",y);x.put("signature",this.sk?this.sk:"(null)");return x.toString();};w.prototype.equals=function(x){return this === x?!0:x instanceof w?this.Cf == x.Cf && this.Kj == x.Kj && this.ck().getTime() == x.ck().getTime():!1;};w.prototype.Sh=function(){return this.Cf + ":" + this.Kj + ":" + this.ck().getTime();};return w;})(t.ro);b.w$a=u;b.Rcc=function(v,w,x,y,z,B,A,C,D,F){e.default(F,function(){return new u(v,w,x,y,z,B,A,C,D,null);});};b.qsa=function(v,w,x){function y(A,C,D,F,G){e.default(x,function(){var E,H,J,L,K,M,P,I;try{E=C.hp(D);H=E.Ln("renewalwindow");J=E.Ln("expiration");if(J < H)throw new l.default(f.default.kVb,"mastertokendata " + E);L=E.Ln("sequencenumber");if(0 > L || L > c.default.Se)throw new l.default(f.default.lVb,"mastertokendata " + E);K=E.Ln("serialnumber");if(0 > K || K > c.default.Se)throw new l.default(f.default.mVb,"mastertokendata " + E);M=E.pd("sessiondata");if(0 == M.length)throw new k.default(f.default.nVb,"mastertokendata " + E);P=new Date(1E3 * H);I=new Date(1E3 * J);G?A.decrypt(M,C,{result:function(O){z(A,C,D,F,G,P,I,L,K,O);},error:x.error}):B(A,C,D,F,G,P,I,L,K,null,null,null,null,null);}catch(O){if(O instanceof g.default)throw new k.default(f.default.qVb,"mastertokendata " + m.bi(D),O);throw O;}});}function z(A,C,D,F,G,E,H,J,L,K){e.default(x,function(){var M,P,I,O,Q,S,U,W,Y;try{M=C.hp(K);P=M.has("issuerdata")?M.lq("issuerdata",C):null;I=M.pe("identity");O=M.pd("encryptionkey");Q=M.oba("encryptionalgorithm",c.default.hza.Ewa);S=M.has("signaturekey")?M.pd("signaturekey"):M.pd("hmackey");U=M.oba("signaturealgorithm",c.default.C4.Zza);}catch(X){if(X instanceof g.default)throw new k.default(f.default.oVb,"sessiondata " + m.bi(K),X);throw X;}W=c.default.hza.H0a(Q);Y=c.default.C4.H0a(U);if(!W || !Y)throw new h.default(f.default.AFa,"encryption algorithm: " + Q + "; signature algorithm: " + U);p.pRa(O,W,r.RE.Vfa,{result:function(X){p.pRa(S,Y,r.RE.kV,{result:function(Z){B(A,C,D,F,G,E,H,J,L,M,P,I,X,Z);},error:function(Z){x.error(new h.default(f.default.d$a,Z));}});},error:function(X){x.error(new h.default(f.default.d$a,X));}});});}function B(A,C,D,F,G,E,H,J,L,K,M,P,I,O){e.default(x,function(){var Q;Q=new q(K,D,F,G);return new u(v,E,H,J,L,M,P,I,O,Q);});}e.default(x,function(){var A,C,D,F;A=v.cja;C=v.wg;try{D=w.pd("tokendata");if(0 == D.length)throw new k.default(f.default.pVb,"mastertoken " + w);F=w.pd("signature");}catch(G){if(G instanceof g.default)throw new k.default(f.default.Te,"mastertoken " + w,G);throw G;}A.verify(D,F,C,{result:function(G){y(A,C,D,F,G);},error:x.error});});};},61693:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w;function d(x,y,z){var B,A;try{B=y.pd("tokendata");if(0 == B.length)throw new c.default(h.default.Rdb,"servicetoken " + y);A=x.hp(B).pe("name");return z[A]?z[A]:z[""];}catch(C){if(C instanceof f.default)throw new c.default(h.default.Te,"servicetoken " + y,C);throw C;}}Object.defineProperty(b,"__esModule",{value:!0});b.tsa=b.pdc=b.teb=void 0;n=a(22970);c=n.__importDefault(a(88257));h=n.__importDefault(a(36114));f=n.__importDefault(a(6838));t=a(48235);e=n.__importDefault(a(10690));g=a(58892);k=a(85065);l=n.__importDefault(a(42979));m=n.__importDefault(a(1966));p=n.__importDefault(a(42458));r=n.__importStar(a(51411));q=a(44127);u=a(53140);v=(function(){return function(x,y,z){this.Jq=x;this.sk=y;this.Oq=z;};})();w=(function(x){function y(z,B,A,C,D,F,G,E,H){var J,L,K,M;J=x.call(this) || this;if(C && D && !D.rh(C))throw new e.default("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");C=C?C.Cf:-1;D=D?D.Cf:-1;if(H){L=H.Jq;K=H.sk;H=H.Oq;}else {if(!E)throw new TypeError("Crypto context may not be null.");if(G){M=u.EE.Eo(G,A);M && M.length < A.length || (G=null,M=A);}else (G=null,M=A);K=L=null;H=!0;}J.$j=z;J.Fo=E;J.name=B;J.Ej=C;J.vy=D;J.Kz=F;J.hla=G;J.aKb=A;J.TKa=M;J.Jq=L;J.sk=K;J.Oq=H;J.encodings={};return J;}n.__extends(y,x);y.prototype.s$=function(){return this.Kz;};y.prototype.q$=function(){return this.aKb?!0:!1;};y.prototype.getData=function(){return this.aKb;};y.prototype.Bx=function(){return -1 != this.Ej;};y.prototype.rh=function(z){return z?z instanceof g.w$a?z.Cf == this.Ej:z instanceof k.bgb?z.Cf == this.vy:!1:!1;};y.prototype.Fv=function(){return -1 != this.vy;};y.prototype.Quc=function(){return -1 == this.Ej && -1 == this.vy;};y.prototype.hn=function(z,B,A){var F;function C(G){l.default(A,function(){var E;E=z.ff();E.put("name",F.name);-1 != F.Ej && E.put("mtserialnumber",F.Ej);-1 != F.vy && E.put("uitserialnumber",F.vy);E.put("encrypted",F.Kz);F.hla && E.put("compressionalgo",F.hla);E.put("servicedata",G);z.sj(E,B,{result:function(H){l.default(A,function(){F.Fo.sign(H,z,B,{result:function(J){D(H,J);},error:function(J){l.default(A,function(){if(J instanceof p.default)throw new f.default("Error signing the token data.",J);throw J;});}});});},error:A.error});});}function D(G,E){l.default(A,function(){var H;H=z.ff();H.put("tokendata",G);H.put("signature",E);z.sj(H,B,{result:function(J){l.default(A,function(){return F.encodings[B.name]=J;});},error:A.error});});}F=this;l.default(A,function(){if(F.encodings[B.name])return F.encodings[B.name];null != F.Jq || null != F.sk?D(F.Jq,F.sk):F.Kz && 0 < F.TKa.length?F.Fo.encrypt(F.TKa,z,B,{result:C,error:function(G){l.default(A,function(){if(G instanceof p.default)throw new f.default("Error encrypting the service data.",G);throw G;});}}):C(F.TKa);});};y.prototype.toString=function(){var z,B;z=this.$j.wg;B=z.ff();B.put("name",this.name);B.put("mtserialnumber",this.Ej);B.put("uitserialnumber",this.vy);B.put("servicedata","(redacted)");z=z.ff();z.put("tokendata",B);z.put("signature",this.sk?this.sk:"(null)");return z.toString();};y.prototype.equals=function(z){return this === z?!0:z instanceof y?this.name == z.name && this.Ej == z.Ej && this.vy == z.vy:!1;};y.prototype.Sh=function(){return this.name + ":" + this.Ej + ":" + this.vy;};return y;})(t.ro);b.teb=w;b.pdc=function(x,y,z,B,A,C,D,F,G){l.default(G,function(){return new w(x,y,z,B,A,C,D,F,null);});};b.tsa=function(x,y,z,B,A,C){function D(G,E,H,J,L){l.default(C,function(){var K,M,P,I,O,Q,S,U,W;try{K=G.hp(E);M=K.pe("name");if(K.has("mtserialnumber")){P=K.Ln("mtserialnumber");if(0 > P || P > r.default.Se)throw new m.default(h.default.SYb,"servicetokendata " + K).kc(z).ze(B);}else P=-1;if(K.has("uitserialnumber")){I=K.Ln("uitserialnumber");if(0 > I || I > r.default.Se)throw new m.default(h.default.UYb,"servicetokendata " + K).kc(z).ze(B);}else I=-1;O=K.Q8("encrypted");if(K.has("compressionalgo")){Q=K.pe("compressionalgo");if(!((Q in r.fI)))throw new m.default(h.default.Ofb,Q);S=Q;}else S=null;U=K.pd("servicedata");}catch(Y){if(Y instanceof f.default)throw new c.default(h.default.Te,"servicetokendata " + q.bi(E),Y).kc(z).ze(B);throw Y;}if(L){if(O && 0 < U.length)J.decrypt(U,G,{result:function(Y){W=S?u.EE.RH(S,Y):Y;F(G,E,H,L,M,P,I,O,S,J,Y,W);},error:function(Y){l.default(C,function(){Y instanceof p.default && (Y.kc(z),Y.ze(B));throw Y;});}});else {K=U;W=S?u.EE.RH(S,K):K;F(G,E,H,L,M,P,I,O,S,J,K,W);}}else (K=U,W=0 == U.length?new Uint8Array(0):null,F(G,E,H,L,M,P,I,O,S,J,K,W));});}function F(G,E,H,J,L,K,M,P,I,O,Q,S){l.default(C,function(){var U;if(-1 != K && (!z || K != z.Cf))throw new m.default(h.default.wEa,"st mtserialnumber " + K + "; mt " + z).kc(z).ze(B);if(-1 != M && (!B || M != B.Cf))throw new m.default(h.default.xEa,"st uitserialnumber " + M + "; uit " + B).kc(z).ze(B);U=new v(E,H,J);return new w(x,L,S,-1 != K?z:null,-1 != M?B:null,P,I,O,U);});}l.default(C,function(){var G,E,H,J;G=x.wg;E=null;A && (E=d(G,y,A));try{H=y.pd("tokendata");if(0 == H.length)throw new c.default(h.default.Rdb,"servicetoken " + y).kc(z).ze(B);J=y.pd("signature");}catch(L){if(L instanceof f.default)throw new c.default(h.default.Te,"servicetoken " + y,L).kc(z).ze(B);throw L;}E?E.verify(H,J,G,{result:function(L){D(G,H,J,E,L);},error:function(L){l.default(C,function(){L instanceof p.default && L.kc(z);throw L;});}}):D(G,H,J,E,!1);});};},85065:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r;Object.defineProperty(b,"__esModule",{value:!0});b.mWa=b.Adc=b.bgb=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(10690));c=d.__importDefault(a(51411));h=d.__importDefault(a(42979));f=d.__importDefault(a(42458));e=d.__importDefault(a(6838));g=d.__importDefault(a(1966));k=d.__importDefault(a(88257));l=d.__importDefault(a(36114));m=a(44127);p=(function(){return function(q,u,v,w){this.J1a=q;this.Jq=u;this.sk=v;this.Oq=w;};})();r=(function(q){function u(v,w,x,y,z,B,A,C){var D,F,G,E;D=q.call(this) || this;if(x.getTime() < w.getTime())throw new n.default("Cannot construct a user ID token that expires before its renewal window opens.");if(!y)throw new n.default("Cannot construct a user ID token without a master token.");if(0 > z || z > c.default.Se)throw new n.default("Serial number " + z + " is outside the valid range.");w=Math.floor(w.getTime() / 1E3);x=Math.floor(x.getTime() / 1E3);y=y.Cf;if(C){F=C.J1a;G=C.Jq;E=C.sk;C=C.Oq;}else (F=v.wg.ff(),B && F.put("issuerdata",B),F.put("identity",A.DC()),E=G=null,C=!0);D.$j=v;D.AS=w;D.RP=x;D.Ej=y;D.Cf=z;D.J1a=F;D.Xuc=B;D.NT=A;D.Jq=G;D.sk=E;D.Oq=C;D.encodings={};return D;}d.__extends(u,q);u.prototype.q$=function(){return this.NT?!0:!1;};u.prototype.x9=function(){return new Date(1E3 * this.AS);};u.prototype.It=function(v){return v?this.x9().getTime() <= v.getTime():this.Oq?this.x9().getTime() <= this.$j.getTime():!0;};u.prototype.ck=function(){return new Date(1E3 * this.RP);};u.prototype.Ev=function(v){return v?this.ck().getTime() <= v.getTime():this.Oq?this.ck().getTime() <= this.$j.getTime():!1;};u.prototype.rh=function(v){return v && v.Cf == this.Ej;};u.prototype.hn=function(v,w,x){var z;function y(B,A){h.default(x,function(){var C;C=v.ff();C.put("tokendata",B);C.put("signature",A);v.sj(C,w,{result:function(D){h.default(x,function(){return z.encodings[w.name]=D;});},error:x.error});});}z=this;h.default(x,function(){var B;if(z.encodings[w.name])return z.encodings[w.name];if(null != z.Jq || null != z.sk)y(z.Jq,z.sk);else {try{B=z.$j.cja;}catch(A){if(A instanceof f.default)throw new e.default("Error creating the MSL crypto context.",A);throw A;}v.sj(z.J1a,w,{result:function(A){B.encrypt(A,v,w,{result:function(C){h.default(x,function(){var D;D=v.ff();D.put("renewalwindow",z.AS);D.put("expiration",z.RP);D.put("mtserialnumber",z.Ej);D.put("serialnumber",z.Cf);D.put("userdata",C);v.sj(D,w,{result:function(F){B.sign(F,v,w,{result:function(G){y(F,G);},error:function(G){h.default(x,function(){if(G instanceof f.default)throw new e.default("Error signing the token data.",G);throw G;});}});},error:x.error});});},error:function(C){h.default(x,function(){if(C instanceof f.default)throw new e.default("Error encrypting the user data.",C);throw C;});}});},error:x.error});}});};u.prototype.toString=function(){var v,w;v=this.$j.wg;w=v.ff();w.put("renewalwindow",this.AS);w.put("expiration",this.RP);w.put("mtserialnumber",this.Ej);w.put("serialnumber",this.Cf);w.put("userdata","(redacted)");v=v.ff();v.put("tokendata",w);v.put("signature",this.sk?this.sk:"(null)");return v.toString();};u.prototype.equals=function(v){return this === v?!0:v instanceof u?this.Cf == v.Cf && this.Ej == v.Ej:!1;};u.prototype.Sh=function(){return this.Cf + ":" + this.Ej;};return u;})(t.ro);b.bgb=r;b.Adc=function(q,u,v,w,x,y,z,B){h.default(B,function(){return new r(q,u,v,w,x,y,z,null);});};b.mWa=function(q,u,v,w){function x(B,A,C,D,F){h.default(w,function(){var G,E,H,J,L,K;try{G=B.hp(C);E=G.Ln("renewalwindow");H=G.Ln("expiration");if(H < E)throw new g.default(l.default.GZb,"usertokendata " + G).kc(v);J=G.Ln("mtserialnumber");if(0 > J || J > c.default.Se)throw new g.default(l.default.KZb,"usertokendata " + G).kc(v);L=G.Ln("serialnumber");if(0 > L || L > c.default.Se)throw new g.default(l.default.LZb,"usertokendata " + G).kc(v);K=G.pd("userdata");if(0 == K.length)throw new g.default(l.default.PZb).kc(v);}catch(M){if(M instanceof e.default)throw new k.default(l.default.NZb,"usertokendata " + m.bi(C),M).kc(v);throw M;}F?A.decrypt(K,B,{result:function(M){y(B,C,D,F,E,H,J,L,M);},error:function(M){h.default(w,function(){M instanceof f.default && M.kc(v);throw M;});}}):z(C,D,F,E,H,J,L,null,null,null);});}function y(B,A,C,D,F,G,E,H,J){h.default(w,function(){var L,K,M;try{L=B.hp(J);K=L.has("issuerdata")?L.lq("issuerdata",B):null;M=L.pe("identity");if(!M || 0 == M.length)throw new g.default(l.default.HZb,"userdata " + L).kc(v);}catch(P){if(P instanceof e.default)throw new k.default(l.default.QZb,"userdata " + m.bi(J),P).kc(v);throw P;}(null).n3c(q,M,{result:function(P){h.default(w,function(){if(!P)throw new n.default("TokenFactory.createUser() returned null in violation of the interface contract.");z(A,C,D,F,G,E,H,L,K,P);});},error:w.error});});}function z(B,A,C,D,F,G,E,H,J,L){h.default(w,function(){var K,M,P;K=new Date(1E3 * D);M=new Date(1E3 * F);if(!v || G != v.Cf)throw new g.default(l.default.EFa,"uit mtserialnumber " + G + "; mt " + v).kc(v);P=new p(H,B,A,C);return new r(q,K,M,v,E,J,L,P);});}h.default(w,function(){var B,A,C,D;B=q.cja;A=q.wg;try{C=u.pd("tokendata");if(0 == C.length)throw new k.default(l.default.MZb,"useridtoken " + u).kc(v);D=u.pd("signature");}catch(F){if(F instanceof e.default)throw new k.default(l.default.Te,"useridtoken " + u,F).kc(v);throw F;}B.verify(C,D,A,{result:function(F){x(A,B,C,D,F);},error:w.error});});};},23710:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperty(b,"__esModule",{value:!0});b.JEb=b.cza=void 0;d=a(22970);t=a(5248);n=a(91331);c=d.__importDefault(a(42979));h=d.__importDefault(a(6838));f=d.__importDefault(a(88257));e=d.__importDefault(a(36114));g=(function(k){function l(m,p){var r;r=k.call(this,n.dia.Sya) || this;r.email=m;r.password=p;return r;}d.__extends(l,k);l.prototype.eQ=function(m,p){var r;r=this;c.default(p,function(){var q;q=m.ff();q.put("email",r.email);q.put("password",r.password);return q;});};l.prototype.equals=function(m){return this === m?!0:m instanceof l?k.prototype.equals.call(this,m) && this.email == m.email && this.password == m.password:!1;};return l;})(t.IFa);b.cza=g;b.JEb=function(k){var l,m;try{l=k.pe("email");m=k.pe("password");return new g(l,m);}catch(p){if(p instanceof h.default)throw new f.default(e.default.Te,"email/password authdata " + k,p);throw p;}};},25606:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperty(b,"__esModule",{value:!0});b.A6a=void 0;d=a(22970);n=a(91331);c=d.__importDefault(a(42979));h=a(23710);f=d.__importDefault(a(10690));e=d.__importDefault(a(88361));g=d.__importDefault(a(36114));t=(function(k){function l(m,p){var r;r=k.call(this,n.dia.Sya) || this;r.hm=m;r.q1c=p;return r;}d.__extends(l,k);l.prototype.q7=function(m,p,r){c.default(r,function(){return h.JEb(p);});};l.prototype.qJa=function(m,p,r,q,u){var v;v=this;c.default(u,function(){var w,x;if(!(r instanceof h.cza))throw new f.default("Incorrect authentication data type " + r + ".");w=r.email;x=r.password;if(!w || 0 == w.trim().length || !x || 0 == x.trim().length)throw new e.default(g.default.qTb).nf(r);w=v.hm.Z6c(w,x);if(null == w)throw new e.default(g.default.e6a).nf(r);if(q && (x=q.NT,!w.equals(x)))throw new e.default(g.default.OZb,"uad user " + w + "; uit user " + x).nf(r);return w;});};return l;})(a(49137).JFa);b.A6a=t;},49123:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperty(b,"__esModule",{value:!0});b.TEb=b.jCa=void 0;d=a(22970);t=a(5248);n=a(32256);c=d.__importDefault(a(42979));h=d.__importDefault(a(6838));f=d.__importDefault(a(88257));e=d.__importDefault(a(36114));g=(function(k){function l(m,p){var r;r=k.call(this,n.Tga.fCa) || this;r.DR=m;r.Oca=p;return r;}d.__extends(l,k);l.prototype.eQ=function(m,p){var r;r=this;c.default(p,function(){var q;q=m.ff();r.DR && q.put("netflixid",r.DR);r.Oca && q.put("securenetflixid",r.Oca);return q;});};l.prototype.equals=function(m){return this === m?!0:m instanceof l?k.prototype.equals.call(this,m) && this.DR == m.DR && this.Oca == m.Oca:!1;};return l;})(t.IFa);b.jCa=g;b.TEb=function(k){var l,m;try{l=k.has("netflixid")?k.pe("netflixid"):void 0;m=k.has("securenetflixid")?k.pe("securenetflixid"):void 0;return new g(l,m);}catch(p){if(p instanceof h.default)throw new f.default(e.default.Te,"Netflix ID authentication data " + k,p);throw p;}};},79925:function(t,b,a){var d,n,c,h,f,e,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.tab=void 0;d=a(22970);n=a(32256);c=d.__importDefault(a(42979));h=a(49123);f=d.__importDefault(a(10690));e=d.__importDefault(a(88361));g=d.__importDefault(a(99075));k=d.__importDefault(a(36114));t=(function(l){function m(){return l.call(this,n.Tga.fCa) || this;}d.__extends(m,l);m.prototype.q7=function(p,r,q){c.default(q,function(){return h.TEb(r);});};m.prototype.qJa=function(p,r,q){if(!(q instanceof h.jCa))throw new f.default("Incorrect authentication data type " + q + ".");p=q.Oca;if(!q.DR || !p)throw new e.default(g.default.lWb).nf(q);throw new e.default(k.default.EZb,this.scheme).nf(q);};return m;})(a(49137).JFa);b.tab=t;},32256:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Tga=void 0;d=a(22970);t=(function(n){function c(h){return n.call(this,h) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(91331)).default);b["default"]=t;b.Tga={fCa:new t("NETFLIXID"),Z_c:new t("SSO"),r0c:new t("SWITCH_PROFILE"),YYc:new t("MDX"),IVb:new t("MIGRATION")};},5248:function(t,b,a){var d,n,c,h,f,e;Object.defineProperty(b,"__esModule",{value:!0});b.$Eb=b.IFa=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(42979));c=d.__importDefault(a(88361));h=d.__importDefault(a(36114));f=d.__importDefault(a(6838));e=d.__importDefault(a(88257));a=(function(g){function k(l){var m;m=g.call(this) || this;m.scheme=l;m.encodings={};return m;}d.__extends(k,g);k.prototype.equals=function(l){return this === l?!0:l instanceof k?this.scheme == l.scheme:!1;};k.prototype.hn=function(l,m,p){var r;r=this;n.default(p,function(){if(r.encodings[m.name])return r.encodings[m.name];r.eQ(l,{result:function(q){n.default(p,function(){var u;u=l.ff();u.put("scheme",r.scheme.name);u.put("authdata",q);l.sj(u,m,{result:function(v){n.default(p,function(){return r.encodings[m.name]=v;});},error:p.error});});},error:p.error});});};return k;})(t.ro);b.IFa=a;b.$Eb=function(g,k,l,m){n.default(m,function(){var p,r,q;try{p=l.pe("scheme");r=g.sqc(p);if(!r)throw new c.default(h.default.CZb,p);q=g.Wvb(r);if(!q)throw new c.default(h.default.Ufb,r.name);q.q7(k,l.lq("authdata",g.wg),m);}catch(u){if(u instanceof f.default)throw new e.default(h.default.Te,"userauthdata " + l,u);throw u;}});};},49137:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.JFa=void 0;b.JFa=(function(){return function(a){this.scheme=a;};})();},91331:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dia=void 0;t=(function(){function a(d){this.name=d;a.$A[d]=this;}a.prototype.toString=function(){return this.name;};a.A9=function(d){return a.$A[d]?a.$A[d]:null;};a.$A={};return a;})();b["default"]=t;b.dia={Sya:new t("EMAIL_PASSWORD"),V0c:new t("USER_ID_TOKEN")};},14945:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b["default"]=(function(){function a(){}a.equal=function(d,n){if(d === n)return !0;if(!d || !n || d.length != n.length)return !1;for(var c=0;c < d.length;++c)if(d[c] != n[c])return !1;return !0;};a.H$=function(d){return d && d.constructor == Uint8Array;};a.xoa=function(d){var h;if(!a.H$(d) && !Array.isArray(d))throw new TypeError("Cannot compute the hash code of " + d);for(var n=1,c=0;c < d.length;++c){h=d[c];if("number" !== typeof h)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + h);n=31 * n + h & 4294967295;}return n;};a.contains=function(d,n){var g;if(d === n)return !0;if(!d || !n)return !1;n instanceof Array || (n=[n]);for(var c=0;c < n.length;++c){for(var h=n[c],f=!1,e=0;e < d.length;++e){g=d[e];if(h.equals && "function" === typeof h.equals && h.equals(g) || h == g){f=!0;break;}}if(!f)return !1;}return !0;};a.l7=function(d,n){return a.contains(d,n) && (d.length == n.length || a.contains(n,d));};a.concat=function(d){var n,c,h,f,e;h=d.length;f=0;for(c=n=0;c < h;c++)n+=d[c].length;n=new Uint8Array(n);for(c=0;c < h;c++){e=d[c];n.set(e,f);f+=e.length;}return n;};return a;})();},42979:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b["default"]=function(a,d,n){var c,h;void 0 === n && (n=void 0);n && (c=n);if("object" !== typeof a || "function" !== typeof a.result || "function" !== typeof a.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{h=d.call(c,a);void 0 !== h && a.result(h);}catch(f){try{a.error(f);}catch(e){}}};},44127:function(t,b){var a,d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Yj=b.bi=b.fKb=b.X3a=b.Tuc=void 0;a=/\s*/g;d=/^([A-Za-z0-9+/_-]{4})*([A-Za-z0-9+/_-]{4}|[A-Za-z0-9+/_-]{3}=|[A-Za-z0-9+/_-]{2}==)?$/;b.Tuc=function(c,h){c=c.replace(a,"");if(h && (h=c.length % 4)){h=4 - h;for(var f=0;f < h;++f)c+="=";}return 0 == c.length % 4 && d.test(c)?!0:!1;};b.X3a=(function(){return function(){};})();b.fKb=function(c){if(!c)throw new TypeError("Base64 implementation cannot be null.");n=c;};b.bi=function(c,h){return n.encode(c,h);};b.Yj=function(c,h){return n.decode(c,h);};},41294:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m,p){m=k[m & 63];if(p){if("+" == m)return "-";if("/" == m)return "_";}return m;}Object.defineProperty(b,"__esModule",{value:!0});b.Y3a=void 0;n=a(22970);t=a(44127);c=String.fromCharCode(9);h=String.fromCharCode(10);f=String.fromCharCode(13);e=String.fromCharCode(32);g=String.fromCharCode(127);k=(function(){var m,p;p=[];for(m=0;26 > m;m++)p[m]=String.fromCharCode(65 + m);for(m=26;52 > m;m++)p[m]=String.fromCharCode(97 + (m - 26));for(m=52;62 > m;m++)p[m]=String.fromCharCode(48 + (m - 52));p[62]="+";p[63]="/";return p;})();l=(function(){var m,p;p=[];for(m=0;128 > m;m++)p[m]=-1;for(m=65;90 >= m;m++)p[m]=m - 65;for(m=97;122 >= m;m++)p[m]=m - 97 + 26;for(m=48;57 >= m;m++)p[m]=m - 48 + 52;p[43]=62;p[47]=63;p[61]=g;return p;})();t=(function(m){function p(){return null !== m && m.apply(this,arguments) || this;}n.__extends(p,m);p.prototype.encode=function(r,q){var u,v,w;u="";v=r.length;for(w=0;3 <= v;(v-=3,w+=3))u+=d(r[w] >> 2) + d((r[w] & 3) << 4 | r[w + 1] >> 4 & 15) + d((r[w + 1] & 15) << 2 | r[w + 2] >> 6 & 3) + d(r[w + 2] & 63);1 == v?(u+=d(r[w] >> 2) + d((r[w] & 3) << 4),q || (u+="==")):2 == v && (u+=d(r[w] >> 2) + d((r[w] & 3) << 4 | r[w + 1] >> 4 & 15) + d((r[w + 1] & 15) << 2),q || (u+="="));return u;};p.prototype.decode=function(r,q){var C,D;for(var u=!1,v=r.length,w=Array(Math.floor(3 * v / 4)),x=0,y=Array(4),z=0,B=!1,A=0;A < v;++A){C=r[A];D=C.charCodeAt(0);isNaN(D)?D=void 0:(D=l[D],q && ("-" == D?D="+":"_" == D && (D="/")));if(void 0 === D || -1 == D)C != e && C != c && C != h && C != f && (u=!0);else if((B && (u=!0),y[z++]=D,4 == z)){if(y[0] == g || y[1] == g)u=!0;if(y[2] == g || y[3] == g)B=!0;w[x++]=y[0] << 2 | y[1] >> 4;y[2] != g && (w[x++]=y[1] << 4 | y[2] >> 2);y[3] != g && (w[x++]=y[2] << 6 | y[3]);z=0;}}q && 2 <= z && (w[x++]=y[0] << 2 | y[1] >> 4,3 == z && y[2] != g && (w[x++]=y[1] << 4 | y[2] >> 2),z=0);0 != z && (u=!0);if(u)throw Error("Invalid Base64 encoded string: " + r);r=new Uint8Array(x);for(v=u=0;u < w.length;++u)q && w[u] == g || (r[u]=w[v++]);return r;};return p;})(t.X3a);b.Y3a=t;},89752:function(t,b,a){var c,h;function d(f){return f == c.default.Se?1:f + 1;}function n(f){if(0 === Object.keys(f.im).length)return 0;for(var e=d(f.Ch);!f.im[e];)e=d(e);return e;}Object.defineProperty(b,"__esModule",{value:!0});b.j2=void 0;t=a(22970);c=t.__importDefault(a(51411));h=t.__importDefault(a(79804));a=(function(){function f(){this.yo=[];this.im={};this.k5=this.Ch=0;}f.prototype.cancel=function(e){var g;if(this.im[e]){g=this.im[e];delete this.im[e];e == this.Ch && (this.Ch=n(this));g.call(this,void 0);}};f.prototype.Rka=function(){for(;0 !== this.Ch;)this.cancel(this.Ch);};f.prototype.Jba=function(e,g){var k,l;k=this;l=d(this.k5);this.k5=l;h.default(g,function(){var m,p;if(0 < k.yo.length){m=k.yo.shift();setTimeout(function(){g.result(m);},0);}else {-1 != e && (p=setTimeout(function(){delete k.im[l];l == k.Ch && (k.Ch=n(k));g.timeout();},e));k.im[l]=function(r){clearTimeout(p);setTimeout(function(){g.result(r);},0);};k.Ch || (k.Ch=l);}});return l;};f.prototype.add=function(e){var g;if(this.Ch){g=this.im[this.Ch];delete this.im[this.Ch];this.Ch=n(this);g.call(this,e);}else this.yo.push(e);};return f;})();b.j2=a;},79804:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970).__importDefault(a(42979));b["default"]=function(n,c,h){void 0 === h && (h=void 0);if("object" !== typeof n || "function" !== typeof n.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");d.default(n,c,h);};},75513:function(t,b,a){var n,c,h,f;function d(e,g){g || (g=e.length);return e.reduce(function(k,l,m){return m < g?k + String.fromCharCode(l):k;},"");}Object.defineProperty(b,"__esModule",{value:!0});b.$9a=void 0;n=a(22970).__importDefault(a(48795));c={};for(t=0;256 > t;++t)(a=d([t]),c[a]=t);h=Object.keys(c).length;f=[];for(t=0;256 > t;++t)f[t]=[t];t=(function(){function e(){}e.prototype.Eo=function(g){var l,z;function k(B,A){for(var C;0 < A;){if(u >= q.length)return !1;A > v?(C=B,C>>>=A - v,q[u]|=C & 255,A-=v,v=8,++u):A <= v && (C=B,C<<=v - A,C&=255,C>>>=8 - v,q[u]|=C & 255,v-=A,A=0,0 == v && (v=8,++u));}return !0;}l={};for(m in c)l[m]=c[m];for(var m=h,p=[],r=8,q=new Uint8Array(g.length),u=0,v=8,w,x,y=0;y < g.length;++y){z=g[y];p.push(z);w=d(p);x=l[w];if(void 0 === x){p=d(p,p.length - 1);if(!k(l[p],r))return null;0 != m >> r && ++r;l[w]=m++;p=[z];}}return 0 < p.length && (w=d(p),x=l[w],!k(x,r))?null:q.subarray(0,8 > v?u + 1:u);};e.prototype.RH=function(g,k){var y,z;for(var l=f.slice(),m=0,p=0,r=8,q=new Uint8Array(Math.ceil(1.5 * g.length)),u=0,v,w=[];m < g.length && !(8 * (g.length - m) - p < r);){for(var x=v=0;x < r;){y=Math.min(r - x,8 - p);z=g[m];z<<=p;z&=255;z>>>=8 - y;x+=y;p+=y;8 == p && (p=0,++m);v|=(z & 255) << r - x;}x=l[v];0 == w.length?++r:(x?w.push(x[0]):w.push(w[0]),l[l.length]=w,w=[],l.length == 1 << r && ++r,x || (x=l[v]));v=u + x.length;if(v > k * g.length)throw new n.default("Deflate ratio " + k + " exceeded. Aborting uncompression.");v >= q.length && (y=new Uint8Array(Math.ceil(1.5 * v)),y.set(q),q=y);q.set(x,u);u=v;w=w.concat(x);}return q.subarray(0,u);};return e;})();b.$9a=t;},53140:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.EE=void 0;t=a(22970);d=t.__importDefault(a(1966));n=t.__importDefault(a(36114));c=t.__importDefault(a(48795));b.EE=(function(){function h(){}h.register=function(f,e){e?h.Joa[f]=e:delete h.Joa[f];};h.OMc=function(f){if(1 > f)throw new RangeError("The maximum deflate ratio must be at least one.");h.aUa=f;};h.xPa=function(){return h.aUa;};h.Eo=function(f,e){var g,k;g=h.Joa[f];if(!g)throw new d.default(n.default.Qfb,f);try{k=g.Eo(e);return k && k.length < e.length?k:null;}catch(l){if(l instanceof c.default)throw new d.default(n.default.VRb,"algo " + f,l);throw l;}};h.RH=function(f,e){var g;g=h.Joa[f];if(!g)throw new d.default(n.default.Qfb,f);try{return g.RH(e,h.aUa);}catch(k){if(k instanceof c.default)throw new d.default(n.default.vZb,"algo " + f,k);throw k;}};h.Joa={};h.aUa=200;return h;})();},38470:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.aCa=b.ETb=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(10690));b.ETb={gg:d.default.O.gg,Uh:d.default.O.Uh};c=0;a=(function(){function h(){var f;f=++c;if(0 >= f || !isFinite(f))throw new n.default("MSL context unique ID has overflowed. Are you sure you are using MSL context's correctly?");this.n2b=c;this.Jib=!1;this.Wc=0;}h.prototype.aTc=function(f){var e;e=this.getTime() / 1E3;this.Wc=f.getTime() / 1E3 - e;this.Jib=!0;};h.prototype.Vna=function(){var f;if(!this.Jib)return null;f=this.getTime() / 1E3 + this.Wc;return new Date(1E3 * f);};h.prototype.equals=function(f){return this === f?!0:!1;};h.prototype.Sh=function(){return this.n2b.toString();};return h;})();b.aCa=a;},80824:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});b.dCa=void 0;t=a(22970);d=a(44127);n=a(53140);c=a(69193);a(31809);h=a(50441);t.__importDefault(a(90122));b.dCa=(function(){function f(){}f.Pe=function(e){var g;g=e.q_b;g && d.fKb(g);if(g=e.D_b)for(var k in g)n.EE.register(k,g[k]);(k=e.xPa()) && n.EE.OMc(k);(k=e.i2b) && c.LB.GZa(k);e=e.BQa();null !== e && void 0 !== e && h.d_a(e);};return f;})();},32260:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.zd=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(63053));b["default"]={l$c:function(c,h){if(c.length != h.length)return !1;for(var f=0,e=0;e < c.length;++e)f|=c[e] ^ h[e];return 0 == f;},cpc:function(c){var h,f;h=d.default.Se;h=!("number" === typeof h && isFinite(h) && Math.floor(h) == h && Math.abs(h) <= Number.MAX_SAFE_INTEGER) || 0 > h?!1:0 == h?!0:0 == (h & h - 1);c=c.rvb();do {f=c.CAc();h && (f&=d.default.Se - 1);}while(0 > f || f > d.default.Se);return f;},Xad:function(c){return c.sort().filter(function(h,f,e){return !f || h != e[f - 1];});}};b.zd=function(c){return c instanceof n.default;};},18461:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qCa=void 0;t=(function(){function a(){}a.prototype.Ktc=function(d){for(var n=1;n < arguments.length;n++);return !1;};return a;})();b.qCa=t;},90122:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});"undefined" !== typeof Promise && (a=Promise);b["default"]={setImpl:function(d){a=d;},create:function(d){return new a(d);}};},31809:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.udb=void 0;d=0 - a(22970).__importDefault(a(51411)).default.Se;"undefined" !== typeof Ca && (n=Ca.msCrypto || Ca.crypto);t=(function(){function c(){}c.prototype.CAc=function(){var f;for(var h=d;h == d;){h=new Uint8Array(7);n.getRandomValues(h);f=16777216 * ((h[6] & 31) << 24 | h[5] << 16 | h[4] << 8 | h[3]) + (h[2] << 16 | h[1] << 8 | h[0]);h=h[6] & 128?-f - 1:f;}return h;};c.prototype.yAc=function(h){var e,g;for(var f=0;;){e=Math.min(65536,h.length - f);if(0 == e)break;g=new Uint8Array(e);n.getRandomValues(g);h.set(g,f);f+=e;}};return c;})();b.udb=t;},74015:function(t,b,a){var h,f,e;function d(g){return g == h.default.Se?1:g + 1;}function n(g){if(0 === Object.keys(g.Ow).length)return 0;for(var k=d(g.jz);!g.Ow[k];)k=d(k);return k;}function c(g){if(0 === Object.keys(g.aC).length)return 0;for(var k=d(g.Fu);!g.aC[k];)k=d(k);return k;}Object.defineProperty(b,"__esModule",{value:!0});b.nEa=void 0;t=a(22970);h=t.__importDefault(a(51411));f=t.__importDefault(a(79804));e=t.__importDefault(a(10690));a=(function(){function g(){this.MV={};this.Ow={};this.TV=null;this.aC={};this.Tia=this.Fu=this.jz=0;}g.prototype.cancel=function(k){var l;if(this.Ow[k]){l=this.Ow[k];delete this.Ow[k];k == this.jz && (this.jz=n(this));l.call(this,!0);}this.aC[k] && (l=this.aC[k],delete this.aC[k],k == this.Fu && (this.Fu=c(this)),l.call(this,!0));};g.prototype.Rka=function(){for(;0 !== this.Fu;)this.cancel(this.Fu);for(;0 !== this.jz;)this.cancel(this.jz);};g.prototype.SHc=function(k,l){var m,p;m=this;p=d(this.Tia);this.Tia=p;f.default(l,function(){var r;if(!m.TV && 0 === Object.keys(m.aC).length)return (m.MV[p]=!0,p);-1 != k && (r=setTimeout(function(){delete m.Ow[p];p == m.jz && (m.jz=n(m));l.timeout();},k));m.Ow[p]=function(q){clearTimeout(r);q?setTimeout(function(){l.result(void 0);},0):(m.MV[p]=!0,setTimeout(function(){l.result(p);},0));};m.jz || (m.jz=p);});return p;};g.prototype.hQb=function(k,l){var m,p;m=this;p=d(this.Tia);this.Tia=p;f.default(l,function(){var r;if(0 === Object.keys(m.MV).length && 0 === Object.keys(m.Ow).length && !m.TV)return m.TV=p;-1 != k && (r=setTimeout(function(){delete m.aC[p];p == m.Fu && (m.Fu=c(m));l.timeout();},k));m.aC[p]=function(q){clearTimeout(r);q?setTimeout(function(){l.result(void 0);},0):(m.TV=p,setTimeout(function(){l.result(p);},0));};m.Fu || (m.Fu=p);});};g.prototype.unlock=function(k){var l;if(k == this.TV)this.TV=null;else {if(!this.MV[k])throw new e.default("There is no reader or writer with ticket number " + k + ".");delete this.MV[k];}if(this.Fu)0 < Object.keys(this.MV).length || (k=this.aC[this.Fu],delete this.aC[this.Fu],this.Fu=c(this),k.call(this,!1));else {for(k=this.jz;0 < Object.keys(this.Ow).length;k=d(k))if(this.Ow[k]){l=this.Ow[k];delete this.Ow[k];l.call(this,!1);}this.jz=0;}};return g;})();b.nEa=a;},81214:function(t,b,a){var c,h,f;function d(e){return e == c.default.Se?1:e + 1;}function n(e){if(0 === Object.keys(e.im).length)return 0;for(var g=d(e.Ch);!e.im[g];)g=d(g);return g;}Object.defineProperty(b,"__esModule",{value:!0});b.qeb=void 0;t=a(22970);c=t.__importDefault(a(51411));h=t.__importDefault(a(79804));f=t.__importDefault(a(10690));a=(function(){function e(g){this.Y0b=this.yV=g;this.im={};this.k5=this.Ch=0;}e.prototype.cancel=function(g){this.im[g] && (this.im[g].call(this,!1),delete this.im[g],g == this.Ch && (this.Ch=n(this)));};e.prototype.Rka=function(){for(;0 !== this.Ch;)this.cancel(this.Ch);};e.prototype.wait=function(g,k){var l,m;l=this;if(0 < this.yV)return (--this.yV,setTimeout(function(){k.result(!0);},0),0);m=d(this.k5);this.k5=m;h.default(k,function(){var p;-1 != g && (p=setTimeout(function(){delete l.im[m];m == l.Ch && (l.Ch=n(l));k.timeout();},g));l.im[m]=function(r){clearTimeout(p);if(r){if(0 >= l.yV){setTimeout(function(){k.error(new f.default("Semaphore waiter signaled without any available resources."));},0);return;}--l.yV;}setTimeout(function(){k.result(r);},0);};l.Ch || (l.Ch=m);});return m;};e.prototype.signal=function(){var g;if(this.yV == this.Y0b)throw new f.default("Semaphore signaled despite all resources being already available.");++this.yV;if(this.Ch){g=this.im[this.Ch];delete this.im[this.Ch];this.Ch=n(this);g.call(this,!0);}};return e;})();b.qeb=a;},25137:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.mV=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(10690));c=t.__importDefault(a(1966));h=t.__importDefault(a(36114));f=a(32260);a=(function(){function e(){this.Xr={};this.eX={};this.zy={};this.cba={};this.z1={};this.c_={};this.y1={};}e.prototype.eda=function(g,k){var l;if(k){l=g.Sh();this.Xr[l]=g;this.eX[l]=k;}else this.KHb(g);};e.prototype.EC=function(){var g,k,l;g=null;for(k in this.Xr){l=this.Xr[k];if(!g || l.kuc(g))g=l;}return g;};e.prototype.roc=function(g){var k;g=g.Cf;k=void 0 !== this.cba[g]?this.cba[g]:0;if(0 > k || k > d.default.Se)throw new n.default("Non-replayable ID " + k + " is outside the valid range.");k=k == d.default.Se?0:k + 1;return this.cba[g]=k;};e.prototype.Rz=function(g){return this.eX[g.Sh()];};e.prototype.KHb=function(g){var k,l,m,p,r;k=this;l=g.Sh();if(this.Xr[l]){m=g.Cf;for(p in this.Xr){r=this.Xr[p];if(!r.equals(g) && r.Cf == m){delete this.Xr[l];delete this.eX[l];return;}}Object.keys(this.zy).forEach(function(q){q=k.zy[q];q.rh(g) && k.kca(q);});try{this.Kta(null,g,null);}catch(q){if(f.zd(q))throw new n.default("Unexpected exception while removing master token bound service tokens.",q);throw q;}delete this.cba[m];delete this.Xr[l];delete this.eX[l];}};e.prototype.Q9b=function(){[this.Xr,this.eX,this.cba,this.zy,this.y1,this.c_].forEach(function(g){for(var k in g)delete g[k];});};e.prototype.Ija=function(g,k){var l,m;l=!1;for(m in this.Xr)if(k.rh(this.Xr[m])){l=!0;break;}if(!l)throw new c.default(h.default.IZb,"uit mtserialnumber " + k.Ej);this.zy[g]=k;};e.prototype.qx=function(g){return this.zy[g];};e.prototype.kca=function(g){var k,l,m,p;k=this;l=null;for(m in this.Xr){p=this.Xr[m];if(g.rh(p)){l=p;break;}}Object.keys(this.zy).forEach(function(r){if(k.zy[r].equals(g)){try{k.Kta(null,l,g);}catch(q){if(f.zd(q))throw new n.default("Unexpected exception while removing user ID token bound service tokens.",q);throw q;}delete k.zy[r];}});};e.prototype.Eja=function(g){var k;k=this;g.forEach(function(l){var m,p;if(l.Bx()){m=!1;for(p in k.Xr)if(l.rh(k.Xr[p])){m=!0;break;}if(!m)throw new c.default(h.default.RYb,"st mtserialnumber " + l.Ej);}if(l.Fv()){m=!1;for(var r in k.zy)if(l.rh(k.zy[r])){m=!0;break;}if(!m)throw new c.default(h.default.TYb,"st uitserialnumber " + l.vy);}});g.forEach(function(l){var m;if(l.Quc())k.z1[l.Sh()]=l;else {if(l.Bx()){m=k.c_[l.Ej];m || (m={});m[l.Sh()]=l;k.c_[l.Ej]=m;}l.Fv() && ((m=k.y1[l.vy]) || (m={}),m[l.Sh()]=l,k.y1[l.vy]=m);}});};e.prototype.lK=function(g,k){var l,m,p;if(k){if(!g)throw new c.default(h.default.JZb);if(!k.rh(g))throw new c.default(h.default.EFa,"uit mtserialnumber " + k.Ej + "; mt " + g.Cf);}l={};for(m in this.z1){p=this.z1[m];l[p.Sh()]=p;}if(g && (m=this.c_[g.Cf]))for(var r in m)(p=m[r],p.Fv() || (l[r]=p));if(k && (k=this.y1[k.Cf]))for(var q in k)(r=k[q],r.rh(g) && (l[q]=r));g=[];for(var u in l)g.push(l[u]);return g;};e.prototype.Kta=function(g,k,l){var m,p,r;m=this;if(l && k && !l.rh(k))throw new c.default(h.default.EFa,"uit mtserialnumber " + l.Ej + "; mt " + k.Cf);!g || k || l || Object.keys(this.z1).forEach(function(q){m.z1[q].name == g && delete m.z1[q];});k && !l && (p=this.c_[k.Cf]) && (Object.keys(p).forEach(function(q){var u;u=p[q];g && u.name != g || delete p[q];}),this.c_[k.Cf]=p);l && (r=this.y1[l.Cf]) && (k=Object.keys(r),k.forEach(function(q){var u;u=r[q];g && u.name != g || delete r[q];}),this.y1[l.Cf]=r);};return e;})();b.mV=a;},69193:function(t,b){var d;function a(n){if(!n)throw new TypeError("Text encoding implementation cannot be null.");d=n;}Object.defineProperty(b,"__esModule",{value:!0});b.LB=b.GZa=b.lfb=b.AB=void 0;b.AB={OE:"utf-8",Y0c:"utf-16"};b.lfb=(function(){return function(){};})();b.GZa=a;b.LB={GZa:a,pe:function(n,c){void 0 === c && (c=b.AB.OE);return d.pe(n,c);},pd:function(n,c){void 0 === c && (c=b.AB.OE);return d.pd(n,c);}};},14348:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Xha=void 0;d=a(22970);n=a(69193);t=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.pe=function(f,e){if(!e || e === n.AB.OE){e=0;for(var g,k=f.length,l="";e < k;){g=f[e++];if(g & 128)if(192 === (g & 224))g=((g & 31) << 6) + (f[e++] & 63);else if(224 === (g & 240))g=((g & 15) << 12) + ((f[e++] & 63) << 6) + (f[e++] & 63);else throw Error("unsupported character");l+=String.fromCharCode(g);}return l;}throw Error("unsupported encoding");};h.prototype.pd=function(f,e){var g,k,l,m;if(!e || e === n.AB.OE){e=f.length;g=0;l=0;for(k=e;k--;){m=f.charCodeAt(k);128 > m?g++:g=2048 > m?g + 2:g + 3;}g=new Uint8Array(g);for(k=0;k < e;k++)(m=f.charCodeAt(k),128 > m?g[l++]=m:(2048 > m?g[l++]=192 | m >>> 6:(g[l++]=224 | m >>> 12,g[l++]=128 | m >>> 6 & 63),g[l++]=128 | m & 63));return g;}throw Error("unsupported encoding");};return h;})(n.lfb);b.Xha=t;},62807:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.xgb=void 0;d=a(22970);n=a(41294);c=a(75513);h=a(14348);f=a(51411);t=(function(e){function g(){var k,l,m,p;k=e.call(this) || this;l=new n.Y3a();m={};m[f.fI.IAa]=new c.$9a();p=new h.Xha();k.q_b=l;k.D_b=m;k.i2b=p;return k;}d.__extends(g,e);g.prototype.xPa=function(){return null;};g.prototype.BQa=function(){return null;};return g;})(a(80824).dCa);b.xgb=t;},69452:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p;d=a(76113);n=a(69808);c=a(48668);h=a(99939);f=a(97911);e=a(51832);b=a(67286);g=a(62680);k=a(26302);l=g("String.prototype.charAt");m=b("%Array.prototype.indexOf%");p=b("%Math.max%");t.exports=function(r){var q,u,v;q=1 < arguments.length?d(arguments[1]):0;if(m && !f(r) && e(q) && "undefined" !== typeof r)return -1 < m.apply(this,arguments);u=c(this);v=n(u.length);if(0 === v)return !1;for(q=0 <= q?q:p(0,v + q);q < v;){if(h(r,k(u)?l(u,q):u[q]))return !0;q+=1;}return !1;};},44878:function(t,b,a){var d;d=a(69452);t.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:d;};},26860:function(t,b,a){var d,n;d=a(14926);n=a(44878);t.exports=function(){var c;c=n();d(Array.prototype,{includes:c},{includes:function(){return Array.prototype.includes !== c;}});return c;};},17187:function(t){function b(){this.oc=this.oc || ({});this.iz=this.iz || void 0;}function a(n){return "function" === typeof n;}function d(n){return "object" === typeof n && null !== n;}t.exports=b;b.EventEmitter=b;b.prototype.oc=void 0;b.prototype.iz=void 0;b.dMa=10;b.prototype.setMaxListeners=function(n){if("number" !== typeof n || 0 > n || isNaN(n))throw TypeError("n must be a positive number");this.iz=n;return this;};b.prototype.emit=function(n){var c,h,f,e;this.oc || (this.oc={});if("error" === n && (!this.oc.error || d(this.oc.error) && !this.oc.error.length)){h=arguments[1];if(h instanceof Error)throw h;f=Error('Uncaught, unspecified "error" event. (' + h + ")");f.context=h;throw f;}f=this.oc[n];if(void 0 === f)return !1;if(a(f))switch(arguments.length){case 1:f.call(this);break;case 2:f.call(this,arguments[1]);break;case 3:f.call(this,arguments[1],arguments[2]);break;default:(h=Array.prototype.slice.call(arguments,1),f.apply(this,h));}else if(d(f)){h=Array.prototype.slice.call(arguments,1);e=f.slice();f=e.length;for(c=0;c < f;c++)e[c].apply(this,h);}return !0;};b.prototype.addListener=function(n,c){if(!a(c))throw TypeError("listener must be a function");this.oc || (this.oc={});this.oc.tAc && this.emit("newListener",n,a(c.listener)?c.listener:c);this.oc[n]?d(this.oc[n])?this.oc[n].push(c):this.oc[n]=[this.oc[n],c]:this.oc[n]=c;d(this.oc[n]) && !this.oc[n].Z1a && (c=void 0 === this.iz?b.dMa:this.iz) && 0 < c && this.oc[n].length > c && (this.oc[n].Z1a=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.oc[n].length),"function" === typeof console.trace && console.trace());return this;};b.prototype.on=b.prototype.addListener;b.prototype.once=function(n,c){var f;function h(){this.removeListener(n,h);f || (f=!0,c.apply(this,arguments));}if(!a(c))throw TypeError("listener must be a function");f=!1;h.listener=c;this.on(n,h);return this;};b.prototype.removeListener=function(n,c){var h,f,e;if(!a(c))throw TypeError("listener must be a function");if(!this.oc || !this.oc[n])return this;h=this.oc[n];f=h.length;e=-1;if(h === c || a(h.listener) && h.listener === c)(delete this.oc[n],this.oc.removeListener && this.emit("removeListener",n,c));else if(d(h)){for(;0 < f--;)if(h[f] === c || h[f].listener && h[f].listener === c){e=f;break;}if(0 > e)return this;1 === h.length?(h.length=0,delete this.oc[n]):h.splice(e,1);this.oc.removeListener && this.emit("removeListener",n,c);}return this;};b.prototype.removeAllListeners=function(n){var c;if(!this.oc)return this;if(!this.oc.removeListener)return (0 === arguments.length?this.oc={}:this.oc[n] && delete this.oc[n],this);if(0 === arguments.length){for(c in this.oc)"removeListener" !== c && this.removeAllListeners(c);this.removeAllListeners("removeListener");this.oc={};return this;}c=this.oc[n];if(a(c))this.removeListener(n,c);else if(c)for(;c.length;)this.removeListener(n,c[c.length - 1]);delete this.oc[n];return this;};b.prototype.listeners=function(n){return this.oc && this.oc[n]?a(this.oc[n])?[this.oc[n]]:this.oc[n].slice():[];};b.prototype.listenerCount=function(n){if(this.oc){n=this.oc[n];if(a(n))return 1;if(n)return n.length;}return 0;};b.listenerCount=function(n,c){return n.listenerCount(c);};},70834:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(d){this.buffer=d;this.position=0;}a.prototype.seek=function(d){this.position=d;};a.prototype.skip=function(d){this.position+=d;};a.prototype.w9=function(){return this.buffer.length - this.position;};a.prototype.Ina=function(){return this.buffer.length;};a.prototype.Xt=function(){return this.buffer[this.position++];};a.prototype.Tm=function(d){var n;n=this.position;this.position+=d;return this.Puc(this.buffer)?this.buffer.subarray(n,this.position):this.buffer.slice(n,this.position);};a.prototype.Puc=function(d){return void 0 !== d.subarray;};a.prototype.cw=function(d){for(var n=0;d--;)n=256 * n + this.buffer[this.position++];return n;};a.prototype.NXa=function(d){for(var n="";d--;)n+=String.fromCharCode(this.buffer[this.position++]);return n;};a.prototype.ej=function(){return this.cw(2);};a.prototype.dw=function(){return this.cw(4);};a.prototype.d0=function(){return this.cw(8);};a.prototype.DD=function(d){for(var n,c="";d--;)(n=this.Xt(),c+=("0123456789ABCDEF")[n >>> 4] + ("0123456789ABCDEF")[n & 15]);return c;};a.prototype.OXa=function(d){for(var n=0,c=0;c < d;c++)n+=this.Xt() << (c << 3);return n;};a.prototype.c0=function(){return this.OXa(4);};a.prototype.Ey=function(d){this.buffer[this.position++]=d;};a.prototype.iQb=function(d,n){this.position+=n;for(var c=1;c <= n;c++)(this.buffer[this.position - c]=d & 255,d=Math.floor(d / 256));};a.prototype.d2a=function(d){for(var n=d.length,c=0;c < n;c++)this.buffer[this.position++]=d[c];};a.prototype.P1=function(d,n){this.d2a(d.Tm(n));};a.prototype.gQb=function(d){d=new a(d);for(var n,c;;)if((n=d.w9(),c=n >>> 14))(c=Math.min(4,c),this.Ey(192 | c),this.P1(d,16384 * c));else {128 > n?this.Ey(n):this.iQb(n | 32768,2);this.P1(d,n);break;}};a.prototype.eHb=function(){var c;for(var d=[],n=new a(d);;){c=this.Xt();if(c & 128){if(128 == (c & 192))(c&=63,c=(c << 8) + this.Xt(),n.P1(this,c));else if((c&=63,0 < c && 4 >= c)){n.P1(this,16384 * c);continue;}else throw Error("bad asn1");}else n.P1(this,c);break;}return new Uint8Array(d);};return a;})();b.Jfa=t;},28660:function(t,b,a){var d;(function(n){var D,F,G,E,H,J,L,K,M;function c(P,I,O){var Q;Q=M.get(P);if(!Q){if(!O)return;Q=new L();M.set(P,Q);}P=Q.get(I);if(!P){if(!O)return;P=new L();Q.set(I,P);}return P;}function h(P,I,O){if(f(P,I,O))return !0;I=u(I);return null !== I?h(P,I,O):!1;}function f(P,I,O){I=c(I,O,!1);return void 0 !== I && !!I.has(P);}function e(P,I,O){if(f(P,I,O))return g(P,I,O);I=u(I);return null !== I?e(P,I,O):void 0;}function g(P,I,O){I=c(I,O,!1);return void 0 === I?void 0:I.get(P);}function k(P,I){var O,S;O=l(P,I);P=u(P);if(null === P)return O;I=k(P,I);if(0 >= I.length)return O;if(0 >= O.length)return I;P=new K();for(var Q=0;Q < O.length;Q++){S=O[Q];P.add(S);}for(O=0;O < I.length;O++)(S=I[O],P.add(S));return x(P);}function l(P,I){var O;P=c(P,I,!1);O=[];P && w(P,function(Q,S){return O.push(S);});return O;}function m(P){return void 0 === P;}function p(P){return Array.isArray?Array.isArray(P):P instanceof Array || "[object Array]" === Object.prototype.toString.call(P);}function r(P){return "object" === typeof P?null !== P:"function" === typeof P;}function q(P){return "symbol" === typeof P?P:String(P);}function u(P){var I,O;I=Object.getPrototypeOf(P);if("function" !== typeof P || P === J || I !== J)return I;O=P.prototype;O=O && Object.getPrototypeOf(O);if(null == O || O === Object.prototype)return I;O=O.constructor;return "function" !== typeof O || O === P?I:O;}function v(P){P=P.next();return P.done?void 0:P;}function w(P,I,O){var Q,S,U;Q=P.entries;if("function" === typeof Q){Q=Q.call(P);try{for(;S=v(Q);){U=S.value;I.call(O,U[1],U[0],P);}}finally{S && (P=Q["return"]) && P.call(Q);}}else (Q=P.forEach,"function" === typeof Q && Q.call(P,I,O));}function x(P){var I;I=[];w(P,function(O,Q){I.push(Q);});return I;}function y(P,I,O){var Q;Q=0;return {next:function(){var S;if((P || I) && Q < (P || I).length){S=Q++;switch(O){case "key":return {value:P[S],done:!1};case "value":return {value:I[S],done:!1};case "key+value":return {value:[P[S],I[S]],done:!1};}}I=P=void 0;return {value:void 0,done:!0};},"throw":function(S){if(P || I)I=P=void 0;throw S;},"return":function(S){if(P || I)I=P=void 0;return {value:S,done:!0};}};}function z(){var P;P={};return (function(){function I(){this.xg=[];this.Bi=[];this.OB=P;this.$y=-2;}Object.defineProperty(I.prototype,"size",{get:function(){return this.xg.length;},enumerable:!0,configurable:!0});I.prototype.has=function(O){return 0 <= this.XE(O,!1);};I.prototype.get=function(O){O=this.XE(O,!1);return 0 <= O?this.Bi[O]:void 0;};I.prototype.set=function(O,Q){O=this.XE(O,!0);this.Bi[O]=Q;return this;};I.prototype.delete=function(O){var Q;Q=this.XE(O,!1);if(0 <= Q){O=this.xg.length;for(Q+=1;Q < O;Q++)(this.xg[Q - 1]=this.xg[Q],this.Bi[Q - 1]=this.Bi[Q]);this.xg.length--;this.Bi.length--;this.OB=P;this.$y=-2;return !0;}return !1;};I.prototype.clear=function(){this.xg.length=0;this.Bi.length=0;this.OB=P;this.$y=-2;};I.prototype.keys=function(){return y(this.xg,void 0,"key");};I.prototype.values=function(){return y(void 0,this.Bi,"value");};I.prototype.entries=function(){return y(this.xg,this.Bi,"key+value");};I.prototype.XE=function(O,Q){var S;if(this.OB === O)return this.$y;S=this.xg.indexOf(O);0 > S && Q && (S=this.xg.length,this.xg.push(O),this.Bi.push(void 0));return (this.OB=O,this.$y=S);};return I;})();}function B(){return (function(){function P(){this.Mg=new L();}Object.defineProperty(P.prototype,"size",{get:function(){return this.Mg.size;},enumerable:!0,configurable:!0});P.prototype.has=function(I){return this.Mg.has(I);};P.prototype.add=function(I){return (this.Mg.set(I,I),this);};P.prototype.delete=function(I){return this.Mg.delete(I);};P.prototype.clear=function(){this.Mg.clear();};P.prototype.keys=function(){return this.Mg.keys();};P.prototype.values=function(){return this.Mg.values();};P.prototype.entries=function(){return this.Mg.entries();};return P;})();}function A(){var Q,S;function P(U,W){for(var Y=0;Y < W;++Y)U[Y]=255 * Math.random() | 0;return U;}function I(){var U,X;do {U="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):P(new Uint8Array(16),16):P(Array(16),16);U[6]=U[6] & 79 | 64;U[8]=U[8] & 191 | 128;for(var W="",Y=0;16 > Y;++Y){X=U[Y];if(4 === Y || 6 === Y || 8 === Y)W+="-";16 > X && (W+="0");W+=X.toString(16).toLowerCase();}U="@@WeakMap@@" + W;}while(H.has(Q,U));Q[U]=!0;return U;}function O(U,W){if(!D.call(U,S)){if(!W)return;Object.defineProperty(U,S,{value:E()});}return U[S];}Q=E();S=I();return (function(){function U(){this.gz=I();}U.prototype.has=function(W){W=O(W,!1);return void 0 !== W?H.has(W,this.gz):!1;};U.prototype.get=function(W){W=O(W,!1);return void 0 !== W?H.get(W,this.gz):void 0;};U.prototype.set=function(W,Y){O(W,!0)[this.gz]=Y;return this;};U.prototype.delete=function(W){W=O(W,!1);return void 0 !== W?delete W[this.gz]:!1;};U.prototype.clear=function(){this.gz=I();};return U;})();}function C(P){P.o1c=1;delete P.p1c;return P;}D=Object.prototype.hasOwnProperty;F="function" === typeof Object.create;G=(function(){var I;function P(){}I={};P.prototype=I;return new P().__proto__ === I;})();E=F?function(){return C(Object.create(null));}:G?function(){return C({__proto__:null});}:function(){return C({});};(function(P){var I;I=!F && !G;P.has=I?function(O,Q){return D.call(O,Q);}:function(O,Q){return (Q in O);};P.get=I?function(O,Q){return D.call(O,Q)?O[Q]:void 0;}:function(O,Q){return O[Q];};})(H || (H={}));J=Object.getPrototypeOf(Function);L="function" === typeof Map?Map:z();K="function" === typeof Set?Set:B();M=new ("function" === typeof WeakMap?WeakMap:A())();n.KJ=function(P,I,O,Q){var U;if(m(Q)){if(m(O)){if(!p(P))throw new TypeError();if("function" !== typeof I)throw new TypeError();for(O=P.length - 1;0 <= O;--O)if((Q=(0,P[O])(I),!m(Q))){if("function" !== typeof Q)throw new TypeError();I=Q;}return I;}if(!p(P))throw new TypeError();if(!r(I))throw new TypeError();O=q(O);for(Q=P.length - 1;0 <= Q;--Q)(0,P[Q])(I,O);}else {if(!p(P))throw new TypeError();if(!r(I))throw new TypeError();if(m(O))throw new TypeError();if(!r(Q))throw new TypeError();O=q(O);for(var S=P.length - 1;0 <= S;--S){U=(0,P[S])(I,O,Q);if(!m(U)){if(!r(U))throw new TypeError();Q=U;}}return Q;}};n.xc=function(P,I){return function(O,Q){if(m(Q)){if("function" !== typeof O)throw new TypeError();c(O,void 0,!0).set(P,I);}else {if(!r(O))throw new TypeError();Q=q(Q);c(O,Q,!0).set(P,I);}};};n.Lla=function(P,I,O,Q){if(!r(O))throw new TypeError();m(Q) || (Q=q(Q));c(O,Q,!0).set(P,I);};n.urc=function(P,I){var O;if(!r(I))throw new TypeError();m(O) || (O=q(O));return h(P,I,O);};n.QQa=function(P,I){var O;if(!r(I))throw new TypeError();m(O) || (O=q(O));return f(P,I,O);};n.getMetadata=function(P,I,O){if(!r(I))throw new TypeError();m(O) || (O=q(O));return e(P,I,O);};n.Vub=function(P,I,O){if(!r(I))throw new TypeError();m(O) || (O=q(O));return g(P,I,O);};n.F5c=function(P,I){if(!r(P))throw new TypeError();m(I) || (I=q(I));return k(P,I);};n.K5c=function(P,I){if(!r(P))throw new TypeError();m(I) || (I=q(I));return l(P,I);};n.M3c=function(P,I,O){var Q;if(!r(I))throw new TypeError();m(O) || (O=q(O));Q=c(I,O,!1);if(m(Q) || !Q.delete(P))return !1;if(0 < Q.size)return !0;P=M.get(I);P.delete(O);if(0 < P.size)return !0;M.delete(I);return !0;};(function(P){if("undefined" !== typeof P.Reflect){if(P.Reflect !== n)for(var I in n)D.call(n,I) && (P.Reflect[I]=n[I]);}else P.Reflect=n;})("undefined" !== typeof Ca?Ca:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a.nY?a.nY:Function("return this;")());})(d || (d={}));},26388:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.tR=b.dfa=b.v=void 0;b.v={X:0,U:1,Ba:2,pn:3};b.dfa={X:0,U:1};b.tR=(a={},a[b.v.X]="audio",a[b.v.U]="video",a[b.v.Ba]="subtitle",a[b.v.pn]="mediaEvents",a);},84915:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},66164:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(84915),b);t.__exportStar(a(83403),b);t.__exportStar(a(93926),b);t.__exportStar(a(77985),b);t.__exportStar(a(67111),b);t.__exportStar(a(92884),b);t.__exportStar(a(13779),b);},83403:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},93926:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},77985:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},57421:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},3775:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},67111:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(3775),b);t.__exportStar(a(49971),b);t.__exportStar(a(57421),b);t.__exportStar(a(62103),b);t.__exportStar(a(92473),b);},62103:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},49971:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},92473:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},52991:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Fab=void 0;t=(function(){function a(){}a.prototype.ha=function(){var d;d=process.p6c();return 1E3 * d[0] + d[1] / 1E6;};a.prototype.Vqa=function(d){return d - this.ha() + this.now();};a.prototype.Era=function(d){return d - this.now() + this.ha();};a.prototype.now=function(){return Date.now();};return a;})();b.Fab=t;},92884:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.platform=void 0;t=a(52991);b.platform={name:"default-node",nRa:function(d){for(var n in d)d.hasOwnProperty(n) && (this[n]=d[n]);},reset:function(){},time:new t.Fab(),JJ:function(d){return new TextDecoder("utf-8").decode(d);}};},13779:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},89707:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=function(c,h){if(!c)throw new n(h || "Assertion failed");};d=a(22970);n=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);return h;})(Error);},85017:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IM=b.L8=void 0;b.sOa=function(a,d){return a.aa / a.P === d.aa / d.P;};b.L8={23976:{aa:24E3,P:1001},24:{aa:24E3,P:1E3},25:{aa:25E3,P:1E3},2997:{aa:3E4,P:1001},30:{aa:3E4,P:1E3},50:{aa:5E4,P:1E3},5994:{aa:6E4,P:1001},60:{aa:6E4,P:1E3}};b.IM={h264:["23976","24","25","2997","30"],h264hpl:["23976","24","25","2997","30"],"hevc-main10":("23976 24 25 2997 30 50 5994 60").split(" "),av1:("23976 24 25 2997 30 50 5994 60").split(" ")};},80463:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.W=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA",Ha:!0,Ja:[176,590],size:610},{data:"IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70",Ha:!0,Ja:[44],size:6252},{aa:1536,P:48E3},{aa:12288,P:48E3},"ddplus-5.1-dash",192,"5.1"];},73502:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(80463);b.W=[{data:"hMPLAIhMIMAEhMgBDogGYGhMJ3",Ha:!0,Ja:[176,590],size:610,Na:t.W[0]},{data:"sNY4AEsNYpAgsNYGD/htYKcD+B9lhtQChtIBhs4ChswFB9hpgJgAwThsIJgAwThuwJgAwTh3AJgAwTh5oKgQAVh2QCB3DNg0oAgCAAhEYCgAQIhEIBBAgDIdBfA+gDAMhlQEAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LhU4EgDIcgXIxgDIVB2gAYBAAAdDzhWIAgmgAgDgKgAQAiN4EgDIbgXIygDIVCyhPQCDvCagjQADzDmgNgMhpYBh3oBgDIbgXIxgDIWCQiBoCB8gNYAhUQAh6QCgAQIiUwEgDIcgXIxgDIVDsiV4CA7DmgjQAhWQAg2ILDbjNwEgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x",Ha:!0,Ja:[44],size:8300,Na:t.W[1]},{aa:1536,P:48E3},{aa:12288,P:48E3},"ddplus-5.1hq-dash",256,"5.1"];},86252:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(80463).W[0];a=a(73502);b.W=[{data:"hMPLAMhMIMg8oBAFDcgGYCgEQChMJ3",Ha:!0,Ja:[176,590],size:610,Na:t},{data:"wNY4gAYAwNYoAwwNYFACiNYLcEEB+6iNYxiHgviRwwicAwiWIwgYwSgnwCA2gGwCg14BdvHjx4DxDjDHCPgAwDgB4AgCYAhBoBhaABiM4EAABvgGYBg6oCgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBhy4CgIwIgAwAcbbbfPhUQBgEYEiFQCADBrgP4BhFICgEgbgSQBhagCDegSQJB2gB4AgCYAgEYGhs4CAADZgXwCgJ4SAegB4AgV4AA1gFQGhhgCAGgd4BDNhSwBC8gJ4IDGgJ4PgZwAhiADC3gcQIgAwAgB4AgCYAgJAHhZ4BglwTgEgPA3gsQBhgoCgSQJA3glwQiE4Cgv3/gvz8gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q",Ha:!0,Ja:[44],size:12396,Na:a.W[1]},{aa:1536,P:48E3},{aa:12288,P:48E3},"ddplus-5.1hq-dash",384,"5.1"];},27443:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(80463).W[0];a=a(86252);b.W=[{data:"hMPLAOhMIMAHgEgBDWgGYChMJ7",Ha:!0,Ja:[176,590],size:610,Na:t},{data:"4NY4AH4NYpA44NYFADB/jNYLAoAfDMjNQAjNIAjM4AjMwFiuICDfjAwvjNozjBozjOgzjbY0jPYIAbhcwChOYEZ3gAAAhiYRhKwEgFgIA7a7C7haADCNgCgAhboAhLYIgAgAhxgDgFQCh2ADgFgqAdbdDdhvQDhkYMhWwEhpQAgFQDhbYCgFgMh0AMgFgFDwgcgCgRZwgFgcCObuDuDvidgQiF4EiQAAgFQDiKgCgFgMC7gFgSB4gcgCgRZwgFgdhJ4HiUYQisoEABC+gtIEgxICgFgLDdgFgSC8itoDgRZvgFgdhJwGC7itIDgCgAh+YAgQYJC1Cgi6oCjDgCi/IEgFgLBugFgSDeijwDgRZvgFgdhJwGDdju4RjXQEBvju4Cjl4EgFgLjOoNgFgFi5ADgRZvgFgdhJwGDuj4IRkQYEA3j4ICjvIEgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m",Ha:!0,Ja:[44],size:14444,Na:a.W[1]},{aa:1536,P:48E3},{aa:12288,P:48E3},"ddplus-5.1hq-dash",448,"5.1"];},75452:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(86252).W[0];a=a(27443);b.W=[{data:"hMPLAUhMIMAKgAQAAJgYQCAChMJ7",Ha:!0,Ja:[176,590],size:610,Na:t},{data:"8NY4AK8NYpBQ8NYFAED/jtYCgAAChQYBcAjgYYBhCGjQwzjfY+juA+j8o9jwo+gfwLhdACABhWwGgrgEgAAQADhkwBhWQChkYFgIYMgEACA7jcoFC4hFQWiJgBj4oDj7wEBfgQ4LhWgCAHiO4GgIAWAOhewADthhICiuAFgZYLjt4DiyIChjgCDggIAVABgb4BgIAChxwFghAMgEACAdjYgFDcgQQWgcABhxYDj3oEhG4MgnICADjFoEiLgGhxYWAHgcgAkGoBiqoHgpYLD4glYDki4FBwgRAWgcoBiCYDh/4EhQAMglYDjVIGgIAWgcwBibQDj0QEDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/k/xsgABrAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c",Ha:!0,Ja:[44],size:20588,Na:a.W[1]},{aa:1536,P:48E3},{aa:12288,P:48E3},"ddplus-5.1hq-dash",640,"5.1"];},46871:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(54468);b.W=[{data:"hZniCAhZjm",Ha:!0,Ja:[176,599],size:717,Na:t.W[0]},{data:"gXy9",Ha:!0,Ja:[44],size:191,Na:t.W[1]},{aa:1024,P:24E3},{aa:7168,P:24E3},"heaac-2hq-dash",128,"2.0"];},54468:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.W=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A3AuAyA1AuAxEw",Ha:!0,Ja:[176,599],size:717},{data:"IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A3AuAyA0AuAxAwAyAABCAgAIDBAYA4AhAQAEBgCMAcgAoc",Ha:!0,Ja:[44],size:191},{aa:1024,P:24E3},{aa:7168,P:24E3},"heaac-2-dash",64,"2.0"];},39532:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(54468);b.W=[{data:"hZniBghZjm",Ha:!0,Ja:[176,599],size:717,Na:t.W[0]},{data:"gXy9",Ha:!0,Ja:[44],size:191,Na:t.W[1]},{aa:1024,P:24E3},{aa:7168,P:24E3},"heaac-2-dash",96,"2.0"];},95426:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(47718);b.W=[{data:"hkvRACBagAQADzhNoCDAhkpAgEAAhksD",Ha:!0,Ja:[176,661],size:806,Na:t.W[0]},{data:"sBABDEsN4VCssN4FAcsN4FAqsN4LsNYUB4sNYEACsNYGDMgCwEACBagAYBgA4CgAZVAwBisZZDgEAAsZYcd/gHxSsZybgAFVtEoGe/wD4ppk71gAD7tkoGg//2tEoGg//2ukoGh///g//1pEoGg//2wEoGg//2wkoGg//2xEoGg//2xkoGg//2xEoGg//2wEoGh///g//1zkoGg//20EoGg//20koGk///g//11koGs///g//12koGg//23EoGg//23koGg//24EoGg//2B5",Ha:!0,Ja:[44],size:12582,Na:t.W[1]},{aa:2048,P:48E3},{aa:12288,P:48E3},"xheaac-dash",192,"2.0"];},70349:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.W=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAADAKBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABfhdHJhBrgBYBBcB0BrgOYDAHgLoZgCYDgCgDgO4rcBfW1kBpBhgf4CgA4Aga4UBVDEgBgDAlgDoABsBygDIGgjwAB1BugFIKgB4FcBMG1pBuBmgBABAQgnIAgJgLAkgMYAgC4DccZHJlgA4CgSwGcMdXJsAggBYFf0c3RiBsgA4BCogA4ABzgHYGgC4CeYbXA0gUACgZQMgjwAAQgvQJB0BlgGQABzgBACADgLoCcEXkAVgFQAA4gBAACFCogbACcFT/lGBDBCA8DADTDJEggBwAcSS2aBACAEAGALBcCIACAJACAIAJAIAAAJD8ABCAABAQgAQAdfwBgMAoAZgB4AeB/yAGACCGAIBCgHAAgQoABggGAAcFFUKegSwAeuQAQFgOYBcP8ARWDLAAAGABgzgBgcYBF0gOYDgAAFgB4BBzBjgB4JAUgB4BB6gxQNgEYBBjBvgB4JA4hJgABlB4gC4CBtBlgl4GBggAgCAgg/AAgC4DgeYGgAYBgTAAggIJd9dWR0giYCB1gG4AgA4DgAACAhg0AKg6gBhHQAFwgp4CgAAHBIBpBsgPwAhAACCpB0hZQAgPgChbIAgHgDgKQDBGgFwAg4QAdob2ZlByAgFJdTIE1QBFBHAtAyAvA0AvBEAgBBgNYAdpbyBFBugXAABkgDgB",Ha:!0,Ja:[176,665],size:810},{data:"IACUBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBd8dHJhgC4CAcB0gC4CACAAAqgC4FgAYBAIgBIEgGYBgDYABkB0gGYFgAACBIgGYAB1BugAwAACAFgBYBAMgAYBCcgJwFA4gAgBCrgAYFCqgBYgcIlm1kBhB0DRC/DlDDBCA8DADTDJEggCQAcSS2aBACAEAGALBcCIACAJACAIAJgQIAcJ/AGAABAQgAQAdfwBgMAoAZgB4AeB/yAGACCGAIBCAAAggVgABggGAAcFFUKeBsAACuBAAEgRQAgXQAcP8ARWDLAEAAA5BAB7AkAAAbCVDAAMCbD2CiA8gNIBcPAMBAgTYAeC8AFgDAgBoBc9QLWyDZgaIAgD4WcYALblBwADAmD9CoCPgDIBcDwDAQgAoAdgvABYAwgAwACjCpZpgACEdVMAFtDKDgAjgVIACDDwgvQCBkBTBUa0gACQCngVQHBwhEwCALAiCaalgACRgqoOA0gqiWCwgqi5hVSYC5gqoOCZgqlBCqh/9SC+h/9TC1",Ha:!0,Ja:[44],size:2346},{aa:2048,P:48E3},{aa:12288,P:48E3},"xheaac-dash",32,"2.0"];},72041:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(70349);b.W=[{data:"hlIhALhlJxDihlJhB+hlJKAxhlI5D1hlIFCphlINCZhlIhB1hlIHBnhlICBfhlICD6gAQAAEgd4DAFBQhlIBBihlI2cEHXPzADBhCAAVDIgPYACggJYAcB/gCKDZBghlT6",Ha:!0,Ja:[176,666],size:811,Na:t.W[0]},{data:"klJlD6gAYBBVgAYFBWgBYgAQCsklICfUf+YDBiklI2cEHXPzADBhCAAVDIgVAAegAEABD+AACKDZBgklYABNklYCcCQIejDUAQgFAAgAAFADBGCAgF4BgAAADBB4hKoAAGgCYFBRkmoEgFIgkn4AewkCHoD1AEgRAAgEgGDRCgAYgjwBAAAwBegM4ADBgCgDBfDgAGhACYgACTCmhoAAdhIEPYD2ACAVhLIIALAlg4QACBZLgAE0gqlSBKgqgVCDhVM7hVVTh///gqrAhVVTiqlTh///gqnm",Ha:!0,Ja:[44],size:4416,Na:t.W[1]},{aa:2048,P:48E3},{aa:12288,P:48E3},"xheaac-dash",64,"2.0"];},47718:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(70349).W[0];a=a(72041);b.W=[{data:"hlIhAGhlJxDdhlJhB5hlJKAshlI5DwhlIFCkhlINCUhlIhBwhlIHBihlICBahlICgFoBB3hPQDAFBLhlIBAihlI2cEwArkAADABQgBoAcA/wBFBsCwhkpzAEhkqE",Ha:!0,Ja:[176,661],size:806,Na:t},{data:"gogBBoon4VBQon4FAgon4FA6on4IoRAAgAwDooYUAYooYEAAooYCoLwAgAAABwgCwFAIoiYCfLP+VjAioiY3fACuQADABQgBoAcA/wBFBsCwgSQAAXocwAClCkojoAocwCDQgNQABooZICBObSgACUDbAwor4AhYgCC9DpZpgADtB0gf79Bogf79BAg//9Bagf79Bxgf79BGgf79Bpgf79B9gf79BTgf79B1g//9Bwgf79Bygf79Brif/9Bfmf/9Bjgf79B2gf79Bmgf79BJgf79B5",Ha:!0,Ja:[44],size:6256,Na:a.W[1]},{aa:2048,P:48E3},{aa:12288,P:48E3},"xheaac-dash",96,"2.0"];},43051:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Ukb=b.wPb=void 0;b.kSc=function(d){return {Sb:d[0],Ta:d[1],Fa:d[2],duration:d[3],profile:d[4],bitrate:d[5],width:d[6],height:d[7],dWa:d[8],eWa:d[9]};};b.jSc=function(d){return {Sb:d[0],Ta:d[1],Fa:d[2],duration:d[3],profile:d[4],bitrate:d[5],channels:d[6]};};b.wPb={padding:{"16:9":{h264:{23976:function(){return a(6350);},24:function(){return a(937);},25:function(){return a(6153);},2997:function(){return a(32477);},30:function(){return a(19034);}},h264hpl:{23976:function(){return a(98989);},24:function(){return a(5339);},25:function(){return a(95350);},2997:function(){return a(4029);},30:function(){return a(75034);}},"hevc-main10":{23976:function(){return a(56803);},24:function(){return a(51914);},25:function(){return a(44661);},2997:function(){return a(5066);},30:function(){return a(10124);},50:function(){return a(23259);},5994:function(){return a(33781);},60:function(){return a(98640);}},av1:{23976:function(){return a(83295);},24:function(){return a(77013);},25:function(){return a(64826);},2997:function(){return a(60939);},30:function(){return a(58097);},50:function(){return a(50640);},5994:function(){return a(56130);},60:function(){return a(17826);}}},"4:3":{h264:{23976:function(){return a(46977);},24:function(){return a(47976);},25:function(){return a(45185);},2997:function(){return a(5801);},30:function(){return a(26931);}},h264hpl:{23976:function(){return a(26776);},24:function(){return a(25378);},25:function(){return a(41470);},2997:function(){return a(6320);},30:function(){return a(59375);}},"hevc-main10":{23976:function(){return a(56E3);},24:function(){return a(21610);},25:function(){return a(96660);},2997:function(){return a(35455);},30:function(){return a(88354);},50:function(){return a(90090);},5994:function(){return a(35619);},60:function(){return a(13947);}},av1:{23976:function(){return a(61547);},24:function(){return a(81396);},25:function(){return a(64332);},2997:function(){return a(81647);},30:function(){return a(15871);},50:function(){return a(79196);},5994:function(){return a(3338);},60:function(){return a(7937);}}}}};b.Ukb={silence:{heaac:{64:function(){return a(54468);},96:function(){return a(39532);},128:function(){return a(46871);}},ddp:{192:function(){return a(80463);},256:function(){return a(73502);},384:function(){return a(86252);},448:function(){return a(27443);},640:function(){return a(75452);}},xheaac:{32:function(){return a(70349);},64:function(){return a(72041);},96:function(){return a(47718);},192:function(){return a(95426);}}}};},61547:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(83295);b.W=[{data:"hYTzgAgCDwhYTOgagAgaQAhYRJeHn/eNBTC4AIhYQcBUgIgBA4gAYEhYR4",Ha:!0,Ja:[180,687],size:707,Na:t.W[0]},{data:"guhdA6gugFBUgrgNAXgB4FgA4GgugYDKgugQeHn/eNBTC4AIgpIAgugVdmTI+fB6BeBfBlCrB1DWDAAyAfgtwWf0N2MUDTBHBwAyAZgtQQfbGvSMC6A9AYgtIRfeCd0IgmwBgtIAAVgtIQAFAsDwgCwBgtAODaDKDvgs4C",Ha:!0,Ja:[44],size:360,Na:t.W[1]},{aa:1001,P:24E3},{aa:6006,P:24E3},"av1-main-L30-dash-cbcs-prk",64,320,240,1,1];},81396:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(61547);b.W=[{data:"hYX/hYQOCghYQugpgBgAYChYRXBwhYQVDogBoG",Ha:!0,Ja:[180,687],size:707,Na:t.W[0]},{data:"gs41Dogs5yCggs65",Ha:!0,Ja:[44],size:360,Na:t.W[1]},{aa:1E3,P:24E3},{aa:6E3,P:24E3},"av1-main-L30-dash-cbcs-prk",64,320,240,1,1];},64332:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(81396);b.W=[{data:"hYRABhCohYTUga4EhYTyCGCjhYQpAaC4gAYEhYRWATCIhYQe",Ha:!0,Ja:[180,687],size:707,Na:t.W[0]},{data:"gQIBCVgs4VB9gs4tA8gs4JAFgAYBCdgs4hgB4GARgr4KgrwCCzgrwLCGCjgrwNBgAKAogrwGCvCPACgrwTAEgrwDBEgfAAAggrwAgnoAgrwYgC4AAogrwxgDQHgrwCgo4B",Ha:!0,Ja:[44],size:328,Na:t.W[1]},{aa:1E3,P:25E3},{aa:5E3,P:25E3},"av1-main-L30-dash-cbcs-prk",64,320,240,1,1];},81647:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(61547);b.W=[{data:"hYRAB1AwhYTUga4EhYTyDUDDhYQpAegN4BgAYChYR4",Ha:!0,Ja:[180,687],size:707,Na:t.W[0]},{data:"gs6tDUDDgs61",Ha:!0,Ja:[44],size:360,Na:t.W[1]},{aa:1001,P:3E4},{aa:6006,P:3E4},"av1-main-L30-dash-cbcs-prk",64,320,240,1,1];},15871:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(81647).W[0];a=a(81396);b.W=[{data:"hYX/hYQOCghYQuBQgAYEhYRXBwhYQVDogBoG",Ha:!0,Ja:[180,687],size:707,Na:t},{data:"gs6tDUDDgs61",Ha:!0,Ja:[44],size:360,Na:a.W[1]},{aa:1E3,P:3E4},{aa:6E3,P:3E4},"av1-main-L30-dash-cbcs-prk",64,320,240,1,1];},79196:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(81396).W[0];a=a(50640);b.W=[{data:"hYRADDBQhYTUga4EhYTxADANBDhYQmgUoBAuAYgAYEhYRWAnAQhYQe",Ha:!0,Ja:[180,687],size:707,Na:t},{data:"hARdA+hAQFBsg8QVgB4GAug9QOgB4FgA4GhAQcAvhAQQeHn/eNBTC4AIAyAnhAQadjiAHSAdAFAQAACBBVBZAyAfg/YWf0N2MUDTBHBwAyAZg+4QfbGvSMC6A9gJwAg+wRfeCd0IhFYAguwAg+wPAFAsDwg04Eg+oODaDKDvg+gDAWg+gRgGgBAyAUg+YQB9DzgJQCgDAAg+QODVDJA+gCoBg+IPAHg+AC",Ha:!0,Ja:[44],size:497,Na:a.W[1]},{aa:1E3,P:5E4},{aa:1E4,P:5E4},"av1-main-L30-dash-cbcs-prk",64,320,240,1,1];},3338:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(61547).W[0];a=a(56130);b.W=[{data:"hYRADqBghYTUga4EhYTxADCpCDhYQmgUoBAyAQgAYEhYRWA6CnhYQe",Ha:!0,Ja:[180,687],size:707,Na:t},{data:"hTpdA6hToFBshIoVAWgB4FgA4OgD4GAugC4VgG4ehToZCZhToQeHn/eNBTC4AIhOQAhToWeTI+feGXfZat11CwAyAfhS4Wf0N2MUDTBHBwAyAZhSYQfbGvSMC6A9AYhSQSfeCd0IhY4Agz4AhSQPAFAsDwgCwBhSIODaDKDvhSADAUhSAQB9DzgCoBhR4ODVDJA+gCoBhRwPAHhRoDAWhRoRgOwCgGAAhRgODQCtBIgCoBhRYPArBogRYEhRQODLCeBQgCoBhRIODJCShygAgCoAhRAODHgGwAhQ4B",Ha:!0,Ja:[44],size:648,Na:a.W[1]},{aa:1001,P:6E4},{aa:15015,P:6E4},"av1-main-L30-dash-cbcs-prk",64,320,240,1,1];},7937:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(3338);b.W=[{data:"hYX/hYQOCghYQugWoBgAYChYRXCYhYQVDogBoG",Ha:!0,Ja:[180,687],size:707,Na:t.W[0]},{data:"hQ41DohQ7DCghQ+I",Ha:!0,Ja:[44],size:648,Na:t.W[1]},{aa:1E3,P:6E4},{aa:15E3,P:6E4},"av1-main-L30-dash-cbcs-prk",64,320,240,1,1];},46977:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(6350);b.W=[{data:"hdjvgAgChdlACACIhdgdhNAFhdiM",Ha:!0,Ja:[176,729],size:749,Na:t.W[0]},{data:"h/v/h/v7",Ha:!0,Ja:[44],size:1022,Na:t.W[1]},{aa:1001,P:24E3},{aa:6006,P:24E3},"playready-h264mpl30-dash",64,320,240,1,1];},47976:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(937);b.W=[{data:"hdzvgAgChd1ACACIhdwfhNQFhdyM",Ha:!0,Ja:[176,731],size:751,Na:t.W[0]},{data:"h/v/h/v7",Ha:!0,Ja:[44],size:1022,Na:t.W[1]},{aa:1E3,P:24E3},{aa:6E3,P:24E3},"playready-h264mpl30-dash",64,320,240,1,1];},45185:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(6153);b.W=[{data:"hdzvgAgChd1ACAhLABhdwdhNQFhdyM",Ha:!0,Ja:[176,731],size:751,Na:t.W[0]},{data:"h7X/h7XY",Ha:!0,Ja:[44],size:987,Na:t.W[1]},{aa:1E3,P:25E3},{aa:5E3,P:25E3},"playready-h264mpl30-dash",64,320,240,1,1];},5801:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(32477);b.W=[{data:"hdjvgAgChdlACACIhdgdhNAFhdiM",Ha:!0,Ja:[176,729],size:749,Na:t.W[0]},{data:"h/v/h/v7",Ha:!0,Ja:[44],size:1022,Na:t.W[1]},{aa:1001,P:3E4},{aa:6006,P:3E4},"playready-h264mpl30-dash",64,320,240,1,1];},26931:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(19034);b.W=[{data:"hdzvgAgChd1ACACIhdwfhNQFhdyM",Ha:!0,Ja:[176,731],size:751,Na:t.W[0]},{data:"h/v/h/v7",Ha:!0,Ja:[44],size:1022,Na:t.W[1]},{aa:1E3,P:3E4},{aa:6E3,P:3E4},"playready-h264mpl30-dash",64,320,240,1,1];},26776:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(98989);b.W=[{data:"hdzvgAgChd1BABhdwfhNQFhdyM",Ha:!0,Ja:[176,731],size:751,Na:t.W[0]},{data:"h/v/h/v7",Ha:!0,Ja:[44],size:1022,Na:t.W[1]},{aa:1001,P:24E3},{aa:6006,P:24E3},"playready-h264hpl30-dash",64,320,240,1,1];},25378:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(5339);b.W=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ha:!0,Ja:[176,733],size:753,Na:t.W[0]},{data:"h/v/h/v7",Ha:!0,Ja:[44],size:1022,Na:t.W[1]},{aa:1E3,P:24E3},{aa:6E3,P:24E3},"playready-h264hpl30-dash",64,320,240,1,1];},41470:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(95350);b.W=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ha:!0,Ja:[176,733],size:753,Na:t.W[0]},{data:"h7X/h7XY",Ha:!0,Ja:[44],size:987,Na:t.W[1]},{aa:1E3,P:25E3},{aa:5E3,P:25E3},"playready-h264hpl30-dash",64,320,240,1,1];},6320:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(4029);b.W=[{data:"hdzvgAgChd1BABhdwfhNQFhdyM",Ha:!0,Ja:[176,731],size:751,Na:t.W[0]},{data:"h/v/h/v7",Ha:!0,Ja:[44],size:1022,Na:t.W[1]},{aa:1001,P:3E4},{aa:6006,P:3E4},"playready-h264hpl30-dash",64,320,240,1,1];},59375:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(75034);b.W=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ha:!0,Ja:[176,733],size:753,Na:t.W[0]},{data:"h/v/h/v7",Ha:!0,Ja:[44],size:1022,Na:t.W[1]},{aa:1E3,P:3E4},{aa:6E3,P:3E4},"playready-h264hpl30-dash",64,320,240,1,1];},56E3:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(56803);b.W=[{data:"heH/heDu",Ha:!0,Ja:[176,733],size:753,Na:t.W[0]},{data:"hNMtDABahNM3",Ha:!0,Ja:[44],size:618,Na:t.W[1]},{aa:1001,P:24E3},{aa:6006,P:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},21610:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(51914);b.W=[{data:"heH/heDu",Ha:!0,Ja:[176,733],size:753,Na:t.W[0]},{data:"hNktDABahNk6",Ha:!0,Ja:[44],size:621,Na:t.W[1]},{aa:1E3,P:24E3},{aa:6E3,P:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},96660:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(44661);b.W=[{data:"heH/heDu",Ha:!0,Ja:[176,733],size:753,Na:t.W[0]},{data:"hHkgDABahHkX",Ha:!0,Ja:[44],size:573,Na:t.W[1]},{aa:1E3,P:25E3},{aa:5E3,P:25E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},35455:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(5066);b.W=[{data:"heH/heDu",Ha:!0,Ja:[176,733],size:753,Na:t.W[0]},{data:"hNUtDABahNU4",Ha:!0,Ja:[44],size:619,Na:t.W[1]},{aa:1001,P:3E4},{aa:6006,P:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},88354:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(10124);b.W=[{data:"heH/heDu",Ha:!0,Ja:[176,733],size:753,Na:t.W[0]},{data:"hNctDABahNc5",Ha:!0,Ja:[44],size:620,Na:t.W[1]},{aa:1E3,P:3E4},{aa:6E3,P:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},90090:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(23259);b.W=[{data:"heH/heDu",Ha:!0,Ja:[176,733],size:753,Na:t.W[0]},{data:"hk9hDABahk/B",Ha:!0,Ja:[44],size:808,Na:t.W[1]},{aa:1E3,P:5E4},{aa:1E4,P:5E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},35619:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(33781);b.W=[{data:"heH/heDu",Ha:!0,Ja:[176,733],size:753,Na:t.W[0]},{data:"iCWiDABaiCX/iCRq",Ha:!0,Ja:[44],size:1043,Na:t.W[1]},{aa:1001,P:6E4},{aa:15015,P:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},13947:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(98640);b.W=[{data:"heH/heDu",Ha:!0,Ja:[176,733],size:753,Na:t.W[0]},{data:"iCmiDABaiCn/iChs",Ha:!0,Ja:[44],size:1045,Na:t.W[1]},{aa:1E3,P:6E4},{aa:15E3,P:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},83295:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(9253);b.W=[{data:"g/wChxYKdhdjAxhx4QACCfhx5wABDzhx5XDggAYBAOgDgDCPhtZSA6htY8AAD6htYEAACuhtYMAACegzgChtYXDggaQBhtYyAhgKoAcxQ4EFBMAAAKAThWgBAPCkgHAAB3hXABcFiO/DBGCpDchYwChYQIgyoAgAIChYQJBZgAQAAZDYgAYEhYR4",Ha:!0,Ja:[180,687],size:707,Na:t.W[0]},{data:"g3YCg6YVCGg6YtBEg6YEAGg6YGCmgAYBBAACBAgDYDBZABBBgA4Dgd4ACBgA4DAYgB4FgA4GgC4Gg3YHAkAUAYEUAYgBABDXg3YCAKATgX4BAPCkgPQAB3gdIBcFiO/DBGCpDcAEAyApAQABCFAAAIEgeIBBAEC0BaDMC1B6A+DZDgBIAxB6AeBlBjA1BEDKCdAICYARCYBuAhAICEDED+CDBgAyAjAoAFAfghoCdD0AccAwDEAEAIAACADQAKCWCxAIBdA9D8DADpAMB3C/APC6CRAFCAAyAaAoACCfgiAAckgUSQAJAkBBAECECIADgXYAfdqKPnBMB5DNAwAyAWAwADA+gHwAeSAougAYBgCiCJAJAQAGCADfCfBTAXCJAaABCogDQBcGfgmkBJgDQAhKoABYgDQEfdxAVPAggC4BcIPg22gC4BgGQHfbKTytCAgGQACY",Ha:!0,Ja:[44],size:373,Na:t.W[1]},{aa:1001,P:24E3},{aa:6006,P:24E3},"av1-main-L30-dash-cbcs-prk",64,480,270,1,1];},77013:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(83295);b.W=[{data:"hYX/hYQOCghYQugpgBgAYChYRXBwhYQVDogBoG",Ha:!0,Ja:[180,687],size:707,Na:t.W[0]},{data:"gug1DoguhyCggujG",Ha:!0,Ja:[44],size:373,Na:t.W[1]},{aa:1E3,P:24E3},{aa:6E3,P:24E3},"av1-main-L30-dash-cbcs-prk",64,480,270,1,1];},64826:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(77013);b.W=[{data:"hYRABhCohYTUga4EhYTyCGCjhYQpAcCYgAYEhYRWATCIhYQe",Ha:!0,Ja:[180,687],size:707,Na:t.W[0]},{data:"gRABCVgugVB9gugtA8gugJAFgAYBCdgughgB4GARgtgKgtYCC/gtYLCGCjgtYNBgAKAogtYGCvCPACgtYZAEgtYDBEgf4AAggtYAgowAgtYcgDYAAogtYygDQHgtYDgqYB",Ha:!0,Ja:[44],size:340,Na:t.W[1]},{aa:1E3,P:25E3},{aa:5E3,P:25E3},"av1-main-L30-dash-cbcs-prk",64,480,270,1,1];},60939:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(83295);b.W=[{data:"hYRAB1AwhYTUga4EhYTyDUDDhYQpAggN4BgAYChYR4",Ha:!0,Ja:[180,687],size:707,Na:t.W[0]},{data:"guitDUDDgujC",Ha:!0,Ja:[44],size:373,Na:t.W[1]},{aa:1001,P:3E4},{aa:6006,P:3E4},"av1-main-L30-dash-cbcs-prk",64,480,270,1,1];},58097:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(60939).W[0];a=a(77013);b.W=[{data:"hYX/hYQOCghYQuBYgAYEhYRXBwhYQVDogBoG",Ha:!0,Ja:[180,687],size:707,Na:t},{data:"guitDUDDgujC",Ha:!0,Ja:[44],size:373,Na:a.W[1]},{aa:1E3,P:3E4},{aa:6E3,P:3E4},"av1-main-L30-dash-cbcs-prk",64,480,270,1,1];},50640:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(77013);b.W=[{data:"hYRADDBQhYTUga4EhYTxADANBDhYQmgdwBAwhJQBgAYChYRWAnAQhYQe",Ha:!0,Ja:[180,687],size:707,Na:t.W[0]},{data:"gRABDCgugVCqgugtgBgAgugIgFYCDKgAYBBFgugFBygugVgB4GAwgB4NAXgB4FgA4GgC4GAWgygKgAICgzACgEYAgzAKADANBDgzAJAugzAACEAgAGgEgAAIgzABfYA+mUCwCfAAApAYAyC9AdBNAmDtAABiBhBEChBiA0CxC7DcBoCzDhDtDaDmAnD9BAgvAAgzoAAJgzoEgIQAcUIIQCgzoWAEgzoDBDCwg4QCgEgAgzoKAXg3IBgHwABJABBEgG4AAog3IFgzwDg2wCA8gDAADbgwYJgzYDgwYAC4g2wCB8AOA2g6IKgzwFg6IAgJwAcGPQTShBAMg6QDcVMAp8AKAkgJwKfYsUrPgJoCgDIAAOgJoBhAgKfWKr8igCwBcQPBJIhAYKfTZ6lkhAQB",Ha:!0,Ja:[44],size:515,Na:t.W[1]},{aa:1E3,P:5E4},{aa:1E4,P:5E4},"av1-main-L30-dash-cbcs-prk",64,480,270,1,1];},56130:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(83295).W[0];a=a(50640);b.W=[{data:"hYRADqBghYTUga4EhYTxADCpCDhYQmgdwBA0DQgAYEhYRWA6CnhYQe",Ha:!0,Ja:[180,687],size:707,Na:t},{data:"gdoBDvhAQVDXhAQZDphAQRCMhAQJAPgAYBD3gAYBBAhAQNg/QOg9QOg+QOhDQGgC4OgG4eAbhFQIhE4ChFYDgAwCgXoBCvhF4ICkgF4ACpCDhF4JAphF4ACDCAhFYAhF4De0WsyEAUBXA2B4ASAMBeCHCZBYDNBRAyCnBCAmAEBmAbCIBCAhAxA/CgDYhFQBAOhFQDBCCQgFYAAQBEhFQXAHhFQEhQgBhJ4ChFQMADhFQEAwAIAghIwAhFQSg4IHg+YEgC4AAEg4QBg+YKhE4Fg+gCAIhIQDCKCggGQGhBwChEoCgGIBhLIBhBYOAMgCwEhBYNhN4CAKhN4EgSYIhN4GAQhN4EgJIHfRRKVYgCwBASgSQNfO7A6wgSIEAWhQwDgSIIfM05YQgCwBAYhQwEgI4HDKDwBygLwCAahToNfJUUDghToB",Ha:!0,Ja:[44],size:670,Na:a.W[1]},{aa:1001,P:6E4},{aa:15015,P:6E4},"av1-main-L30-dash-cbcs-prk",64,480,270,1,1];},17826:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(56130);b.W=[{data:"hYX/hYQOCghYQugpgBgAYChYRXCYhYQVDogBoG",Ha:!0,Ja:[180,687],size:707,Na:t.W[0]},{data:"hTo1DohTrDCghTue",Ha:!0,Ja:[44],size:670,Na:t.W[1]},{aa:1E3,P:6E4},{aa:15E3,P:6E4},"av1-main-L30-dash-cbcs-prk",64,480,270,1,1];},6350:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.W=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG",Ha:!0,Ja:[176,729],size:749},{data:"AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDggcjI3MjcgN2QwMjZlOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTYgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rqAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOAAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gAAAABJBmmVJqEFomUwIV//+OEAADUg=",Ha:!1,Ja:[44],size:1022},{aa:1001,P:24E3},{aa:6006,P:24E3},"playready-h264mpl30-dash",64,320,240,4,3];},937:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(6350);b.W=[{data:"hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG",Ha:!0,Ja:[176,731],size:751,Na:t.W[0]},{data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP",Ha:!0,Ja:[44],size:1022,Na:t.W[1]},{aa:1E3,P:24E3},{aa:6E3,P:24E3},"playready-h264mpl30-dash",64,320,240,4,3];},6153:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(937);b.W=[{data:"hdw8BhCohdz4gfYEhd0ACQhdwoB+CQgAYEhdxWATCIhdwe",Ha:!0,Ja:[176,731],size:751,Na:t.W[0]},{data:"gCoBCph/oVCRh/otBQh/oJAFgAYBCxh/o9ARh+ILgCgBAyh+H/h+AuA1h+CKAzh+ABDsC+h+AAAUDIh+ABcsxdpKBwA+AqCkGAB3A0DAhg4AcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDohgACh+AEC/h2AHh+Al",Ha:!0,Ja:[44],size:987,Na:t.W[1]},{aa:1E3,P:25E3},{aa:5E3,P:25E3},"playready-h264mpl30-dash",64,320,240,4,3];},32477:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(6350).W[0];a=a(6153);b.W=[{data:"hdg8B1Awhdj4gfYEhdj8AHBThdgpCBDYgAYEhdh4",Ha:!0,Ja:[176,729],size:749,Na:t},{data:"gBoBC2h7QVCeh7QZDph7QRBch7QJAGgAYBC+h7QJDSh7QJCNh7QJgC4Ch7QSgL4CAWgEYJASh8wLAWgEIBBIh8//h88KB/h7IIh84BgBoBDph84IgBoGASgHIAdlSahBBoCZBMAIBPD/D9DxgCAAAfDg",Ha:!0,Ja:[44],size:1022,Na:a.W[1]},{aa:1001,P:3E4},{aa:6006,P:3E4},"playready-h264mpl30-dash",64,320,240,4,3];},19034:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(937).W[0];a=a(32477);b.W=[{data:"hdw8B1Awhdz4gfYEhd0ADghdwoCCgBwBgAYChdx4",Ha:!0,Ja:[176,731],size:751,Na:t},{data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/tU",Ha:!0,Ja:[44],size:1022,Na:a.W[1]},{aa:1E3,P:3E4},{aa:6E3,P:3E4},"playready-h264mpl30-dash",64,320,240,4,3];},98989:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(937).W[0];a=a(6350);b.W=[{data:"hd0VDShd0OgM4AhdwCAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAAGhdoCAigiQChdwZBnDggAYEhdxXhUwChdwSDpgBoG",Ha:!0,Ja:[176,731],size:751,Na:t},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ha:!0,Ja:[44],size:1022,Na:a.W[1]},{aa:1001,P:24E3},{aa:6006,P:24E3},"playready-h264hpl30-dash",64,320,240,4,3];},5339:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(98989).W[0];a=a(937);b.W=[{data:"hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG",Ha:!0,Ja:[176,733],size:753,Na:t},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ha:!0,Ja:[44],size:1022,Na:a.W[1]},{aa:1E3,P:24E3},{aa:6E3,P:24E3},"playready-h264hpl30-dash",64,320,240,4,3];},95350:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(5339).W[0];a=a(6153);b.W=[{data:"heA8BhCoheD4gfYEheEBAgheApB+CQgAYEheBWATCIheAe",Ha:!0,Ja:[176,733],size:753,Na:t},{data:"h7VpAzh7QDgD4Ah7RZhRwBh7X/h7QH",Ha:!0,Ja:[44],size:987,Na:a.W[1]},{aa:1E3,P:25E3},{aa:5E3,P:25E3},"playready-h264hpl30-dash",64,320,240,4,3];},4029:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(98989).W[0];a=a(32477);b.W=[{data:"hdw8B1Awhdz4gfYEhdz9AOCmhdwqCBDYgAYEhdx4",Ha:!0,Ja:[176,731],size:751,Na:t},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ha:!0,Ja:[44],size:1022,Na:a.W[1]},{aa:1001,P:3E4},{aa:6006,P:3E4},"playready-h264hpl30-dash",64,320,240,4,3];},75034:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(5339).W[0];a=a(19034);b.W=[{data:"heA8B1AwheD4gfYEheEBDAheApCCgBwBgAYCheB4",Ha:!0,Ja:[176,733],size:753,Na:t},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ha:!0,Ja:[44],size:1022,Na:a.W[1]},{aa:1E3,P:3E4},{aa:6E3,P:3E4},"playready-h264hpl30-dash",64,320,240,4,3];},9253:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(6350);b.W=[{data:"hdggADhcgAhdhwDAhdiEACgqYAhdhRDjhdg9CjhdgEABBXhdgMABBHBohdhSC6gKoBhdgAACgPgCCQgfAEgI4AH9H6gBAAAPADCggIoBcYQAEMABgFIAgEAChboAgEIBhcQBgAQAddmLAkChgDgBBtBCEBgDINegCggPATBnCYC5AkApAQATC4BCCwGJfl9/o8DZDLD6A5CUDJB7gAgAezL9GFAIBOAiCxAmBeD+COBsDLD0BhBEBOBqDECbD2BlD6AwCmCcCVCUDfCjAKBKDDCaKACCg0QDcAu4H0BVDvB+AACXBAASDwABAuCAAlDhCigOIBcHRAHBByD2A8gVQChvAOAThlwAg0gABuBjBshhgAgEwAgAIChxYIhwgAgAQAAiCwgAYEhxZ4",Ha:!0,Ja:[176,888],size:908,Na:t.W[0]},{data:"h/pcAABnh/oJAkh/oJAjh7IJgBYAh/oIgBYFgL4DAih/oaABAeh/oEgNIAdOAYEBADgboCAWgBIAgSYACggHgBcAIPWAAKD8CAgAoDCQgDICANgDIAABgSIBgDAAgAQBAEgCACcuJgGsB9DgCECCAkC/D/D8BhgAwAczjsxSCKBCD8BJgDQBgEAAADA8gFIDBXDAgeQAgBIEDagIQOAHgCACcPAgHgAmBYDCA+DwCYgCQCCjgCQCAMgEYFggABgMoDgEQCAWAogEQLgIwGgpoAgAYBgCACAOgZIAfgDjjCARC8CVgBoBBTgOYAgEQIgNQCga4DgEQCAeBIgEQKALgEQEAEgM4JcovGEfB4gM4F",Ha:!0,Ja:[44],size:468,Na:t.W[1]},{aa:1001,P:24E3},{aa:6006,P:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},56803:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(5339).W[0];a=a(6350);b.W=[{data:"heDvgAgCheAgDSheCzBoBlB2heBQAfBoheACACgPgCCQgfAEgI4AH9H6gBAAAPhQoDhboFhLIFAAAThSYAghIABuBjBshOIAgBoAgAICheAIAAgJoBA1gFQBgAYCheBXhVACheASDpgBoG",Ha:!0,Ja:[176,733],size:753,Na:t},{data:"h/pcAAD/h/oJAkh/oJAih7IJAjh/oJgBYFgL4DAhh/oaABC0h/oEgToAdAAQwBh/4AACAggGoBAACQgAgCgAQBddmLAkgDYBBtBCEBgDANegCggPATBnCYC5AkApAQATC4BCCwGJfl9/o8DZDLD6A5CUDJB7gAgAezL9GFAIBOAiCxAmBeD+COBsDLD0BhBEBOBqDECbD2BlD6AwCmCcCVCUDfCjAKBKDDCaKACCgSgEe7gfRVDvB+AACXBAASDwABAuCAAlDhgVYCdEAcFyD2A8gNoBggIAdOAYEBADguoCAWgBIAglYACggPoCcg9YAKD8CAgAoDCQgDICANgDIAABglIBgTIDAEgCACcuJgGsB9DgCECCAkC/D/D8BhgAwAczjsxSCKBCD8BJgDQBgEAAADA8gFIDBXDAgxQAgBIEDagIQOAHgCACcPAgHgAmBYDCA+DwCYgCQCCjgCQCAMgEYFgzABgMoDAOgEQBcWKMIRC8CVgBoBBTgJ4AgIoIg8gAgAYBgEQDgsAADgAOA4gEQSgNICgawDgEQCAeBIgEQKALgEQEAEgMwJcovGEIDegEAE",Ha:!0,Ja:[44],size:618,Na:a.W[1]},{aa:1001,P:24E3},{aa:6006,P:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},51914:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(56803);b.W=[{data:"heEVDQheFREBhdgBDggAYEheBXgRQCheASDogBoG",Ha:!0,Ja:[176,733],size:753,Na:t.W[0]},{data:"hNI1DohNIkg9ABhNIEDQhNIJCIhKIDhIoEgC4ChNISgL4ChNIGgEYChNIQC3hNIhBvhNJXgJIAgygCAAAxhNa1gEQChNYBgEQKhNhi",Ha:!0,Ja:[44],size:621,Na:t.W[1]},{aa:1E3,P:24E3},{aa:6E3,P:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},44661:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(51914);b.W=[{data:"heA8BhCoheD4gfYEheEtA9hdgBgAYCheBWATCIheAe",Ha:!0,Ja:[176,733],size:753,Na:t.W[0]},{data:"gCIBCphNgVCRhNgtBQhNgJAFgAYBCxhNglAihNgJgBYFgL4DARhMALgJgBCUhL6CAzhL7ZANhL4EA2DwgeQAgN4AgeQBhLwQgEIChLwBgEIF",Ha:!0,Ja:[44],size:573,Na:t.W[1]},{aa:1E3,P:25E3},{aa:5E3,P:25E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},5066:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(56803);b.W=[{data:"heA8B1AwheD4gfYEheEtBCgvQBgAYCheB4",Ha:!0,Ja:[176,733],size:753,Na:t.W[0]},{data:"hNJ1hKIAhNI+C1hNJ/DqBhhNK1gEQChNIBgEQKhNRi",Ha:!0,Ja:[44],size:619,Na:t.W[1]},{aa:1001,P:3E4},{aa:6006,P:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},10124:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(51914);b.W=[{data:"heA8B1AwheD4gfYEheEtBDgmgBgAYCheB4",Ha:!0,Ja:[176,733],size:753,Na:t.W[0]},{data:"hNh1AihNg/gWoAhNiBA9hNi1hAgChNgBhJARhNZa",Ha:!0,Ja:[44],size:620,Na:t.W[1]},{aa:1E3,P:3E4},{aa:6E3,P:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},23259:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(51914);b.W=[{data:"heA8DDBQheD4gfYEheEtBYgFQBgAYCheBWAnAQheAe",Ha:!0,Ja:[176,733],size:753,Na:t.W[0]},{data:"gCIBDqhNgVDShNgtCMhNgJgFYCDyhNgNhMAFhNgnAigF4JgBYFgF4DgBYAgF4IgBYFhTgPAWhTgMhUAEACA+hUCCBlhUCShCoChUABhGwJhT4VATC8CTgGgCAigTIBhT5PhlQHdGGMIZC8CMgmIDhIgBgEIGAFgRIJA2gRIMgVgFgRgDgMoGAugRALgEIFAHgQ4KA+gQ4SAIhk4JBIhk4I",Ha:!0,Ja:[44],size:808,Na:t.W[1]},{aa:1E3,P:5E4},{aa:1E4,P:5E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},33781:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(56803).W[0];a=a(23259);b.W=[{data:"heA8DqBgheD4gfYEheEtBbDogAYEheBWA6CnheAe",Ha:!0,Ja:[176,733],size:753,Na:t},{data:"hZYBArhk4UABAThk4ZDphk4RDIhk4JAPgEwBAzgA4BhRYAhk4EDShk4JCNhe4JgC4Ehk4QgL4Chk4GgF4Ohk4SgF4ygR4FALC7gO4NAbhsYQgAYCAahtABDohtAhBthtBXgZoBABDUDBhsy0gEIChswBhoQRhsrOgQ4HBmgQ4TAJgQ4JBWgQ4Ths4BgQ4IBOgQ4SALgQ4KBegQ4SAMgeABgEACAQgMoBdw6rGEAnB4gMwPANgIgGh1YAgEYAdol8YQCNDggIoE",Ha:!0,Ja:[44],size:1043,Na:a.W[1]},{aa:1001,P:6E4},{aa:15015,P:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},98640:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(51914).W[0];a=a(33781);b.W=[{data:"heA8DqBgheD4gfYEheEtBcgvwBgAYCheBWA6CYheAe",Ha:!0,Ja:[176,733],size:753,Na:t},{data:"iCQ1DoiCQkhjgBiCQEDQiCQJCIh2QJgC4EiCQQgL4Ch8QGgF4Oh8QSgF4yiCQGC4gO4NiCQZDqiCQhBviCRXhLYBgAgCB5iCn/iChe",Ha:!0,Ja:[44],size:1045,Na:a.W[1]},{aa:1E3,P:6E4},{aa:15E3,P:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},95316:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.kka=b.Jea=b.YH=void 0;t=a(22970);t.__exportStar(a(38454),b);t.__exportStar(a(85017),b);d=a(68954);Object.defineProperties(b,{YH:{enumerable:!0,get:function(){return d.YH;}}});Object.defineProperties(b,{Jea:{enumerable:!0,get:function(){return d.Jea;}}});Object.defineProperties(b,{kka:{enumerable:!0,get:function(){return d.kka;}}});},67769:function(t,b,a){var f,e;function d(g){return e[g >> 6] + e[g & 63];}function n(g,k){(0,f.assert)(0 < k && 8 > k);return d((k - 1 << 8) + g);}function c(g){return d(1792 + g[0]) + d((g[1] << 4) + (g[2] >>> 4)) + d((g[2] << 8 & 3840) + g[3]);}function h(g){return 43 === g?62:47 === g?63:58 > g?g - 48 + 52:91 > g?g - 65:g - 71;}Object.defineProperties(b,{__esModule:{value:!0}});b.G7c=function(g,k){var p,r,q,u,v,w;function l(x,y){var z;z=p;x=r - y - x;(0,f.assert)(1 <= x);(0,f.assert)(16384 > x - 1);(0,f.assert)(2 <= y && 512 > y - 2);y=d(2048 + (x - 1 >>> 3)) + d(((x - 1 & 7) << 9) + (y - 2));p=z + y;q=r;u=0;}function m(x,y,z){return g.subarray(x,x + z).every(function(B,A){return B === g[y + A];});}p="";r=k || 0;q=r;u=0;for(k=0;r < g.byteLength;){v=q;w=u;if(0 !== u && 513 > u && g[r] === g[q + u])(++u,++r);else if(513 === u)(l(v,w),k=0);else {for(--q;0 <= q && q >= r - u - 16384 && (g[v] !== g[q] || 0 < u && !m(r - u,q,u + 1));)--q;if(0 <= q && q >= r - u - 16384)(++u,++r);else if(v === r || 1 === w){r-=w;for(v=1;7 > v && g[r + v] === g[r];)++v;p+=n(g[r],v);r+=v;k=1 < v?0:k + 1;4 === k && (p=p.slice(0,p.length - 8),p+=c(g.subarray(r - 4,r)));q=r;u=0;}else (l(v,w),k=0);}}1 === u?p+=n(g[q],1):1 < u && l(q,u);return p;};b.GAb=function(g,k){var v,w;function l(y,z){p(z);if(y + z <= u)r.set(r.subarray(y,y + z),u);else for(var B=0;B < z;++B)r[u + B]=r[y + B];u+=z;}function m(){var y;y=g.slice(q,q+=2);return (h(y.charCodeAt(0)) << 6) + h(y.charCodeAt(1));}function p(y){u + y > r.byteLength && (y=new Uint8Array(2 * r.byteLength),y.set(r,0),r=y);}for(var r=k || new Uint8Array(4096),q=0,u=k?k.byteLength:0;q < g.length;){v=m();if(v & 2048){w=m();l(u - (((v & 2047) << 3) + (w >>> 9) + 1),(w & 511) + 2);}else if(1792 === (v & 3840))(p(4),r[u++]=v & 255,w=m(),v=m(),r[u++]=w >>> 4,r[u++]=(w << 4 & 240) + (v >>> 8),r[u++]=v & 255);else {w=v & 255;v=(v >>> 8) + 1;p(v);for(var x=0;x < v;++x)r[u++]=w;}}return r.subarray(k?k.byteLength:0,u);};f=a(89707);e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";},68954:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.L5b=b.K5b=b.M5b=b.J5b=b.kka=b.N5b=b.bUc=b.Jea=b.VTc=b.YH=b.dUc=b.IM=void 0;d=a(85017);Object.defineProperties(b,{IM:{enumerable:!0,get:function(){return d.IM;}}});b.dUc=["padding"];b.YH=["h264","h264hpl","hevc-main10","av1"];b.VTc=["16:9","4:3"];b.Jea={h264:/h264mpl/,h264hpl:/h264hpl/,"hevc-main10":/hevc-main10/,av1:/av1/};b.bUc={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash","hevc-main10":"hevc-main10-L30-dash-cenc-prk-do",av1:"av1-main-L30-dash-cbcs-prk"};b.N5b=["silence"];b.kka=["heaac","ddp","xheaac"];b.J5b={heaac:[64,96,128],xheaac:[32,64,96,192],ddp:[192,256,384,448,640]};b.M5b={xheaac:{32:"xheaac-dash",64:"xheaac-dash",96:"xheaac-dash",192:"xheaac-dash"},heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.K5b={xheaac:{32:"2.0",64:"2.0",96:"2.0",192:"2.0"},heaac:{64:"2.0",96:"2.0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.L5b={xheaac:{aa:2048,P:48E3},heaac:{aa:1024,P:24E3},ddp:{aa:1536,P:48E3}};},38454:function(t,b,a){var n,c,h,f,e,g,k;function d(l){if(-1 !== f.YH.indexOf(l))return l;for(var m,p=0;p < f.YH.length;++p)if(-1 !== l.indexOf(f.YH[p])){m=f.YH[p];break;}(0,g.assert)(m);return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.Meb=void 0;n=a(22970);c=a(91176);h=a(43051);f=a(68954);e=a(85017);g=a(89707);k=a(67769);t=(function(){function l(m,p){this.atob=m;this.console=p;this.DW=1;this.Iea=[];this.r6=[];}l.prototype.Lpc=function(m,p,r,q,u){var v,y;void 0 === q && (q={w:16,sx:9});void 0 === u && (u=1);p=d(p);v=(0,c.ic)(e.IM[p],function(z){return (0,e.sOa)(r,e.L8[z]);});(0,g.assert)(v);(0,g.assert)(16 === q.w && 9 === q.sx || 4 === q.w && 3 === q.sx);q=16 === q.w?"16:9":"4:3";for(var w=0,x=this.Iea;w < x.length;w++){y=x[w];if(y.type === m && y.dC === q && y.xd === p && y.frameRate === v && y.trackId === u)return y;}m=this.qec(m,q,p,v,u);this.Iea.unshift(m);this.Iea.length > this.DW && this.Iea.splice(this.DW,this.Iea.length - this.DW);return m;};l.prototype.Jpc=function(m,p,r){var w;void 0 === r && (r=1);for(var q,u=0,v=this.r6;u < v.length;u++){w=v[u];"silence" === w.type && w.xd === m && w.bitrate === p && w.trackId === r && (q=w);}void 0 === q && (q=this.lec(m,p,r),this.r6.unshift(q),this.r6.length > this.DW && this.r6.splice(this.DW,this.r6.length - this.DW));return q;};l.prototype.Kpc=function(){void 0 === l.Jqb && (l.Jqb=new Uint8Array(Array.from({length:40},function(m,p){return ('<tt xmlns="http://www.w3.org/ns/ttml" />').charCodeAt(p);})).buffer);return l.Jqb;};l.prototype.qec=function(m,p,r,q,u){var v;v=h.wPb[m][p][r][q];(0,g.assert)(v);v=(0,h.kSc)(v().W);return n.__assign(n.__assign({},this.decode(v,u)),{type:m,dC:p,xd:r,frameRate:q,width:v.width,height:v.height,dWa:v.dWa,eWa:v.eWa});};l.prototype.lec=function(m,p,r){var q;q=h.Ukb.silence[m][p];(0,g.assert)(q);q=(0,h.jSc)(q().W);return n.__assign(n.__assign({},this.decode(q,r)),{type:"silence",xd:m,bitrate:p,channels:q.channels});};l.prototype.decode=function(m,p){var r,q,u,v;r=m.Sb.Ha?this.C7(m.Sb):this.atob(m.Sb.data);q=m.Ta.Ha?this.C7(m.Ta):this.atob(m.Ta.data);if(1 !== p){u=new DataView(r);v=new DataView(q);m.Sb.Ja.forEach(function(w){return u.setUint32(w,p);});m.Ta.Ja.forEach(function(w){return v.setUint32(w,p);});}return n.__assign(n.__assign({},m),{Sb:r,Ta:q,trackId:p});};l.prototype.C7=function(m){var p;if(m.Ha){if(void 0 === m.Na)m=(0,k.GAb)(m.data);else {p=this.C7(m.Na);m=(0,k.GAb)(m.data,new Uint8Array(p));}}else m=new Uint8Array(this.atob(m.data));return m.buffer.slice(m.byteOffset,m.byteOffset + m.byteLength);};return l;})();b.Meb=t;},29088:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M,P,I,O,Q,S,U,W,Y;Object.defineProperties(b,{__esModule:{value:!0}});b.T2a=void 0;d=a(22970);n=a(90745);c=a(91176);h=a(91176);f=a(66164);a(97685);e=a(91176);g=a(8743);k=a(58348);l=a(6200);m=a(79183);p=a(3033);r=a(65161);a(57141);q=a(19089);u=a(52571);v=a(7470);w=a(35438);x=a(37058);y=a(61996);z=a(54366);B=a(650);A=a(40666);C=a(17122);D=a(69575);F=a(8478);G=a(27255);E=a(93747);H=a(75402);J=a(91967);L=a(33143);K=a(29688);M=a(14609);P=a(27288);I=a(23102);O=a(27459);Q=a(61567);S=a(66607);U=a(66701);W=a(11177);Y=a(358);t=(function(){function X(Z){this.console=Z;this.$a=g.jE.CLOSED;this.Ef=[];this.lda=[];this.t5=[];this.Ts=[];this.Tgb={};this.H5={};this.S_a=g.mfa.default;this.J$b={ry:!1};this.Mj=new y.un({Fj:this,source:"engine",Ig:10,console:Z});}Object.defineProperties(X.prototype,{RA:{get:function(){(0,u.assert)(this.jF);return this.jF;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{state:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{qFc:{get:function(){return this.t5;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{fS:{get:function(){return this.Ts.map(function(Z){return Z.Z;});},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{sFc:{get:function(){return this.Ts;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{Sc:{get:function(){this.rM();return this.nC.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{mL:{get:function(){this.rM();return this.nC.mL;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{Fl:{get:function(){this.rM();return this.nC.Fl;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{VS:{get:function(){this.rM();return this.nC.VS;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{iUc:{get:function(){return this.Ef.length;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{wW:{get:function(){return this.Tgb;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{jt:{get:function(){return this.NB;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{dT:{get:function(){return this.H5;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{dzc:{get:function(){return this.Rhb || (this.Rhb=this.W7b());},enumerable:!1,configurable:!0}});X.prototype.open=function(Z,aa,ca,da){var ja;ja=this;if(this.$a === g.jE.OPEN)return !1;if(void 0 !== Z.on)Z.on("changed",function(){Z.LX || ja.Ef.forEach(function(R){var N;(null === (N=R.M) || void 0 === N?0:N.Kh) && R.M.Kh.disable();});});this.zr=new Y.a5a(Z,this.console);this.config=this.zr.xJa;e.hV.oMc(this.config);this.kj=new A.DI(new C.Pha({Zi:!0,currentTime:function(){return c.I.Ca(f.platform.time.ha());},speed:1}),this.console,"Engine Scheduler");this.IQa=new m.i7a(this.console,Z);this.ns=new q.Edb(this.vpa.bind(this),this.kj,Z);if(Z.XH || f.platform.Xl.ng.e7c)this.NB=new k.o4a(this.console,Z,function(){return ja.wW;});this.nC=p.cN.Qna(Z,this.console,aa);this.$a=g.jE.OPEN;this.jF=(0,I.Rna)(Z);ca && this.jF.CKb(ca);da && this.jF.KZa(da);this.QFb=new O.Jcb({Jk:function(){ja.$a !== g.jE.CLOSED && ja.ns.Jk("playgraphOpportunity");}});this.HBb=new E.X$a(function(){return ja.Mna();},function(){return ja.Nna().global;},this.console);this.ldc();return !0;};X.prototype.Z5=function(Z,aa,ca,da,ja){var N,V,ba,fa,ha;function R(la){return N.qs(da,ha,la);}N=this;void 0 === ja && (ja=!0);this.rM();ca=Object.create(ca,{eB:{value:this.dT},XH:{value:!!this.NB}});if(ja){ba=this.RA.J9b(Z,ca);if(ba){ba.t1a(aa);fa=this.qs.bind(this,da,ba);fa.ve=da;fa=ba.aNc(fa).ve;if((fa=null === (V=da.A6c) || void 0 === V?void 0:V.call(da,fa)) && !fa.success)(fa={reason:fa.reason},this.GD(ba));else return ba;}}R.ve=da;V=new L.Fdb(R,da,function(la,pa){return !!N.aub(pa,la).Pea;});ha=(0,S.ALa)(ca,[Z,aa,ca,X.EAc++,this.Sc,V,function(la){return N.ns.Jk(la);},ja?this.RA.G9b.bind(this.RA):function(){},this.Mna.bind(this),this.zr],this.console);ha.Xc(new w.Leb(ha));ha.Xc(new x.ifb(ha.Zc));ha.Xc(new P.I9a(this.zr,ha));fa && ha.Xc(new M.Qcb(fa));ha.AZ.Xc(new H.s3a(ha));ha.AZ.Xc(new K.H9a(ha));this.Ye.HD.forEach(function(la){return ha.Xc(la);});this.QFb.Z5(ha);Z=new n.af();Z.on(ha.events,"requestsPruned",this.ZJc.bind(this));Z.on(ha.events,"weightUpdated",this.LVa.bind(this));Z.on(ha.events,"underflow",this.Wk.bind(this,ha));this.Ts.push({Z:ha,zj:Z,fca:0});this.LVa();return ha;};X.prototype.Wk=function(Z){Z=this.HBb.Pkc(Z);(null === Z || void 0 === Z?0:Z.Vla) || this.RA.reset();};X.prototype.GD=function(Z){this.QFb.GD(Z);Z.Ka();this.Ts=this.Ts.filter(function(aa){return aa.Z === Z?(aa.zj.clear(),!1):!0;});this.LVa();};X.prototype.I3b=function(Z,aa){var ca;this.rM();ca=aa.uh;ca=void 0 === ca?[r.v.X,r.v.U]:ca;Z=(0,U.YW)(aa,[Z,ca,this.Xic(aa)]);this.t5.push(Z);return Z;};X.prototype.aYa=function(Z){this.rM();this.t5=this.t5.filter(function(aa){return aa !== Z;});Z.Ka();};X.prototype.jMc=function(Z,aa){this.Tgb=Z;this.H5=aa;this.Rhb=void 0;};X.prototype.L0=function(Z,aa){var ca,da;da=null === (ca=(0,h.ic)(this.Ef,function(ja){return ja.TW.equals(Z);})) || void 0 === ca?void 0:ca.M;da?da.L0(d.__assign(d.__assign({},aa),{eba:this.XUa.bind(this)})):this.lda.push({CPb:Z,n_a:aa});};X.prototype.WHb=function(Z){this.lda=this.lda.filter(function(aa){return !aa.CPb.equals(Z);});};X.prototype.close=function(){this.$a !== g.jE.CLOSED && (this.aJc(),(0,u.assert)(0 === this.Ef.length,"Unexpected viewable lease after Playgraph destruction."),this.$Ic(),this.lda=[],delete this.nC,this.$a=g.jE.CLOSED,this.kj.Ka());};X.prototype.fNc=function(Z){this.S_a=Z;this.ns.Jk("streamingModeChanged");};X.prototype.nMc=function(Z){var aa,ca,da;this.J$b.ry=Z.ry;if(this.config.WMa){da=!0 === Z.ry;this.config.set?this.config.set((aa={},aa.enableCprVideo=da,aa)):this.config.enableCprVideo=!0 === Z.ry;try{for(var ja=d.__values(this.Ts),R=ja.next();!R.done;R=ja.next())R.value.Z.SMc(da);}catch(V){var N;N={error:V};}finally{try{R && !R.done && (ca=ja.return) && ca.call(ja);}finally{if(N)throw N.error;}}}};X.prototype.Xic=function(Z){var aa;aa={};!Z.eB && this.H5 && (aa.eB={value:this.H5});return Object.create(Z,aa);};X.prototype.ldc=function(){this.Ye=new J.yha(this.config,this.console);this.Ye.Xc(new F.G6a(this));this.Ye.Xc(new B.Gdb(this.Sc,this.ns));this.Ye.Xc(new v.E6a(this.Sc));this.Ye.Xc(new z.so(this.Mj));this.Ye.Xc(new z.so(this.ns.Hv));this.Ye.Xc(new z.so(this.IQa.Ze));this.Ye.Xc(new z.so(this.HBb.Ze));this.Ye.Xc(new z.so(this.RA.Ze,{Xmb:!1}));this.NB && this.Ye.Xc(new z.so(this.NB.Ze));};X.prototype.XUa=function(){};X.prototype.C1=function(Z){return d.__awaiter(this,void 0,void 0,function(){var aa,ca,da,ja;return d.__generator(this,function(R){switch(R.label){case 0:return ((0,u.assert)(Z,"ase.updateViewable(): Viewable config not found."),aa=(0,h.ic)(this.Ef,function(N){return N.TW.equals(Z);}),(0,u.assert)(aa,"ase.updateViewable(): Viewable entry not found."),[4,aa.Qq]);case 1:return (ca=R.T(),ja=(da=ca).C1,[4,Z.ku]);case 2:return (ja.apply(da,[R.T()]),[2]);}});});};X.prototype.aub=function(Z,aa){var ca;ca=Z.Jr(aa.J,aa.Um);return {Pea:(0,h.ic)(this.Ef,function(da){return da.TW.equals(ca);}),TW:ca};};X.prototype.qs=function(Z,aa,ca){var da,ja,R,N,V,ba,fa,ha,la;da=this;R=ca.J;N=ca.Um;V=this.aub(Z,ca);ba=null === V || void 0 === V?void 0:V.Pea;fa=V.TW;if(!ba){N=null === (ja=null === N || void 0 === N?void 0:N.Hf) || void 0 === ja?void 0:ja.fd;if(void 0 !== N)(ha=this.qs(Z,aa,{J:N,Um:{}}),la=ha.Rk);ba={TW:fa,Qq:(function(){return d.__awaiter(da,void 0,void 0,function(){var pa,ia,na,T,ea;ea=this;return d.__generator(this,function(ka){switch(ka.label){case 0:return [4,Promise.all([fa.ku,null === ha || void 0 === ha?void 0:ha.Qq])];case 1:return (pa=d.__read.apply(void 0,[ka.T(),2]),ia=pa[0],na=pa[1],T=this.qC(R,fa,ia,aa.id,na),!T.Ob || !T.Kh || T.Lt.Muc || T.Kh.complete?[3,3]:[4,Promise.race([T.Lt.vQc,new Promise(function(ra){return setTimeout(ra,ea.config.YLc);})])]);case 2:(ka.T(),ka.label=3);case 3:return (ba.M=T,[2,T]);}});});})(),M:void 0,sA:new c.KU({name:"viewableCollection",lba:function(pa){pa() && (null === la || void 0 === la?void 0:la.release(),da.dYa(ba));},console:(0,D.tf)(f.platform,this.console,("").concat(R))})};this.Ef.push(ba);}Z=new W.pgb(ba,this.console,aa,ca,la);Z.events.once("error",this.dYa.bind(this,ba,!1));return Z;};X.prototype.dYa=function(Z,aa){var ca,da,ja;void 0 === aa && (aa=!0);(0,u.assert)(Z,"expected viewableEntry to exist");ca=Z.TW;da=Z.M;ja=Z.Qq;aa && (ca.KW(),da?da.Ka():ja.then(function(R){R.Ka();}));this.Ef=this.Ef.filter(function(R){return R !== Z;});};X.prototype.qC=function(Z,aa,ca,da,ja){var R,N;R=this;this.rM();N=ca.config;ca={S:ca.S,config:N,lC:ca.lC,rv:ca.rv,Sc:this.nC.Sc,Fl:this.nC.Fl,Dic:{pK:function(){return R.ns.Jk("networkFailureReset");},Mf:this.Mf.bind(this,Z),Fx:this.Fx.bind(this,Z)},vca:{Tw:this.Tw.bind(this),ey:this.ey.bind(this),H5c:function(){return R.ns.sDb;}},dT:this.H5,jt:this.NB,zr:this.zr,ns:this.ns,WT:this.kj,Rm:da};Z=new l.B3a(Z,ca,ja);N.CP && (N=(0,h.ic)(this.lda,function(V){return V.CPb.equals(aa);})) && (N=N.n_a,this.WHb(aa),Z.L0(d.__assign(d.__assign({},N),{eba:this.XUa.bind(this)})));return Z;};X.prototype.vpa=function(){var Z,aa,ca,da,ja;(0,u.assert)(this.state === g.jE.OPEN);Z=this.Nna();aa=this.OY();ca=this.IQa.Gjc(aa);da=ca.ilb;aa=ca.zX;ja=ca.reason;ca=ca.$Nb;return 0 < da.length?(Z=this.IQa.ZDb(Z,da),!Z.Lf && 0 < ca?{Lf:!1,reason:Z.reason,zX:aa}:Z):0 < ca?((0,u.assert)("available" !== ja,"Unavailable streamables may not be available"),{Lf:!1,reason:ja,zX:aa}):{Lf:!1,reason:"noEligibleStreamables"};};X.prototype.OY=function(){var Z,aa,ca;Z=this;ca=null !== (aa=this.config.TFc) && void 0 !== aa?aa:this.Ts.every(function(da){return !da.Z.Ro;});aa=(0,h.flatten)(this.Ts.map(function(da){return da.Z.OY().map(function(ja){da.Z.Ro || 1 === da.fca || (ja.Yz=da.fca);return ja;});}));this.S_a === g.mfa.disabled?aa=[]:this.S_a === g.mfa.Bxc && (aa=aa.filter(function(da){return Z.config.jBb >= da.fo - da.Io;}));ca || (ca=aa.filter(function(da){var ja;return 1 === (null !== (ja=da.Yz) && void 0 !== ja?ja:1);}),ca.length && (aa=ca));ca=this.Ef.reduce(function(da,ja){return ja.M?d.__spreadArray(d.__spreadArray([],d.__read(da),!1),d.__read(ja.M.OY()),!1):da;},[]);return (0,h.flatten)(d.__spreadArray(d.__spreadArray([],d.__read(aa),!1),d.__read(ca),!1));};X.prototype.rM=function(){if(this.$a === g.jE.CLOSED)throw Error("Engine CLOSED");};X.prototype.aJc=function(){var Z,da;try{for(var aa=d.__values(this.Ts),ca=aa.next();!ca.done;ca=aa.next()){da=ca.value;da.zj.clear();this.GD(da.Z);}}catch(R){var ja;ja={error:R};}finally{try{ca && !ca.done && (Z=aa.return) && Z.call(aa);}finally{if(ja)throw ja.error;}}};X.prototype.$Ic=function(){var Z;try{for(var aa=d.__values(this.t5),ca=aa.next();!ca.done;ca=aa.next())this.aYa(ca.value);}catch(ja){var da;da={error:ja};}finally{try{ca && !ca.done && (Z=aa.return) && Z.call(aa);}finally{if(da)throw da.error;}}};X.prototype.Mf=function(Z,aa){var ca;aa.J=Z;ca=!1;this.evb(Z).forEach(function(da){if(!aa.l0a || (0,r.Pr)(da.ee.value))ca=da.Mf(aa);});return ca;};X.prototype.Fx=function(Z){return this.evb(Z).some(function(aa){return aa.Fx();});};X.prototype.evb=function(Z){return this.Ts.filter(function(aa){var ca;for(aa=aa.Z;aa.Ea;)aa=aa.Ea;ca=aa.Z;return Object.keys(ca.ba).some(function(da){return ca.ba[da].J === Z;});}).map(function(aa){return aa.Z;});};X.prototype.Nna=function(){var Z;Z=new G.f7a();this.Ts.forEach(function(aa){var ca,da;ca=aa.Z;aa=aa.fca;da=ca.Nna();da.Yz=aa;Z.add(ca.id,da);});return Z;};X.prototype.Mna=function(){return this.dzc;};X.prototype.W7b=function(){var Z,aa;aa=(0,Q.k8b)(this.config,this.wW);return {total:(Z={},Z[r.v.U]=this.wW.video || Infinity,Z[r.v.X]=this.wW.audio || Infinity,Z[r.v.Ba]=this.wW.text || Infinity,Z.total=this.wW.total || Infinity,Z),G_a:aa};};X.prototype.Tw=function(Z){var aa;this.ns.Tw(Z);null === (aa=this.NB) || void 0 === aa?void 0:aa.Tw(Z);};X.prototype.ey=function(Z){this.ns.ey(Z);};X.prototype.LVa=function(){var Z;Z=this.fS.reduce(function(aa,ca){return Math.max(ca.weight,0) + aa;},0);this.Ts.forEach(function(aa){aa.fca=0 >= aa.Z.weight?0:aa.Z.weight / Z;});};X.prototype.ZJc=function(Z){var aa;aa=this;this.NB && (Z.requests.forEach(function(ca){return aa.NB.ey(ca);}),this.Ef.forEach(function(ca){var da;return null === (da=ca.M) || void 0 === da?void 0:da.xKc();}),this.ns.Jk("prunedRequest"));};X.EAc=0;d.__decorate([(0,y.fb)({methodName:"open"})],X.prototype,"open",null);d.__decorate([(0,y.fb)({methodName:"addPlaygraph",context:function(Z){var aa,ca;return {playgraphCount:null !== (ca=null === (aa=Z.BDb.Ts) || void 0 === aa?void 0:aa.length) && void 0 !== ca?ca:0};}})],X.prototype,"Z5",null);d.__decorate([(0,y.fb)({methodName:"removePlaygraph",context:function(Z){return {playgraphCount:Z.BDb.Ts.length};}})],X.prototype,"GD",null);d.__decorate([(0,y.fb)({methodName:"close"})],X.prototype,"close",null);d.__decorate([(0,y.fb)({methodName:"setStreamingMode",mm:!0})],X.prototype,"fNc",null);d.__decorate([(0,y.fb)({methodName:"setConcurrentStreamingDevice",mm:!0})],X.prototype,"nMc",null);d.__decorate([(0,y.fb)({methodName:"notifyAseException",mm:!0})],X.prototype,"XUa",null);d.__decorate([(0,y.fb)({methodName:"updateViewable"})],X.prototype,"C1",null);d.__decorate([(0,y.fb)({methodName:"requestViewable"})],X.prototype,"qs",null);d.__decorate([(0,y.fb)({methodName:"removeViewable"})],X.prototype,"dYa",null);d.__decorate([(0,y.fb)({methodName:"createViewable"})],X.prototype,"qC",null);d.__decorate([(0,y.fb)({methodName:"issueRequestOpportunity",Oe:!0,return:!0})],X.prototype,"vpa",null);d.__decorate([(0,y.fb)({methodName:"reportStreamingFailure",mm:!0})],X.prototype,"Mf",null);return X;})();b.T2a=t;},66701:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.YW=function(h,f){var e,g,k;e=[function(l){return new (c.sxa.bind.apply(c.sxa,d.__spreadArray([void 0],d.__read(l.hFc),!1)))();}];if(h.xP){g=a(79).dLa;e.unshift(function(l,m){return g(l,m);});}if(h.vC){k=a(79).dLa;e.unshift(function(l,m){return k(l,m);});}return n.oE.EK({hFc:f},e);};d=a(22970);n=a(91176);c=a(34434);},66607:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ALa=function(e,g,k){var l,m,p,r;l=[function(q){return new (h.txa.bind.apply(h.txa,d.__spreadArray([void 0],d.__read(q.Iba),!1)))();}];m=(0,f.Jf)({Z:g[0]});c.l && k.trace("Creating playgraph",{L9c:m,ZO:e.xP,Xb:e.vC});if(e.xP){p=a(25750);l.unshift(function(q,u){return p.k7({},q,u);});}if(e.vC){r=a(86681);l.unshift(function(q,u){return r.k7({},q,u);});}return n.oE.EK({Iba:g,WIa:[]},l);};d=a(22970);n=a(91176);c=a(48170);h=a(62819);f=a(28871);},358:function(t,b,a){var c,h,f,e,g;function d(k,l,m){if("function" === typeof k.set)0 === k.set(l) && m.trace("Invalid keys" + JSON.stringify(Object.keys(l)));else for(m in (m=void 0,l))k[m]=l[m];}function n(k,l){var m,p,u;p={};try{for(var r=c.__values(k),q=r.next();!q.done;q=r.next()){u=q.value;void 0 !== l[u] && (p[u]=l[u]);}}catch(w){var v;v={error:w};}finally{try{q && !q.done && (m=r.return) && m.call(r);}finally{if(v)throw v.error;}}return p;}Object.defineProperties(b,{__esModule:{value:!0}});b.a5a=void 0;c=a(22970);h=a(7675);f=a(36948);e=a(64396);t=(function(){function k(l,m){this.xJa=l;this.console=m;this.mwa=new WeakMap();this.mqa=new WeakMap();this.console.trace("Created config manager with base config" + JSON.stringify(l));}k.prototype.gnc=function(){var l;l=(0,h.pBc)(this.xJa.Eqc);if(void 0 === l || 0 === Object.keys(l).length)return (this.console.warn("ConfigManager: No globalConfigMutationAllowList found in base config,                 no manifest config will override global config."),{});this.console.trace("ConfigManager global config override allowed properties: " + JSON.stringify(l));return l;};k.prototype.kNc=function(l,m){this.mwa.has(l) && this.console.trace("Updating existing viewable config for " + l);this.mwa.set(l,m);};k.prototype.Yvb=function(l){if(this.mwa.has(l))return this.mwa.get(l);this.console.warn("ConfigManager: No viewable config found for " + l.R);return this.xJa;};k.prototype.NMc=function(l,m,p){var r;r=this.Yvb(l);p=this.kTc(r,p);m=this.lTc(r,p,m);this.mqa.has(l) && this.console.trace("Updating existing manifest config for " + l);this.mqa.set(l,m);};k.prototype.vPa=function(l){if(this.mqa.has(l))return this.mqa.get(l);this.console.warn("ConfigManager: No manifest config found for " + l.R);return this.Yvb(l);};k.prototype.i_a=function(l){var m;l=null === (m=l.steeringAdditionalInfo) || void 0 === m?void 0:m.O_a;return void 0 !== l && 0 < Object.keys(l).length;};k.prototype.kTc=function(l,m){l=Object.create(l);l.set?(l.set({eB:m.eB}),l.set({XH:!!m.jt})):(l.eB=m.eB,l.XH=!!m.jt);return l;};k.prototype.lTc=function(l,m,p){var r,q,u,v,w,x,y;r=this;p=p.steeringAdditionalInfo;if(!p)return m;q=p.streamingClientConfig;u=this.gnc();v=n(g,p);if(!q || (0,e.ZRa)(q) && (0,e.ZRa)(v))return m;w=Object.create(m);x=Object.keys(f.bLa).reduce(function(z,B){var A;A=f.bLa[B][0];Array.isArray(A)?A.forEach(function(C){return z[C]=B;}):(A=Array.isArray(A)?A[0]:A,z[A]=B);return z;},{});m=Object.keys(c.__assign(c.__assign({},q),v)).filter(function(z){return void 0 !== x[z];});y={};m.forEach(function(z){var B,A,C;A=x[z];if(void 0 !== w[A]){C=null !== (B=q[z]) && void 0 !== B?B:v[z];B=void 0;"number" === typeof w[A]?B=Number(C):"boolean" === typeof w[A]?B="true" === C:"string" === typeof w[A]?B=C:r.console.trace("Unsupported type for" + z);r.console.trace("ConfigManager Updating value for key " + z + " from " + w[A] + " to " + B);y[A]=B;}else r.console.trace("Invalid key" + z);});0 < Object.keys(y).length && (m=m.filter(function(z){return void 0 !== u[z] && void 0 !== y[u[z]];}).reduce(function(z,B){z[u[B]]=y[u[B]];return z;},{}),d(w,y,this.console),d(l,m,this.console));return w;};return k;})();b.a5a=t;g=["liveEdgeCushionWithSpreadMs"];},60069:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.p9=function(){var h;if(!c){h=new d.platform.Console("ASEJS","media|asejs");c=new n.T2a(h);}return c;};b.c$c=function(){c=void 0;};d=a(66164);n=a(29088);},27459:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Jcb=void 0;t=(function(){function a(d){this.Jk=d.Jk;this.JC=this.Jsc();}a.prototype.Z5=function(d){d.events.on("requestsPruned",this.JC);};a.prototype.GD=function(d){d.events.removeListener("requestsPruned",this.JC);};a.prototype.Jsc=function(){var d;d=this;return function(){return d.Jk();};};return a;})();b.Jcb=t;},23102:function(t,b,a){var n,c,h,f;function d(){return n.__awaiter(this,void 0,void 0,function(){var e;return n.__generator(this,function(g){switch(g.label){case 0:return [4,Promise.resolve().then(function(){return n.__importStar(a(60069));})];case 1:return (e=g.T().p9,[2,e()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.Rna=function(e){var g;g=new c.platform.Console("ASEJS","media|asejs");f || (f=new h.Tcb(function(){return d();},e,g));return f;};n=a(22970);c=a(66164);h=a(91961);},61567:function(t,b,a){var n;function d(c,h,f,e){return c && h?Math.min(c - h * f,c - e):(c || Infinity) - e;}Object.defineProperties(b,{__esModule:{value:!0}});b.k8b=function(c,h){var f,e,g,k,l,m,p,r;r=d(h.audio,h.Y1c,c.fLa,null !== (e=c.Qnb) && void 0 !== e?e:0);e=d(h.video,h.pbd,c.fLa,null !== (g=c.Snb) && void 0 !== g?g:0);g=d(h.text,h.sad,c.fLa,null !== (k=c.Rnb) && void 0 !== k?k:0);return (f={},f[n.v.X]=r,f[n.v.U]=e,f[n.v.Ba]=g,f.total=(h.total || Infinity) - (null !== (l=c.Qnb) && void 0 !== l?l:0) - (null !== (m=c.Snb) && void 0 !== m?m:0) - (null !== (p=c.Rnb) && void 0 !== p?p:0),f);};n=a(65161);},11177:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.pgb=void 0;d=a(22970);n=a(90745);c=a(91176);h=a(48170);f=a(95407);t=(function(){function e(g,k,l,m,p){var r;r=this;this.Pea=g;this.console=k;this.k5b=l;this.Um=m;this.QDc=p;this.events=new n.EventEmitter();this.Rk=g.sA.oz();this.N0b=(0,c.Ppa)(function(){return (function(){return d.__awaiter(r,void 0,void 0,function(){var q,u;return d.__generator(this,function(v){switch(v.label){case 0:return (v.tc.push([0,2,,3]),[4,this.Pea.Qq]);case 1:return [2,v.T()];case 2:throw (q=v.T(),f.IB.qSa(q) && this.k5b.Mf({J:this.Um.J,Fi:q.message,BWa:q}),h.l && this.console.trace("Removing broken viewable entry due to error",this.Um),this.events.emit("error",{error:q}),null === (u=this.QDc) || void 0 === u?void 0:u.release(),q);case 3:return [2];}});});})();});}Object.defineProperties(e.prototype,{M:{get:function(){var g;return null === (g=this.Pea) || void 0 === g?void 0:g.M;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Qq:{get:function(){return this.N0b();},enumerable:!1,configurable:!0}});return e;})();b.pgb=t;},67164:function(t,b,a){var n;function d(c,h){var f;void 0 === h && (h=d);f="";c.Nz && (f=null === c || void 0 === c?void 0:c.Nz.map(h).reduce(function(e,g){return ("").concat(e,",").concat(g);}));return ("").concat(null === c || void 0 === c?void 0:c.name,"::").concat(null === c || void 0 === c?void 0:c.message,"::{").concat(null === c || void 0 === c?void 0:c.stack,"}[").concat(f,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.c2=void 0;n=a(22970);t=(function(c){function h(f,e){f=c.call(this,h.glc(f,e)) || this;f.a0b=e;f.name="AggregateError";return f;}n.__extends(h,c);h.glc=function(f,e){return e.reduce(function(g,k){return ("").concat(g,"\n").concat(k);},f);};h.stringify=function(f){return d(f);};Object.defineProperties(h.prototype,{Nz:{get:function(){return this.a0b;},enumerable:!1,configurable:!0}});return h;})(Error);b.c2=t;},83906:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(32973),b);t.__exportStar(a(16816),b);},32973:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},16816:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.aN={};t[t.ibd=0]="userSeek";t[t.QFc=1]="prefetchReset";t[t.Ula=2]="destruction";t[t.azb=3]="jitPlaygraphUpdate";},63251:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},7042:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},43520:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},20271:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.Ks={};t[t.CLOSED=0]="CLOSED";t[t.OPEN=1]="OPEN";t[t.Jp=2]="STREAMING";},89577:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},8743:function(t,b){var a,d;Object.defineProperties(b,{__esModule:{value:!0}});b.jE=b.mfa=void 0;(function(n){n[n.default=0]="default";n[n.disabled=1]="disabled";n[n.Bxc=2]="lowCpuPlaybackStarting";})(a || (b.mfa=a={}));(function(n){n[n.CLOSED=0]="CLOSED";n[n.OPEN=1]="OPEN";})(d || (b.jE=d={}));},51308:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Ic=void 0;t=a(22970);t.__exportStar(a(8743),b);t.__exportStar(a(43520),b);t.__exportStar(a(20271),b);t.__exportStar(a(89577),b);t.__exportStar(a(41186),b);t.__exportStar(a(83906),b);t.__exportStar(a(16816),b);t.__exportStar(a(85178),b);t.__exportStar(a(63251),b);t.__exportStar(a(35963),b);t.__exportStar(a(7042),b);d=a(91967);Object.defineProperties(b,{Ic:{enumerable:!0,get:function(){return d.Ic;}}});},41186:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},85178:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},16756:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.lfa={};t[t.start=0]="start";t[t.end=1]="end";},86003:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},46062:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},97627:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},9980:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(16756),b);t.__exportStar(a(97627),b);t.__exportStar(a(86003),b);t.__exportStar(a(46062),b);},35963:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(22970).__exportStar(a(9980),b);},8171:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.xw=void 0;d=a(66164);n=a(65167);t=(function(){function c(h){h=("(").concat(h,")");this.console=new d.platform.Console("ASEJS","media|asejs",h);this.iUa=[];}c.prototype.FC=function(h){var f;if(!this.iUa[h]){f=("[").concat(h,"]");this.iUa[h]=(0,n.tf)(d.platform,this.console,f);}return this.iUa[h];};return c;})();b.xw=new t(0);},6200:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K;function d(M,P,I){return M.M.Ob?new B.u9a(M,P,I):new z.Uab(M,P,I);}Object.defineProperties(b,{__esModule:{value:!0}});b.B3a=b.SFa=b.bWb=void 0;n=a(22970);c=a(90745);h=a(91176);f=a(66164);e=a(15410);g=a(90808);k=a(24473);t=a(81392);l=a(83744);m=a(79857);p=a(18905);r=a(65161);q=a(52571);a(69575);u=a(24251);v=a(444);w=a(97757);x=a(8149);y=a(76452);z=a(1913);B=a(92945);A=a(91967);C=a(28057);D=a(24940);F=a(31303);G=a(39795);E=a(66133);H=a(27457);J=a(34012);L=(function(){return function(M){this.mediaType=M;this.Mzb=void 0;};})();b.bWb=L;(function(M){M[M.sWb=0]="NO_DATA";M[M.jZb=1]="SWITCHABLE";M[M.qWb=2]="NONSWITCHABLE";M[M.q0c=3]="SWITCHABLE_AND_NONSWITCHABLE";})(K || (b.SFa=K={}));a=(function(M){function P(I,O,Q){var S,U,W,Y,X,Z,aa,ca,da,ja,R,N,V,ba,fa,ha,la,pa,ia,na,T,ea,ka,ra,ta,qa;U=O.S;W=O.lC;Y=O.rv;X=O.config;Z=O.vca;aa=O.Sc;ca=O.Fl;da=O.Dic;ja=O.dT;R=O.jt;N=O.zr;V=O.WT;O=O.Rm;ia=M.call(this) || this;ia.J=I;ia.lk=Q;ia.Kwb=!1;ia.Ngb=K.sWb;ia.MI={};ia.wo={};ia.Mhb={};ia.vA=(S={},S[r.v.X]={},S[r.v.U]={},S[r.v.Ba]={},S[r.v.pn]={},S);ia.Ya=[];ia.Xua=[];ia.LJ=[];ia.Oia=!1;ia.fDb=!1;ia.kUc=[new L(r.v.X),new L(r.v.U),new L(r.v.Ba)];ia.Ye=new A.yha(X,ia.console);ia.Nhb=U;ia.sHa=null !== O && void 0 !== O?O:-1;ia.console=new f.platform.Console("ASEJS","media|asejs","<" + String(ia.J) + ">");ia.console.trace("creating viewable:",I);ia.zr=N;X.YOb?(I={eB:ja,jt:R},ia.zr.kNc(ia,X),ia.zr.NMc(ia,U,I),ia.config=ia.zr.vPa(ia)):ia.config=X;ia.Lt=new F.N9a(ia,ia.config);ia.Swc=null !== (fa=null === (ba=U.steeringAdditionalInfo) || void 0 === ba?void 0:ba.qOc) && void 0 !== fa?fa:void 0;ia.events=new c.EventEmitter();ia.dA=new G.R7a(ia,ia.console,ia.config,function(xa){return ia.events.emit("logdata",xa);});ia.Sc=aa;ia.vca=Z;ia.dT=ja;ia.NB=R;ia.lC=W;ia.rv=!!Y;na=[[],[],[],[]];T=[{},{},{},{}];ea=[0,0];ka=!1;ia.Yc=new H.G9a(ia,ia.config,ia.console);ia.Rr=ia.hSa;if(ia.Ob)ta=U.bj.maxBitrate;["audio_tracks","video_tracks",,"mediaEventTracks"].forEach(function(xa,Ba){xa && ia.S[xa] && ia.S[xa].forEach(function(oa,va){if(oa.type !== r.v.X || !oa.Cx && !1 !== oa.pg)(va=d({M:ia,Cj:oa,mediaType:Ba,rv:ia.rv,BM:va,cJ:va + (Ba === r.v.X?ia.S.video_tracks.length:0),vZ:ta},ia.config,ia.console),Ba === r.v.U && X.Shc && new u.C3a(X).gHc(va.Bd),Ba === r.v.U && (ra=v.QE.from({Vx:oa.zqa,fv:oa.yqa})),na[Ba].push(va),T[Ba]=n.__assign(n.__assign({},T[Ba]),va.uQ()),va.maxBitrate > ea[va.mediaType] && (ea[va.mediaType]=va.maxBitrate),ka=ka || va.Qo);});});ia.Ob && ia.S.timedtexttracks.forEach(function(xa,Ba){var oa;if(!xa.Cx && !1 !== xa.pg){oa=r.v.Ba;xa=d({M:ia,Cj:xa,mediaType:oa,rv:!1,BM:Ba,cJ:Ba},ia.config,ia.console);na[oa].push(xa);T[oa]=n.__assign(n.__assign({},T[oa]),xa.uQ());}});ia.S.Od && ((0,q.assert)(ra,"Should have video track if there are adverts"),ia.Od=n.__assign(n.__assign({},ia.S.Od),{rb:(null === (ha=ia.S.Od.rb) || void 0 === ha?void 0:ha.map(function(xa,Ba){var oa,va;va=ra.normalize(xa.Iv);Ba=n.__assign(n.__assign({},xa),{Zb:Ba,wk:xa.Iv,Iv:va.G,duration:(null === (oa=xa.Xb) || void 0 === oa?void 0:oa.reduce(function(za,ua){return za.add(h.I.Ca(ua.ib - ua.eb));},h.I.ia)) || h.I.ia,location:va,zx:!!xa.Xb,Vp:!!xa.Vj,source:"viewable",jZ:!1,Pa:va,type:"dynamic"});xa.Xb !== xa.ads && (Ba.unnormalizedLocationMs=Ba.wk,Ba.locationMs=Ba.Iv,Ba.location=Ba.location,Ba.contentTimestamp=Ba.Pa,Ba.type=Ba.type);return Ba;})) || []}));ia.Hi=new p.R3(ia.S,T,aa,ca,ia.config,function(xa){return ia.events.emit("logdata",xa);});ia.Ob && (ia.xZ=new m.z9a(ia.console,ia.config,ia,ia.dA));W=da.pK;Y=da.Fx;ia.pO=da.Mf;ia.Fx=Y;ia.pK=W;ia.Cia=new l.I6a(ia.Hi,ia.config,ia.Nqc.bind(ia),ia.Mqc.bind(ia));ia.Cia.events.addListener("requestError",function(xa){ia.Ob && ia.config.Mwc && 404 === xa.fk && ia.Lt.IIb();});ia.SN=na;ia.kva=T;ia.aL=ea;ia.Qo=ka;ia.mB=n.__spreadArray([],n.__read(U.z0a || []),!1);ia.jla=ia.E$b();if(ia.Ob && (null === (la=na[r.v.pn]) || void 0 === la?0:la.length) && ia.config.LX && void 0 !== U.MZ){da=na[r.v.pn][0].P;void 0 !== da && U.MZ.P !== da && (ia.console.warn("MediaEventsStore: MediaEvents history timescale does not match track timescale",{k6c:U.MZ.P,Oad:da}),U.MZ.P=da);ia.Kh=new y.J$a(V,ia,ia.config,U.MZ);if(ia.Od && (null === (pa=ia.Kh.model) || void 0 === pa?0:pa.xD)){qa=ia.Kh.model.xD.Pa;ia.Od.rb.forEach(function(xa){xa.Pa=xa.location.add(qa);xa.Xb !== xa.ads && (xa.contentTimestamp=xa.Pa);});}ia.Ye.Xc(new C.H$a(ia.Kh.En));}ia.Ye.Xc(new J.c5a(ia.jla));ia.Itc && (ia.Hgc=(0,e.fxc)("ella-object",g.Igb,{v6b:"https://occ.a.nflxso.net/genc/nrdp/ella"}));return ia;}n.__extends(P,M);Object.defineProperties(P.prototype,{JK:{get:function(){return this.Yc.JK();},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{S:{get:function(){return this.Nhb;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{Ob:{get:function(){return (0,h.Ax)(this.S.Of);},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{hSa:{get:function(){var I;return this.Ob && !(null === (I=this.aj) || void 0 === I?0:I.endTime);},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{R:{get:function(){return this.S.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{xr:{get:function(){return this.S.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{duration:{get:function(){return this.S.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{Im:{get:function(){return this.Oia;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{jt:{get:function(){return this.NB;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{MP:{get:function(){(0,q.assert)(this.Cia,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Cia;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{NP:{get:function(){return this.MP.events;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{kh:{get:function(){return this.Lt.kh;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{aj:{get:function(){return this.MI;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{Lwc:{get:function(){return this.Mhb;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{pW:{get:function(){return this.Ngb;},set:function(I){this.Ngb=I;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{QC:{get:function(){var I,O;return (null === (O=null === (I=this.S.GH) || void 0 === I?void 0:I.iT) || void 0 === O?void 0:O.QC) || !1;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{Rm:{get:function(){return this.sHa;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{cqa:{get:function(){var I;return this.Ob?this:null === (I=this.lk) || void 0 === I?void 0:I.cqa;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{Itc:{get:function(){return this.config.eR?this.Ob:!1;},enumerable:!1,configurable:!0}});P.prototype.i_a=function(){return this.config.YOb?this.zr.i_a(this.S):!1;};P.prototype.Ka=function(){this.events.emit("destructed",{M:this});this.close();this.Ne();};P.prototype.pyb=function(I){I=this.Una(r.v.U,I);return !(null === I || void 0 === I || !I.CBb);};P.prototype.close=function(){var I,O;this.LJ=[];null === (I=this.Cia) || void 0 === I?void 0:I.Ka();this.Hi.Ka();null === (O=this.Kh) || void 0 === O?void 0:O.Ka();this.Oia=!0;};P.prototype.Ne=function(){var I;this.dA.Ne();null === (I=this.xZ) || void 0 === I?void 0:I.Ne();};P.prototype.C1=function(I){var O,Q,S;O=this;Q=I.S;I=I.lC;if(this.Ob)S=Q.bj.maxBitrate;(0,q.assert)(I === this.lC,"Updating Viewable clearplay not supported");(0,q.assert)(Q.movieId === this.S.movieId,"Changing Viewable manifest movieId unsupported");["audio_tracks","video_tracks"].forEach(function(U,W){var Y,X;Y=Q[U];X=O.SN[W];(0,q.assert)(X.every(function(Z){var aa;aa=Y[Z.BM];return aa && aa.Lva === Z.trackId && (aa.type === r.v.U || !1 !== aa.pg);}),"Existing tracks must still exist and be hydrated in updated manifest");Y.forEach(function(Z,aa){var ca,da;if(Z.type !== r.v.X || !Z.Cx && !1 !== Z.pg){ca=O.getTrackById(Z.Lva);if(ca){(0,x.Xo)(ca) && (ca.vZ=S,ca.Dua(A.Q4.S,S));Z=Z.streams;da=Object.keys(ca.uQ());(0,q.assert)(Z.length === da.length,"Expected updated manifest track to have same number of streams");Z.forEach(function(ja){ja=ja.downloadable_id;(0,q.assert)(-1 !== da.indexOf(ja),"Changing Viewable track streams unsupported");});}else (ca=d({M:O,Cj:Z,mediaType:W,rv:O.rv,BM:aa,cJ:aa + (W === r.v.X?O.S.video_tracks.length:0),vZ:S},O.config,O.console),X.push(ca),O.kva[W]=n.__assign(n.__assign({},O.kva[W]),ca.uQ()),ca.maxBitrate > O.aL[ca.mediaType] && (O.aL[ca.mediaType]=ca.maxBitrate),(0,q.assert)(O.Qo || !ca.Qo,"Can not update clear viewable with drm track."));}});});this.Nhb=Q;this.Hi.iJ(this.S,this.kva);};P.prototype.L0=function(I){var O,Q,S;O=I.ti;Q=I.Ia;S=I.CMa;I=I.eba;O && Q?(this.O0=new k.ueb(O,{Ia:String(Q),CMa:!!S,Nyc:this.config.j4.mx,X6b:this.config.j4.lv,HDc:this.config.IDc,wP:this.config.wP},I),this.MP.L0(this.O0)):this.fDb || (I("SideChannel: pbcid/xid is missing."),this.fDb=!0);};P.prototype.VRa=function(){return void 0 !== this.xr;};P.prototype.getTracks=function(I){return void 0 === I?(0,h.flatten)(this.SN):this.SN[I];};P.prototype.Una=function(I,O){I=this.getTracks(I);O=O.TS(this.S,I.map(function(Q){return Q.Cj;}));return "number" === typeof O && 0 <= O?I[O]:void 0;};P.prototype.getTrackById=function(I){var O;this.SN.some(function(Q){return Q.some(function(S){if(S.trackId === I)return (O=S,!0);});});O || this.console.warn("getTrackById not found:",I,"length:",this.SN.length);return O;};P.prototype.Gi=function(I,O){return (I=this.uQ(I)) && I[O];};P.prototype.uQ=function(I){return this.kva[I];};P.prototype.Ruc=function(I){var O,Q;if(void 0 === I.ita || void 0 === I.jXa){O=this.Hi.DY().filter(function(S){return void 0 !== S.streams[I.Qa];})[0];Q=O.children.filter(function(S){return S.urls.some(function(U){return U.stream.id === I.Qa;});})[0];I.ita=O.id;I.jXa=Q.id;}return {HSa:I.location === I.ita,Suc:I.zb === I.jXa};};P.prototype.OZa=function(I,O,Q){void 0 !== O && void 0 !== Q && (this.fIb(I.mediaType,O),I.OZa(O,Q));};P.prototype.fIb=function(I,O){var Q;Q=this.config.hra;("location" === Q || "video_location" === Q && I === r.v.U) && this.Sc.Fua(O);};P.prototype.Mf=function(I){(0,q.assert)(this.pO,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.pO(I);};P.prototype.tra=function(I,O){var Q;(0,q.assert)(!this.Ob,"Unexpected normalizeTimestamp. Live segments not supported. Use AsePlaygraph.normalizeLiveSegment() instead.");Q=this.Una(r.v.U,I[r.v.U]);Q || (this.console.trace("normalizeTimestamp looking for audio track in absense of video track"),Q=this.Una(r.v.X,I[r.v.X]));if(null !== Q && void 0 !== Q && Q.jA)return (I=h.I.Ca(O),O=Q.sv(this.config,I,void 0,!0).qa,I.add(Q.jA.te).Km(O)?O:Q.ZJ(this.config,I).xa);};P.prototype.Ap=function(I){var O;O=this;if(this.Im)return (this.console.error("updateRequestUrls, closed Viewable:",this.J),!1);r.b4.forEach(function(Q){O.fTc(Q,I) && O.RSc(Q);});this.ISc();this.events.emit("urlsUpdated",{});return !0;};P.prototype.sv=function(I,O,Q){Q=this.Una(r.v.U,Q);return (null === Q || void 0 === Q?void 0:Q.jA) && Q.sv(I,O);};P.prototype.Wva=function(I,O){this.Lt.Wva(I,O);};P.prototype.sPa=function(){var I;I=this.getTracks();I=I[(0,h.om)(I,function(O){return O.mediaType === r.v.U;})];(0,q.assert)(I,"AseViewable.getLiveSegmentDuration(): No video track");(0,q.assert)((0,x.Xo)(I),"AseViewable.getLiveSegmentDuration(): Video stream undefined or not live");return I.Hk;};P.prototype.fTc=function(I,O){var Q;Q=this;return this.Im?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.Ya.reduce(function(S,U){return (0,h.l6)(S,U.ka.filter(function(W){return W.mediaType === I;}));},[]).map(function(S){return Q.Hi.Yva(Q.J,S.Bd,void 0,O);}).every(function(S){return S;});};P.prototype.ISc=function(){(0,q.assert)(this.dA,"Headers not available on old architecture prefetch viewables.");this.dA.Ap();};P.prototype.RSc=function(I){var O,Q,W;Q=[];if(this.Im)this.console.warn("updateStreamUrls ignored, viewable cleaned up");else try{for(var S=n.__values(this.Ya),U=S.next();!U.done;U=S.next()){W=U.value.Ap(I);W.length && Q.push.apply(Q,W);}}catch(X){var Y;Y={error:X};}finally{try{U && !U.done && (O=S.return) && O.call(S);}finally{if(Y)throw Y.error;}}};P.prototype.Wk=function(){var I;I=this;this.Hi.Wk();this.O0 && r.b4.forEach(function(O){I.O0.MJb("rebuffer",I.Nub(O).Mzb);});};P.prototype.Nub=function(I){return this.kUc[I];};P.prototype.xKc=function(){var I;if(0 !== this.Xua.length){I=[];this.Xua.forEach(function(O){O.resume() || I.push(O);});this.Xua=I;}};P.prototype.nG=function(I,O){return this.dA.nG(I,O);};P.prototype.jKb=function(I,O,Q){this.LJ.push({K:O,stream:I,Spc:Q});};P.prototype.HHb=function(){this.LJ=[];};P.prototype.fJc=function(I){this.LJ=this.LJ.filter(function(O){return O.stream !== I;});};P.prototype.eJc=function(I){this.LJ=this.LJ.filter(function(O){return O !== I;});};P.prototype.OY=function(){var I;I=this;return this.Fx()?[]:this.LJ.map(function(O){return new E.qgb(I,O);});};P.prototype.qB=function(I,O,Q){(0,q.assert)(this.dA,"Headers not available on old architecture prefetch viewables.");return this.dA.qB(I,O,Q);};P.prototype.UV=function(I,O){(0,q.assert)(this.dA,"Headers not available on old architecture prefetch viewables.");this.dA.UV(I,O);};P.prototype.Pqc=function(I){var O;O=I.mediaType;this.Gi(O,I.Qa).zSc(f.platform.CY()[O],this.VRa()?this.config.syc:0);this.events.emit("onHeaderFragments",I);};P.prototype.NIc=function(I){this.Ya.push(I);};P.prototype.lSc=function(I){I=this.Ya.indexOf(I);(0,q.assert)(-1 !== I,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Ya.splice(I,1);};P.prototype.csa=function(I){var O;null === (O=this.vca) || void 0 === O?void 0:O.Tw(I);};P.prototype.LR=function(I){this.Im?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",I):void 0 !== I.location && this.fIb(I.mediaType,I.location);};P.prototype.mD=function(I){this.Im?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",I):(0,D.aSa)(I) && this.MP.EM(I);};P.prototype.Un=function(I){var O;(0,D.ttc)(I) && (null === (O=this.vca) || void 0 === O?void 0:O.ey(I));this.Im?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",I):this.Fx() || (0,D.aSa)(I) && this.MP.EM(I);};P.prototype.z_=function(I,O,Q){var S;Q && (null === (S=this.vca) || void 0 === S?void 0:S.ey(I));};P.prototype.Zx=function(I){this.Im?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",I):(0,D.aSa)(I) && (this.MP.pH(I,void 0,I.status,I.dh,I.Rg),this.Ap(I.stream) || this.Mf({Fi:I.xC || "unknown",wC:"NFErr_MC_StreamingFailure",$G:I.dh,fk:I.status,Rg:I.Rg,zb:I.stream.zb}));};P.prototype.dsa=function(I){(0,D.uuc)(I) && this.Xua.push(I);};P.prototype.AGb=function(){var I,O;this.l1a(null === (I=this.S.bj) || void 0 === I?void 0:I.r8,null === (O=this.S.bj) || void 0 === O?void 0:O.UX,!0);};P.prototype.pIc=function(){this.wo.prefetch && void 0 !== this.wo.prefetch.startTime && void 0 !== this.wo.prefetch.duration && this.Tva("prefetch",this.wo.prefetch.startTime,this.wo.prefetch.duration,!1);this.wo.execute && void 0 !== this.wo.execute.startTime && void 0 !== this.wo.execute.duration && this.Tva("execute",this.wo.execute.startTime,this.wo.execute.duration,!1);};P.prototype.l1a=function(I,O,Q,S){var U,W,Y,X,Z;(0,q.assert)(this.S.bj,"Missing manifest liveMetadata.");Y=this.S.bj;X=Y.r8;Z=Y.UX;Y=this.aj;this.MI={startTime:null !== (U=null !== X && void 0 !== X?X:I) && void 0 !== U?U:Y.startTime,endTime:null !== (W=null !== Z && void 0 !== Z?Z:O) && void 0 !== W?W:Y.endTime,VJ:S};I=this.MI.startTime !== Y.startTime;O=this.MI.endTime !== Y.endTime;Y=this.nrc(Y);if(Q || I || O || Y)(this.events.emit("liveEventTimesUpdated",n.__assign({M:this},this.MI)),this.pIc());(O || Y) && this.Ya.forEach(function(aa){aa.OL();});};P.prototype.NSc=function(I,O){if(this.vA[I].jv !== O.jv || this.vA[I].kv !== O.kv)(this.vA[I]=O,this.events.emit("liveLoggingInfoUpdated",{M:this,mediaType:I,info:O}));};P.prototype.Tva=function(I,O,Q,S){var U,W,Y,X,Z;U=!this.wo.execute || this.wo.execute.startTime !== O || this.wo.execute.duration !== Q || S;S=!this.wo.prefetch || this.wo.prefetch.startTime !== O || this.wo.prefetch.duration !== Q || S;if(this.Yc.r8){W=this.Yc.lac(O);Y=1E3 * Number(Q);X=Math.floor(Math.random() * Y) + W.G;W=W.G;Z="execute" === I?"ending":"prefetch";if("execute" === I && U || "prefetch" === I && S)(this.wo[I]={startTime:O,duration:Q},this.Mhb[I]={rawStartMs:W,rawEndMs:W + Y,selectedStartMs:X},this.mB=this.mB.filter(function(aa){return aa.type !== Z;}),this.mB.push({uda:X,fic:X,type:Z}),this.events.emit("livePostplayUpdated",{M:this,Kba:X,action:I}));}else this.console.warn("Received oc live message prior to event start, ignoring",{action:I,actionTime:O,duration:Q});};P.prototype.rVa=function(I,O){var Q;if(this.Ob && I.mediaType === r.v.X){O=(0,h.ic)(O.ka,function(S){return S.mediaType === r.v.U;});(0,q.assert)((0,x.Xo)(O),"onFirstFragmentReceived called with non-live branch");Q=O.nx;I.NBc(O.Jl,this.config.dAb?Q:h.I.ia);this.Ya.forEach(function(S){return S.Kf?S.IT(I):S.Kf;});}};P.prototype.Mk=function(I){void 0 === I && (I=!1);return this.Yc.Mk(I);};P.prototype.Jn=function(I){void 0 === I && (I=!1);return this.Yc.Jn(I);};P.prototype.TZa=function(I){this.Yc.TZa(I);this.Kh && this.Kh.Akc();};P.prototype.IYa=function(I){this.Yc.IYa(I);};P.prototype.Nqc=function(I){var O,Q,S,U;if(!this.Oia){O=I.qpa;Q=I.iDc;S=I.kDc;U=I.lDc;I=I.zb;this.console.warn("Streaming failure, is permanent: " + O + ", last error code: " + Q + ", last http code: " + S + ", last native code: " + U + ", server: " + I);O?(this.console.warn(" > Permanent failure, done"),O=this.Mf({Fi:"Permanent failure",wC:"NFErr_MC_StreamingFailure",$G:Q,fk:S,Rg:U,zb:I})):(this.console.warn(" > We are buffering, calling it!"),O=this.Mf({Fi:"Temporary failure while buffering",wC:"NFErr_MC_StreamingFailure",$G:U,fk:S,Rg:U,l0a:!0,zb:I}));O || (this.console.warn(" > Resetting failures"),this.MP.q0());}};P.prototype.Mqc=function(){(0,q.assert)(this.pK,"Error handling not available on old architecture prefetch viewables.");this.Oia || (this.Ap(),this.pK());};P.prototype.nrc=function(I){return I.VJ && this.MI.VJ?this.MI.VJ < I.VJ:this.MI.VJ !== I.VJ;};P.prototype.emb=function(I){var O,Q,S,U,W,Y,X,Z,aa,ja,V,ha,la,pa,ea,ka;X=this;if(!I || 2 > I.length || !I.every(function(ta){return 0 < (X.SN[ta] || []).length;}))return !1;Z={};aa={};try{for(var ca=n.__values(I),da=ca.next();!da.done;da=ca.next()){ja=da.value;Z[ja]=new Set();aa[ja]={};try{for(var R=(Q=void 0,n.__values(this.SN[ja])),N=R.next();!N.done;N=R.next()){V=N.value;try{for(var ba=(U=void 0,n.__values(V.Bd)),fa=ba.next();!fa.done;fa=ba.next()){ha=fa.value;if(void 0 === ha.location || void 0 === ha.zb){Z[ja]=new Set(["__invalid__"]);break;}Z[ja].add(ha.location);la=ha.location;pa=aa[ja];(pa[la]=pa[la] || new Set()).add(ha.zb);}}catch(ta){U={error:ta};}finally{try{fa && !fa.done && (W=ba.return) && W.call(ba);}finally{if(U)throw U.error;}}}}catch(ta){Q={error:ta};}finally{try{N && !N.done && (S=R.return) && S.call(R);}finally{if(Q)throw Q.error;}}}}catch(ta){var ia;ia={error:ta};}finally{try{da && !da.done && (O=ca.return) && O.call(ca);}finally{if(ia)throw ia.error;}}ia=I[0];Q=Array.from(Z[ia] || []);for(O=1;O < I.length;O++)if((S=Array.from(Z[I[O]] || []),0 < (0,h.Co)(Q,S).length || 0 < (0,h.Co)(S,Q).length))return !1;try{for(var na=n.__values(Q),T=na.next();!T.done;T=na.next()){la=T.value;ea=Array.from(aa[ia][la] || new Set()).slice().sort(function(ta,qa){return ta - qa;});Z=function(ta){var qa;qa=Array.from(aa[I[ta]][la] || new Set()).slice().sort(function(xa,Ba){return xa - Ba;});if(ea.length !== qa.length || ea.some(function(xa,Ba){return xa !== qa[Ba];}))return {value:!1};};for(O=1;O < I.length;O++){ka=Z(O);if("object" === typeof ka)return ka.value;}}}catch(ta){var ra;ra={error:ta};}finally{try{T && !T.done && (Y=na.return) && Y.call(na);}finally{if(ra)throw ra.error;}}return !0;};P.prototype.E$b=function(){var I,O,Q,S,W,Y,aa;Q=this.config.Pwc || [];S={};if(!this.Ob || 0 === Q.length)return S;for(var U=0;U < Q.length;U++){W=Q[U];if(this.emb(W)){Y=W[0];try{for(var X=(I=void 0,n.__values(W)),Z=X.next();!Z.done;Z=X.next()){aa=Z.value;aa !== Y && (S[aa]=Y);}}catch(ca){I={error:ca};}finally{try{Z && !Z.done && (O=X.return) && O.call(X);}finally{if(I)throw I.error;}}}}return S;};P.prototype.mmc=function(I){var O;O=this.jla;return O && void 0 !== O[I]?O[I]:I;};return P=n.__decorate([w.oY],P);})(t.UM);b.B3a=a;},26286:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.j4a=void 0;d=a(22970);n=a(91176);c=a(66164);t=(function(){function h(f,e,g,k,l,m){this.J=f;this.sH=e;this.aH=g;this.WCc=k;this.KVa=l;this.Z8=m;this.YHa=new n.mo();}Object.defineProperties(h.prototype,{M:{get:function(){var f;return null === (f=this.Qea) || void 0 === f?void 0:f.M;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Qq:{get:function(){return this.YHa.promise;},enumerable:!1,configurable:!0}});h.prototype.Ka=function(){var f;this.M && (this.M.lSc(this.sa),this.KVa(this.M));null === (f=this.Qea) || void 0 === f?void 0:f.Rk.release();this.Qea=void 0;};h.prototype.voa=function(){return this.sH.voa(this.J);};h.prototype.Sb=function(f,e){return d.__awaiter(this,void 0,void 0,function(){var g,k,l,m,p,r,q,u,v;return d.__generator(this,function(w){switch(w.label){case 0:return (this.sa=f,this.sH.voa(this.J) || !e?[3,2]:[4,e()]);case 1:g=w.T();if(f.Rc)throw Error("Branch cancelled");w.label=2;case 2:k=this.Z8();l=this.sH.qs(this.J,k);m=l.Qq;p=l.M;r=l.Rk;this.Qea={Rk:r,M:p};q={XA:c.platform.time.ha(),ZA:void 0};if(p)return (q.ZA=q.XA,this.rxb(p,f,g,q,!1),this.YHa.resolve(p),[2,p]);w.label=3;case 3:return (w.tc.push([3,5,,6]),[4,m]);case 4:return (u=w.T(),q.ZA=c.platform.time.ha(),[3,6]);case 5:throw (v=w.T(),q.ZA=c.platform.time.ha(),this.WCc(f,v,g,q),v);case 6:return (this.YHa.resolve(u),this.rxb(u,f,g,q,!0),[2,u]);}});});};h.prototype.rxb=function(f,e,g,k,l){this.Qea && (this.Qea.M=f,f.NIc(e),this.aH(e,f,g,k,l));};return h;})();b.j4a=t;},39795:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperties(b,{__esModule:{value:!0}});b.R7a=void 0;d=a(22970);n=a(66164);c=a(8171);h=a(35018);f=a(65161);t=a(81392);e=a(52571);g=a(42431);a=(function(k){function l(m,p,r,q){var u;u=k.call(this,m) || this;u.M=m;u.console=p;u.config=r;u.$Ua=q;u.headers=[Object.create(null),Object.create(null)];u.zzb=[void 0,void 0];u.Iu=void 0;return u;}d.__extends(l,k);Object.defineProperties(l.prototype,{sd:{get:function(){return this.Iu || (this.Iu=this.pC());},enumerable:!1,configurable:!0}});l.prototype.Ne=function(){var m;m=this;this.headers.forEach(function(p,r){for(var q in p)(p[q].Ne(),m.iMa(r,q));});this.Iu && g.hI.instance.O7(this.Iu);this.Iu=void 0;};l.prototype.nG=function(m,p){return this.headers[m][p];};l.prototype.qB=function(m,p,r){var q,u,v,w;q=this.config;if(this.nG(m.mediaType,m.Qa))return !1;u=this.wvc;v=this.xvc;if(void 0 !== q.wUa && void 0 !== u && void 0 !== v){w=n.platform.time.ha();if(w - u < q.wUa || w - v < q.wUa)return !1;}m=this.QRc(m,p,r);this.xvc=n.platform.time.ha();return m;};l.prototype.QRc=function(m,p,r){var q;q=m.mediaType;c.xw.FC(q);if(this.nG(q,m.Qa))m=!1;else {p={K:p,offset:0,ma:this.SX(m)};r || (r=this.sd);(0,e.assert)(r);m.za && r.track.EMb && (p.offset=0,p.ma=0);m.url && (this.M.Nub(q).Mzb=m.LY(!0));if(!this.ycc(m,r,p).open())return (this.M.Mf({Fi:"MediaRequest open failed (2)",wC:"NFErr_MC_StreamingFailure"}),!1);m=!0;}return m;};l.prototype.Ap=function(){var m,p,r;m=this;p=[];r=this.M.Ob;this.headers.forEach(function(q,u){var w;c.xw.FC(u);for(var v in q){u=q[v];w=u.r1a(r);1 === w?p.push(u):2 === w && m.M.Mf({Fi:"swapUrl failure"});}});return p;};l.prototype.Un=function(m,p){var r,q;if(m instanceof h.oxa){r=m.mediaType;q=c.xw.FC(r);this.M.Im?q.warn("header onrequestcomplete ignored, session shutdown:",m.toString()):(this.$Ua({type:"logdata",target:"startplay",Kc:{usedNativeDataView:m.zTc}}),m.wsa > m.RVa && (this.zzb[r]=m.wsa),this.Wqc(m),this.wvc=n.platform.time.ha());this.XP(m,p);}};l.prototype.UV=function(m,p){var r,q,u;r=this.headers[m];for(q in r){u=r[q];u && !u.stream.Oa && u.Zf === p && (this.iMa(m,q),u.Ne());}};l.prototype.pC=function(){var m,p;m=this.M.R;p="headers";this.config.OIb && this.M.QC && this.M.lk && (m=this.M.lk.R,this.config.Vwc && this.M.emb([f.v.U,f.v.X]) && (p=f.v.U));m=g.hI.instance.pC(p,m,!0,!1,{},this.config);m.Sb();return m;};l.prototype.r3b=function(m){this.headers[m.mediaType][m.Qa]=m;};l.prototype.Wqc=function(m){var p,r,q,v;p=this.config;r=c.xw.FC(m.mediaType);q=m.stream.Oa;if(p.zla){p=q.length;r.trace("fragment count:",p);for(var u=0;u < p;++u){v=q.get(u);r.trace("fragment: " + u + ", startPts: " + v.qa.G + ", duration: " + v.Vb.G + ", offset: " + v.offset);}}this.p3b(m);};l.prototype.p3b=function(m){var p,r;p=m.mediaType;r=m.Qa;c.xw.FC(p);m.oEb && (m.oEb.forEach(function(q){(q=q.Gi(p,r)) && q !== m.stream && !q.eh && q.Xnb(m.stream);}),m.oEb=void 0);this.M.Pqc(m);};l.prototype.ycc=function(m,p,r){var q,u;q=this;u=c.xw.FC(m.mediaType);m=new h.oxa(m,this.config,p,r,this,r.K,!1,u);this.config.D4b && (p=this.M.O0) && r.PD && (r.PD=p.cv({}));m.addListener("headerRequestCancelled",function(v){q.Qqc(v.request);});this.r3b(m);return m;};l.prototype.SX=function(m){var p,r,q,u;p=m.bo;r=m.M;q=r.duration;u=this.config;return m.za?512:r.rv?u.Rrb?u.Rrb:u.O9:u.xTc && p?p.offset + p.size:(m=this.zzb[m.mediaType])?m + 128:u.SX?2292 + 12 * Math.ceil(q / 2E3):u.O9;};l.prototype.Qqc=function(m){this.iMa(m.mediaType,m.Qa);};l.prototype.iMa=function(m,p){delete this.headers[m][p];};return l;})(t.UM);b.R7a=a;},27457:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.G9a=void 0;d=a(22970);n=a(91176);c=a(59458);h=a(48170);t=(function(){function f(e,g,k){this.M=e;this.config=g;this.console=k;this.qwc=this.cEc();this.tib=0;this.pda=null;e.Ob && (this.M.AGb(),this.RTa=this.dEc(),this.tib=this.ndc());}Object.defineProperties(f.prototype,{kIb:{get:function(){return this.tib;},enumerable:!1,configurable:!0}});f.prototype.hLa=function(e){return (e instanceof n.I?e:n.I.Ca(new Date(e).getTime())).ea(this.nva);};f.prototype.lac=function(e){var g;e=this.hLa(e);g=this.bG;if(g)return e.ea(g);this.console.warn("LivePositionService.convertEpochToLiveUXContentTimestamp(): Event start time is not available");return n.I.ia;};f.prototype.gLa=function(e){return this.nva.add(e);};f.prototype.Tnb=function(e){return this.RTa.add(e);};f.prototype.yua=function(e){return this.M.Lt.yua(e);};f.prototype.yWa=function(e){return this.M.Lt.yWa(e);};Object.defineProperties(f.prototype,{kh:{get:function(){return this.M.Lt.kh;},enumerable:!1,configurable:!0}});f.prototype.d6b=function(e){return e.add(n.I.Ca(this.config.Uk));};Object.defineProperties(f.prototype,{nva:{get:function(){return this.RTa.ea(this.Hic);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{vPc:{get:function(){var e;e=this.M.aj.VJ;if(void 0 !== e)return n.I.Ca(e);e=this.M.aj.endTime;if(void 0 === e)return n.I.qh;e=new Date(e).getTime() + this.config.hAb;return n.I.Ca(e);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{r8:{get:function(){var e;e=this.M.aj.startTime;if(void 0 !== e)return n.I.Ca(new Date(e).getTime());},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{UX:{get:function(){var e;e=this.M.aj.endTime;if(void 0 !== e)return n.I.Ca(new Date(e).getTime());},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bMb:{get:function(){return this.vPc.ea(this.nva);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bG:{get:function(){var e;e=this.M.aj.startTime;if(void 0 !== e)return this.hLa(e);},enumerable:!1,configurable:!0}});f.prototype.Jn=function(e){return n.I.Ca(Math.max(0,this.Mk(e) - this.config.Uk));};Object.defineProperties(f.prototype,{Vob:{get:function(){return {KTa:n.I.Ca(this.Mk(!0)),swc:this.Jn(!0)};},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Fma:{get:function(){var e;e=this.M.aj.endTime;if(void 0 !== e)return this.hLa(e);},enumerable:!1,configurable:!0}});f.prototype.JK=function(){return null !== this.pda;};f.prototype.TZa=function(e){this.pda=n.I.Ca(this.M.Lt.kh - this.config.Uk - e - this.config.fOc);};f.prototype.IYa=function(e){this.JK() && (this.pda=this.pda.add(n.I.Ca(e)));};f.prototype.uPa=function(e){return e && this.JK()?this.pda:this.RTa;};f.prototype.tPa=function(e){return this.uPa(e).add(n.I.Ca(this.qwc)).add(n.I.Ca(this.kIb));};f.prototype.Mk=function(e){e=this.tPa(e).G;return Math.max(0,this.M.Lt.kh - e);};Object.defineProperties(f.prototype,{Hic:{get:function(){var e,g;g=this.M.S.bj;g=null !== (e=null === g || void 0 === g?void 0:g.Ema) && void 0 !== e?e:0;return n.I.Ca(g);},enumerable:!1,configurable:!0}});f.prototype.Wnb=function(e){return this.bG?e.add(this.bG):this.Vob.KTa;};f.prototype.cEc=function(){var e;e=this.config.rTa || this.config.W$;h.l && this.console.log(("Live edge cushion is ").concat(e,"ms"));return e;};f.prototype.dEc=function(){var e,g;e=this.M.S.bj;(0,n.assert)(e,"LivePositionService.parseManifestAvailabilityStartTime(): Expected live metadata");g=d.__read(Object.keys(e.RS),1)[0];e=new Date("string" === typeof e.MO?e.MO:e.RS[g].MO).getTime();return n.I.Ca(e);};f.prototype.ndc=function(){var e;if(Math.random() < this.config.Wpa)return (h.l && (0,n.assert)(0 >= this.config.V$,"`liveEarlyRequestDefaultoffsetMs` must be negative"),this.config.V$);e=(0,c.bHb)(0,this.config.aqa,{etc:!0,zsc:!0});h.l && this.console.log(("Client request offset is ").concat(e,"ms"));return e;};return f;})();b.G9a=t;},31303:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.N9a=b.lZb=void 0;d=a(66164);n=a(91176);c=a(48170);h=(function(){function f(){this.Gyc=20;this.max=Number.NEGATIVE_INFINITY;this.min=Number.POSITIVE_INFINITY;this.trace=[];this.xZa=[];this.count=0;}f.prototype.Dja=function(e,g){this.count++;this.max < e && (this.max=e);this.min > e && (this.min=e);this.trace.length >= this.Gyc && (this.trace.shift(),this.xZa.shift());this.trace.push(e);this.xZa.push(g);};return f;})();b.lZb=h;t=(function(){function f(e,g){this.M=e;this.config=g;this.xva=new n.mo();this.console=new d.platform.Console("ASEJS","asejs|serverclock");this.Aib=new h();}Object.defineProperties(f.prototype,{kh:{get:function(){var e;if(void 0 === this.pp){e=d.platform.time.now();c.l && this.console.debug("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync." + ("returning ").concat(e));return e;}return d.platform.time.ha() + this.pp;},set:function(e){var g;this.VC=d.platform.time.ha();this.Jx=e;g=this.Jx - this.VC;(void 0 === this.pp || g > this.pp) && this.HOb(g,e);this.xva.SL || (c.l && this.console.trace("LiveServerClock: synchronized",{fAb:this.M.Jn()}),this.xva.resolve());},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{vQc:{get:function(){return this.xva.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Muc:{get:function(){return this.xva.SL;},enumerable:!1,configurable:!0}});f.prototype.HOb=function(e,g){var k;k=this.pp;this.pp=e;void 0 !== k && (this.KIb(k),this.Aib.Dja(e - k,g));c.l && this.console.debug("Updating serverTimeDelta from ",k,"ms to ",e,"ms");};f.prototype.yua=function(e){var g;return e - (null !== (g=this.pp) && void 0 !== g?g:0);};f.prototype.yWa=function(e){var g;return e + (null !== (g=this.pp) && void 0 !== g?g:0);};f.prototype.Wva=function(e,g){var k,l;c.l && this.console.log("updateServerTimeMs: ",e,g);if(!this.config.nma || void 0 === this.pp || 0 > g)this.kh=e;else {this.VC=d.platform.time.ha();this.Jx=e;k=this.Jx - this.VC;l=this.VC + this.pp;if(l < this.Jx || l > this.Jx + g + this.config.bra)(c.l && this.console.debug("updateServerTimeDelta: ",this.pp,k,this.Jx,l,g),this.HOb(k,e));}};Object.defineProperties(f.prototype,{yZa:{get:function(){return this.Aib;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{GP:{get:function(){var e;e=d.platform.time.ha();return void 0 === this.pp?{enb:e}:{enb:e,kh:e + this.pp,VC:this.VC,Jx:this.Jx};},enumerable:!1,configurable:!0}});f.prototype.IIb=function(){var e;if(void 0 !== this.VC && void 0 !== this.Jx){e=this.pp;this.pp=this.Jx - this.VC;c.l && this.console.debug("resync: Updating serverTimeDelta from ",e,"ms to ",this.pp,"ms");this.KIb(e);}};f.prototype.KIb=function(e){this.M.JK && ((0,n.assert)(e && this.pp,"Unexpected simulatedLiveEdge during initial clock sync. simulatedLiveEdge should be set during pipeline normalization AFTER the initial header request and intial clock sync occurs."),this.M.IYa(this.pp - e));};return f;})();b.N9a=t;},10943:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.zbb=void 0;d=a(66164);n=a(79048);c=a(91176);t=(function(){function h(f,e){this.J=f;this.cUc=e;this.lC=!0;this.Kwb=this.Qo=this.rv=!1;this.R=("").concat(n.Xq);this.JK=this.Rr=this.hSa=this.Ob=!1;this.console=new d.platform.Console("ASEJS","media|asejs","PaddingViewable");}Object.defineProperties(h.prototype,{kh:{get:function(){this.console.warn("Uexpected access of serverTimeMs on PaddingViewable. serverTimeMs is not server synced on PaddingViewable and will be based on the device clock.");return d.platform.time.now();},enumerable:!1,configurable:!0}});h.prototype.pyb=function(){return !1;};h.prototype.getTrackById=function(){};Object.defineProperties(h.prototype,{Im:{get:function(){return !1;},enumerable:!1,configurable:!0}});h.prototype.Wk=function(){};h.prototype.HHb=function(){};h.prototype.Mf=function(){return !0;};h.prototype.tra=function(f,e){var g;(0,c.assert)(this.YP,"Padding viewable must have fragmentDuration set when timestamp normalization is requested");f=Math.floor(e / this.YP) * this.YP;g=Math.ceil(e / this.YP) * this.YP;return Math.abs(e - f) <= Math.abs(e - g)?c.I.Ca(f):c.I.Ca(g);};h.prototype.Jn=function(){};h.prototype.Mk=function(){return -1;};h.prototype.sPa=function(){return c.I.Ca(-1);};return h;})();b.zbb=t;},34012:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.c5a=void 0;d=a(91967);t=(function(){function n(c){this.jla=c;this.bc=this.Hl=n.bc;}Object.defineProperties(n.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});n.prototype.ph=function(c){if(c.Vr === d.Nd.rp)return this.jla;};n.bc="connection-sharing";return n;})();b.c5a=t;},66133:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qgb=void 0;t=(function(){function a(d,n){var c;this.M=d;this.Lpb=n;this.Nv=-Infinity;this.vz="available";c=n.stream;n=n.Spc;n=n();this.identifier=("").concat(c.J,"-").concat(c.mediaType,"-").concat(c.bitrate);this.mediaType=c.mediaType;this.Tg=n.Tg;this.ee=n.ee;this.Ut=n.Ut;this.fo=n.fo;this.Io=n.Io;this.nS=0;this.mS=Infinity;this.gw=this.hH=1;this.gY=0;this.groupId=("").concat(d.J);this.Ex=!0;this.Pk=this.Vo=!1;}a.prototype.CF=function(){return {XR:!0};};a.prototype.NK=function(){var d,n;d=this.Lpb;n=d.stream;if(n.qB(d.K))return (this.M.fJc(n),{Lf:!0,reason:"success"});this.M.eJc(this.Lpb);return {Lf:!1,reason:"viewableTryIssueHeaderRequest"};};a.prototype.toJSON=function(){return {mediaType:this.mediaType,Yz:this.Yz,Tg:this.Tg,ee:this.ee,Ut:this.Ut,fo:this.fo,Io:this.Io,gY:this.gY,nS:this.nS,hH:this.hH,mS:this.mS,gw:this.gw,Pg:this.Pg,Z0:this.Z0,groupId:this.groupId,Ex:this.Ex,Vo:this.Vo,Pk:this.Pk,identifier:this.identifier};};return a;})();b.qgb=t;},24473:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ueb=void 0;t=a(66164);d=a(69575);n=t.platform.Xl;new t.platform.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function c(h,f,e){this.v7=f;this.eba=e;this.D2b=new d.ZFa(h);this.Ia=f.Ia;this.t_b=1E3 * f.Nyc / f.X6b;this.Lfc=f.CMa;this.Ekb=!1;}c.prototype.cv=function(h){var f,e,g;f={s_xid:this.Ia,dl:this.Lfc?1:0};this.v7.HDc && (f.r_pad=1);h.QO && (f.bs=(0,d.Yka)(Math.floor(h.QO / this.t_b) + 1,1,5));h.ora && (f.limit_rate=h.ora);h.zlb && (f.bb_reason=h.zlb);h.F0a && (f.tm=h.F0a);h.DFb && (f.play_ms=h.DFb);if(h.AEb){e=h.AEb;g=e.Sv;"HYBRID" === g?(f.hybrid=e.TY.$rc,f.cspr=e.TY.Vn,f.cu=e.TY.fKa,f.cldl=e.TY.pYa,f.h_ms=e.TY.Oyc):"CCSP" === g && ((g=e.opa()) || !g && this.Ekb) && (f.cpr_ss=e.FH,f.cpr_ca=e.LF,f.cpr_rec=e.oH,this.Ekb=g);}h.DJa && (f.br="" + h.DJa.start + "+" + h.DJa.size);return this.o1b(f);};c.prototype.MJb=function(h,f){var e,g;if(this.v7.wP)try{e=new n(void 0,"notification");g=this.cv({zlb:h});f && g && e.open(f,void 0,2,void 0,void 0,void 0,g);}catch(k){this.eba("SideChannel: Error when sending sendBlackBoxNotification. Error: " + k);}};c.prototype.o1b=function(h){var f;try{f=this.a2b(h);return this.D2b.encrypt(f);}catch(e){this.eba("SideChannel: Error when obfuscating msg. Error: " + e);}};c.prototype.a2b=function(h){return Object.keys(h).map(function(f){return encodeURIComponent(f) + "=" + encodeURIComponent(JSON.stringify(h[f]));}).join("&");};return c;})();b.ueb=a;},74418:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.p3a=void 0;d=a(22970);t=a(90745);n=a(91176);c=a(91176);h=a(66164);f=a(48170);e=a(29358);g=a(29092);k=a(55024);l=a(63002);m=a(53693);p=a(33604);r=a(52571);q=a(54540);u=a(69575);v=a(54923);w=a(58049);a=(function(x){function y(){var z;z=x.apply(this,d.__spreadArray([],d.__read(arguments),!1)) || this;z.uib=0;z.EHa=0;z.pia=0;z.pGa=0;return z;}d.__extends(y,x);y.prototype.rYa=function(z){var B,A,C,D;x.prototype.rYa.call(this,z);this.uib++;this.EHa++;this.Nib=h.platform.time.ha();this.EV || (this.EV={aac:null === (B=z.xa) || void 0 === B?void 0:B.G,mla:null === (A=z.qa) || void 0 === A?void 0:A.G,index:z.index},this.Gia || (this.Gia=this.EV));B=this.Via;A=!1;B && 100 > Math.abs(B.Lb.G - (null === (C=z.Qb) || void 0 === C?NaN:C.G)) && (this.pia+=z.Lb.G - B.Lb.G,this.pGa++,A=!0);A || (this.pia=null === (D=z.Vb) || void 0 === D?void 0:D.G,this.pGa=1);this.Via=z;};y.prototype.stop=function(){x.prototype.stop.call(this);this.EHa=0;this.EV=void 0;};y.prototype.oub=function(){var z,B,A,C,D;B=this.gy;A=B.wla;if(A){D=A.Yd(this.cF);D && D.ue && (C=D.ue.qvb());return {RM:C,currentBranch:{sId:A.K && A.K.id,cancelled:A.Rc},currentReceivedCount:B && B.Sdc,totalReceivedCount:this.uib,currentState:B && B.Zob || "Uninitialized",lastRequestPushed:this.Via && ({contentEndPts:null === (z=this.Via.xa) || void 0 === z?void 0:z.G,fragmentIndex:this.Via.index}),tslp:this.Nib && h.platform.time.ha() - this.Nib,cpts:this.pia,crq:this.pGa,rslp:this.EHa,firstRequestSSPushed:this.EV && ({contentStartPts:this.EV.mla,fragmentIndex:this.EV.index}),firstRequestPushed:this.Gia && ({contentStartPts:this.Gia.mla,fragmentIndex:this.Gia.index})};}};return y;})((function(x){function y(z,B,A,C,D,F,G,E,H,J,L){var K;K=x.call(this) || this;K.Xw=z;K.cF=B;K.config=C;K.console=D;K.player=F;K.Vv=G;K.Zc=E;K.zp=H;K.iO=new c.Os(!1);K.dO=new c.Os(n.I.Ca(-Infinity));K.console=(0,u.tf)(h.platform,K.console,("AsePlayerBuffer [").concat(B,"]:"));K.gy=new e.h4a(K.console,A,B);K.resume();F && G && E && (L?(K.sD=L,L.rz(F,E,K.Xw)):K.uob(),z=new l.N6a(null === F || void 0 === F?void 0:F.Zc,n.I.Ca(K.config.Qaa),D),K.gy.a6(z),0 < K.config.ulb && (K.tlb=new v.Z3a(n.I.Ca(K.config.x6b),K.config.ulb,K.console),K.gy.a6(K.tlb)),K.config.wkb && (F=new m.wbb(null === F || void 0 === F?void 0:F.Zc,K.config.wkb,n.I.Ca(K.config.Q4b),D),K.gy.a6(F)),J && (K.pJb=new p.heb(J,K.mediaType,D),K.gy.a6(K.pJb)),f.l && K.config.xhc && (D=new q.J9a(D),K.gy.a6(D)));K.Xw.on("requestAppended",function(M){K.iO.set(!0);M.request.Lb && K.dO.set(M.request.Lb);K.emit("requestAppended");});return K;}d.__extends(y,x);Object.defineProperties(y.prototype,{cp:{get:function(){return this.iO;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{UQ:{get:function(){return this.dO;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Txb:{get:function(){return this.gy.Zi;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{aT:{get:function(){return this.Xw.endOfStream;},enumerable:!1,configurable:!0}});y.prototype.uob=function(){var z;(0,r.assert)(this.player && this.Vv && this.Zc,"Player should be defined");z=this.sD;this.sD && this.sD.JVa();this.sD=new k.adb(this.cF,this.console,this.player,this.Xw,this.player.events,this.Vv,this.Zc,this.zp);this.sD.O0a(z);};Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.cF;},enumerable:!1,configurable:!0}});y.prototype.oub=function(){};y.prototype.resume=function(){f.l && this.console.trace("resume");this.DLb();};Object.defineProperties(y.prototype,{C5b:{get:function(){return this.wV;},enumerable:!1,configurable:!0}});y.prototype.mda=function(){this.Xw.xra(!0);};y.prototype.reset=function(z,B){var A,C,D,F;void 0 === z && (z=!1);f.l && this.console.trace("AsePlayerBuffer.reset mediaTypes:",B);this.stop();this.Xw.reset(z);this.iO.set(!1);this.dO.set(n.I.Ca(-Infinity));z || (this.wV=void 0,null === (A=this.sD) || void 0 === A?void 0:A.reset(),z=null === (C=this.player) || void 0 === C?void 0:C.uh,null === (D=this.pJb) || void 0 === D?void 0:D.wVa(z,B || z),null === (F=this.tlb) || void 0 === F?void 0:F.wVa());};y.prototype.Tc=function(z){void 0 === z && (z=!1);f.l && this.console.trace("restart");this.reset(z);this.DLb(!0);};y.prototype.stop=function(){f.l && this.console.trace("stop");this.gy.SLb();};y.prototype.close=function(){var z;f.l && this.console.trace("close");null === (z=this.sD) || void 0 === z?void 0:z.close();};y.prototype.Ka=function(){this.stop();this.close();};y.prototype.n_=function(){this.config.$ma && this.Xw.skc();this.Xw.V7();};y.prototype.gM=function(z){this.Xw.gM(z);};y.prototype.ikc=function(z){this.Xw.VAc(z);};y.prototype.Ik=function(z){var B;return !(null === (B=this.sD) || void 0 === B || !B.Ik(z));};y.prototype.DLb=function(z){if(!this.gy.Zi || z)(this.gy.sKc(),g.AsyncIterator.ypa(this.gy,this.bvc.bind(this)));};y.prototype.bvc=function(z){if(!z.done)if((z=z.value,(0,w.jSa)(z)))(this.dO.set(z.sa.Lb),this.iO.set(!0));else try{this.rYa(z);}catch(B){this.console.error("Error in requestReceived",B);}};y.prototype.rYa=function(z){var B,A,C,D,F,G,E,H;f.l && this.console.trace(("requestReceived: ").concat(null === (B=this.gy.wla) || void 0 === B?void 0:B.K.id) + (" ").concat(z.toString(),", edit: ").concat(JSON.stringify(z.na)));this.Xw.endOfStream?f.l && this.console.error("Buffer manager has declared EOS, ignoring request",z.toString()):(this.wV?(this.wV.vvc=null === (G=z.xa) || void 0 === G?void 0:G.G,this.wV.Avc=null === (E=z.Lb) || void 0 === E?void 0:E.G,this.wV.Bzb=z.Lb):this.wV={P4c:null === (A=z.qa) || void 0 === A?void 0:A.G,R4c:null === (C=z.Qb) || void 0 === C?void 0:C.G,vvc:null === (D=z.xa) || void 0 === D?void 0:D.G,Avc:null === (F=z.Lb) || void 0 === F?void 0:F.G,Bzb:z.Lb},z.Hn && z.stream.track.Qo && (null === (H=this.player) || void 0 === H || !H.r$(z.M.J)) && this.emit("drmNeeded",{J:z.M.J,Yn:z.Qb}),this.Xw.A5b(z));};return y;})(t.EventEmitter));b.p3a=a;},92140:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Eeb=void 0;t=(function(){function a(){this.Irc=this.tla([{x:32,y:3.3},{x:48,y:3.65},{x:64,y:4.24},{x:80,y:4.56},{x:96,y:4.67}]);this.VUc=this.tla([{x:16,y:2},{x:32,y:3.2},{x:48,y:3.6},{x:64,y:3.8},{x:80,y:4.3},{x:96,y:4.5},{x:112,y:4.6},{x:128,y:4.7},{x:144,y:4.8}]);this.aec=this.tla([{x:48,y:2.73},{x:64,y:3.15},{x:80,y:3.39},{x:96,y:3.59},{x:128,y:4.55},{x:192,y:4.8}]);this.$dc=this.tla([{x:192,y:2.9},{x:256,y:3.4},{x:320,y:3.8},{x:384,y:4.3},{x:448,y:4.6},{x:512,y:4.75},{x:576,y:4.76},{x:640,y:4.9},{x:768,y:4.9}]);}a.rnc=function(){a.instance || (a.instance=new a());return a.instance;};a.prototype.tla=function(d){d.sort(function(n,c){return n.x - c.x;});return function(n){var c,h;if(n < d[0].x){c=(d[1].y - d[0].y) / (d[1].x - d[0].x);h=d[0].y - c * d[0].x;return c * n + h;}if(n > d[d.length - 1].x)return (c=(d[d.length - 1].y - d[d.length - 2].y) / (d[d.length - 1].x - d[d.length - 2].x),h=d[d.length - 1].y - c * d[d.length - 1].x,c * n + h);for(h=0;h < d.length - 1;h++)if(n >= d[h].x && n <= d[h + 1].x)return (c=(d[h + 1].y - d[h].y) / (d[h + 1].x - d[h].x),h=d[h].y - c * d[h].x,c * n + h);};};a.prototype.Tua=function(d,n){return (-1 !== n.indexOf("xheaac")?this.VUc:-1 !== n.indexOf("heaac")?this.Irc:-1 !== n.indexOf("ddplus-2")?this.aec:this.$dc)(d);};return a;})();b.Eeb=t;},71472:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.jfa=void 0;d=a(22970);n=a(52571);t=a(85254);c=a(5800);a=a(71808);h=(function(){function f(e,g){this.console=e;this.ob=[];this.vg=void 0;this.Ue=0;g && g.length && (Array.isArray(g)?(this.ob=g.slice(),this.T4(0,this.ob.length)):g instanceof f && (this.ob=g.ob.slice(),this.T4(0,this.ob.length)));}Object.defineProperties(f.prototype,{length:{get:function(){return this.ob.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.ob.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{first:{get:function(){return this.ob[0];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Fd:{get:function(){return this.ob[this.ob.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{tb:{get:function(){return this.first && this.first.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ib:{get:function(){return this.Fd && this.Fd.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bv:{get:function(){return this.vg;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ma:{get:function(){return this.Ue;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{P:{get:function(){return this.first && this.first.P;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{op:{get:function(){return this.first && this.first.op;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Oa:{get:function(){return this.ob;},enumerable:!1,configurable:!0}});f.prototype.ySc=function(e){this.Ue+=e;};f.prototype.pka=function(){var e;if(0 === this.ob.length)((0,n.assert)(void 0 === this.vg),(0,n.assert)(0 === this.Ue));else {(0,n.assert)(this.vg instanceof c.kE);(0,n.assert)("number" === typeof this.Ue);(0,n.assert)(void 0 !== this.bv && this.bv.tb === this.tb);e=this.ob.reduce(function(g,k,l){return 0 === l || k.tb === g?k.Ib:g;},0);(0,n.assert)(this.bv.Ib === e);(0,n.assert)(this.ob.reduce(function(g,k,l){return 0 === l || k.tb === g?k.Ib:g;},0) === this.bv.Ib);(0,n.assert)(this.ob.reduce(function(g,k){return g + k.ma;},0) === this.Ue);}};f.prototype.get=function(e){0 > e && (e+=this.ob.length);return this.ob[e];};f.prototype.push=function(e){this.ob.push(e);this.T4(this.ob.length - 1);return this.length;};f.prototype.unshift=function(e){this.ob.unshift(e);this.T4(0,1);return this.length;};f.prototype.pop=function(){if(0 !== this.ob.length)return (this.BHa(this.ob.length - 1),this.ob.pop());};f.prototype.shift=function(){if(0 !== this.ob.length)return (this.BHa(0),this.ob.shift());};f.prototype.splice=function(e,g){for(var k,l=[],m=2;m < arguments.length;m++)l[m - 2]=arguments[m];0 > e && (e+=this.ob.length);0 > e && (e=0);e > this.ob.length && (e=this.ob.length);if(void 0 === g || 0 > g)g=0;g=Math.min(g,this.ob.length - e);0 < g && this.BHa(e,e + g);m=(k=this.ob).splice.apply(k,d.__spreadArray([e,g],d.__read(l),!1));0 < l.length && this.T4(e,e + arguments.length - 2);return m;};f.prototype.slice=function(e,g){void 0 === e && (e=0);void 0 === g && (g=this.ob.length);0 > e && (e+=this.ob.length);if(e >= this.ob.length)return new f(this.console);g > this.ob.length && (g=this.ob.length);0 > g && (g+=this.ob.length);return new f(this.console,this.ob.slice(e,g));};f.prototype.Gt=function(e){if(0 === this.ob.length || e.tb >= this.Ib)this.push(e);else if(e.Ib <= this.tb)this.unshift(e);else {for(var g=0,k=this.ob.length - 1,l;g < k - 1;)(l=Math.floor((k + g) / 2),(0,n.assert)(l !== k && l !== g),e.tb >= this.ob[l].Ib?g=l:k=l);(0,n.assert)(g !== k,"Fragments may not be in order");(0,n.assert)(this.ob[g].Ib <= e.tb && this.ob[k].tb >= e.Ib,"Inserted fragment does not fit within array");this.splice(k,0,e);}};f.prototype.remove=function(e){e=this.ob.indexOf(e);if(0 > e)return !1;this.splice(e,1);return !0;};f.prototype.concat=function(){for(var e=[],g=0;g < arguments.length;g++)e[g]=arguments[g];e=e.map(function(k){return k.ob;});return new f(this.console,Array.prototype.concat.apply(this.ob,e));};f.prototype.forEach=function(e){var g;g=this;this.ob.forEach(function(k,l){return e(k,l,g);});};f.prototype.some=function(e){var g;g=this;return this.ob.some(function(k,l){return e(k,l,g);});};f.prototype.every=function(e){var g;g=this;return this.ob.every(function(k,l){return e(k,l,g);});};f.prototype.map=function(e){var g;g=this;return this.ob.map(function(k,l){return e(k,l,g);});};f.prototype.reduce=function(e,g){var k;k=this;return this.ob.reduce(function(l,m,p){return e(l,m,p,k);},g);};f.prototype.indexOf=function(e){return this.ob.indexOf(e);};f.prototype.find=function(e){var g,k;g=this;return this.ob.some(function(l,m){k=m;return e(l,m,g);})?this.ob[k]:void 0;};f.prototype.findIndex=function(e){var g,k;g=this;return this.ob.some(function(l,m){k=m;return e(l,m,g);})?k:-1;};f.prototype.filter=function(e){var g;g=this;return new f(this.console,this.ob.filter(function(k,l){return e(k,l,g);}));};f.prototype.iY=function(e){for(var g=this.ob.length - 1;0 <= g;--g)e(this.ob[g],g,this);};f.prototype.x_a=function(e){for(var g=this.ob.length - 1;0 <= g;--g)if(e(this.ob[g],g,this))return !0;return !1;};f.prototype.ONa=function(e){if(this.empty || e < this.qa.G || e >= this.xa.G)return -1;for(var g=0,k=this.ob.length - 1,l;k > g;){l=Math.floor((k + g) / 2);if(e >= this.ob[l].qa.G && e < this.ob[l].xa.G){k=l;break;}e < this.ob[l].xa.G?k=l - 1:g=l + 1;}return k;};f.prototype.x8=function(e){if(this.empty || e < this.Qb.G || e >= this.Lb.G)return -1;for(var g=0,k=this.ob.length - 1,l;k > g;){l=Math.floor((k + g) / 2);if(e >= this.ob[l].Qb.G && e < this.ob[l].Lb.G){k=l;break;}e < this.ob[l].Lb.G?k=l - 1:g=l + 1;}return k;};f.prototype.isb=function(e){e=this.x8(e);return 0 <= e?this.ob[e]:void 0;};f.prototype.BNb=function(e,g){this.remove(e);g.Gt(e);};f.prototype.update=function(){this.vg && (this.vg.pMc(this.tb),this.M5(0));};f.prototype[Symbol.iterator]=function(){var e;return d.__generator(this,function(g){switch(g.label){case 0:(e=0,g.label=1);case 1:return e < this.ob.length?[4,this.ob[e]]:[3,4];case 2:(g.T(),g.label=3);case 3:return (e++,[3,1]);case 4:return [2];}});};f.prototype.M5=function(e){var g;g=this.ob[e].Ib;for(e+=1;e < this.ob.length && g === this.ob[e].tb;++e)g=this.ob[e].Ib;e < this.ob.length?void 0 === this.vg?this.vg=new c.kE(this,{Ib:g}):this.vg.K0(g):void 0 === this.vg?this.vg=new c.kE(this,{}):this.vg.ala();};f.prototype.k_b=function(e,g){for(var k=e;k < g;++k)this.Ue+=this.ob[k].ma;void 0 === this.vg || 0 === e?this.M5(0):this.vg.Ib === this.Ib?this.M5(e - 1):this.ob[e].tb === this.vg.Ib && this.M5(e);};f.prototype.Mp=function(e,g){var k;if(0 === e)(this.vg=void 0,g < this.length && this.M5(g));else {k=this.vg;k.Ib > this.ob[e - 1].Ib && (g < this.length?k.K0(this.ob[e - 1].Ib):k.ala());}for(;e < g;++e)this.Ue-=this.ob[e].ma;};f.prototype.T4=function(e,g){void 0 === g && (g=e + 1);this.k_b(e,g);};f.prototype.BHa=function(e,g){void 0 === g && (g=e + 1);this.Mp(e,g);};return f;})();b.jfa=h;(0,t.el)(a.Gy,h);},47743:function(t,b,a){var d,n,c,h,f,e,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.mxa=void 0;d=a(22970);n=a(66164);a(52571);t=a(85254);c=d.__importDefault(a(14282));h=a(50468);f=a(50247);e=n.platform.Xl;g=a(51440);k=a(45691);a=(function(l){var R8;R8=2;for(;R8 !== 9;){switch(R8){case 5:m.prototype.xx=function(){var R56;R56=2;for(;R56 !== 1;){switch(R56){case 2:return this.apa() && l.prototype.xx.call(this);break;}}};m.prototype.toString=function(){var w2K;w2K=2;for(;w2K !== 1;){switch(w2K){case 2:var z7H="I";z7H+="D";z7H+=":";z7H+=" ";return z7H + this.ii() + ":" + h.ko.prototype.toString.call(this);break;}}};return m;break;case 2:d.__extends(m,l);m.create=function(p,r,q,u,v,w,x,y){var y18;y18=2;for(;y18 !== 8;){switch(y18){case 3:return new k.kfa(p,q,u,v,w,r,x,y);break;case 4:y18=r.uma && p.mediaType !== c.default.Ep.Ba && 0 === u.ma?3:9;break;case 5:return new g.z3a(p,q,u,v,w,r,x,y);break;case 1:y18=p.mediaType === c.default.Ep.U && 0 < u.ma?5:4;break;case 2:y18=!r.cn && u.na?1:9;break;case 9:return new m(p,q,u,v,w,r,x,y);break;}}};R8=5;break;}}function m(p,r,q,u,v,w,x,y){var t1o,z;t1o=2;for(;t1o !== 7;){switch(t1o){case 2:var b_h="m";b_h+="e";b_h+="d";b_h+="i";b_h+="a";var y$R="media(ed";y$R+="i";y$R+="t)";var d7v="1";d7v+="SIYb";d7v+="ZrNJCp";d7v+="9";d7v;z=q.na?y$R:b_h;void 0 === q.responseType && (q.responseType=q.na || e.ng && !e.ng.FYa.HEa?0:1);r=l.call(this,p,r,z,q,u,v,w,x) || this;t1o=3;break;case 3:r.eD=!1;h.ko.Sb(r,p,v,q,y);return r;break;}}}})(f.e2);b.mxa=a;(0,t.el)(h.ko,a,!1);},50468:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ko=void 0;d=a(22970);n=a(91176);c=a(52571);h=d.__importDefault(a(14282));f=a(95591);t=a(85254);e=a(89645);g=a(78015);k=a(5800);a=a(71808);l=(function(m){function p(r,q,u,v){var w;w=m.call(this,r,u) || this;w.hma=!1;p.Sb(w,r,q,u,v);return w;}d.__extends(p,m);p.Sb=function(r,q,u,v,w){var x;g.dU.HRa(r,q,v);r.Yh=v.index;r.PB=v.tb;r.Au=v.Ib;r.y2b=v.Mb?v.Mb:q.Mb;r.ND=v.ND;r.K=u;r.Pna=w;r.rhb=!!v.Hn;r.Jhb=!!v.ki;r.qib=null !== (x=v.region) && void 0 !== x?x:0;r.qhb=!!v.bOa;r.Ihb=!!v.rA;r.Ta=void 0 === v.hG || void 0 === v.eK || v.hG === v.tb && v.eK === v.Ib?r:new k.kE(r,{tb:v.hG,Ib:v.eK});r.b1b=v.Wqa;r.l_b=v.lm;r.RY=q.RY;r.Qi=v.na?r.bDb(v.na):void 0;r.Mib=v.gu;r.cC=!1;r.jwb=!1;r.Zt=[];};p.vla=function(r){for(var q=new Uint32Array(r.length),u=new Uint32Array(r.length),v=new Uint8Array(r.length),w=new Uint8Array(r.length),x=0,y,z,B=0;B < r.length;++B)(y=r[B],z=y.Ue,q[B]=y.Au - y.PB,u[B]=z,v[B]=y.stream.jw,void 0 !== y.Mb && null !== y.Mb && (w[B]=y.Mb),x+=z);return new f.REa(q,u,r.length?r[0].P:1E3,x);};Object.defineProperties(p.prototype,{stc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{lA:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{index:{get:function(){return this.Yh;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Mb:{get:function(){return this.y2b;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{AJa:{get:function(){return 8 * this.ma / this.Vb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{tb:{get:function(){return this.PB;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ib:{get:function(){return this.Au;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{op:{get:function(){var r,q;return null !== (q=null === (r=this.Pna) || void 0 === r?void 0:r.call(this)) && void 0 !== q?q:0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Hn:{get:function(){return this.rhb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ki:{get:function(){return this.Jhb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{region:{get:function(){return this.qib;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{bOa:{get:function(){return this.qhb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{rA:{get:function(){return this.Ihb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Wqa:{get:function(){return this.b1b;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{lm:{get:function(){return this.l_b;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{na:{get:function(){return this.Qi;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{gu:{get:function(){return this.Mib;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{vH:{get:function(){var r;return this.Qi?(null !== (r=this.Qi.end) && void 0 !== r?r:this.rf) - this.Qi.start:this.rf;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{hG:{get:function(){return this.Ta.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{eK:{get:function(){return this.Ta.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ikc:{get:function(){return this.Ta.QJ;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Jkc:{get:function(){return this.Ta.Vb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zC:{get:function(){return this.Ta.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{lY:{get:function(){return this.Ta.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{rf:{get:function(){var r;r=this.Ikc;(0,c.assert)(r);return r / this.stream.Fa.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{yQ:{get:function(){return this.jwb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Erc:{get:function(){return 0 < this.Zt.length;},enumerable:!1,configurable:!0}});p.prototype.uea=function(r,q,u){var v,w,x;(0,c.assert)(r.P === this.P,"Cannot change content timestamp timescale");(0,c.assert)(q.P === this.P,"Cannot change content timestamp timescale");if(this.Bqb(this.na))(this.PB=r.aa,this.Au=q.aa,this.Ta=this,this.na && (this.Qi=d.__assign(d.__assign({},this.Qi),{start:0,end:null})));else {(0,c.assert)(this.na,"Undefined edit window should be handled as whole fragment");w=this.rf;this.Ta=new k.kE(this,{tb:r.aa,Ib:q.aa});x=this.na;q=x.start;x=x.end;this.na.end=u || w >= this.rf?null === x || x >= this.rf?null:this.na.end:null === x?w:x;this.PB=r.add(this.Fa.Qg(q)).aa;this.Au=r.add(this.Fa.Qg(null !== (v=this.na.end) && void 0 !== v?v:this.rf)).aa;}};p.prototype.h1a=function(r){this.uea(this.zC.Vc(this.P),this.zC.add(this.Fa.Qg(r)),!0);};p.prototype.vOb=function(r){(0,c.assert)(!this.na || 0 === this.na.start,"Cannot change start time of fragment with start edit");this.uea(r,this.lY,!0);};p.prototype.dyc=function(){this.rhb=!0;};p.prototype.fBb=function(){this.Jhb=!0;};p.prototype.QZa=function(r){this.ND={Td:r.Stb(),get OQ() {return r.j1;}};};p.prototype.M0=function(r){this.Mib=r;};p.prototype.ZMc=function(r,q,u){this.qib=r;this.qhb=q;this.Ihb=u;};p.prototype.Qh=function(r){var q,u,v;void 0 === r && (r={});u=this.stream.Fa.aa;v=this.Qi || ({start:0,end:null});r=this.bDb(r);this.Bqb(r)?(this.PB=this.Ta.tb,this.Au=this.Ta.Ib,this.Ta=this):(this.Ta && this.Ta !== this || (this.Ta=new k.kE(this,this)),this.PB=this.Ta.tb + r.start * u,this.Au=this.Ta.tb + (null !== (q=r.end) && void 0 !== q?q:this.rf) * u);this.Qi=d.__assign(d.__assign({},v),r);};p.prototype.JMa=function(r){void 0 === r && (r=1);this.Qi?this.Qh({start:this.Qi.start + r,end:this.Qi.end}):this.Qh({start:r});};p.prototype.fma=function(r){this.Qi?this.Qh({start:this.Qi.start,end:(this.Qi.end || 0) - r}):this.Qh({start:0,end:-r});};p.prototype.Ui=function(){this.na?this.Qh({start:this.na.start,end:this.na.start}):this.Qh({start:0,end:0});};p.prototype.bNc=function(r){this.Qi || this.Qh();this.Qi.Pua=r;};p.prototype.oKb=function(r){this.Qi || this.Qh();this.Qi.Hr=!0;r && (this.Qi.Hrb=r);};p.prototype.pKb=function(r){this.Qi || this.Qh();this.Qi.fq=!0;r && (this.Qi.Irb=r);};p.prototype.tsb=function(r){var u;if(!(r < this.qa.G || r >= this.xa.G) && this.lm && this.lm.length){r=new n.I(r + 1 - this.qa.G,1E3).gf(this.stream.Fa);for(var q=this.lm.length - 1;0 <= q;--q){u=this.lm[q];if(u.Zk <= r)return u;}return {Zk:0,gd:this.zC.G};}};p.prototype.$jc=function(r){var u;if(!(r < this.qa.G || r >= this.xa.G) && this.lm && this.lm.length){r=new n.I(r + 1 - this.qa.G,1E3).gf(this.stream.Fa);for(var q=this.lm.length - 1;0 <= q;--q){u=this.lm[q];if(u.Zk <= r)return u;}return {Zk:0,gd:this.zC.G};}};p.prototype.fsb=function(r,q){var u,v,w;if(!(r < this.qa.G || r >= this.xa.G)){if(!q && this.RY)return {Zk:0,gd:this.qa.G};u=this.Fa.aa;v=this.Fa.P;w=Math.floor(this.QJ / u);r=Math.min((q?Math.ceil:Math.floor)((n.I.wCb(r,v) - this.tb + (q?-1:1) * (v / 1E3 - 1)) / u),w);u=n.I.G0a(this.tb + r * u,v);return r === w?void 0:{Zk:r,gd:u};}};p.prototype.Yjc=function(r){return this.mediaType === h.default.Ep.U?this.tsb(r):this.fsb(r,!1);};p.prototype.RNa=function(r){return this.mediaType === h.default.Ep.U?this.$jc(r):this.fsb(r,!0);};p.prototype.apa=function(){return this.na?this.yQ:this.Erc;};p.prototype.XPa=function(){(0,c.assert)(!this.Cca,"Should not get response iterator more than once");this.Cca=new e.cI(this.stream.qb);return this.Cca.getIterator();};p.prototype.wta=function(r,q){this.Cca?(this.Cca.enqueue(r),q && this.Cca.HP()):this.Zt.push(r);this.jwb=q;};p.prototype.h0=function(){this.Zt=[];};p.prototype.NIa=function(r){this.Ue+=r.ma;this.Au=r.Ib;this.Qi && (this.Ta=new k.kE(this,{tb:this.hG,Ib:this.Au}),this.Qi.end=this.rf);};p.prototype.eIb=function(r){var q,u,v;q={type:"logdata",target:"endplay",fields:{}};u=this.mediaType === h.default.Ep.X?"audioedit":"videoedit";v=this.zC.equal(this.qa);v=[v?this.xa.G:this.qa.G,v?-this.Vb.G:this.Vb.G];r && v.push(r);q.fields[u]={type:"array",value:v};return q;};p.prototype.toString=function(){return ("[").concat(this.Qa,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.qa.G,"-").concat(this.xa.G,",") + ("p:").concat(this.Qb.G,"-").concat(this.Lb.G,",d:").concat(this.Vb.G,"]");};p.prototype.toJSON=function(){return {movieId:this.R,streamId:this.Qa,bitrate:this.bitrate,index:this.index,startPts:this.qa.G,endPts:this.xa.G,contentStartPts:this.qa.G,contentEndPts:this.xa.G,fragmentStartPts:this.zC.G,fragmentEndPts:this.lY.G,edit:this.na};};p.prototype.rsb=function(r){var u;if(this.lm)for(var q=0;q < this.lm.length;++q)if(this.lm[q].Zk === r)u=this.lm[q].offset;return u;};p.prototype.bDb=function(r){var q,u;q=Math.max(r.start || 0,0);u=void 0 === r.end || null === r.end || r.end === this.rf?null:Math.min(this.rf,Math.max(q,0 > r.end?this.rf + r.end:r.end));return d.__assign(d.__assign({},r),{start:q,end:u});};p.prototype.Bqb=function(r){return !r || 0 === r.start && (r.end === this.rf || null === r.end);};return p;})(g.dU);b.ko=l;(0,t.el)(a.Gy,l);},21306:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperties(b,{__esModule:{value:!0}});b.l3a=void 0;d=a(22970);n=a(52571);c=a(99735);t=a(85254);h=a(71472);f=a(71808);e=a(81392);g=a(5800);a=(function(k){function l(m,p){var r,q;r=this;q=[new h.jfa(m),new h.jfa(m),new h.jfa(m)];r=k.call(this,q,function(u){return u.complete?r.empty || u.tb <= r.A$b?0:1:u.active?1:2;}) || this;q=d.__read(q,3);r.nj=q[0];r.Wh=q[1];r.Qp=q[2];r.kr=0;r.dGa=0;r.console=m;r.$s=p;return r;}d.__extends(l,k);Object.defineProperties(l.prototype,{ma:{get:function(){return this.nj.ma + this.Wh.ma + this.Qp.ma;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jOb:{get:function(){return this.Qp;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{active:{get:function(){return this.Wh;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{complete:{get:function(){return this.nj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bca:{get:function(){return this.kr;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{fla:{get:function(){return this.nj.ma;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Tv:{get:function(){return this.nj.ma + this.Wh.ma - this.kr;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{mSc:{get:function(){return this.Qp.ma;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{i0:{get:function(){return this.ma - this.kr;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{first:{get:function(){return this.Ukc();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Fd:{get:function(){return this.k6b();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{NMa:{get:function(){return !this.nj.empty || this.Qp.empty || this.Wh.empty?this.first:this.Wh.tb < this.Qp.tb?this.Wh.first:this.Qp.first;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ozb:{get:function(){return this.Qp.empty || this.Wh.empty?this.Fd:this.Wh.Ib < this.Qp.Ib?this.Qp.Fd:this.Wh.Fd;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Isb:{get:function(){return this.Qp.first;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{P:{get:function(){return this.first && this.first.P;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{tb:{get:function(){return this.NMa && this.NMa.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ib:{get:function(){return this.Ozb && this.Ozb.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{op:{get:function(){return this.first && this.first.op;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{A$b:{get:function(){return this.nj.empty?this.tb:this.nj.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{z$b:{get:function(){var m;return this.nj.empty?null === (m=this.qa) || void 0 === m?void 0:m.G:this.nj.xa.G;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ynb:{get:function(){var m;return this.nj.empty?null === (m=this.Qb) || void 0 === m?void 0:m.G:this.nj.Lb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{aFb:{get:function(){var m,p;return (null === (m=this.Wh.Lb) || void 0 === m?void 0:m.G) || (null === (p=this.nj.Lb) || void 0 === p?void 0:p.G);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{CM:{get:function(){return this.Qp.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jm:{get:function(){return this.Wh.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Bnb:{get:function(){return this.nj.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{T:{get:function(){return this.nj.concat(this.Wh);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bv:{get:function(){return this.vg;},enumerable:!1,configurable:!0}});l.prototype.pka=function(){var m,p;if(0 === this.length)((0,n.assert)(0 === this.kr),(0,n.assert)(this.nj.empty),(0,n.assert)(this.Wh.empty),(0,n.assert)(this.Qp.empty));else {(0,n.assert)(this.nj.every(function(u){return u.complete || u.aborted;}));(0,n.assert)(this.Wh.every(function(u){return u.active || u.complete || u.aborted;}));(0,n.assert)(this.Qp.every(function(u){return !u.active && !u.complete;}));!this.Wh.empty && this.Wh.first.complete && (this.nj.empty?(0,n.assert)(!this.Qp.empty && this.Wh.tb > this.Qp.tb,"unsent earlier than active"):(0,n.assert)(this.Wh.tb > this.nj.Ib,"gap in complete array"));this.kr !== this.nj.reduce(function(u,v){return u + (v.aborted?0:v.bytesReceived);},0) + this.Wh.reduce(function(u,v){return u + (v.aborted?0:v.bytesReceived);},0) && (0,n.assert)(!1,"receivedBytes does not match complete + active");m=this.bv;if(this.empty)(0,n.assert)(void 0 === m);else {(0,n.assert)(void 0 !== m);p=this.map(function(u){return u;});p.sort(function(u,v){return u.tb - v.tb;});(0,n.assert)(m.tb === p[0].tb);for(var r=p[0].Ib,q=1;q < p.length && p[q].tb === r;++q)r=p[q].Ib;(0,n.assert)(m.Ib === r,"contigousEnd mismatch");}this.he.forEach(function(u){return u.pka();});}};l.prototype.add=function(m){var p;m.aborted?++this.dGa:this.kr+=m.bytesReceived || 0;if(this.empty)this.vg=new g.kE(this,{});else if(m.tb !== this.Ib)if(m.tb > this.vg.Ib)this.vg.K0(this.vg.Ib);else if(m.tb < this.tb || m.tb === this.vg.Ib){p=m.Ib;this.pkc(function(r,q){return r.tb - q.tb;},function(r){p=r.tb === p?r.Ib:p;});p === Math.max(this.Ib,m.Ib)?this.vg.ala():this.vg.K0(p);}m.NZa(this);};l.prototype.Mp=function(m){m.aborted?--this.dGa:this.kr-=m.bytesReceived;this.empty?this.vg=void 0:m.tb !== this.Ib && m.Ib <= this.vg.Ib && m.tb > this.vg.tb && this.vg.K0(m.tb);m.Zmb();};l.prototype.update=function(){var m;this.nj.update();this.Wh.update();this.Qp.update();if(this.vg){m=this.map(function(q){return q;});m.sort(function(q,u){return q.tb - u.tb;});this.vg.ala();for(var p=m[0].Ib,r=1;r < m.length;++r){if(m[r].tb !== p){this.vg.K0(p);break;}p=m[r].Ib;}}};l.prototype.push=function(m){this.add(m);return k.prototype.push.call(this,m);};l.prototype.shift=function(){var m;m=k.prototype.shift.call(this);m && this.Mp(m);return m;};l.prototype.pop=function(){var m;m=k.prototype.pop.call(this);m && this.Mp(m);return m;};l.prototype.unshift=function(m){this.add(m);return k.prototype.unshift.call(this,m);};l.prototype.Gt=function(m){this.add(m);k.prototype.Gt.call(this,m);};l.prototype.remove=function(m){if(!k.prototype.remove.call(this,m))return !1;this.Mp(m);return !0;};l.prototype.splice=function(m,p){for(var r=[],q=2;q < arguments.length;q++)r[q - 2]=arguments[q];q=k.prototype.splice.apply(this,d.__spreadArray([m,p],d.__read(r),!1));r.forEach(this.add.bind(this));q.forEach(this.Mp.bind(this));return q;};l.prototype.Wba=function(m){var p;p=this;this.reduce(function(r,q,u){q.aborted && !q.eD && (m && m(q,u,p),0 === r.length || r[0].end !== u?r.unshift({start:u,end:u + 1}):r[0].end+=1);return r;},[]).forEach(function(r){return p.splice(r.start,r.end - r.start);});};l.prototype.ONa=function(m){return this.ksb(function(p){return p.ONa(m);});};l.prototype.x8=function(m){return this.ksb(function(p){return p.x8(m);});};l.prototype.isb=function(m){m=this.x8(m);return -1 !== m?this.get(m):void 0;};l.prototype.ILc=function(m){var r;for(var p=[];m < this.length;){r=this.get(m);r && p.push(r);m++;}return p;};l.prototype.LR=function(m){this.move(m);this.dna(m);};l.prototype.mD=function(m,p){this.kr+=p;this.kY(m,p);};l.prototype.Un=function(m,p){this.kr+=p;this.UKb();this.XP(m,p);};l.prototype.z_=function(m,p,r){this.kr-=m.bytesReceived;++this.dGa;this.jY(m,p,r);};l.prototype.MR=function(m,p,r){this.Wh.ySc(p - r);this.oOa(m,p,r);};l.prototype.XCc=function(){this.UKb();};l.prototype.UKb=function(){for(;this.Wh.first && (this.Wh.first.complete || this.Wh.first.eD) && (this.nj.empty?this.Wh.first === this.NMa:this.Wh.first.tb === this.nj.Ib);)this.wNc();};l.prototype.kmc=function(){return this.nj.map(function(m){return {requestId:m.ii(),appended:m.cC,isAppendable:m.xx()};});};return l;})(c.Y4a);b.l3a=a;(0,t.el)(e.UM,a,!1);(0,t.el)(f.Gy,a);},83527:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.nxa=void 0;d=a(22970);n=a(78015);t=(function(c){function h(f,e,g,k){var l;l=c.call(this,f,g) || this;l.Zf=void 0;h.pxb(l,f,e,g,k);return l;}d.__extends(h,c);h.pxb=function(f,e,g,k,l){n.dU.HRa(f,e,k);f.K=g;f.ZE=k.yj;f.Tj=k.xsa;f.lhb=k.Kz;f.qb=l;};Object.defineProperties(h.prototype,{Xe:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{yj:{get:function(){return this.ZE;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xsa:{get:function(){return this.Tj;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Kz:{get:function(){return this.lhb;},enumerable:!1,configurable:!0}});h.prototype.toJSON=function(){return {movieId:this.R,streamId:this.Qa,bitrate:this.bitrate};};return h;})(n.dU);b.nxa=t;},35018:function(t,b,a){var n,c,h,f,e,g,k,l,m,p;function d(r){return {Xe:!0,ky:{jh:l.Tb.sn},Uc:r,responseType:0};}Object.defineProperties(b,{__esModule:{value:!0}});b.oxa=void 0;n=a(22970);c=a(91562);h=a(91176);t=a(90745);f=a(66164);e=a(69575);g=a(85254);k=a(52571);l=a(65161);m=a(83527);a=a(50247);p=f.platform.MediaSource;a=(function(r){function q(u,v,w,x,y,z,B,A){var C,D,F;C=w.track;B=(B?"(cache)":"") + u.id + " header";D=x.offset;F=x.ma;x.xsa && (D+=x.xsa.byteLength,F-=x.xsa.byteLength);x=n.__assign(n.__assign(n.__assign({},x),d(x.Uc)),{offset:D,ma:F});v=r.call(this,u,C,B,x,y,z,v,A) || this;v.Zf=w;v.MUa=0;m.nxa.pxb(v,u,z,x,A);v.RVa=x.ma;++v.MUa;return v;}n.__extends(q,r);Object.defineProperties(q.prototype,{Xe:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wsa:{get:function(){return this.A1b;},enumerable:!1,configurable:!0}});q.prototype.Ne=function(){var u;if(!this.complete){u={type:"headerRequestCancelled",request:this};this.emit(u.type,u);}r.prototype.Ne.call(this);};q.prototype.J8=function(u){this.stream.tVa();r.prototype.J8.call(this,u);};q.prototype.jY=function(u,v,w){this.stream.Tra();r.prototype.jY.call(this,u,v,w);};q.prototype.Un=function(u,v){var w;w=u.response;w && this.j3b(w);(0,k.assert)(this.Tj);u.h0();this.parse()?(this.stream.Tra(),r.prototype.Un.call(this,u,v)):this.Lja?(this.Wic(u.offset + u.ma,this.Lja),r.prototype.Un.call(this,u,v)):r.prototype.Zx.call(this,u);};q.prototype.Wic=function(u,v){this.Arb(this.OJ,this.label + " (" + this.MUa + ")",d(this.Uc),{offset:u,ma:v});++this.MUa;};q.prototype.parse=function(){var u,v,w,x,y,z,B;x=this.config;y=new c.Yl(q.Xzc,this.stream,this.Tj,this.stream.za?["moov"]:["sidx"],x.RDc,{O$c:this.stream.track.iXa,WEb:void 0 === this.Fa,KNb:!p.ng || !p.ng.k$b,Q0a:x.Q0a,Fh:this.stream.Fh,F1:this.config.F1,BKc:!0,Vua:!p.ng || !p.ng.gAc,hYa:this.config.hYa});z=y.parse({Fa:this.Fa});this.zTc=x.F1 && y.vrc;if(z.IA){(0,k.assert)(z.yj);this.ZE=z.yj;this.A1b=z.wsa;this.lhb=!!z.bic;void 0 === this.Fa && void 0 === z.Fa && this.qb.error("No frame duration available for " + this.Qa);y=z.Fa?new h.I(z.Fa):this.Fa;B=void 0;if(this.stream.mediaType === l.v.U && (null === (u=x.WR) || void 0 === u?0:u.enabled))if(null === (v=this.stream.SS) || void 0 === v?0:v.length)B=this.stream.SS;else if((u=this.stream.Nt.SS,0 < (null === u || void 0 === u?void 0:u.length)))for((B=new Uint8Array(u.length),w=0);w < u.length;w++)B[w]=u[w].Mb;else if(null === (w=z.eE) || void 0 === w?0:w.length)for((B=new Uint8Array(z.eE.length),w=0);w < z.eE.length;w++)B[w]=z.eE[w];w=z.AX?new h.I(z.AX):void 0;this.stream.p_(z.yj,z.P,y,z.Oa,z.a_,z.lm,B,z.trackId,w);this.Tj=void 0;}else this.Lja=z.Lja || 0;return !!z.IA;};q.prototype.j3b=function(u){this.Tj=this.Tj?(0,e.Dz)(this.Tj,u):u;};q.Xzc=new f.platform.Console("MP4","media|asejs");return q;})(a.e2);b.oxa=a;(0,g.el)(m.nxa,a,!1,!1);(0,g.el)(t.EventEmitter,a);},33923:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.bI=void 0;b.M_a=function(h){var f,e;(0,d.assert)(h.mediaType !== n.v.pn,"Media events is unsupported");e=(f={},f[n.v.X]={audio:h},f[n.v.U]={video:h},f[n.v.Ba]={text:h},f);return new c(e[h.mediaType]);};d=a(91176);n=a(65161);c=(function(){function h(f){this.audio=f.audio;this.video=f.video;this.text=f.text;}h.prototype.Hvb=function(f){switch(f){case n.v.X:return this.audio;case n.v.U:return this.video;case n.v.Ba:return this.text;}};h.prototype.Gi=function(f){return this.Hvb(f);};h.prototype.wQ=function(f){return (f=this.Hvb(f))?f.track:void 0;};Object.defineProperties(h.prototype,{Af:{get:function(){return this.video || this.audio || this.text;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{oyb:{get:function(){return void 0 !== this.video && void 0 !== this.audio;},enumerable:!1,configurable:!0}});h.prototype.F8=function(f){[this.audio,this.video,this.text].filter(function(e){return void 0 !== e;}).forEach(f);};h.prototype.xNa=function(f){return [this.audio,this.video,this.text].filter(function(e){return void 0 !== e;}).every(f);};Object.defineProperties(h.prototype,{R:{get:function(){return this.Af.R;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.Af.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bitrate:{get:function(){return this.F6b;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{F6b:{get:function(){return this.oyb?this.video.bitrate + this.audio.bitrate:this.Af.bitrate;},enumerable:!1,configurable:!0}});h.prototype.BJa=function(){return this.oyb?("audio: ").concat(this.Uu,"kbps | video ").concat(this.Is,"kbps"):("").concat(this.bitrate,"kbps");};Object.defineProperties(h.prototype,{Uu:{get:function(){var f;return null === (f=this.audio) || void 0 === f?void 0:f.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Is:{get:function(){var f;return null === (f=this.video) || void 0 === f?void 0:f.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Mb:{get:function(){var f;return null !== (f=this.Af.Mb) && void 0 !== f?f:0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{jb:{get:function(){return this.Af.jb;},set:function(f){this.Af.jb=f;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{id:{get:function(){return this.Af.id;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Qa:{get:function(){return this.Af.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Oa:{get:function(){return this.Af.Oa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Mx:{get:function(){return this.Af.Mx;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Vda:{get:function(){return this.Af.Vda;},set:function(f){this.Af.Vda=f;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{tv:{get:function(){return this.xNa(function(f){return f.tv;});},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zb:{get:function(){return this.Af.zb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{za:{get:function(){return this.Af.za;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{rq:{get:function(){return this.xNa(function(f){return f.rq;});},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Uo:{get:function(){return this.Af.Uo;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{CG:{get:function(){return this.Af.CG;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Nn:{get:function(){return this.Af.Nn;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xe:{get:function(){return this.Af.xe;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{kw:{set:function(f){this.F8(function(e){e.kw=f;});},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{location:{get:function(){return this.Af.location;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Aj:{get:function(){var f;f=[];this.F8(function(e){e.location && f.push(e.location);});return f;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{du:{set:function(f){this.Af.du=f;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mZa:{set:function(f){this.Af.mZa=f;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{YY:{set:function(f){this.Af.YY=f;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{YQa:{set:function(f){this.Af.YQa=f;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ZQa:{set:function(f){this.Af.ZQa=f;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Nt:{get:function(){return this.Af.Nt;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{profile:{get:function(){return this.Af.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{jw:{get:function(){return this.Af.jw;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{M:{get:function(){return this.Af.M;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xb:{get:function(){return this.Af.xb;},set:function(f){this.Af.xb=f;},enumerable:!1,configurable:!0}});h.prototype.isEqual=function(f){return f && this.xNa(function(e){var g;g=f.Gi(e.mediaType);return void 0 !== g && e.Qa === g.Qa;});};h.prototype.toString=function(){return ("").concat(this.audio?this.audio.toString():"") + ("").concat(this.video?this.video.toString():"") + ("").concat(this.text?this.text.toString():"");};return h;})();b.bI=c;},45691:function(t,b,a){var n,c,h,f,e,g,k,l,m,p;function d(r,q,u){return 2 === q.length?q[1]:q.reduce(function(v,w){return Math.abs(w - r) < Math.abs(v - r)?w:v;},u);}Object.defineProperties(b,{__esModule:{value:!0}});b.kfa=void 0;n=a(22970);a(66164);c=a(91562);h=a(91176);f=a(26388);e=a(75539);t=a(85254);g=a(48170);k=a(69575);l=a(50247);m=a(50468);(function(r){r[r.po=0]="INITIAL";r[r.j7a=1]="HAVE_CONTENT_LENGTH";r[r.l7a=2]="HAVE_MOOF_LENGTH";r[r.k7a=3]="HAVE_MOOF";})(p || (p={}));a=(function(r){function q(u,v,w,x,y,z,B,A){w=u.mediaType === f.v.X?n.__assign(n.__assign({},w),{responseType:0}):w;v=r.call(this,u,v,"live-edit",w,x,y,z,B) || this;v.eD=!1;v.FS=p.po;v.Tpb=!1;m.ko.Sb(v,u,y,w,A);v.hma=!0;(0,h.assert)(v.mediaType === f.v.X || v.mediaType === f.v.U);return v;}n.__extends(q,r);q.prototype.xx=function(){return this.apa() && r.prototype.xx.call(this);};q.prototype.bKa=function(){return !1;};q.prototype.uLa=function(u,v,w){var x,y;x=w.offset;y=this.config.uwc;w=n.__assign(n.__assign({},w),{jOa:this.config.XMa,responseType:0});this.zD(u,v,w,{offset:x,ma:y});};q.prototype.qL=function(u){(void 0 !== this.Bn || this.vBc(u)) && this.v1a(u);this.FS === p.po && void 0 !== this.Bn && (this.MR(u,this.Bn,this.ma),this.FS=p.j7a);};q.prototype.Un=function(u,v){if(!(this.state > e.Xg.am)){g.l && this.console.trace(("AseLiveEditingRequest: onrequestcomplete, ").concat(this.toString(),": ") + ("ID: ").concat(u.ii(),", requestState: ").concat(this.FS,", bytes: ").concat(v));this.FS !== p.k7a && (this.data=void 0 === this.data?u.response:(0,k.Dz)(this.data,u.response));switch(this.FS){case p.po:(0,h.assert)(!1,"Should not encounter request complete before obtaining content length");case p.j7a:if(!this.ABc())break;this.FS=p.l7a;case p.l7a:this.zBc(u) && (this.FS=p.k7a);}r.prototype.Un.call(this,u,v);}};q.prototype.vBc=function(u){this.Bn=u.Ntb();g.l && this.console.debug(("AseLiveEditingRequest: ").concat(this.toString()," setting contentLength to ").concat(this.Bn," from range"));return void 0 === this.Bn?(this.fwb(u),!1):!0;};q.prototype.ABc=function(){var u,v;(0,h.assert)(void 0 !== this.Bn,"Should have content length by now");(0,h.assert)(void 0 !== this.data,"Should have some data by now");u=c.rI.path(new DataView(this.data),["moof"]);v=u.offset;u=u.end;if(void 0 === v || void 0 === u)return (g.l && this.console.error("AseLiveEditingRequest: onrequestcomplete, failed to find moof in initial request"),v=this.offset + this.data.byteLength,u=this.config.iAb,this.zD(this.nb[0].OJ,this.label,n.__assign(n.__assign({},this.properties),{responseType:0}),{offset:v,ma:u}),!1);this.CUa=v;this.LZ=this.offset + u + 8;g.l && this.console.trace(("AseLiveEditingRequest: obtainMoofLength, ").concat(this.toString(),": ") + ("moofOffset: ").concat(this.CUa,", mediaDataOffset: ").concat(this.LZ));return !0;};q.prototype.zBc=function(u){var v,w,x;(0,h.assert)(void 0 !== this.Bn,"Should have content length by now");(0,h.assert)(void 0 !== this.LZ,"Should have sample offset by now");(0,h.assert)(void 0 !== this.data,"Should have some data by now");v=this.data.byteLength;w=this.LZ > v;if(w){x=this.LZ - v;g.l && this.console.trace("AseLiveEditingRequest: obtainMoof, request:",u.toString(),("did not contain all of the moof, requesting ").concat(x," more bytes"));this.zD(u.OJ,this.label,n.__assign(n.__assign({},this.properties),{responseType:0}),{offset:v,ma:x});v+=x;}this.na?w || this.fEc(v,this.Bn):(w || (u=c.rI.Drb(new DataView(this.data))) && void 0 !== u.nx && void 0 !== u.vH && (g.l && this.console.trace("AseLiveEditingRequest: fragment times (unoptimized): " + ("tfdt: ").concat(u.w1,", ") + ("ffco: ").concat(u.nx,", ") + ("sampleCount: ").concat(u.vH)),this.mOa(this,u,!1,!1)),this.Tpb || (x=this.Bn - v,0 < x && (g.l && this.console.trace(("AseLiveEditingRequest: obtainMoof with  on edits: offset ").concat(v,", bytes ").concat(x,", ") + ("contentLength ").concat(this.Bn)),this.BXa(v,x,this.Bn),this.Tpb=!0)));return !w;};q.prototype.BXa=function(u,v,w){this.Y0a(u,v) || (this.mF={offset:u,ma:v,Bn:w},this.nOa(this));};q.prototype.fEc=function(u,v){var w,x,y,z,B,A,C,D,F,G,E;(0,h.assert)(void 0 !== this.LZ,"Should have sample offset by now");(0,h.assert)(void 0 !== this.CUa,"Should have moof offset by now");(0,h.assert)(void 0 !== this.data,"Should have some data by now");(0,h.assert)(this.data.byteLength >= this.LZ,"Should have enough data for the whole moof by now");(0,h.assert)(void 0 !== this.na,"Should have an edit");x=new c.Ny(this.console,{mediaType:this.mediaType},this.data);y=0;if(x.parse().done){z=c.Yl.path(x,["moof","traf"]);x=c.Yl.path(z,["tfhd"]);B=c.Yl.path(z,["tfdt"]);A=c.Yl.path(z,["trun"]);if(void 0 !== x && void 0 !== B && void 0 !== A && void 0 !== A.Lk){x=A.UHc(x);B=B.xF;z=A.hkc;C=x.length;g.l && this.console.trace(("AseLiveEditingRequest: fragment times: tfdt: ").concat(B,", ") + ("firstFrameCompositionOffset: ").concat(z,", sampleCount: ").concat(C));D=this.CUa + A.Lk;F=!1;if(null === this.na.end && this.rf < C)(g.l && this.console.warn(("AseLiveEditingRequest: null edit end for fragment with ").concat(this.rf," ") + ("expected samples but actual fragment is longer (").concat(C,") - extending")),F=!0,this.h1a(x.length));else if(null === this.na.end && this.rf > C || null !== this.na.end && this.na.end > C)(g.l && this.console.warn(("AseLiveEditingRequest: edit end (").concat(this.na.end,", ").concat(this.rf,") ") + ("is beyond actual samples (").concat(x.length,") - truncating")),F=!0,this.h1a(x.length));G=!1;if(this.config.Fda && this.mediaType === f.v.U){A=A.hHb();if(0 !== this.na.start && -1 === A.indexOf(this.na.start)){E=this.na.start;G=d(this.na.start,A,this.rf);g.l && this.console.warn(("AseLiveEditingRequest: ").concat(this.toString()," edit start point ").concat(E," is not an IDR, ") + ("nearest IDR is ").concat(G));this.Qh({start:G,end:this.na.end});G=!0;}null !== this.na.end && this.na.end < this.rf && -1 === A.indexOf(this.na.end) && (E=this.na.end,G=d(this.na.end,A,this.rf),g.l && this.console.warn(("AseLiveEditingRequest: ").concat(this.toString()," edit end point ").concat(E," is not an IDR, ") + ("nearest IDR is ").concat(G)),this.Qh({start:this.na.start,end:G}),G=!0);}else this.mediaType === f.v.U && (A=A.hHb(),0 !== this.na.start && -1 === A.indexOf(this.na.start) && this.console.error(("SCTE IDR mismatch at start: ").concat(this.oi,", ").concat(this.qa.G,", ").concat(this.na.start,", idrs: ").concat(JSON.stringify(A))),null !== this.na.end && this.na.end < this.rf && -1 === A.indexOf(this.na.end) && this.console.error(("SCTE IDR mismatch at end: ").concat(this.oi,", ").concat(this.qa.G,", ").concat(this.na.end,", idrs: ").concat(JSON.stringify(A))));this.mOa(this,{w1:B,nx:z,vH:C},F,G);for(B=0;B < this.na.start && B < x.length;B++)D+=x[B];z=null !== (w=this.na.end) && void 0 !== w?w:this.rf;for(B=this.na.start;B < z && B < x.length;B++)y+=x[B];D < u && (y-=u - D,D=u);g.l && this.console.trace(("AseLiveEditingRequest: edit: ").concat(JSON.stringify(this.na)) + (", samples expected ").concat(this.rf,", actual ").concat(x.length,", sample sizes: ").concat(x) + (", start: ").concat(this.na.start,", end: ").concat(this.na.end) + (", requestOffset: ").concat(D,", bytes: ").concat(y,", contentLength: ").concat(v));}else g.l && this.console.error("AseLiveEditingRequest: failed to find trun or tfhd in moof");this.data=void 0;}void 0 !== D?0 < y && (this.BXa(D,y,v),this.B_={offset:D,ma:y}):(y=v - u,0 < y && (this.BXa(u,y,v),this.B_={offset:u,ma:y}));g.l && this.console.trace(("AseLiveEditingRequest: edit: ").concat(JSON.stringify(this.na),", ") + ("requestOffset: ").concat(D,", bytes: ").concat(y,", contentLength: ").concat(v,", ") + ("optimizedRequest: ").concat(JSON.stringify(this.B_)));};q.prototype.toString=function(){return "ID: " + this.ii() + ("[").concat(this.Qa,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.qa.G,"-").concat(this.xa.G,",") + ("p:").concat(this.Qb.G,"-").concat(this.Lb.G,",d:").concat(this.Vb.G,"]");};return q;})(l.e2);b.kfa=a;(0,t.el)(m.ko,a,!1);},11758:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.pxa=void 0;d=a(22970);a(66164);n=a(52571);t=(function(c){function h(f,e,g,k,l,m,p,r){f=c.call(this,f,e,g,k,l,m,p,r) || this;(0,n.assert)(0 === g.responseType);(0,n.assert)(g.oi);f.oi=g.oi;return f;}d.__extends(h,c);Object.defineProperties(h.prototype,{stream:{get:function(){return this.We;},enumerable:!1,configurable:!0}});return h;})(a(47743).mxa);b.pxa=t;},79459:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.rxa=void 0;d=a(22970);n=a(79048);c=a(48170);t=(function(h){function f(e,g,k,l,m,p,r,q,u,v,w,x,y){void 0 === x && (x=!0);void 0 === y && (y=!0);e=h.call(this,k,u,{index:0,offset:0,ma:0,tb:m,Ib:p,P:l,Hn:x,ki:y,gu:w},v) || this;e.KDc=k;e.console=q;e.K=u;c.l && e.console.log(("AsePaddingRequest [").concat(e.mediaType,"], constructed ").concat(e.toString()) + (", ").concat(g.byteLength," bytes") + (", ").concat(e.rf," samples"));e.wta(g,!0);return e;}d.__extends(f,h);Object.defineProperties(f.prototype,{profile:{get:function(){return this.KDc.profile;},enumerable:!1,configurable:!0}});f.prototype.abort=function(){return !1;};f.prototype.toJSON=function(){var e,g,k,l,m;return {viewableId:n.Xq,startPts:null === (e=this.Qb) || void 0 === e?void 0:e.G,endPts:(null === (g=this.Qb) || void 0 === g?void 0:g.G) + (null === (k=this.Vb) || void 0 === k?void 0:k.G),"contentStartTicks:":this.tb,contentEndTicks:this.Ib,contentStartPts:null === (l=this.qa) || void 0 === l?void 0:l.G,contentEndPts:null === (m=this.xa) || void 0 === m?void 0:m.G};};f.prototype.toString=function(){return ("[padding c:").concat(this.qa.G,"-").concat(this.xa.G,",") + ("p:").concat(this.Qb.G,"-").concat(this.Lb.G,",") + ("d:").concat(this.xa.G - this.qa.G,"]");};return f;})(a(50468).ko);b.rxa=t;},81392:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.UM=b.t3a=void 0;d=a(22970);t=(function(){function n(c){this.$s=c;}n.prototype.NZa=function(c){this.$s=c;};n.prototype.Zmb=function(){this.$s=void 0;};n.prototype.J8=function(c){var h,f;null === (f=null === (h=this.$s) || void 0 === h?void 0:h.csa) || void 0 === f?void 0:f.call(h,c);};n.prototype.dna=function(c){var h,f;null === (f=null === (h=this.$s) || void 0 === h?void 0:h.LR) || void 0 === f?void 0:f.call(h,c);};n.prototype.I8=function(c){var h,f;null === (f=null === (h=this.$s) || void 0 === h?void 0:h.qL) || void 0 === f?void 0:f.call(h,c);};n.prototype.kY=function(c,h){var f,e;null === (e=null === (f=this.$s) || void 0 === f?void 0:f.mD) || void 0 === e?void 0:e.call(f,c,h);};n.prototype.XP=function(c,h){var f,e;null === (e=null === (f=this.$s) || void 0 === f?void 0:f.Un) || void 0 === e?void 0:e.call(f,c,h);};n.prototype.cna=function(c){var h,f;null === (f=null === (h=this.$s) || void 0 === h?void 0:h.Zx) || void 0 === f?void 0:f.call(h,c);};n.prototype.jY=function(c,h,f){var e,g;null === (g=null === (e=this.$s) || void 0 === e?void 0:e.z_) || void 0 === g?void 0:g.call(e,c,h,f);};n.prototype.oOa=function(c,h,f){var e,g;null === (g=null === (e=this.$s) || void 0 === e?void 0:e.MR) || void 0 === g?void 0:g.call(e,c,h,f);};n.prototype.Vsb=function(c){var h,f;null === (f=null === (h=this.$s) || void 0 === h?void 0:h.bsa) || void 0 === f?void 0:f.call(h,c);};n.prototype.nOa=function(c){var h,f;null === (f=null === (h=this.$s) || void 0 === h?void 0:h.dsa) || void 0 === f?void 0:f.call(h,c);};n.prototype.mOa=function(c,h,f,e){var g,k;null === (k=null === (g=this.$s) || void 0 === g?void 0:g.NVa) || void 0 === k?void 0:k.call(g,c,h,f,e);};return n;})();b.t3a=t;t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);return c;})(t);b.UM=t;t.prototype.csa=t.prototype.J8;t.prototype.LR=t.prototype.dna;t.prototype.qL=t.prototype.I8;t.prototype.mD=t.prototype.kY;t.prototype.Un=t.prototype.XP;t.prototype.Zx=t.prototype.cna;t.prototype.z_=t.prototype.jY;t.prototype.MR=t.prototype.oOa;t.prototype.bsa=t.prototype.Vsb;t.prototype.dsa=t.prototype.nOa;t.prototype.NVa=t.prototype.mOa;},50247:function(t,b,a){var d,n,c,h,f,e,g,k,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.e2=b.Js=void 0;d=a(22970);n=a(90745);c=a(91562);a(66164);t=a(85254);h=a(52571);a(1936);f=a(75539);e=a(45247);g=a(8149);k=a(24940);l=a(81392);a=a(78015);(function(p){p[p.oab=0]="NOTHING_APPENDED";p[p.Yga=1]="PARTIAL";p[p.nn=2]="COMPLETE";p[p.Cp=3]="ERROR";})(m || (b.Js=m={}));m=(function(p){function r(q,u,v,w,x,y,z,B){var A;A=p.call(this,q,w) || this;A.OJ=u;A.label=v;A.properties=w;A.K=y;A.config=z;A.console=B;A.p0=k.Cha.He;A.events=new n.EventEmitter();A.$a=f.Xg.vB;A.VN=0;A.i5=-Infinity;A.nb=[];A.Zta=0;A.E1a=!1;A.NZa(x);A.$a=f.Xg.vB;A.Ag=q.LY(!!w.Xe,w.oi);A.fO=q.location || w.location;A.G5=q.zb || w.Uc;A.oi=w.oi;A.E1a=0 >= w.ma && A.bKa();A.uLa(u,v,w);return A;}d.__extends(r,p);Object.defineProperties(r.prototype,{Xe:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{state:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Pv:{get:function(){return this.$a >= f.Xg.OPENED && this.$a < f.Xg.nn;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{active:{get:function(){return this.$a >= f.Xg.NM && this.$a < f.Xg.nn;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{RXa:{get:function(){return this.$a === f.Xg.am;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{complete:{get:function(){return this.$a === f.Xg.nn;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{aborted:{get:function(){return this.$a === f.Xg.pw;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Bs:{get:function(){return void 0 !== this.mF;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{url:{get:function(){return this.Ag;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{status:{get:function(){var q;return (null === (q=this.pZ) || void 0 === q?void 0:q.status) || this.nb[0].status;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{dh:{get:function(){var q;return null === (q=this.pZ) || void 0 === q?void 0:q.dh;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{xC:{get:function(){var q;return null === (q=this.pZ) || void 0 === q?void 0:q.xC;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Rg:{get:function(){var q;return null === (q=this.pZ) || void 0 === q?void 0:q.Rg;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{bytesReceived:{get:function(){return this.VN;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{$i:{get:function(){return this.i5;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{responseType:{get:function(){return this.properties.responseType;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{location:{get:function(){return this.fO;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Uc:{get:function(){return this.G5;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{hLb:{get:function(){return this.properties.PD;},enumerable:!1,configurable:!0}});r.prototype.OZa=function(q,u){this.fO=q;this.G5=u;};r.prototype.xx=function(){return this.state < f.Xg.am?!1:this.nb.every(function(q){return q.state === f.Xg.am || q.state === f.Xg.nn;});};r.prototype.r1a=function(q){var u,v,w;if(this.complete)return 0;u=this.stream;v=u.M;if(!u.url)return (this.console.warn("updateurl, missing url for streamId:",u.Qa,"mediaRequest:",this,"stream:",u),1);w=u.LY(this.Xe,this.oi);if(this.url !== w || q)if((v.OZa(this,u.location,u.zb),!this.g1(w)))return (this.console.warn("swapUrl failed: ",this.xC),2);return 0;};r.prototype.S8b=function(){return 0 >= this.ma && 1 <= this.nb.length && void 0 !== this.nb[0].dh;};r.prototype.R8b=function(q){(0,h.assert)(0 >= this.ma,"AseRequest.changeStream is only supported for open range requests");(0,h.assert)(1 <= this.nb.length && void 0 !== this.nb[0].dh,"AseRequest.changeStream only supported when open range request has failed");(0,h.assert)(this.stream.track === q.track,"AseStream.changeStream cannot change stream to a different track");this.hw(q);this.r1a();};r.prototype.QNb=function(){var v;for(var q,u;this.Zta < this.nb.length && (u=this.nb[this.Zta]).response;){++this.Zta;v=!this.Bs && this.Zta === this.nb.length;null === (q=this.wta) || void 0 === q?void 0:q.call(this,u.response,v);u.h0();}};r.prototype.uLa=function(q,u,v){var w,x;if(0 < v.ma)v.dL && v.ma > v.dL?this.CHc(q,u,v,v.dL,v):this.zD(q,u,v,v);else if(this.E1a)this.zD(q,u,v,v);else {w=v.offset;x=void 0;void 0 !== v.index && (x=this.stream.cnc(v.index));x || (x=this.mediaType === e.v.Ba?this.config.Uwc:this.config.iAb);if(this.config.Ala || this.config.XMa)v=d.__assign(d.__assign({},v),{responseType:0,jOa:this.config.XMa});this.zD(q,u,v,{offset:w,ma:x});}};r.prototype.CHc=function(q,u,v,w,x){var y,z;w=Math.ceil(x.ma / w);y=x.offset;for(x=x.ma;0 < x;--w){z=Math.ceil(x / w);this.zD(q,u,v,{offset:y,ma:z});y+=z;x-=z;}};r.prototype.bKa=function(){return !!this.OJ.EMb;};r.prototype.zD=function(q,u,v,w){q=new f.nCa(this.stream,this.Ag,q,u,v,w,this,this.K,this.config,this.console);this.nb.push(q);this.state >= f.Xg.OPENED && (q.open(),this.state >= f.Xg.nn && (this.$a=f.Xg.OPENED,this.J8(this)));};r.prototype.ey=function(q){var u;u=this.nb.indexOf(q);-1 !== u && (this.nb.splice(u,1),0 < this.Ue && ((0,h.assert)(this.Ue >= q.ma),this.Ue-=q.ma));};r.prototype.Arb=function(q,u,v,w){this.zD(q,u,v,w);this.Ue+=w.ma;};r.prototype.open=function(){var q;null === (q=this.XGa) || void 0 === q?void 0:q.vCc();if(q=this.nb.every(function(u){return u.open();}))(this.$a=f.Xg.OPENED,this.J8(this));return q;};r.prototype.resume=function(){var q;(0,h.assert)(void 0 !== this.mF,"invalid attempt to resume request hat is not stalled");q=this.Y0a(this.mF.offset,this.mF.ma);q && (this.mF=void 0);return q;};r.prototype.abort=function(){var q,u;if(this.$a !== f.Xg.pw){q=this.active;u=this.Pv;this.$a=f.Xg.pw;this.nb.forEach(function(v){return v.abort();});this.mF=void 0;this.jY(this,q,u);}return !0;};r.prototype.Ne=function(){this.nb.forEach(function(q){return q.Ne();});this.mF=void 0;};r.prototype.g1=function(q){var u;u=this;this.Ag=q;return this.nb.map(function(v){return v.g1(u.Ag);}).some(function(v){return v;});};r.prototype.y9=function(q){(0,h.assert)(0 <= q && q < this.nb.length);return this.nb[q].response;};r.prototype.getResponseHeader=function(q,u){var v;v=null;this.nb.some(function(w){return !!(v=w.getResponseHeader(q,u));});return v;};r.prototype.getAllResponseHeaders=function(q){var u;u=null;this.nb.some(function(v){return !!(u=v.getAllResponseHeaders(q));});return u;};r.prototype.ii=function(){return 1 === this.nb.length?this.nb[0].ii():"(" + this.nb.map(function(q){return q.ii();}).join(", ") + ")";};r.prototype.ZPa=function(){return this.nb[0].ii();};r.prototype.csa=function(){};r.prototype.LR=function(q){var u;this.state > f.Xg.OPENED || (this.$a=f.Xg.NM,this.i5=Math.max(this.i5,q.$i),null === (u=this.XGa) || void 0 === u?void 0:u.kCc(),this.dna(this));};r.prototype.grc=function(q,u,v){void 0 === v?this.fwb(q):(q=v - u,0 < q && !this.Y0a(u,q) && (this.mF={offset:u,ma:q,Bn:v},this.nOa(this)));};r.prototype.qL=function(q){var u,v,w;if((0,g.hk)(this.stream)){if(this.config.Chc && void 0 !== this.properties.index){v=q.getResponseHeader("X-NFLX-NCL",!1);v && (v=Number(v),isNaN(v) || this.stream.qKb(this.properties.index + 1,v));}v=0 < q.uH.length?q.uH[0]:-1;w=q.getResponseHeader("X-TCP-Info",!1);null === (u=this.stream.M.xZ) || void 0 === u?void 0:u.DGb(this.stream,this.K,this.url,this.mediaType,w,v,this.properties.oi);}u=q.Ntb();void 0 !== this.properties.index && void 0 !== u && this.stream.qKb(this.properties.index,u);0 >= this.ma && !this.E1a?(this.grc(q,this.offset + q.ma,u),void 0 !== u && (this.v1a(q),this.MR(q,u,this.ma))):this.v1a(q);};r.prototype.v1a=function(q){var u;this.state <= f.Xg.NM?(this.OVa(q,0),this.$a=f.Xg.am,null === (u=this.XGa) || void 0 === u?void 0:u.fCc(),this.QNb(),this.I8(this)):this.mD(q,0);};r.prototype.dsa=function(){(0,h.assert)(!1);};r.prototype.NVa=function(){(0,h.assert)(!1);};r.prototype.Y0a=function(q,u){var v;v=this.stream.M;if(v.jt && !v.jt.Tka(this.mediaType,u))return !1;this.zD(this.nb[0].OJ,this.label,this.properties,{offset:q,ma:u});return !0;};r.prototype.fwb=function(q){this.Pnb=(this.Pnb || 0) + 1;1 >= this.Pnb && (this.ey(q),q.abort(),this.mF=void 0,this.uLa(q.OJ,this.label,this.properties));};r.prototype.mD=function(q,u){this.OVa(q,u);this.kY(this,u);};r.prototype.Un=function(q,u){var v;this.state > f.Xg.am || (this.config.Ala && this.stream.za && this.Ala(q),this.OVa(q,u),this.QNb(),this.nb.every(function(w){return w.complete;}) && !this.Bs?(this.$a=f.Xg.nn,null === (v=this.XGa) || void 0 === v?void 0:v.kD(),this.XP(this,u),this.Ne()):this.kY(this,u));};r.prototype.bsa=function(){this.Vsb(this);};r.prototype.Zx=function(q){var u;this.console.warn("AseRequest.onrequesterror:",this.toString(),"sub request:",q.toString());u=q.status;(416 === u || 206 === u) && 0 >= this.ma && !this.bKa()?(q.abort(),q.Ne(),this.ey(q),this.zD(q.OJ,this.label,this.properties,{offset:q.offset,ma:Math.max(Math.ceil(q.ma / 2),1)})):(this.pZ=q,this.cna(this));};r.prototype.z_=function(){var q,u;if(this.state !== f.Xg.pw){this.console.warn("AseRequest.onrequestaborted:",this.toString());q=this.active;u=this.Pv;this.$a=f.Xg.pw;this.jY(this,q,u);}};r.prototype.MR=function(q,u,v){this.Ue+=u - v;q={type:"updatedBytes",MCb:u,RVa:v};this.events.emit(q.type,q);this.oOa(this,u,v);};r.prototype.OVa=function(q,u){this.pZ === q && (this.pZ=void 0);this.i5=Math.max(this.i5,q.$i);this.VN+=u;};r.prototype.toString=function(){return "ID: " + this.ii();};r.prototype.Ala=function(q){var u,v,w,x,y,z,B,A;(0,h.assert)((0,g.hk)(this.stream),"debugFragmentTimes only supported for live streams");if(this.mediaType !== e.v.Ba && this.stc && q === this.nb[0] && q.response instanceof ArrayBuffer){u=c.rI.Drb(new DataView(q.response));if(u){q=u.w1;v=u.nx;w=u.vH;if(void 0 === v || void 0 === w)(u=void 0 === v?this.mediaType === e.v.U?this.stream.Fa.Vc(this.Gl).aa:0:0,new e.I(q + u,this.stream.Gl));else {x=this.M.getTracks(e.v.U)[0];(0,h.assert)((0,g.Xo)(x),"Unexpected on-demand video track in live branch");u=q;this.mediaType === e.v.X && this.config.dAb && (u-=x.nx.Vc(this.Gl).aa);w=this.stream.Fa.Qg(w);v=new e.I(u + v,this.stream.Gl).ea(this.stream.track.nx);y=this.zC.add(x.Jl);z=this.Jkc;x=!w.equal(z);B=1 < e.I.abs(v.ea(y)).aa;A=x && B?"both":x?"duration":B?"presentation":v.equal(y)?"ok":"onetick";q="onrequestcomplete, fragmentTimes: index " + this.index + (" decode ").concat(q) + (" adjusted ").concat(u) + (" presentation ").concat(v.da()) + (" expected ").concat(y.da()) + (" duration ").concat(w.da()) + (" expected ").concat(z.da()," ") + A;x?this.console.error(q):B?this.console.warn(q):this.console.trace(q);}}}};return r;})(a.dU);b.e2=m;(0,t.el)(l.t3a,m,!1);},11031:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperties(b,{__esModule:{value:!0}});b.f2=void 0;d=a(22970);n=a(91176);c=a(6198);h=a(52571);f=a(48170);e=a(92140);g=a(50468);t=(function(){function k(l,m,p){var r,q,u;this.Ab=m;this.qb=p;this.te=n.I.ia;this.Fh=!0;this.Ysb=new Map();this.Gib=l.jw;this.Nt=l.Nt;this.Vs=l.track;this.C0b=this.mediaType !== c.v.Ba?this.nR.gk:!1;this.q0a=l.q0a;this.ZE=l.yj;m=l.Uo;this.Uo=void 0 === m?!0:m;this.Zla=l.Zla;this.FV=void 0;this.oBb=this.nt=0;this.url=this.ada=this.zb=this.du=this.zTa=this.location=this.jb=this.xb=void 0;this.Nn=!1;this.HSa=this.Gg=void 0;m=(l=this.Ab) && "object" === typeof l.Sba && l.Sba[this.profile];"object" === typeof m && (m=m[this.bitrate]) && (this.te=new n.I(m.ticks,m.timescale));this.MAc=0 <= (null === (r=l.Vkb) || void 0 === r?void 0:r.indexOf(this.profile));this.fyb=this.mediaType === c.v.X?!0:this.mediaType === c.v.U?this.za || -1 !== this.xe.indexOf("h264bpl") || -1 !== this.xe.indexOf("h264mpl") || -1 !== this.xe.indexOf("hevc") && -1 === this.xe.indexOf("do"):!1;if((null === (q=l.WR) || void 0 === q?0:q.h4c) && this.mediaType === c.v.U && (r=this.Nt,0 < (null === (u=r.SS) || void 0 === u?void 0:u.length))){u=r.SS.splice(0,r.SS.length);r=new Uint8Array(u.length);for(q=0;q < u.length;q++)r[q]=u[q].Mb;this.SS=r;}}Object.defineProperties(k.prototype,{Uxb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{M:{get:function(){return this.Vs.M;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{J:{get:function(){return this.M.J;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Rm:{get:function(){return this.M.Rm;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{R:{get:function(){return this.Vs.R;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mediaType:{get:function(){return this.Vs.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Fa:{get:function(){return this.Vs.Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{P:{get:function(){return this.Vs.P;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Gl:{get:function(){return this.Vs.Gl;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{trackId:{get:function(){return this.Vs.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nR:{get:function(){if(this.mediaType !== c.v.Ba)return this.Nt;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{jw:{get:function(){return this.Gib;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Qa:{get:function(){var l;return this.mediaType === c.v.Ba?null !== (l=this.q0a) && void 0 !== l?l:"":this.nR.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{id:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{gk:{get:function(){return this.C0b;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{za:{get:function(){return this.track.Ob;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bitrate:{get:function(){return this.mediaType === c.v.Ba?0:this.nR.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Mb:{get:function(){var l;if(this.Dma)return this.Dma;if(this.mediaType === c.v.U)return null !== (l=this.Nt.vmaf) && void 0 !== l?l:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Tua:{get:function(){return this.mediaType !== c.v.X?e.Eeb.rnc().Tua(this.bitrate,this.profile):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{DYa:{get:function(){if(this.mediaType === c.v.U)return this.Nt.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{IS:{get:function(){if(this.mediaType === c.v.U)return this.Nt.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{profile:{get:function(){return this.mediaType === c.v.Ba?"timedtext":this.nR.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xe:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bo:{get:function(){if(this.mediaType === c.v.U)return this.Nt.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{RY:{get:function(){return this.MAc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Mx:{get:function(){return this.Oa && this.Oa.Mx;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{tv:{get:function(){return void 0 !== this.FV?this.FV:this.Juc();},set:function(l){this.FV=l;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{rq:{get:function(){return this.Uo && !this.Nn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{CG:{get:function(){return this.rq && !1 !== this.tv;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{yj:{get:function(){return this.ZE;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xtc:{get:function(){(0,h.assert)(!!this.Oa,"Initial header should have been received already");return this.M.VRa() && -1 < this.xe.indexOf("h264mpl") && void 0 === this.Oa.KIa;},enumerable:!1,configurable:!0}});k.prototype.BJa=function(){return ("").concat(this.bitrate,"kbps");};k.prototype.nG=function(){return this.M.nG(this.mediaType,this.Qa);};k.prototype.lnc=function(){var l;l=this.nG();return l && l.stream.Oa;};k.prototype.qB=function(l,m){return this.M.qB(this,l,m);};k.prototype.tVa=function(){this.track.tVa();};k.prototype.Tra=function(){this.track.Tra();};k.prototype.yt=function(l){f.l && (0,h.assert)(this.Oa && 0 <= l && l < this.Oa.length);return new g.ko(this,void 0,this.Oa.get(l));};k.prototype.Ztb=function(l){var m;f.l && (0,h.assert)(l instanceof g.ko);f.l && (0,h.assert)(this.trackId === l.stream.trackId);m=this.yt(l.index);l.na && (m.Qh(l.na),m.M0(l.gu),f.l && this.qb && this.qb.trace("AseStream: other stream fragment: " + JSON.stringify(l) + " transferring edit:" + JSON.stringify(l.na)));return m;};k.prototype.qKb=function(l,m){this.Ysb.set(l,m);};k.prototype.cnc=function(l){return this.Ysb.get(l);};k.prototype.zSc=function(l,m){this.nt=l;this.oBb=m;};k.prototype.Y9b=function(){this.jb=this.xb=this.zb=this.location=this.url=void 0;};k.prototype.Kr=function(){switch(this.mediaType){case c.v.X:return this.Dlc();case c.v.U:return this.vqc();case c.v.Ba:return this.Ypc();default:(0,h.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};k.prototype.toJSON=function(){return {movieId:this.R,mediaType:this.mediaType,streamId:this.Qa,bitrate:this.bitrate,streamIndex:this.jw,isAvailable:this.Uo,fittable:this.tv,vmaf:this.Mb,resolutionWidth:this.DYa,resolutionHeight:this.IS};};k.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Qa + ":" + this.bitrate;};k.prototype.Juc=function(){var l;if(!this.eh)return !0;if(this.track.UQa >= this.bitrate)return this.FV=!0;if(this.track.EAb <= this.bitrate)return this.FV=!1;f.l && this.qb && this.qb.trace("isStreamFittableInBuffer: minRequiredBuffer " + this.Ab.Qx);l=this.Lka();l?this.track.iXa && !this.gk && this.track.Qo || (this.track.UQa=this.bitrate):this.track.EAb=this.bitrate;return this.FV=l;};k.prototype.vqc=function(){return d.__assign(d.__assign({},this.track.Kr()),{profile:this.xe});};k.prototype.Dlc=function(){return d.__assign(d.__assign({},this.track.Kr()),{profile:this.xe,bitrate:this.bitrate});};k.prototype.Ypc=function(){return d.__assign(d.__assign({},this.track.Kr()),{profile:this.xe});};return k;})();b.f2=t;},78015:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.dU=void 0;a(52571);t=(function(){function d(n,c){d.HRa(this,n,c);}d.HRa=function(n,c,h){n.We=c;n.Ue=h.ma;n.Wc=h.offset;};Object.defineProperties(d.prototype,{stream:{get:function(){return this.We;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ma:{get:function(){return this.Ue;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{offset:{get:function(){return this.Wc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{M:{get:function(){return this.We.M;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{R:{get:function(){return this.We.R;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{mediaType:{get:function(){return this.We.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Qa:{get:function(){return this.We.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bitrate:{get:function(){return this.We.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{profile:{get:function(){return this.We.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{P:{get:function(){return this.We.P;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Gl:{get:function(){return this.We.Gl;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Fa:{get:function(){return this.We.Fa;},enumerable:!1,configurable:!0}});d.prototype.hw=function(n){this.We=n;};return d;})();b.dU=t;},5800:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.kE=void 0;t=a(85254);a=a(71808);d=(function(){function n(c,h){this.parent=c;this.PB=h.tb;this.Au=h.Ib;}Object.defineProperties(n.prototype,{tb:{get:function(){return void 0 !== this.PB?this.PB:this.parent.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ib:{get:function(){return void 0 !== this.Au?this.Au:this.parent.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{P:{get:function(){return this.parent.P;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{op:{get:function(){return this.parent.op;},enumerable:!1,configurable:!0}});n.prototype.pMc=function(c){this.PB=c;};n.prototype.K0=function(c){this.Au=c;};n.prototype.ala=function(){this.Au=void 0;};return n;})();b.kE=d;(0,t.el)(a.Gy,d);},71808:function(t,b,a){var c;function d(h,f){return void 0 === h?void 0:0 === h?c.I.ia:new c.I(h,f);}function n(h,f){return void 0 === h || void 0 === f?void 0:h + f;}Object.defineProperties(b,{__esModule:{value:!0}});b.Gy=void 0;c=a(91176);t=(function(){function h(){}Object.defineProperties(h.prototype,{QJ:{get:function(){var f,e;f=this.Ib;e=this.tb;return (void 0 === f || void 0 === e?void 0:f - e) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{oFc:{get:function(){return n(this.tb,this.op);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{kFc:{get:function(){return n(this.Ib,this.op);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Vb:{get:function(){return d(this.QJ,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qa:{get:function(){return d(this.tb,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xa:{get:function(){return d(this.Ib,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Qb:{get:function(){return d(this.oFc,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Lb:{get:function(){return d(this.kFc,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{uta:{get:function(){return d(this.op,this.P);},enumerable:!1,configurable:!0}});return h;})();b.Gy=t;},26279:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.g2=void 0;d=a(22970);n=a(6198);c=a(52571);h=a(69575);f=a(65077);e=a(444);g=a(52629);k=a(8149);l=a(48170);m=a(91967);p=a(87225);r=a(48834);t=(function(){function q(u,v,w){var x,y;x=this;this.config=v;this.console=w;this.dz=new h.veb();this.p5=0;this.Cj=u.Cj;this.M=u.M;this.mediaType=u.mediaType;this.BM=u.BM;this.cJ=u.cJ;this.mediaType === n.v.U?(v=this.Cj,w=d.__read(v.streams,1)[0],this.W1b=new g.tV({w:v.maxWidth,sx:v.maxHeight},{w:v.xFb,sx:v.yFb}),void 0 !== w.framerate_value && void 0 !== w.framerate_scale && (this.HGa=e.QE.from({Vx:w.framerate_value,fv:w.framerate_scale}),this.NI=this.HGa.Fa(),l.l && this.console.trace("AseTrack: video frame duration normalized to " + this.NI.toString() + " from " + JSON.stringify(w))),void 0 !== v.zqa && void 0 !== v.yqa && (this.U0b=e.QE.from({Vx:v.zqa,fv:v.yqa}))):this.mediaType === n.v.X && (this.x_b=this.Cj.streams[0].channels,this.X1b=48E3);this.Cb=(this.Rs=this.NI) && this.Rs.P;this.mediaType === n.v.Ba && (this.Cb=1E3);this.wHa=!1;this.UQa=-Infinity;this.EAb=Infinity;u=q.J_b(this,u.rv);v=u.WBb;w=u.maxBitrate;y=u.Bd;this.Qo=u.Qo;this.WBb=v;this.maxBitrate=w;this.Bd=y;this.Dua(m.Q4.S,w,v);this.wPc=y.reduce(function(z,B){z[B.Qa]=B;return z;},{});l.l && (function(){(0,c.assert)(void 0 !== x.R);(0,c.assert)(void 0 !== x.mediaType);(0,c.assert)(void 0 === x.Rs || x.Cb === x.Rs.P);});l.l && this.console.trace(("AseTrack: new track for movie ").concat(this.R,", mediaType ").concat(this.mediaType) + (", viewableId ").concat(this.M.J,", track ").concat(this.trackId) + (", frameDuration ").concat(this.Fa && this.Fa.toString()) + (", trackIndex ").concat(this.BM) + (", absoluteTrackIndex ").concat(this.cJ));}q.J_b=function(u,v){var w,x,y,z,B,A,C,D,F,G;w=u.config;x=u.mediaType === n.v.U;y=!1;z=Infinity;B=0;A=[];C=(0,k.Xo)(u)?p.t9a:r.Tab;if(u.mediaType === n.v.X || u.mediaType === n.v.U){D=u.Cj;F=D.streams.some(function(E){return E.gk;});D.streams.forEach(function(E,H){var J,L,K;J=E.bitrate;L=!0;if(x){K=E.gk;L=v?!0:K === F;y=y || K;}L && (J < z && (z=J),J > B && (B=J));E=new C({Nt:E,jw:H,track:u,Uo:L},w,u.console);A.push(E);});}else if(u.mediaType === n.v.Ba){G=u.Cj;D=G.downloadableIds["imsc1.1"];l.l && u.console.trace("parsing text track dlid:",D);if(G=G.ttDownloadables["imsc1.1"])(D=new C({Nt:G,jw:0,track:u,Uo:!0,q0a:D,yj:[]},w,u.console),A.push(D),u.dz.set(D));}else (D=u.Cj,D.streams.forEach(function(E,H){E=new C({Nt:E,jw:H,track:u,Uo:!0},w,u.console);A.push(E);}));return {Qo:y,WBb:z,maxBitrate:B,Bd:A};};Object.defineProperties(q.prototype,{Vaa:{get:function(){return !this.eh && 0 === this.p5;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{iXa:{get:function(){return this.wHa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{R:{get:function(){return String(this.M.R);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{trackId:{get:function(){return this.mediaType === n.v.Ba?this.Cj.id:this.Cj.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Qt:{get:function(){return this.Thb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Fa:{get:function(){return this.Rs;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{frameRate:{get:function(){return this.HGa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sqa:{get:function(){return this.U0b;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zn:{get:function(){return this.W1b;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{channels:{get:function(){return this.x_b;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sampleRate:{get:function(){return this.X1b;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{profile:{get:function(){return this.mediaType === n.v.Ba?this.Cj.rawTrackType:this.Cj.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fT:{get:function(){return this.mediaType === n.v.Ba?this.Cj.rawTrackType:this.Cj.fT;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{P:{get:function(){return this.Cb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Gl:{get:function(){return this.eHa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Nj:{get:function(){return this.De;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jA:{get:function(){return this.dz.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$Na:{get:function(){return this.dz;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{CBb:{get:function(){return this.Bd.some(function(u){var v;return 1 < ((null === (v=u.yj) || void 0 === v?void 0:v.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ob:{get:function(){return this.M.Ob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nJa:{get:function(){return this.mediaType === n.v.X?this.Cj.X6:void 0;},enumerable:!1,configurable:!0}});q.prototype.Gi=function(u){return this.uQ()[u];};q.prototype.uQ=function(){return this.wPc;};q.prototype.equals=function(u){return !!u && this.R === u.R && this.mediaType === u.mediaType && this.trackId === u.trackId;};q.prototype.tVa=function(){this.p5++;};q.prototype.Tra=function(){l.l && (0,c.assert)(0 < this.p5,"Removing more header requests than opened");0 < this.p5 && this.p5--;};q.prototype.Dua=function(u,v,w){var x;if(void 0 !== v && (void 0 === this.bUa || v < this.bUa.bitrate)){x=this.Bd.filter(function(y){return y.bitrate <= v;}).sort(function(y,z){return z.bitrate - y.bitrate;});0 < x.length && (this.bUa={bitrate:x[0].bitrate,reason:u});}void 0 !== w && (void 0 === this.tUa || w > this.tUa.bitrate) && (x=this.Bd.filter(function(y){return y.bitrate >= w;}).sort(function(y,z){return y.bitrate - z.bitrate;}),0 < x.length && (this.tUa={bitrate:x[0].bitrate,reason:u}));};q.prototype.QDb=function(u){void 0 === this.dz.value && (l.l && this.console.trace("first AseTrack.onHeaderComplete for stream:",u.id),this.dz.set(u));};q.prototype.Ynb=function(u){l.l && (0,c.assert)(u instanceof q);l.l && this.console.trace("AseTrack: copying header to movie " + this.R + ", track " + this.trackId + ", mediaType " + this.mediaType + ", from movie " + u.R + ", track " + u.trackId + ", mediaType " + u.mediaType + ", track.headerReceived " + u.eh);this.eh || (this.Iua(u.P),this.JZa(u.Gl),this.FZa(u.Fa),this.De=u.Nj,u.$Na.value?this.dz.set(u.$Na.value):this.dz.xIb());};q.prototype.sv=function(u,v,w,x){var y;(0,c.assert)(this.jA);y=this.jA;u=(0,f.sv)(this.mediaType,u,y,v,w,x);l.l && this.console.trace("AseTrack.findFirstFragment() pts:",v,"parentLastFragment:",null === w || void 0 === w?void 0:w.toString(),"found:",u);return u;};q.prototype.ZJ=function(u,v,w){var x;(0,c.assert)(this.jA);x=this.jA;u=(0,f.ZJ)(this.mediaType,u,x,v,w);l.l && this.console.trace("AseTrack.findLastFragment() pts:",v,"found:",u);return u;};q.prototype.Kr=function(){switch(this.mediaType){case n.v.X:return ((0,c.assert)(this.mediaType === n.v.X),(0,c.assert)(void 0 !== this.channels),(0,c.assert)(void 0 !== this.sampleRate),{channels:this.channels,profile:this.profile,fT:this.fT,bitrate:this.Bd[this.Bd.length - 1].bitrate,sampleRate:this.sampleRate,Qt:this.Qt});case n.v.U:return ((0,c.assert)(this.mediaType === n.v.U),(0,c.assert)(void 0 !== this.sqa),(0,c.assert)(void 0 !== this.Zn),{J:this.M.J,Qo:this.Qo,profile:this.profile,b5c:this.sqa.Vx,a5c:this.sqa.fv,fT:this.fT,Zn:this.Zn,maxWidth:this.Zn.Zn.w,maxHeight:this.Zn.Zn.sx,xFb:this.Zn.DEb.w,yFb:this.Zn.DEb.sx,Qt:this.Qt});case n.v.Ba:return ((0,c.assert)(this.mediaType === n.v.Ba),{profile:this.profile,fT:this.fT});default:(0,c.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};q.prototype.toJSON=function(){return {movieId:this.R,mediaType:this.mediaType,trackId:this.trackId};};q.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};q.prototype.Iua=function(u){l.l && (0,c.assert)(void 0 === this.Cb || this.Cb === u);this.Cb=u;};q.prototype.JZa=function(u){l.l && (0,c.assert)(void 0 === this.eHa || this.eHa === u);this.eHa=u;};q.prototype.FZa=function(u){var v;l.l && (0,c.assert)(void 0 !== u);v=new e.QE(u.P,u.aa).Fa();l.l && (0,c.assert)(void 0 === this.Rs || this.Rs.equal(v));this.Rs=u;this.mediaType === n.v.U && (this.HGa=e.QE.uOa(u));};return q;})();b.g2=t;},51440:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.z3a=void 0;d=a(22970);a(91562);a(66164);a(52571);t=a(85254);n=a(50468);a=(function(c){function h(f,e,g,k,l,m,p,r){var q;q=d.__assign(d.__assign({},g),{offset:g.offset,ma:g.Wqa + 8,dL:void 0,responseType:0});k=c.call(this,f,e,"moof",q,k,l,m,p) || this;k.hma=!0;k.eD=!1;n.ko.Sb(k,f,l,g,r);k.B_=k.V7b(g,q.ma);k.Arb(e,"mdat",g,k.B_);return k;}d.__extends(h,c);h.prototype.xx=function(){return this.apa() && c.prototype.xx.call(this);};h.prototype.V7b=function(f,e){var g;e={offset:f.offset + e,ma:f.ma - e};if(this.na){if(0 < this.na.start){g=this.rsb(this.na.start);g && (e.offset=f.offset + g,e.ma=f.ma - g);}null !== this.na.end && this.na.end < this.rf && (g=this.rsb(this.na.end)) && (e.ma-=f.ma - g);}return e;};h.prototype.toString=function(){return "ID: " + this.ii() + ":" + c.prototype.toString.call(this);};return h;})(a(50247).e2);b.z3a=a;(0,t.el)(n.ko,a);},87225:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.t9a=void 0;d=a(22970);n=a(91176);c=a(48170);h=a(11031);t=(function(f){function e(g,k,l){g=f.call(this,g,k,l) || this;g.Ab=k;g.qb=l;g.Fh=!1;return g;}d.__extends(e,f);Object.defineProperties(e.prototype,{Oa:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{track:{get:function(){return this.Vs;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{eh:{get:function(){return !!this.ZE;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Jl:{get:function(){return this.track.Jl;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{B8:{get:function(){return this.track.B8;},enumerable:!1,configurable:!0}});e.prototype.p_=function(g,k,l,m,p,r,q,u,v){c.l && this.qb && this.qb.trace("AseStream.onHeaderReceived");this.eh?c.l && this.qb.trace("Duplicate header received for stream ",this):(this.ZE=g,this.track.p_(this,k,l,m,r,u,v),this.track.QDb(this));};e.prototype.Xnb=function(g){c.l && (0,n.assert)(g instanceof h.f2);c.l && (0,n.assert)(g.Qa === this.Qa);this.eh || (this.track.Ynb(g.track),this.ZE=g.yj);};e.prototype.LY=function(g,k,l){var m,p,r;l=null === (m=l || this.url) || void 0 === m?void 0:m.split("?");m=null !== (p=null === l || void 0 === l?void 0:l[0]) && void 0 !== p?p:"";p=null !== (r=null === l || void 0 === l?void 0:l[1]) && void 0 !== r?r:"";g?g=this.track.wxb:(void 0 === k && this.qb.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,n.assert)(void 0 !== k,"liveSegmentId is required for live media requests"),g=this.track.Zyc.replace("$Number$",k.toString()));this.M.Yc.JK() && (k=this.track.Hk,p+=(p?"&":"") + "flp=" + encodeURIComponent(("ast,").concat(this.M.Yc.tPa(!0).G,",startSegment,").concat(this.track.co,",duration,").concat(k.aa,",timeScale,").concat(k.P)));return m + "/" + g + (p?"?" + p:"");};e.prototype.Lka=function(){var g,k;return this.Ab.sR * this.bitrate / 8 * (this.Ab.Qx + (null !== (k=null === (g=this.M) || void 0 === g?void 0:g.dT.G) && void 0 !== k?k:0)) < this.nt;};e.prototype.IY=function(g,k){var l;l=void 0 === g || g === this.track.co;return this.LY(l,l?void 0:g,k);};return e;})(h.f2);b.t9a=t;},92945:function(t,b,a){var d,n,c,h,f,e,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.u9a=void 0;d=a(22970);n=a(91176);c=a(6198);h=a(52571);f=a(444);e=a(48170);g=a(8149);k=a(91967);t=(function(l){function m(p,r,q){var u;r=l.call(this,p,r,q) || this;r.AX=n.I.ia;r.l5=p.vZ;void 0 !== r.l5 && r.Dua(k.Q4.S,r.l5);p=r.M.S.bj;(0,h.assert)(p,"Live metadata cannt be undefined on live viewable");q=r.Bd[0].Qa;u=null === p || void 0 === p?void 0:p.dma[q];(0,h.assert)(void 0 !== u,"No segment template id found for downloadableId: " + q);r.OD=p.RS[u];(0,h.assert)(r.OD,"No segment template found for segmentTemplateId: " + u);r.co=Number(r.OD.ELb);r.Jl=new n.I(Number(r.OD.nGc),r.OD.P);r.Hk=new n.I(r.OD.duration,r.OD.P);void 0 === r.P && r.Iua(r.OD.P);return r;}d.__extends(m,l);Object.defineProperties(m.prototype,{wxb:{get:function(){return this.OD.Usc;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zyc:{get:function(){return this.OD.media;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{eh:{get:function(){var p;return this.mediaType === c.v.Ba?!0:!(null === (p=this.dz.value) || void 0 === p || !p.eh);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{vZ:{get:function(){return this.l5;},set:function(p){e.l && this.console.trace("setting liveBitrateDynamicCap:",this.l5,"->",p);this.l5=p;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{B8:{get:function(){return this.Fia || n.I.ia;},set:function(p){var r;e.l && this.Fia && !p.equal(this.Fia) && this.console.warn("Unexpected change in first frame offset timestamp" + ("").concat(null === (r=this.Fia) || void 0 === r?void 0:r.da()," -> ").concat(p.da()));this.Fia=p;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{nx:{get:function(){return this.Uma?new n.I(this.Uma.nx,this.Gl):this.AX || n.I.ia;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{jA:{get:function(){var p;p=this.dz.value;return (0,g.hk)(p)?p:void 0;},enumerable:!1,configurable:!0}});m.prototype.p_=function(p,r,q,u,v,w,x){e.l && this.console.trace(("[").concat(this.mediaType,"] AseTrack.onHeaderReceived for stream: ").concat(p.id,", ") + ("movieTimescale: ").concat(r,", ") + ("frameDuration: ").concat(null === q || void 0 === q?void 0:q.da(),", ") + ("editListOffset: ").concat(null === x || void 0 === x?void 0:x.da()));if(p.gk || !p.track.Qo)this.wHa=!0;this.eh || (this.JZa(r),this.Thb=w,x && (this.AX=x),void 0 !== q && this.mediaType === c.v.U && this.config.hJb && (q=f.QE.uOa(q).Fa()),(q=q || this.NI)?(e.l && this.console.trace(("[").concat(this.mediaType,"] AseTrack: Setting frame duration for movie ").concat(this.R) + (", track ").concat(this.trackId) + (" to ").concat(q.toString()) + (", was ").concat(this.Rs && this.Rs.toString()) + (", manifestFrameDuration ").concat(this.NI)),this.FZa(q || this.NI),void 0 === this.P && this.Iua(q.P)):(e.l && this.console.trace(("[").concat(this.mediaType,"] AseTrack: No frame duration for movie ").concat(this.R) + (", track ").concat(this.trackId) + (", mediaType ").concat(this.mediaType) + (", timescale ").concat(this.P)),e.l && (0,h.assert)(this.P)));};m.prototype.rVa=function(p,r,q){var u,v;if(this.mediaType !== c.v.X && this.mediaType !== c.v.U)return (e.l && this.console.error(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived: unexpected media type"),this.mediaType),!1);if(void 0 !== this.Uma)return !1;if(void 0 === q.nx)return (e.l && this.console.warn(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived: no first frame composition offset")),!1);if(this.mediaType === c.v.U){u=this.Hk;v=this.co;r=new n.I(q.w1 + q.nx,this.Gl).ea(u.Qg(r - v)).ea(this.AX);r.equal(this.Jl) || e.l && this.console.warn(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived: presentation time offset difference"),this.Jl.da(),r.da(),r.ea(this.Jl).da());}e.l && this.console.warn(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived: firstFragmentTimes ").concat(JSON.stringify(q)));this.Uma=q;this.M.rVa(this,p);return !0;};m.prototype.NBc=function(p,r){var q,u,v,w,x;(0,h.assert)(this.mediaType === c.v.X,("Unexpected call to onAudioFirstFragmentsReceived for media type ").concat(this.mediaType));q=this.Uma;u=q.w1;q=q.nx;r=u - r.Vc(this.Gl).aa;p=p.Vc(this.Gl);v=new n.I(r + q,this.Gl).ea(p);w=Math.floor(v.gf(this.Fa));x=v.ea(this.Fa.Qg(w));this.B8=x;e.l && this.console.trace(("[").concat(this.mediaType,"] AseTrack.onAudioFirstFragmentReceived: trackFragmentDecodeTime: "),("").concat(new n.I(u,this.Gl).da()),"adjustedTrackFragmentDecodeTime: ",("").concat(new n.I(r,this.Gl).da()),"firstFrameCompositionOffset",("").concat(new n.I(q,this.Gl).da(),","),("videoPresentationTimeOffset ").concat(p.da(),","),("fragment presentation offset ").concat(v.da(),","),("").concat(w," frames = ").concat(this.Fa.Qg(w).da(),","),("firstFrameTimeOffsetTimestamp ").concat(x.da()));};m.prototype.Jna=function(p){return this.M.Mk() - p.G > 1E3 * this.M.Hi.Wwc?"DVR":"LIVE";};m.prototype.vv=function(p){var r,q,u,v,w,x;q=this.Hk.Vc(null !== (r=this.P) && void 0 !== r?r:this.OD.P);if(this.mediaType === c.v.X){u=this.B8.Vc(this.P);v=this.Fa.Vc(this.Gl);r=Math.ceil(q.Qg(p - this.co).ea(u).gf(v));w=Math.ceil(q.Qg(p - this.co + 1).ea(u).gf(v));x=v.Qg(r).add(u).Vc(this.P);u=v.Qg(w).add(u).Vc(this.P);e.l && this.console.trace("AseStream.getContentTimestampsBySegmentId",("[").concat(this.mediaType,"] ").concat(p,"-").concat(this.co," ") + ("=> frames ").concat(r,"-").concat(w),("offset ").concat(this.B8.da()),("frame ").concat(this.Fa.G," segment ").concat(q.G),("start ").concat(x.G," end ").concat(u.G),("old start ").concat(q.Qg(p - this.co).G),("old end ").concat(q.Qg(p - this.co + 1).G));}else (x=q.Qg(p - this.co),u=x.add(q),e.l && this.console.trace("AseStream.getContentTimestampsBySegmentId",("[").concat(this.mediaType,"] ").concat(p,"-").concat(this.co," =>"),("segment ").concat(q.G),("start ").concat(x.G," end ").concat(u.G)));return {qa:x,xa:u};};return m;})(a(26279).g2);b.u9a=t;},48834:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Tab=void 0;d=a(22970);n=a(91176);c=a(89613);h=a(48170);f=a(11031);t=(function(e){function g(k,l,m){k=e.call(this,k,l,m) || this;k.Ab=l;k.qb=m;k.ob=void 0;k.Fh=k.Ab.Fh;return k;}d.__extends(g,e);Object.defineProperties(g.prototype,{track:{get:function(){return this.Vs;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{eh:{get:function(){return !!this.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Oa:{get:function(){return this.ob;},enumerable:!1,configurable:!0}});g.prototype.p_=function(k,l,m,p,r,q,u,v){h.l && this.qb && this.qb.trace("AseStream.onHeaderReceived");p && void 0 !== p.fu && (this.track.eh || void 0 !== p.Wf && p.Wf.length) && void 0 !== p.offset && void 0 !== p.sizes && p.sizes.length?(this.Fh && this.te && 0 === p.fu && (h.l && this.qb.trace("Applying profile timestamp offset of " + this.te.toString() + " fragments.startTicks " + p.fu + " / " + p.P + " for profile " + this.profile),p.fu+=this.te.Vc(p.P).aa),this.eh?h.l && this.qb.trace("Duplicate header received for stream ",this):(this.ZE=k,this.track.p_(this,l,m,p,q,v),this.ob=new c.Seb(this.Gib,this.track.Nj,p,r,q,u,this.R),this.track.QDb(this))):p?this.qb.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== p.fu) + "," + this.track.eh + "," + this.track.iXa + "," + (void 0 !== p.Wf) + "," + !(!p.Wf || !p.Wf.length) + "," + (void 0 !== p.offset) + "," + (void 0 !== p.sizes) + "," + !(!p.sizes || !p.sizes.length)):this.qb.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};g.prototype.Xnb=function(k){h.l && (0,n.assert)(k instanceof f.f2);h.l && (0,n.assert)(k.Qa === this.Qa);this.eh || (this.track.Ynb(k.track),this.ob=k.Oa,this.ZE=k.yj);};g.prototype.LY=function(k,l,m){return m || this.url;};g.prototype.Lka=function(){var k,l,m,p;return this.ob.Lka(this.Ab.Qx,this.nt,null !== (l=null === (k=this.M) || void 0 === k?void 0:k.dT.G) && void 0 !== l?l:0,null !== (p=null === (m=this.M) || void 0 === m?void 0:m.dT.ma) && void 0 !== p?p:0,this.oBb);};g.prototype.IY=function(k,l){return l;};return g;})(f.f2);b.Tab=t;},1913:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Uab=void 0;d=a(22970);n=a(6198);c=a(82149);h=a(52571);f=a(444);e=a(48170);t=(function(g){function k(l,m,p){l=g.call(this,l,m,p) || this;l.MGa=!1;return l;}d.__extends(k,g);Object.defineProperties(k.prototype,{eh:{get:function(){return this.mediaType === n.v.Ba?!0:!!this.Nj && !!this.dz.value;},enumerable:!1,configurable:!0}});k.prototype.p_=function(l,m,p,r,q,u){e.l && this.console.trace("AseTrack.onHeaderReceived for stream:",l.id);if(r && void 0 !== r.fu && (this.eh || void 0 !== r.Wf && r.Wf.length)){if(l.gk || !l.track.Qo)this.wHa=!0;if(this.eh)!this.MGa && r.Wf && r.Wf.length > this.Nj.length && (e.l && this.console.trace("AseTrack: extending durations from " + ("").concat(this.Nj.length," to ").concat(r.Wf.length)),this.De=new c.sFa(this.mediaType,this.Fa,r,q),this.dz.xIb(),this.UQa=-Infinity,this.MGa=!0);else if((this.JZa(m),this.Thb=u,void 0 !== p && this.mediaType === n.v.U && this.config.hJb && (p=f.QE.uOa(p).Fa()),(p=p || this.NI)?(e.l && this.console.trace(("AseTrack: Setting frame duration for movie ").concat(this.R) + (", track ").concat(this.trackId) + (", mediaType ").concat(this.mediaType) + (" to ").concat(p.toString()) + (", was ").concat(this.Rs && this.Rs.toString()) + (", manifestFrameDuration ").concat(this.NI)),this.FZa(p || this.NI),void 0 === this.P && this.Iua(p.P)):(e.l && this.console.trace(("AseTrack: No frame duration for movie ").concat(this.R) + (", track ").concat(this.trackId) + (", mediaType ").concat(this.mediaType) + (", timescale ").concat(this.P)),e.l && (0,h.assert)(this.P)),this.De=new c.sFa(this.mediaType,this.Fa,r,q),l.gk || !l.track.Qo))this.MGa=!0;}else this.console && this.console.error("AseTrack.onHeaderReceived with missing fragments data");};return k;})(a(26279).g2);b.Uab=t;},24251:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.C3a=void 0;d=a(91176);t=(function(){function n(c){this.config=c;}n.prototype.gHc=function(c){var h,f,e;h=this.config;f=[];e=[];c.forEach(function(p,r){void 0 === p.Mb?e.push(r):f.push(r);});if(0 !== e.length)for(var g=-1,k=-1,l=function(p){var r,q,u,v,w,x;r=e[p];q=c[r];if(0 === p || r !== e[p - 1] + 1)(g=f[(0,d.Hkb)(f,function(y){return y < r;})] || -1,k=f[(0,d.om)(f,function(y){return y > r;})] || -1);u=0;v=h.Hyc;p=0;w=h.Iyc;-1 < k && (v=c[k].bitrate,w=c[k].Mb);-1 < g && (p=c[g].Mb,u=c[g].bitrate);v=Math.log(v);u=0 === u?0:Math.log(u);x=Math.log(q.bitrate);q.Dma=Math.max(0,Math.min(110,Math.round((p * (v - x) + w * (x - u)) / (v - u) * 100) / 100));},m=0;m < e.length;m++)l(m);};return n;})();b.C3a=t;},29092:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.map=b.XRa=b.Yma=b.DNa=b.Bfa=b.AsyncIterator=b.ifa=void 0;d=a(91176);Object.defineProperties(b,{ifa:{enumerable:!0,get:function(){return d.ifa;}}});Object.defineProperties(b,{AsyncIterator:{enumerable:!0,get:function(){return d.AsyncIterator;}}});Object.defineProperties(b,{Bfa:{enumerable:!0,get:function(){return d.Bfa;}}});Object.defineProperties(b,{DNa:{enumerable:!0,get:function(){return d.DNa;}}});Object.defineProperties(b,{Yma:{enumerable:!0,get:function(){return d.Yma;}}});Object.defineProperties(b,{XRa:{enumerable:!0,get:function(){return d.XRa;}}});Object.defineProperties(b,{map:{enumerable:!0,get:function(){return d.map;}}});},89645:function(t,b,a){var c,h,f,e,g,k,l,m;function d(p,r){return p.done?p:{value:{value:p.value,cjb:r}};}function n(p){p.cjb();return {done:!1,value:p.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.rYb=b.cI=void 0;b.d2c=function(p){return (0,f.map)(p,n);};c=a(22970);h=a(66164);t=a(90745);f=a(29092);e=a(48170);g=a(69575);k=a(52571);a=a(85254);l=(function(){function p(r,q){this.console=r;this.xh=q;this.BAc=this.M7=0;this.ai=[];this.console=(0,g.tf)(h.platform,this.console,"QueueIterator:");}Object.defineProperties(p.prototype,{bfc:{get:function(){return this.M7;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{znb:{get:function(){var r,q,u;for(q=0;q < this.ai.length;q++){u=this.ai[q];if(!u.x$ || (null === (r=u.item) || void 0 === r?0:r.done))break;}return q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{count:{get:function(){return this.xh;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{BG:{get:function(){return 0 === this.xh;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{vYa:{get:function(){var r;for(r=0;r < this.ai.length && this.ai[r].ASa;r++);return r;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{head:{get:function(){var r;r=c.__read(this.ai,1)[0];return (r=r && r.item) && !r.done && r.value;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{LUa:{get:function(){var r;for(r=0;r < this.ai.length && this.ai[r].x$;r++);return r;},enumerable:!1,configurable:!0}});p.prototype.HP=function(){var r;if(void 0 === this.xh){r=this.console;e.l && r && r.trace("QueueIterator: enqueueEnd");this.g1a(this.LUa - (this.xh || 0));}};p.prototype.hj=function(){return this.ai.map(function(r){return r.item;});};p.prototype.gea=function(){this.values || (this.values=this.ai.filter(function(r){return (null === r || void 0 === r?void 0:r.item) && !r.item.done;}).map(function(r){return r.item.value;}));return this.values;};p.prototype.g1a=function(r){var q;e.l && this.console.trace("updateCount",{Z8c:this.xh,ex:r});if(void 0 !== this.xh){q=this.ai[this.xh];q && this.NRa(q);}this.xh=void 0 === this.xh?r:void 0 === r?r:this.xh + r;void 0 !== this.xh && (this.xh=Math.max(0,this.xh),(q=this.ai[this.xh]) && q.RQ.resolve({done:!0}));};p.prototype.enqueue=function(r){var q;e.l && this.console.trace("Enqueue called");q=this.LUa;this.$ka();return this.tHc(q,{value:r,done:!1}).Hpb.promise;};p.prototype.wIb=function(){e.l && this.console.trace("resetEnd");this.g1a(void 0);};p.prototype.clear=function(r){var q,u,v;e.l && this.console.trace("clear");this.wXa();q=this.vYa;u=this.ai.length - q;if(0 < u){v={index:q,dVa:u};e.l && this.console.trace("Removing items",v);this.ai.splice(q,u);this.$ka();this.emit("onRemoved",v);}for(u=1;u < q;u++)this.NRa(this.ai[u]);this.xh=void 0;this.g1a(r?r + q:r);this.M7 && (this.M7=0);};p.prototype.getIterator=function(){var r,q;r=this;q=(0,g.tf)(h.platform,this.console,"QueueIteratorInstance::");return new m(this,function(u){return r.Rub(u);},q);};p.prototype.afc=function(){var r;if(0 < this.vYa){r=c.__read(this.ai,1)[0];r.x$ && (e.l && this.console.trace("dequeue",r.id),this.wXa(1),this.emit("onDequeue",r.RQ.promise));}};p.prototype.remove=function(r){var q,u,v;for(q=0;q < this.ai.length;q++){u=this.ai[q];v=u.item;if(v && !v.done && v.value === r){this.ai.splice(q,1);this.xh && this.xh > q && this.xh--;this.$ka();e.l && this.console.trace("removed",{id:u.id});this.emit("onRemoved",{index:q,dVa:1});break;}}};p.prototype.wXa=function(r){var q;r=r || Math.min(this.vYa,this.LUa);if(0 < r){q=this.ai.splice(0,r);this.$ka();this.xh && (this.xh-=r);e.l && this.console.trace("pruned",r);Promise.resolve().then(function(){q.forEach(function(u){u.Hpb.resolve();});});this.emit("onRemoved",{index:0,dVa:r});this.M7+=r;}};p.prototype.Rub=function(r){var q;e.l && this.console.trace("getNextItemCalled",{offset:r});if(void 0 === this.count || 0 < this.count){this.qxb(r);q=this.ai[r];q.YJc.resolve();r=q.RQ.promise;e.l && this.console.trace("getNextItem:return",{id:q.id});}else (e.l && this.console.trace("getNextItem:returnDone"),r=Promise.resolve({done:!0}));return r;};p.prototype.tHc=function(r,q){var u;u=!q.done && q.value;u=u && u.toJSON?u.toJSON():u;e.l && this.console.trace("Providing result",{d5b:r,item:u});this.qxb(r);r=this.ai[r];u=r.RQ.resolve;u(q);return r;};p.prototype.qxb=function(r){var q;if(void 0 === this.ai[r]){q={};this.NRa(q);this.ai[r]=q;r === this.xh && q.RQ.resolve({done:!0});e.l && this.console.trace("Item initialized",{d5b:r});}};p.prototype.CLa=function(r){var q;q={};q.promise=new Promise(function(u,v){q.resolve=function(w){u(w);r && r(w);};q.reject=v;});return q;};p.prototype.NRa=function(r){var q;q=this;r.RQ=this.CLa(function(u){r.item=u;r.x$=!0;e.l && q.console.trace("Item resolved",{id:r.id});});r.id && r.ASa && !r.x$ && (r.RQ.resolve({done:!0}),e.l && this.console.warn("Overwriting requested queue item",r.id));r.Hpb=this.CLa();r.YJc=this.CLa(function(){r.ASa=!0;e.l && q.console.trace("Item requested",{id:r.id});});r.id=this.BAc++;r.ASa=!1;r.x$=!1;r.item=void 0;};p.prototype.$ka=function(){this.values=void 0;};p.prototype.nna=function(){var r,q,u;r=this;q=(0,g.tf)(h.platform,this.console,"QueueIteratorInstance::");u=new m(this,function(v){var w,x;if(0 === r.count)return f.AsyncIterator.lQa();w=r.Rub(v);x=r.ai[0];return w.then(function(y){return d(y,function(){u.dZ || (x === r.ai[0]?r.afc():(0,k.assert)(!r.ai.filter(function(z){return z.RQ.promise === w;}).length,"Out of order acknowledgements are not supported"));});});},q);return u;};return p;})();b.cI=l;(0,a.el)(t.EventEmitter,l);m=(function(p){function r(q,u,v){var w;w=p.call(this,function(){e.l && w.console.trace("Next item requested",{index:w.index});return w.IKc(w.index++);}) || this;w.parent=q;w.IKc=u;w.console=v;w.B0b=!1;w.index=0;w.PGa=!1;w.pL=function(x){var y;y=x.index;x=x.dVa;w.index >= y && (w.index=Math.max(y,w.index - x));y=w.console;e.l && y && y.trace("QueueIteratorInstance: onRemoved modified",w.index);};return w;}c.__extends(r,p);r.prototype.Og=function(){this.console.trace("disposed");this.B0b=!0;this.Ne();p.prototype.Og.call(this);};r.prototype.next=function(){this.dZ || this.MRa();return p.prototype.next.call(this);};r.prototype.cancel=function(){this.Ne();return p.prototype.cancel.call(this);};r.prototype.Ne=function(){this.parent.Om("onRemoved",this.pL);this.PGa=!1;};r.prototype.MRa=function(){this.PGa || (this.PGa=!0,this.parent.on("onRemoved",this.pL));};return r;})(f.AsyncIterator);b.rYb=m;},54923:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Z3a=void 0;d=a(22970);n=a(91176);t=(function(){function c(h,f,e){this.oyc=h;this.oOc=f;this.console=e;this.name="BatchRequestThrottler";this.bJb=new n.deb();this.reset();}c.prototype.process=function(h){return d.__awaiter(this,void 0,void 0,function(){var f;f=this;return d.__generator(this,function(e){switch(e.label){case 0:this.bJb.Auc || (this.vka=n.I.ia);this.bJb.JOc();if(h.done)return [3,3];if(!this.vka.Xf(this.oyc))return [3,2];!1;return [4,new Promise(function(g){return setTimeout(g,f.oOc);})];case 1:(e.T(),e.label=2);case 2:(this.vka=this.vka.add(h.value.value.Vb),e.label=3);case 3:return [2,h];}});});};c.prototype.reset=function(){};c.prototype.wVa=function(){!1;this.vka=n.I.ia;};return c;})();b.Z3a=t;},29358:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.h4a=void 0;d=a(22970);n=a(29092);c=a(48170);h=a(58049);t=(function(){function f(e,g,k){this.qb=e;this.r_b=g;this.cF=k;this.wia=0;this.zpa=!1;this.k6=[];this.iX=void 0;c.l && e.trace(("BranchRequestIterator [").concat(this.cF,"]: created"));}Object.defineProperties(f.prototype,{Sdc:{get:function(){return this.wia;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{wla:{get:function(){return this.chb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Zi:{get:function(){return this.zpa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Zob:{get:function(){return this.So?this.So.BG?"Complete":this.So.sXa?"WaitingForBranch":void 0 !== this.iX?("In Policy ").concat(this.k6[this.iX].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.Hzb);},enumerable:!1,configurable:!0}});f.prototype.next=function(){return d.__awaiter(this,void 0,void 0,function(){var e,g,k,l,m;return d.__generator(this,function(p){var r;switch(p.label){case 0:e=this.So;if(!e)return [3,6];this.iX=void 0;return [4,e.next()];case 1:g=p.T();this.qb.log("BranchRequestIterator:: processing result",!g.done && g.value.value.toString());r=g;k=!r.done && !(0,h.jSa)(r.value.value);l=0;p.label=2;case 2:if(!(l < this.k6.length))return [3,5];this.iX=l;m=this.k6[l];if(!k && !g.done && !m.w8b)return (this.qb.log("BranchRequestIterator::Skipping policy",{name:m.name}),[3,4]);this.qb.log("BranchRequestIterator::Checking policy",{name:m.name});return [4,m.process(g)];case 3:(g=p.T(),this.qb.log("BranchRequestIterator::policy complete",{name:m.name}),p.label=4);case 4:return (l++,[3,2]);case 5:this.iX=void 0;if(g.done || this.So !== e)return [2,{done:!0}];this.wia++;g.value.cjb();return [2,{done:!1,value:g.value.value}];case 6:return [2,n.AsyncIterator.lQa()];}});});};f.prototype.sKc=function(){this.SLb();this.nIc();};f.prototype.SLb=function(){var e;if(this.So){this.Hzb=this.Zob;e=this.So;e && e.Og();this.k6.forEach(function(g){return g.reset();});e && c.l && this.qb.trace(("BranchRequestIterator [").concat(this.cF,"]: Disposing iterator that was on branch "),this.wla && this.wla.K.id);this.zpa=!1;this.iX=this.So=void 0;}};f.prototype.a6=function(e){this.k6.push(e);};f.prototype.nIc=function(){var e,g,k,l;e=this;if(!this.zpa){g=this.qb;k=this.r_b;l=this.cF;this.wia=0;this.Hzb=this.chb=void 0;this.So=(0,n.Yma)((0,n.map)(k.zpc(),function(m){return d.__awaiter(e,void 0,void 0,function(){var p;return d.__generator(this,function(r){switch(r.label){case 0:return (this.chb=m,this.wia=0,c.l && g.trace(("BranchRequestIterator [").concat(this.cF,"]: new branch ").concat(m.K.id)),[4,m.kK(l)]);case 1:if(p=r.T())return [2,{value:p}];c.l && g.error(("BranchRequestIterator [").concat(this.cF,"]: skipping branch ").concat(m.K.id));return [2,{value:[]}];}});});},g),g);this.zpa=!0;}};return f;})();b.h4a=t;},50930:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.S7a=void 0;d=a(78541);n=a(42431);a(65161);c=a(52571);t=(function(){function h(f,e,g,k,l,m,p,r){this.sa=f;this.track=e;this.VOc=g;this.HOc=k;this.config=l;this.console=m;this.events=p;this.JCc=r;this.Vk=0;this.dXa=this.Wj=!1;}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{L:{get:function(){return this.sa.K.id;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Tg:{get:function(){return this.sa.Tg;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ava:{get:function(){return this.VOc();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Zj:{get:function(){return this.ava;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{IH:{get:function(){return this.ava;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{P_a:{get:function(){return this.HOc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{fY:{get:function(){return this.sa.fY;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{sd:{get:function(){return this.Iu || (this.Iu=this.pC());},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Pk:{get:function(){return !this.track.Vaa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{nWa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{up:{get:function(){return this.sa.D9(this.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Nv:{get:function(){return -Infinity;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{vz:{get:function(){return "available";},enumerable:!1,configurable:!0}});h.prototype.Ex=function(){return this.track.Vaa;};h.prototype.Vo=function(){return this.track.eh;};h.prototype.Kf=function(){return !1;};h.prototype.fub=function(){return {Oa:[],ysa:0,Tv:0,i0:0};};h.prototype.CNb=function(){var f;(0,c.assert)(this.Vo());f=this.sd;this.Iu=void 0;return f;};h.prototype.X0a=function(f){return (f=f.qB(this.sa.K,this.sd))?{Lf:f,reason:"success"}:{Lf:f,reason:"pipelineTryIssueHeaderRequest"};};h.prototype.cancel=function(){this.Iu && (this.sa.M.UV(this.mediaType,this.Iu),n.hI.instance.O7(this.Iu),this.Iu.removeAllListeners(),this.Iu=void 0);};h.prototype.pSa=function(){var f,e,g;g=this.config.gs;if(null === (f=this.sd) || void 0 === f?0:f.track)g=null === (e=this.sd) || void 0 === e?void 0:e.track.gs;return g;};h.prototype.EY=function(){return this.sa.Xub(this.mediaType);};h.prototype.pC=function(){var f,e;f=this;e=(0,d.pC)(this.mediaType,this.track.M,this.config,this.console,this.track.Ob,function(g){return f.events.emit("transportReport",g);},function(g){return f.events.emit("mediaRequestComplete",g);},function(){});e.on("created",this.JCc);return e;};return h;})();b.S7a=t;},25813:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.xbb=b.l2=void 0;d=a(22970);n=a(91176);c=a(66164);h=a(65161);t=a(71808);f=a(85254);e=a(89645);g=a(52571);k=a(69575);l=a(3033);m=a(27977);p=a(27259);a=a(58049);(function(q){q[q.vB=0]="CREATED";q[q.m2=1]="CANCELLED";})(r || (b.l2=r={}));a=(function(q){function u(v,w,x,y,z,B){v=q.call(this,w,y,x,n.I.ia,(0,k.tf)(c.platform,v,"AsePadding")) || this;v.M=z;v.config=B;v.ST=new e.cI(v.console);v.rJ=new e.cI(v.console);v.Mm=new n.mo();v.RR=new p.ybb(B).create();v.console.trace(("PaddingBranch {").concat(w.id,"}: created"));return v;}d.__extends(u,q);u.prototype.Wbc=function(v){return d.__awaiter(this,void 0,void 0,function(){var w,x,y,z,B,A,C,D;D=this;return d.__generator(this,function(F){switch(F.label){case 0:return [4,this.yGc()];case 1:return (w=F.T(),x=w.te,y=w.xd,z=w.bitrate,B=w.Qt,A=(0,k.tf)(c.platform,this.console,"[0]"),this.rJ=new e.cI(A),C=l.cN.instance().zda.LGb(this.M,x,y,z,B,v,this.K,this.ytb.bind(this),this.config,A),C.forEach(function(G){return D.rJ.enqueue(G);}),this.rJ.HP(),[2]);}});});};u.prototype.Ddc=function(v){return d.__awaiter(this,void 0,void 0,function(){var w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M;J=this;return d.__generator(this,function(P){switch(P.label){case 0:return [4,this.zGc()];case 1:return (w=P.T(),x=w.profile,y=w.dC,z=w.Qt,B=null === (M=null === (K=null === (L=this.parent) || void 0 === L?void 0:L.Yd(h.v.U)) || void 0 === K?void 0:K.track.Fa) || void 0 === M?void 0:M.SXa(),(0,g.assert)(B,"padding branches should always have a frameRate"),A=(0,k.tf)(c.platform,this.console,"[0]"),C=this.RR.KJb({profile:x,frameRate:B}),D=C.profile,F=C.frameRate,G=l.cN.instance().zda.MGb(this.M,this.M.cUc,D,F,y,z,v,this.K,this.ytb.bind(this),A),E=G.duration,H=G.Oa,this.K.DKb([]),H.forEach(function(I){return J.ST.enqueue(I);}),this.ST.HP(),this.aHa=E,this.M.YP=E.G,[2]);}});});};Object.defineProperties(u.prototype,{Pk:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Wj:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{$J:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{jJ:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Kf:{get:function(){return this.Mm.SL;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{LM:{get:function(){return this.Mm.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{twa:{get:function(){return Promise.resolve();},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Hm:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{P:{get:function(){return this.rR.P;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{tb:{get:function(){return this.K.kb.Vc(this.P).aa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ib:{get:function(){return this.tb + this.rR.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{op:{get:function(){return this.de.Vc(this.P).aa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{AG:{get:function(){return this.K.kb.add(this.de);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{fY:{get:function(){(0,g.assert)(!this.K.Cl,"exit zone not supported for padding segments");return n.I.ia;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{GO:{get:function(){return this.rJ && this.ST?this.rJ.BG && this.ST.BG:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{YIa:{get:function(){return !(!this.rJ && !this.ST);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Wv:{get:function(){return this.K.kb.add(this.de);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{eS:{get:function(){return this.K.Rb.add(this.de);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Opa:{get:function(){return this.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Zj:{get:function(){return this.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{de:{get:function(){return this.MB;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{rR:{get:function(){return this.aHa || this.K.Rb.ea(this.K.kb);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{wy:{get:function(){return n.I.ia;},enumerable:!1,configurable:!0}});u.prototype.Sb=function(){return d.__awaiter(this,void 0,void 0,function(){var v;return d.__generator(this,function(w){switch(w.label){case 0:return [4,q.prototype.Sb.call(this)];case 1:(w.T(),w.label=2);case 2:return (w.tc.push([2,6,,7]),this.parent?[4,this.parent.LM]:[3,4]);case 3:(w.T(),w.label=4);case 4:return (this.console.trace(("PaddingBranch {").concat(this.K.id,"}: init")),this.aHa=this.K.Rb.ea(this.K.kb),[4,this.Iob([h.v.X,h.v.U])]);case 5:return (w.T(),this.Mm.resolve(),[3,7]);case 6:v=w.T();if(!this.Rc)throw v;return [3,7];case 7:return [2];}});});};u.prototype.kK=function(v){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.K.id,"}: getRequestIterator(").concat(v,")"));return v === h.v.X?[2,this.rJ.nna()]:v === h.v.U?[2,this.ST.nna()]:[2,this.Uub(v)];});});};u.prototype.reset=function(){};u.prototype.mg=function(v){void 0 === v && (v="other");q.prototype.mg.call(this,v);this.$a=r.m2;this.aHa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:v});this.events.removeAllListeners();};u.prototype.cZ=function(){return !0;};u.prototype.Yd=function(){};u.prototype.roa=function(v){return [h.v.X,h.v.U].some(function(w){return w === v;});};u.prototype.px=function(){return [];};u.prototype.dk=function(v){var w;return null === (w=this.parent) || void 0 === w?void 0:w.dk(v);};u.prototype.Lna=function(){return [];};u.prototype.qG=function(){};u.prototype.In=function(){return this.rR.G;};u.prototype.gQ=function(){return {};};u.prototype.uY=function(){return this.K.Rb.G;};u.prototype.oy=function(v,w,x,y){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(z){switch(z.label){case 0:return [4,this.Mm.promise];case 1:return (z.T(),this.parent?[4,this.parent.LM]:[3,3]);case 2:(z.T(),z.label=3);case 3:return [4,this.Iob(y)];case 4:return (z.T(),[2]);}});});};u.prototype.Iob=function(v){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(w){switch(w.label){case 0:if(-1 === v.indexOf(h.v.U))return [3,2];this.ST.clear();return [4,this.Ddc(this.rR)];case 1:(w.T(),w.label=2);case 2:if(-1 === v.indexOf(h.v.X))return [3,4];this.rJ.clear();this.console.trace(("AsePaddingBranch {").concat(this.K.id,"}: video duration ").concat(this.rR.da()));return [4,this.Wbc(this.rR)];case 3:(w.T(),w.label=4);case 4:return [2];}});});};u.prototype.Ap=function(){return [];};u.prototype.UW=function(v){var w,x;return !!((null === (w=this.Lb) || void 0 === w?0:w.greaterThan(v)) && (null === (x=this.Qb) || void 0 === x?0:x.lessThan(v)));};u.prototype.vna=function(){return this.rR;};u.prototype.Ova=function(){return !1;};u.prototype.toJSON=function(){var v,w;return {segment:this.K.id,viewableId:this.XB.J,contentStartPts:null === (v=this.qa) || void 0 === v?void 0:v.G,contentEndPts:null === (w=this.xa) || void 0 === w?void 0:w.G};};u.prototype.zGc=function(){return d.__awaiter(this,void 0,void 0,function(){var v,w,x,y,z,B,A,C,D,F,G;return d.__generator(this,function(E){switch(E.label){case 0:return (v=null === (B=null === (z=this.parent) || void 0 === z?void 0:z.Yd(h.v.U)) || void 0 === B?void 0:B.eo.Qk)?[3,2]:[4,null === (C=null === (A=this.parent) || void 0 === A?void 0:A.Yd(h.v.U)) || void 0 === C?void 0:C.eo.LPb];case 1:E.T();if(this.Rc)return [2,Promise.reject()];E.label=2;case 2:return (v=null === (F=null === (D=this.parent) || void 0 === D?void 0:D.Yd(h.v.U)) || void 0 === F?void 0:F.eo.Qk,(0,g.assert)(v,"Parent of padding branch must have last selected video stream"),w=null === (G=v.track.Zn) || void 0 === G?void 0:G.dC,x=v.track.Qt,y=v.xe,[2,{profile:y,dC:w,Qt:x}]);}});});};u.prototype.yGc=function(){return d.__awaiter(this,void 0,void 0,function(){var v,w,x,y,z,B,A,C,D,F,G;return d.__generator(this,function(E){switch(E.label){case 0:return (v=null === (A=null === (B=this.parent) || void 0 === B?void 0:B.Yd(h.v.X)) || void 0 === A?void 0:A.eo.Qk)?[3,2]:[4,null === (D=null === (C=this.parent) || void 0 === C?void 0:C.Yd(h.v.X)) || void 0 === D?void 0:D.eo.LPb];case 1:E.T();if(this.Rc)return [2,Promise.reject()];E.label=2;case 2:return (v=null === (G=null === (F=this.parent) || void 0 === F?void 0:F.Yd(h.v.X)) || void 0 === G?void 0:G.eo.Qk,(0,g.assert)(v,"Parent of padding branch must have last selected audio stream"),w=v.te || n.I.ia,x=(0,m.Itb)(v.profile),y=v.bitrate,z=v.track.Qt,[2,{te:w,xd:x,bitrate:y,Qt:z}]);}});});};u.prototype.ytb=function(v,w){return this.MB.add(w).Vc(v).aa;};u.prototype.tQ=function(){return [];};u.prototype.nvb=function(){return Infinity;};u.prototype.aoa=function(){return Infinity;};u.prototype.CF=function(){return {XR:!0,reason:void 0};};return u;})(a.Kxa);b.xbb=a;(0,f.el)(t.Gy,a);},58049:function(t,b,a){var n,c,h,f,e,g,k,l,m,p;function d(r){return r === g.v.U?0:r === g.v.X?1:r === g.v.Ba?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.Kxa=b.l2=b.$Vb=b.RT=void 0;b.jSa=function(r){return "mediaTypeNotAvailable" === r.type;};n=a(22970);c=a(90745);h=a(66164);f=a(89645);e=a(48170);g=a(65161);k=a(69575);l=a(68825);b.RT=function(r,q){r=d(r.mediaType);q=d(q.mediaType);return r - q;};b.$Vb={RT:b.RT};(function(r){r[r.vB=0]="CREATED";r[r.m2=1]="CANCELLED";})(m || (b.l2=m={}));p=0;t=(function(){function r(q,u,v,w,x){this.XB=q;this.getParent=u;this.MB=v;this.oq=w;this.$a=m.vB;this.QV=[];this.Ewb=!1;this.Aia=new Map();this.events=new c.EventEmitter();u=q.id && q.id.length?"{" + q.id + "}":"";this.console=(0,k.tf)(h.platform,x,u);this.Rgb=q.id + "-" + p++;e.l && this.console.debug(("BranchBase created with id ").concat(this.Rgb));this.G_=new l.Abb(this);}Object.defineProperties(r.prototype,{state:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Rc:{get:function(){return this.$a === m.m2;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{K:{get:function(){return this.XB;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{ka:{get:function(){return this.QV;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{parent:{get:function(){var q;return null === (q=this.getParent) || void 0 === q?void 0:q.call(this,this);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{tW:{get:function(){return this.Rgb;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{VK:{get:function(){return this.O0b;},enumerable:!1,configurable:!0}});r.prototype.Wra=function(){var q;this.G_.Wra();if(null === (q=this.parent) || void 0 === q?0:q.Lb)(q=this.parent.Lb.ea(this.oq),this.xy(q,"on parent normalization"));};r.prototype.Sb=function(){var q;if(this.parent){if(this.parent.Lb){q=this.parent.Lb.ea(this.oq);this.xy(q,"at intialization");}this.Lsc();this.Gsc();}e.l && this.console.trace(("BranchBase {").concat(this.K.id,"}: Initialization complete"));};r.prototype.Lsc=function(){n.__awaiter(this,void 0,void 0,function(){var q,u;return n.__generator(this,function(v){switch(v.label){case 0:return (q=this.G_,[4,q.swa()]);case 1:v.T();e.l && this.console.trace(("Branch {").concat(this.K.id,"}: waitForParent Viewable Complete"));if(this.Rc || !this.parent)return [2];this.O0b=(null === (u=this.parent) || void 0 === u?0:u.M.Rr)?this.parent.de:this.parent.VK;return [2];}});});};r.prototype.Gsc=function(){n.__awaiter(this,void 0,void 0,function(){var q,u;return n.__generator(this,function(v){switch(v.label){case 0:return (q=this.G_,e.l && this.console.trace(("Branch {").concat(this.K.id,"}: waitForParent Normalization Started")),[4,q.swa()]);case 1:v.T();e.l && this.console.trace(("Branch {").concat(this.K.id,"}: waitForParent Normalization Complete"));if(this.Rc || !this.parent)return [2];this.parent.Lb && (u=this.parent.Lb.ea(this.oq),this.xy(u,"on parent normalization"));return [2];}});});};r.prototype.update=function(q){this.XB=q;};r.prototype.xy=function(q,u){void 0 === u && (u="unknown");e.l && this.console.log(("AseBranch adjusting branchOffset to ").concat(q.da()) + (" from ").concat(this.de.da()," ").concat(u));this.MB=q;};r.prototype.Xub=function(q){var v;if(!this.Rc)for(var u=this.parent;u;){v=u.qG(q);if(v)return v;u=u.parent;}};r.prototype.mg=function(){this.getParent=void 0;this.G_.Wra();};r.prototype.roa=function(q){return this.ka.some(function(u){return u.mediaType === q;});};r.prototype.Uub=function(q){var u;if(!this.Aia.has(q)){u=new f.cI(this.console,1);u.enqueue({sa:this,K:this.K,type:"mediaTypeNotAvailable"});this.Aia.set(q,u);}return this.Aia.get(q).nna();};r.prototype.vIb=function(q){var u;u=this;q.forEach(function(v){u.Aia.delete(v);});};return r;})();b.Kxa=t;},70842:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.V$b=function(h){var f,e,g,k,l,m,p,r,q,u,v,w;f=h.config;e=h.console;g=h.OWa;k=h.K;l=h.events;m=h.bM;p=h.oq;r=h.de;q=h.iq;u=h.ee;v=h.Zc;w=h.tB;h=h.kj;k.J === d.Xq && f.vC?(l=new n.zbb(k.J,f.msa),f=new (a(25813).xbb)(e,k,r,g.Sna.bind(g),l,f)):f=new c.f4a(f,e,l,k,m,p,r,q,g.Sna.bind(g),u,v,w,h);return f;};d=a(79048);n=a(10943);c=a(1552);},46498:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Fmb=b.i4a=void 0;d=a(22970);t=(function(){function c(h){var f;f=h.Yzb;f=void 0 === f?n:f;this.sa=h.sa;this.Yzb=f;}c.prototype.CF=function(h){var f,k,l;try{for(var e=d.__values(this.Yzb),g=e.next();!g.done;g=e.next()){k=g.value;l=k(this.sa,h);if(l)return {XR:!1,reason:l};}}catch(p){var m;m={error:p};}finally{try{g && !g.done && (f=e.return) && f.call(e);}finally{if(m)throw m.error;}}return {XR:!0,reason:void 0};};return c;})();b.i4a=t;b.Fmb=function(c,h){h=c.In(h);c=c.aoa();if(h >= c)return "targetBufferDurationLimit";};n=[b.Fmb];},1552:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G;Object.defineProperties(b,{__esModule:{value:!0}});b.f4a=b.l2=void 0;d=a(22970);n=a(91176);c=a(91176);h=a(79048);f=a(66164);e=a(6200);g=a(42431);k=a(65161);t=a(71808);l=a(52571);m=a(19595);p=a(32412);r=a(48170);q=a(78541);u=a(42556);v=a(7559);w=a(85254);x=a(97757);y=a(62442);z=a(42193);B=a(50930);A=a(58049);C=a(18447);D=a(20717);F=a(46498);(function(E){E[E.vB=0]="CREATED";E[E.m2=1]="CANCELLED";})(G || (b.l2=G={}));a=(function(E){function H(J,L,K,M,P,I,O,Q,S,U,W,Y,X){var Z;Z=E.call(this,M,S,O,I,L) || this;Z.config=J;Z.$R=K;Z.mub=P;Z.iq=Q;Z.ee=U;Z.Zc=W;Z.tB=Y;Z.Y1a=X;Z.xG=new p.SU();Z.qYa=0;Z.Kd=void 0;Z.LH=void 0;Z.O6b=new F.i4a({sa:Z});Z.nqa=void 0;Z.Bm=void 0;Z.Mm=new c.mo();Z.Mm.then(function(){r.l && Z.console.log("AseBranch normalized promise callback",Z.tW);});Z.Qoa=new c.mo();Z.uVa=Z.Nsc();Z.fMb=[];return Z;}d.__extends(H,E);H.prototype.D9=function(J){return this.hda()?this.fvc:this.fMb[J];};Object.defineProperties(H.prototype,{ka:{get:function(){var J;this.Hm && 0 === (null === (J=this.QV) || void 0 === J?void 0:J.length) && this.mub && (r.l && this.console.trace("Branch getting initial tracks"),this.QV=this.mub(this.M).sort(A.RT),r.l && this.console.trace("Branch got initial tracks:",this.QV));return this.QV;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{GO:{get:function(){return this.Wj?this.px().every(function(J){return J.ue.GO;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{YIa:{get:function(){return this.px().some(function(J){return J.E4b;});},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{$J:{get:function(){return this.px().every(function(J){return J.$J;});},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Pk:{get:function(){var J;return !(null === (J=this.Ad) || void 0 === J || !J.Pk);},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Wj:{get:function(){var J;return !(null === (J=this.Ad) || void 0 === J || !J.Wj);},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{jJ:{get:function(){var J,L;return null !== (L=null === (J=this.Ad) || void 0 === J?void 0:J.jJ) && void 0 !== L?L:0;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Kf:{get:function(){var J;return !(null === (J=this.Ad) || void 0 === J || !J.Kf);},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{LM:{get:function(){return this.Mm.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{twa:{get:function(){return this.tB.Qq.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Hm:{get:function(){var J;return !(null === (J=this.tB) || void 0 === J || !J.M);},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{qoa:{get:function(){return !!this.ka.length && this.ka.every(function(J){return J.eh;});},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{M:{get:function(){(0,l.assert)(this.tB.M,"viewable should be available");return this.tB.M;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{P:{get:function(){var J;return (null === (J=this.Ad) || void 0 === J?void 0:J.P) || this.oq.P;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{tb:{get:function(){var J,L;return null !== (L=null === (J=this.Ad) || void 0 === J?void 0:J.tb) && void 0 !== L?L:this.oq.aa;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Ib:{get:function(){var J,L;return null !== (L=null === (J=this.Ad) || void 0 === J?void 0:J.Ib) && void 0 !== L?L:this.K.Rb.Vc(this.oq.P).aa;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{op:{get:function(){var J,L;return null !== (L=null === (J=this.Ad) || void 0 === J?void 0:J.op) && void 0 !== L?L:this.de.Vc(this.P).aa;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{AG:{get:function(){var J,L;return (null === (J=this.Ad) || void 0 === J?void 0:J.AG) || (null === (L=this.oq) || void 0 === L?void 0:L.add(this.de));},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{fY:{get:function(){var J,L;L=null === (J=this.K.Cl) || void 0 === J?void 0:J[0];return L && this.qa?n.I.Ca(Math.max(0,L[0] - this.qa.G - this.K.kb.G)):n.I.ia;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Wv:{get:function(){var J;return (null === (J=this.Ad) || void 0 === J?void 0:J.Wv) || this.K.kb.add(this.de);},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{eS:{get:function(){var J;return (null === (J=this.Ad) || void 0 === J?void 0:J.eS) || this.K.Rb.add(this.de);},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Opa:{get:function(){var J;return null === (J=this.Ad) || void 0 === J?void 0:J.Opa;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{de:{get:function(){var J;return (null === (J=this.Ad) || void 0 === J?void 0:J.de) || this.MB;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{wy:{get:function(){var J,L;L=null === (J=this.Ad) || void 0 === J?void 0:J.wy;return (null === L || void 0 === L?0:L.isFinite())?L:this.K.Rb.ea(this.oq || this.K.kb);},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Zj:{get:function(){var J;return null === (J=this.Ad) || void 0 === J?void 0:J.Zj;},enumerable:!1,configurable:!0}});H.prototype.Sb=function(){return d.__awaiter(this,void 0,void 0,function(){var J,L,K;K=this;return d.__generator(this,function(M){switch(M.label){case 0:E.prototype.Sb.call(this);if(this.Rc)return [2];r.l && this.console.log(("AseBranch {").concat(this.K.id,"} awaiting viewable"));return [4,this.tB.Sb(this,function(){return d.__awaiter(K,void 0,void 0,function(){var P;return d.__generator(this,function(I){switch(I.label){case 0:return (r.l && this.console.trace(("Branch {").concat(this.K.id,"}: Waiting for randomization")),[4,this.sUc()]);case 1:P=I.T();r.l && this.console.trace(("Branch {").concat(this.K.id,"}: Randomization complete"));if(!this.Rc)return [3,3];r.l && this.console.trace(("Branch {").concat(this.K.id,"}: Cancelled"));return [4,new Promise(function(){})];case 2:(I.T(),I.label=3);case 3:return [2,P];}});});})];case 1:M.T();r.l && this.console.log(("AseBranch {").concat(this.K.id,"} viewable available, branch ").concat(this.Rc?"cancelled":"active"));if(this.Rc)return [2];(0,l.assert)(this.tB.M,"viewable should be available");this.tB.M.i_a() && (this.config=this.tB.M.config);J=this.ka.map(function(P){var I;return null === (I=K.parent) || void 0 === I?void 0:I.dk(P.mediaType);});this.rKb(this.oq);this.ka.some(function(P){P.mediaType === k.v.Ba && K.IKb(P);});return [4,this.Vrb()];case 2:M.T();r.l && this.console.log(("AseBranch {").concat(this.K.id,"} have headers"));if(this.Rc)return [2];if(!this.parent)return [3,4];L=this.G_;return [4,L.swa()];case 3:M.T();if(this.Rc)return [2];r.l && this.console.log(("AseBranch {").concat(this.K.id,"} parent normalized, creating header streamables"));this.zcc(J);M.label=4;case 4:return (this.normalize(),[2]);}});});};H.prototype.sUc=function(){return d.__awaiter(this,void 0,void 0,function(){var J,L,K,M,P,I,O,Q,S,U,W,Y;Y=this;return d.__generator(this,function(X){switch(X.label){case 0:if(!this.parent)return (r.l && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - no - parent")),[2]);if(this.Rc)return (r.l && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - cancelled")),[2]);if(!this.config.vhc)return (r.l && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - live manifest throttling disabled")),[2]);J=this.G_;return [4,J.uUc()];case 1:X.T();if(!this.parent)return (r.l && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - no parent")),[2]);L=this.parent.M.lk || this.parent.M;if(!L || !L.Rr || !L.Yc)return (r.l && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - parent checks failed"),{root:L.J,Rr:L.Rr,Qd:!!L.Yc}),[2]);this.console.info(("Branch {").concat(this.K.id,"}: Waiting for parent normalization"));return [4,J.swa()];case 2:X.T();r.l && this.console.trace(("Branch {").concat(this.K.id,"}: Completed parent viewable"));if(!this.parent)return (r.l && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - no parent")),[2]);if(this.Rc)return (r.l && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - cancelled")),[2]);if(!this.VK)return (r.l && this.console.info(("Branch {").concat(this.K.id,"}: Live branch offset missing"),{root:L.J,Rr:L.Rr,Qd:!!L.Yc,VK:this.VK}),[2]);K=L.Yc;M=this.Qb.ea(this.VK);if(!M.isFinite())return [3,4];P=(0,y.Zlb)(M,K,this.config);I=P.OOc;O=P.AFb;Q=P.YAb;S=P.EUc;U=P.delay;W=P.TD;r.l && this.console.info(("AseBranch {").concat(this.K.id,"} ad start availability time: ").concat(I),(", window start availability time: ").concat(S),(", manifest request time: ").concat(Q),(", platform manifest request time: ").concat(O),{La:this.Y1a.La.currentTime,uZ:this.config.uZ,pTa:this.config.pTa,delay:U,YAb:Q,Y$c:M.da(),y9c:this.Qb.da(),r7c:this.VK.da()});return O > f.platform.time.ha()?[4,new Promise(function(Z){Y.nqa=Y.Y1a.pt(n.Vd.Rl(n.I.Ca(O)),Z,"liveAdManifestWindow");})]:[3,4];case 3:return (X.T(),r.l && this.console.info(("AseBranch {").concat(this.K.id,"} completed"),{La:this.Y1a.La.currentTime}),[2,{Uea:this.config.uZ,JO:S,i1:U,iB:S + U,TD:W}]);case 4:return [2];}});});};H.prototype.normalize=function(){r.l && this.console.log(("AseBranch {").concat(this.K.id,"} normalizing"));this.Rc || (this.Ad=new (this.M.Ob?C.yga:D.Vab)(this,this.config,this.console,this.M,this.$R,this.XB,this.oq,this.xG.items,this.MB,this.iq,this.ee,this.events,this.Zc),this.SMa(this.Ad.nP),r.l && this.console.log(("AseBranch {").concat(this.K.id,"} normalizing - setting normalized branch")),this.Mm.resolve(this.Ad),this.events.emit("needsRequest"));};H.prototype.zcc=function(J){var L;L=this;this.xG.forEach(function(K){var M,P,I;I=null === (M=L.parent) || void 0 === M?void 0:M.dk(K.mediaType);(0,l.assert)(K.mediaType === k.v.Ba || I,"Parent state should be defined");-1 === (null === J || void 0 === J?void 0:J.indexOf(I)) && (null === (P=L.D9(K.mediaType).dk(K.mediaType)) || void 0 === P?void 0:P.Ka(),M=new m.G4(function(){var O;return null === (O=L.parent) || void 0 === O?void 0:O.dk(K.mediaType);}),L.D9(K.mediaType).GKb(M));I=void 0;});J=void 0;};H.prototype.Vrb=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){this.qoa?this.Qoa.resolve():(this.M.events.on("onHeaderFragments",this.uVa),this.events.emit("needsRequest"));return [2,this.Qoa.promise];});});};H.prototype.Nsc=function(){var J;J=this;return function(){!J.Rc && J.qoa && (J.M.events.Om("onHeaderFragments",J.uVa),J.Qoa.resolve());};};H.prototype.OL=function(){var J;null === (J=this.Ad) || void 0 === J?void 0:J.OL();};H.prototype.update=function(J){var L;E.prototype.update.call(this,J);this.Hm && (null === (L=this.Ad) || void 0 === L?0:L.update(J)) && this.SMa(!0);};H.prototype.xy=function(J,L){var K;void 0 === L && (L="unknown");E.prototype.xy.call(this,J,L);null === (K=this.Ad) || void 0 === K?void 0:K.xy(J);};H.prototype.kK=function(J){return d.__awaiter(this,void 0,void 0,function(){var L,K;return d.__generator(this,function(M){switch(M.label){case 0:return [4,this.Mm];case 1:return (L=M.T(),[4,null === L || void 0 === L?void 0:L.kK(J)]);case 2:return (K=M.T(),[2,K || this.Uub(J)]);}});});};H.prototype.reset=function(){var J;null === (J=this.Ad) || void 0 === J?void 0:J.reset();};H.prototype.mg=function(J){var L,K;void 0 === J && (J="other");E.prototype.mg.call(this,J);this.$a=G.m2;if(this.Hm){K=this.M;this.M.events.Om("onHeaderFragments",this.uVa);}null === (L=this.Ad) || void 0 === L?void 0:L.mg(J);this.xG.forEach(function(M){M.cancel();M.up.dk(M.mediaType).Ka();});this.tB.Ka();this.nqa && (this.nqa.Ka(),this.nqa=void 0);this.LH && (this.LH.removeAllListeners(),r.l && this.console.trace("AseBranch destroying textRequestQueue:",this.LH),g.hI.instance.O7(this.LH),this.LH=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:J,M:K});this.events.removeAllListeners();};H.prototype.cZ=function(J){var L;return !(null === (L=this.Ad) || void 0 === L || !L.cZ(J));};H.prototype.Yd=function(J){var L;return null === (L=this.Ad) || void 0 === L?void 0:L.Yd(J);};H.prototype.roa=function(J){return this.ka.some(function(L){return L.mediaType === J;});};H.prototype.px=function(J){var L;void 0 === J && (J=A.RT);return (null === (L=this.Ad) || void 0 === L?void 0:L.px(J)) || [];};H.prototype.dk=function(J){var L;return null === (L=this.D9(J)) || void 0 === L?void 0:L.dk(J);};H.prototype.Lna=function(){var J,L;if(!this.qoa)return this.xG.items;L=(null === (J=this.Ad) || void 0 === J?void 0:J.Lna()) || [];r.l && this.console.trace("getMediaStreamables returning:",L);return L;};H.prototype.qG=function(J){var L;return (null === (L=this.Ad) || void 0 === L?void 0:L.qG(J)) || this.xG.get(J);};H.prototype.In=function(J,L){var K;return (null === (K=this.Ad) || void 0 === K?void 0:K.In(J,L)) || 0;};H.prototype.gQ=function(){var J;return (null === (J=this.Ad) || void 0 === J?void 0:J.gQ()) || ({});};H.prototype.uY=function(J){var L;return (null === (L=this.Ad) || void 0 === L?void 0:L.uY(J)) || this.AG.G;};H.prototype.oy=function(J,L,K,M){return d.__awaiter(this,void 0,void 0,function(){var P,I,O,Q,S;S=this;return d.__generator(this,function(U){switch(U.label){case 0:r.l && this.console.trace("Branch.setTracks:",J);this.QV=J.sort(A.RT);this.rKb(L);if(!this.Kf)return [3,4];(0,l.assert)(this.Ad);P=this.xG.filter(function(W){return W.track.eh;}).items;I=this.Ad.COb(P,L,K,M);O=I.Xla;Q=I.nP;O && this.SMa(Q);if(this.qoa)return [3,4];this.Qoa=new c.mo();this.Mm=new c.mo();r.l && this.console.log(("AseBranch {").concat(this.K.id,"} setTracks waiting for headers"));return [4,this.Vrb()];case 1:return (U.T(),this.Rc?[2]:this.parent?[4,this.parent.LM]:[3,3]);case 2:(U.T(),U.label=3);case 3:(this.Ad.COb(this.xG.items,L,K,[]),r.l && this.console.log(("AseBranch {").concat(this.K.id,"} setTracks pipelines updated")),this.Mm.resolve(this.Ad),this.events.emit("needsRequest"),U.label=4);case 4:return (J.some(function(W){if(W.mediaType === k.v.Ba)return (S.IKb(W),!0);}),this.vIb(M),[2]);}});});};H.prototype.IKb=function(J){var L;L=this;this.Kd=J;this.LH || (this.LH=(0,q.pC)(k.v.Ba,this.M,this.config,this.console,!0,function(K){return L.$R.emit("transportReport",K);},function(K){return L.$R.emit("mediaRequestComplete",K);},function(){}),r.l && this.console.trace("AseBranch created textRequestQueue:",this.LH));this.vIb([k.v.Ba]);};H.prototype.pcc=function(){var J,L;J=this.wQ(k.v.X);L=this.wQ(k.v.U);this.Bm=new z.s6a(this.M.Sc,this.console,J,L,this.config);};H.prototype.Gcc=function(J){var L,K,M,P,I,O;L=this;J=J.track.Ob?this.config.Y$:this.config.mva;K=this.wQ(k.v.X);M=this.wQ(k.v.U);P=this.$Kb(k.v.U);I=new m.G4(function(){var Q;return null === (Q=L.parent) || void 0 === Q?void 0:Q.dk(k.v.X);});O=new m.G4(function(){var Q;return null === (Q=L.parent) || void 0 === Q?void 0:Q.dk(k.v.U);});K && I.$Za(K);M && O.$Za(M);this.fvc=new u.I3(J,this.config,I,O,P);};H.prototype.rdc=function(J){this.hda()?this.Gcc(J):this.Jcc(J);this.config.eR && void 0 === this.Bm && this.pcc();};H.prototype.Jcc=function(J){var L,K,M;L=this;K=J.mediaType === k.v.X?this.config.S5b:J.track.Ob?this.config.Y$:this.config.mva;M=new m.G4(function(){var P;return null === (P=L.parent) || void 0 === P?void 0:P.dk(J.track.mediaType);});M.$Za(J.track);K=new u.H4(K,this.config,M,this.$Kb(J.mediaType));this.fMb[J.mediaType]=K;};H.prototype.rKb=function(J){var L;L=this.M.Ob?this.ka:this.ka.filter(function(K){return K.mediaType !== k.v.Ba;});this.FMc(J,L);};H.prototype.FMc=function(J,L){var K,M,P;K=this;M=this.qYa=0;L=L.map(function(I){var O;O=K.xG.find(function(Q){return Q.track === I;});O || (++K.qYa,O=new B.S7a(K,I,function(){return (null === J || void 0 === J?void 0:J.add(K.de)) || n.I.ia;},J || n.I.ia,K.config,K.console,K.$R,function(){0 === --K.qYa && K.events.emit("requestQueuesCreated");}),K.hda() && 0 < M || (K.rdc(O),M++));return O;});this.xG=new p.SU(L);L=this.M.pW;P=this.Awb();P?this.M.pW=L | e.SFa.jZb:void 0 !== P && (this.M.pW=L | e.SFa.qWb);};H.prototype.Ap=function(J){var L;return (null === (L=this.Ad) || void 0 === L?void 0:L.Ap(J)) || [];};H.prototype.UW=function(J){var L;return !(null === (L=this.Ad) || void 0 === L || !L.UW(J));};H.prototype.vna=function(J){return this.Ad?this.Ad.vna(J):n.I.ia;};H.prototype.Ova=function(J){var L;return !(null === (L=this.Ad) || void 0 === L || !L.Ova(J));};H.prototype.IT=function(J){(0,l.assert)(this.M.Ob,"updateFragmentTimes called on non-live Branch");(0,l.assert)(this.Ad,"updateFragmentTimes called before Branch is normalized");(0,l.assert)(J.mediaType === k.v.X,"updateFragmentTimes called with non-audio track");this.Ad.IT(J);};H.prototype.nvb=function(){return this.Ad instanceof C.yga?this.Ad.mvb():Infinity;};H.prototype.aoa=function(){return this.Ad instanceof C.yga?this.Ad.Wpc():Infinity;};H.prototype.CF=function(J){return this.O6b.CF(J);};H.prototype.SMa=function(J){J={type:"branchNormalized",segmentContentStart:this.K.kb,branchContentStart:this.qa,branchContentEnd:this.xa,didNormalizeSegment:J};this.events.emit(J.type,J);r.l && this.console.trace("branchNormalized:",J);};H.prototype.wQ=function(J){var L;L=this.ka.filter(function(K){return K.mediaType === J;});return 0 < L.length?L[0]:void 0;};H.prototype.tQ=function(J){var L;return (null === (L=this.wQ(J)) || void 0 === L?void 0:L.Bd) || [];};H.prototype.toJSON=function(){var J;return (null === (J=this.Ad) || void 0 === J?void 0:J.toJSON()) || ({});};H.prototype.hda=function(){return this.config.I$ && !this.M.Ob;};Object.defineProperties(H.prototype,{axb:{get:function(){return void 0 !== this.M.cqa;},enumerable:!1,configurable:!0}});Object.defineProperties(H.prototype,{Cv:{get:function(){return this.K.type === h.Dd.Nc;},enumerable:!1,configurable:!0}});H.prototype.$Kb=function(J){return !this.config.Hhc && this.Awb()?!1:this.Cv?this.axb?this.M.Rr?this.config.Nqb:this.config.ehc:this.config.fhc:!this.config.Nqb && this.M.Ob?!1:this.config.qma || J === k.v.X && this.config.oma || J === k.v.U && this.config.SJ || this.config.WMa;};H.prototype.Awb=function(){var J,L;L=(null === (J=this.tQ(k.v.X)[0]) || void 0 === J?void 0:J.profile) || void 0;return L?(0,v.Vxb)(L,this.config):void 0;};return H=d.__decorate([x.oY],H);})(A.Kxa);b.f4a=a;(0,w.el)(t.Gy,a);},18447:function(t,b,a){var n,c,h,f,e,g,k,l,m;function d(p){return Math.min(p.cL,Math.max(p.Uk,p.lGc - p.dR * p.f6b));}Object.defineProperties(b,{__esModule:{value:!0}});b.yga=void 0;b.F2c=d;n=a(22970);c=a(91176);h=a(26388);f=a(48170);e=a(32412);g=a(95324);t=a(71808);k=a(85254);l=a(98561);m=a(8149);a=(function(p){function r(){return null !== p && p.apply(this,arguments) || this;}n.__extends(r,p);r.prototype.zLa=function(q,u,v){var w,x;w=this;f.l && this.console.trace("LiveNormalizedBranch.createPipelines");x=new e.SU();q.forEach(function(y){var z;z=w.Je.find(function(B){return B.track === y.track;});void 0 === z?((0,c.assert)((0,m.Xo)(y.track),"live normalized branch expected live track"),z=new g.zga(w,w.config,w.console,w.$R,w.sa,y.track,u,w.Zc,y.CNb()),w.Uoa(z)):z.VV();x.add(z);});this.fNb=!this.config.Fda;return this.Lxb(x,u,v);};r.prototype.Uoa=function(q){var u;u=this;q.events.on("liveMissingSegment",function(v){return u.events.emit("liveMissingSegment",v) && u.iba();});p.prototype.Uoa.call(this,q);};r.prototype.normalize=function(q,u){var v;null === (v=this.JA) || void 0 === v?void 0:v.Ne();this.JA=new l.B9a({console:this.console,config:this.config,M:this.M,K:this.K,Je:this.Je,qa:q,xa:this.K.Rb,splice:u});return p.prototype.normalize.call(this,q,u);};r.prototype.Ap=function(q){var u;return (null === (u=this.Yd(q)) || void 0 === u?void 0:u.Ap(!0)) || [];};r.prototype.cZ=function(q){return p.prototype.cZ.call(this,q) && this.fNb;};r.prototype.IT=function(q){this.Je.forEach(function(u){u.track === q && u.IT();});};r.prototype.mvb=function(){var q,u,v,w;u=this.M.Mk(!0);v=this.iq();w=(null === (q=this.uta) || void 0 === q?void 0:q.G) || 0;return u + w - v;};r.prototype.Hnc=function(q){if(q=this.qG(q))if((q=q.up.dk(h.v.U).Qk,(q=null === q || void 0 === q?void 0:q.track) && (0,m.Xo)(q)))return q;};r.prototype.Wpc=function(){var q;q=this.Hnc(h.v.U);return q?d({f6b:q.Hk.G,Uk:this.config.Uk,lGc:this.mvb(),dR:this.config.dR,cL:this.config.cL}):Infinity;};r.prototype.QEc=function(q){var u;if(q === this.Vt && ((0,c.assert)(q.qa,"videoPipelineStartChanged: pipeline should have content start timestamp"),f.l && this.console.log(("videoPipelineStartChanged ").concat(q.qa.da())),this.Mra(),this.sa.parent)){u=this.sa.parent.Lb;(0,c.assert)(u,"videoPipelineStartChanged: parent branch should have player end timestamp");q=u.ea(q.qa);this.sa.xy(q,"on pipeline start changed");}};r.prototype.PEc=function(q){q === this.Vt && ((0,c.assert)(q.xa,"videoPipelineStartChanged: pipeline should have content end timestamp"),f.l && this.console.log(("videoPipelineEndChanged ").concat(q.xa.da())),this.Mra(),this.events.emit("branchEdited",{type:"branchEdited"}));};r.prototype.Vma=function(q){q === this.Vt && (this.fNb=!0,this.Je.forEach(function(u){return u.GT();}));};r.prototype.Mra=function(){var q,u;q=this.K;u=q.kb;q=q.Rb;this.K.normalize(this.qa,this.xa);this.events.emit("branchTimestampsChanged",{type:"branchTimestampsChanged",sa:this.sa,mDc:u,hDc:q});};return r;})(a(33928).pCa);b.yga=a;(0,k.el)(t.Gy,a);},33928:function(t,b,a){var n,c,h,f,e,g,k,l,m;function d(p,r){return (p.mediaType === e.v.U?0:1) - (r.mediaType === e.v.U?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.pCa=b.ZXb=void 0;n=a(22970);c=a(91176);h=a(91176);f=a(66164);t=a(81392);e=a(65161);g=a(52571);k=a(32412);l=a(99548);m=a(69575);b.ZXb={RT:d};a=(function(p){function r(q,u,v,w,x,y,z,B,A,C,D,F,G){var E,H;H=p.call(this,w) || this;H.sa=q;H.config=u;H.M=w;H.$R=x;H.XB=y;H.MB=A;H.iq=C;H.ee=D;H.events=F;H.Zc=G;H.Je=new k.SU([]);H.UE=!1;H.uzb=0;H.Klb=H.VBc.bind(H);(0,g.assert)(w.J === H.K.J || isNaN(w.J) && isNaN(H.K.J));q=y.id && y.id.length?"{" + y.id + "}":"";H.console=(0,m.tf)(f.platform,v,q);H.oq=z || H.K.kb;v=H.parent;H.EEb=null === v || void 0 === v?void 0:v.Lb;null === (E=H.ee) || void 0 === E?void 0:E.addListener(H.Klb);B=H.zLa(B,H.oq,!!v).nP;H.nP=B;return H;}n.__extends(r,p);Object.defineProperties(r.prototype,{Rc:{get:function(){return this.UE;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{K:{get:function(){return this.XB;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Pk:{get:function(){return this.Je.every(function(q){return q.Pk;});},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Wj:{get:function(){return this.Je.every(function(q){return q.Wj;});},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{$J:{get:function(){return this.Je.every(function(q){return q.$J;});},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{jJ:{get:function(){return this.px().reduce(function(q,u){return q + u.jJ;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Kf:{get:function(){return this.px().every(function(q){return q.Kf();});},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{ka:{get:function(){return this.sa.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{P:{get:function(){return this.Vt.P;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{tb:{get:function(){return this.Vt.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Ib:{get:function(){return this.Vt.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{op:{get:function(){return this.de.Vc(this.P).aa;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{AG:{get:function(){return this.oq.add(this.de);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Wv:{get:function(){return this.K.kb.add(this.de);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{eS:{get:function(){return this.K.Rb.add(this.de);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Opa:{get:function(){return this.Je.reduce(function(q,u){return q && u.Lb?c.I.max(q,u.Lb):u.Lb?u.Lb:q;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Zj:{get:function(){return this.Je.reduce(function(q,u){u=u.Zj;return q && u?c.I.max(q,u):q || u;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{wy:{get:function(){return this.Vt.wy;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{de:{get:function(){return this.MB;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{parent:{get:function(){return this.sa.parent;},enumerable:!1,configurable:!0}});r.prototype.COb=function(q,u,v,w){void 0 === u && (u=this.qa || this.oq);return this.zLa(q,u,v,w);};r.prototype.OL=function(){var q,u,v,w,x;if(this.JA){q=this.XB;u=n.__read(this.JA.OL(q,q.Rb),3);v=u[0];w=u[1];u=u[2];x=this.Yd(e.v.X);x && ((0,g.assert)(v,"branch.renormalize: audioLastFragment should be defined"),x.truncate(v));if(v=this.Yd(e.v.U))((0,g.assert)(w,"branch.renormalize: videoLastFragment should be defined"),v.truncate(w));if(w=this.Yd(e.v.Ba))((0,g.assert)(u,"branch.renormalize: lastTextFragment should be defined"),w.truncate(u));q.normalize(q.kb,this.JA.xa);this.events.emit("branchEdited",{type:"branchEdited"});}};r.prototype.update=function(q){var u;u=q.Rb.i_(this.XB.Rb);this.XB=q;return u && this.JA?(this.OL(),!0):!1;};r.prototype.xy=function(q){this.de.equal(q) || (this.console.debug("updateBranchOffset",{Jra:this.MB.da(),jra:q.da()}),(0,g.assert)(this.Je.every(function(u){return !u.vMa;}),"Cannot adjust branch offset after attaching"),this.MB=q,this.events.emit("branchEdited",{type:"branchEdited"}));};r.prototype.kK=function(q){return n.__awaiter(this,void 0,void 0,function(){var u;return n.__generator(this,function(v){switch(v.label){case 0:return [4,Promise.resolve()];case 1:return (v.T(),(u=this.Yd(q))?[2,u.kK()]:[2,void 0]);}});});};r.prototype.VV=function(){this.Je.forEach(function(q){return q.VV();});};r.prototype.reset=function(){this.Je.forEach(function(q){q.reset();});};r.prototype.mg=function(q){var u,v;this.UE || (this.UE=!0,null === (u=this.JA) || void 0 === u?void 0:u.Ne(),this.JA=void 0,this.Je.forEach(function(w){w.mg("aborted" === q);}),null === (v=this.ee) || void 0 === v?void 0:v.removeListener(this.Klb));};r.prototype.cZ=function(){return !0;};r.prototype.Yd=function(q){return this.Je.get(q);};r.prototype.px=function(q){void 0 === q && (q=d);return this.Je.items.slice().sort(q);};r.prototype.Lna=function(){return this.Je.items;};r.prototype.qG=function(q){return this.Yd(q);};r.prototype.In=function(q,u){q=this.Yd(q);if(!q)return 0;if(u)return q.Vta;u=q.e7;if(void 0 === u)return 0;q=this.iq();return u - q;};r.prototype.gQ=function(){var q,u,v,w,x,y,z;z=null === (q=this.Yd(e.v.X)) || void 0 === q?void 0:q.SW;q=null === (u=this.Yd(e.v.U)) || void 0 === u?void 0:u.SW;return {PT:null !== (v=null === q || void 0 === q?void 0:q.G) && void 0 !== v?v:0,CO:null !== (w=null === z || void 0 === z?void 0:z.G) && void 0 !== w?w:0,HM:null !== (x=null === q || void 0 === q?void 0:q.ma) && void 0 !== x?x:0,dJ:null !== (y=null === z || void 0 === z?void 0:z.ma) && void 0 !== y?y:0};};r.prototype.uY=function(q){var u;return (q=this.Yd(q))?null !== (u=q.e7) && void 0 !== u?u:0:0;};r.prototype.VBc=function(q){q=q.newValue;(0,e.Pr)(q) && this.iba();};r.prototype.UW=function(q){return this.Je.every(function(u){return u.UW(q);});};r.prototype.vna=function(q){var u;return (null === (u=this.Je.get(q)) || void 0 === u?void 0:u.Tdc) || c.I.ia;};r.prototype.Ova=function(q){var u,v,w,x;u=this.Vt.szb;if(!u)return !1;q=(0,h.ic)(q,function(y){return u.G <= y.qa.G;});if(!q)return !1;v=q.qa;q=!1;w=n.__read((0,l.bIb)(this.config,this.Je,v),3);v=w[0];x=w[1];w=w[2];x && (x=this.Yd(e.v.U).truncate(x),q || (q=x));v && (x=this.Yd(e.v.X).truncate(v),q || (q=x));w && (x=this.Yd(e.v.Ba).truncate(w),q || (q=x));q && (v={type:"branchEdited"},this.events.emit(v.type,v));return q;};r.prototype.Un=function(q,u){this.UE || ((0,g.assert)(!q.Xe),this.iba(),this.events.emit("requestComplete",{type:"requestComplete",sa:this.sa}),this.Wj && this.RCc());this.XP(q,u);};r.prototype.mD=function(q,u){this.config.Sqb && this.iba(!0);this.kY(q,u);};r.prototype.qL=function(q){this.config.Sqb && this.iba(!0);this.I8(q);};r.prototype.Lxb=function(q,u,v){var w;w=0 < q.length;this.Je.filter(function(x){return !q.Cwb(x);}).forEach(function(x){w=!0;x.mg();});this.Je=q;return w?this.normalize(u,v):{Xla:!1,nP:!1};};r.prototype.Uoa=function(q){var u;u=this;q.events.on("lastRequestIssued",function(){return u.Pk && u.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});q.events.on("firstRequestIssued",function(){u.Kf && u.$J && u.events.emit("firstRequestIssued",{type:"firstRequestIssued"});});};r.prototype.normalize=function(){var q,u;(0,g.assert)(this.JA,"Must call through normalize through subclass to create pipeline normalizer");this.Vt=this.Je.Vt;q=this.JA.normalize();u=q.Xla;q=q.nP;u && this.EEb && (this.MB=this.EEb.ea(this.qa));return {Xla:u,nP:q};};r.prototype.FNc=function(q){var u;return (0,e.Pr)((null === (u=this.ee) || void 0 === u?void 0:u.value) || e.Ld.Jp) && (!q || this.uzb + this.config.Kaa < f.platform.time.ha());};r.prototype.iba=function(q){void 0 === q && (q=!1);this.FNc(q) && (this.uzb=f.platform.time.ha(),q={type:"checkBufferingProgress"},this.events.emit(q.type,q));};r.prototype.RCc=function(){var q;q={type:"branchStreamingComplete"};this.events.emit(q.type,q);};r.prototype.toJSON=function(){var q,u,v;return {segment:this.K.id,branchOffset:null === (q=this.de) || void 0 === q?void 0:q.G,viewableId:this.XB.J,contentStartPts:null === (u=this.qa) || void 0 === u?void 0:u.G,contentEndPts:null === (v=this.xa) || void 0 === v?void 0:v.G};};return r;})(t.UM);b.pCa=a;},20717:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Vab=void 0;d=a(22970);n=a(48170);c=a(32412);h=a(95052);t=a(85254);f=a(71808);e=a(72117);a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}d.__extends(k,g);k.prototype.zLa=function(l,m,p,r){var q,u;q=this;void 0 === r && (r=[]);n.l && this.console.trace("OnDemandNormalizedBranch.createPipelines");u=new c.SU();l.forEach(function(v){var w;w=q.Je.find(function(x){return x.track === v.track && !(r.some(function(y){return y === x.mediaType;}) && q.sa.YIa);});void 0 === w?(w=new h.Wab(q,q.config,q.console,q.$R,q.sa,v.track,m,q.Zc,v.CNb()),q.Uoa(w)):w.VV();u.add(w);});return this.Lxb(u,m,p);};k.prototype.normalize=function(l,m){var p;null === (p=this.JA) || void 0 === p?void 0:p.Ne();this.JA=new e.Xab({console:this.console,config:this.config,M:this.M,K:this.K,Je:this.Je,qa:l,xa:this.K.Rb,splice:m});return g.prototype.normalize.call(this,l,m);};k.prototype.Ap=function(l){var m;return (null === (m=this.Yd(l)) || void 0 === m?void 0:m.Ap(!1)) || [];};return k;})(a(33928).pCa);b.Vab=a;(0,t.el)(f.Gy,a);},68825:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Abb=void 0;d=a(91176);n=a(66164);c=a(48170);t=(function(){function h(f){var e;e=this;this.sa=f;this.SV=new d.oV({f6:!1});this.RV=new d.oV({f6:!1});this.qb=new n.platform.Console("PARENT-BRANCH-HELPER","asejs",f.tW);this.Rzb=(0,d.Ppa)(function(){return e.Axb();});}h.prototype.Wra=function(){c.l && this.qb.debug("Reparenting - resetting promises");this.Axb();};h.prototype.Axb=function(){var f,e;f=this;c.l && this.qb.debug("setting up promise chain");this.RV.E$ && (this.RV=new d.oV({f6:!1}),this.RV.promise.then(function(){c.l && f.qb.debug("Parent normalization complete");}));this.SV.E$ && (this.SV=new d.oV({f6:!1}),this.SV.then(function(){c.l && f.qb.debug("Parent viewable complete");}));if(this.sa.parent){c.l && this.qb.debug("Listening to parent",{id:this.sa.parent.tW,LM:!!this.sa.parent.LM,twa:!!this.sa.parent.twa});e=this.sa.parent;this.RV.eM(e.LM,!1);this.SV.eM(e.twa,!1);}else (c.l && this.qb.debug("Resolving directly, no parent branch"),this.RV.eM(Promise.resolve(),!1),this.SV.eM(Promise.resolve(),!1));};h.prototype.uUc=function(){this.Rzb();return this.SV.promise;};h.prototype.swa=function(){this.Rzb();return this.RV.promise;};return h;})();b.Abb=t;},45550:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ZM=void 0;d=a(15913);n=a(52571);t=(function(){function c(h){this.config=h;this.reset();}c.instance=function(){(0,n.assert)(void 0 !== c.fz);return c.fz;};c.Q$b=function(h){c.fz=new c(h);};c.prototype.push=function(h){this.cl && this.cl.push(h);};c.prototype.xb=function(){if(this.cl)return (this.cl.Eo(),this.cl.mk([.25,.5,.75,.9,.95,.99]).map(function(h){return h?parseFloat(h.toFixed(1)):0;}));};c.prototype.reset=function(){this.config.Khc && this.config.rAa && (this.cl=new d.TDigest(this.config.rAa.c,this.config.rAa.maxc));};return c;})();b.ZM=t;},78647:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v;Object.defineProperties(b,{__esModule:{value:!0}});b.n4a=void 0;b.fD=function(w){return w.ea(n.I.Ca(w.MS));};d=a(22970);t=a(90745);n=a(91176);c=a(91176);h=a(66164);f=a(8171);e=d.__importDefault(a(14282));g=a(65161);k=a(52571);l=a(98321);m=a(50247);p=a(40666);r=a(69575);q=a(29092);u=a(11758);v=a(8149);a=(function(w){function x(y,z,B,A,C,D){var F,G;G=w.call(this) || this;G.mediaType=y;G.Lh=z;G.Jd=B;G.config=A;G.player=C;G.mc=D;G.KPb=!1;G.vqb=!1;G.tda=!1;G.console=f.xw.FC(G.mediaType);G.error=G.console.error.bind(G.console);G.warn=G.console.warn.bind(G.console);G.trace=G.console.trace.bind(G.console);null === (F=B.events) || void 0 === F?void 0:F.addListener("ready",function(){G.append();});G.FBb=new l.T$a(G.config,G.mediaType,G.Lh.ng,G.console);G.reset();return G;}d.__extends(x,w);Object.defineProperties(x.prototype,{endOfStream:{get:function(){return this.b5;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{hQc:{get:function(){return !!this.Jd.eic;},enumerable:!1,configurable:!0}});x.prototype.reset=function(y){var z,B,A;null === (z=this.gDb) || void 0 === z?void 0:z.Ka();y || (this.OH=[]);this.UGa=this.Hia=this.WQ=void 0;this.lJ && (this.lJ.Rc=!0,this.lJ.iterator.Og(),this.lJ=void 0);this.kW && (this.kW.Rc=!0,this.kW.iterator.Og(),this.kW=void 0);this.uMa=!1;this.$Q=void 0;this.tda=this.b5=!1;this.Dib(n.I.ia);null === (A=(B=this.Jd).reset) || void 0 === A?void 0:A.call(B);this.FBb.reset();};x.prototype.skc=function(){this.Hia=!0;};x.prototype.V7=function(){this.vqb=!0;this.append();};x.prototype.gM=function(y){this.KPb=y;};x.prototype.A5b=function(y){this.OH.push(y);this.append();};x.prototype.WH=function(){this.append();};x.prototype.VAc=function(y){this.config.Xja && void 0 === this.UGa && this.jW(y,0);this.append();};x.prototype.xra=function(y){var z,B,A,C;z=this;void 0 === y && (y=!1);if(!this.b5 && (this.b5=!0,this.append(),y || !this.hQc))if(this.$Q && this.mc && this.config.Sec){y=n.I.Ca(this.config.ZQc);y=this.$Q.ea(y);C=(0,p.M1)(this.mc,y,!0);y=C.Ae;C=C.promise;null === (B=this.gDb) || void 0 === B?void 0:B.Ka();this.gDb=y;C.then(function(){var D,F;z.b5 && (null === (F=(D=z.Jd).endOfStream) || void 0 === F?void 0:F.call(D));});}else null === (A=(C=this.Jd).endOfStream) || void 0 === A?void 0:A.call(C);};x.prototype.Dib=function(y){var z;null !== (z=this.timestampOffset) && void 0 !== z && z.equal(y) || (this.timestampOffset=y,this.Jd.JKb(y.aa,y.P));};x.prototype.append=function(){var y,z,B,A,C,D,F,G;C=this.config;if(!this.lJ && !this.kW && this.OH.length)if(this.Jd && !1 !== this.Jd.ready){D=this.OH[0];if(D.aborted)(this.warn("aborted fragment should not appear in the toAppend list:",D.toString(),"complete:",D.complete),this.oca("@" + h.platform.time.ha() + ", append: removing aborted fragment from toAppend: " + D.toString()),this.OH.shift());else {F=D.stream;G=F.M;if(F.eh)if((D.Hn && !this.tda && (null === (z=(y=this.Jd).FLb) || void 0 === z?void 0:z.call(y,{J:F.track.M.J,cyb:F.gk}),this.tda=!0),this.BNc(F,D.index)))(this.Hia=!1,this.jW(F,D.index));else if((y=this.player.r$(G.J),F=this.qsc(F),y || F || !this.uMa && !C.rwa))if((y=this.wvb(D),this.mediaType === e.default.Ep.X && (D.ki || D.rA || (null === (B=D.na) || void 0 === B?0:B.fq)) && D.na && !C.HS && !this.b5 && this.OH.length <= (D.ki || D.rA?1:2) && y > C.Qaa && (null === (A=D.ND) || void 0 === A || !A.OQ)))this.gLc();else {this.uMa || (this.uMa=F);this.OH.shift();try{this.N4b(D);}catch(E){throw (this.console.error(E),E);}}}}else this.oca("@" + h.platform.time.ha() + ", append: not appending, sourceBuffer not ready");};x.prototype.gLc=function(){var y;y=this;this.mc && (this.LSa?this.LSa.On || this.LSa.Tc():this.LSa=this.mc.Br(function(){return y.ivc();},"JIT Appender"));};x.prototype.ivc=function(){var y,z,B,A;return d.__generator(this,function(C){switch(C.label){case 0:if(1 !== this.OH.length)return [3,3];y=this.OH[0];if(!y.ki && !y.rA || (null === (A=y.ND) || void 0 === A?0:A.OQ))return [2];z=this.wvb(y);B=this.config.Qaa;return z > B?[4,p.Vd.Cy(n.I.Ca(z - B))]:[3,2];case 1:(C.T(),C.label=2);case 2:return (this.append(),[3,0]);case 3:return [2];}});};x.prototype.wvb=function(y){var z;return (null === (z=y.Qb) || void 0 === z?NaN:z.G) - this.player.Xd.G;};x.prototype.BNc=function(y,z){var B;B=y.yj;(0,k.assert)(B);return 0 === B.length?this.Hia=!1:this.Hia || void 0 === this.WQ || y.Qa !== this.WQ.Qa?!0:1 < B.length?(0,c.Hkb)(B,function(A){return A.Qe <= z;}) !== this.WQ.myb:!1;};x.prototype.qsc=function(y){if(y.mediaType === g.v.X || !y.gk)return !0;if(void 0 === this.WQ)return !1;if(!y.track.CBb)return !y.gk;y=y.yj;(0,k.assert)(y);return !1 === y[this.WQ.myb].Kz;};x.prototype.jW=function(y,z){var B,A,C,D;if(!this.KPb || this.vqb){if(y.yj && 0 !== y.yj.length){C=y.yj.reduce(function(F,G,E){return G.Qe <= z?E:F;},0);D=y.yj[C];this.WQ || (null === (A=(B=this.Jd).FLb) || void 0 === A?void 0:A.call(B,{J:y.track.M.J,cyb:y.gk}),this.tda=!0);if(!this.Jd.appendBuffer(D.data,{Xe:!0,profile:y.profile,bitrate:y.bitrate,Qa:y.Qa}))throw (this.warn("appendHeader error: " + this.Jd.error),this.oca("@" + h.platform.time.ha() + ", appendHeader error: " + this.Jd.error),Error("appendHeaderError"));this.oca("@" + h.platform.time.ha() + ", header appended, streamId: " + y.Qa);this.WQ={Qa:y.Qa,myb:C};this.xJc(y.Qa,C);}this.append();}};x.prototype.N4b=function(y){var z,B,A,C,D,F;z=this;C=y.uta || n.I.ia;D=y.stream;F=y.K;!(0,v.hk)(D) && F.Rb && !F.Rb.equal(n.I.qh) && (C=F.Rb.add(C).Ji,Infinity === this.Lh.duration || this.Lh.duration < C) && (this.Lh.duration=C);C=void 0 !== y.gu?n.I.Ca(y.gu).add(y.uta):void 0;F=null === (B=this.OH[0]) || void 0 === B?void 0:B.Qb;B={endOfStream:this.endOfStream || !(null === (A=y.ND) || void 0 === A || !A.OQ),PZ:C,HUa:F};F=this.FBb.append(y,B);A=F.Ui;C=F.Bj;B=F.Zt;F=F.offset;null === C || void 0 === C?void 0:C.forEach(function(G){return z.emit(G.type,G);});(0,v.hk)(D) && (F=F.ea(D.Jl.Vc(D.P)));this.Dib(F);A && (y.ki || y.rA) && y.Ui();D=m.Js.oab;A || (this.mediaType === g.v.X || this.mediaType === g.v.U?D=this.J4b(y,B):this.mediaType === g.v.Ba && (D=this.T4b(y)));switch(D){case m.Js.Cp:this.M4b(y);break;case m.Js.Yga:this.UGa=y;break;case m.Js.nn:this.sVa(y);this.UGa=y;break;case m.Js.oab:this.PDb(y,!0);}};x.prototype.zMb=function(){var y;return h.platform.Xl.ng.FYa.HEa || !(null === (y=this.Lh.ng) || void 0 === y || !y.zMb);};x.prototype.J4b=function(y,z){return this.zMb()?this.K4b(y,z):this.L4b(y,z);};x.prototype.K4b=function(y,z){var B,A,C;B=this;A=(0,r.OAb)(z,y);if((z=(z || y.Zt).every(function(D,F){return B.Jd.appendBuffer(D,0 === F?A:void 0);})) && !y.yQ){z=y.XPa();C={Ta:y,iterator:z,Rc:!1};this.lJ=C;q.AsyncIterator.ypa(z,function(D){C.Rc || (D.done?(B.lJ=void 0,B.sVa(y)):B.Jd.appendBuffer(D.value,A));});z=m.Js.Yga;}else z=z?m.Js.nn:m.Js.Cp;return z;};x.prototype.L4b=function(y,z){var B,A,C,D;B=this;A=(0,r.OAb)(z,y);z || (z=y.Zt);if(y.yQ)C=(C=this.Hnb(z,A))?m.Js.nn:m.Js.Cp;else {C=y.XPa();D={Ta:y,iterator:C,Rc:!1};this.lJ=D;q.AsyncIterator.ypa(C,function(F){D.Rc || (F.done?(B.Hnb(z,A),B.lJ=void 0,B.sVa(y)):z.push(F.value));});C=m.Js.Yga;}return C;};x.prototype.Hnb=function(y,z){y=1 < y.length?(0,r.Dz)(y):y[0];return this.Jd.appendBuffer(y,z);};x.prototype.T4b=function(y){var z,B,A,C;z=this;(0,k.assert)(y instanceof u.pxa);B=y.Zt;if(y.yQ){(0,k.assert)(B.every(function(D){return D instanceof ArrayBuffer;}));Promise.resolve().then(function(){return z.Iqb(y,B);});A=m.Js.nn;}else {A=y.XPa();C={Ta:y,iterator:A,Rc:!1};this.kW=C;q.AsyncIterator.ypa(A,function(D){C.Rc || (D.done?(z.kW=void 0,(0,k.assert)(B.every(function(F){return F instanceof ArrayBuffer;})),z.Iqb(y,B)):B.push(D.value));});A=m.Js.Yga;}return A;};x.prototype.Iqb=function(y,z){var B,A;z=(0,r.Dz)(z);z=new Uint8Array(z);z=h.platform.JJ(z);(0,k.assert)(z);A=y.ki && (null === (B=y.ND) || void 0 === B?void 0:B.OQ);y={Y6c:!0,L:y.oi,Eb:y.qa.G,Dg:y.xa.G,by:y.stream.Jl.G,SNb:z,endOfStream:A};B=d.__assign({type:"subtitleData"},y);this.Lh.events.emit(B.type,B);"function" === typeof this.Jd.S4b && this.Jd.S4b(y);};x.prototype.sVa=function(y){var z;void 0 === this.$Q || this.mediaType !== e.default.Ep.X || y.Qb.equal(this.$Q) || (this.$Q=void 0);this.oca("@" + h.platform.time.ha() + ", request appended, type: " + y.mediaType + ", streamId: " + y.Qa + ", pts: " + (null === (z=y.Qb) || void 0 === z?void 0:z.G) + "-" + y.Lb.G);this.PDb(y,!1);};x.prototype.PDb=function(y,z){var B,A,C;y.ki || y.rA?(this.$Q=z?y.Qb:y.Lb,null === (A=(B=this.Jd).eic) || void 0 === A?void 0:A.call(B,y.ND),this.tda=!1,(null === (C=y.ND) || void 0 === C?0:C.OQ) && this.xra()):this.$Q=void 0;y.cC=!0;y.h0();this.AJc(y);this.append();};x.prototype.M4b=function(y){if(void 0 !== this.Jd.error){if("done" === this.Jd.error)return;this.error("failure to append queued mediaRequest:",null === y || void 0 === y?void 0:y.toString(),"err:",JSON.stringify(this.Jd.error));throw this.Jd.error;}y=Error("failure to append queued mediaRequest: " + (null === y || void 0 === y?void 0:y.toString()) + " err: " + this.Jd.error);this.error(y.message);throw y;};x.prototype.xJc=function(y,z){y={type:"headerAppended",mediaType:this.mediaType,streamId:y,isIndex:z};this.emit(y.type,y);};x.prototype.AJc=function(y){y={type:"requestAppended",mediaType:this.mediaType,request:y};this.emit(y.type,y);};x.prototype.oca=function(y){y={type:"managerdebugevent",message:y};this.emit(y.type,y);};return x;})(t.EventEmitter);b.n4a=a;},58348:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.o4a=void 0;d=a(90745);n=a(66164);c=a(91176);h=a(65161);f=a(61996);e=a(52571);t=(function(){function g(k,l,m){this.qb=k;this.Ab=l;this.k0b=m;this.Nw=this.Jw=this.sr=0;this.Hw=[];this.DHa=new Map();this.Ze=new f.un({Ig:4,Fj:this,source:"BufferSizeLimiter"});}Object.defineProperties(g.prototype,{ma:{get:function(){return {total:this.sr,audio:this.Jw,video:this.Nw};},enumerable:!1,configurable:!0}});g.prototype.Tw=function(k){var l,m,p,r;l=this;if(!k.Xe){m={requestId:k.ZPa(),mediaType:k.mediaType,ma:k.ma,sM:n.platform.time.ha(),R:k.stream.M.R};this.Hw.push(m);p=k.ma;if(0 >= p){r=new d.af();r.on(k.events,"updatedBytes",function(q){l.wjb(k.mediaType,q.MCb - q.RVa);m.ma=q.MCb;r.clear();l.DHa.delete(k);});this.DHa.set(k,r);}else this.wjb(k.mediaType,p);}};g.prototype.ey=function(k){var l,m;if(!k.Xe){l=k.ZPa();m=(0,c.om)(this.Hw,function(p){return p.requestId === l;});-1 !== m && (this.Hw.splice(m,1),m=k.ma,0 < m && (this.sr-=m,k.mediaType === h.v.X?this.Jw-=m:this.Nw-=m,(0,e.assert)(this.sr === this.Jw + this.Nw),(0,e.assert)(0 <= this.sr),(0,e.assert)(0 <= this.Jw),(0,e.assert)(0 <= this.Nw)),this.DHa.delete(k));}};g.prototype.Tka=function(k,l){var m;(0,e.assert)(this.sr === this.Jw + this.Nw);m=this.k0b();if(void 0 !== m.total && this.sr + l > m.total)return (this.qNb(),!1);m=k === h.v.X?m.audio:m.video;k=k === h.v.X?this.Jw:this.Nw;return void 0 !== m && k + l > m?(this.qNb(),!1):!0;};g.prototype.wjb=function(k,l){this.sr+=l;k === h.v.X?this.Jw+=l:this.Nw+=l;(0,e.assert)(this.sr === this.Jw + this.Nw);(0,e.assert)(0 < this.sr);(0,e.assert)(0 <= this.Jw);(0,e.assert)(0 <= this.Nw);};g.prototype.qNb=function(){var k;if(this.Ab.ahc){k=n.platform.time.ha();this.Ze.Hja("traceActiveRequests",{jm:this.Hw.map(function(l){return {requestId:l.requestId,ma:l.ma,R:l.R,xad:k - l.sM};})});}};g.prototype.pka=function(){var k,l,m;k=0;l=0;m=0;this.Hw.forEach(function(p){k+=p.ma;p.mediaType === h.v.X?l+=p.ma:m+=p.ma;});(0,e.assert)(k === l + m);(0,e.assert)(0 < k);(0,e.assert)(0 <= l);(0,e.assert)(0 <= m);(0,e.assert)(k === this.sr);(0,e.assert)(l === this.Jw);(0,e.assert)(m === this.Nw);};return g;})();b.o4a=t;},35779:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Ctb=b.LOa=b.YXa=b.TJa=b.NU=void 0;d=a(22970);n=a(66164);c=a(52571);h=a(69575);t=(function(){function e(g,k,l){void 0 === l && (l={});this.config=g;this.mNa=k;this.Wd=[];this.BW=new h.Lg();this.Kka=new h.Lg();this.options=d.__assign({Ig:10},l);}Object.defineProperties(e.prototype,{isEnabled:{get:function(){return this.config.Xgc;},enumerable:!1,configurable:!0}});e.prototype.Qna=function(g,k){var l;if(!this.isEnabled)return k();l=this.lna(g);if(l)return l.value;k=k();this.Gt(g,k);return k;};e.prototype.findIndex=function(g){var k,l,m,p;k=Infinity;l=Infinity;if(this.options.Qw || this.options.ew){m=n.platform.time.ha();this.options.ew && (k=m - this.options.ew);this.options.Qw && (l=m - this.options.Qw);}for(m=0;m < this.Wd.length;m++){p=this.Wd[m];if(this.options.ew && p.R$ < k){this.Wd.splice(m,this.Wd.length - m);break;}if(this.options.Qw && p.wm < l)(this.Wd.splice(m,1),m--);else if(this.mNa(p.key,g))return m;}return -1;};e.prototype.lna=function(g){var k;g=this.findIndex(g);if(-1 !== g){k=this.Wd[g];this.Wd.splice(g,1);this.Wd.unshift(k);this.options.ew && (k.R$=n.platform.time.ha());this.Kka.push(g);this.BW.push(1);return k;}this.BW.push(0);};e.prototype.Gt=function(g,k){this.Wd.unshift({key:g,value:k});if(this.options.ew || this.options.Qw)(g=n.platform.time.ha(),this.options.ew && (this.Wd[0].R$=g),this.options.Qw && (this.Wd[0].wm=g));this.nKa();};e.prototype.nKa=function(){this.Wd.length > this.options.Ig && this.Wd.pop();};e.prototype.clear=function(){this.Wd=[];};return e;})();b.NU=t;f=new WeakMap();b.TJa=function(e){void 0 === e && (e="default");return function(g,k,l){var m;m=l.value;l.value=function(p){var r,q,u;r=this;u=null === (q=f.get(this)) || void 0 === q?void 0:q[e];(0,c.assert)(u,"lruCache not defined");return u.Qna(p,function(){return m.call(r,p);});};};};b.YXa=function(e,g,k){f.has(e) || f.set(e,{});f.get(e)[g]=k;};b.LOa=function(e){var g;if(!f.has(e))return [];g=f.get(e);return Object.keys(g).map(function(k){return g[k];});};b.Ctb=function(e){return f.has(e)?f.get(e):{};};},68539:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Va=void 0;t=a(36948);b.Va={Px:560,zA:Infinity,Ox:0,Ot:65535,yR:-Infinity,taa:Infinity,vp:["ddplus-5.1-dash","ddplus-5.1hq-dash","ddplus-atmos-dash"],KH:[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{minInitAudioBitrate:0,maxInitAudioBitrate:65535}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:0,maxInitAudioBitrate:65535}}],xR:235,Qx:3E4,fp:7800,Kaa:999999,aca:1,Bea:!0,aD:45E3,zaa:Infinity,Yr:2600,Lqa:0,Pqa:0,zK:null,tT:15,C6:10,D6:!1,E6:[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}],g7:20,Mda:!1,i7:0,h7:[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}],qR:0,qda:!1,Sea:8E3,S9:9E4,gaa:51E4,U9:3E5,iaa:3E5,T9:6E5,haa:0,R9:.5,xA:15E3,iR:15E3,kaa:25E3,yA:2E4,maa:!1,sR:1,QG:1E4,q6:262144,Hea:1048576,bY:3,u8:1,PG:24E4,pBb:24E4,Qua:!0,j7:!1,f7:1,uqa:20,uaa:12E4,caa:6E4,jH:!1,lta:8E3,HO:!0,kta:100,IZ:300,qqa:2,O9:4096,SX:!1,TZ:1E4,gs:!1,vqa:3,w_a:0,t6:32768,Mea:65536,Boa:32768,Hlb:2E3,Tu:0,qz:3E5,T_:24E4,Bsa:2,gqa:200,Jja:2E3,Kja:8E3,e0:6E4,CP:!0,j4:{lv:5,mx:240},tma:!1,Ila:4,Hla:8E3,fra:2E3,dra:12E4,Aaa:3,Uda:2E3,hqa:400,Gma:!1,HS:!0,$Ma:!1,GCb:36E3,aCb:8E3,Qrb:10368E3,nlb:5184E3,Mrb:86400,vrb:!1,Hoa:!1,Sqa:500,Rqa:131072,nta:2E3,mta:262144,Nwb:2E3,Okb:"optimized",Y$:"livesimple",I$:!1,Oqb:("throughput-ewma throughput-sw throughput-sw-fast throughput-iqr throughput-tdigest avtp entropy").split(" "),Yrb:{},upb:"throughput-ewma",rJb:"none",cMa:{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-sw-fast":{type:"slidingwindow",mw:500},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}},L6:"default",zla:!1,Bla:0,pua:"none",pqa:"simple",Wka:"throughput-ci",Rua:"default",wrb:["throughput-wssl"],hra:"video_location",cUa:Infinity,uUa:5,zba:3E5,Lca:18E4,$qa:!0,yka:!0,rqa:Infinity,CA:4E3,cD:4E3,Aja:!1,WQa:0,VQa:0,XQa:{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3},Raa:3E3,kCb:500,yaa:30,Oaa:3E5,rwa:!1,$ma:!1,Qsb:!0,Yua:!1,Qta:!1,GZ:3,Upa:!0,Xja:!0,Maa:2E3,xP:!0,vC:!0,AP:!0,zP:!1,w0:!1,s8:[],GX:!1,H8:[],G8:0,XH:!1,cbd:!1,mJ:!1,E7:{ticks:-3268,timescale:48E3},Sba:{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}},AMP_AUDIO_PROFILE_DEFAULT:{194:{ticks:-3268,timescale:48E3}},FMP4_AAC:{194:{ticks:-3268,timescale:48E3}}},Fh:!1,Faa:!1,zca:!1,Aca:!1,aM:"fallback",XV:!1,Mv:1,wR:1,XG:1,HZ:4,Paa:3E3,Bda:.3,RO:7800,NX:!1,t0:[],xba:100,Aea:!0,WR:{enabled:!1,earlyManifestProcessing:!1},lsa:1E3,RR:"flexible",msa:"padding",e0a:!1,Gsa:2E3,Hsa:6E3,DP:!1,sca:1E4,lva:.75,W$:0,sma:!1,Z$:!0,Npa:4,Vpa:"strict",Xpa:!0,X$:750,wZ:6,Ypa:Infinity,nma:!1,bra:1E3,bqa:!0,BP:!0,bT:!1,uTa:!1,$pa:!0,D7:1E3,Gla:1E3,IX:!0,yZ:3E4,aqa:1E3,qTa:!1,uma:!0,gR:!1,Wpa:.05,V$:-500,Fda:!0,h1:0,g6:!1,LX:!0,Oda:"",e8:!0,yP:!0,wP:!0,Uk:1E4,dR:0,VBb:0,fCb:0,gCb:0,Oba:!0,UZ:6E4,vaa:96E4,bNa:t.Vf.bNa[1],Sda:t.Vf.Sda[1],$sa:t.Vf.$sa[1],JX:t.Vf.JX[1],CZ:t.Vf.CZ[1],DZ:t.Vf.DZ[1],cL:t.Vf.cL[1],g8:!1,WZ:t.Vf.WZ[1],e1:t.Vf.e1[1],SJ:!1,c8:!0,HX:!1,FX:!1};},36948:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bLa={Kaa:["minCheckBufferingCompleteInterval",200],Sqb:["enableMoreFrequentBufferingCompleteCheck",!1],E7:["defaultAacTimestampOffset",{ticks:-3268,timescale:48E3}],Sba:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}],RR:["paddingCodecSelector","strict"],cn:["stallAtFrameCount",void 0],Lca:["saveBitrateMs",0],zca:["requireDownloadDataAtBuffering",!1],mxb:["indicatorForDownloadDataAtBuffering","oncomplete"],Aca:["requireSetupConnectionDuringBuffering",!1],dL:["maxRequestSize",0],Dhc:["enableNginxRateLimit",!1],ora:["nginxSendingRate",4E4],oma:["enableCprAudio",!1],SJ:["enableCprVideo",!0],Nqb:["enableCprLive",!1],ehc:["enableCprDai",!1],fhc:["enableCprSvodAd",!1],qma:["enableHybridPacing",!1],fKa:["catchUpMode",!1],Dyc:["maxSegHint",4],pYa:["requestLevelLogging",!1],WMa:["enableConcurrentStreamingHandling",!1],Hhc:["enablePacingOnSwitchableAudio",!1],gs:["pipelineEnabled",!0],Lhc:["enableSCByteRangeHints",!1],yH:["segmentFadeDuration",400],aD:["maxPrebufSize",5E4],fp:["minPrebufSize",5756],Qaa:["minimumJustInTimeBufferLevel",3E3],p4c:["enableMissingSegmentsDetection",!0],BP:["enableMissingSegmentsReplacement",!0],Chc:["enableNextSegmentSizeFromOC",!0],bqa:["liveSwitchStreamsOnErrorInPipeline",!0],rwc:["liveEdgeRetryWindowMs",6E3],bT:["simulateLiveEdge",!1],fOc:["simulateLiveEdgeDistance",0],Pqa:["minVideoMediaRequestSizeBytes",0],Lqa:["minAudioMediaRequestSizeBytes",0],Kyc:["maxVideoMediaRequestSizeBytes",Infinity],nyc:["maxAudioMediaRequestSizeBytes",Infinity],cD:["minVideoMediaRequestDuration",0],CA:["minAudioMediaRequestDuration",0],Oqa:["minMediaRequestDuration",0],tqa:["maxMediaRequestDuration",Infinity],Jyc:["maxVideoMediaRequestDuration",Infinity],myc:["maxAudioMediaRequestDuration",Infinity],RIa:["allowFirstRequestAggregation",!1],DKc:["reuseOnErrorCacheTimeout",6E4],yyc:["maxMediaRequestSizeBytesInFraction",1],Aea:["useExitZones",!0],hAb:["liveEndSlateMaxDuration",6E4],mva:["ase_stream_selector","optimized"],S5b:["audiostreamSelectorAlgorithm","selectaudioadaptive"],Y$:["liveStreamSelectorAlgorithm","livesimple"],I$:["jointStreamSelectorEnabled",!1],rLb:["smartHeaderPreDownloading",!1],TZ:["minBufferLenForHeaderDownloading",1E4],f7:["connectTimeMultiplier",1],yA:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],maa:["lowestWaterMarkLevelBufferRelaxed",!1],Qx:["minRequiredBuffer",2E4],QG:["maxTrailingBufferLen",15E3],PG:["maxMediaBufferAllowed",27E4],Rua:["simulationDurationStrategy","default"],gOc:["simulationFullBufferPercentage",1],dCb:["minSimulationDuration",2E4],wqa:["maxSimulationDuration",3E5],S9:["highStreamRetentionWindow",9E4],gaa:["lowStreamTransitionWindow",51E4],U9:["highStreamRetentionWindowUp",5E5],iaa:["lowStreamTransitionWindowUp",1E5],T9:["highStreamRetentionWindowDown",6E5],haa:["lowStreamTransitionWindowDown",0],R9:["highStreamInfeasibleBitrateFactor",.5],u8:["fastDownswitchFactor",3],bY:["fastUpswitchFactor",3],kjc:["fastUpswitchFactorWithoutHeaders",3],jjc:["fastUpswitchFactorForNextSegment",1],j7:["considerConnectTime",!0],xA:["lowestBufForUpswitch",9E3],iR:["lockPeriodAfterDownswitch",15E3],kaa:["lowWatermarkLevel",15E3],qda:["skipBitrateInUpswitch",!1],Sea:["watermarkLevelForSkipStart",8E3],zPc:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],Kqb:["enableAllHeadersPreDownloading",!1],Nhc:["enableStreamSelectionAugmentData",!1],X5b:["augmentDataNumOfChunks",30],B8c:["minFragmentVmaf",void 0],Z$:["liveStreamSelectorUseLatency",!0],Npa:["latencyMultiplierForLive",4],Jvc:["latencyAverageMultiplierForLive",1],RMb:["throughputDiscountForLive",.8],QMb:["throughputDiscountExponentBC",1.5],Vpa:["liveBufferRatioStrategy","strict"],UQc:["throughputThresholdSelectorParam",0],CHa:["reportedFilters",[]],L6:["bufferingSelectorAlgorithm","default"],UOb:["upswitchDuringBufferingFactor",2],ikb:["allowUpswitchDuringBuffering",!1],Ypa:["liveMaxUpswitchSteps",Infinity],ZCb:["noRepeatedFirstSelectionLogic",!1],Eec:["defaultThroughput",1537],Px:["minInitVideoBitrate",-Infinity],zA:["maxInitVideoBitrate",Infinity],Ox:["minInitAudioBitrate",-Infinity],Ot:["maxInitAudioBitrate",Infinity],xR:["minAcceptableVideoBitrate",-Infinity],wR:["minAcceptableVMAF",0],tzc:["minAcceptableVMAFRebufferScalingFactor",0],yR:["minAllowedVideoBitrate",-Infinity],taa:["maxAllowedVideoBitrate",Infinity],XG:["minAllowedVmaf",-Infinity],iBb:["maxAllowedVmaf",Infinity],VZ:["minRequiredAudioBuffer",0],zK:["initialBitrateSelectionCurve",null],tT:["throughputPercentForAudio",15],C6:["bandwidthMargin",0],E6:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],olb:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,FF:76376,scale:18862.4,gamma:3.0569}],D6:["bandwidthMarginContinuous",!1],plb:["bandwidthMarginForAudio",!0],Mda:["switchConfigBasedOnInSessionTput",!0],g7:["conservBandwidthMargin",20],i7:["conservBandwidthMarginTputThreshold",6E3],h7:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],wz:["bandwidthManifold",{curves:[{min:.05,max:.82,FF:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,FF:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],yBb:["maxStartingVideoVMAF",110],Mv:["minStartingVideoVMAF",1],XV:["activateSelectStartingVMAF",!1],vua:["selectStartingVMAFTDigest",-1],aM:["selectStartingVMAFMethod","fallback"],JJb:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],aca:["rebufferingFactor",1],e0:["rebufferCheckDuration",6E4],Bea:["useMaxPrebufSize",!0],hqa:["lowThroughputThreshold",400],Gma:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],Ihc:["enablePenaltyForLongConnectTime",!1],Bsa:["penaltyFactorForLongConnectTime",2],gqa:["longConnectTimeThreshold",200],Jja:["additionalBufferingLongConnectTime",2E3],Kja:["additionalBufferingPerFailure",8E3],Yr:["maxBufferingTime",2E3],y1a:["upperThroughputPredictionFactor",1.6],sR:["mediaRate",1.5],YQc:["timeAtEachBitrateRoundRobin",1E4],KKc:["roundRobinDirection","forward"],pqa:["marginPredictor","simple"],Shc:["enableVmafEstimationFromBitrate",!1],Hyc:["maxVMAFMappingBitrate",16E3],Iyc:["maxVMAFMappingVMAF",110],jJa:["audioBwFactor",1],U5b:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],V5b:["audioSwitchConfigLive",{upSwitchFactor:2.5,downSwitchFactor:1.3,lowestBufForUpswitch:6E3,lockPeriodAfterDownswitch:3E4}],KH:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],lka:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],Upa:["limitAudioDiscountByMaxAudioBitrate",!1],gR:["liveSlowBufferFilling",!1],Rwc:["liveSlowBufferFillingMinBitrate",1200],Mwc:["liveResyncClockOn404Error",!0],nma:["enableConditionalServerTimeUpdate",!0],bra:["negligibleServerTimeDeltaDifference",1E3],hra:["networkMeasurementGranularity","video_location"],syc:["maxFragsForFittableOnBranching",300],Fh:["applyProfileStreamingOffset",!0],hJb:["sanitizeMediaVideoFrameDuration",!0],Thc:["enableWsslEstimate",!1],Byc:["maxRequestsToAttachOnBranchActivation",void 0],$Ma:["enableManagerDebugTraces",!1],Qua:["simulatePartialBlocks",!0],iAb:["liveInitialFetchSizeBytes",1024],Uwc:["liveTextInitialFetchSizeBytes",40],uwc:["liveEditInitialFetchSizeBytes",4096],WR:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],dAb:["liveAdjustAudioTimestamps",!1],Ala:["debugFragmentTimes",!1],uma:["enableTwoPartLiveFragmentEditing",!0],RDc:["parseAdditionalBoxesMp4Header",!0],w8c:["minAudioMediaRequestDurationCache",0],E8c:["minVideoMediaRequestDurationCache",0],XMa:["enableForcedJsRequests",!1],Kzc:["missedRequestFailureTimeout",5E3],gBb:["markRequestActiveOnFirstByte",!1],F1:["useNativeDataViewMethods",!0],ira:["networkRequestRetryDelay",500],oAc:["networkRequestRetryMinJitter",100],nAc:["networkRequestRetryMaxJitter",2E3],Q0a:["translateToVp9Draft",!1],hYa:["reorderTrakMvex",!1],Hxb:["insertSilentFrames",0],W4c:["forceDiscontinuityAtTransition",!0],had:["supportAudioResetOnDiscontinuity",void 0],gad:["supportAudioEasingOnDiscontinuity",void 0],f8c:["maxWsslRequestSize",131072],e8c:["maxWsslRequestRatio",.2],Wpa:["liveEarlyRequestProbability",.05],V$:["liveEarlyRequestDefaultOffsetMs",-500],Fda:["supportLiveIdrMismatch",!1],h1:["synthesizeLiveIdrMismatch",0],ghc:["enableCsprNonPipelined",!1],dhc:["enableCprAudioNonPipelined",!1],c8:["enableCprVideoNonPipelined",!1],Ghc:["enablePaceReportLogging",!1],CDc:["paceRateSelectorAlgorithm","regression"],DDc:["paceRateSelectorAlgorithmAudio","default"],EDc:["paceRateSelectorAlgorithmNonPipelined","default"],RLb:["staticPacingRateKbps",0],bla:["clientPacingParams",{minRequiredBuffer:0,rateDiscountFactors:[1,1,1],lowestAllowedRateFactor:1,lowestAllowedFragmentBitrateFactors:[0,0,0]}],iSc:["unpacedFragmentInterval",0],UIc:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{offset:0}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:0}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{maxAverageBitrate:6.4}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2.8}}]],CQc:["targetBufferLevelStddevMultiplier",1],BQc:["targetBufferLevelDurationMs",0],GDc:["pacingTargetBufferStrategy","capacityPercentage"],Dzc:["minTargetBufferLevelMs",27E4],$qa:["needMinimumNetworkConfidence",!0],yka:["biasTowardHistoricalThroughput",!1],pwc:["liveDvrSwitchThresholdms",1E4],jH:["probeServerWhenError",!1],Oba:["probeBeforeSwitchingBackToPrimary",!0],UZ:["minIntervalForSwitchingBackToPrimary",6E4],vaa:["maxIntervalForSwitchingBackToPrimary",96E4],HX:["enableInitialThroughputHistory",!0],mxc:["locationSelectorPersistFailures",!0],caa:["locationStatisticsUpdateInterval",6E4],Yrc:["httpsConnectErrorAsPerm",!1],Uda:["throttledNetworkFailureThresholdMs",2E3],Aaa:["maxThrottledNetworkFailures",5],fra:["networkFailureResetWaitMs",2E3],uaa:["maxBufferingTimeAllowedWithNetworkError",6E4],vJc:["replicateErrorDirectorInitialBuffering",!0],dra:["networkFailureAbandonMs",6E4],HO:["allowSwitchback",!0],IZ:["maxDelayToReportFailure",300],lta:["probeRequestTimeoutMilliseconds",3E4],M9c:["probeRequestConnectTimeoutMilliseconds",8E3],kta:["probeDetailDenominator",100],Maa:["minProbeIntervalMs",2E3],Paa:["minStreamableConcurrencyWindow",3E3],Fyc:["maxStreamableConcurrencyWindow",Infinity],Bda:["streamableConcurrencyFactor",.3],RO:["bufferingConcurrencyWindow",7800],rHb:["rebufferRiskHalfLife",1E4],GX:["enableDiscontiguousBuffering",!1],HZ:["maxAllowedOutstandingRequests",4],aqa:["liveRequestSpreadMs",1E3],qTa:["liveConsiderSpreadInCushion",!1],W$:["liveEdgeCushion",0],rTa:["liveEdgeCushionWithSpreadMs",0],sma:["enableLive5XXHandling",!1],vp:["switchableAudioProfiles",[]],zaa:["maxRebufSize",Infinity],T_:["prebufferTimeLimit",6E4],q6:["audioBufferTargetAvailableSize",262144],Hea:["videoBufferTargetAvailableSize",1048576],cwb:["graphSelectorSetAudioRate",!1],evc:["jointStreamCreationAlgorithm","optimized"],hCb:["minimumBufferingCompleteInterval",1E4],a7b:["bufferingCompleteOnMemoryLimit",!1],rqa:["maxFastPlayBufferInMs",2E4],jBb:["maxBufferingCompleteBufferInMs",Infinity],rFc:["playgraphDefaultWeight",65520],xUa:["minimumDownstreamBranchProbability",.075],xP:["enableCombinedPlaygraphs",!0],vC:["enableAdPlaygraphs",!0],AP:["enableLiveAdPlaygraphs",!0],EJa:["branchCreationThreshold",12E4],N6b:["branchDistanceThreshold",6E4],qUc:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],qR:["maxTotalBufferLevelPerSession",0],y4b:["allowParallelStreaming",!0],Ila:["defaultHeaderCacheSize",4],Hla:["defaultHeaderCacheDataPrefetchMs",0],jvc:["keepWishListOnExpiration",!0],g$c:["reuseOnErrorCacheSize",1],TAb:["manifestCacheDormantCacheEnabled",!0],Mxc:["manifestCacheReuseOnErrorEnabled",!0],$pa:["livePrefetchEnabled",!1],SFc:["prefetchWeightBudget",32],TFc:["prefetchWhilePlaying",!0],$Fc:["prefetcherSoftReset",!0],OFc:["prefetchBudgetInBytes",0],Gsa:["pipelineHealthThresholdCriticalMs",2E3],Hsa:["pipelineHealthThresholdLowMs",6E3],DP:["enableRequestAbandonment",!1],sca:["requestAbandonmentLockIntervalMs",1E4],lva:["streamModeAppendAttachThreshold",.75],uNc:["shareDownloadTracks",!0],vNc:["shareOpenRangeTracks",!1],uTc:["usePipelineForAudio",!1],tTc:["usePipelineDetectionForAudio",!1],vTc:["usePipelineForBranchedAudio",!0],wTc:["usePipelineForText",!0],vqa:["maxParallelConnections",3],GZ:["maxActiveRequestsPerSession",void 0],Naa:["minRequestSize",65536],w_a:["socketReceiveBufferSize",0],t6:["audioSocketReceiveBufferSize",32768],Mea:["videoSocketReceiveBufferSize",65536],PQc:["textSocketReceiveBufferSize",32768],cPb:["usePipelineDetectionForVideo",!1],Ezc:["minVideoSocketReceiveBufferSize",65536],Boa:["headersSocketReceiveBufferSize",32768],Afc:["disableHeaderDownloadTracks",!1],Y0:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],Ywb:["ignoreUserFilterOnEmptyResult",!0],NX:["enableResolutionVMAFStreamFilter",!1],xba:["percentCapTitlesForResolutionVMAFStreamFilter",100],t0:["resolutionVMAFCappingRuleList",[]],sTc:["useLiveBitrateDynamicCap",!0],h5b:["aseDiagnostics",[{bc:"queue-audit",enabled:!0},{bc:"task-audit",enabled:!0},{bc:"trace-ShimSession",enabled:!0},{bc:"trace-engine",enabled:!0},{bc:"trace-RequestPacer",enabled:!0},{bc:"trace-BufferStateTracker",enabled:!0},{bc:"trace-GraphStreamingProcess",enabled:!0},{bc:"trace-AsePlaygraph",enabled:!0},{bc:"playgraph-branch-audit",enabled:!0},{bc:"content-playgraph",enabled:!0},{bc:"trace-CphAsePlaygraph",enabled:!0},{bc:"trace-GraphLocation",enabled:!0},{bc:"cache-ads::gls",enabled:!0},{bc:"cache-content::gls",enabled:!0},{bc:"trace-LiveOCSideChannel",enabled:!0},{bc:"trace-media-events-provider",enabled:!0},{bc:"trace-Prefetcher",enabled:!0},{bc:"trace-AdBreakHydrator",enabled:!0}]],Zgc:["enableAseReporting",!0],czc:["memDeadlockShouldCheckMemory",!0],bzc:["memDeadlockOverageThreshold",.9],azc:["memDeadlockMaxUtilizationPercentage",.5],Xgc:["enableAdLruCaches",!1],msa:["paddingMediaType","padding"],lsa:["paddingDurationMs",1E3],xyc:["maxLiveDAIReplacedMismatchDurationMs",2100],MX:["enablePrerollForInitialSeek",!1],WIc:["rehydrateSkippableAdBreaks",!0],Vwb:["hydrateWaitTimeBetweenAdBreaksMs",5E3],sBb:["maxPlayerDistancePriorToAdBreakHydrationMs",6E4],s8:["excludedContentPlaygraphIds",[]],Mkb:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],D0:["seamlessAudio",!1],Xja:["appendFirstHeaderOnComplete",!0],rwa:["waitForDrmToAppendMedia",!1],o4c:["enableJustInTimeAppends",!1],ZQc:["timeBeforeEndOfStreamBufferMark",6E3],Sec:["delayNotificationOfEoS",!1],Mqa:["minAudioPtsGap",void 0],Hzc:["minimumAudioFramesPerFragment",1],HS:["requireAudioStreamToEncompassVideo",!1],Faa:["mediaSourceSupportsNegativePts",!1],NRc:["truncateEndOfStreamAudio",!1],PRa:["insertSilentFramesOnSeek",!1],Ixb:["insertSilentFramesOnSeekForTitles",[]],bZa:["seamlessAudioMaximumSyncError",void 0],cZa:["seamlessAudioMinimumSyncError",void 0],Vkb:["audioProfilesNonSyncSamples",["xheaac-dash"]],mJ:["applyProfileTimestampOffset",!1],A1a:["useDpiAssumedAacEncoderDelay",!0],Zsc:["insertSilentFramesOnSeekCount",3],sua:["segmentFadeInDuration",-1],tua:["segmentFadeOutDuration",-1],KZ:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],w0:["retainSbrOnFade",!1],Gxb:["insertSilentFrameOnFade",!0],$ma:["forceAppendHeadersAfterDrm",!1],wkb:["appendPacingFactor",0],Q4b:["appendPacingThreshold",3E3],xhc:["enableLiveRequestLogger",!1],M8b:["cdndldistEnabled",!1],nFc:["playerPtsPadding",1],bCb:["minNumSessionHistory",5],slb:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],Xpa:["liveLowQualityAvoidance",!0],X$:["liveLowQualityThreshold",750],wZ:["liveLowQualityMultiplier",6],mAb:["liveReportSendIntervalMs",6E4],tTa:["liveReportCollectIntervalMs",5E3],YOb:["useConfigManager",!0],Eqc:["globalConfigMutationAllowList",{BP:"enableMissingSegmentsReplacement",Uk:"minimumPresentationDelayMs",fp:"minPrebufSize",DP:"enableRequestAbandonment",LX:"enableMediaEventsTrack",uZ:"liveAdManifestWindowMs",g6:"alwaysRetainAds",AP:"enableLiveAdPlaygraphs"}],Hoa:["ignoreShortResponses",!0],WKb:["shortResponseDurationMs",10],VKb:["shortResponseBytes",1E4],b0b:["expandDownloadTime",!0],jCb:["minimumResponseDurationMs",10],Sqa:["minimumMeasurementTime",500],Rqa:["minimumMeasurementBytes",131072],nta:["probingMeasurementTime",2E3],mta:["probingMeasurementBytes",262144],lPc:["stopNetworkConfidence",!0],Q0b:["historicBandwidthUpdateInterval",2E3],eva:["stopOnAllInactiveRequests",!1],FX:["enableActiveRequestsInFilters",!0],sIb:["resetActiveRequestsAtSessionInit",!0],Tqb:["enableThroughputTraceResearchData",!1],TMb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],jQb:["wsslAggregationMethod","max"],pua:["secondThroughputEstimator","slidingwindow"],fhb:["defaultFilter","throughput-ewma"],Q_b:["defaultFilterField","average"],yib:["secondaryFilter","throughput-sw"],Yua:["startMonitorOnLoadStart",!1],V_b:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-sw-fast throughput-iqr avtp entropy deliverytime").split(" ")],c0b:["experimentalFilter",["initial-throughput-ewma"]],DGa:["filterDefinitionOverrides",{"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:1E4,playerStates:[0,1]},"throughput-ewma":{mw:4060.623425},"throughput-ewma2":{type:"discontiguous-ewma",mw:97831.788213}}],ghb:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:4060.623425},"throughput-ewma2":{type:"discontiguous-ewma",mw:97831.788213},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:1E4,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-sw-fast":{type:"slidingwindow",mw:500},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20,min_iv:500,min_b:16384}}],f0b:["fastHistoricBandwidthExpirationTime",10368E3],v0b:["bandwidthExpirationTime",5184E3],e0b:["failureExpirationTime",86400],Xhb:["minReportedNetIntrDuration",4E3],mAc:["netIntrStoreWindow",36E3],P8c:["minNetIntrDuration",8E3],Oaa:["minSessionHistoryDuration",3E5],yaa:["maxNumSessionHistoryStored",10],msc:["ignorePacedRequestStrategy","none"],rba:["pacedThresholdPct",.1],OMa:["effectivePaceRateFactor",1],H_a:["stddevPredictorMultiplier",-.3],I_a:["stddevPredictorUpperMultiplier",2],fPc:["stddevPredictorSource","deliverytime"],Wka:["ciPredictorSource","throughput-ci"],Aja:["addHeaderDataToNetworkMonitor",!0],Qta:["reportFailedRequestsToNetworkMonitor",!1],Bla:["ase_location_history",0],zba:["periodicHistoryPersistMs",0],O9:["headerRequestSize",4096],SX:["estimateHeaderSize",!0],xTc:["useSidxInfoFromManifestForHeaderRequestSize",!1],Rrb:["fastPlayHeaderRequestSize",0],wUa:["minTimeBetweenHeaderRequests",void 0],CP:["enableOCSideChannel",!0],D7:["decryptOCSideChannelMinInterval",1E3],Gla:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],IX:["enableLiveOCSideChannelRefresh",!0],yZ:["liveOCSideChannelRefreshInterval",3E4],j4:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],H8:["forceImmediateTransitionTypeForTitles",[]],G8:["forceImmediateTransitionExitZone",0],qqa:["maxActiveRequestsSABCell100",2],e3c:["contentOverrides",void 0],f3c:["contentProfileOverrides",void 0],uqa:["maxNetworkErrorsDuringBuffering",20],ryc:["maxFastPlayContentTimeThresholdMs",112E3],Raa:["minimumTimeBeforeBranchDecision",2E3],Gzc:["minimumAppendedMediaBeforePlayback",5E3],$yb:["jitBranchAppendingDistance",1E4],b$c:["researchEnvironmentEnabled",!1],zla:["ase_dump_fragments",!1],yLb:["stallAtFrameCountAudio",void 0],cUa:["maxIQRSamples",100],uUa:["minIQRSamples",5],t$c:["seamlessAudioProfiles",[]],u$c:["seamlessAudioProfilesAndTitles",{}],sgc:["editCompleteFragments",!0],P5b:["audioOverlapGuardSampleCount",2],Khc:["enableRecordJSBridgePerf",!1],rAa:["JSBridgeTDigestConfig",{maxc:25,c:.5}],WQa:["hindsightDenominator",0],VQa:["hindsightDebugDenominator",0],h6c:["hindsightAlgorithmsEnabled",[]],XQa:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],Tu:["aseReportDenominator",0],qz:["aseReportIntervalMs",3E5],nJ:["aseReportMaxStreamSelections",400],fLa:["contiguousBufferMultiplier",3],Qnb:["contiguousBufferMinimumAudio",1048576],Snb:["contiguousBufferMinimumVideo",8388608],Rnb:["contiguousBufferMinimumText",0],XH:["useBufferSizeLimiter",!1],yTc:["useStaticBufferSizeLimiter",!1],e0a:["supportsPtsChanged",!0],GM:["usePrioritySetTimeout",!1],nmb:["centralizeClockSchedulers",!0],llb:["backOffSetTimeout",!0],Q$c:["skipIntroPlaygraphEnabled",!1],e8:["enableMediaEventHistory",!0],ahc:["enableBufferSizeLimiterTracer",!1],uTa:["liveShouldAccountForPlayDelay",!1],ebd:["useManifestServerExpiration",!1],g6:["alwaysRetainAds",!1],LX:["enableMediaEventsTrack",!1],uZ:["liveAdManifestWindowMs",1E4],pTa:["liveAdManifestWindowAllowanceMs",5E3],owc:["liveAdManifestWindowOnset",0],vhc:["enableLiveManifestThrottling",!0],OIb:["reuseTcpConnectionsWhenStickySteered",!1],zP:["enableLiveAdDynamicAutoskip",!0],Pwc:["liveShareTcpConnections",[[]]],Vwc:["liveUseMediaTcpForHeaders",!1],Oda:["syntheticAdBreakUx",""],IDc:["padOcaSideChannelRequests",!0],Awc:["liveHydrationMinDistanceFromLiveEdge",3E4],x8b:["canPerformHydrationsCloseToLiveEdge",!1],v7c:["liveHydrationMinDistanceFromPlayback",12E4],ywc:["liveHydrationDefaultJitterWindow",3E4],zwc:["liveHydrationDistanceThatNeedJitter",12E4],G2c:["canPerformSoftHydrations",!0],BDc:["paceHydrationPolicyByLiveEdge",!0],wP:["enableBlackBoxNotification",!0],Ewc:["liveMediaEventsMinBufferMs",4E3],d8c:["maxWaitTimeForMediaEventsWhileBufferingMS",5E3],Dwc:["liveMediaEventsCatchupMs",3E4],pgc:["earlyFetchMediaEvents",!0],jAb:["liveMaximumEventsCatchupMs",12E4],Ygc:["enableAdPlaygraphsForBranching",!0],D4b:["alwaysSendSideChannel",!0],Gec:["defaultTimeoutForFetchRequests",8E3],YLc:["serverClockSyncOnViewableRetrievalTimeout",1E4],yhc:["enableLiveWithAdsOptimalPanic",!1],x6b:["batchRequestThrottlerMaxDuration",15E3],ulb:["batchRequestThrottlerSleepDuration",0],yP:["enableLiveAdBreakReportingEvents",!0],Uk:["minimumPresentationDelayMs",1E4],dR:["liveEdgeSegmentSkipCount",0],Vyc:["mediaEventsMaxRetry",20],bNa:["enablePresentationDelayControl",!1],Sda:["targetPresentationDelayToleranceMs",500],$sa:["presentationDelayQoeLockPeriodMs",6E4],JX:["enableLiveRequestPacing",!0],uhc:["enableLiveLikeRequestPacing",!1],Cwc:["liveLikeRequestPacingMultiplier",1],CZ:["logarithmicRequestPacingCurveCenterPositionMs",4E4],DZ:["logarithmicRequestPacingCurveSharpness",8],cL:["maxLiveTargetBufferDurationMs",24E4],eR:["liveIsEllaEnabled",!1],Bwc:["liveIsEllaABREnabled",!0],YC:["liveIsEllaHttpMixingEnabled",!0],vwc:["liveEllaEdgeCushion",4E3],gAb:["liveEllaProximityThresholdMs",4E3],wwc:["liveEllaProximityCheckIntervalMs",500],xwc:["liveEllaTimeoutMultiplier",2],ygc:["ellaAudioThroughputPercentage",10],Lgc:["ellaThroughputBasedSelectionMargin",.4],Igc:["ellaPktLossRateThreshold",[.01,.02]],Jgc:["ellaQueuingDelayThreshold",[20,50]],Dgc:["ellaLockPeriodToStayMs",1E4],Cgc:["ellaLockPeriodToDrainMs",1E4],Egc:["ellaMaxEncodingBitrateKbps",6500],Fgc:["ellaMinEncodingBitrateKbps",800],WVa:["overrideManifestForElla",!0],uEb:["overrideEllaRelayServers",[{id:2,c6:"2a00:86c0:2028:2028::166",port:7002},{id:1,c6:"::1",port:7002}]],Bgc:["ellaFecRate",.1],Kgc:["ellaSendRateMultiplier",[1.1,1.2,1.5]],zgc:["ellaChannelNamePrefix","/2557822/1263725932"],Ggc:["ellaMovieId",82101269],g8:["enableSvodRequestPacing",!0],e1:["svodBufferGrowthRateSlope",2],WZ:["minSvodTargetBufferDurationMs",6E4],Phc:["enableSvodLogarithmicPacing",!1],pQc:["svodLogarithmicRequestPacingCurveCenterPositionMs",4E4],qQc:["svodLogarithmicRequestPacingCurveSharpness",8],CNa:["explicitVideoDownloadablesMap",{}],j4b:["adsTruncationThreshold",2500]};b.T$b=b.bLa;b.Vf=b.T$b;},49502:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},7559:function(t,b){function a(n,c){var h;c.some(function(f){var e;e=f.profiles;(e=e && 0 <= e.indexOf(n)) && (h=f.override);return e;});return h;}function d(n,c){return !!c && c.vp && 0 <= c.vp.indexOf(n);}Object.defineProperties(b,{__esModule:{value:!0}});b.J1c=function(n){return n.D0;};b.Oub=function(n,c){return void 0 !== n.Mqa?n.Mqa:c && void 0 !== c.Mqa?c.Mqa:100;};b.Elc=function(n,c){n=n.profile;n=d(n,c)?a(n,c.KH):a(n,c.lka);return {Ox:n && n.minInitAudioBitrate || c.Ox,Ot:n && n.maxInitAudioBitrate || c.Ot,wzc:n && n.minAudioBitrate || -Infinity,lyc:n && n.maxAudioBitrate || Infinity,Qx:n && n.minRequiredAudioBuffer || c.VZ};};b.Vxb=d;},78541:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.pC=function(h,f,e,g,k,l,m,p){var r,q,u;d.l && g.trace("AsePlaygraph.createRequestQueue()");r=e.OIb && f.QC && f.lk?f.lk.R:f.R;q=f.mmc(h);d.l && g.trace(("AsePlaygraph.createRequestQueue for ").concat(f.R,"/").concat(h," (").concat(f.QC?"sticky":"non-sticky",") using ").concat(r,"/").concat(q));u=n.hI.instance.pC(q,r,!0,!1,{TJ:e.TJ,za:k},e);u.zj.on(u,"networkfailing",function(){var v;d.l && g.trace("requestQueue OnNetworkFailing: ",u);u.INa && ((0,c.assert)(u.JNa),null === (v=f.MP) || void 0 === v?void 0:v.pH(void 0,u.JNa,void 0,u.dh,u.Rg));f.Ap();});u.zj.on(u,"error",function(){p(u.dh,u.Rg);});u.on("transportreport",function(v){v.fNa=f.Lt.GP;l(v);});u.on("mediaRequestComplete",m);u.Sb();return u;};d=a(48170);n=a(42431);c=a(52571);},42431:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hI=void 0;d=a(22970);n=a(66164);c=d.__importDefault(a(14282));h=a(65161);f=a(91772);t=(function(){function e(g){this.RN=g;this.ka=[];this.console=new n.platform.Console("ASEJS_DOWNLOAD_TRACK_POOL","asejs");}Object.defineProperties(e,{instance:{get:function(){void 0 === e.fz && (e.fz=new e(n.platform.I2));return e.fz;},enumerable:!1,configurable:!0}});e.reset=function(){e.fz=void 0;};e.prototype.pC=function(g,k,l,m,p,r){var q;q=r.uNc?this.Sjc(l,k,g,r.vNc):-1;-1 === q?(q={track:this.occ(l,m,g,p,r),Ij:l,R:k,ZGb:g,KL:[],wm:!1,lP:!1},this.ka.push(q),this.mIc(q),g=!1):(g=!0,q=this.ka[q]);g=new f.w4(this.console,q.track,q.wm,g);q.KL.push(g);return g;};e.prototype.mIc=function(g){function k(){g.wm=!0;g.track.removeListener("created",k);}g.track.on("created",k);};e.prototype.O7=function(g){var k,l;g.tt();k=this.z8(function(m){return m.track === g.track;});if(-1 !== k){if((k=this.ka[k],1 === k.KL.length))(k.track.tt(),k.lP=!0);else {l=k.KL.indexOf(g);0 <= l && k.KL.splice(l,1);}}else g.track.tt();};e.prototype.Pe=function(){this.RN.Pe();};e.prototype.occ=function(g,k,l,m,p){var r,q,u,v,w,x;r=this;q=!1;u=!1;v=!1;w=m.za;g?l === h.v.U?(g=1,p.gs?(v=!0,g=p.vqa):p.GZ && 2 < p.GZ && (v=!0,g=p.GZ),g={type:this.RN.U,openRange:w?!1:!v,pipeline:v,connections:g,socketBufferSize:p.Mea,minRequestSize:p.Naa}):l === h.v.X?(q=p.gs && (p.uTc || k && p.vTc),g={type:this.RN.X,openRange:w?!1:!q,pipeline:q,connections:1,socketBufferSize:p.t6,minRequestSize:p.Naa}):l === h.v.Ba?(u=w?!1:!p.wTc,g={type:this.RN.Ba,openRange:u,pipeline:p.gs,connections:1,socketBufferSize:p.PQc,minRequestSize:p.Naa}):g={type:p.Afc?this.RN.U:this.RN.YTb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:p.Boa,minRequestSize:p.Naa}:g={type:l === h.v.X?c.default.Ep.X:c.default.Ep.U,openRange:!1,pipeline:!1,connections:1,socketBufferSize:l === h.v.X?p.t6:p.Mea,minRequestSize:p.Naa};x=new this.RN(g,m);x.gs=v;x.on("transportreport",function(y){var z;z=r.z8(function(B){return B.track === x;});-1 !== z && (z=r.ka[z],z.KL.length && z.KL[0].emit("transportreport",y));});x.on("mediaRequestComplete",function(y){var z;z=r.z8(function(B){return B.track === x;});-1 !== z && (z=r.ka[z],z.KL.length && z.KL[0].emit("mediaRequestComplete",y));});x.on("destroyed",function(){var y;y=r.z8(function(z){return z.track === x;});-1 !== y && r.ka.splice(y,1);x.removeAllListeners();});x.on("pipelinedisabled",function(){x.gs=!1;if(w)x.TXa(d.__assign(d.__assign({},x.config),{pipeline:!1,openRange:!1,connections:1}));else if(q && p.tTc || p.cPb)p.cPb && x.config.type === h.v.U?x.TXa(d.__assign(d.__assign({},x.config),{socketBufferSize:p.Ezc,pipeline:!1,openRange:!0,connections:1})):x.TXa(d.__assign(d.__assign({},x.config),{pipeline:!1,openRange:!0}));});return x;};e.prototype.Sjc=function(g,k,l,m){return this.z8(function(p){return !p.lP && (!m && p.track.config.e9c || !g?!p.Ij && p.ZGb === l:p.Ij && p.R === k && p.ZGb === l);});};e.prototype.z8=function(g){for(var k=0;k < this.ka.length;++k)if(g(this.ka[k]))return k;return -1;};return e;})();b.hI=t;},91772:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.w4=void 0;d=a(22970);n=a(90745);t=(function(c){function h(f,e,g,k){var l;l=c.call(this) || this;l.qb=f;l.track=e;l.wm=!1;l.yK=!1;l.zj=new n.af();l.zj.on(e,"networkfailing",function(){l.emit("networkfailing");});l.zj.on(e,"error",function(){l.qb.warn("requestQueue got error");l.emit("error");});if(g)(l.wm=!0,Promise.resolve().then(function(){return l.emit("created");}));else l.zj.on(e,"created",function(){l.wm=!0;l.emit("created");});l.yK=k;return l;}d.__extends(h,c);Object.defineProperties(h.prototype,{INa:{get:function(){return this.track.INa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dh:{get:function(){return this.track.dh;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Rg:{get:function(){return this.track.Rg;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{JNa:{get:function(){return this.track.JNa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});h.prototype.Sb=function(){var f,e;this.yK || (null === (e=(f=this.track).Sb) || void 0 === e?void 0:e.call(f),this.yK=!0);};h.prototype.toString=function(){return this.track.toString();};h.prototype.toJSON=function(){return this.track;};h.prototype.tt=function(){this.zj.clear();};return h;})(n.EventEmitter);b.w4=t;},42193:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.s6a=void 0;d=a(22970);n=a(26388);c=a(18690);h=a(68902);f=a(87231);e=a(67895);t=(function(){function g(k,l,m,p,r){this.console=l;this.config=r;this.PMa=!1;this.hx=new h.x6a(k);k=this.qcc(m,p);m=this.kdc(m,p);0 < k[n.v.X].length && 0 < k[n.v.U].length && 0 < m[n.v.X].length && 0 < m[n.v.U].length?(l.info("EllaAlgorithms: creating channel selector and relay node selector"),this.QMa=c.u6a.dcc(k,this.hx,r),this.Dqb=e.y6a.jdc(l,m),this.PMa=!0):l.info("EllaAlgorithms: not creating channel selector and relay node selector due to incomplete information from manifest");}g.prototype.qcc=function(k,l){var m;m={0:[],1:[],2:[],3:[]};m[n.v.X]=this.iob(k);m[n.v.U]=this.iob(l);return m;};g.prototype.iob=function(k){var l,m,p,r,v;if(void 0 === k)return [];r=[];if(this.config.WVa && k.R === String(this.config.Ggc))try{for(var q=d.__values(k.Bd),u=q.next();!u.done;u=q.next()){v=u.value;r.push(new f.bza(v.Qa,v.bitrate,this.ddc(v)));}}catch(B){var w;w={error:B};}finally{try{u && !u.done && (l=q.return) && l.call(q);}finally{if(w)throw w.error;}}else try{for(var x=d.__values(k.Bd),y=x.next();!y.done;y=x.next())(v=y.value,(null === (p=v.nR) || void 0 === p?0:p.jma) && r.push(new f.bza(v.Qa,v.bitrate,v.nR.jma)));}catch(B){var z;z={error:B};}finally{try{y && !y.done && (m=x.return) && m.call(x);}finally{if(z)throw z.error;}}return r;};g.prototype.ddc=function(k){var l,m,p,r,q;l=[];m=this.config.zgc;p=this.config.Bgc;r=k.Qa;q=this.console;this.config.Kgc.forEach(function(u){var v;v=Number((1 / u).toFixed(2));v=m + ("/").concat(k.Qa,"?dutyCycle=").concat(v,"&fec=").concat(p);l.push({If:v,tmb:Number(r),TJb:u,wma:k.bitrate,Srb:p,Mnb:!0});q.info("bitrate: " + k.bitrate + ", channel name: " + v);});return l;};g.prototype.kdc=function(k,l){var m;m={0:[],1:[],2:[],3:[]};this.config.WVa?(l=this.config.uEb,m[n.v.X]=l.map(function(p){return p.id;}),m[n.v.U]=l.map(function(p){return p.id;})):(k && (k=k.Cj,k.vS && (m[n.v.X]=k.vS.map(function(p){return p.id;}))),l && (k=l.Cj,k.vS && (m[n.v.U]=k.vS.map(function(p){return p.id;}))));return m;};return g;})();b.s6a=t;},63292:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.t6a=void 0;d=a(22970);t=a(66164);n=a(91176);a(65161);c=new t.platform.Console("ASEJS_ELLA_ASE_CLIENT","media|asejs");a=(function(){function h(f,e,g,k,l,m){this.config=f;this.track=e;this.Agc=g;this.bq=k;this.Bm=l;this.gca=m;this.Mo=this.Rt=this.OF=this.xm=null;this.aR={FD:0,dD:0,cH:0,lH:0};this.track=e;this.mediaType=this.track.mediaType;c.warn(this.mediaType,"ELLA: Constructor: ",this.config.eR);(0,n.assert)(l);(0,n.assert)(m);c.warn(this.mediaType,"using channel selector: ",this.Bm.QMa.name);c.warn(this.mediaType,"first relay server is ",JSON.stringify(this.gca[0]));}h.prototype.czb=function(f,e){return d.__awaiter(this,void 0,void 0,function(){var g,k,l,m,p,r;return d.__generator(this,function(q){switch(q.label){case 0:g=this.track.M.Hgc;if(!g)throw Error("Ella is not enabled for this viewable");return [4,g];case 1:return (k=q.T(),c.warn(this.mediaType,"ELLA: Joining channel",f,e),l=this,[4,k.join(f.c6,f.port,e)]);case 2:return (l.OF=q.T(),null === (m=this.OF) || void 0 === m?void 0:m.on("object",this.nVa.bind(this)),null === (p=this.OF) || void 0 === p?void 0:p.on("progress",this.aCc.bind(this)),null === (r=this.OF) || void 0 === r?void 0:r.on("abandoned",this.mVa.bind(this)),[2]);}});});};h.prototype.u9b=function(f){var e,g,k,l,m;if(!this.config.Bwc)return !1;l=!1;m=this.Bm.Dqb.tvb(this.mediaType);this.Rt=this.Bm.QMa.CJb(this.mediaType,this.xm,f);if(null === m || null === this.Rt)return l;if(m !== (null === (e=this.jX) || void 0 === e?void 0:e.id) || (null === (g=this.Rt) || void 0 === g?void 0:g.If) !== (null === (k=this.xm) || void 0 === k?void 0:k.If))(this.GUa=this.uvb(m),c.warn(this.mediaType," need to switch to channel ",this.Rt.If,", relay server: ",m),l=!0);return l;};h.prototype.nVa=function(f){return d.__awaiter(this,void 0,void 0,function(){var e;return d.__generator(this,function(g){switch(g.label){case 0:c.warn(("").concat(this.mediaType,", ELLA: Object complete (objectId=").concat(f.xc.gp,", channelId=").concat(f.smb,", channelName=").concat(f.If,")"));null === this.Mo && (this.Mo=f.xc.gp);if(f.xc.gp !== this.Mo)return [3,2];this.Agc.nVa(f,this.OF.If);this.Bm.hx.zwa();return [4,this.Ska(!1)];case 1:return (g.T(),this.Mo+=1,[3,5]);case 2:if(!(f.xc.gp < this.Mo))return [3,3];this.bq.MDb && this.bq.MDb(1);c.error(this.mediaType,"Duplicate segment: ",f.smb,f.If,f.xc.gp);return [3,5];case 3:return (e=f.xc.gp - this.Mo,c.error(this.mediaType,"Missing ",e," segments: ",f.smb,f.If,f.xc.gp,this.Mo),this.Bm.hx.zwa(),[4,this.Ska(!0)]);case 4:(g.T(),this.Mo=f.xc.gp + 1,this.bq.o_ && this.bq.o_(e),g.label=5);case 5:return [2];}});});};h.prototype.Ska=function(f){return d.__awaiter(this,void 0,void 0,function(){var e,g,k,l,m,p,r,q,u,v,w;return d.__generator(this,function(x){switch(x.label){case 0:e=this.u9b(f);if(!e)return [3,2];g=this.Rt.Qa;k={T8b:this.Rt.If,wma:this.Rt.VF.bitrate};this.OF && this.OF.close();return [4,this.czb(this.GUa,this.Rt.If)];case 1:(x.T(),c.warn(this.mediaType,"switched from channel: ",null === (l=this.xm) || void 0 === l?void 0:l.If,null === (m=this.xm) || void 0 === m?void 0:m.Qa,null === (p=this.xm) || void 0 === p?void 0:p.VF.bitrate," relay server: ",this.jX," to channel: ",null === (r=this.Rt) || void 0 === r?void 0:r.If,null === (q=this.Rt) || void 0 === q?void 0:q.Qa,null === (u=this.Rt) || void 0 === u?void 0:u.VF.bitrate," relay server: ",this.GUa),this.bq.Qra && (c.trace(this.mediaType,"ELLA: Channel switch detected",g,k,this.aR),this.bq.Qra(g,k,this.aR)),(null === (v=this.xm) || void 0 === v?void 0:v.Qa) !== (null === (w=this.Rt) || void 0 === w?void 0:w.Qa) && this.bq.pVa(this.Rt.Qa),this.xm=this.Rt,this.jX=this.GUa,x.label=2);case 2:return [2];}});});};h.prototype.aCc=function(f){var e,g,k,l,m,p;c.warn(this.mediaType,"ella object progress: ",JSON.stringify(f));p=f.O3c;0 < p.bytesReceived && (p={bytesReceived:p.bytesReceived,oNb:p.FD,nNb:p.H8c,CEb:null !== (e=p.j9c) && void 0 !== e?e:0},f={kb:f.kb,Rb:f.Rb},this.Bm.hx.eIc(null !== (k=null === (g=this.jX) || void 0 === g?void 0:g.id) && void 0 !== k?k:0,null !== (m=null === (l=this.xm) || void 0 === l?void 0:l.If) && void 0 !== m?m:"",this.mediaType,f,p),g=this.Bm.hx.Lo,this.aR={FD:g.FD,dD:g.dD,cH:g.cH,lH:g.lH},c.trace(this.mediaType,"ELLA: Network stat updated",this.aR));};h.prototype.mVa=function(f){return d.__awaiter(this,void 0,void 0,function(){var e;return d.__generator(this,function(g){switch(g.label){case 0:c.warn(this.mediaType,"ella object abandoned: ",JSON.stringify(f));this.bq.mVa(f);if(null === this.Mo)return [2];if(f.gp !== this.Mo)return [3,2];c.error(this.mediaType,"ella object ",f.gp,f.If," is abandoned");this.Mo+=1;this.Bm.hx.zwa();return [4,this.Ska(!0)];case 1:return (g.T(),this.bq.o_ && this.bq.o_(1),[3,5]);case 2:if(!(f.gp < this.Mo))return [3,3];c.warn(this.mediaType,"ella object issue: abandoning a complete object, ",f.gp,f.If);return [3,5];case 3:return (e=f.gp - this.Mo + 1,c.error(this.mediaType,"Multiple ella objects have been lost: ",this.Mo,f.gp),this.Mo=f.gp + 1,this.Bm.hx.zwa(),[4,this.Ska(!0)]);case 4:(g.T(),this.bq.o_ && this.bq.o_(e),g.label=5);case 5:return [2];}});});};h.prototype.KLb=function(){var f,e,g,k;c.warn(this.mediaType,"ELLA: Starting streaming");k=this.Bm.Dqb.tvb(this.mediaType);null === k || void 0 === this.gca?c.error(this.mediaType,"ELLA: No valid relay server. Fall back to HTTP"):(this.jX=this.uvb(k),null === this.jX?c.error(this.mediaType,"ELLA: No valid relay server. Fall back to HTTP"):(this.xm=this.Bm.QMa.CJb(this.mediaType,null,!1),null === this.xm?c.error(this.mediaType,"ELLA: No valid ella channel. Fall back to HTTP"):(this.bq.pVa(this.xm.Qa),this.czb(this.jX,this.xm.If),this.bq.Qra && (k={T8b:this.xm.If,wma:this.xm.VF.bitrate},c.trace(this.mediaType,"ELLA: Channel switch detected",this.xm.Qa,k,this.aR),this.bq.Qra(this.xm.Qa,k,this.aR)),(null === (f=this.xm) || void 0 === f?void 0:f.Qa) !== (null === (e=this.xm) || void 0 === e?void 0:e.Qa) && this.bq.pVa(null === (g=this.xm) || void 0 === g?void 0:g.Qa))));};h.prototype.uvb=function(f){for(var e=null,g=0;g < this.gca.length;g++)if(this.gca[g].id === f){e=this.gca[g];break;}return e;};h.prototype.fva=function(){c.warn(this.mediaType,"ELLA: Stopping streaming");this.OF && this.OF.close();};return h;})();b.t6a=a;},18690:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.u6a=void 0;d=a(7224);b.u6a=(function(){function n(){}n.dcc=function(c,h,f){return new d.xeb(c,h,f);};return n;})();},37468:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.w6a=void 0;d=a(50468);t=a(85254);n=a(75539);c=a(24940);a=(function(){function h(f,e,g){this.p0=c.Cha.xgc;d.ko.Sb(this,f,e,g);}h.eP=function(f,e,g,k,l){g=new h(f,g,k);g.oi=k.oi;g.active=!l;g.complete=l;g.aborted=!1;g.bytesReceived=0;g.location=f.location || "";g.Xe=!1;g.dh=void 0;g.xC=void 0;g.Rg=void 0;g.status=0;g.state=n.Xg.nn;f=e.data;g.wta(f.buffer.slice(f.byteOffset,f.byteLength),!0);return g;};h.prototype.abort=function(){return !1;};h.prototype.xx=function(){return this.complete;};h.prototype.Ne=function(){};h.prototype.ii=function(){return this.Qa;};h.prototype.ZPa=function(){return this.Qa;};h.prototype.NZa=function(f){this.listener=f;};h.prototype.Zmb=function(){this.listener=void 0;};h.prototype.apa=function(){return this.xx();};return h;})();b.w6a=a;(0,t.el)(d.ko,a,!1);},68902:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.x6a=void 0;d=a(26388);n=new (a(66164).platform.Console)("ASEJS_ELLA_NETWORK_MONITOR","media|asejs");t=(function(){function c(h){this.Sc=h;this.lma=0;this.Tqa=Infinity;this.Xda=this.bytesReceived=0;this.Lo={FD:0,dD:0,cH:0,lH:0};}c.prototype.eIc=function(h,f,e,g,k){var l,m;m=k.bytesReceived;n.warn(("receiveChannelInfoUpdate for ").concat(e,": relayNode=").concat(h,",\n                 channelName=").concat(f,", bytes=").concat(m,", packet delay=").concat(k.CEb,",\n                 packets received=").concat(k.oNb,", packets lost=").concat(k.nNb));e === d.v.U && (h=g.Rb - g.kb,this.bytesReceived+=m,this.Xda+=h,this.lma=8 * this.bytesReceived / this.Xda,this.Lo.dD+=Math.abs(k.nNb),this.Lo.FD+=k.oNb,this.Lo.cH=this.Lo.dD / (this.Lo.dD + this.Lo.FD),k=null !== (l=k.CEb) && void 0 !== l?l:this.Tqa,this.Tqa=Math.min(k,this.Tqa),this.Lo.lH=k - this.Tqa,n.warn(("ELLA Network stats updated for ").concat(e,": throughput=").concat(this.lma.toFixed(2),"kbps, packet loss rate=").concat((100 * this.Lo.cH).toFixed(2),"%, queueing delay=").concat(this.Lo.lH.toFixed(2),"ms")));};c.prototype.zwa=function(){this.Xda=this.bytesReceived=0;this.Lo.FD=0;this.Lo.dD=0;n.info("wrapUpMeasurement: Network stats",(100 * this.Lo.cH).toFixed(2),this.Lo.lH);};c.prototype.Ok=function(){var h;h=this.Sc.get().jb.Da;return 0 !== this.lma?this.lma:h;};c.prototype.JY=function(){return {requestId:"0",Al:void 0,type:void 0,ma:void 0};};return c;})();b.x6a=t;},67895:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.y6a=void 0;d=a(56949);b.y6a=(function(){function n(){}n.jdc=function(c,h){return new d.yeb(c,h);};return n;})();},87231:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bza=void 0;b.bza=(function(){return function(a,d,n){this.Qa=a;this.bitrate=d;this.channels=n;};})();},7224:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.xeb=void 0;d=a(66164);n=a(6198);c=a(52571);h=new d.platform.Console("ASEJS_ELLA_CHANNEL_SELECTOR","media|asejs");(function(g){g[g.zI=0]="PROBE";g[g.y4=1]="STAY";g[g.v2=2]="DRAIN";})(f || (f={}));(function(g){g[g.Qga=0]="NO_CONGESTION";g[g.Vdb=1]="SOME_CONGESTION";g[g.D4a=2]="CONGESTION";})(e || (e={}));t=(function(){function g(k,l,m){var p;p=this;this.kma=k;this.hx=l;this.wua="SimpleEllaChannelSelector";this.jC=f.zI;this.N$=-1;this.Wkb=m.ygc;this.TQc=m.Lgc;this.zFb=m.Igc;this.$Gb=m.Jgc;this.oxc=m.Dgc;this.nxc=m.Cgc;this.pyc=m.Egc;this.YBb=m.Fgc;k=this.kma[n.v.U];k=k.filter(function(r){return r.bitrate <= p.pyc;});k[k.length - 1].bitrate >= this.YBb && (k=k.filter(function(r){return r.bitrate >= p.YBb;}));this.kma[n.v.U]=k;}Object.defineProperties(g.prototype,{name:{get:function(){return this.wua;},enumerable:!1,configurable:!0}});g.prototype.CJb=function(k,l,m){var p;if(null === this.kma[k])return null;p=this.kma[k];return null === l?this.DJb(k,p):k === n.v.X?l:k === n.v.U?this.HLc(k,p,l,m):null;};g.prototype.DJb=function(k,l){var m,p;m=this.Ok(k);l.map(function(r){return r.bitrate;});p=l.filter(function(r){return r.bitrate < m;});l=0 === p.length?l[0]:p[p.length - 1];p={Qa:l.Qa,If:l.channels[0].If,VF:l};h.log(("ELLA Channel selected for ").concat(k,": ").concat(p.If," (").concat(l.bitrate,"kbps)"));return p;};g.prototype.ASc=function(k,l){var m;m=this.hoc();switch(this.jC){case f.zI:this.CSc(m,k);break;case f.v2:this.BSc(m);break;case f.y4:this.DSc(m,k);break;default:h.error("Unsupported channel selection state: ",this.jC);}l && (this.jC=f.v2);h.log("updateChannelSelectionState: ",this.jC);};g.prototype.hoc=function(){var k,l,m;k=this.hx.Lo;l=k.cH;k=k.lH;if(l < this.zFb[0] && k < this.$Gb[0]){m=e.Qga;-1 === this.N$ && (this.N$=d.platform.time.ha());}else (m=l > this.zFb[1] || k > this.$Gb[1]?e.D4a:e.Vdb,this.N$=-1);h.log("network congestion level: ",m,l,k);return m;};g.prototype.BSc=function(k){var l;l=d.platform.time.ha();k === e.Qga && l > this.N$ + this.nxc && (this.jC=f.y4);};g.prototype.CSc=function(k,l){this.jC=k === e.Vdb?f.y4:k === e.Qga?l?f.y4:f.zI:f.v2;};g.prototype.DSc=function(k,l){var m;m=d.platform.time.ha();k === e.Qga && !l && m > this.N$ + this.oxc?this.jC=f.zI:k === e.D4a && (this.jC=f.v2);};g.prototype.HLc=function(k,l,m,p){var r,q,u,v,w;(0,c.assert)(k === n.v.U);r=m;q=this.hsb(l,m.Qa);u=q === l.length - 1;v=l[q];w=this.Jjc(v.channels,m.If);this.ASc(u,p);switch(this.jC){case f.y4:r={Qa:l[q].Qa,If:l[q].channels[0].If,VF:l[q]};break;case f.v2:0 < q && --q;m=this.DJb(k,l);m=this.hsb(l,m.Qa);q=Math.min(q,m);p && (q=0);r={Qa:l[q].Qa,If:l[q].channels[0].If,VF:l[q]};break;case f.zI:w < v.channels.length - 1?r={Qa:m.Qa,If:v.channels[w + 1].If,VF:v}:((0,c.assert)(!u),r={Qa:l[q + 1].Qa,If:l[q + 1].channels[0].If,VF:l[q + 1]});break;default:h.error("Invalid channel selection state: ",this.jC);}h.log(("ELLA Channel selection result for ").concat(k,": ").concat(r.If," (").concat(r.VF.bitrate,"kbps)"));return r;};g.prototype.Ok=function(k){var l;l=this.hx.Ok();l=k === n.v.X?this.Wkb / 100 * l:(100 - this.Wkb) / 100 * l;return l * (1 - this.TQc);};g.prototype.hsb=function(k,l){var m;for(m=0;m < k.length && k[m].Qa !== l;m++);(0,c.assert)(m < k.length);return m;};g.prototype.Jjc=function(k,l){var m;for(m=0;m < k.length && k[m].If !== l;m++);(0,c.assert)(m < k.length);return m;};return g;})();b.xeb=t;},56949:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.yeb=b.BYb=void 0;d=a(22970);n=a(66164);b.BYb=(function(){return function(c){this.kf=c;this.r9c.push(n.platform.time.ha());};})();t=(function(){function c(h,f){this.console=h;this.YIc=f;this.XIc=new Map();}c.prototype.tvb=function(h){var f,e,l,m;e=null;h=this.YIc[h];try{for(var g=d.__values(h),k=g.next();!k.done;k=g.next()){l=k.value;m=this.XIc.get(l);if(void 0 === m || !m.kf){e=l;break;}}}catch(r){var p;p={error:r};}finally{try{k && !k.done && (f=g.return) && f.call(g);}finally{if(p)throw p.error;}}return e;};return c;})();b.yeb=t;},14282:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(6198);b["default"]={nWc:{KB:0,$_c:1,name:["STARTUP","STEADY"]},Ep:{X:t.v.X,U:t.v.U,Ba:t.v.Ba,name:["AUDIO","VIDEO","TEXT"]},ZYc:{X:t.v.X,U:t.v.U,Ba:t.v.Ba,name:["AUDIO","VIDEO","TEXT"]},Qj:{URL:0,LN:1,LOCATION:2,tI:3,name:["URL","SERVER","LOCATION","NETWORK"]},Vq:{HAVE_NOTHING:0,zU:1,yU:2,P2:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Ty:{TVc:0,iYc:1,n_c:2,EZc:3,f_c:4,M0c:5,nYc:6,XYc:7,KB:8,Cp:9,ICa:10,RXb:11,Bxa:12,dVb:13,cVb:14,QYb:15,PYb:16,b$a:17,kZb:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},OXc:{tI:0,RWc:1,name:["NETWORK","DECODE"]},T_c:{VWc:"delayedSeamless",xYc:"hideLongTransition"},tU:{fV:0,fa:1,zI:2,name:["RETRY","FAIL","PROBE"]}};},48170:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.l=!1;},83744:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.I6a=void 0;d=a(22970);n=a(90745);c=d.__importStar(a(17267));h=a(66164);f=a(91176);e=new h.platform.Console("ASEJS_ERROR_DIRECTOR","asejs");g=d.__importDefault(a(14282));k=a(86429);l=a(94646);m=a(16131);p=h.platform.Xl;t=(function(){var L6i;function r(q,u,v,w){var o59;o59=2;for(;o59 !== 10;){switch(o59){case 2:this.Hi=q;this.config=u;this.KQa=v;o59=4;break;case 4:this.pK=w;o59=3;break;case 12:this.bTa=h.platform.time.ha();this.EL=new k.hdb(q,w,u);o59=10;break;case 6:var F5Q="is";F5Q+="sueSer";F5Q+="verP";F5Q+="robeRequest";var X0m="networ";X0m+="kFa";X0m+="i";X0m+="led";this.YF=q.za?new m.x9a(u):new l.uU(u);this.zj.addListener(this.Hi,X0m,this.Xqc.bind(this));this.zj.addListener(this.Hi,F5Q,this.frc.bind(this));o59=12;break;case 3:var U3k="1S";U3k+="IYbZ";U3k+="r";U3k+="NJC";U3k+="p9";this.events=new n.EventEmitter();this.zj=new n.af();U3k;this.Smb=new f.u4();o59=6;break;}}}L6i=2;for(;L6i !== 14;){switch(L6i){case 1:r.prototype.L0=function(q){var v4h;v4h=2;for(;v4h !== 1;){switch(v4h){case 4:this.Nua=q;v4h=0;break;case 2:this.Nua=q;v4h=1;break;}}};r.prototype.pH=function(q,u,v,w,x){var d$R,y,z,B,A,D,i7l,F,G,s6e,M8V,i4M,C;d$R=2;for(;d$R !== 12;){switch(d$R){case 3:d$R=C !== l.uU.Eoa?9:12;break;case 13:var d7N="Unmapped failure code";d7N+=" in JSASE error di";d7N+="rector : ";e.error(d7N.concat(w));d$R=12;break;case 2:var a5p=" ";a5p+="o";a5p+="n";a5p+=" ";var k1s=" w";k1s+="i";k1s+="t";k1s+="h";k1s+=" ";var x0k=" ";x0k+="o";x0k+="n";x0k+=" ";var t_1="Fa";t_1+="il";t_1+="ure";t_1+=" ";(z=p.rE.name,B=w?z[w]:void 0,A=this.Hi);e.warn(t_1.concat(B,x0k).concat(null === q || void 0 === q?void 0:q.url,k1s).concat(v,a5p).concat(JSON.stringify(q?q:u)));d$R=5;break;case 8:var e_p="Invalid";e_p+=" affe";e_p+="cted for network fai";e_p+="lure";e.error(e_p);d$R=12;break;case 7:u=function(H){var H$8,J,L,K,h5P,M,P;H$8=2;for(;H$8 !== 7;){switch(H$8){case 8:D.EL.NGc(H,{ckb:K,qea:C,fk:v,dh:w,Nrb:B,Rg:x});H$8=3;break;case 2:(J=H.urls,L=H.url,K=H.Uc);H$8=1;break;case 1:h5P=D.YF.PL(w,K);H$8=h5P === g.default.tU.fa?5:9;break;case 9:H$8=h5P === g.default.tU.zI?8:3;break;case 4:J.some(function(I){var N$v;N$v=2;for(;N$v !== 5;){switch(N$v){case 2:A.pH(M,P,I.url);return M === g.default.Qj.LN;break;}}});H$8=3;break;case 3:var X9o="e";X9o+="r";X9o+="ror";!D.Nua || 0 !== v && void 0 !== v || D.Nua.MJb(X9o,L);H$8=7;break;case 5:(M=C[0],P=C[1]);H$8=4;break;}}};D=this;try{i7l=2;for(;i7l !== 3;){switch(i7l){case 4:G=F.next();i7l=1;break;case 5:u(G.value);i7l=4;break;case 1:i7l=!G.done?5:3;break;case 2:(F=d.__values(q),G=F.next());i7l=1;break;case 14:G=F.next();i7l=9;break;}}}catch(H){var E;E={error:H};}finally{s6e=2;for(;s6e !== 1;){switch(s6e){case 2:try{M8V=2;for(;M8V !== 1;){switch(M8V){case 2:G && !G.done && (y=F.return) && y.call(F);M8V=1;break;}}}finally{i4M=2;for(;i4M !== 5;){switch(i4M){case 3:i4M=E?2:2;break;case 1:throw E.error;i4M=5;break;case 9:throw E.error;i4M=2;break;case 2:i4M=E?1:5;break;}}}s6e=1;break;}}}d$R=12;break;case 9:var y3P="crit";y3P+="icalN";y3P+="etworkEr";y3P+="ror";var M1W="c";M1W+="ritic";M1W+="alNetworkError";var L3$="requ";L3$+="estE";L3$+="rror";var p4R="re";p4R+="quest";p4R+="Err";p4R+="o";p4R+="r";d$R=(this.SK={fk:v,dh:w,Nrb:B,Rg:x},this.events.emit(p4R,{type:L3$,fk:v,errorCode:w,Rg:x}),w && this.YF.Etc(w) && this.events.emit(M1W,{type:y3P,dh:w}),q=this.$Ab(q,u),void 0 === q)?8:7;break;case 5:d$R=w && c.isArray(this.YF.XOa(w))?4:13;break;case 4:C=this.YF.XOa(w) || l.uU.bg;d$R=3;break;}}};r.prototype.Xqc=function(q){var E2M,y,z,B,u,v,w,x;E2M=2;for(;E2M !== 8;){switch(E2M){case 4:(y=this.SK.dh,z=this.SK.fk,B=this.SK.Rg);E2M=3;break;case 5:E2M=this.SK?4:3;break;case 2:var f5N=" ";f5N+="ms a";f5N+="go";var E0d=" ";E0d+="las";E0d+="t";E0d+=" s";E0d+="uccess was ";var Q00="tempora";Q00+="r";Q00+="i";Q00+="ly";var s1W="p";s1W+="e";s1W+="rmane";s1W+="ntl";s1W+="y";var c44="Network has f";c44+="aile";c44+="d ";(u=this,v=q.qpa,w=h.platform.time.ha() - this.bTa,x=this.config);e.warn(c44.concat(v?s1W:Q00,E0d).concat(w,f5N));E2M=5;break;case 3:var N8S="t";N8S+="emporar";N8S+="yNetworkE";N8S+="rror";var a4z="temporaryNetwork";a4z+="Er";a4z+="r";a4z+="o";a4z+="r";v || this.events.emit(a4z,{type:N8S,errorCode:y,fk:z,Rg:B});v?(this.s0 && (clearTimeout(this.s0),this.s0=void 0),this.EL.reset(),this.KQa({qpa:v,iDc:y,kDc:z,lDc:B,zb:q.Uc})):this.s0 || (this.s0=setTimeout(function(){var w17;w17=2;for(;w17 !== 5;){switch(w17){case 2:u.s0=void 0;u.q0();w17=5;break;}}},x.fra));E2M=8;break;}}};r.prototype.frc=function(q){var Z2j,u,v,w,x;Z2j=2;for(;Z2j !== 9;){switch(Z2j){case 2:(v=q.zb,w=q.stream);Z2j=1;break;case 1:Z2j=q.url?5:9;break;case 5:x=q.url.url;q={url:x,Uc:v.id,zb:v,stream:w,urls:v.urls,L:this.Mvc,wGb:!0};(w=null === (u=w.n6) || void 0 === u?void 0:u.IY(q.L,x)) && this.EL.BLa(w,q,v.id);Z2j=9;break;}}};r.prototype.q0=function(){var J4U,q;J4U=2;for(;J4U !== 5;){switch(J4U){case 2:q=this;this.Smb.Wja || this.Smb.bQb(function(){var P72;P72=2;for(;P72 !== 1;){switch(P72){case 2:q.s0 || (q.Hi.q0(),q.YF.q0(),q.pK());P72=1;break;}}});J4U=5;break;}}};r.prototype.EM=function(q){var u2l,u,v;u2l=2;for(;u2l !== 9;){switch(u2l){case 2:var e$M="up";e$M+="dati";e$M+="ngLas";e$M+="tSucces";e$M+="sEvent";var s2l="updat";s2l+="ingL";s2l+="as";s2l+="tSuccessEve";s2l+="nt";(u=this,v=this.config);this.bTa=Math.max(q.$i || h.platform.time.ha(),this.bTa);v.jH && this.EL.EM(q);(q=this.$Ab(q)) && 0 < q.length && q.forEach(function(w){var j_e;j_e=2;for(;j_e !== 5;){switch(j_e){case 2:u.YF.EM(w.Uc);u.Hi.EM(w.Uc);j_e=5;break;}}});this.events.emit(s2l,{type:e$M});u2l=9;break;}}};L6i=7;break;case 2:r.prototype.Ka=function(){var R2d;R2d=2;for(;R2d !== 5;){switch(R2d){case 2:this.zj.clear();this.EL.reset();R2d=5;break;}}};L6i=1;break;case 7:r.prototype.$Ab=function(q,u){var s0M,v,w,x;s0M=2;for(;s0M !== 7;){switch(s0M){case 2:v=this.Hi;s0M=1;break;case 8:u && (x=v.bMc(u.host,u.port).map(function(y){var H_p;H_p=2;for(;H_p !== 1;){switch(H_p){case 2:return {url:v.IY(y.url.url,y.url.stream.n6),Uc:y.zb.id,zb:y.zb,stream:y.url.stream,urls:y.zb.urls};break;}}}).filter(function(y){var O2m;O2m=2;for(;O2m !== 1;){switch(O2m){case 2:return "" !== y.url;break;case 4:return "" == y.url;break;}}}));s0M=9;break;case 9:return x;break;case 5:w=v.dPa(q.stream);this.Mvc=q.oi;s0M=3;break;case 3:x=v.Xna(q.stream).map(function(y){var v7A;v7A=2;for(;v7A !== 1;){switch(v7A){case 2:return {url:q.url,Uc:y.id,zb:y,stream:w,urls:y.urls,L:q.oi};break;}}});s0M=9;break;case 1:s0M=q?5:8;break;}}};return r;break;}}})();b.I6a=t;},94646:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.uU=void 0;t=a(22970);d=a(66164);n=t.__importDefault(a(14282));c=d.platform.Xl.rE;new d.platform.Console("ASEJS_ERROR_MAP","asejs");a=(function(){function h(f){var e,g;this.config=f;this.YF=(e={},e[c.BVc]=h.bg,e[c.UNKNOWN_ERROR]=h.bg,e[c.HZc]=h.bg,e[c.LSb]=h.bg,e[c.t5a]=h.bg,e[c.XSb]=h.bg,e[c.PSb]=h.AH,e[c.$Rb]=h.AH,e[c.G4a]=h.ws,e[c.E4a]=h.ws,e[c.aSb]=h.Eoa,e[c.bSb]=h.ws,e[c.cSb]=h.ws,e[c.XRb]=h.bg,e[c.ZRb]=h.bg,e[c.F4a]=h.KCb,e[c.YRb]=h.bg,e[c.WRb]=h.ws,e[c.BWc]=h.AH,e[c.dUb]=h.ws,e[c.J7a]=h.ws,e[c.I7a]=h.ws,e[c.bUb]=this.config.Yrc?h.AH:h.ws,e[c.Sza]=h.ws,e[c.cUb]=h.z1a,e[c.Tza]=h.AH,e[c.hga]=h.z1a,e[c.Uza]=h.JCb,e[c.M7a]=h.JCb,e[c.A3]=h.AH,e[c.fUb]=h.z1a,e[c.iga]=h.ws,e[c.K7a]=h.AH,e[c.eUb]=h.AH,e[c.SSb]=h.AH,e[c.MSb]=h.bg,e[c.ZYb]=h.bg,e[c.CSb]=h.bg,e[c.DSb]=h.bg,e[c.ESb]=h.bg,e[c.FSb]=h.bg,e[c.GSb]=h.bg,e[c.HSb]=h.bg,e[c.ISb]=h.bg,e[c.JSb]=h.bg,e[c.KSb]=h.bg,e[c.NSb]=h.bg,e[c.OSb]=h.bg,e[c.QSb]=h.bg,e[c.RSb]=h.bg,e[c.TSb]=h.bg,e[c.USb]=h.bg,e[c.VSb]=h.bg,e[c.WSb]=h.bg,e[c.YSb]=h.bg,e[c.ZSb]=h.bg,e[c.YYb]=h.ws,e[c.TIMEOUT]=h.KCb,e);this.Mdc=(g={},g[c.G4a]=!0,g[c.J7a]=!0,g[c.I7a]=!0,g[c.Sza]=!0,g[c.t5a]=!0,g);this.zva={};this.wZa={};}h.prototype.XOa=function(f){return this.YF[f];};h.prototype.Etc=function(f){return !!this.Mdc[f];};h.prototype.PL=function(f,e){var g,k;g=this.config;k=this.XOa(f) || h.bg;this.wZa[e]=k;return g.jH && f !== c.A3?k === h.bg || k === h.ws?n.default.tU.zI:n.default.tU.fa:k !== h.ws || this.BJc(e)?n.default.tU.fa:n.default.tU.fV;};h.prototype.EM=function(f){delete this.zva[f];delete this.wZa[f];};h.prototype.q0=function(){this.zva={};this.wZa={};};h.prototype.BJc=function(f){var e,g,k;e=d.platform.time.ha();g=this.config;k=this.zva[f];if(k){if(!(k.Fd >= e - g.Uda || k.qH || (k.Fd=e,++k.count,k.count < g.Aaa)))return k.qH=!0;}else this.zva[f]={Fd:e,count:1};};h.KCb=[n.default.Qj.tI,!1];h.JCb=[n.default.Qj.tI,!0];h.bg=[n.default.Qj.LN,!1];h.AH=[n.default.Qj.LN,!0];h.z1a=[n.default.Qj.URL,!0];h.Eoa=[-1,!1];h.ws=[n.default.Qj.LN,!1];return h;})();b.uU=a;},16131:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.x9a=void 0;d=a(22970);t=a(66164);n=a(94646);c=t.platform.Xl.rE;a=(function(h){function f(e){var g;g=h.call(this,e) || this;g.config=e;g.YF[c.A3]=n.uU.ws;return g;}d.__extends(f,h);return f;})(n.uU);b.x9a=a;},72681:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.r3a=void 0;d=a(22970);t=a(66164);n=a(90745);c=t.platform.Zl;a=(function(h){function f(e){var g;g=h.call(this) || this;g.EL=e;g.Jia=e.groupId;g.zj=new n.af();g.zj.on(g,c.Ul.l4,g.kD);g.zj.on(g,c.Ul.yI,g.kba);return g;}d.__extends(f,h);f.prototype.aDc=function(e,g,k){c.prototype.open.call(this,e,g,k);};f.prototype.CMc=function(e){this.Jia=e;};Object.defineProperties(f.prototype,{groupId:{get:function(){return this.Jia;},enumerable:!1,configurable:!0}});f.prototype.Ne=function(){this.zj && this.zj.clear();c.prototype.Ne.call(this);};f.prototype.kD=function(e){this.EL.OGc(e.probed,e.affected);this.Ne();};f.prototype.kba=function(e){this.EL.LGc(e.probed,e.affected);this.Ne();};return f;})(c);b.r3a=a;},86429:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.$lb=b.hdb=void 0;d=a(66164);n=a(52571);c=a(59458);h=a(72681);new d.platform.Console("ASEJS_PROBE_MANAGER","asejs");t=(function(){function f(e,g,k){this.Hi=e;this.pK=g;this.config=k;this.gn=new Set();this.Pz={};this.FL={};this.ZS=!0;this.groupId=1;}f.prototype.NGc=function(e,g){var k,l,m,p,r,q,u,v,w,x;k=this;l=this.config;m=e.Uc;p=e.stream;r=e.zb.location;(0,n.assert)(p,"Failing url should have an associated stream");(0,n.assert)(r,"Failing url should have an associated location");q=[];u=p.Aj[0];v=!1;w=this.Pz[m];x=d.platform.time.ha();if(!w)w=this.tNc(m,x,g,e);else if(w.Fd >= x - l.Uda)return;w.qH || (u && r.id === u.id && (e.isPrimary=!0),w.Fd=x,w.qH=!1,w.error=g,++w.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(y){var z,B,A,C,D;A=y.zb.id;C=A + "-" + m;D=k.FL[C];if(void 0 === D || void 0 === D.Pba)(D && D.Iq && clearTimeout(D.Iq),y=null === (B=null === (z=e.stream) || void 0 === z?void 0:z.n6) || void 0 === B?void 0:B.IY(e.L,y.url),(0,n.assert)(y,("Unexpected probeUrl: ").concat(y)),z=k.BLa(y,e,A),k.FL[C]={success:!1,count:0,Pba:z.ii()},q.push(z.ii()),v=!0);-1 === w.zZa.indexOf(A) && w.zZa.push(A);}),0 < q.length && (l={ts:d.platform.time.ha(),es:g.ckb,fc:g.dh,fn:g.Nrb,nc:g.Rg,pb:q,gid:this.groupId},g.fk && (l.hc=g.fk),this.jR(l,"errpb")),v && this.groupId++));};f.prototype.BLa=function(e,g,k){var l,m;l=new h.r3a(this);m="random=" + parseInt(("").concat(1E7 * Math.random()));l.aDc(e + (-1 !== e.indexOf("?")?"&":"?") + m,g,k);return l;};f.prototype.tNc=function(e,g,k,l){var m;m=this.Pz[e];l=l.zb.location;m || (m=this.Pz[e]={count:0,Fd:g,qH:!1,error:k,zZa:[],mXa:{},location:l,L:k.L,y4c:k});return m;};f.prototype.getState=function(e){return this.Pz[e];};f.prototype.W9b=function(e){this.Pz[e]=void 0;};f.prototype.jR=function(e,g){var k;if(this.ZS){k={type:"logdata",target:"endplay",fields:{}};k.fields[g]={type:"array",value:e,adjust:["ts"]};this.Hi.$Ua(k);}};f.prototype.OGc=function(e,g){var k,l,m,p,r,q,u,v,w,x,y,z,B;k=this;p=this.Hi;r=this.config;q=g.Uc;if(g.wGb)p.AYa(e.Uc,!1);else {u=this.Pz[q];if(u){v=e.url;w=this.FL[e.Uc + "-" + q];if(w){x=u.error;w && w.Iq && clearTimeout(w.Iq);w.success=!0;w.count=0;w.Pba=void 0;u.mXa[e.Uc]=!0;w=this.Pz[e.Uc];if((null === w || void 0 === w?0:w.qH) && r.HO){p.AYa(e.Uc,w.error.qea[1]);if(this.ZS){y={ts:d.platform.time.ha(),id:e.requestId,servid:g.Uc,gid:e.groupId?e.groupId:-1};this.jR(y,"errst");}this.Pz[e.Uc]=void 0;this.pK();}if(v !== g.url){z=this.FL[q + "-" + q];if(!z || !z.success){q=null === w || void 0 === w?void 0:w.location;r=Math.min((null === (m=null === (l=null === q || void 0 === q?void 0:q.xb) || void 0 === l?void 0:l.Nr) || void 0 === m?void 0:m.Da) || Math.random() * r.IZ,r.IZ);B=setTimeout(function(){var A;k.gn.delete(B);if(!(!1 !== u.qH || z && z.success) && (u.qH=!0,p.pH(x.qea[0],x.qea[1],g.stream.n6.url,x),k.ZS)){A={ts:d.platform.time.ha(),id:e.requestId,servid:g.Uc,gid:e.groupId?e.groupId:-1};k.jR(A,"erep");}},r);this.gn.add(B);}}this.ZS && (y={ts:d.platform.time.ha(),id:e.requestId,result:1,servid:e.Uc,gid:e.groupId?e.groupId:-1},this.jR(y,"pbres"));}}}};f.prototype.LGc=function(e,g){var k,l,m,p,r,q,u,v,w,x,y,z,B;k=this;if(!g.wGb){p=this.Hi;r=this.config;q=g.Uc;u=this.Pz[q];v=e.Uc;w=this.FL[v + "-" + q];if(w)if(u){x=0;w.success=!1;w.Pba=void 0;u.mXa[v]=!1;y=u.zZa;if(r.HO && v === q && g.isPrimary){z=u.location;z=(null === (m=null === (l=null === z || void 0 === z?void 0:z.xb) || void 0 === l?void 0:l.Nr) || void 0 === m?void 0:m.Da) || 300 * Math.random();l=(0,b.$lb)({h6b:z,KGc:w.count,xzc:r.Maa});w.Iq=setTimeout(function(){var A;w.Iq=void 0;A=k.BLa(e.url,g,v);A.CMc(e.groupId);w.Pba=A.ii();},l);}++w.count;if(v === q && (x=0,y.forEach(function(A){!1 === u.mXa[A] && x++;}),y.length === x && u.count >= r.Aaa)){B=u.error;u.qH=!0;r=g.stream;(0,n.assert)(r,"Probe failed url should have an associated stream");r.urls.forEach(function(A){p.pH(B.qea[0],B.qea[1],A.url,B);k.ZS && (A={ts:d.platform.time.ha(),id:-1,servid:A.zb.id},k.jR(A,"erep"));});}this.ZS && (r={ts:d.platform.time.ha(),id:e.requestId,result:0,servid:e.Uc,gid:e.groupId?e.groupId:-1},this.jR(r,"pbres"));}else w && (w.success=!1,w.Pba=void 0);}};f.prototype.EM=function(e){var g,k,l;if(e.url){k=this.Hi;l=k.vZa(e.url);l || (l=null === (g=this.Hi.Xna(e.stream)[0]) || void 0 === g?void 0:g.id);l && (e=this.Pz[l]) && e.qH && this.config.HO && (k.AYa(e.error.ckb,!1),this.ZS && (k={ts:d.platform.time.ha(),id:-1,servid:l},this.jR(k,"errst")),this.W9b(l),(l=this.FL[l + "-" + l]) && l.Iq && clearTimeout(l.Iq));}};f.prototype.reset=function(){var e,g,k;e=this.FL;for(k in e)e.hasOwnProperty(k) && (g=e[k + "-" + k]) && g.Iq && clearTimeout(g.Iq);this.gn.forEach(function(l){return clearTimeout(l);});this.gn.clear();this.FL={};this.Pz={};};return f;})();b.hdb=t;b.$lb=function(f){var e,g;e=f.W7c;g=f.b7c;g=void 0 === g?.1:g;f=Math.min(Math.max(f.xzc,f.h6b * Math.pow(2,f.KGc)),void 0 === e?12E4:e);e=(0,c.bHb)(0,f * g);return f + e;};},52045:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ipc=function(c,h){if((c=c.sa.K.dy) && 0 !== c.length)return (0,d.ic)(c,function(f){return f.qa.G <= h && h < f.xa.G;});};b.Ttc=function(c,h){return h.index === c.Pd.index?!0:(c=c.sa.K.dy) && 0 !== c.length?c.some(function(f){f=f.qa;return h.qa.Km(f) && f.lessThan(h.xa);}):!1;};b.I6c=function(c,h){return h.index === c.nd.index?!0:(c=c.sa.K.dy) && 0 !== c.length?c.some(function(f){f=f.xa;return h.qa.lessThan(f) && f.Km(h.xa);}):!1;};b.tgc=function(c,h,f,e){var g,k,l,m,p,r,q,u,v,w;n && c.trace("editFragmentForRegion, region:",f,"fragment:",h,"params:",e);q=null === (g=h.na) || void 0 === g?void 0:g.start;g=null === (k=h.na) || void 0 === k?void 0:k.end;v=k=!1;if((null === e || void 0 === e?0:e.juc) || (null === e || void 0 === e || !e.Rtc) && h.qa.lessThan(f.qa)){if(u=h.RNa(f.qa.G)){w=(null !== (m=null === (l=h.na) || void 0 === l?void 0:l.start) && void 0 !== m?m:0) + u.Zk;n && c.trace("editFragmentForRegion found sap at start:",u,"adjusted sampleIndex:",w);q=Math.max(null !== q && void 0 !== q?q:0,w);}u=f.qa.G;k=!0;}if((null === e || void 0 === e || !e.cuc) && h.xa.greaterThan(f.xa)){if(u=h.RNa(f.xa.G))(w=(null !== (r=null === (p=h.na) || void 0 === p?void 0:p.start) && void 0 !== r?r:0) + u.Zk,n && c.trace("editFragmentForRegion found sap at end:",u,"adjusted sampleIndex:",w),g=Math.min(null !== g && void 0 !== g?g:Infinity,w),h.e_=h.index,n && c.trace("editFragmentForRegion editing end of region, reusing index:",h.index));u=f.xa.G;v=!0;}if(void 0 !== q || void 0 !== g)(h.Qh({start:q,end:g}),n && c.trace("getFragmentForRequest setting edit window:",{start:q,end:g}));void 0 !== u && (!h.gu || u > h.gu) && (h.M0(u),n && c.trace("getFragmentForRequest setting splice pts:",u));h.ZMc(f.region,k,v);};d=a(91176);n=!1;},47317:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.efa=void 0;d=a(22970);n=a(77399);t=(function(){function c(h,f){this.Wn=h;this.filter=f;this.lBb=Math.max(h.max_n || 10,0);this.reset();}c.prototype.reset=function(){this.dca=[];this.offset=0;this.XD=this.pM=null;this.filter.reset();this.aea=null;};c.prototype.add=function(h,f,e){var g;g=this.XD;null !== g && e > g && (this.offset+=Math.max(f - g,0),this.XD=null);for((0,n.Ysc)(this.dca,[f - this.offset,e - this.offset,h]);this.dca && this.dca.length > this.lBb;)(h=d.__read(this.dca.shift(),3),this.filter.add(h[2],h[0],h[1]));this.aea=null;};c.prototype.get=function(h,f){var e,l;if(!this.aea){this.aea=this.filter.ot();try{for(var g=d.__values(this.dca),k=g.next();!k.done;k=g.next()){l=d.__read(k.value,3);this.aea.add(l[2],l[0],l[1]);}}catch(p){var m;m={error:p};}finally{try{k && !k.done && (e=g.return) && e.call(g);}finally{if(m)throw m.error;}}}m=this.XD;return this.aea.get((null === m?h:m) - this.offset,f);};c.prototype.ot=function(){var h;h=new c(this.Wn,this.filter.ot());h.XD=this.XD;h.offset=this.offset;return h;};c.prototype.start=function(h){var f;f=this.XD;null !== f && h > f && (this.offset+=h - f,this.XD=null);this.filter.start(h - this.offset);};c.prototype.stop=function(h){this.XD=null === this.XD?h:Math.min(this.XD,h);this.filter.stop(h - this.offset);};c.prototype.flush=function(){this.filter.flush();};c.prototype.toString=function(){return "AggregatingFilter(" + this.lBb + ", " + this.filter.toString() + ")";};return c;})();b.efa=t;},43276:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VM=void 0;t=(function(){function a(){var p7O;p7O=2;for(;p7O !== 3;){switch(p7O){case 2:var Q84="1SIYbZ";Q84+="r";Q84+="NJC";Q84+="p9";this.active=!1;this.sS=this.ma=0;this.GJ=this.gX=void 0;Q84;p7O=3;break;}}}var A_$;A_$=2;for(;A_$ !== 9;){switch(A_$){case 3:return a;break;case 2:a.prototype.start=function(d){var T0I;T0I=2;for(;T0I !== 5;){switch(T0I){case 2:this.active=!0;this.gX?d < this.gX?(this.sS+=this.gX - d,this.gX=d):this.GJ && d > this.GJ && (this.GJ=this.gX=d):this.GJ=this.gX=d;T0I=5;break;}}};a.prototype.stop=function(d){var a7p;a7p=2;for(;a7p !== 1;){switch(a7p){case 2:this.active && (this.active=!1,this.GJ && d > this.GJ && (this.sS+=d - this.GJ,this.GJ=d));a7p=1;break;}}};a.prototype.add=function(d,n,c){var W_8;W_8=2;for(;W_8 !== 4;){switch(W_8){case 2:this.start(n);this.stop(c);this.ma+=d;W_8=4;break;}}};a.prototype.get=function(){var q2Z;q2Z=2;for(;q2Z !== 1;){switch(q2Z){case 2:return {Da:this.sS?Math.floor(8 * this.ma / this.sS):null,BMa:this.sS || 0};break;}}};A_$=3;break;}}})();b.VM=t;},78416:function(t,b,a){var n,c;function d(h){this.Ab={xaa:h.maxc || 25,SKa:h.c || .5,uB:h.w || 15E3,Si:h.b || 5E3};n.call(this,this.Ab.uB,this.Ab.Si);this.E5();}n=a(72697).H2;c=a(15913).TDigest;d.prototype=Object.create(n.prototype);d.prototype.shift=function(){var h;h=this.fs(0);n.prototype.shift.call(this);null !== h && (this.zg.push(h,1),this.ZI=!0);return h;};d.prototype.flush=function(){var h;h=this.get();this.zg.push(h,1);this.ZI=!0;n.prototype.reset.call(this);return h;};d.prototype.get=function(){return this.Pvb();};d.prototype.BY=function(){var h;h=this.Pvb();return {min:h.min,p10:h.ZVa,p25:h.Qv,p50:h.cs,p75:h.Rv,p90:h.$Va,max:h.max,centroidSize:h.N8b,sampleSize:h.sampleSize,centroids:h.um};};d.prototype.Pvb=function(){var h;if(0 === this.zg.size())return null;h=this.zg.mk([0,.1,.25,.5,.75,.9,1]);if(h[2] === h[4])return null;if(this.ZI || !this.Wd)(this.ZI=!1,this.Wd={min:h[0],ZVa:h[1],Qv:h[2],cs:h[3],Rv:h[4],$Va:h[5],max:h[6],mk:this.zg.mk.bind(this.zg),N8b:this.zg.size(),sampleSize:this.zg.n,um:this.bmc(),BY:this.BY.bind(this)});return this.Wd;};d.prototype.bmc=function(){var h;if(0 === this.zg.size())return null;if(!this.ZI && this.Wd)return this.Wd.centroids;h=this.zg.mk([.25,.75]);if(h[0] === h[1])return null;this.zg.size() > this.Ab.xaa && this.zg.Eo();h=this.zg.hj(!1).map(function(f){return {mean:f.sh,n:f.n};});return JSON.stringify(h);};d.prototype.kQa=function(){return this.zg.summary();};d.prototype.size=function(){return this.zg.size();};d.prototype.toString=function(){return "btdtput(" + this.A2b + "," + this.s_b + "," + this.z2b + "): " + this.zg.summary();};d.prototype.E5=function(){this.zg=new c(this.Ab.SKa,this.Ab.xaa);};t.exports={JRb:d};},20596:function(t,b,a){var n,c;function d(h,f,e,g){n.call(this,e,g);this.TB=new c(h);this.a1b=f;}n=a(72697).H2;c=a(16514);d.prototype=Object.create(n.prototype);d.prototype.shift=function(){var h;h=this.fs(0);n.prototype.shift.call(this);null !== h && this.TB.Dja(h);return h;};d.prototype.flush=function(){var h;h=this.get();this.TB.Dja(h);n.prototype.reset.call(this);return h;};d.prototype.get=function(){var h;h=this.r9();return {sampleSize:this.z9(),vWa:h,pra:h.cs?(h.Rv - h.Qv) / h.cs:void 0};};d.prototype.z9=function(){return this.TB.z9();};d.prototype.r9=function(){return this.TB.z9() < this.a1b?{Qv:void 0,cs:void 0,Rv:void 0,sampleSize:void 0,mk:void 0}:{Qv:this.TB.P6(25),cs:this.TB.P6(50),Rv:this.TB.P6(75),sampleSize:this.TB.z9(),mk:this.TB.P6.bind(this.TB)};};d.prototype.toString=function(){return "biqr(" + this.A2b + "," + this.s_b + "," + this.z2b + ")";};t.exports={IRb:d};},56089:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.M4a=void 0;d=a(22970);n=a(43276);t=(function(){var p94;p94=2;for(;p94 !== 8;){switch(p94){case 2:c.prototype.add=function(h,f,e,g,k){var L39,l;L39=2;for(;L39 !== 9;){switch(L39){case 5:void 0 === l[g] && (l[g]={});void 0 === l[g][k] && (l[g][k]=new n.VM());l[g][k].add(h,f,e);L39=9;break;case 2:l=this.f0;k=k || c.qra;L39=5;break;}}};c.prototype.start=function(h,f,e){var u5P,g;u5P=2;for(;u5P !== 9;){switch(u5P){case 5:void 0 === g[f] && (g[f]={});void 0 === g[f][e] && (g[f][e]=new n.VM());g[f][e].start(h);u5P=9;break;case 2:g=this.f0;e=e || c.qra;u5P=5;break;}}};p94=5;break;case 5:var S8D="no-pbc";S8D+="i";S8D+="d-k";S8D+="e";S8D+="y";c.prototype.stop=function(h,f,e){var k3h,g;k3h=2;for(;k3h !== 4;){switch(k3h){case 2:g=this.f0;e=e || c.qra;void 0 !== g[f] && void 0 !== g[f][e] && g[f][e].stop(h);k3h=4;break;}}};c.prototype.get=function(){function h(q){var i7H;i7H=2;for(;i7H !== 1;){switch(i7H){case 2:Object.keys(l.f0[q]).forEach(function(u){var s0l,v;s0l=2;for(;s0l !== 5;){switch(s0l){case 2:v=e.f0[q][u].get();v && k.push({cdnid:q,pbcid:u === c.qra?null:u,avtp:v.Da,tm:v.BMa});s0l=5;break;}}});i7H=1;break;}}}var L2i,f,e,g,k,l,V3w,m,p,x50,W2S,Y03;L2i=2;for(;L2i !== 4;){switch(L2i){case 2:(e=this,g=Object.keys(this.f0).map(function(q){var K8p;K8p=2;for(;K8p !== 1;){switch(K8p){case 2:return parseInt(q);break;case 4:return parseInt(q);break;}}}),k=[],l=this);try{V3w=2;for(;V3w !== 3;){switch(V3w){case 4:p=m.next();V3w=1;break;case 6:h(p.value);V3w=9;break;case 7:V3w=+p.done?2:4;break;case 1:V3w=!p.done?5:3;break;case 2:(m=d.__values(g),p=m.next());V3w=1;break;case 5:h(p.value);V3w=4;break;}}}catch(q){var r;r={error:q};}finally{x50=2;for(;x50 !== 1;){switch(x50){case 2:try{W2S=2;for(;W2S !== 1;){switch(W2S){case 2:p && !p.done && (f=m.return) && f.call(m);W2S=1;break;}}}finally{Y03=2;for(;Y03 !== 5;){switch(Y03){case 2:Y03=r?1:5;break;case 3:Y03=r?7:7;break;case 1:throw r.error;Y03=5;break;}}}x50=1;break;}}}return k;break;}}};c.qra=S8D;return c;break;}}function c(){var R$8;R$8=2;for(;R$8 !== 5;){switch(R$8){case 2:var z8I="1";z8I+="SIYbZ";z8I+="rNJC";z8I+="p";z8I+="9";this.f0={};z8I;R$8=5;break;}}}})();b.M4a=t;},71409:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Z4a=void 0;d=a(22970);t=a(66164);n=a(15913);new t.platform.Console("ASEJS_TDIGEST_FILTER","media|asejs");a=(function(){function c(h){this.config=h;this.UKa=h.c;this.dUa=h.g8c;this.faa=h.faa;this.Q9=h.Q9;this.Soa=h.Soa;this.INc=h.v3c;this.$z=h.$z;this.kBb=h.kBb;this.reset();}c.prototype.reset=function(){this.cl=new n.TDigest(this.UKa,this.dUa);this.time=null;};c.prototype.add=function(h,f,e){var g,k,l,r;e=Math.max(e - f,1);h=8 * h / e;if(this.INc){null === this.time && (this.time=f);k=Math.pow(2,(f - this.time) / this.$z);l=e * k;if(k >= this.kBb){l=new n.TDigest(this.UKa,this.dUa);try{for(var m=d.__values(this.cl.hj()),p=m.next();!p.done;p=m.next()){r=p.value;l.push(r.sh,r.n / k);}}catch(u){var q;q={error:u};}finally{try{p && !p.done && (g=m.return) && g.call(m);}finally{if(q)throw q.error;}}this.cl=l;l=e;this.time=f;}this.cl.push(h,l);}else this.cl.push(h,e);};c.prototype.get=function(){var h;h=this.cl.mk([this.faa,this.Q9,this.Soa]);return {low:h[0] || 0,high:h[1] || 0,initial:h[2] || 0};};c.prototype.ot=function(){var h,f,e,l;f=new c(this.config);e=new n.TDigest(this.UKa,this.dUa);try{for(var g=d.__values(this.cl.hj()),k=g.next();!k.done;k=g.next()){l=k.value;e.push(l.sh,l.n);}}catch(p){var m;m={error:p};}finally{try{k && !k.done && (h=g.return) && h.call(g);}finally{if(m)throw m.error;}}f.cl=e;return f;};c.prototype.flush=function(){};c.prototype.start=function(){};c.prototype.stop=function(){};return c;})();b.Z4a=a;},8239:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.I5a=b.fTb=b.H5a=b.GTb=b.gTb=void 0;d=a(22970);n=a(51117);a=(function(){return function(){};})();b.gTb=a;c=(function(){function h(f,e,g,k,l){this.alpha=f;this.Da=e;this.weight=k;this.TEa=g * this.weight;this.bea=l;}h.prototype.ot=function(){return new h(this.alpha,this.Da,this.eg,this.weight,this.bea);};Object.defineProperties(h.prototype,{eg:{get:function(){return this.weight?this.TEa / this.weight:0;},enumerable:!1,configurable:!0}});h.prototype.update=function(f,e,g){var k,l,m,p;k=this.alpha;l=this.weight;m=this.bea;p=k * (f - m);5 < p && (this.weight/=Math.exp(p),this.bea=m=f);f=Math.exp(k * (e - m)) - Math.exp(k * (f - m));e=this.weight+=f;k=this.Da;this.Da=m=k + f * (g - k) / e;this.TEa=l?this.TEa * (e - f) / l + f * (g - m) * (g - k):0;};return h;})();b.GTb=c;t=(function(){var z4T;z4T=2;function h(f){var d$U,e,g;d$U=2;for(;d$U !== 7;){switch(d$U){case 9:this.Bzc=g;this.reset();d$U=7;break;case 2:var e95="1SIYbZrN";e95+="JC";e95+="p9";this.Wn=f;e95;(e=f.min_b,g=f.min_iv);this.$z=f.hl;d$U=3;break;case 3:this.XBb=e;d$U=9;break;}}}for(;z4T !== 14;){switch(z4T){case 7:h.prototype.flush=function(){};return h;break;case 4:h.prototype.add=function(f,e,g){var j0D=p6_3u;var n$l,k;n$l=2;for(;n$l !== 7;){switch(n$l){case 3:j0D.z5Q(0);k=Math.max(j0D.w3s(g,e),1);j0D.b_o(1);this.gT.update(e,g,j0D.w3s(k,f));j0D.b_o(2);this.hT.update(e,g,j0D.w3s(8,k,f));n$l=7;break;case 2:k=this.ty;this.ty=null === k?e:Math.min(k,e);k=this.pM;this.pM=null === k?g:Math.max(k,g);n$l=3;break;}}};h.prototype.get=function(f,e){var l5S=p6_3u;var I5j,g,k,l,m,p,r,q,u,v;I5j=2;for(;I5j !== 16;){switch(I5j){case 13:l5S.b_o(0);r.update(l5S.w3s(k,g),l5S.w3s(f,g),0);I5j=20;break;case 17:(p=this.gT,r=this.hT);I5j=20;break;case 2:(g=this.ty || 0,k=this.pM || 0,l=f - k,m=this.Bzc,p=this.gT,r=this.hT);I5j=1;break;case 4:void 0 === e && (e=this.XBb);l >= m && (e=Math.min(e,this.XBb));m=e * p.Da;l5S.b_o(3);var T6R=l5S.w3s(12,0,3,11);q=Math.pow(e,T6R) * p.eg;I5j=7;break;case 20:f=p.weight;e=r.weight;return {Da:f?p.Da:null,eg:f?p.eg:null,sW:e?r.Da:null,K1:e?r.eg:null};break;case 7:I5j=0 === q?6:12;break;case 10:l=1E-11 < u?Math.max(v / u,l):l + 2 * q / m;I5j=14;break;case 6:l=Math.max(l,m);I5j=14;break;case 5:I5j=(p=new c(p.alpha,p.Da,p.eg,p.weight,p.bea),r=new c(r.alpha,r.Da,r.eg,r.weight,r.bea),0 < p.weight && 0 !== e)?4:20;break;case 14:l5S.b_o(0);p.update(l5S.l9m(k,g),l5S.l9m(f,g,l5S.b_o(0)),l5S.l9m(l,e,l5S.z5Q(1)));I5j=13;break;case 12:(u=new n.rga(m,q).G8b(l),v=m - u[1]);l5S.z5Q(4);var H8S=l5S.w3s(11,14,15,180);u=H8S - u[0];I5j=10;break;case 1:I5j=0 < l?5:17;break;}}};h.prototype.toString=function(){var x04;x04=2;for(;x04 !== 1;){switch(x04){case 2:var N_i="Deli";N_i+="ver";N_i+="y";N_i+="Dist";N_i+="(";return N_i.concat(this.$z,")");break;}}};h.prototype.stop=function(){};z4T=7;break;case 2:h.prototype.ot=function(f){var C9k;C9k=2;for(;C9k !== 8;){switch(C9k){case 2:f || (f=new h(this.Wn));f.ty=this.ty;f.pM=this.pM;f.gT=this.gT.ot();f.hT=this.hT.ot();return f;break;}}};h.prototype.reset=function(){var W6m,f;W6m=2;for(;W6m !== 3;){switch(W6m){case 2:f=-Math.log(.5) / this.$z;this.gT=new c(f,0,0,0,0);this.hT=new c(f,0,0,0,0);this.ty=this.pM=null;W6m=3;break;}}};h.prototype.start=function(f){var m7e;m7e=2;for(;m7e !== 1;){switch(m7e){case 2:null === this.ty && (this.ty=f);m7e=1;break;}}};z4T=4;break;}}})();b.H5a=t;a=(function(h){function f(){return null !== h && h.apply(this,arguments) || this;}d.__extends(f,h);return f;})(a);b.fTb=a;t=(function(h){function f(e){var g;g=h.call(this,e) || this;g.Wn=e;return g;}d.__extends(f,h);f.prototype.get=function(){var e,g,k;if(0 === this.gT.weight || 0 === this.hT.weight)return {low:null,high:null,initial:null};switch(this.Wn.SZ){case "deliverytime":e=this.gT;e=new n.rga(e.Da,e.eg);(g=this.Wn.accuracy,k=this.Wn.uyc);return {low:8 / e.gS(this.Wn.Q9,g,k),high:8 / e.gS(this.Wn.faa,g,k),initial:8 / e.gS(this.Wn.Soa,g,k)};default:return (e=this.hT,e=new n.rga(e.Da,e.eg),g=this.Wn.accuracy,k=this.Wn.uyc,{low:e.gS(this.Wn.faa,g,k),high:e.gS(this.Wn.Q9,g,k),initial:e.gS(this.Wn.Soa,g,k)});}};f.prototype.ot=function(){var e;e=new f(this.Wn);h.prototype.ot.call(this,e);return e;};f.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.Wn.faa,this.Wn.Q9),"])");};return f;})(t);b.I5a=t;},28855:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Iya=b.oSb=b.Q5a=void 0;d=a(22970).__importDefault(a(17267));t=(function(){function c(h,f){void 0 === f && (f=0);this.initial=f;this.reset();this.TMc(h);}c.prototype.TMc=function(h){this.alpha=Math.pow(.5,1 / h);this.$z=h;};c.prototype.reset=function(h){h && void 0 !== h.Da && d.default.pc(h.Da)?(this.count=this.initial,this.Da=h.Da,h.eg && d.default.pc(h.eg)?this.tJ=h.eg + h.Da * h.Da:this.tJ=h.Da * h.Da):this.tJ=this.Da=this.count=0;};c.prototype.add=function(h){var f;if(d.default.pc(h)){this.count++;f=this.alpha;this.Da=f * this.Da + (1 - f) * h;this.tJ=f * this.tJ + (1 - f) * h * h;}};c.prototype.VPa=function(){var h,f;if(0 === this.count)return {Da:0,eg:0};h=1 - Math.pow(this.alpha,this.count);f=this.Da / h;return {Da:f,eg:Math.max(this.tJ / h - f * f,0)};};c.prototype.get=function(){var h;h=this.VPa();return {Da:Math.floor(h.Da),eg:Math.floor(h.eg)};};c.prototype.getState=function(){return 0 === this.count?null:{a:Number(this.Da.toPrecision(6)),s:Number(this.tJ.toPrecision(6)),n:this.count};};c.prototype.Ki=function(h){if(d.default.md(h) || !d.default.has(h,"a") || !d.default.has(h,"s") || !d.default.isFinite(h.a) || !d.default.isFinite(h.s))return (this.tJ=this.Da=this.count=0,!1);this.Da=h.a;this.tJ=h.s;d.default.has(h,"n") && d.default.pc(h.n)?this.count=h.n:this.count=16 * this.$z;return !0;};return c;})();b.Q5a=t;n=(function(){function c(h){this.setInterval(h);this.reset();}c.prototype.setInterval=function(h){this.$z=h;this.alpha=-Math.log(.5) / h;};c.prototype.reset=function(h){this.WC=this.startTime=null;this.Da=h && d.default.isFinite(h.Da)?h.Da:0;};c.prototype.start=function(h){d.default.md(this.startTime) && (this.startTime=h);d.default.md(this.WC) && (this.WC=h);};c.prototype.add=function(h,f,e){var g,k,l;d.default.md(this.startTime) && (this.startTime=f);d.default.md(this.WC) && (this.WC=f);this.startTime=Math.min(this.startTime,f);f=Math.max(e - f,1);g=this.alpha;k=Math.max(e,this.WC);l=k - this.WC;e=k - e;this.Da=this.Da * (0 < l?Math.exp(-g * l):1) + 8 * h / f * (1 - Math.exp(-g * f)) * (0 < e?Math.exp(-g * e):1);this.WC=k;};c.prototype.get=function(h){var f,e;f=d.default.md(this.WC)?0:this.WC;e=d.default.md(this.startTime)?0:this.startTime;h=Math.max(h,f);f=this.Da * Math.exp(-this.alpha * (h - f));h=1 - Math.exp(-this.alpha * (h - e));0 < h && (f/=h);return {Da:Math.floor(f),eg:0};};c.prototype.toString=function(){return "ewma(" + this.$z + ")";};Object.defineProperties(c.prototype,{time:{get:function(){return this.WC;},enumerable:!1,configurable:!0}});return c;})();b.oSb=n;t=(function(){function c(h){this.QP=new n(h);this.offset=0;this.Ds=null;}c.prototype.setInterval=function(h){this.QP.setInterval(h);};c.prototype.reset=function(h){this.QP.reset(h);this.offset=0;this.Ds=null;};c.prototype.start=function(h){!d.default.md(this.Ds) && h > this.Ds && (this.offset+=h - this.Ds,this.Ds=null);this.QP.start(h - this.offset);};c.prototype.add=function(h,f,e){!d.default.md(this.Ds) && e > this.Ds && (this.offset+=f > this.Ds?f - this.Ds:0,this.Ds=null);this.QP.add(h,f - this.offset,e - this.offset);};c.prototype.stop=function(h){var f;f=this.QP.time;this.Ds=Math.max(d.default.md(f)?0:f + this.offset,d.default.md(this.Ds)?h:Math.min(this.Ds,h));};c.prototype.get=function(h){return this.QP.get((this.Ds?this.Ds:h) - this.offset);};c.prototype.toString=function(){return this.QP.toString();};return c;})();b.Iya=t;},97315:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w;function d(x,y){switch(x.type){case "slidingwindow":return new u.HN(y,new g.P5a(x.mw));case "discontiguous-ewma":return new u.HN(y,new e.Iya(x.mw));case "initial-discontiguous-ewma":return new r.zcb(new e.Iya(x.mw),x.playerStates);case "wssl":return new g.Fgb(x.mw,x.max_n);case "iqr":return new l.IRb(x.mx,x.mn,x.bw,x.iv);case "tdigest":return new m.JRb(x);case "ci":return new u.HN(y,new q.efa(x,new v.Z4a(x)));case "discrete-ewma":return new e.Q5a(x.hl);case "tdigest-history":return new c.kfb(x);case "iqr-history":return new h.default();case "avtp":return new w.VM();case "entropy":return new p.xab(x);case "deliverytime":return new u.HN(y,new q.efa(x,new k.H5a(x)));case "deliverytime-ci":return new u.HN(y,new q.efa(x,new k.I5a(x)));}}Object.defineProperties(b,{__esModule:{value:!0}});b.xza=void 0;n=a(22970);c=a(88318);h=n.__importDefault(a(21506));f=a(54520);e=a(28855);g=a(34391);k=a(8239);l=a(20596);m=a(78416);p=a(72869);r=a(82583);q=a(47317);u=a(66917);v=a(71409);w=a(43276);t=(function(){function x(y){this.config=y;this.R_b=y.ghb;}x.prototype.create=function(y,z){z=z[y];z=n.__assign(n.__assign({},this.R_b[y]),z);y=z.type;if(!y)return {type:"none"};z=d(z,this.config);return (0,f.Gra)(z,{type:y});};return x;})();b.xza=t;},96965:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.wab=void 0;t=a(66164);d=a(65161);new t.platform.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function n(c,h){this.config=c;this.Rra=h;this.nw=this.HJ=this.ma=0;this.reset();}Object.defineProperties(n.prototype,{duration:{get:function(){return this.HJ + this.nw;},enumerable:!1,configurable:!0}});n.prototype.reset=function(){this.confidence=d.FN.HAVE_NOTHING;this.ma=0;this.startTime=void 0;this.nw=this.HJ=0;};n.prototype.ot=function(){var c;c=new n(this.config,this.Rra);c.confidence=this.confidence;c.ma=this.ma;c.startTime=this.startTime;c.HJ=this.HJ;c.nw=this.nw;return c;};n.prototype.add=function(c,h,f){void 0 === this.startTime && (this.startTime=h);this.ma+=c;this.HJ=Math.max(f - this.startTime,this.HJ);this.confidence=Math.max(this.confidence,d.FN.zU);this.confidence < d.FN.yU && (this.duration > this.config.Sqa || this.ma > this.config.Rqa) && (this.confidence=d.FN.yU);this.confidence < d.FN.P2 && (this.duration > this.config.nta || this.ma > this.config.mta) && (this.confidence=d.FN.P2,this.Rra());};n.prototype.get=function(){return this.confidence;};n.prototype.start=function(){};n.prototype.stop=function(){this.config.lPc && (this.nw+=this.HJ,this.HJ=0,this.startTime=void 0);};n.prototype.flush=function(){};return n;})();b.wab=a;},72869:function(t,b,a){var n,c,h,f,e,g;function d(k){k=k.length + 1;for(var l=Array(k),m=0;m < k;m++){l[m]=Array(k);for(var p=0;p < k;p++)l[m][p]=0;}return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.xab=void 0;n=a(22970);t=a(66164);c=a(72697);h=a(94451);f=a(51044);e=a(48170);g=new t.platform.Console("ASEJS_NETWORK_ENTROPY","media|asejs");a=(function(k){function l(m){var p;p=k.call(this,m.sw,m.mw) || this;p.uB=m.sw;p.Si=m.mw;p.H6={uhd:(0,f.writable)(m.uhdl),hd:(0,f.writable)(m.hdl)};p.window=Math.max(Math.ceil(1 * p.uB / p.Si),1);p.Czc=m.mins || 1;p.reset();return p;}n.__extends(l,k);l.prototype.flush=function(){var m;m=this;this.Ng.map(function(p,r){m.Pjb(p,m.yOa(r));});};l.prototype.G7b=function(){var m,p,r,q,u,v,w,B;m=this.H6;for(p in m){e.l && g.trace(("Calculating Network Entropy based on ").concat(p," bitrate ladder (").concat(JSON.stringify(m[p]),")"));r=m[p];q=this.JNb[p];u=this.HNb[p];if(q.first){v=q.first;w=q.cy;void 0 !== w && (u[v][w]+=1);q.first=void 0;}e.l && g.trace(("Transition Matrix: ").concat(this.lgc(u)));q=[];v=r=r.length + 1;for(var x=w=0;x < v;x++){for(var y=0,z=0;z < r;z++)y+=u[z][x];w+=y;q.push(y);}e.l && g.trace(("steadyStateVector: ").concat(JSON.stringify(q)));y=-1;if(w > this.Czc){for(x=y=0;x < v;x++)if(0 < q[x])for(z=0;z < r;z++){B=u[z][x];0 < B && (y-=B * Math.log(1 * B / q[x]));}y/=w * Math.log(2);}e.l && g.trace(("entropy: ").concat(y));this.frb[p]=y;}return this.frb;};l.prototype.Pjb=function(m,p){var u,v,w;for(var r=this.window,q=this.H6;this.ama.length >= r;)this.ama.shift();for(;this.bma.length >= r;)this.bma.shift();this.ama.push(m);this.bma.push(p);m=(0,h.$_a)(this.ama);p=(0,h.$_a)(this.bma);if(0 < p)for(p in (m=8 * m / p,e.l && g.trace(("Adding sliding window throughput into Transition Matrix: ").concat(m)),p=void 0,q)){r=this.JNb[p];u=this.HNb[p];v=this.FHc(m,q[p]);w=r.cy;void 0 !== w?u[v][w]+=1:r.first=v;r.cy=v;}};l.prototype.FHc=function(m,p){for(var r=0;r < p.length && m > p[r];)r+=1;return r;};l.prototype.shift=function(){this.Pjb(this.Ng[0],this.yOa(0));k.prototype.shift.call(this);};l.prototype.reset=function(){this.ama=[];this.bma=[];void 0 !== this.H6 && (this.frb={hd:0,uhd:0},this.JNb={hd:{first:void 0,cy:void 0},uhd:{first:void 0,cy:void 0}},this.HNb={hd:d(this.H6.hd),uhd:d(this.H6.uhd)},k.prototype.reset.call(this));};l.prototype.lgc=function(m){for(var p="",r=m.length,q=0;q < r;q++){for(var u=0;u < r;u++)p+=" " + m[q][u];p+="\n";}return p;};return l;})(c.H2);b.xab=a;},66917:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.HN=void 0;new (a(66164).platform.Console)("ASEJS_PACING_FILTER","media|asejs");t=(function(){function d(n,c){this.config=n;this.filter=c;}d.prototype.ot=function(){return new d(this.config,this.filter);};d.prototype.NNc=function(n,c,h,f){var e,g,k;k=f.GS;if(!k || !k.opa())return !0;switch(this.config.msc){case "requested":return !1;case "requested-low":return (k=k.SYa(this.config.OMa),k.cCb() > ((null === (e=f.ky) || void 0 === e?void 0:e.BL) || 0));case "inferred":k=k.SYa(this.config.OMa);n=k.$Ta(n,c,h,this.config.rba);if(!n)break;return k.cCb() > ((null === (g=f.ky) || void 0 === g?void 0:g.BL) || 0);case "inferred-strict":if((k=k.SYa(this.config.OMa),k.$Ta(n,c,h,this.config.rba)))return !1;}return !0;};d.prototype.add=function(n,c,h,f){this.NNc(n,c,h,f) && this.filter.add(n,c,h,f);};d.prototype.get=function(n){if(this.filter.get)return this.filter.get(n);};d.prototype.start=function(n){this.filter.start && this.filter.start(n);};d.prototype.stop=function(n){this.filter.stop && this.filter.stop(n);};d.prototype.flush=function(){this.filter.flush && this.filter.flush();};d.prototype.reset=function(n){this.filter.reset && this.filter.reset(n);};return d;})();b.HN=t;},82583:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zcb=void 0;t=(function(){function a(d,n){this.jm=0;this.filter=d;this.Qsa=n;this.jm=0;}a.prototype.saa=function(d){return 0 < this.Qsa.filter(function(n){var c;return n === (null === (c=d.ky) || void 0 === c?void 0:c.jh);}).length;};a.prototype.add=function(d,n,c,h){this.saa(h) && this.filter.add(d,n,c,h);};a.prototype.start=function(d,n){this.filter.start && this.saa(n) && this.filter.start(d);};a.prototype.stop=function(d,n){this.filter.stop && this.saa(n) && this.filter.stop(d);};a.prototype.get=function(d){if(this.filter.get)return this.filter.get(d);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.jm=0;this.filter.reset && this.filter.reset();};a.prototype.JD=function(d,n){this.saa(n) && (this.jm+=1,this.filter.JD && this.filter.JD(d,n));};a.prototype.KD=function(d,n,c){this.saa(c) && (this.jm=Math.max(this.jm - 1,0),0 === this.jm && this.stop(d,c),this.filter.KD && this.filter.KD(d,c));};return a;})();b.zcb=t;},34391:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Fgb=b.P5a=b.nSb=void 0;a=(function(){function d(n){this.uB=n;this.reset();}d.prototype.kib=function(n,c){this.N9() && (this.lw+=n,this.Pg+=n,this.ma+=c,this.Zf.push({ma:c,Pg:n}));};d.prototype.w5=function(){var n;for(;this.Pg > this.uB;){n=this.Zf.shift();this.ma-=n.ma;this.Pg-=n.Pg;}};d.prototype.N9=function(){return !isNaN(this.lw);};d.prototype.reset=function(){this.Zf=[];this.lw=NaN;this.Pg=this.ma=0;};d.prototype.setInterval=function(n){this.uB=n;this.w5();};d.prototype.start=function(n){this.N9() || (this.lw=n);};d.prototype.add=function(n,c,h){this.N9() || (this.lw=c);c > this.lw && this.kib(c - this.lw,0);this.kib(h > this.lw?h - this.lw:0,n);this.w5();};d.prototype.get=function(){return {Da:Math.floor(8 * this.ma / this.Pg),eg:0};};return d;})();b.nSb=a;t=(function(){function d(n){this.oL=0;this.gB=NaN;this.window=new a(n);}d.prototype.reset=function(){this.window.reset();this.oL=0;this.gB=NaN;};d.prototype.add=function(n,c,h){this.LGa() && h > this.gB && (c > this.gB && (this.oL+=c - this.gB),this.gB=NaN);this.window.add(n,c - this.oL,h - this.oL);};d.prototype.start=function(n){this.LGa() && n > this.gB && (this.oL+=n - this.gB,this.gB=NaN);this.window.start(n - this.oL);};d.prototype.stop=function(n){this.gB=this.LGa()?Math.min(n,this.gB):n;};d.prototype.get=function(){return this.window.get();};d.prototype.setInterval=function(n){this.window.setInterval(n);};d.prototype.LGa=function(){return !isNaN(this.gB);};return d;})();b.P5a=t;t=(function(){function d(n,c){this.uB=n;this.wBb=c;this.reset();}d.prototype.reset=function(){this.Zf=[];this.ma=this.Pg=0;};d.prototype.add=function(n,c,h,f){f && (c=h - c,this.Pg+=c,this.ma+=n,this.Zf.push({Pg:c,ma:n}),this.w5());};d.prototype.start=function(){};d.prototype.stop=function(){};d.prototype.get=function(){return {Da:Math.floor(8 * this.ma / this.Pg),eg:0};};d.prototype.setInterval=function(n,c){this.uB=n;this.wBb=c;this.w5();};d.prototype.w5=function(){var n;for(;this.Pg > this.uB || this.Zf.length > this.wBb;){n=this.Zf.shift();this.ma-=n.ma;this.Pg-=n.Pg;}};return d;})();b.Fgb=t;},8934:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Hab=b.OTb=void 0;d=a(22970);n=a(66164);c=a(6198);h=a(48170);f=a(52045);e=a(69575);t=(function(){return function(g,k,l,m){this.config=k;this.Yf=m;m="[" + g + "]";this.console=(0,e.tf)(n.platform,l,m);this.$Bb=g === c.v.U?k.Pqa:k.Lqa;l=n.platform.CY()[g];this.waa=g === c.v.U?k.Kyc:k.nyc;this.waa=Math.min(k.yyc * l,this.waa);h.l && this.console.trace("This pipeline's buffer size ",l,this.waa);this.Oqa=(g === c.v.U?k.cD:k.CA) || k.Oqa;this.tqa=(g === c.v.U?k.Jyc:k.myc) || k.tqa;this.RIa=k.RIa;};})();b.OTb=t;t=(function(g){function k(l,m,p,r){return g.call(this,l,m,p,r) || this;}d.__extends(k,g);k.prototype.eub=function(l,m,p,r){var q,u,v,w,x,y,z,B,A;void 0 === p && (p=!1);void 0 === r && (r=!1);v=this.Yf;w=l.M.VRa();x=v.Pd.index;y=v.nd.index;z=m === x;B=m === y;if(!B || z && v.Pd.na){if(z){A=l.Ztb(v.Pd);A.M0(v.Pd.gu);B && (v.Pd.na || v.nd.na) && A.Qh({start:null === (q=A.na) || void 0 === q?void 0:q.start,end:null === (u=v.nd.na) || void 0 === u?void 0:u.end});}else A=l.yt(m);}else (A=l.Ztb(v.nd),A.M0(v.nd.gu));A.e_=m + 1;if(q=(0,f.ipc)(v,v.uk))(h.l && v.trace("getFragmentForRequest pts:",v.uk,"in region:",q,"previous region:",v.VSa),u=void 0 === v.VSa || v.VSa !== q.region,(0,f.tgc)(v.console,A,q,{Rtc:z,cuc:B,juc:u}));B && (A.fBb(),A.QZa(v.sa.K));z && A.dyc();if(A.e_ !== m && !w && (this.RIa || !A.na) && (!p || m > x + 1) && (!r || m < y - 2))for((p=r?y - 1:y,++m);m < l.Oa.length && m < p && (A.ma < this.$Bb || A.Vb.G < this.Oqa) && (1 === A.stream.yj.length || this.s8b(l,m));++m){r=l.yt(m);if((0,f.Ttc)(v,r))break;if(A.Vb.add(r.Vb).G > this.tqa)break;if(A.ma + r.ma > this.waa)break;A.NIa(r);A.e_=m + 1;h.l && v.trace("getFragmentForRequest: extended fragment startPts:",A.qa.G,"to duration:",A.Vb.G,"size:",A.ma,"min request size:",this.$Bb,"max request size:",this.waa,"min request duration:",this.Oqa,"max request duration:",this.tqa,"edit:",A.na);}h.l && v.trace("getFragmentForRequest(" + m + ") returning:",A,"stream:",A.stream,"firstRequestInRegion:",A.bOa,"lastRequestInRegion:",A.rA,"nextIndex:",A.e_);return A;};k.prototype.s8b=function(l,m){return !l.yj.some(function(p){return m === p.Qe;});};return k;})(t);b.Hab=t;},65077:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.$qb=b.ZJ=b.sv=b.Ena=void 0;d=a(91176);n=a(50468);c=a(65161);h=a(52571);f=a(8171);e=a(8149);b.Ena=function(g,k){return g.fG(k,void 0,!0);};b.sv=function(g,k,l,m,p,r){var q,u,v,w;f.xw.FC(g);if((0,e.hk)(l)){q=l.P;u=l.track.co;v=l.track.Hk.Vc(q);k=void 0;v=u + Math.floor(m.gf(v));r || g !== c.v.X || (v=Math.max(u,v - 1));w=l.track.vv(v);u=w.qa;w=w.xa;r && g === c.v.X && p && p.M === l.M && p.index === v && w === p.xa && (++v,p=l.track.vv(v),u=p.qa,w=p.xa);r && (g === c.v.X || g === c.v.U) && u.lessThan(m) && (g=Math.floor(m.add(d.I.Yx).ea(u).gf(l.Fa)),0 < g && (k={start:g}));(0,h.assert)(u.P === q,"Expected fragment start timestamp to be in stream timescale");(0,h.assert)(w.P === q,"Expected fragment end timestamps to be in stream timescale");l=new n.ko(l,void 0,{index:v,tb:u.aa,Ib:w.aa,P:q,offset:0,ma:0});k && l.Qh(k);return l;}(0,h.assert)(l.Oa,"findFirstFragment called without stream fragments");q=l.Oa;g === c.v.X && !r && l.Fh && !k.mJ && l.te && (m=m.add(l.te));m=d.I.max(l.Oa.kb,m);v=(0,b.Ena)(q,m.G);u=l.yt(v);if(u.xa.lessThan(m))return u;(w=u.Yjc(m.G))?(0 < w.Zk && u.Qh({start:w.Zk}),g !== c.v.X || k.Faa || (0 > w.gd && u.Qh({start:w.Zk}),w.gd < (l.Fh && !k.mJ && l.te?Math.floor(l.te.G):0) && u.JMa())):m.G >= u.xa.G && v < q.length - 1 && (u=l.yt(v + 1));g === c.v.U && p && u.xa.equal(p.xa) && v < q.length - 1 && (u=l.yt(v + 1));g === c.v.X && !u.na && (k.Hxb || k.sgc) && r && u.Qh({});u.M0(m.G);return u;};b.ZJ=function(g,k,l,m,p,r){var q,u;f.xw.FC(g);if((0,e.hk)(l)){u=r=q=Infinity;k=void 0;p=l.P;if(void 0 !== m && m.isFinite()){q=l.track.co;r=l.track.Hk.Vc(p);q+=Math.floor(m.Jzc().gf(r));u=l.track.vv(q);r=u.qa;u=u.xa;if(g === c.v.U?r.add(l.Fa).Xf(m.add(d.I.Yx)):r.Xf(m))(--q,u=l.track.vv(q),r=u.qa,u=u.xa);(0,h.assert)(r.lessThan(m),"Last fragment expected to start before end point");g === c.v.X && (0,h.assert)(u.Xf(m),"Last audio fragment expected to end at or after end point");g === c.v.U && (0,h.assert)(u.greaterThan(m.ea(l.Fa)),"Last video fragment expected to end later than one frame before end point");g !== c.v.X && g !== c.v.U || !u.greaterThan(m) || (m=m.add(d.I.Yx).ea(r).gf(l.Fa),g=g === c.v.U?Math.floor(m):Math.ceil(m),g < u.ea(r).gf(l.Fa) && (k={start:0,end:g}));r=r.aa;u=u.aa;}l=new n.ko(l,void 0,{index:q,tb:r,Ib:u,P:p,offset:0,ma:0});k && l.Qh(k);return l;}q=l.Oa;m || (m=q.Rb);if(p && (p=p.Njc(l,m.G,g,k,r)))return p;p=q.Fa;r=d.I.min(m.add((0,b.$qb)(g,p,k.HS,k.D0)),q.Rb);q=q.fG(r.G,void 0,!0);p=l.yt(q);0 === q || !p.qa.equal(m) || g !== c.v.U && k.HS || (--q,p=l.yt(q));r=g === c.v.U?r:m;r.G < p.xa.G && ((u=p.RNa(r.G)) && 0 !== u.Zk?p.Qh({end:u.Zk}):g === c.v.X && (u || r.lessThan(p.qa)) && 0 !== q?p=l.yt(q - 1):g !== c.v.U || l.xtc && !u || 0 === q || (p=l.yt(q - 1)));g === c.v.X && !p.na && k.Hxb && p.Qh();p.M0(m.G);return p;};b.$qb=function(g,k,l,m){return g === c.v.U || m?d.I.ia:l?k || d.I.ia:k?k.Qg(-1):d.I.ia;};},97757:function(t,b,a){var n,c,h,f,e,g;function d(k,l){return k - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.UTb=void 0;b.oY=function(k,l){var m;if(!f)return k;m=new g(k.name,l);return (function(p){function r(){for(var q=[],u=0;u < arguments.length;u++)q[u]=arguments[u];q=p.apply(this,n.__spreadArray([],n.__read(q),!1)) || this;q.itb=m.xcc(q);return q;}n.__extends(r,p);return r;})(k);};n=a(22970);c=a(66164);h=a(48170);f="gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).QTb;g=(function(){function k(l,m){this.name=l;this.VKa=m;this.BK=[];this.dtc=0;}Object.defineProperties(k,{console:{get:function(){e || (e=new c.platform.Console("GCTAGGER"));return e;},enumerable:!1,configurable:!0}});k.prototype.xcc=function(l){var m,p;if(f){m=this.VKa;m || (m=k.console);if(!l.itb && "undefined" !== typeof nrdp){l={type:this.name,id:this.dtc++};this.BK.push(l.id);p=JSON.stringify(l);p=nrdp.itb(p,(function(r,q,u,v){r.BK.splice(r.BK.indexOf(q),1);r.BK=r.BK.sort(d);for(var w=[],x=0;x < r.BK.length && 5 > x;x++)w.push(r.BK[x]);null === v || void 0 === v?void 0:v.error(("Removing instance for ").concat(u,"/").concat(q,". ") + ("").concat(r.BK.length," remaining, earliest: ").concat(w,"}"));}).bind(null,this,l.id,l.type,m));h.l && m && m.info("Creating tagged instance",l);return p;}}};return k;})();b.UTb=g;},79183:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m){return l.filter(function(p){return p.groupId === m.groupId;}).reduce((0,c.Azc)(function(p){return p.Ut;}),m).Ut;}Object.defineProperties(b,{__esModule:{value:!0}});b.i7a=void 0;n=a(22970);c=a(91176);h=a(66164);f=a(57141);e=a(65161);g=a(61996);k=a(62629);t=(function(){function l(m,p){this.console=m;this.config=p;this.Kzb=0;this.Ze=new g.un({Ig:10,Fj:this,source:"GraphStreamingProcess"});}l.prototype.Gjc=function(m){var p,r,q,w,x;r={ilb:[],$Nb:0,zX:-Infinity,reason:"available"};q=[];try{for(var u=n.__values(m),v=u.next();!v.done;v=u.next()){w=v.value;if(w.Nv <= h.platform.time.ha())q.push(w);else if((r.$Nb++,!x || w.Nv < x.Nv))x=w;}}catch(z){var y;y={error:z};}finally{try{v && !v.done && (p=u.return) && p.call(u);}finally{if(y)throw y.error;}}x && (r.zX=x.Nv,0 === q.length && ((0,c.assert)("available" !== x.vz,"next available streamable cannot be available"),r.reason=x.vz));r.ilb=q;return r;};l.prototype.ZDb=function(m,p){var r,q,u,v,w,x,y,z,B,D,F,G,E;u={Lf:!1,reason:"noEligibleStreamables"};v=[];if(0 < p.length){w=this.zOc(p);x=w.some(function(J){return 1 === (0,k.p8b)(J) && (0,e.Pr)(J.ee);});y=w.slice();z=[!1,!1,!1,!1];B=void 0;try{for(var A=n.__values(w),C=A.next();!C.done;C=A.next()){D=C.value;if(D.Ex && (!B || D.groupId === B))if(D.Pk)B=D.groupId;else if("global" !== z[D.mediaType]){F=D.CF(m,null !== (q=D.Yz) && void 0 !== q?q:1);G=(0,f.ZHc)(F.reason);G && (z[D.mediaType]=G,(0,c.dJa)(y,D));if(F.XR){E=d(y,D);if(this.p9b(D,x,E)){u=D.NK();this.FTa(v,D,u.reason);u.Lf && (this.Kzb=h.platform.time.ha());if(u.Lf){u.reason="success";break;}if("globalVideoMemoryLimit" === u.reason || "globalAudioMemoryLimit" === u.reason){this.console.trace("GSP.onRequestOpportunity stopping at memory limit:",u.reason);break;}"pipelineTryIssueHeaderRequest" === u.reason && (B=D.groupId,this.console.trace("GSP.onRequestOpportunity stopping due to blocking header"));}else if((this.FTa(v,D,"concurrencyCheck"),!G))break;}else this.FTa(v,D,F.reason);}}}catch(J){var H;H={error:J};}finally{try{C && !C.done && (r=A.return) && r.call(A);}finally{if(H)throw H.error;}}}this.Ze.kg({streamableCount:p.length,streamableReasons:v,lastSuccessfulIssueRequestMs:this.Kzb});return u;};l.prototype.zOc=function(m){return this.IGc(m).sort(function(p,r){return p.priority - r.priority;}).map(function(p){return p.APc;});};l.prototype.IGc=function(m){var p;p=this;return m.map(function(r){return {priority:-(0,k.l8b)(p.config,r,p.console),APc:r};});};l.prototype.FTa=function(m,p,r){this.Ze.enabled && m.push(this.Tpc(r,p));};l.prototype.Tpc=function(m,p){return {mediaType:p.mediaType,reason:m,bufferingState:p.ee,currentPlayerMs:p.Io,pathCompletePlayerMs:p.Ut,streamingPlayerMs:p.fo};};l.prototype.p9b=function(m,p,r){return this.config.RO && (p || (0,e.Pr)(m.ee))?this.q9b(m,r):this.r9b(m,r);};l.prototype.s9b=function(m){return m.fo <= m.Ut;};l.prototype.r9b=function(m,p){return m.fo - (m.Io > p?m.Io:p) <= Math.max(this.config.Paa,Math.min((m.Ut - m.Io) * this.config.Bda,this.config.Fyc));};l.prototype.q9b=function(m,p){var r,q;if(void 0 === this.config.RO)return !0;r=this.config.RO;q=m.Io + r;return m.fo <= q?!0:this.s9b(m) && p >= q && m.fo - p < r;};n.__decorate([(0,g.fb)({methodName:"onRequestOpportunity",Oe:!0})],l.prototype,"ZDb",null);return l;})();b.i7a=t;},62629:function(t,b,a){var m,p,r;function d(q){return q.fo - q.Io;}function n(q,u){return Math.exp(-(Math.log(2) / q) * u);}function c(q,u){q=Math.log(2) * u / q;return (1 - Math.exp(-q)) / q;}function h(q,u){var v,w,x,y,z;v=u.nS;w=u.mS;x=u.hH;if(0 === u.Tg.length)return {Nja:!1};y=u.Tg[0];u=y.rg;z=y.tK;y=y.duration;if(!z || 1 === x)return {Nja:!1};(0,p.assert)(y,"duration should be defined when immediate probability is included in probabilities array");(0,p.assert)(0 < x,"presenting segment seamless probability cannot be zero");w-=y;if(v < w)return {Nja:!1};w=v - w;v=x + w / y * (1 - x);y-=w;z=z * (1 - v) / (1 - x);q=u * v / x * n(q,y) + z * c(q,y);(0,p.assert)(1 >= q);return {Nja:!0,i4b:q};}function f(q){var u,v,w,x,y;u=q.Pg;v=q.Z0;w=q.gw;x=q.fo;y=q.Io;q=q.gY;(0,p.assert)(void 0 !== v);(0,p.assert)(void 0 !== u);w=1 - w;x-=y;q?(y=v - q - x,u-=q,0 >= y?q=Math.max(0,(v - q) / u):(v=u - y,q=0 < v?x / v:0,w*=0 < v?v / u:1)):(y=v - x,0 >= y?q=v / u:(v=u - y,q=0 < v?x / v:0,w*=0 < v?v / u:1));(0,p.assert)(0 <= q);(0,p.assert)(1 >= q);(0,p.assert)(0 <= w);(0,p.assert)(1 >= w);return 1 - q * w;}function e(q,u){q=Math.log(2) / q.rHb;return g(u) * Math.exp(-q * d(u));}function g(q){var u;return (null !== (u=q.Yz) && void 0 !== u?u:1) * q.Tg.reduce(function(v,w){var x;x=w.tK;return v * (w.rg + (void 0 === x?0:x));},1);}function k(q){var u,v,w,x;if(0 === q.Tg.length)return 0;v=0;if(1 > q.hH){v=q.nS;w=q.mS;x=null !== (u=q.Tg[0].duration) && void 0 !== u?u:0;v=Math.max(0,Math.min(x,v - (w - x)));}return q.Tg.reduce(function(y,z){z=z.duration;return y + (void 0 === z?0:z);},0) - v;}function l(q){return q.Tg.filter(function(u){return !u.tK;}).reduce(function(u,v){return u * v.rg;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.E2c=d;b.l8b=function(q,u,v){var w,x,y,z,B,A,C,D;if(!q.GX || (0,m.Pr)(u.ee))return e(q,u);x=q.rHb;q=d(u);y=k(u);z=l(u);B=h(x,u);A=B.Nja;B=B.i4b;B=void 0 === B?1:B;C=1 > u.gw?f(u):1;D=(null !== (w=u.Yz) && void 0 !== w?w:1) * z * n(x,q - y) * B * C * u.Tg.filter(function(F,G){return F.tK && (0 < G || !A);}).reduce(function(F,G){var E,H;E=G.tK;H=G.duration;H=void 0 === H?0:H;E=void 0 === E?0:E;G=G.rg * n(x,H) + E * c(x,H);return F * G;},1);r.l && (null === v || void 0 === v?void 0:v.log(("{").concat(u.groupId,"} [").concat(u.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(u.gw,", ") + ("pssp: ").concat(u.hH,", ") + ("streamingDuration: ").concat(u.Z0,", ") + ("duration: ").concat(u.Pg,", ") + ("seamlessProbability: ").concat(z,", ") + ("distance: ").concat(q,", immediateDistance: ").concat(y,", ") + ("risk:").concat(n(x,q - y),", ") + ("adjustedFirstTerm: ").concat(B,", streamingAdjustment: ").concat(C,", ") + ("probabilities: ").concat(JSON.stringify(u.Tg)," => ").concat(D)));return D;};b.C2c=e;b.p8b=g;b.bmb=l;m=a(65161);p=a(52571);r=a(48170);},45247:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Va=b.Yzc=b.Vf=b.uic=b.pG=b.Rna=b.p9=b.URa=b.Yoa=b.UG=b.Hqa=b.Tb=b.v=b.yw=b.Ld=b.Jf=b.tV=b.Lg=b.Ar=b.L4=b.Nd=b.Ic=b.gha=b.Y3=b.Vy=b.P4=b.Os=b.I=void 0;b.H7c=function(v){n.platform.nRa(v);};d=a(22970);n=a(66164);d.__exportStar(a(66164),b);c=a(91176);Object.defineProperties(b,{I:{enumerable:!0,get:function(){return c.I;}}});Object.defineProperties(b,{Os:{enumerable:!0,get:function(){return c.Os;}}});d.__exportStar(a(49502),b);h=a(63576);Object.defineProperties(b,{P4:{enumerable:!0,get:function(){return h.P4;}}});Object.defineProperties(b,{Vy:{enumerable:!0,get:function(){return h.Vy;}}});Object.defineProperties(b,{Y3:{enumerable:!0,get:function(){return h.Y3;}}});d.__exportStar(a(85858),b);d.__exportStar(a(25218),b);d.__exportStar(a(40666),b);d.__exportStar(a(95407),b);d.__exportStar(a(51308),b);f=a(79048);Object.defineProperties(b,{gha:{enumerable:!0,get:function(){return f.gha;}}});e=a(91967);Object.defineProperties(b,{Ic:{enumerable:!0,get:function(){return e.Ic;}}});Object.defineProperties(b,{Nd:{enumerable:!0,get:function(){return e.Nd;}}});g=a(11862);Object.defineProperties(b,{L4:{enumerable:!0,get:function(){return g.L4;}}});k=a(6783);Object.defineProperties(b,{Ar:{enumerable:!0,get:function(){return k.Ar;}}});l=a(69575);Object.defineProperties(b,{Lg:{enumerable:!0,get:function(){return l.Lg;}}});m=a(52629);Object.defineProperties(b,{tV:{enumerable:!0,get:function(){return m.tV;}}});d.__exportStar(a(56820),b);p=a(28871);Object.defineProperties(b,{Jf:{enumerable:!0,get:function(){return p.Jf;}}});r=a(65161);Object.defineProperties(b,{Ld:{enumerable:!0,get:function(){return r.Ld;}}});Object.defineProperties(b,{yw:{enumerable:!0,get:function(){return r.yw;}}});Object.defineProperties(b,{v:{enumerable:!0,get:function(){return r.v;}}});Object.defineProperties(b,{Tb:{enumerable:!0,get:function(){return r.Tb;}}});Object.defineProperties(b,{Hqa:{enumerable:!0,get:function(){return r.Hqa;}}});Object.defineProperties(b,{UG:{enumerable:!0,get:function(){return r.UG;}}});Object.defineProperties(b,{Yoa:{enumerable:!0,get:function(){return r.Yoa;}}});Object.defineProperties(b,{URa:{enumerable:!0,get:function(){return r.URa;}}});b.p9=function(v){n.platform.nRa(v);return Promise.resolve().then(function(){return d.__importStar(a(60069));}).then(function(w){return w.p9();});};b.Rna=function(v,w){n.platform.nRa(v);return Promise.resolve().then(function(){return d.__importStar(a(23102));}).then(function(x){return x.Rna(w);});};b.pG=function(){return a(32838)["default"];};t=d.__importDefault(a(14282));b.uic=t.default;t=a(36948);b.Vf=t.Vf;q=a(37268);b.Yzc=function(){return {Yl:q.Yl};};u=a(68539);Object.defineProperties(b,{Va:{enumerable:!0,get:function(){return u.Va;}}});},79857:function(t,b,a){var n,c,h,f,e,g,k,l,m;function d(p){var r;r=p.indexOf("?");return -1 !== r?p.slice(0,r):p;}Object.defineProperties(b,{__esModule:{value:!0}});b.z9a=void 0;n=a(22970);c=a(66164);h=a(91176);f=a(75539);e=a(61996);g=a(91967);k=a(54366);l=a(52571);m=a(48912);t=(function(){function p(r,q,u,v){var w;this.console=r;this.config=q;this.M=u;this.dA=v;this.gIb=!1;this.cTa={};this.PW=!1;this.Ze=new e.un({Ig:10,Fj:this,source:"LiveOCSideChannel",console:this.console});(0,l.assert)(null === (w=this.M.S.Bz) || void 0 === w?void 0:w.ti,"Missing pbcid for OC side channel message decryption.");this.C9b=new m.ZFa(this.M.S.Bz.ti);}p.prototype.Xc=function(r){this.gIb || (r.Xc(new k.so(this.Ze)),this.gIb=!0);};p.prototype.Ne=function(){this.NL && (clearTimeout(this.NL),this.NL=void 0);this.zKa();this.PW=!0;};p.prototype.decode=function(r,q,u){var v,w,x,y,z,B,A,C,D,F;void 0 === u && (u=!0);if(q && (q=null === (v=(0,h.ic)(q.split(";"),function(G){return 0 === G.indexOf("sc=");})) || void 0 === v?void 0:v.slice(3)) && (!u || this.JNc(r))){r=this.C9b.decrypt(q,!0);try{w=JSON.parse(r);}catch(G){this.console.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage: ").concat(r));return;}r=Number(w.time || void 0);isNaN(r) && (this.console.error(("Invalid live server time in OC side channel message. time: ").concat(w.time)),r=void 0);u=w["live-msg-start"];v=w["live-msg-end"];q=u?new Date(u).getTime():void 0;x=v?new Date(v).getTime():void 0;void 0 !== q && isNaN(q) || void 0 !== x && isNaN(x)?this.console.error("Invalid live event times in OC side channel message. " + ("live-msg-start: ").concat(u,", live-msg-end: ").concat(v)):y={startTime:u,eb:q,endTime:v,ib:x};u=w["encoder-tag"];v=w["encoder-region"];u && v || this.console.error("Invalid encoder info in OC side channel message. " + ("encoder-tag: ").concat(u,", encoder-region: ").concat(v));q=(x=w.maxBitrate)?Number(x || void 0):0;void 0 !== q && isNaN(q) && (this.console.error(("Invalid maxBitrate in OC side channel message: ").concat(x)),q=void 0);x=w["live-msg-prefetch-start"];z=w["live-msg-prefetch-dur"];B=x?new Date(x).getTime():void 0;A=z?Number(z):void 0;if(void 0 !== B && isNaN(B) || void 0 !== A && isNaN(A))(this.console.error("Invalid postplay prefetch info in OC side channel message. " + ("live-msg-prefetch-start: ").concat(x,", live-msg-prefetch-dur: ").concat(z)),A=B=void 0);C=w["live-msg-pp-start"];w=w["live-msg-pp-dur"];D=C?new Date(C).getTime():void 0;F=w?Number(w):void 0;if(void 0 !== D && isNaN(D) || void 0 !== F && isNaN(F))(this.console.error("Invalid postplay transition info in OC side channel message. " + ("live-msg-pp-start: ").concat(C,", live-msg-pp-dur: ").concat(w)),F=D=void 0);return {kv:u,jv:v,maxBitrate:q,kh:r,aj:y,cXa:B,jGb:x,bXa:A,iGb:z,XWa:D,bGb:C,WWa:F,aGb:w};}};p.prototype.JNc=function(r){var q;q=c.platform.time.ha();if(void 0 !== this.cTa[r] && q - this.cTa[r] < (void 0 === this.M.aj.endTime?this.config.D7:Math.max(this.config.D7,this.config.Gla)))return !1;this.cTa[r]=q;return !0;};p.prototype.DGb=function(r,q,u,v,w,x,y){var z,B,A;z=this;w=this.decode(v,w);void 0 !== w && (void 0 === w.kh || isNaN(w.kh) || void 0 === x || isNaN(x) || this.M.Wva(w.kh,x),void 0 !== w.aj && this.M.l1a(w.aj.startTime,w.aj.endTime),this.M.NSc(v,{kv:w.kv,jv:w.jv,jZa:y,cc:r.Qa}),w.maxBitrate && !isNaN(w.maxBitrate) && (r.track.vZ=w.maxBitrate,r.track.Dua(g.Q4.Nua,w.maxBitrate)),void 0 === w.jGb || void 0 === w.cXa || isNaN(w.cXa) || void 0 === w.iGb || void 0 === w.bXa || isNaN(w.bXa) || this.M.Tva("prefetch",w.jGb,w.iGb),void 0 === w.bGb || void 0 === w.XWa || isNaN(w.XWa) || void 0 === w.aGb || void 0 === w.WWa || isNaN(w.WWa) || this.M.Tva("execute",w.bGb,w.aGb),this.Ze.Hja("processMessage",{parsed:!0,url:d(u),pbcid:null === (B=this.M.S.Bz) || void 0 === B?void 0:B.ti,time:c.platform.time.now(),encoderTag:w.kv,encoderRegion:w.jv,maxBitrate:w.maxBitrate,serverTimeMs:w.kh,liveEventTimes:w.aj,prefetchStartMs:w.cXa,prefetchDurationMs:w.bXa,postplayStartMs:w.XWa,postplayDurationMs:w.WWa}),this.NL && (clearTimeout(this.NL),this.NL=void 0),this.config.IX && (this.Jzb=r,this.gTa=u,this.zvc=y,this.$Sa=q,void 0 === (null === (A=w.aj) || void 0 === A?void 0:A.endTime) && (this.NL=setTimeout(function(){z.Fta();},this.config.yZ))));};p.prototype.Fta=function(){var r,q,u;r=this;q=!1;u=this.Jzb;u && !this.PW && ((0,l.assert)(this.$Sa),(0,l.assert)(this.gTa),this.zKa(),this.Gta=new f.nCa(u,this.gTa,this.dA.sd.track,"refreshOC",{responseType:0},{offset:0,ma:8},this,this.$Sa,this.config,this.console),this.Gta.open()?q=!0:(this.zKa(),q=!1));this.Ze.kg({time:c.platform.time.now(),issued:q});this.config.IX && (this.NL=setTimeout(function(){r.Fta();},this.config.yZ));};p.prototype.zKa=function(){this.Gta && (this.Gta.Ne(),this.Gta=void 0);};p.prototype.qL=function(r){var q,u;u=r.getResponseHeader("X-TCP-Info",!1);null === (q=r.stream.M.xZ) || void 0 === q?void 0:q.DGb(this.Jzb,this.$Sa,this.gTa,r.mediaType,u,void 0,this.zvc);r.abort();};p.prototype.Zx=function(r){var q;q=this;r.abort();this.config.IX && (this.NL=setTimeout(function(){q.Fta();},this.config.yZ));};p.prototype.csa=function(){};p.prototype.LR=function(){};p.prototype.mD=function(){};p.prototype.Un=function(){};p.prototype.z_=function(){};p.prototype.MR=function(){};p.prototype.bsa=function(){};p.prototype.dsa=function(){};n.__decorate([(0,e.fb)({methodName:"refreshOCSideChannel",Oe:!1})],p.prototype,"Fta",null);return p;})();b.z9a=t;},18905:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.R3=void 0;a(22970).__exportStar(a(36670),b);d=a(92517);Object.defineProperties(b,{R3:{enumerable:!0,get:function(){return d.R3;}}});},36670:function(t,b){var a,d;Object.defineProperties(b,{__esModule:{value:!0}});b.dEa=b.Ke=void 0;(function(n){n[n.Gp=0]="OK";n[n.TEMPORARY=1]="TEMPORARY";n[n.Hp=2]="PERMANENT";})(a || (b.Ke=a={}));(function(n){n[n.KB=0]="STARTUP";n[n.uYb=1]="REBUFFER";})(d || (b.dEa=d={}));},92517:function(t,b,a){var d,n,c,h,f,e,g,k,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.R3=void 0;d=a(22970);n=d.__importStar(a(17267));t=a(90745);c=a(66164);a(97685);h=a(91176);f=a(8149);e=d.__importDefault(a(14282));g=a(52571);k=a(36670);l=a(54962);m=new c.platform.Console("ASEJS_LOCATION_SELECTOR","media|asejs");a=(function(p){var c1X;c1X=2;function r(q,u,v,w,x,y){var r9o,z;r9o=2;for(;r9o !== 17;){switch(r9o){case 19:var G5N="1SI";G5N+="Yb";G5N+="Zr";G5N+="NJCp";G5N+="9";G5N;return z;break;case 3:var a6X="L";a6X+="I";a6X+="V";a6X+="E";z.j1b=y;z.Fhb=a6X;z.RGc=k.dEa.KB;z.Zia=null;z.cM=null;z.H0=e.default.Ty.KB;z.za=(0,h.Ax)(q.Of);r9o=12;break;case 12:z.ih=new l.xI(w,z.za);z.iJ(q,u,e.default.Ty.KB);z.cra=!1;z.Lda={};r9o=19;break;case 2:z=p.call(this) || this;z.Sc=v;r9o=5;break;case 5:z.Fl=w;z.config=x;r9o=3;break;}}}for(;c1X !== 34;){switch(c1X){case 12:r.prototype.OSc=function(q,u){var C8i,v;C8i=2;for(;C8i !== 3;){switch(C8i){case 2:v=!1;this.za && void 0 !== q && q !== this.Fhb && (void 0 === this.Ghb || c.platform.time.ha() - this.Ghb > u.pwc) && (this.Fhb=q,this.Ghb=c.platform.time.ha(),v=!0);v && (this.cM=null);return v;break;}}};r.prototype.t9b=function(q,u,v,w,x){var z6W;z6W=2;for(;z6W !== 1;){switch(z6W){case 2:return this.ih.Nn(q.zb)?(u.Gg=q.zb.Gg,v && u.zb === q.zb.id && q.zb.vD && (u.vD=q.zb.vD),!1):this.ih.Nn(q)?(u.Gg=q.Gg,!1):w && q.zZ && !q.zZ.some(function(y){var u78=p6_3u;var F04;F04=2;for(;F04 !== 1;){switch(F04){case 2:u78.b_o(5);return u78.l9m(y,x);break;case 4:u78.b_o(6);return u78.w3s(x,y);break;}}})?!1:!0;break;}}};r.prototype.dTc=function(q,u,v,w,x,y,z,B){var o_m,A,C;o_m=2;for(;o_m !== 6;){switch(o_m){case 2:var q89="locationfai";q89+="love";q89+="r";var N0n="s";N0n+="erverfa";N0n+="ilover";var x4W="perfo";x4W+="r";x4W+="man";x4W+="ce";var B5U="u";B5U+="n";B5U+="kn";B5U+="ow";B5U+="n";(A=B5U,C=x.Aj[0]);C.id !== u.id && this.i9b(x);w.location !== u.id && (y?w.HSa=u.id === C.id:A=u !== v[0] && z && x.sTa !== B?"" + e.default.Ty.kZb:u !== v[0]?"" + e.default.Ty.Bxa:void 0 === w.location?"" + e.default.Ty.KB:n.Gx(w.Azb) || w.Azb === u.id?n.Gx(w.Gzb) || w.Gzb === q.zb.id?x4W:N0n:q89,w.location=u.id,w.zTa=u.level,w.du=A);o_m=4;break;case 4:w.url=q.url;w.zb=q.zb.id;w.ada=q.zb.name;w.my=q.zb.type;z && (x.sTa=B);o_m=6;break;}}};r.prototype.eTc=function(q,u,v,w,x){var P8v;P8v=2;for(;P8v !== 5;){switch(P8v){case 2:w.xb=q.yka?v.xb.confidence >= e.default.Vq.yU || u.confidence < x?v.xb:u:u.confidence === e.default.Vq.HAVE_NOTHING || v.xb.confidence >= e.default.Vq.yU?v.xb:u;q.HX && !w.xb.wx && (w.xb.wx=v.xb.wx);P8v=5;break;}}};r.prototype.i9b=function(q){var W1V,u,v,w,x,y;W1V=2;for(;W1V !== 5;){switch(W1V){case 2:var z0v="is";z0v+="sueServer";z0v+="Probe";z0v+="Reques";z0v+="t";(u=c.platform.time.ha(),v=this.config,w=q.urls[0].zb,x=w.id,y=this.Lda[x]);this.ih.Nn(w) && (y?v.Oba && u > y.SCb && (v=Math.min(2 * y.NIb,v.vaa),this.Lda[x]={Krb:y.Krb,NIb:v,SCb:u + v},this.emit(z0v,{zb:w,url:this.ih.qqc(q,x),stream:q})):this.Lda[x]={Krb:u,NIb:v.UZ,SCb:u + v.UZ});W1V=5;break;}}};c1X=18;break;case 15:r.prototype.q0=function(){var y7Q;y7Q=2;for(;y7Q !== 5;){switch(y7Q){case 2:l.xI.reset(this.ih.gD,!1);this.Lda={};y7Q=5;break;}}};r.prototype.$Ua=function(q){var D2t;D2t=2;for(;D2t !== 1;){switch(D2t){case 2:this.j1b(q);D2t=1;break;}}};r.prototype.Wk=function(){var r7Q;r7Q=2;for(;r7Q !== 1;){switch(r7Q){case 2:this.GJc(k.dEa.uYb);r7Q=1;break;}}};c1X=25;break;case 2:d.__extends(r,p);r.prototype.DY=function(){var S78;S78=2;for(;S78 !== 1;){switch(S78){case 4:return this.ih.DY();break;case 2:return this.ih.DY();break;}}};r.prototype.vZa=function(q){var h1z;h1z=2;for(;h1z !== 1;){switch(h1z){case 2:return this.ih.vZa(q);break;}}};c1X=4;break;case 25:r.prototype.Ka=function(){var U5Y;U5Y=2;for(;U5Y !== 1;){switch(U5Y){case 2:this.config.mxc && this.LEc();U5Y=1;break;}}};r.prototype.EM=function(q){var V2Y;V2Y=2;for(;V2Y !== 1;){switch(V2Y){case 2:delete this.Lda[q];V2Y=1;break;}}};r.prototype.QSc=function(){var z$6,q,u,v,w;z$6=2;for(;z$6 !== 6;){switch(z$6){case 2:(q=this,u=this.config,v=this.ih.DY().filter(function(x){var d4r;d4r=2;for(;d4r !== 1;){switch(d4r){case 2:return !q.ih.Nn(x) && 0 !== x.level;break;}}}));z$6=1;break;case 1:z$6=0 === v.length?5:4;break;case 5:return null;break;case 4:w=c.platform.time.ha();z$6=3;break;case 9:(v.forEach(function(x){var Q32;Q32=2;for(;Q32 !== 1;){switch(Q32){case 2:x.id !== q.Sc.location && (x.xb=q.Fl.get(x.id));Q32=1;break;}}}),this.Zia=w);z$6=8;break;case 3:z$6=null === this.Zia || this.Zia + u.caa < w?9:8;break;case 8:v.sort(function(x,y){var R26;R26=2;for(;R26 !== 1;){switch(R26){case 2:return x.level - y.level || x.yc - y.yc;break;}}});return v;break;}}};c1X=22;break;case 18:r.prototype.bMc=function(q,u){var X94,v,w;X94=2;for(;X94 !== 4;){switch(X94){case 2:(v=[],w=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);n.forEach(this.ih.urls,function(x,y){var G47,z,B,A,C;G47=2;for(;G47 !== 13;){switch(G47){case 8:G47=n.ji(A) && n.ji(z) && A === q && z == u?7:13;break;case 2:x=x.zb;z=y.match(w);G47=5;break;case 5:G47=z && 4 === z.length?4:13;break;case 4:var S3Y="8";S3Y+="0";var f_Q="4";f_Q+="4";f_Q+="3";(B="s" === z[1],A=z[2]);z=z[3];z.length || (z=B?f_Q:S3Y);G47=8;break;case 7:x.urls.some(function(D){var q2n;q2n=2;for(;q2n !== 5;){switch(q2n){case 2:q2n=D.url === y?1:5;break;case 1:return (C=D,!0);break;}}});C && v.push({url:C,zb:x});G47=13;break;}}});X94=5;break;case 5:return v;break;}}};r.prototype.pH=function(q,u,v,w){var j34,H$K,x,y,z;j34=2;for(;j34 !== 33;){switch(j34){case 27:this.cM=null;this.H0=e.default.Ty.Cp;w && (this.H0=e.default.Ty.RXb,x.vD=w);j34=24;break;case 19:y=y.parent;j34=20;break;case 22:j34=H$K === k.Ke.Gp?6:21;break;case 15:var X8f="netw";X8f+="orkFai";X8f+="l";X8f+="ed";this.emit(X8f,{qpa:q,Uc:y});j34=27;break;case 11:j34=q > y?10:27;break;case 4:j34=x?3:34;break;case 20:j34=y && y.cq !== e.default.Qj.LN?19:18;break;case 10:y=x;j34=20;break;case 5:x=x.parent;j34=1;break;case 21:j34=35;break;case 23:j34=H$K === k.Ke.TEMPORARY?6:22;break;case 8:H$K=x.Gg;j34=H$K === k.Ke.Hp?7:23;break;case 24:this.ih.dump();j34=33;break;case 35:var g_L="Invalid";g_L+=" f";g_L+="ailure stat";g_L+="e";throw Error(g_L);j34=6;break;case 1:j34=x && x.parent && x.cq !== q?5:4;break;case 9:var Y52=" : w";Y52+="as";Y52+=" ";var J3K=" ";J3K+="at";J3K+=" ";var H5$=" fai";H5$+="lure rep";H5$+="or";H5$+="ted for ";var y$J="T";y$J+="EM";y$J+="P";var M$0="P";M$0+="E";M$0+="R";M$0+="M";var C71="repor";C71+="tF";C71+="ailure: ";m.warn(C71.concat(u?M$0:y$J,H5$).concat(e.default.Qj.name[q],J3K).concat(l.xI.LAc(x),Y52).concat(l.xI.hjc(x)));j34=8;break;case 3:j34=z !== x.Gg?9:33;break;case 6:x.Gg=z;l.xI.IGb(x);this.cra=this.cra || this.ih.kf();q=this.ih.Xaa;j34=11;break;case 7:return;break;case 34:var s5Y="Unable to find failure entity f";s5Y+="or";s5Y+=" URL ";m.warn(s5Y.concat(v));j34=33;break;case 2:(x=q !== e.default.Qj.tI && v?this.ih.urls[v]:this.ih.gD,y=this.ih.Xaa,z=u?k.Ke.Hp:k.Ke.TEMPORARY);j34=1;break;case 18:var k8R=" se";k8R+="rver";k8R+="Id ";k8R+="= ";var H7s="Emitting";H7s+=" netwo";H7s+="rkFailed, p";H7s+="ermanent = ";y=y?y.id:void 0;q=q === k.Ke.Hp;m.warn(H7s.concat(q,k8R).concat(y));j34=15;break;}}};r.prototype.AYa=function(q,u){var y5p;y5p=2;for(;y5p !== 3;){switch(y5p){case 5:this.cM=null;this.H0=e.default.Ty.ICa;y5p=3;break;case 2:y5p=(q=this.ih.$m[q])?1:5;break;case 1:(l.xI.reset(q,u),l.xI.JGb(q));y5p=5;break;}}};c1X=15;break;case 4:r.prototype.tG=function(q){var z5p;z5p=2;for(;z5p !== 1;){switch(z5p){case 2:return this.ih.tG(q);break;case 4:return this.ih.tG(q);break;}}};r.prototype.Xna=function(q){var D7U;D7U=2;for(;D7U !== 1;){switch(D7U){case 4:return this.ih.Xna(q);break;case 2:return this.ih.Xna(q);break;}}};r.prototype.dPa=function(q){var P62;P62=2;for(;P62 !== 1;){switch(P62){case 2:return this.ih.dPa(q);break;case 4:return this.ih.dPa(q);break;}}};c1X=8;break;case 8:r.prototype.IY=function(q,u){var l0F,v,w;l0F=2;for(;l0F !== 5;){switch(l0F){case 2:return u && q && (!(0,f.hk)(u) || (0,f.hk)(u) && (null === (v=u.track) || void 0 === v?0:v.wxb))?null !== (w=u.IY(void 0,q)) && void 0 !== w?w:"":"";break;}}};r.prototype.iJ=function(q,u,v){var V6h;V6h=2;for(;V6h !== 14;){switch(V6h){case 9:(0,g.assert)(this.za && (0,h.Ax)(u) && !!q || !this.za && !(0,h.Ax)(u) && !q);this.za && (this.Wwc=q.BBc);this.cM=null;this.H0=v;V6h=14;break;case 2:void 0 === v && (v=e.default.Ty.b$a);this.ih.iJ(q,u,v);this.Zia=c.platform.time.ha();u=q.Of;q=q.bj;V6h=9;break;}}};r.prototype.Yva=function(q,u,v,w){var k34,C,B,A,x,y,z;k34=2;for(;k34 !== 10;){switch(k34){case 5:k34=this.ih.kf()?4:3;break;case 6:C=this.cM;k34=14;break;case 3:(B=0,A=this.PSc(y));n.md(this.cM) && (this.cM=this.QSc());k34=8;break;case 13:return (this.pH(e.default.Qj.tI,!1),!1);break;case 7:return (this.pH(e.default.Qj.tI,!1),!1);break;case 4:return !1;break;case 12:var Z38="(empty s";Z38+="tream ";Z38+="lis";Z38+="t)";var R1T="Did not fi";R1T+="nd a URL";R1T+=" for AN";R1T+="Y stream...";var Z8x="netwo";Z8x+="r";Z8x+="k";Z8x+="F";Z8x+="ailed";var T7O="Netw";T7O+="ork has failed, not updating strea";T7O+="m selection";u.forEach(function(D,F){var M4R,G,E;M4R=2;for(;M4R !== 5;){switch(M4R){case 2:var Q7C=" ";Q7C+="Kbp";Q7C+="s";Q7C+=")";var I1V=" ";I1V+="(";var L14="]";L14+=" ";var e4n="Fa";e4n+="iling s";e4n+="tream [";E=D.id;x.Ijc(C,D,y,z,v,A)?(D.Nn=!1,D.Gg=void 0,D.Uo && ++B):D.Gg && D.Gg === k.Ke.TEMPORARY?x.ih.Xaa=k.Ke.TEMPORARY:D.Nn || (m.warn(e4n.concat(F,L14).concat(E,I1V).concat(D.bitrate,Q7C)),D.Y9b(),D.Nn=!0,w && D.Qa === w.Qa && (x.ih.Xaa=null !== (G=D.Gg) && void 0 !== G?G:k.Ke.Gp));M4R=5;break;}}});return this.ih.kf()?(m.warn(T7O),this.cra=!0,this.emit(Z8x,{qpa:this.ih.Xaa === k.Ke.Hp}),!1):0 === B?(m.warn(R1T.concat(u.length?"":Z38)),this.pH(e.default.Qj.tI,!0),!1):!0;break;case 8:k34=!this.cM?7:6;break;case 2:(x=this,y=this.config,z=this.OSc(v,y));c.platform.oC && c.platform.oC(q);k34=5;break;case 14:k34=!C.length?13:12;break;}}};r.prototype.Ijc=function(q,u,v,w,x,y){var R8f,z,B,A;R8f=2;for(;R8f !== 5;){switch(R8f){case 2:(z=this,B=u.id,A=this.Sc.get());return q.some(function(C){var B8V,F,D;B8V=2;for(;B8V !== 8;){switch(B8V){case 4:F=D.Aj[0];void 0 === u.ita && (u.ita=F.id,u.jXa=D.E1[F.id][0].zb.id);return D.E1[C.id].some(function(G){var r8R,E;r8R=2;for(;r8R !== 8;){switch(r8R){case 2:E=z.t9b(G,u,v.jH,w,x);r8R=1;break;case 1:r8R=!E?5:4;break;case 5:return E;break;case 4:z.dTc(G,C,q,u,D,v.jH,w,x);z.eTc(v,A,C,u,y);return !0;break;}}});break;case 5:return !1;break;case 1:B8V=!D?5:4;break;case 2:D=C.streams[B];B8V=1;break;}}});break;}}};r.prototype.PSc=function(q){var a0f,u,v;a0f=2;for(;a0f !== 3;){switch(a0f){case 2:(u=this.Sc.get(),v=e.default.Vq.zU);q.$qa && (v=e.default.Vq.yU);this.Sc.location && u.confidence >= v && (q=this.ih.Aj[this.Sc.location]) && (q.xb=u);return v;break;}}};c1X=12;break;case 22:r.prototype.GJc=function(q){var G69,u;G69=2;for(;G69 !== 4;){switch(G69){case 2:u=this.Sc.location;this.RGc=q;this.ih.DY().forEach(function(v){var p_W;p_W=2;for(;p_W !== 1;){switch(p_W){case 2:v.id !== u && v.xb && v.xb.confidence > e.default.Vq.zU && (v.xb.confidence=e.default.Vq.zU);p_W=1;break;}}});G69=4;break;}}};r.prototype.LEc=function(){var x69,q;x69=2;for(;x69 !== 5;){switch(x69){case 2:q=this;this.cra || this.ih.DY().forEach(function(u){var c5Y;c5Y=2;for(;c5Y !== 1;){switch(c5Y){case 2:u.Gg === k.Ke.TEMPORARY && q.Fl.fail(u.id,c.platform.time.ha());c5Y=1;break;}}});x69=5;break;}}};return r;break;}}})(t.EventEmitter);b.R3=a;},54962:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.xI=void 0;d=a(22970);n=d.__importStar(a(17267));t=a(66164);c=a(65161);h=d.__importDefault(a(14282));f=a(36670);e=new t.platform.Console("ASEJS_OC_NETWORK","media|asejs");a=(function(){function g(k,l){this.Fl=k;this.za=l;this.Aj={};this.$m={};this.streams={};this.urls={};this.Yaa=[];this.gD={id:"network",cq:h.default.Qj.tI,Gg:f.Ke.Gp,vD:void 0,parent:void 0,children:this.Yaa};}g.IGb=function(k){var l,m,p;k=k.parent;l=!1;if(k && k.children){m={};m[f.Ke.Gp]=[];m[f.Ke.Hp]=[];m[f.Ke.TEMPORARY]=[];p=k.children;p.forEach(function(r){r && m[r.Gg].push(r);});0 < m[f.Ke.Gp].length || (m[f.Ke.Hp].length === p.length?k.Gg !== f.Ke.Hp && (k.Gg=f.Ke.Hp,e.error("PERM failing :",h.default.Qj.name[k.cq] + " " + k.id),l=!0):k.Gg === f.Ke.Gp && (k.Gg=f.Ke.TEMPORARY,e.error("TEMP failing :",h.default.Qj.name[k.cq] + " " + k.id),l=!0),l && g.IGb(k));}};g.LAc=function(k){var m;for(var l=[];k;k=k.parent)switch(k.cq){case h.default.Qj.LN:m=k;l.unshift(m.id + "(" + m.name + ")");break;case h.default.Qj.LOCATION:l.unshift(k.id);break;case h.default.Qj.URL:l.unshift("<url for " + k.stream.bitrate + ">");}return l.length?"/" + l.join("/"):"";};g.JGb=function(k){var l;if((k=k.parent) && 0 < k.children.length && k.Gg !== f.Ke.Gp){l={};l[f.Ke.Gp]=[];l[f.Ke.Hp]=[];l[f.Ke.TEMPORARY]=[];k.children.forEach(function(m){m && l[m.Gg].push(m);});0 < l[f.Ke.Gp].length && (k.Gg=f.Ke.Gp,g.JGb(k));}};g.hjc=function(k){switch(k.Gg){case f.Ke.Gp:return "OK";case f.Ke.Hp:return "FAILED PERMANENTLY";case f.Ke.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}};g.reset=function(k,l){if(k.Gg === f.Ke.TEMPORARY || k.Gg === f.Ke.Hp && l)k.Gg=f.Ke.Gp;k.children && k.children.forEach(function(m){m && g.reset(m,l);});};g.prototype.DY=function(){return this.Yaa;};g.prototype.qqc=function(k,l){for(var m=0;m < k.urls.length;m++)if(k.urls[m].zb.id === l)return k.urls[m];};g.prototype.kf=function(){return this.Nn(this.gD);};Object.defineProperties(g.prototype,{Xaa:{get:function(){return this.gD.Gg;},set:function(k){this.gD.Gg=k;},enumerable:!1,configurable:!0}});g.prototype.vZa=function(k){if((k=this.urls[k]) && k.parent)return k.parent.id;};g.prototype.tG=function(k){return this.$m[k];};g.prototype.Xna=function(k){var l,m,q;m=[];try{for(var p=d.__values(Object.keys(this.urls)),r=p.next();!r.done;r=p.next()){q=this.urls[r.value];q.url === k.url && m.push(q.zb);}}catch(v){var u;u={error:v};}finally{try{r && !r.done && (l=p.return) && l.call(p);}finally{if(u)throw u.error;}}return m;};g.prototype.dPa=function(k){for(var l in this.streams)if(this.streams[l].n6 === k)return this.streams[l];};g.prototype.iJ=function(k,l,m){var p,r,q,u;p=this;void 0 === m && (m=h.default.Ty.b$a);k.locations.forEach(function(v){var w,x,y,z;w=v.key;if(p.Aj[w])(p.Aj[w].yc=v.rank,p.Aj[w].level=v.level,p.Aj[w].weight=v.weight);else {x=[];y=p.Fl.get(w);z=p.gD;v={id:w,cq:h.default.Qj.LOCATION,Gg:f.Ke.Gp,yc:v.rank,level:v.level,weight:v.weight,vD:void 0,parent:z,children:x,$m:x,streams:{},xb:y};p.Aj[v.id]=v;z.children.push(v);}});this.Yaa.sort(function(v,w){return v.level - w.level || v.yc - w.yc;});k.servers.forEach(function(v){var w,x,y;w=v.id;if(p.$m[w])p.$m[w].yc=v.rank;else {x=p.Aj[v.key];if(x){y=[];v={id:w,cq:h.default.Qj.LN,Gg:f.Ke.Gp,vD:void 0,parent:x,children:y,urls:y,name:v.name,type:v.type,yc:v.rank,location:x};p.$m[v.id]=v;x.children.push(v);}}});u=!0;l && (u=!1,this.fHc(l));k.audio_tracks.forEach(function(v){p.qXa(c.v.X,v,u);});k.video_tracks.forEach(function(v){p.qXa(c.v.U,v,u);});null === (r=k.timedtexttracks) || void 0 === r?void 0:r.forEach(function(v){p.XGc(v,u);});null === (q=k.mediaEventTracks) || void 0 === q?void 0:q.forEach(function(v){p.qXa(c.v.pn,v,u);});k=this.Yaa.filter(function(v){var w;w=v.$m.every(function(x){return 0 === x.urls.length;});w && (v.$m.forEach(function(x){p.$m[x.id]=void 0;}),p.Aj[v.id]=void 0,v.parent=void 0,v.children.length=0,v.streams={});return !w;});k.forEach(function(v){v.$m.sort(function(w,x){return w.yc - x.yc;});});this.Yaa=k;this.gD.children=k;this.dump();};g.prototype.Nn=function(k){return k.Gg !== f.Ke.Gp;};g.prototype.fHc=function(k){var m,p,r;function l(w){Object.keys(w).forEach(function(x){var y,z;y=w[x];r.add(x);if(y){z=p.streams[x];p.streams[x]=z?d.__assign(d.__assign({},z),y):{id:x,bitrate:y.bitrate,Mb:null,type:y.mediaType,clear:y.gk?!1:!0,Uo:!0,urls:[],E1:{},Aj:[],n6:y,sTa:p.za?"LIVE":void 0};}});}p=this;r=new Set();try{for(var q=d.__values(k),u=q.next();!u.done;u=q.next())l(u.value);}catch(w){var v;v={error:w};}finally{try{u && !u.done && (m=q.return) && m.call(q);}finally{if(v)throw v.error;}}Object.keys(this.streams).forEach(function(w){r.has(w) || delete p.streams[w];});};g.prototype.qXa=function(k,l,m){var p;p=this;l.streams.forEach(function(r){p.BGb(k,r.downloadable_id.toString(),r,m);});};g.prototype.XGc=function(k,l){var m;if("none" !== k.id){m=k.downloadableIds["imsc1.1"];(k=k.ttDownloadables["imsc1.1"]) && m && this.BGb(c.v.Ba,m,k,l);}};g.prototype.BGb=function(k,l,m,p){var r,q;r=this.streams[l];if(n.Gx(r) && p){p="";r=0;q=null;if(k === c.v.U || k === c.v.X)(p=m.content_profile,r=m.bitrate,k === c.v.U && (q=m.vmaf));r={id:l,bitrate:r,Mb:q,type:k,profile:p,clear:0 === p.indexOf("none-"),Uo:!0,urls:[],E1:{},Aj:[],sTa:this.za?"LIVE":void 0};this.streams[r.id]=r;}else if(!r && !p)return;this.YGc(r,m.urls);n.Y7(r.E1,function(u){u.sort(function(v,w){return v.zb.yc - w.zb.yc;});});r.Aj=r.Aj.sort(function(u,v){return u.level - v.level || u.yc - v.yc;});};g.prototype.YGc=function(k,l){var m;m=this;l.forEach(function(p){var r,q,u,v,w;r=p.url;q=m.urls[r];u=m.$m[p.cdn_id];m.za && (v=p.liveOcaCapabilities);if(u){n.Gx(q) && (q={id:r,cq:h.default.Qj.URL,Gg:f.Ke.Gp,vD:void 0,parent:u,children:[],url:r,zb:u,stream:k,zZ:v},m.urls[r]=q,u.children.push(q));w=u.location;k.urls.push(q);0 === k.Aj.filter(function(x){return x.id === w.id;}).length && k.Aj.push(w);w.streams[k.id]=k;(p=k.E1[w.id])?p.push(q):k.E1[w.id]=[q];}});};g.prototype.dump=function(){};return g;})();b.xI=a;},62614:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Xnc=function(a){var d;a=a.bj;if(!a)return 0;d=a.RS;return 1E3 * Object.keys(d).reduce(function(n,c){c=d[c];return Math.max(n,c.duration / c.P);},0);};},82924:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.G3a=void 0;d=a(91176);n=a(7559);t=(function(){function c(h,f,e){this.config=h;this.ng=f;this.console=e;}c.prototype.hw=function(h){this.Fa=h.Fa;};c.prototype.append=function(h,f){var e,g,k,l,m,p,r,q,u,v,w,x,y;if(h.Ui)return h;e=!1;g=(0,n.Oub)(this.config,this.ng);k=h.Ta;l=h.offset;m=h.rg;p=h.Bj;r=k.Lb;q=k.Qb;u=k.rA;u=k.ki || u;if(!h.Ta.na || !u || m)return h;v=k.xa.ea(k.qa);u=Math.floor(v.gf(this.Fa));w=f.HUa || r.ea(this.Fa.Qg(2));x=w.ea(q);r=u;y=!1;f.HUa && (f=this.amb(v,x,x),r=f.$k,y=f.XCb);g=w.ea(d.I.Ca(g));q=d.I.max(g.ea(q),d.I.ia);y || (q=this.amb(v,q,x),r=q.$k,q.XCb && (--r,this.Fa.Qg(r)));r < (this.config.Hzc || 1)?e=!0:0 < u - r && h.Ta.fma(u - r);return {Ta:k,offset:l,rg:m,Ui:e,Bj:p};};c.prototype.amb=function(h,f,e){var g;h=d.I.min(h,f);h=Math.floor(h.gf(this.Fa));f=this.Fa.Qg(h);e=e.ea(f);g=0 < h && e.lessThan(d.I.Yx);return {$k:h,o$c:f,j5c:e,XCb:g};};return c;})();b.G3a=t;},44237:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.yxa=void 0;d=a(91176);n=a(48170);t=(function(){function c(h){this.console=h;this.HL=d.I.ia;}c.prototype.hw=function(h){h=h.Fh?h.te || d.I.ia:d.I.ia;this.te && (this.HL=h.ea(this.te),n.l && this.console.log("AudioDiscontinuity: profile timestamp offset change: " + this.HL.da()));this.te=h;};c.prototype.append=function(h){var f,e,g,k,l,m;if(h.Ui)return h;f=h.Ta;e=h.offset;g=h.Bj;k=f.qa;l=f.xa;m=k.add(e);e=l.add(e);if(!this.YQ)return (this.YQ=e,h);l=this.YQ.add(this.HL);m=m.ea(l);this.YQ=e;this.HL=d.I.ia;if(m.equal(d.I.ia))return h;h.Bj=g || [];f={stream:f.Qa,pts:k.G,gap:m.G};h.Bj.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:f}}});n.l && this.console.log(("AudioDiscontinuity: ").concat(JSON.stringify(f)));return h;};return c;})();b.yxa=t;},75811:function(t,b,a){var c,h,f,e,g,k,l;function d(m,p,r,q,u,v,w){var x,y,z,B,A,C;if(void 0 !== m.Pua || void 0 !== m.p_a || m.Hr || m.fq){p=(null !== (x=m.end) && void 0 !== x?x:p) - m.start;x=Array(p);y=m.Hr;z=m.Hrb?m.Hrb - 1:0;B=m.Irb?m.Irb - 1:0;A=Math.min(p,Math.max(m.Pua || 0,w && y && !z?1:0));m=Math.min(p - A,Math.max(m.p_a || 0,w && r && !B?1:0));w=Math.floor(u.gf(q));q=Math.max(0,Math.min(p - A - m,y?Math.max(0,w - z):0));C=Math.max(0,Math.min(p - A - m - q,r?Math.max(0,w - B):0));q=A + q;u=p - m - C;B=B?0:Math.max(0,w + 1 - C);w=(1 - v) / (w + 1);for(C=0;C < p;++C)x[C]=C < A?-Infinity:C >= p - m?-Infinity:y && C < q?n(v + (C - A + z) * w):r && C >= u?n(1 - (C - u + B + 1) * w):0;return x;}}function n(m){return 20 * Math.log(m) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.H3a=void 0;c=a(22970);h=a(91562);f=a(91176);e=a(69575);g=a(52571);k=a(65161);l=a(47267);t=(function(m){var g_Z;g_Z=2;for(;g_Z !== 8;){switch(g_Z){case 2:c.__extends(p,m);p.prototype.na=function(r,q){var S88,C,D,F,G,E,y,z,B,u,v,w,x,A,H;S88=2;for(;S88 !== 39;){switch(S88){case 18:(C=this.vgc(r,B,q,A),D=C.success,F=C.Wr,G=C.data,E=C.YJ);S88=17;break;case 9:return {success:!0};break;case 14:(y=r.Zt,z=this.Frb(y),B=z.DUa);z=z.wS;S88=12;break;case 32:S88=!D?31:30;break;case 34:G=q.data;E=q.YJ;S88=32;break;case 6:return {success:!1};break;case 3:S88=!r.na?9:8;break;case 2:var m1K="AudioMediaFragmentEditor [${";m1K+="fragment.m";m1K+="ediaType}]: Attempt to edit appended fragment";void 0 === q && (q=!0);x=[];(0,g.assert)(!r.cC,m1K);S88=3;break;case 8:var K54="Audio";K54+="Med";K54+="iaFragmentEditor: fr";K54+="agm";K54+="ent has missing responses";(0,g.assert)(r.yQ,K54);S88=7;break;case 42:y.push.apply(y,c.__spreadArray([],c.__read(E),!1));S88=41;break;case 15:F && x.push(F);D=G?[(0,e.Dz)(G)]:void 0;F=r.na.start;S88=25;break;case 11:return {success:!1};break;case 17:S88=!D?16:15;break;case 23:C=D?(0,e.Dz)(D):B;q=this.wgc(r,C,F,q,A);D=q.success;F=q.Wr;S88=34;break;case 7:S88=0 >= r.Vb.aa?6:14;break;case 30:F && x.push(F);D=G?[(0,e.Dz)(G)]:void 0;S88=28;break;case 28:S88=E?44:41;break;case 12:S88=!B?11:10;break;case 25:E && y.push.apply(y,c.__spreadArray([],c.__read(E),!1));S88=24;break;case 24:S88=null !== r.na.end && r.na.end !== r.rf || r.na.p_a || r.na.fq?23:41;break;case 31:return {success:D};break;case 10:A=!1 === r.hma && !y.every(function(J){var l1i=p6_3u;var s0x;s0x=2;for(;s0x !== 1;){switch(s0x){case 4:l1i.b_o(7);return l1i.w3s(ArrayBuffer,J);break;case 2:l1i.z5Q(7);return l1i.w3s(ArrayBuffer,J);break;}}});y=[];S88=19;break;case 16:return {success:D};break;case 41:D=(D || [B]).concat(this.Z4b(z,null !== (v=null === (u=r.B_) || void 0 === u?void 0:u.offset) && void 0 !== v?v:B.byteLength,null === (w=r.B_) || void 0 === w?void 0:w.ma,y));return {success:!0,Bj:x,Zt:D};break;case 19:S88=0 < r.na.start || r.na.Pua || r.na.Hr?18:24;break;case 44:H=B.byteLength - C.byteLength + y.reduce(function(J,L){var R1y;R1y=2;for(;R1y !== 1;){switch(R1y){case 2:return J + L.remove;break;}}},0);E.forEach(function(J){var Z72;Z72=2;for(;Z72 !== 1;){switch(Z72){case 4:J.offset%=H;Z72=2;break;case 2:J.offset+=H;Z72=1;break;}}});S88=42;break;}}};g_Z=5;break;case 5:p.prototype.vgc=function(r,q,u,v){var K02,w;K02=2;for(;K02 !== 14;){switch(K02){case 2:void 0 === u && (u=!0);void 0 === v && (v=!1);(0,g.assert)(r.na);w=r.na.Pua;K02=3;break;case 3:u=!(!r.na.fq || !u);K02=9;break;case 9:K02=!(r.na.start || w || r.na.Hr || u)?8:7;break;case 8:return {success:!0};break;case 7:var N9z=" ";N9z+="edit ";N9z+="faile";N9z+="d";var S4k="]";S4k+=":";S4k+=" ";var S_s="A";S_s+="u";S_s+="dioMediaFra";S_s+="gmentEditor [";u=d(r.na,r.rf,u,r.Fa,this.sua,this.KZ,this.config.Gxb);return (q=new h.Oy(this.kL,r.stream,q).NHb({Zk:r.na.start,P:r.Gl,vF:u,CYa:!1,KS:this.config.w0,oR:n(this.KZ),Yla:v}))?{success:!0,Wr:r.eIb(w),data:q.Ta,YJ:q.YJ}:(this.console.error(S_s.concat(r.mediaType,S4k).concat(r.toString(),N9z)),{success:!1});break;}}};p.prototype.wgc=function(r,q,u,v,w){var u6O,x,y;u6O=2;for(;u6O !== 12;){switch(u6O){case 2:void 0 === u && (u=0);void 0 === v && (v=!0);u6O=4;break;case 4:void 0 === w && (w=!1);(0,g.assert)(r.na);u6O=9;break;case 6:return {success:!0};break;case 14:var S7q=" edi";S7q+="t";S7q+=" failed";var x3q="]";x3q+=":";x3q+=" ";var Z3q="Au";Z3q+="dioMediaFragmen";Z3q+="tEditor";Z3q+=" [";v=d(r.na,r.rf,v,r.Fa,this.tua,this.KZ,this.config.Gxb);return (q=new h.Oy(this.kL,r.stream,q).XHb({Zk:(null !== (x=r.na.end) && void 0 !== x?x:r.rf) - u,P:r.Gl,vF:v,CYa:!1,KS:this.config.w0,oR:n(this.KZ),Yla:w}))?{success:!0,Wr:r.eIb(y),data:q.Ta,YJ:q.YJ}:(this.console.error(Z3q.concat(r.mediaType,x3q).concat(r.toString(),S7q)),{success:!1});break;case 9:y=r.na.p_a;v=!(!r.na.fq || !v);u6O=7;break;case 7:u6O=!(null !== r.na.end && r.na.end !== r.rf || y || r.na.Hr || v)?6:14;break;}}};g_Z=3;break;case 3:p.prototype.Z4b=function(r,q,u,v){var D8h,w,x,y,k8B,z,B,A,C,D,n0w,T0e,b8N;D8h=2;for(;D8h !== 10;){switch(D8h){case 5:return r;break;case 1:D8h=0 === v.length || v.every(function(G){var C3C,E;C3C=2;for(;C3C !== 5;){switch(C3C){case 2:E=G.offset;return E + G.remove <= q || void 0 !== u && E >= q + u;break;}}})?5:4;break;case 9:var g7Z="Req";g7Z+="uest byt";g7Z+="es mismatch";var h_$="Must have array buffers to edit optimized";h_$+=" response ";h_$+="beyon";h_$+="d or";h_$+="iginal request";(0,g.assert)((0,l.rtc)(r),h_$);r=1 < r.length?(0,e.Dz)(r):r[0];(0,g.assert)(void 0 === u || u === r.byteLength,g7Z);D8h=6;break;case 2:D8h=1;break;case 4:D8h=0 === r.length?3:9;break;case 3:var L0F="Expected edi";L0F+="t offset to match request offset when entire edited fragment i";L0F+="s in initial response";var h3Y="Expected only one ";h3Y+="edit when";h3Y+=" entire ed";h3Y+="ited fragment is";h3Y+=" in initial response";return ((0,g.assert)(1 === v.length,h3Y),(0,g.assert)(v[0].offset === q,L0F),[]);break;case 6:v.sort(function(G,E){var F9t;F9t=2;for(;F9t !== 1;){switch(F9t){case 2:return G.offset - E.offset;break;case 4:return G.offset + E.offset;break;}}});(x=q,y=[]);try{k8B=2;for(;k8B !== 8;){switch(k8B){case 2:(z=c.__values(v),B=z.next());k8B=1;break;case 9:B=z.next();k8B=1;break;case 1:k8B=!B.done?5:8;break;case 5:(A=B.value,C=A.offset,D=A.remove);C >= x && y.push(r.slice(x - q,C - q));p6_3u.z5Q(8);x=Math.max(x,p6_3u.w3s(D,C));k8B=9;break;}}}catch(G){var F;F={error:G};}finally{n0w=2;for(;n0w !== 1;){switch(n0w){case 2:try{T0e=2;for(;T0e !== 1;){switch(T0e){case 2:B && !B.done && (w=z.return) && w.call(z);T0e=1;break;}}}finally{b8N=2;for(;b8N !== 5;){switch(b8N){case 1:throw F.error;b8N=5;break;case 2:b8N=F?1:5;break;}}}n0w=1;break;}}}x < q + r.byteLength && y.push(r.slice(x - q));return y;break;}}};return p;break;}}function p(r,q,u){var E$G,v;E$G=2;for(;E$G !== 6;){switch(E$G){case 5:v.console=r;v.config=q;E$G=3;break;case 3:v.sua=f.I.Ca(0 <= q.sua?q.sua:q.yH);v.tua=f.I.Ca(0 <= q.tua?q.tua:q.yH);v.KZ=Math.pow(10,(q.KZ[u] || -44) / 20);E$G=7;break;case 7:return v;break;case 2:var V46="1SI";V46+="Yb";V46+="ZrNJ";V46+="C";V46+="p9";V46;v=m.call(this,r,k.v.X) || this;E$G=5;break;}}}})(l.JBa);b.H3a=t;},5753:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.I3a=void 0;d=a(48170);t=(function(){function n(c){this.console=c;}n.prototype.hw=function(){};n.prototype.append=function(c,h){var f,e,g,k,l,m,p;if(c.Ui)return c;f=!1;e=c.Ta;g=c.offset;k=c.rg;c=c.Bj;h=h.PZ;l=e.Lb;if(this.xq && l.lessThan(this.xq.Lb)){m=this.xq.PZ.ea(e.Qb);p=e.Lb.ea(this.xq.PZ);p.lessThan(m) && (d.l && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(e) + (", current error: ").concat(m.da()) + (", discard error: ").concat(p.da())),f=!0);}this.xq=(e.ki || e.rA) && h?{PZ:h,Lb:l}:void 0;return {Ta:e,offset:g,rg:k,Ui:f,Bj:c};};return n;})();b.I3a=t;},99125:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.K8a=void 0;t=(function(){function a(d){this.xca=!1;this.cOc=d.Zsc;}a.prototype.hw=function(){};a.prototype.append=function(d){d.Ta.na && (d.Ta.bNc(this.xca?0:this.cOc),this.xca=!0);return d;};return a;})();b.K8a=t;},47267:function(t,b,a){var n,c,h,f;function d(e){var g;return null === (g=e.every) || void 0 === g?void 0:g.call(e,function(k){return k instanceof ArrayBuffer;});}Object.defineProperties(b,{__esModule:{value:!0}});b.JBa=void 0;b.rtc=d;n=a(66164);c=a(91562);h=a(91176);f=a(69575);t=(function(){function e(g,k){this.console=g;this.mediaType=k;this.kL=new n.platform.Console("MP4","media|asejs");}e.prototype.v8b=function(g){return g.stream.fyb;};e.prototype.Frb=function(g,k){var l,m,u;void 0 === k && (k=!1);l=g[0];if(!(l instanceof ArrayBuffer))return (this.kL.warn(("MediaFragmentEditor [").concat(this.mediaType,"]: response is not ArrayBuffer")),{wS:g});m=c.rI.path(new DataView(l),["moof"]).end;if(!m)return (this.kL.warn(("MediaFragmentEditor [").concat(this.mediaType,"]: start of moof not found in first response")),{wS:g});for(var p=m + (k?8:0),r=l.byteLength,q=1;r < p && q < g.length;){u=g[q];u instanceof ArrayBuffer && (r+=u.byteLength);++q;}if(r < p)return (this.kL.warn(("MediaFragmentEditor [").concat(this.mediaType,"]: moof not found in responses")),{wS:g});if(1 !== q){l=g.slice(0,q);if(!d(l))return (this.kL.warn(("MediaFragmentEditor [").concat(this.mediaType,"]: moof responses are not ArrayBuffer")),{wS:g});l=(0,f.Dz)(l);}g=g.slice(q);return k?(k=new DataView(l),q=k.getUint32(m),(0,h.assert)("mdat" === (0,c.HI)(k.getUint32(m + 4)),"Expected mdat after moof"),{DUa:l,Pyc:m,Qyc:q,wS:g}):{DUa:l,wS:g};};return e;})();b.JBa=t;},98321:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.T$a=void 0;d=a(91176);n=a(66164);c=a(65161);h=a(52571);f=a(15341);e=a(31330);g=a(5483);k=a(81600);l=a(41329);m=a(99125);p=a(82924);r=a(5753);q=a(75811);u=a(44237);v=a(15625);w=a(44646);t=(function(){function x(y,z,B,A){this.config=y;this.mediaType=z;this.ng=B;this.console=A;}x.prototype.append=function(y,z){var B,A,C,D,F,G;void 0 === this.track?this.MRa(y.stream):this.track !== y.stream.track && ((0,h.assert)(void 0 !== this.Do),(0,h.assert)(this.mediaType !== c.v.X || this.track.Fa),(0,h.assert)(this.mediaType !== c.v.X || y.stream.track.Fa),this.track=y.stream.track,this.Do.forEach(function(E){return E.hw(y.stream);}));(0,h.assert)(void 0 !== this.Do);C=this.Do.reduce(function(E,H){return H.append(E,z);},{Ta:y,offset:y.uta || d.I.ia,rg:this.config.D0,Ui:!1});D=C.Ta;F=C.offset;G=C.Ui;C=C.Bj;C=void 0 === C?[]:C;D.na && ((0,h.assert)(y.na,"Fragments must be marked for edit at request time"),y.Qh(D.na));if(G || null === (B=this.jUa) || void 0 === B || !B.v8b(y))return {offset:F,Ui:G};B=this.jUa.na(y,!(null === (A=y.K) || void 0 === A || !A.fq));A=B.success;D=B.Bj;B=B.Zt;Array.prototype.push.apply(C,void 0 === D?[]:D);return {offset:F,Ui:!A,Bj:C,Zt:B};};x.prototype.reset=function(){this.Do=this.track=void 0;};x.prototype.MRa=function(y){var z,B;this.track=y.track;this.mediaType === c.v.X?this.jUa=new q.H3a(this.console,this.config,y.profile):this.mediaType === c.v.U && (this.jUa=new v.ggb(this.console,this.config));this.Do=[];this.mediaType === c.v.X && (this.Do.push(new f.jdb(this.config,this.ng,this.console)),this.config.D0 && this.Do.push(new g.feb(this.config,this.console)),this.Do.push(new w.Veb(this.console)),y.Fh && y.te && this.PRa(y.M.J) && this.Do.push(new m.K8a(this.config)),this.config.Faa || (this.console.log(("MediaSplicer: NegativePtsGuard:  ").concat(null === (z=y.te) || void 0 === z?void 0:z.da())),this.Do.push(new k.sab(this.config,this.console))),this.luc()?(this.config.cn || this.Do.push(new p.G3a(this.config,this.ng,this.console)),this.config.D0 && this.Do.push(new u.yxa(this.console)),!1 !== (null === (B=n.platform.MediaSource.ng) || void 0 === B?void 0:B.a$c) && this.Do.push(new e.Iab(this.console)),this.config.NRc && ((0,h.assert)(y.Fa),this.Do.push(new l.Jfb(y.Fa,this.console)))):(this.Do.push(new r.I3a(this.console)),this.config.D0 && this.Do.push(new u.yxa(this.console))));this.Do.forEach(function(A){return A.hw(y);});};x.prototype.PRa=function(y){return this.config.PRa || this.config.Ixb && -1 !== this.config.Ixb.indexOf(y);};x.prototype.luc=function(){return !this.config.HS;};return x;})();b.T$a=t;},81600:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.sab=void 0;d=a(91176);n=a(52571);c=a(48170);t=(function(){function h(f,e){this.console=e;this.xca=!1;this.Fh=f.Fh;}h.prototype.hw=function(f){(0,n.assert)(f.Fa,"NegativePtsGuard: stream.frameDuration must exist.");this.Fa=f.Fa;this.Fh=f.Fh;this.te=f.te || d.I.ia;};h.prototype.append=function(f){var e,g,k,l,m;if(this.xca || f.Ui)return f;e=f.Ta;g=f.offset;k=f.rg;f=f.Bj;if(e.na){l=e.qa.ea(this.Fh?this.te:d.I.ia).add(g);if(l.lessThan(d.I.ia)){m=Math.ceil(l.Qg(-1).gf(this.Fa));c.l && this.console.trace(("NegativePtsGuard: dropping ").concat(m," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.te.da(),", ") + ("request content start ").concat(e.qa.da(),", ") + ("current timestamp offset ").concat(g.da()," => ") + ("firstPlatformTimestamp ").concat(l.da(),"."));e.JMa(m);}}this.xca=!0;return {Ta:e,offset:g,rg:k,Ui:!1,Bj:f};};return h;})();b.sab=t;},31330:function(t,b,a){var n,c,h,f,e;function d(g){return ("").concat(g.da()," (nrdp: ").concat(g.MS,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.Iab=void 0;n=a(91176);c=a(78647);h=a(48170);f=a(52571);e=a(8149);t=(function(){function g(k){this.console=k;this.offset=this.Jl=this.HL=n.I.ia;}g.prototype.hw=function(k){var l;(0,f.assert)(k.Fa,"NrdpRounding: stream.frameDuration must exist.");this.Fa=k.Fa;l=k.Fh?k.te || n.I.ia:n.I.ia;this.te && (this.HL=l.ea(this.te));this.te=l;this.Jl=(0,e.hk)(k)?k.Jl || n.I.ia:n.I.ia;h.l && this.console.trace(("NrdpRounding::setStream: live ").concat((0,e.hk)(k)?"true":"false",", ") + ("profile offset: ").concat(this.te.da(),", ") + ("presentation offset: ").concat(this.Jl.da()));};g.prototype.append=function(k){var l,m,p,r,q;(0,f.assert)(this.te,"NrdpRounding: profileTimestampOffset must exist.");(0,f.assert)(this.Fa,"NrdpRounding: frameDuration must exist.");if(k.Ui)return k;l=k.Ta;m=k.offset;p=k.rg;r=k.Bj;if(void 0 !== this.yzb){(0,f.assert)(void 0 !== this.USa);q=this.yzb.add(this.HL);l.qa.add(k.offset).equal(q)?(k=this.a8b(l,m.add(this.offset)).G - this.USa,0 > k?this.offset=this.offset.add(n.I.Yx):0 === k?this.offset.lessThan(n.I.ia) && (this.offset=this.offset.add(n.I.Yx)):1 === k?this.offset.greaterThan(n.I.ia) && (this.offset=this.offset.ea(n.I.Yx)):this.offset=this.offset.ea(n.I.Yx)):(h.l && this.console.trace("NrdpRounding: non-seamless: reverting to zero offset"),this.offset=n.I.ia);}this.USa=this.$7b(l,m.add(this.offset)).G;this.yzb=l.xa.add(m);this.HL=n.I.ia;return {Ta:l,offset:m.add(this.offset),rg:p,Ui:!1,Bj:r};};g.prototype.a8b=function(k,l){var m,p;k=this.Xjb(k.qa);l=l.ea(this.Jl);m=(0,c.fD)(k).add((0,c.fD)(l));p=k.add(l).ea(m);h.l && this.console.trace("NrdpRounding: content start " + d(k) + ", adjusted offset: " + d(l) + ", start rounding error: " + (0,c.fD)(k).toString() + ", adjusted offset rounding error: " + (0,c.fD)(l).toString() + ", total error: " + m.toString() + ", expected nrdp value:" + p.da() + ", (" + k.MS + l.MS + "ms), last fragment end nrdp: " + this.USa);return p;};g.prototype.$7b=function(k,l){var m,p,r;m=this.Fa;k=this.Xjb(k.xa);l=l.ea(this.Jl);p=(0,c.fD)(k.ea(m)).add((0,c.fD)(m)).add((0,c.fD)(l));r=k.add(l).ea(p);h.l && this.console.trace("NrdpRounding: content end: start of last frame:" + d(k.ea(m)) + ", frame duration: " + d(m) + ", adjusted offset: " + d(l) + ", timestamp rounding error: " + (0,c.fD)(k.ea(m)).toString() + ", frame duration rouding error: " + (0,c.fD)(m).toString() + ", adjusted offset rounding error: " + (0,c.fD)(l).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + r.da() + ", (" + k.ea(m).MS + m.MS + l.MS + "ms)");return r;};g.prototype.Xjb=function(k){return k.add(this.Jl).ea(this.te);};return g;})();b.Iab=t;},15341:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.jdb=void 0;d=a(91176);t=(function(){function n(c,h,f){var e;this.config=c;this.ng=h;this.console=f;this.wD=d.I.ia;this.console.debug("ProfileTimestampOffset initialized with config:",{E7:this.config.E7,mJ:this.config.mJ,A1a:this.config.A1a,rMa:null === (e=this.ng) || void 0 === e?void 0:e.rMa});}n.prototype.hw=function(c){this.wD=this.e8b(c);this.console.debug(("ProfileTimestampOffset for ").concat(c.track.nJa,": ") + this.wD.da());};n.prototype.append=function(c){var h,f,e,g;h=c.Ta;f=c.offset;e=c.rg;g=c.Ui;c=c.Bj;this.console.debug("ProfileTimestampOffset.append applying adjustment:",{f9c:f.da(),N9c:this.wD.da(),f$c:f.add(this.wD).da()});return {Ta:h,offset:f.add(this.wD),rg:e,Ui:g,Bj:c};};n.prototype.e8b=function(c){var h,f,e;h=c.track.nJa;if(void 0 === h)return (this.console.debug("ProfileTimestampOffset.calculateProfileTimestampOffset: No codec name, returning zero offset"),d.I.ia);c=c.te;f=this.qMa(h);e=c.ea(f);this.console.debug("ProfileTimestampOffset.calculateProfileTimestampAdjustment:",{X6:h,bad:c.da(),qMa:f.da(),result:e.da()});return e;};n.prototype.qMa=function(c){var h,f,e;f=d.I.ia;if("AAC" === c){e=null === (h=this.ng) || void 0 === h?void 0:h.rMa;this.config.A1a && void 0 !== e && 0 <= e?(f=new d.I(-e,48E3),this.console.debug("ProfileTimestampOffset using device assumed AAC encoder delay:",{rMa:e,T8c:f.da()})):this.config.mJ || (f=new d.I(this.config.E7.ticks,this.config.E7.timescale));}this.console.debug("ProfileTimestampOffset.deviceAppliedTimestampOffset final result:",{X6:c,qMa:f.da()});return f;};return n;})();b.jdb=t;},5483:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.feb=void 0;d=a(91176);n=a(52571);c=a(48170);t=(function(){function h(f,e){this.config=f;this.console=e;this.ft=d.I.ia;}h.prototype.hw=function(f){(0,n.assert)(f.Fa,"SeamlessAudio: stream.frameDuration must exist.");this.Fa=f.Fa;f=f.profile;this.Qqa=this.doc(f,this.Fa);this.Aqa=this.$nc(f,this.Fa);this.RY=-1 !== this.config.Vkb.indexOf(f);};h.prototype.append=function(f,e){var g,k,l,m,p;if(f.Ui)return f;g=f.Ta;k=f.offset;l=f.Bj;l=void 0 === l?[]:l;f=f.rg;m=e.PZ;e=e.HUa;if(this.uWa){p=this.Mzc(g,this.uWa);g.na && !this.RY && this.tJa(p)?(c.l && this.console.trace("SeamlessAudio: dropping first frame"),g.JMa(1),this.ft=p):(this.ft=p.add(this.Fa),this.glb(this.ft) || (c.l && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + g.Qb.da() + " error would be " + this.ft.da() + " (editing " + (g.na?"":"not ") + "allowed)"),l.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:g.Qa,pts:g.qa.G}}}}),this.ft=d.I.ia,f=!1));this.uWa=void 0;}if(g.ki || g.rA)((0,n.assert)(m,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!g.na || !e && g.rA || (p=this.Nzc(g,m,e),e && this.RY && p.Xf(this.Fa)?(c.l && this.console.trace("SeamlessAudio: dropping last two frames"),g.fma(2)):p.Xf(d.I.ia) && (c.l && this.console.trace("SeamlessAudio: dropping last frame"),g.fma(1))),this.uWa=m);(0,n.assert)(this.glb(this.ft));this.YQ=g.Lb;c.l && this.console.trace("SeamlessAudio: c: " + g.qa.da() + " - " + g.xa.da() + " av sync offset: " + this.ft.da() + " pts offset: " + k.add(this.ft).da() + " p: " + g.qa.add(k).add(this.ft).da() + " - " + g.xa.add(k).add(this.ft).da());return {Ta:g,offset:k.add(this.ft),rg:f,Ui:0 === g.vH,Bj:l.length?l:void 0};};h.prototype.Nzc=function(f,e,g){var k;if(g)k=this.ft.add(f.Lb.ea(g)).ea(this.Fa);else (k=f.Lb.ea(e),k=this.ft.add(k).ea(this.Fa));c.l && this.console.trace("SeamlessAudio: fragment end: " + f.Lb.da() + ", splice " + e.da() + ", next start " + (null === g || void 0 === g?void 0:g.da()) + ", error " + k.add(this.Fa).da() + ", error with frame drop " + k.da() + ", is" + (this.tJa(k)?"":" not") + " within bounds of [" + this.Qqa.da() + " and " + this.Aqa.da() + ")");return k;};h.prototype.Mzc=function(f,e){var g;(0,n.assert)(this.YQ);g=this.ft.add(this.YQ.ea(f.Qb)).ea(this.Fa);c.l && this.console.trace("SeamlessAudio: fragment start: " + f.Qb.da() + ", splice " + e.da() + ", last fragment end: " + this.YQ.da() + ", error " + g.add(this.Fa).da() + ", error with frame drop " + g.da() + ", is" + (this.tJa(g)?"":" not") + " within bounds of [" + this.Qqa.da() + " and " + this.Aqa.da() + ")");return g;};h.prototype.tJa=function(f){return f.Km(this.Aqa) && f.Xf(this.Qqa);};h.prototype.glb=function(f){return f.lessThan(this.Aqa.add(d.I.Yx)) && f.Xf(this.Qqa.ea(d.I.Yx));};h.prototype.$nc=function(f,e){return "object" === typeof this.config.bZa && void 0 !== this.config.bZa[f]?(f=new d.I(this.config.bZa[f],1E3).Vc(e.P).add(new d.I(1,e.P)),d.I.min(e,f)):e;};h.prototype.doc=function(f,e){var g;if("object" === typeof this.config.cZa && void 0 !== this.config.cZa[f]){g=e.gf(-2);f=new d.I(this.config.cZa[f],1E3).Vc(e.P).ea(new d.I(1,e.P));return d.I.max(g,f);}return new d.I(-12,1E3);};return h;})();b.feb=t;},44646:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Veb=void 0;d=a(91176);n=a(48170);t=(function(){function c(h){this.console=h;this.gsa=d.I.ia;this.Vpb=!1;this.wD=d.I.ia;}c.prototype.hw=function(h){var f;f=h.Fh?h.te:d.I.ia;this.Vpb || (this.gsa=f,this.Vpb=!0);this.wD=f.ea(this.gsa);n.l && this.console.debug("StreamingProfileTimestampOffset initialized with profile timestamp offset:",{gsa:this.gsa.da(),X1c:f.da(),wD:this.wD.da(),Qa:h.Qa});};c.prototype.append=function(h){var f,e,g;if(h.Ui)return h;f=h.rg;e=h.Ui;g=h.Bj;return {Ta:h.Ta,offset:h.offset.add(this.wD),rg:f,Ui:e,Bj:g};};return c;})();b.Veb=t;},41329:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Jfb=void 0;d=a(91176);n=a(48170);t=(function(){function c(h,f){this.Fa=h;this.console=f;this.te=d.I.ia;}c.prototype.hw=function(h){this.te=h.Fh?h.te:d.I.ia;n.l && this.console.debug("TruncateEndOfStreamAudio initialized with profile timestamp offset:",{te:this.te.da(),Qa:h.Qa});};c.prototype.append=function(h,f){var e,g,k,l,m,p;e=h.Ta;g=h.offset;k=h.rg;l=h.Bj;h=h.Ui;if(!h){m=f.endOfStream;f=f.PZ;if(m && f){m=e.qa.ea(this.te).add(g);p=e.xa.ea(this.te).add(g);f=f.ea(d.I.Yx);n.l && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + m.da() + "-" + p.da() + " vs media splice point at " + f.da());m.add(this.Fa).Xf(f)?(n.l && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),h=!0):p.Xf(f) && (f=Math.ceil(p.ea(f).gf(this.Fa)),e.na?(n.l && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(f," frames")),e.fma(f)):(n.l && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),h=!0));}else m && n.l && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {Ta:e,offset:g,rg:k,Ui:h,Bj:l};};return c;})();b.Jfb=t;},15625:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ggb=void 0;d=a(22970);n=a(91562);c=a(52571);h=a(69575);f=a(45247);t=(function(e){function g(k,l){var m;m=e.call(this,k,f.v.U) || this;m.console=k;m.config=l;return m;}d.__extends(g,e);g.prototype.na=function(k){var l,m,p,r,q,u,v,w,x,y;(0,c.assert)(!k.cC,"AudioMediaFragmentEditor [${fragment.mediaType}]: Attempt to edit appended fragment");if(!k.na)return {success:!0};m=0 < k.na.start;p=null !== k.na.end && k.na.end < k.rf;if(!m && !p)return {success:!0};(0,c.assert)(k.yQ,"AudioMediaFragmentEditor: fragment has missing responses");if(0 >= k.Vb.aa)return {success:!1};r=k.Zt;q=this.Frb(r,!0);u=q.DUa;v=q.Pyc;w=q.Qyc;q=q.wS;if(!u || !v || !w)return {success:!1};v=u.slice(0,v);r=!1 === k.hma && !r.every(function(z){return z instanceof ArrayBuffer;});if(m){m=new n.Oy(this.kL,k.stream,u);x=m.NHb({Zk:k.na.start,P:k.P,Yla:r});}if(p && !1 !== x){m=new n.Oy(this.kL,k.stream,x?(0,h.Dz)(x.Ta):u);y=m.XHb({Zk:(null !== (l=k.na.end) && void 0 !== l?l:k.rf) - k.na.start,P:k.P,Yla:r});}k=(k=p?y:x)?[(0,h.Dz)(k.Ta)]:[v];k.push.apply(k,d.__spreadArray([],d.__read(q),!1));return {success:!0,Zt:k};};return g;})(a(47267).JBa);b.ggb=t;},32412:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.SU=void 0;d=a(91176);n=a(52571);c=a(65161);t=(function(){function h(f){var e;void 0 === f && (f=[]);e=this;this.items=f;f.forEach(function(g){return e.j1a(g);});}Object.defineProperties(h.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Vt:{get:function(){var f;return null !== (f=this.video) && void 0 !== f?f:this.audio;},enumerable:!1,configurable:!0}});h.prototype.get=function(f){switch(f){case c.v.U:return this.video;case c.v.X:return this.audio;case c.v.Ba:return this.text;}};h.prototype.Cwb=function(f){return -1 !== this.items.indexOf(f);};h.prototype.every=function(f){return this.items.every(f);};h.prototype.some=function(f){return this.items.some(f);};h.prototype.forEach=function(f){this.items.forEach(f);};h.prototype.find=function(f){return (0,d.ic)(this.items,f);};h.prototype.reduce=function(f,e){return this.items.reduce(f,e);};h.prototype.filter=function(f){return new h(this.items.filter(f));};h.prototype.map=function(f){return this.items.map(f);};h.prototype.replace=function(f,e){var g;g=this.items.indexOf(f);(0,n.assert)(-1 < g);(0,n.assert)(f.mediaType === e.mediaType);this.items[g]=e;this.j1a(e);};h.prototype.add=function(f){this.items.push(f);this.j1a(f);};h.prototype.remove=function(f){var e;e=this.items.indexOf(f);if(-1 === e)return !1;this.items.splice(e,1);this.U9b(f.mediaType);return !0;};h.prototype.clear=function(){this.items=[];this.text=this.audio=this.video=void 0;};h.prototype.j1a=function(f){switch(f.mediaType){case c.v.U:this.video=f;break;case c.v.X:this.audio=f;break;case c.v.Ba:this.text=f;}};h.prototype.U9b=function(f){switch(f){case c.v.U:this.video=void 0;break;case c.v.X:this.audio=void 0;break;case c.v.Ba:this.text=void 0;}};return h;})();b.SU=t;},27255:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.f7a=void 0;d=a(52571);n=a(16146);t=(function(){function c(){this.global=new n.c4();this.fS={};}c.prototype.add=function(h,f){(0,d.assert)(void 0 === this.fS[h],"Cannot add new memory object for playgraph");this.fS[h]=f;this.global.add(f.bv);this.global.add(f.S7);};return c;})();b.f7a=t;},16146:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.c4=void 0;d=a(65161);t=(function(){function n(){this[d.v.X]=0;this[d.v.U]=0;this[d.v.Ba]=0;this[d.v.pn]=0;}Object.defineProperties(n.prototype,{total:{get:function(){return this[d.v.X] + this[d.v.U] + this[d.v.Ba];},enumerable:!1,configurable:!0}});n.prototype.add=function(c){this[d.v.X]+=Math.max(c[d.v.X] || 0,0);this[d.v.U]+=Math.max(c[d.v.U] || 0,0);this[d.v.Ba]+=Math.max(c[d.v.Ba] || 0,0);};n.prototype.BIa=function(c,h){this[c]+=Math.max(h || 0,0);};return n;})();b.c4=t;d.v.X;d.v.U;d.v.Ba;d.v.pn;},59839:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Hcb=void 0;d=a(16146);t=(function(){function n(){this.bv=new d.c4();this.S7=new d.c4();}Object.defineProperties(n.prototype,{total:{get:function(){var c;c=new d.c4();c.add(this.bv);c.add(this.S7);return c;},enumerable:!1,configurable:!0}});n.prototype.add=function(c){this.bv.add(c.bv);this.S7.add(c.S7);};n.prototype.BIa=function(c,h,f){(f?this.S7:this.bv).BIa(c,h);};return n;})();b.Hcb=t;},3033:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cN=void 0;t=a(22970);d=a(66164);n=a(45550);c=t.__importDefault(a(32838));h=t.__importDefault(a(95880));f=t.__importDefault(a(40497));e=a(52571);g=a(27977);k=t.__importDefault(a(66058));a=(function(){function m(p,r,q){var u;u=this;this.Fl=new c.default(p,q);this.mL=new h.default(p);this.VS=new k.default(p);this.Sc=new f.default(this.mL,this.Fl,this.VS,p);this.zda=new g.Neb(d.platform.Cla,r);n.ZM.Q$b(p);p.zba && (this.Owb=setInterval(function(){u.Fl.save();u.mL.save();},p.zba));}m.Qna=function(p,r,q){void 0 === l?(m.config=p,m.v0a=q,l=new m(p,r,q)):((0,e.assert)(m.config === p),(0,e.assert)(m.v0a === q));return l;};m.instance=function(){(0,e.assert)(l,"CommonGlobals accessed too early");return l;};m.reset=function(){m.config=void 0;m.v0a=void 0;null === l || void 0 === l?void 0:l.reset();l=void 0;};m.prototype.reset=function(){this.Sc.reset();this.Owb && clearInterval(this.Owb);};return m;})();b.cN=a;},29340:function(t,b){function a(d,n){var c;d.__proto__ && d.__proto__ !== Object.prototype && a(d.__proto__,n);Object.getOwnPropertyNames(d).forEach(function(h){c=Object.getOwnPropertyDescriptor(d,h);void 0 !== c && Object.defineProperty(n,h,c);});}Object.defineProperties(b,{__esModule:{value:!0}});b["default"]=a;},10561:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(58982),b);t.__exportStar(a(6152),b);t.__exportStar(a(85886),b);t.__exportStar(a(33421),b);t.__exportStar(a(76829),b);t.__exportStar(a(11528),b);t.__exportStar(a(65427),b);t.__exportStar(a(41535),b);t.__exportStar(a(41756),b);t.__exportStar(a(13520),b);t.__exportStar(a(67592),b);t.__exportStar(a(32984),b);t.__exportStar(a(57141),b);t.__exportStar(a(23612),b);t.__exportStar(a(90206),b);t.__exportStar(a(6198),b);t.__exportStar(a(56368),b);t.__exportStar(a(87959),b);t.__exportStar(a(84819),b);t.__exportStar(a(17479),b);t.__exportStar(a(38702),b);t.__exportStar(a(15065),b);t.__exportStar(a(80426),b);t.__exportStar(a(52741),b);t.__exportStar(a(2023),b);t.__exportStar(a(48244),b);t.__exportStar(a(9612),b);t.__exportStar(a(30030),b);t.__exportStar(a(60223),b);t.__exportStar(a(23530),b);t.__exportStar(a(77856),b);t.__exportStar(a(55025),b);t.__exportStar(a(49961),b);t.__exportStar(a(78909),b);t.__exportStar(a(34439),b);t.__exportStar(a(43102),b);t.__exportStar(a(53894),b);t.__exportStar(a(9273),b);t.__exportStar(a(66581),b);t.__exportStar(a(15869),b);t.__exportStar(a(44972),b);t.__exportStar(a(24109),b);t.__exportStar(a(6401),b);t.__exportStar(a(94480),b);},6152:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},85886:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},33421:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},76829:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},58982:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},11528:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Ld=void 0;b.Pr=function(d){return d === a.Ff || d === a.$l || d === a.Vha;};(function(d){d[d.Uy=0]="STOPPED";d[d.Ff=1]="BUFFERING";d[d.$l=2]="REBUFFERING";d[d.Jp=3]="STREAMING";d[d.Vha=4]="TRACK_SWITCH";})(a || (b.Ld=a={}));},65427:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},41535:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},78909:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.yw=void 0;d=a(91176);Object.defineProperties(b,{yw:{enumerable:!0,get:function(){return d.yw;}}});},41756:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},13520:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},32984:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},24940:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Cha=void 0;b.K6c=function(d){return d && d.p0 === a.He;};b.aSa=function(d){return d && d.p0 === a.He;};b.uuc=function(d){return d && d.p0 === a.He;};b.ttc=function(d){return d && d.p0 === a.He;};(function(d){d[d.He=0]="http";d[d.xgc=1]="ella";})(a || (b.Cha=a={}));},24109:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},15869:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},65161:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(22970).__exportStar(a(10561),b);},57141:function(t,b){function a(d){return "globalAudioMemoryLimit" === d || "globalVideoMemoryLimit" === d?"global":"staticAudioMemoryLimit" === d || "staticVideoMemoryLimit" === d?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.oHb=function(d){return "globalMemoryLimit" === d?"global":"staticMemoryLimit" === d?"static":a(d);};b.ZHc=a;b.dad=function(d){return ("IStreamable: ").concat(d.identifier," [").concat(d.mediaType,"] ").concat(d.groupId," ") + ("p:").concat(JSON.stringify(d.Tg)," sp:").concat(d.gw," ") + ("pssp:").concat(d.hH," ") + ("state:").concat(d.ee," path-complete:").concat(d.Ut," ") + ("streaming:").concat(d.fo," current:").concat(d.Io);};},23612:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},90206:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},56368:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},6198:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Hqa=b.b4=b.dfa=b.v=void 0;b.UG=function(n){var c;return null !== (c=d.tR[n]) && void 0 !== c?c:"unknown";};d=a(26388);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return d.v;}}});Object.defineProperties(b,{dfa:{enumerable:!0,get:function(){return d.dfa;}}});b.b4=[d.v.X,d.v.U,d.v.Ba];b.Hqa=function(n,c,h){n=n || c?c?[d.v.U]:[d.v.X]:[d.v.X,d.v.U];h && n.push(d.v.Ba);return n;};},87959:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(6198);},84819:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(6198);},17479:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.FN={};t[t.HAVE_NOTHING=0]="HAVE_NOTHING";t[t.zU=1]="HAVE_SOMETHING";t[t.yU=2]="HAVE_MINIMUM";t[t.P2=3]="HAVE_ENOUGH";},38702:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},15065:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},80426:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Tb=void 0;b.LWa=function(c){return c === d.Ld.Ff?n.Ff:c === d.Ld.$l?n.$l:c === d.Ld.Vha?n.Ff:c === d.Ld.Jp?n.hg:n.sn;};d=a(11528);(function(c){c[c.sn=0]="STARTING";c[c.Ff=1]="BUFFERING";c[c.$l=2]="REBUFFERING";c[c.hg=3]="PLAYING";c[c.Iha=4]="STOPPING";c[c.Uy=5]="STOPPED";c[c.zi=6]="PAUSED";})(n || (b.Tb=n={}));},34439:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(58457),b);t.__exportStar(a(27066),b);t.__exportStar(a(92251),b);t.__exportStar(a(80094),b);t.__exportStar(a(87519),b);t.__exportStar(a(81451),b);t.__exportStar(a(60248),b);t.__exportStar(a(59638),b);},58457:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},60248:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},81451:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},27066:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},87519:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},92251:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},59638:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},80094:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},52741:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},2023:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},9612:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},48244:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},94480:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},30030:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},60223:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},67592:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},23530:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},77856:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},6401:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},44972:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},55025:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},49961:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},9273:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.Yy={};t[t.vXb=0]="PLAYGRAPH_CHANGED";t[t.wXb=1]="PLAYGRAPH_UNCHANGED";t[t.tWb=2]="NO_MATCHING_SEGMENT_FOUND";t[t.MYb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";t[t.DTb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";t[t.NYb=5]="SEGMENT_EXTENSION_NOT_SUPPORTED";t[t.wQb=6]="APPENDED_PAST_TRUNCATION_POINT";t[t.fVb=7]="LOSS_OF_POSITION";},43102:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(85892),b);t.__exportStar(a(61555),b);},61555:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Yoa=function(a){return void 0 !== a.SNb;};b.URa=function(a){return void 0 !== a.xml && void 0 !== a.images;};},85892:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},66581:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},53894:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},37268:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Oy=b.Ny=b.Yl=b.FZ=b.Oha=void 0;d=a(22970);n=a(66164);c=a(91562);Object.defineProperties(b,{Ny:{enumerable:!0,get:function(){return c.Ny;}}});Object.defineProperties(b,{Oy:{enumerable:!0,get:function(){return c.Oy;}}});Object.defineProperties(b,{FZ:{enumerable:!0,get:function(){return c.FZ;}}});Object.defineProperties(b,{Oha:{enumerable:!0,get:function(){return c.Oha;}}});t=(function(h){function f(e,g,k,l,m){return h.call(this,f.console,e,g,k,l,m) || this;}d.__extends(f,h);Object.defineProperties(f,{console:{get:function(){return this.qb || (this.qb=new n.platform.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return f;})(c.Yl);b.Yl=t;},64772:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.iza=void 0;t=a(66164);d=a(56089);n=a(65161);new t.platform.Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){function c(h){var u7f;u7f=2;for(;u7f !== 4;){switch(u7f){case 2:var K4J="1S";K4J+="IYbZrNJC";K4J+="p";K4J+="9";this.wRa=h;this.WF={};K4J;u7f=4;break;}}}var B0f;B0f=2;for(;B0f !== 7;){switch(B0f){case 2:c.prototype.reset=function(){var L2F;L2F=2;for(;L2F !== 1;){switch(L2F){case 4:this.qM=new d.M4a();L2F=7;break;case 2:this.qM=new d.M4a();L2F=1;break;}}};c.prototype.JD=function(h,f){var x$6;x$6=2;for(;x$6 !== 1;){switch(x$6){case 2:f.Al && (this.wRa?this.qM.start(h,f.Al,f.ti):f.type === n.v.U && (this.WF[f.Al]?this.WF[f.Al].Lea+=1:this.WF[f.Al]={Al:f.Al,ti:f.ti,Lea:1,Sma:!1},this.nOb(h)));x$6=1;break;}}};c.prototype.KD=function(h,f){var O7B,e;O7B=2;for(;O7B !== 9;){switch(O7B){case 7:O7B=f.Al?7:2;break;case 1:O7B=this.wRa?5:4;break;case 4:e=this.WF[f.Al];f.type === n.v.U && e && (--e.Lea,0 === e.Lea && (e.Sma && this.qM.stop(h,f.Al,f.ti),e.Sma=!1,delete this.WF[f.Al]),this.nOb(h));O7B=9;break;case 5:this.qM.stop(h,f.Al,f.ti);O7B=9;break;case 2:O7B=f.Al?1:9;break;}}};c.prototype.aW=function(h,f,e,g){var w_D;w_D=2;for(;w_D !== 1;){switch(w_D){case 2:g.Al && (this.wRa?this.qM.add(h,f,e,g.Al,g.ti):this.R5 === g.Al && this.qM.add(h,f,e,g.Al,g.ti));w_D=1;break;}}};B0f=3;break;case 3:c.prototype.Ok=function(){var q8B;q8B=2;for(;q8B !== 1;){switch(q8B){case 4:return this.qM.get();break;case 2:return this.qM.get();break;}}};c.prototype.nOb=function(h){var w5A,f,e;w5A=2;for(;w5A !== 5;){switch(w5A){case 2:(f=Object.keys(this.WF).map(function(g){var a96;a96=2;for(;a96 !== 1;){switch(a96){case 2:return parseInt(g);break;}}}),e=this.WF[f[0]]);1 === f.length && !1 === e.Sma?(this.qM.start(h,e.Al,e.ti),this.R5=e.Al):1 < f.length && this.R5 && (f=this.WF[this.R5],this.qM.stop(h,this.R5,f.ti),f.Sma=!1,this.R5=void 0);w5A=5;break;}}};return c;break;}}})();b.iza=a;},21506:function(t,b,a){var n;function d(){this.jr=void 0;this.SI=0;}n=a(17267);d.prototype.start=function(){};d.prototype.stop=function(){};d.prototype.add=function(){};d.prototype.getState=function(){return 0 !== this.SI && this.jr?{p25:this.jr.Qv,p50:this.jr.cs,p75:this.jr.Rv,c:this.SI}:null;};d.prototype.Ki=function(c){if(!(!n.md(c) && n.has(c,"p25") && n.has(c,"p50") && n.has(c,"p75") && n.has(c,"c") && n.isFinite(c.p25) && n.isFinite(c.p50) && n.isFinite(c.p75) && n.isFinite(c.c)))return (this.jr=void 0,this.SI=0,!1);this.jr={Qv:c.p25,cs:c.p50,Rv:c.p75};this.SI=c.c;};d.prototype.get=function(){return {vWa:this.jr,$k:this.SI,pra:void 0};};d.prototype.set=function(c,h){this.jr=c;this.SI=h;};d.prototype.reset=function(){this.jr=void 0;this.SI=0;};d.prototype.toString=function(){return "IQRHist(" + this.jr + "," + this.SI + ")";};t.exports=d;},32838:function(t,b,a){var n,c,h,f,e,g,k,l;function d(m,p,r){return c.has(m,p)?m[p]:m[p]=r;}Object.defineProperties(b,{__esModule:{value:!0}});n=a(22970);c=n.__importStar(a(17267));h=a(66164);f=n.__importDefault(a(14282));e=a(97315);g=a(28600);new h.platform.Console("ASEJS_LOCATION_HISTORY","media|asejs");k={confidence:f.default.Vq.HAVE_NOTHING,jb:{Da:0},wx:{Da:0},default:{Da:0},wh:{Da:0},Nr:{Da:0},time:0};l=(function(){function m(p){var r;this.config=p;r=p.DGa;this.confidence=f.default.Vq.HAVE_NOTHING;this.cMa=p.ghb;p=new e.xza(p);this.jb=p.create("throughput-location-history",r);this.wx=p.create("throughput-location-history",r);this.Bva=p.create("throughput-location-history",r);this.Cva=p.create("throughput-location-history",r);this.Ava=p.create("throughput-location-history",r);this.wh=p.create("respconn-location-history",r);this.Nr=p.create("respconn-location-history",r);this.yva=p.create("throughput-tdigest-history",r);this.Xoa=p.create("throughput-iqr-history",r);this.Nla=p.create("throughput-location-history",r);this.Pla=p.create("throughput-location-history",r);this.Ola=p.create("throughput-location-history",r);this.Qla=p.create("throughput-location-history",r);this.time=null;}m.prototype.Fja=function(p,r){this.confidence=r;this.jb.add(p);this.yva.add(p);this.time=h.platform.time.ha();this.tH();};m.prototype.Bja=function(p){this.wx.add(p);this.tH();};m.prototype.Gja=function(p){this.Bva.add(p.initial);this.Cva.add(p.low);this.Ava.add(p.high);this.tH();};m.prototype.Sva=function(p,r){this.Xoa.set(p,r);this.tH();};m.prototype.cW=function(p){this.wh.add(p);this.tH();};m.prototype.bW=function(p){this.Nr.add(p);this.tH();};m.prototype.zja=function(p){this.Nla.add(p.Da);this.Pla.add(p.eg);this.Ola.add(p.sW);this.Qla.add(p.K1);this.tH();};m.prototype.getState=function(){var p;p={c:this.confidence,t:c.md(this.time)?null:h.platform.time.Vqa(this.time),tp:this.jb.getState(),itp:this.wx.getState(),tcii:this.Bva.getState(),tcil:this.Cva.getState(),tcih:this.Ava.getState(),rt:this.wh.getState(),hrt:this.Nr.getState(),iqr:this.Xoa.getState(),td:this.yva.getState(),dta:this.Nla.getState(),dtv:this.Pla.getState(),dtta:this.Ola.getState(),dttv:this.Qla.getState()};return c.md(p.tp) && c.md(p.rt) && c.md(p.hrt)?null:p;};m.prototype.Ki=function(p){var r;r=h.platform.time.now();if(!p || c.md(p.c) || c.md(p.t) || c.md(p.tp) || !c.isFinite(p.c) || !c.isFinite(p.t) || c.md(p.t) || 0 > p.c || p.c > f.default.Vq.P2 || p.t > r || !this.jb.Ki(p.tp))return (this.confidence=f.default.Vq.HAVE_NOTHING,this.time=null,this.tH(),this.jb.Ki(null),this.wh.Ki(null),this.Nr.Ki(null),!1);this.confidence=p.c;this.time=h.platform.time.Era(p.t);this.wh.Ki(p.rt);this.Nr.Ki(p.hrt);this.wx.Ki(p.itp);this.Bva.Ki(p.tcii);this.Cva.Ki(p.tcil);this.Ava.Ki(p.tcih);this.Nla.Ki(p.dta);this.Pla.Ki(p.dtv);this.Ola.Ki(p.dtta);this.Qla.Ki(p.dttv);c.md(p.iqr) || this.Xoa.Ki(p.iqr);c.md(p.td) || this.yva.Ki(p.td);return !0;};m.prototype.get=function(){var p,r,q,u,v,w,x,y,z,B,A;if(!c.Gx(this.$X)){if((h.platform.time.ha() - this.$X) / 1E3 < this.config.e0b)return n.__assign(n.__assign({},k),{kf:!0});this.tH();}p=this.config;if(c.md(this.time))return k;r=(h.platform.time.ha() - this.time) / 1E3;r > p.v0b?this.confidence=f.default.Vq.HAVE_NOTHING:r > p.f0b && (this.confidence=Math.min(this.confidence,f.default.Vq.zU));q=this.jb.get();u=this.wx.get();p=this.Bva.get().Da;v=this.Cva.get().Da;w=this.Ava.get().Da;x=this.wh.get();y=this.Nr.get();z=this.Xoa.get();B=this.yva.get();A={Da:this.Nla.VPa().Da,eg:this.Pla.VPa().Da,sW:this.Ola.get().Da,K1:this.Qla.get().Da};r={gW:r,confidence:this.confidence,jb:q,wx:u,default:q,wh:x,Nr:y,FK:z,cl:B,Dr:A,time:0,kf:!1};r["throughput-ci"]={initial:p,low:v,high:w};return r;};m.prototype.Onc=function(){return {f:c.Gx(this.$X)?void 0:h.platform.time.Vqa(this.$X),g:this.getState(),h:[null,null,null,null]};};m.prototype.MMc=function(p){this.$X=c.Gx(p.f)?void 0:h.platform.time.Era(p.f);return this.Ki(p.g);};m.prototype.fail=function(p){this.$X=p;};m.prototype.debug=function(){this.get();c.md(this.time) || h.platform.time.ha();};m.prototype.tH=function(){this.$X=void 0;};return m;})();t=(function(){function m(p,r){var q;this.config=p;this.v0a=r;this.xic();this.IC=new l(this.config);this.load();if(p=p.Bla){q=n.__assign(n.__assign({},k),{confidence:f.default.Vq.P2,jb:{Da:p,eg:0}});this.get=function(){return q;};}}m.prototype.Fna=function(p,r){var q;q=this.config;p=d(this.history,null !== p && void 0 !== p?p:"",{});return d(p,r?r:"",new l(q));};m.prototype.load=function(){var p,r;p=(0,g.aJb)("lh",this.KTc.bind(this));r=(0,g.aJb)("gh",this.pPb.bind(this));p && this.Ki(p);r && this.BMc(r);};m.prototype.pPb=function(p){if(p && "object" === typeof p)return p;};m.prototype.KTc=function(p){var q,u;if(p && "object" === typeof p){for(var r in p){q=p[r];for(u in q)q[u].g=this.pPb(q[u].g) || null;}return p;}};m.prototype.getState=function(){var p,r,q,u,v;p={};for(r in this.history){q=this.history[r];for(u in q){v=q[u];d(p,r,{})[u]=v.Onc();}}return p;};m.prototype.BMc=function(p){this.IC.Ki(p);};m.prototype.Ki=function(p){var r,q,u,v,w,x,y;r=!0;q=this.config;for(u in p){v=p[u];for(w in v){x=v[w];y=new l(q);y.MMc(x)?d(this.history,u,{})[w]=y:r=!1;}}return r;};m.prototype.save=function(){var p;p=this.getState();h.platform.storage.set("lh",p);h.platform.storage.set("gh",this.IC.getState());};m.prototype.xic=function(){this.history={};this.xla=this.Wob="";this.Fl=null;};m.prototype.Fua=function(p){this.Wob=p;this.Fl=null;};m.prototype.hKb=function(p){this.xla=p;this.Fl=null;};m.prototype.pG=function(){c.md(this.Fl) && (this.Fl=this.Fna(this.Wob,this.xla));return this.Fl;};m.prototype.Fja=function(p,r){this.pG().Fja(p,r);this.IC.Fja(p,r);};m.prototype.Bja=function(p){this.pG().Bja(p);this.IC.Bja(p);};m.prototype.Gja=function(p){this.pG().Gja(p);this.IC.Gja(p);};m.prototype.Sva=function(p,r){p && p.Qv && p.cs && p.Rv && (this.pG().Sva(p,r),this.IC.Sva(p,r));};m.prototype.cW=function(p){this.pG().cW(p);this.IC.cW(p);};m.prototype.bW=function(p){this.pG().bW(p);this.IC.bW(p);};m.prototype.zja=function(p){this.pG().zja(p);this.IC.zja(p);};m.prototype.fail=function(p,r){this.Fna(p,this.xla).fail(r);};m.prototype.get=function(p){if(p=(p=this.history[p])?p[this.xla]:null)if((p=p.get(),p.confidence > f.default.Vq.HAVE_NOTHING))return p;return this.IC.get();};m.prototype.debug=function(){var r,q;for(var p in this.history){r=this.history[p];for(q in r)r[q].debug(p);}};return m;})();b["default"]=t;},95880:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970).__importStar(a(17267));n=a(66164);new n.platform.Console("ASEJS_LOCATION_HISTORY","media|asejs");t=(function(){function c(h){this.config=h;this.load();}c.prototype.save=function(){var h;h=this.getState();n.platform.storage.set("nh",h);};c.prototype.KLb=function(){this.ry || (this.ry=!0,this.mH=n.platform.time.ha());};c.prototype.fva=function(){var h;if(this.ry){h=n.platform.time.ha();this.HH+=h - this.mH;this.mH=h;this.ry=!1;this.M$=-1;}};c.prototype.Pxb=function(h,f){this.ry && (f > this.mH && (this.HH+=f - this.mH,this.mH=f),-1 === this.M$ || h > this.M$) && (h=f - h,this.aZ.push([this.HH - h,h]),this.trim(),this.M$=f);};c.prototype.trim=function(){var h;h=this.HH - this.config.mAc;this.aZ=this.aZ.filter(function(f){return f[0] > h;});};c.prototype.load=function(){var h;h=n.platform.storage.get("nh");this.Ki(h) || (this.mH=n.platform.time.ha(),this.HH=0,this.ry=!1,this.M$=-1,this.aZ=[]);};c.prototype.Ki=function(h){if(!(h && d.has(h,"t") && d.has(h,"s") && d.has(h,"i") && d.pc(h.t) && d.pc(h.s) && d.isArray(h.i)))return !1;this.mH=n.platform.time.Era(1E3 * h.t);this.HH=1E3 * h.s;this.ry=!1;this.aZ=h.i.map(function(f){return [1E3 * f[0],f[1]];});this.M$=-1;return !0;};c.prototype.getState=function(){return this.ry?{t:n.platform.time.now() / 1E3 | 0,s:(this.HH + (n.platform.time.ha() - this.mH)) / 1E3 | 0,i:this.aZ.map(function(h){return [h[0] / 1E3 | 0,h[1]];})}:{t:n.platform.time.Vqa(this.mH) / 1E3 | 0,s:this.HH / 1E3 | 0,i:this.aZ.map(function(h){return [h[0] / 1E3 | 0,h[1]];})};};return c;})();b["default"]=t;},40497:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=d.__importStar(a(17267));t=a(90745);c=a(66164);h=a(91176);f=a(72697);e=a(97315);g=a(96965);k=a(66917);l=a(64772);m=a(75640);p=new c.platform.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(q){function u(v,w,x,y){var z;z=q.call(this) || this;z.Fs={};z.cca=0;z.vL=0;z.S4=[];z.buffer=0;z.Ij=!1;z.Ezb=-Infinity;z.ipb=null;z.config=y;z.Zrb=new e.xza(y);z.i8=new l.iza(!0);z.Q5=new l.iza(!1);y.Ghc && (z.E_=new m.vbb(z.config));z.reset();z.mL=v;z.hz=w;z.VS=x;z.Mxb=c.platform.gD.name();z.hz.hKb(z.Mxb);c.platform.events.on("networkchange",z.sCc.bind(z));return r=z;}d.__extends(u,q);u.instance=function(){return r;};u.reset=function(){r && r.reset();};Object.defineProperties(u.prototype,{ruc:{get:function(){return c.platform.time.now() - this.Ezb < this.config.sca;},enumerable:!1,configurable:!0}});u.prototype.sCc=function(v){this.Mxb=v;this.hz.hKb(v);};Object.defineProperties(u.prototype,{Fl:{get:function(){return this.hz;},enumerable:!1,configurable:!0}});u.prototype.xOb=function(){var v;if(!this.i1a){v=this.Qvb();this.hz.Fja(v.default.Da,this.confidence);v["initial-throughput-ewma"] && v["initial-throughput-ewma"].Da && this.hz.Bja(v["initial-throughput-ewma"].Da);v["throughput-ci"] && this.hz.Gja(v["throughput-ci"]);v.deliverytime && this.hz.zja(v.deliverytime);this.hz.Sva(v.FK?v.FK.vWa:void 0,v.FK?v.FK.UKc:void 0);n.md(this.nr) || (this.i1a=!0);}};Object.defineProperties(u.prototype,{startTime:{get:function(){return this.mz;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{confidence:{get:function(){return this.Fs.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{jm:{get:function(){return this.Hw;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{T2b:{get:function(){return this.S4;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{vzb:{get:function(){return this.Ehb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{location:{get:function(){return this.fO;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ICb:{get:function(){return this.Whb;},enumerable:!1,configurable:!0}});u.prototype.K_b=function(){var v,w,x,y;v=this.config;w=v.V_b.concat(v.c0b).filter(Boolean);x=v.DGa;y=this.Zrb;w=w.reduce(function(z,B){z[B]=y.create(B,x);return z;},{});w.confidence=new k.HN(v,new g.wab(v,this.Rra.bind(this)));return w;};u.prototype.reset=function(){var v,w,x,y;v=this.config.DGa;w=this.Zrb;x=this.config;this.fO=null;this.Whb=void 0;this.Fs=this.K_b();if(this.config.Tqb){y=this.config.TMb;this.Fs.VQc=new f.H2(y.numB * y.bSizeMs,y.bSizeMs);}this.i8.reset();this.Q5.reset();this.wh=w.create("respconn-ewma",v);this.Nr=w.create("respconn-ewma",v);this.E_ && this.E_.reset();this.JSc=this.xOb.bind(this);n.Gx(this.A1) || (clearInterval(this.A1),this.A1=void 0);this.Fd=this.nr=this.mz=null;this.Iva=0;x.sIb && (this.vL=this.cca=this.Hw=0,this.S4=[]);};u.prototype.Fua=function(v){var w;w=this.Fs;if(v !== this.fO){n.Gx(this.A1) || (clearInterval(this.A1),this.A1=void 0);n.md(this.fO) && (this.Iva=0,this.mz=null);if(!n.md(v)){for(var x in w)w[x] && w[x].reset && w[x].reset();this.wh.reset();this.Nr.reset();}n.md(this.mz) || (this.Iva+=(n.md(this.nr)?c.platform.time.ha():this.nr) - this.mz);this.nr=this.mz=null;this.fO=v;this.hz.Fua(v);}};u.prototype.aW=function(v,w,x,y){var z,B,A;this.Ehb=Math.max(this.Ehb || 0,x);this.vL-=v;B=this.config;A=this.Fs;if(!0 === y.Q1)(y=A["throughput-wssl"]) && y.add(v,w,x,!0);else if(n.Gx(w))p.warn("addDataReceived called with undefined start time");else if((this.E_ && this.E_.aW(v,w,x,y),!B.Hoa || !(x - w < B.WKb || y.ma <= B.VKb))){B.b0b && x - w < B.jCb?w=x - B.jCb:0 === x - w && (w=x - 1);this.i8.aW(v,w,x,y);this.Q5.aW(v,w,x,y);for(var C in A)A[C] && A[C].add && A[C].add(v,w,x,y);n.md(this.mz) && (this.mz=w,this.nr=null,this.i1a=!1);n.md(this.nr) || (w > this.nr && (this.mz+=w - this.nr),this.nr=null,this.i1a=!1);n.md(this.Fd) || (w - this.Fd > B.Xhb?this.mL.Pxb(this.Fd,w):x - w > B.Xhb && this.mL.Pxb(w,x));this.Fd=this.Fd?Math.max(x,this.Fd):x;null === (z=this.ipb) || void 0 === z?void 0:z.resolve();}};u.prototype.cW=function(v){isNaN(v) || n.md(v) || (this.wh.add(v),this.hz.cW(v));};u.prototype.bW=function(v){isNaN(v) || n.md(v) || (this.Nr.add(v),this.hz.bW(v));};u.prototype.start=function(v,w){var x;n.md(this.Fd) && !n.md(this.nr) && (this.Fd=v);x=this.Fs;if(this.config.Yua)for(var y in x)x[y] && x[y].start && x[y].start(v,w);};u.prototype.stop=function(v,w){var x,y;x=this.Fs;for(y in x)x[y] && x[y].stop && x[y].stop(v,w);this.nr=n.md(this.nr)?v:Math.min(this.nr,v);this.Fd=null;};u.prototype.flush=function(){var v,w;v=this.Fs;for(w in v)v[w] && v[w].flush && v[w].flush();this.P7b();this.bLc();};u.prototype.bLc=function(){var v,w;v=this.ICb;w=0;v && ("uhd" in v) && (w=v.uhd);(v=this.get()) && v.avtp && v.avtp.Da && (this.VS.B3b(v.avtp.Da,w,v.avtp.BMa),this.VS.save());};u.prototype.P7b=function(){var v;v=this.Fs.entropy;v && (this.Whb=v.G7b(),v.reset());};u.prototype.Qvb=function(){var v,w,x,y,z,B,A,C;v=c.platform.time.ha();w=this.Fs;x=this.config;y=x.fhb;z=x.Q_b;B=x.yib;A={};for(C in w)w[C] && w[C].get && (A[C]=w[C].get(v,this.vL),"iqr" === w[C].type && (A.FK=A[C]),"tdigest" === w[C].type && (A.cl=A[C]),"wssl" === w[C].type && (A.Q1=A[C]));A.cdnavtp=this.i8.Ok();A.activecdnavtp=this.Q5.Ok();A.default=y && A[y] && z && void 0 !== A[y][z]?{Da:A[y][z]}:y && A[y]?A[y]:A["throughput-ewma"];"none" !== x.pua && "none" !== B && (A.sJb=B && A[B]?A[B]:A["throughput-sw"]);return A;};u.prototype.JPa=function(){return this.E_?this.E_.JPa():void 0;};u.prototype.get=function(){var v,w,x,y,z,B;v=this.Qvb();w=v.default;x=this.wh.get();y=this.Nr.get();z=this.config;if(v.sJb){B=v.sJb;w=n.pc(w.Da) && n.pc(B.Da) && w.Da > B.Da && 0 < B.Da?B:w;}v.jb=w;v.wx=v["initial-throughput-ewma"];!z.Thc || !w || n.md(w.Da) || isNaN(w.Da) || !v.Q1 || n.md(v.Q1.Da) || isNaN(v.Q1.Da) || ("max" === z.jQb?v.jb.Da=Math.max(v.Q1.Da,w.Da):"sum" === z.jQb && (v.jb.Da+=v.Q1.Da));v.wh=x;v.Nr=y;this.config.Tqb && (w=this.config.TMb,v.Iad=this.Fs.VQc.get(w.fillS,w.fillHl));w=this.Iva + (n.md(this.mz)?0:(n.md(this.nr)?c.platform.time.ha():this.nr) - this.mz);v.time=w;return v;};u.prototype.cqc=function(){var v,w,x;v={};w=this.get();if(w.confidence && w["throughput-ewma"]){v.aseavtp=Number(w["throughput-ewma"].Da).toFixed(2);v.asevartp=Number(w["throughput-ewma"].eg).toFixed(2);if(w.FK){x=w.FK.vWa;!x || void 0 === x.Rv || void 0 === x.Qv || void 0 === x.cs || isNaN(x.Rv || 0) || isNaN(x.Qv) || isNaN(x.cs) || (v.aseniqr=0 < x.cs?Number((x.Rv - x.Qv) / x.cs).toFixed(2):-1,v.aseiqr=Number(x.Rv - x.Qv).toFixed(2),v.asemedtp=Number(x.cs).toFixed(2));v.iqrsamples=w.FK.UKc;}w.cl && w.cl.BY && (v.tdigest=w.cl.BY());}return v;};u.prototype.bQa=function(){return this.VS.bQa();};u.prototype.JD=function(v,w){var x,y,z;x=w.requestId;1 === ++this.Hw && this.emit("active",v);if(this.config.FX){y=this.Fs;for(z in y)y[z] && y[z].JD && y[z].JD(v,w);}this.config.eva && this.start(v,w);x && (this.config.eva || this.start(v,w),this.S4.push(x));this.vL+=w.ma || 0;this.i8.JD(v,w);this.Q5.JD(v,w);};u.prototype.SJc=function(){++this.cca;};u.prototype.KD=function(v,w,x){var y,z,B;y=x.requestId;w && --this.cca;--this.Hw;this.vL=Math.max((this.vL || 0) - ((x.ma || 0) - (x.bytesReceived || 0)),0);this.config.sIb && (this.Hw=Math.max(this.Hw,0),this.cca=Math.max(this.cca,0));if(this.config.FX){z=this.Fs;for(B in z)z[B] && z[B].KD && z[B].KD(v,w,x);}this.config.eva && this.stop(v,x);0 === this.Hw && (this.config.eva || this.stop(v,x),this.emit("inactive",v));y && (w=this.S4.indexOf(y),0 <= w && this.S4.splice(w,1));this.i8.KD(v,x);this.Q5.KD(v,x);};u.prototype.Rra=function(){this.xOb();this.A1=setInterval(this.JSc,this.config.Q0b);};u.prototype.fKc=function(){return d.__awaiter(this,void 0,void 0,function(){var v,w,x,y,z,B,A,C,D,F,G;return d.__generator(this,function(E){switch(E.label){case 0:v=this.get();w=v.jb.Da;x=v.wh.Da;if(this.ruc)return [2,{OCb:w,JBc:w,CIb:x}];this.Ezb=c.platform.time.now();y=this.config;z=y.fhb;B=y.yib;return z.match(/ewma/)?[4,this.ipb=new h.mo()]:[2,null];case 1:return (E.T(),A=this.get(),C=(null === (G=A["throughput-sw-fast"]) || void 0 === G?void 0:G.Da) || 0,D=this.Fs[z],F="none" !== B?this.Fs[B]:null,null === D || void 0 === D?void 0:D.reset(),null === F || void 0 === F?void 0:F.reset(),[2,{OCb:C,JBc:w,CIb:x}]);}});});};return u;})(t.EventEmitter);b["default"]=a;},75539:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperties(b,{__esModule:{value:!0}});b.nCa=b.Xg=void 0;t=a(22970);d=a(90745);n=a(66164);a(97685);c=a(52571);h=a(45550);f=a(65161);e=t.__importDefault(a(40497));(function(k){k[k.vB=0]="CREATED";k[k.OPENED=1]="OPENED";k[k.NM=2]="ACTIVE";k[k.am=3]="RECEIVING";k[k.nn=4]="COMPLETE";k[k.pw=5]="ABORTED";})(g || (b.Xg=g={}));a=(function(){function k(l,m,p,r,q,u,v,w,x,y){this.stream=l;this.Ag=m;this.properties=q;this.listener=v;this.K=w;this.config=x;this.console=y;this.kja=this.VN=0;this.$a=g.vB;this.kf=!1;this.request=new n.platform.Xl(p,r,this.mpc(q,w));this.offset=u.offset;this.Ue=u.ma;this.id=this.onc();this.hLb=q.PD;this.GS=q.GS;this.ky=q.ky;this.responseType=void 0 === q.responseType?n.platform.Xl.ng && !n.platform.Xl.ng.FYa.HEa?0:1:q.responseType;this.zj=this.u5b();this.mediaType === f.v.Ba || !x.Aja && q.Xe || (this.Sc=e.default.instance());}Object.defineProperties(k.prototype,{url:{get:function(){return this.Ag;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ma:{get:function(){return this.Ue;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mediaType:{get:function(){return this.stream.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bytesReceived:{get:function(){return this.VN;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{status:{get:function(){return this.request.status;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$i:{get:function(){return this.request.$i;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{response:{get:function(){return this.request.response;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{dh:{get:function(){return this.request.dh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xC:{get:function(){return this.request.xC;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Rg:{get:function(){return this.request.Rg;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{OJ:{get:function(){return this.request.track;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{uH:{get:function(){return this.request.uH;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Pv:{get:function(){return this.$a >= g.OPENED && this.$a < g.nn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.$a >= g.NM && this.$a < g.nn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{RXa:{get:function(){return this.$a === g.am;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.$a === g.nn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{aborted:{get:function(){return this.$a === g.pw;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{state:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{endOffset:{get:function(){return this.offset + this.Ue - 1;},enumerable:!1,configurable:!0}});k.prototype.open=function(){if(this.$a !== g.vB || !this.request.open(this.Ag,{start:this.offset,end:this.endOffset},this.responseType,{},void 0,void 0,this.hLb,this.stream.my,this.stream.za?this.stream.M.Lt.GP:void 0))return !1;this.$a=g.OPENED;return !0;};k.prototype.g1=function(l){if(this.state < g.OPENED || this.state >= g.nn)return (this.Ag=l,!0);if(this.Ag === l){if(this.kf || this.state === g.NM && n.platform.time.ha() - this.$i > this.config.Kzc)return this.jLc();}else return (this.FKa(),this.kja=0,this.Ag=l,this.kf=!1,this.request.g1(l));return !0;};k.prototype.jLc=function(){var l,m;l=this;if(void 0 === this.Ica){m=this.request.$i?n.platform.time.ha() - this.request.$i:0;m=Math.max(0,this.config.ira - m);m+=Math.random() * Math.min(this.config.oAc * Math.pow(2,this.kja),this.config.nAc);this.kja+=1;this.Ica=setTimeout(function(){l.Ica=void 0;l.state < g.nn && (l.kf || l.state === g.NM) && (l.kf=!1,l.request.g1(l.Ag) || l.listener.Zx(l));},m);}return !0;};k.prototype.abort=function(){var l;if(this.aborted)return !0;this.active && (null === (l=this.Sc) || void 0 === l?void 0:l.KD(n.platform.time.ha(),this.RXa,this.JY()));this.$a=g.pw;this.FKa();this.request.abort();return !0;};k.prototype.Ne=function(){var l,m,p;if(7 !== this.request.readyState && 5 !== this.request.readyState){m=this.Pv;p=this.active;this.abort();this.listener.z_(this,p,m);}this.FKa();null === (l=this.zj) || void 0 === l?void 0:l.clear();this.request.Ne();};k.prototype.getResponseHeader=function(l,m){return this.request.getResponseHeader(l,m);};k.prototype.getAllResponseHeaders=function(l){return this.request.getAllResponseHeaders(l);};k.prototype.Ntb=function(){var l,m;l=this.getResponseHeader("content-range",!1);if(l){m=l.indexOf("/");(0,c.assert)(-1 !== m,"unable to parse content-range: " + l);m=l.slice(m + 1);m=parseInt(m);(0,c.assert)(0 < m,"unable to parse content-range: " + l);return m;}};k.prototype.h0=function(){this.request.h0();};k.prototype.ii=function(){return this.request.ii();};k.prototype.q_=function(){var l,m;if(this.$a === g.OPENED){this.$a=g.NM;m=this.request.$i || this.request.loadTime;h.ZM.instance().push(n.platform.time.ha() - m);!this.config.gBb && (null === (l=this.Sc) || void 0 === l?void 0:l.JD(m,this.JY()));this.listener.LR(this);this.timestamp=m;}};k.prototype.Sra=function(){var l,m,p,r;if(!(this.$a >= g.am)){this.$a=g.am;r=this.request.$i || this.request.WNa;h.ZM.instance().push(n.platform.time.ha() - r);this.config.gBb && (null === (l=this.Sc) || void 0 === l?void 0:l.JD(r,this.JY()));null === (m=this.Sc) || void 0 === m?void 0:m.SJc();l=this.request.uH;this.request.connect && l.length && (null === (p=this.Sc) || void 0 === p?void 0:p.cW(l[0]));this.timestamp=r;this.listener.qL(this);0 === this.Ue && this.bTc(this.request.iu);this.request.getAllResponseHeaders(!0);}};k.prototype.KR=function(){var l;if(!(this.$a > g.am)){this.$a=g.am;l=this.request.$i;h.ZM.instance().push(n.platform.time.ha() - l);l=this.lVa(!0);this.listener.mD(this,l);}};k.prototype.kD=function(){var l,m,p;if(!this.aborted){m=this.request.$i;h.ZM.instance().push(n.platform.time.ha() - m);p=this.lVa(!0);null === (l=this.Sc) || void 0 === l?void 0:l.KD(m,this.RXa,this.JY());this.$a=g.nn;this.listener.Un(this,p);this.Ne();}};k.prototype.WBc=function(){this.listener.bsa(this);};k.prototype.kba=function(){var l;if(!this.complete && !this.aborted && "number" === typeof this.request.dh){this.kf=!0;l=this.request.$i;h.ZM.instance().push(n.platform.time.ha() - l);this.lVa(this.config.Qta && void 0 === this.request.status);this.listener.Zx(this);}};k.prototype.lVa=function(l){var m,p,r,q;m=this;r=this.request.$i;q=this.request.bytesReceived - this.VN;l && this.Sc && (void 0 !== this.timestamp && 0 < q && this.Sc.aW(q,this.timestamp,r,this.JY()),null === (p=this.request.uH) || void 0 === p?void 0:p.forEach(function(u){return m.Sc.bW(u);}));this.timestamp=r;this.VN=this.request.bytesReceived;return q;};k.prototype.bTc=function(l){var m;m=this.Ue;this.Ue=l;this.listener.MR(this,this.Ue,m);};k.prototype.JY=function(){var l;return {requestId:this.id,Al:this.stream.zb,ti:null === (l=this.stream.M.S.Bz) || void 0 === l?void 0:l.ti,type:this.mediaType,GS:this.GS,ma:this.Ue,bytesReceived:this.request.bytesReceived,ky:this.ky};};k.prototype.onc=function(){var l;l=(l=this.stream)?l.toString():this.url;this.Ue && (l+=",range " + this.offset + "-" + (this.offset + this.Ue - 1));return l;};k.prototype.u5b=function(){var l,m,p;l=this;m=new d.af();p=n.platform.Xl.Ul;m.on(this.request,p.Nab,function(){return l.q_();});m.on(this.request,p.Mab,function(){return l.Sra();});m.on(this.request,p.Oab,function(){return l.KR();});m.on(this.request,p.l4,function(){return l.kD();});m.on(this.request,p.e_c,function(){return l.WBc();});m.on(this.request,p.yI,function(){return l.kba();});return m;};k.prototype.mpc=function(l,m){return {mediaType:this.mediaType,Qa:this.stream.Qa,bitrate:this.stream.bitrate,Uc:this.stream.zb,lA:!l.Xe,L:m.id,config:this.config,jOa:l.jOa};};k.prototype.FKa=function(){void 0 !== this.Ica && (clearTimeout(this.Ica),this.Ica=void 0);};k.prototype.toString=function(){return "ID: " + this.request.ii() + " " + this.id;};k.prototype.toJSON=function(){return {requestId:this.request.ii(),id:this.id};};return k;})();b.nCa=a;},75640:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.vbb=void 0;d=a(65161);n=a(43276);t=(function(){function c(h){var V_Q;V_Q=2;for(;V_Q !== 7;){switch(V_Q){case 2:var K3Z="1SIY";K3Z+="bZrN";K3Z+="J";K3Z+="C";K3Z+="p9";this.yca=[0,0];this.iu=[0,0];this.qba=[0,0];K3Z;this.rba=h.rba;this.aWa=[new n.VM(),new n.VM()];V_Q=8;break;case 8:this.BEb=new n.VM();V_Q=7;break;}}}var r3k;r3k=2;for(;r3k !== 3;){switch(r3k){case 2:c.prototype.reset=function(){var H97;H97=2;for(;H97 !== 4;){switch(H97){case 2:this.yca=[0,0];this.iu=[0,0];this.qba=[0,0];H97=4;break;}}};r3k=1;break;case 1:c.prototype.aW=function(h,f,e,g){var b$L,k,l;b$L=2;for(;b$L !== 8;){switch(b$L){case 5:b$L=(null === (k=g.GS) || void 0 === k?0:k.opa())?4:3;break;case 9:this.qba[g.type]+=h;b$L=8;break;case 3:b$L=(null === (l=g.GS) || void 0 === l?0:l.$Ta(h,f,e,this.rba))?9:8;break;case 2:this.iu[g.type]+=h;b$L=5;break;case 4:(this.yca[g.type]+=h,this.BEb.add(h,f,e),this.aWa[g.type].add(h,f,e));b$L=3;break;}}};c.prototype.JPa=function(){var R5S;R5S=2;for(;R5S !== 1;){switch(R5S){case 2:return {bytesRequestedPacingVideo:this.yca[d.v.U],bytesRequestedPacingAudio:this.yca[d.v.X],estimatedBytesPacedVideo:this.qba[d.v.U],estimatedBytesPacedAudio:this.qba[d.v.X],bytestotalVideo:this.iu[d.v.U],bytestotalAudio:this.iu[d.v.X],pacedAvtpVideo:this.aWa[d.v.U].get().Da,pacedAvtpAudio:this.aWa[d.v.X].get().Da,pacedAvtp:this.BEb.get().Da};break;}}};return c;break;}}})();b.vbb=t;},66058:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(66164);n=new d.platform.Console("ASEJS_SESSION_HISTORY","media|asejs");t=(function(){function c(h){this.config=h;this.rC={avtp:0,neuhd:0,d:0,t:0};this.load();}c.prototype.load=function(){var h;h=this;(this.Dq=d.platform.storage.get("sth"))?(this.Dq=this.Dq.filter(function(f){return f.d >= h.config.Oaa && 0 <= f.neuhd && 0 < f.avtp;}),this.Dq.sort(function(f,e){return f.t - e.t;}),n.log("session history list: ",this.Dq)):this.Dq=[];};c.prototype.save=function(){this.rC.d >= this.config.Oaa && 0 <= this.rC.neuhd && 0 < this.rC.avtp && (this.Dq.push(this.rC),this.Dq.length > this.config.yaa && (this.Dq=this.Dq.slice(this.Dq.length - this.config.yaa)),this.Dq.length && (n.log("saving state: ",JSON.stringify(this.Dq)),d.platform.storage.set("sth",this.Dq)));this.rC={avtp:0,neuhd:0,d:0,t:0};};c.prototype.reset=function(){this.Dq=[];this.rC={avtp:0,neuhd:0,d:0,t:0};};c.prototype.bQa=function(){return this.Dq;};c.prototype.B3b=function(h,f,e){this.rC.avtp=h;this.rC.neuhd=f;this.rC.d=e;this.rC.t=d.platform.time.ha();};return c;})();b["default"]=t;},88318:function(t,b,a){var n,c;function d(h){this.Ab={xaa:h.maxc || 25,SKa:h.c || .5,jIc:h.rc || "none",$z:h.hl || 7200};this.E5();this.Q1b=this.Ab.jIc;this.q0b=this.Ab.$z;this.gGa=Math.exp(Math.log(2) / this.q0b);this.gGa=Math.max(this.gGa,1);this.tia=1;}n=a(17267);c=a(15913).TDigest;new (a(66164).platform.Console)("ASEJS_NETWORK_HISTORY","media|asejs");d.prototype.getState=function(){var h;if(0 === this.zg.size())return null;h=this.zg.mk([.25,.75]);if(h[0] === h[1])return null;this.zg.size() > this.Ab.xaa && this.zg.Eo();h=this.zg.hj(!1).reduce((function(f,e){n.pc(e.sh) && n.pc(e.n) && f.push({mean:e.sh,n:e.n / this.tia});return f;}).bind(this),[]);return {tdigest:JSON.stringify(h)};};d.prototype.Ki=function(h){var f;if(n.md(h) || !n.has(h,"tdigest") || !n.ji(h.tdigest))return !1;try{f=JSON.parse(h.tdigest);}catch(e){return !1;}f.forEach(function(e){n.isFinite(e.n) || (e.n=1);});h=f.map(function(e){return {sh:e.mean,n:e.n};});this.tia=1;this.zg.EXa(h);void 0 === this.zg.mk(0) && this.E5();};d.prototype.get=function(){var h,f;h=this.zg;f=h.mk([0,.1,.25,.5,.75,.9,1]);return {min:f[0],ZVa:f[1],Qv:f[2],cs:f[3],Rv:f[4],$Va:f[5],max:f[6],um:h.hj(!1)};};d.Ioc=function(h){var f;f=new d({});n.md(h) || n.Gx(h) || !n.isArray(h.um) || (f.zg.EXa(h.um),void 0 === f.zg.mk(0) && f.E5());h=f.zg.mk([.25,.75]);return h[0] === h[1]?null:function(e){return f.zg.mk(e);};};d.prototype.add=function(h){var f;f=1;"ewma" === this.Q1b && (this.tia=f=this.tia * this.gGa);this.zg.push(h,f);};d.prototype.toString=function(){return "TDigestHist(" + this.zg.summary() + ")";};d.prototype.E5=function(){this.zg=new c(this.Ab.SKa,this.Ab.xaa);};t.exports={kfb:d};},36974:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$6a=void 0;d=a(95316);n=a(91176);t=(function(){function c(){}c.prototype.KJb=function(h){var f,e,g,k;e=h.profile;g=h.frameRate;h=null !== (f=(0,n.ic)(d.YH,function(l){return d.Jea[l].test(e);})) && void 0 !== f?f:"h264hpl";f=d.IM[h].some(function(l){return (0,d.sOa)(g,d.L8[l]);})?g:null;if(!f){k={aa:g.aa / 2,P:g.P};f=d.IM[h].some(function(l){return (0,d.sOa)(k,d.L8[l]);})?k:null;}f || (f=d.L8[d.IM[h][0]]);return {profile:h,frameRate:f};};return c;})();b.$6a=t;},27259:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.ybb=void 0;d=a(52571);n=a(36974);c=a(603);t=(function(){function h(f){this.config=f;}h.prototype.create=function(){switch(this.config.RR){case "strict":return new c.Web();case "flexible":return new n.$6a();default:(0,d.assert)(!1,("Invalid padding codec selector: ").concat(this.config.RR));}};return h;})();b.ybb=t;},27977:function(t,b,a){var n,c,h,f,e,g,k,l,m,p;function d(r){return function(){return ("[").concat(r,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.Neb=void 0;b.Itb=function(r){return -1 !== r.indexOf("xheaac")?"xheaac":-1 !== r.indexOf("heaac")?"heaac":"ddp";};n=a(95316);c=a(91176);h=a(26388);f=a(52571);e=a(48170);g=a(26279);k=a(79459);l=a(444);m=a(52629);t=(function(){function r(q,u){p=new n.Meb(q,u);}r.SJa=function(){(0,f.assert)(p,"expected StaticMediaCache to exist");return p;};r.prototype.LGb=function(q,u,v,w,x,y,z,B,A,C){var D,F,G,E,H,J,L,K,M;D=[];w=r.SJa().Jpc(v,w,x);F=new c.I(w.duration);G=new c.I(w.Fa);E=G.P;H=w.profile;J={Uxb:!0,mediaType:h.v.X,fyb:!0,xe:H,profile:H,P:E,yj:[{Qe:0,data:w.Sb}],eh:!0,Fa:G,te:u,Fh:A.Fh,M:q,bitrate:w.bitrate,Qa:"-1",track:{trackId:"1",mediaType:h.v.X,Qo:!1,Fa:G,M:q,channels:w.channels,sampleRate:48E3,profile:H,nJa:"heaac" === v?"AAC":"DDP",Bd:[],Qt:x,toString:d(h.v.X)},toJSON:function(){return {mediaType:J.mediaType,Qa:J.Qa,bitrate:J.bitrate};}};J.Kr=J.track.Kr=g.g2.prototype.Kr.bind(J.track);J.track.Bd.push(J);q=new c.I(w.Fa);v=A.Fh?u:c.I.ia;x=v.add(F);e.l && C.trace(("StaticMedia: audio target duration is ").concat(y.da()));H=c.I.ia;u=A.Fh?-Math.ceil(u.gf(G)):0;A=v;for(G=!0;A.lessThan(y);){A=A.add(F);A.greaterThan(y) && (L=F.gf(q) - Math.floor(A.ea(y).gf(q)));K=A.Xf(y);M=G?0:K?y.ea(H).G:void 0;G=new k.rxa(w.Sb,w.Ta,J,E,v.Vc(E).aa,x.Vc(E).aa,q,C,z,B.bind(void 0,E,H),M,G,K);G.Qh({start:u,end:L});e.l && C.log(("PaddingBranch: enqueing request ").concat(G,", edit: ").concat(JSON.stringify({start:u,end:L}),", ") + ("offset ").concat(H.da()));D.push(G);H=H.add(F);u=void 0;G=!1;}return D;};r.prototype.MGb=function(q,u,v,w,x,y,z,B,A,C){var D,F,G,E,H,J,L,K,M;D=[];u=r.SJa().Lpc(u,v,w,x,y);v=new c.I(u.duration);F=u.profile;G=u.bitrate;E=u.width;H=u.height;J=u.dWa;L=u.eWa;w=u.Fa.P;x=new c.I(u.Fa);K=new l.QE(w,u.Fa.aa);M={Uxb:!0,mediaType:h.v.U,xe:F,profile:F,P:w,yj:[{Qe:0,data:u.Sb}],eh:!0,Qa:"-1",Fa:x,M:q,bitrate:G,track:{trackId:"1",mediaType:h.v.U,Qo:!1,Fa:x,frameRate:K,sqa:K,Zn:new m.tV({w:E,sx:H},{w:J,sx:L}),M:q,profile:F,Bd:[],Qt:y,toString:d(h.v.U)},toJSON:function(){return {mediaType:M.mediaType,Qa:M.Qa,bitrate:M.bitrate};}};M.Kr=M.track.Kr=g.g2.prototype.Kr.bind(M.track);e.l && C.trace(("StaticMedia {").concat(B.id,"}: video queue"),M);M.track.Bd.push(M);F=Math.ceil(z.gf(v));z=v.Qg(F);q=c.I.ia.Vc(w);y=q.add(z).Vc(w);e.l && C.trace(("PaddingBranch: ").concat(F," fragments of ").concat(v.da(),", ") + ("duration ").concat(z.da(),", ") + ("c: ").concat(q.da(),"-").concat(y.da(),", "));for(G=c.I.ia;G.lessThan(z);)(F=G.add(v),G=new k.rxa(u.Sb,u.Ta,M,w,0,v.Vc(w).aa,x,C,B,A.bind(void 0,w,G),void 0,G.equal(c.I.ia),F.Xf(z)),e.l && C.trace(("PaddingBranch: appended ").concat(G)),D.push(G),G=F);return {qa:q,xa:y,duration:z,Oa:D};};r.prototype.uHc=function(){return r.SJa().Kpc();};return r;})();b.Neb=t;},603:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Web=void 0;t=(function(){function a(){}a.prototype.KJb=function(d){return d;};return a;})();b.Web=t;},73861:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Zbb=void 0;t=a(22970);d=a(91176);n=a(66164);c=a(26388);h=t.__importDefault(a(14282));f=h.default.Ep;e=h.default.Ty;g=a(65161);k=a(69575);l=t.__importDefault(a(40497));a=(function(){function m(p,r,q,u,v){this.Yf=p;this.Jz=r;this.config=q;this.console=u;this.mediaType=v;}m.prototype.enabled=function(){return !this.Yf.sa.Rc;};m.prototype.cBc=function(p){var r;if(this.enabled()){r=p.K;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{L:r.id,offset:d.I.Ca(this.Yf.QKa).ea(r.kb)},completePlayerStreamingTimestamp:d.I.Ca(this.Yf.e7),trackIndex:p.stream.track.cJ,bufferLevelMs:this.Yf.sa.In(p.mediaType)};(0,k.Zw)(this.Jz,p.type,p);}};m.prototype.mDb=function(p,r,q){var u,v,w;if(this.enabled()){v=this.mediaType;w=this.Yf.up.dk(v);w.XS(p);p.mediaType !== g.v.X && p.mediaType !== g.v.U || !this.config.Lca || (void 0 === w.aTa?w.FKb(n.platform.time.ha()):n.platform.time.ha() - w.aTa > this.config.Lca && (p.bitrate !== w.Izb && (p.mediaType === g.v.U?(n.platform.storage.set("vb",p.bitrate),w.EKb(p.bitrate)):p.mediaType === g.v.X && (n.platform.storage.set("ab",p.bitrate),w.EKb(p.bitrate))),w.FKb(n.platform.time.ha())));w.Lpa && w.Lpa === p || (this.Yf.up.dMb(r,w.Lpa,p),w.PMc(p),r=0,p.xb && p.xb.confidence && p.xb.jb && (r=p.xb.jb.Da),q={L:this.Yf.sa.K.id,offset:d.I.Ca(q).ea(this.Yf.sa.K.kb)},p={type:"streamSelected",nativetime:n.platform.time.ha(),mediaType:v,streamId:p.id,trackIndex:p.track.cJ,streamIndex:p.jw,bandwidth:r,longtermBw:r,rebuffer:0,position:q,stream:p,manifest:null === (u=p.M) || void 0 === u?void 0:u.S},(0,k.Zw)(this.Jz,p.type,p));}};m.prototype.YUa=function(p,r,q,u,v){this.enabled() && (p={type:"ellaChannelSwitch",moffms:q || 0,channel:r,vdlid:p,bw:u || 0,networkstat:v || ({FD:0,dD:0,cH:0,lH:0})},(0,k.Zw)(this.Jz,p.type,p));};m.prototype.$Ac=function(p,r,q){var u,v,w,x;if(this.enabled()){u=r.M;v=u.Hi;w=this.Yf.up.dk(r.mediaType);x=u.Ruc(r);u=x.HSa;x=x.Suc;q && r.zb && !w.TK?(x=e.KB,r.du=e.name[x],this.lDb(p,r.zb,r.du,r.location,r.bitrate),w.TK=r.zb):!q && r.zb && r.zb !== w.TK && (x=x?void 0 === w.TK?e.KB:v.H0 === e.ICa?e.QYb:e.Bxa:e.PYb,r.du=e.name[x],this.lDb(p,r.zb,r.du,r.location,r.bitrate),w.TK=r.zb);!w.qZ && r.location && (x={type:"logdata",target:"startplay",fields:{}},this.mediaType === f.X?x.fields.alocid=r.location:this.mediaType === f.U && (x.fields.locid=r.location),(0,k.Zw)(this.Jz,x.type,x));q && r.location && !w.qZ?(x=e.KB,r.du=e.name[x],this.iDb(p,r.location,r.zTa,r.zb,r.ada,r.du,r.vD),w.qZ=r.location):!q && r.location && r.location !== w.qZ && (x=u?void 0 === w.qZ?e.KB:v.H0 === e.ICa?e.dVb:e.Bxa:e.cVb,r.du=e.name[x],this.iDb(p,r.location,r.zTa,r.zb,r.ada,r.du,r.vD),r.vD=void 0,w.qZ=r.location);this.config.jH || (r.Azb=r.location,r.Gzb=r.zb);}};m.prototype.Cra=function(p){p={type:"requestsPruned",requests:p};(0,k.Zw)(this.Jz,p.type,p);};m.prototype.lDb=function(p,r,q,u,v){var w,x;if(this.enabled())if(this.mediaType === f.Ba)this.console.warn("notifyServerSwitch ignored for MediaType.TEXT");else {w=c.tR[this.mediaType];x=l.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:w,server:r,reason:q,location:u,bitrate:v,confidence:x.confidence};x.confidence && (p.throughput=x.jb.Da);x=this.Yf.up.dk(this.mediaType).TK;void 0 !== x && (p.oldserver=x);(0,k.Zw)(this.Jz,p.type,p);}};m.prototype.iDb=function(p,r,q,u,v,w,x){this.enabled() && (this.mediaType === f.Ba?this.console.warn("notifyLocationSelected ignored for MediaType.TEXT"):(p={type:"locationSelected",segmentId:p,mediatype:c.tR[this.mediaType],location:r,locationlv:q,serverid:u,servername:v,selreason:w,seldetail:x},(0,k.Zw)(this.Jz,"locationSelected",p)));};m.prototype.i1b=function(p,r){this.enabled() && (p={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(r)},(0,k.Zw)(this.Jz,p.type,p));};m.prototype.Gkc=function(p){(0,k.Zw)(this.Jz,"transportReport",p);};m.prototype.Fkc=function(p){this.enabled() && (0,k.Zw)(this.Jz,"mediaRequestComplete",p);};return m;})();b.Zbb=a;},7611:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.v6a=void 0;d=a(66164);n=a(91176);c=new d.platform.Console("ASEJS_ELLA_MANAGER","media|asejs");a(97685);h=a(63292);f=a(37468);t=(function(){function e(g,k,l,m,p,r,q){this.config=g;this.Yf=k;this.track=l;this.Bm=p;this.mLa=q;this.Ur=null;this.hy=!1;this.fHa=void 0;this.Yhb=0;this.BV=!1;this.Zs={nw:0,jea:0,iea:0,hea:0,G6:new Map()};this.kX=void 0;this.a8=new h.t6a(g,l,this,this,p,r);this.ue=m;this.hy=!0;this.config.YC?this.YOc():this.CLb();c.trace("EllaFragmentManager constructor: ",this.config.eR);}Object.defineProperties(e.prototype,{FR:{get:function(){d.platform.time.ha() - this.Yhb > this.track.Hk.G * this.config.xwc && (this.FR=void 0);if(void 0 !== this.fHa)return this.fHa;try{return this.track.M.Mk(!0) - this.config.vwc;}catch(g){}},set:function(g){this.fHa=g;this.Yhb=d.platform.time.ha();},enumerable:!1,configurable:!0}});e.prototype.YOc=function(){var g;g=this;this.rta || (this.rta=setInterval(function(){g.j9b();},this.config.wwc));};e.prototype.mPc=function(){this.rta && (clearInterval(this.rta),this.rta=void 0);};e.prototype.j9b=function(){var g;if(this.config.YC){g={Ho:this.Yf.uk,yl:this.FR};this.BV?this.mLa.TNc(g).Uf && this.iPc():this.mLa.RNc(g).Uf && this.CLb();}};e.prototype.CLb=function(){if(!this.BV)try{this.a8.KLb();this.BV=!0;this.cCc();}catch(g){throw (c.error("Failed to start ELLA streaming",g),g);}};e.prototype.iPc=function(){if(this.BV){try{this.a8.fva();}catch(g){c.error("Failed to stop ELLA streaming",g);}this.BV=!1;this.oVa();this.FR=void 0;}};e.prototype.close=function(){this.BV && (this.a8.fva(),this.oVa());this.FR=void 0;};e.prototype.nVa=function(g,k){this.hy && (this.Ur=this.wcc(g,k)) && (this.FR=this.Ur.xa.G,this.bCc(this.Ur),this.mLa.zNc(this.Ur,{Ho:this.Yf.uk,yl:this.FR}).Uf && (this.ue.Tw(this.Ur),this.ue.mD(this.Ur,g.data.length),this.ue.Un(this.Ur,0),this.Yf.qOa(this.Ur),this.Yf.ny(this.Ur.xa.G,this.Ur.index + 1),c.trace("ELLA fragment added to request manager",this.Ur)));};e.prototype.mVa=function(){};e.prototype.pVa=function(g){var k,l,m;if(this.hy){m=(0,n.ic)(this.track.Bd,function(p){return p.Qa === g;});m?(c.trace("EllaFragmentManager: found stream matching streamId",g),this.Yf.UAc(m,null === (k=this.Ur) || void 0 === k?void 0:k.Lb.G,null === (l=this.Ur) || void 0 === l?void 0:l.xa.G)):c.trace("EllaFragmentManager: no stream found matching streamId",g);}};e.prototype.mg=function(){this.hy=!1;this.mPc();this.a8.fva();this.oVa();};e.prototype.wcc=function(g,k){var l,m,p,r,q,u,v,w,x,y;(0,n.assert)(!0 === g.complete,"received an incomplete object from ella");if(!this.Yf.sa)return null;try{l=this.Yf.sa.M;}catch(z){return null;}m=g.xc.gp;c.trace("ella object: ",JSON.stringify(g.xc),k);p=(function(z,B){var A,C,D,F;C=(0,n.ic)(z,function(G){var E,H;return null !== (H=null === (E=G.Nt.jma) || void 0 === E?void 0:E.some(function(J){return J.If === B;})) && void 0 !== H?H:!1;});if(C)return C;if(-1 !== B.indexOf("/")){D=B.split("/");F=null === (A=D[D.length - 1]) || void 0 === A?void 0:A.split("?")[0];F && (C=(0,n.ic)(z,function(G){return G.Qa === F;}));}return C;})(this.track.Bd,k);if(!p)return (c.error("ELLA object received but no stream found matching channel name",{gp:g.xc.gp,If:k,Bd:this.track.Bd}),null);r=this.Yf.Ylb(p,m);k=r.oi;m=r.qa;q=r.xa;u=r.hG;v=r.eK;w=r.Hn;x=r.ki;y=r.na;r=r.gu;if(l.jt && !l.jt.Tka(this.Yf.mediaType,0))return null;g=f.w6a.eP(p,g,this.Yf.sa.K,{oi:k,index:k,tb:m.aa,Ib:q.aa,hG:u,eK:v,P:p.P,offset:0,ma:0,Hn:w,ki:x,gu:r,na:y},!0);p.qB(this.Yf.sa.K);return g;};e.prototype.cCc=function(){this.kX=d.platform.time.ha();};e.prototype.oVa=function(){var g;if(void 0 !== this.kX){g=d.platform.time.ha() - this.kX;this.Zs.nw+=g;this.kX=void 0;}};e.prototype.bCc=function(g){var k,l,m;this.Zs.jea++;k=g.xa.G - g.qa.G;if(g=g.stream){l=("").concat(g.Qa,"_").concat(g.bitrate);m=this.Zs.G6.get(l);m || (m={Qa:g.Qa,bitrate:g.bitrate,duration:0},this.Zs.G6.set(l,m));m.duration+=k;}};e.prototype.o_=function(g){this.Zs.iea+=g;};e.prototype.MDb=function(g){this.Zs.hea+=g;};e.prototype.Qra=function(g,k,l){var m,p,r;if(this.hy){r=null === (m=this.Ur) || void 0 === m?void 0:m.xa.G;m=(null === (p=this.Bm) || void 0 === p?void 0:p.hx.Ok()) || 0;this.Yf.YUa(g,k,r,m,l);}};e.prototype.zlc=function(){return {nw:this.Zs.nw + (this.kX?d.platform.time.ha() - this.kX:0),jea:this.Zs.jea,iea:this.Zs.iea,hea:this.Zs.hea,G6:Array.from(this.Zs.G6.values())};};e.prototype.TOa=function(){return this.a8;};return e;})();b.v6a=t;},98561:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.B9a=void 0;d=a(22970);n=a(91176);c=a(48170);t=a(2415);h=a(99548);a=(function(f){function e(g){return f.call(this,g) || this;}d.__extends(e,f);e.prototype.eLb=function(){return this.splice?!0:this.K?0 !== this.K.eb:!1;};e.prototype.OL=function(g,k){c.l && this.console.trace("LivePipelineNormalizer.renormalize:",this.xa);(0,n.assert)(this.yK,"expected to be called init() before renormalize");k=(0,h.dba)(this.console,this.config,this.M,k) || k;return f.prototype.OL.call(this,g,k);};e.prototype.VUa=function(){var g,k,l,m,p,r,q,u,v;g=this;c.l && this.console.trace(("LivePipelineNormalizer.normalizePipelines ").concat(this.qa.da()," ") + ("- ").concat(null === (k=this.xa) || void 0 === k?void 0:k.da()));this.config.bT && void 0 !== this.M.aj.endTime && (k=null === (l=this.Je.Vt) || void 0 === l?void 0:l.sa,(null === k || void 0 === k?0:k.parent) || this.M.TZa(this.qa.G));l=this.eLb()?n.I.qh:this.M.Jn();this.qa=(0,h.sra)(this.console,l,this.M,this.qa);this.xa=(0,h.dba)(this.console,this.config,this.M,this.xa);if((l=this.Je.Vt) && l.track.jA){l=l.track.jA;k=l.track.co;r=l.track.Hk.Vc(l.P);k+=Math.floor(this.qa.gf(r));l=l.track.vv(k);q=l.qa;u=l.xa;v=[];(null === (m=this.M.Kh) || void 0 === m?0:m.model.xD) && v.push(this.M.Kh.model.xD.Pa);null === (p=this.M.Kh) || void 0 === p?void 0:p.model.rb.forEach(function(w){var x;x=w.Pa;w=w.duration;v.push(x);v.push(x.add(w));});v.some(function(w){if(w.Xf(q) && w.lessThan(u))return (c.l && g.console.trace("LivePipelineNormalizer.normalizePipelines normalize contentStartTimestamp to SCTE marker, " + ("original: ").concat(g.qa.da(),", ") + ("SCTE marker: ").concat(w.da())),g.qa=w,!0);}) || (c.l && this.console.trace("LivePipelineNormalizer.normalizePipelines normalize contentStartTimestamp to segmentContentStartTimestamp (no SCTE marker in the segment), " + ("original: ").concat(this.qa.da(),", ") + ("segmentContentStartTimestamp: ").concat(q.da())),this.qa=q);}return f.prototype.VUa.call(this);};e.prototype.WUa=function(){var g,k,l;c.l && this.console.trace("LivePipelineNormalizer.normalizeSegment");(0,n.assert)(this.K,"missing segment");k=this.eLb()?n.I.qh:this.M.Jn();l=(0,h.sra)(this.console,k,this.M,this.K.kb);c.l && this.console.trace("normalizeSegment, " + ("segment.startTimestamp: ").concat(null === (g=this.K) || void 0 === g?void 0:g.kb.da(),", ") + ("liveEdgeConstraint: ").concat(k,", ") + ("segmentStartTimestamp: ").concat(l.da()));return this.gqb(l);};return e;})(t.sDa);b.B9a=a;},95324:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.zga=void 0;d=a(22970);a(66164);n=a(91176);c=a(90745);h=a(65161);f=a(52571);e=a(48170);t=a(85254);g=a(71808);k=a(97757);l=a(8149);m=a(45691);p=a(42431);r=a(27265);q=a(46512);u=a(71077);v=a(7611);w=a(25915);a=(function(x){var z;function y(B,A,C,D,F,G,E,H,J){var L;L=x.call(this,B,A,C,D,F,G,E,H,J) || this;L.parent=B;L.config=A;L.events=new c.EventEmitter();L.WGa=-1;L.AUa=new Set();L.OLa=0;L.Np=new r.K9a(L,A,L.console,L.ip,L.yu,L.mediaType,L.OI,function(){return L.op;});L.Htc() && L.config.eR && (L.tYa=new w.L9a(L.config,L.console),B=L.config.WVa?d.__spreadArray([],d.__read(L.config.uEb),!1):L.track.Cj.vS || [],L.BX=new v.v6a(L.config,L,L.track,L.Np,L.sa.Bm,B,L.tYa));L.xLc=new u.RAa(L.sa.M,A);return L;}d.__extends(y,x);z=y;Object.defineProperties(y.prototype,{track:{get:function(){return this.Vs;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{yZa:{get:function(){return this.track.M.Lt.yZa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{kAb:{get:function(){return this.P0b;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Pzb:{get:function(){return this.WGa;},enumerable:!1,configurable:!0}});y.prototype.Htc=function(){var B;return null !== (B=this.sa.Bm) && void 0 !== B && B.PMa?this.mediaType === h.v.X || this.mediaType === h.v.U:(e.l && this.trace("LivePipeline: not compatible with Ella due to incomplete information from manifest"),!1);};y.prototype.Ytb=function(){var B,A;A=null === (B=this.BX) || void 0 === B?void 0:B.zlc();A && this.console.error("ELLA summary: ",A);return A;};Object.defineProperties(y.prototype,{K1a:{get:function(){return void 0 !== this.BX && this.config.eR;},enumerable:!1,configurable:!0}});y.prototype.TOa=function(){var B;return null === (B=this.BX) || void 0 === B?void 0:B.TOa();};y.prototype.mg=function(B){var A;e.l && this.trace("pipeline.cancelStreaming");this.UE=!0;this.BX && this.BX.mg();this.Np.mg(B);null === (A=this.up) || void 0 === A?void 0:A.dk(this.mediaType).Ka();this.sd && (this.sa.M.UV(this.mediaType,this.sd),p.hI.instance.O7(this.sd),this.sd.removeAllListeners(),this.sd=void 0);};y.prototype.X0a=function(B,A,C){var D,F;if(this.tYa){F={Ho:this.XI,yl:null === (D=this.BX) || void 0 === D?void 0:D.FR};D=this.tYa.ANc(B,F);e.l && this.console.trace("LivePipeline.tryIssueRequest: HTTP vs Ella request decision",D);if(!D.Uf)return {Lf:!1,reason:"ellaRequestsOnlyAllowed"};}if(D=this.qB(B))return D;(0,f.assert)(B.za,"LivePipeline.tryIssueRequest: stream must be live");B=this.TRc(B,this.sd,C,A);this.ymb();return B;};y.prototype.nmc=function(){var B;B=Array.from(this.AUa).reduce(function(A,C){return void 0 !== C.oi && (void 0 === (null === A || void 0 === A?void 0:A.oi) || A.oi < C.oi)?C:A;},void 0);if(B && void 0 !== B.oi)return ((0,f.assert)((0,l.hk)(B.stream),"LivePipeline: stream must be live"),B.stream.track.vv(B.oi + 1).qa);};y.prototype.z3b=function(B){e.l && this.trace("Marking missing request: ",B.toString());this.AUa.add(B);this.OLa+=1;this.P0b=this.AUa.size;this.ue.QJc(B);this.events.emit("liveMissingSegment",{type:"liveMissingSegment",L:B.index,mediaType:this.mediaType,sa:this.sa});this.config.BP && this.Vk === B.index && this.ny(B.xa.G,this.Vk + 1);};y.prototype.AOb=function(B,A){var C,D,F,G,E;C=this;if(A && this.config.bqa && B.S8b()){D=this.Bd.indexOf(B.stream);if(-1 === D)this.error("reissueLiveRequest: stream not found in stream list, falling back to first stream");else {F=0 < D?Math.max(D - 1,0):Math.min(1,this.Bd.length - 1);G=this.Bd[F];B.R8b(G);if(!G.eh){E=this.Zj.G;this.sa.M.jKb(G,this.sa.K,function(){return {Tg:C.Tg,ee:h.Ld.Jp,Ut:E,fo:E,Io:C.OI.La.currentTime.G};});}e.l && this.trace("reIssueLiveRequest: ",B.toString()," switchStream: ",A," from ",D," to ",F);}}else (e.l && this.trace("reIssueLiveRequest, request: ",B.toString()),this.Ap(!0));};y.prototype.Un=function(B,A){this.OLa=0;x.prototype.Un.call(this,B,A);};y.prototype.Zx=function(B){var A;if(B.Xe)this.cna(B);else {A=B.Qb.ea(this.OI.La.currentTime);switch(this.xLc.Zx(B,A,0 < this.Bd.indexOf(B.stream))){case u.vu.fV:this.warn("onrequesterror: 4xx error for live request, retrying the same url",B.toString());this.AOb(B,!1);break;case u.vu.ceb:this.warn("onrequesterror: switching stream for 410 or 4xx after retries",B.toString());this.AOb(B,!0);break;case u.vu.Gha:case u.vu.DEa:this.warn("onrequesterror: declaring missing segment ",B.toString());this.z3b(B);break;case u.vu.W6a:this.cna(B);break;case u.vu.z4:(A=this.sa.M.aj,B=this.sa.M.Yc.gLa(B.qa),this.sa.M.l1a(A.startTime,A.endTime,!1,B.G));}}};y.prototype.IT=function(){var B,A,C,D;(0,f.assert)(this.Pd,"LivePipeline.updateFragmentTimes: firstFragment must be set");B=this.Pd;A=this.nd;C=this.track.vv(this.Pd.index);D=C.qa;C=C.xa;e.l && this.console.trace("LivePipeline: updateFragmentTimes: firstFragment " + ("c:").concat(B.zC.G,"-").concat(B.lY.G) + (" -> s:").concat(D.G,"-").concat(C.G));B.uea(D,C,!1);A && isFinite(A.index) && (B=this.track.vv(A.index),D=B.qa,C=B.xa,e.l && this.console.trace("LivePipeline: updateFragmentTimes: lastFragment " + ("c:").concat(A.zC.G,"-").concat(A.lY.G) + (" -> s:").concat(D.G,"-").concat(C.G)),A.uea(D,C,!1));this.Np.IT();};y.prototype.WSc=function(B){var A;null === (A=this.Pd) || void 0 === A?void 0:A.Qh(B.na);this.parent.QEc(this);};y.prototype.VSc=function(B){var A;null === (A=this.nd) || void 0 === A?void 0:A.Qh(B.na);this.parent.PEc(this);};y.prototype.qOa=function(B){B.Hn && this.parent.Vma(this);this.WGa=Math.max(this.WGa,B.index);};y.prototype.Vma=function(){this.parent.Vma(this);};y.prototype.Ylb=function(B,A){var C,D,F,G,E,H,J,L,K,M,P,I,O,Q;L=A === (null === (C=this.nd) || void 0 === C?void 0:C.index);C=A === (null === (D=this.Pd) || void 0 === D?void 0:D.index);D=B.track.vv(A);B=D.qa;K=D.xa;if(C && this.Pd && L && this.nd){D=this.Pd.qa;M=this.nd.xa;}else C && this.Pd?(D=this.Pd.qa,M=this.Pd.xa):L && this.nd?(D=this.nd.qa,M=this.nd.xa):(D=B,M=K);if(this.mediaType !== h.v.Ba)if(C && L)P=d.__assign(d.__assign({},(null === (F=this.nd) || void 0 === F?void 0:F.na) || ({})),{start:null === (E=null === (G=this.Pd) || void 0 === G?void 0:G.na) || void 0 === E?void 0:E.start});else C?P=(null === (H=this.Pd) || void 0 === H?void 0:H.na) || ({}):L && (P=(null === (J=this.nd) || void 0 === J?void 0:J.na) || ({}));if(!B.equal(D) || !K.equal(M))(I=B.aa,O=K.aa);if(this.mediaType === h.v.X && (C || L) && (F=this.sa.Yd(h.v.U),F instanceof z && F.Pzb >= A && L && F.nd)){Q=F.nd.xa.G;e.l && this.trace("setting targetSplicePts:",Q);}return {oi:A,index:A,qa:D,xa:M,hG:I,eK:O,Hn:C,ki:L,na:P,gu:Q};};y.prototype.UAc=function(B,A,C){this.ip.mDb(B,A,C);};y.prototype.YUa=function(B,A,C,D,F){this.ip.YUa(B,A,C,D,F);};y.prototype.ny=function(B,A){x.prototype.ny.call(this,B,A);};y.prototype.TRc=function(B,A,C,D){var F,G,E,H,J,L,K,M,P,I,O,Q,S;G=this.yu;E=G.M;H=this.Vk;J=this.Ylb(B,H);L=J.qa;K=J.xa;M=J.hG;P=J.eK;I=J.Hn;O=J.ki;Q=J.na;J=J.gu;S=this.track.M.Mk(!0);e.l && this.trace("checkLiveDuration, stream:",B.bitrate,"contentEndPts:",K.G,"cushionedLiveEdgeMs:",S,"serverTimeMs:",E.kh);if(K.G > S)return {Lf:!1,reason:"exceedsLiveEdge"};if(this.config.AP && E.Kh && this.mediaType !== h.v.Ba && (S=this.track.Fa || n.I.Ca(50),S=K.ea(S),!E.Kh.uwb(S)))return (e.l && this.trace("Waiting for media events",{$9c:S,xa:K,Dvc:E.Kh.Lv}),{Lf:!1,reason:"waitingOnMediaEvents"});if(E.jt && !E.jt.Tka(this.mediaType,0))return (e.l && this.trace("existing buffer size limits already exceeded"),{Lf:!1,reason:this.mediaType === h.v.U?"globalVideoMemoryLimit":"globalAudioMemoryLimit"});if(this.mediaType === h.v.X && (I || O) && (S=this.sa.Yd(h.v.U),S instanceof z && S.Pzb < H))return (e.l && this.trace("waiting for video fragment timing to be confirmed"),{Lf:!1,reason:"waitingOnVideoFragmentTiming"});C={oi:H,index:H,tb:L.aa,Ib:K.aa,hG:M,eK:P,P:B.P,offset:0,ma:0,ky:C,Hn:I,ki:O,gu:J,responseType:this.mediaType === h.v.Ba || this.mediaType === h.v.X && Q?0:void 0,na:Q};this.QZa(C,G.K);this.SZa(C,{stream:B,Vn:D,n0:K.ea(L)});B=this.ue.eP(C,A,B);e.l && this.trace("making mediaRequest (LIVE):",B.toString(),"fragmentIndex:",H,"contentStartTicks:",L.aa,"contentEndTicks:",K.aa,"timescale:",L.P,"firstRequestInSequence:",C.Hn,"lastRequestInSequence:",C.ki,"isTerminal",null === (F=C.ND) || void 0 === F?void 0:F.OQ,"edit",Q);if(!B.open()){this.warn("MediaRequest.open error: " + B.dh + " native: " + B.Rg);if(B.aborted)return (e.l && this.trace("makeRequest aborted"),{Lf:!1,reason:"requestAborted"});this.warn("makeRequest caught:",B.dh);E.Mf({Fi:"MediaRequest open failed (3)",wC:"NFErr_MC_StreamingFailure"});return {Lf:!1,reason:"openAseMediaRequest"};}this.ny(K.G,this.Vk + 1);!I || B instanceof m.kfa || this.parent.Vma(this);return {Lf:!0,reason:"success"};};y.prototype.Rva=function(){var B,A;B=this.track.vv(this.Vk).xa;A=this.sa.M.sPa().G;B=this.Sub(B.G,A);A=B.vz;this.JV=B.Nv;this.xV=A;};y.prototype.SZa=function(B){var A;A=this.yu.M.O0;A && (B.PD=A.cv({}));};y.prototype.QZa=function(B,A){B.ND={Td:A.Stb(),get OQ() {return A.j1 && isFinite(A.ib);}};};return y=z=d.__decorate([k.oY],y);})(q.rDa);b.zga=a;(0,t.el)(g.Gy,a);},27265:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperties(b,{__esModule:{value:!0}});b.K9a=void 0;d=a(22970);n=a(26388);c=a(91176);h=a(48170);f=a(11758);e=a(8149);g=a(45691);t=(function(k){function l(m,p,r,q,u,v,w,x){p=k.call(this,m,p,r,q,u,v,w,x) || this;p.Yf=m;return p;}d.__extends(l,k);l.prototype.eP=function(m,p,r){var q;q=this.config;h.l && this.console.trace("LiveRequestManager: createRequest, params:",m);(0,c.assert)(!m.header);if(r.mediaType === n.v.Ba)return (m=new f.pxa(r,this.sa.LH.track,m,this.Oa,this.sa.K,q,this.console,this.Pna),h.l && this.console.trace("created AseLiveTextRequest object:",m && m.toJSON(),"downloadTrack:",p.toString(),"movieId:",m.R,"streamId:",m.Qa,"offset:",m.offset,"bytes:",m.ma,"contentStartTicks:",m.tb,"contentEndTicks:",m.Ib,"ptsOffsetTicks:",m.op,"liveSegmentId:",m.oi),this.Tw(m),m);p=k.prototype.eP.call(this,m,p,r);p instanceof g.kfa || this.Yf.qOa(p);return p;};l.prototype.NVa=function(m,p,r,q){(0,c.assert)((0,e.hk)(m.stream),"LiveRequestManager: onfragmenttimes: stream is not live");m.Hn && m.stream.track.rVa(this.sa,m.index,p) && m.rf !== p.vH && (this.console.warn("LiveRequestManager: onfragmenttimes: predicted fragment sample count incorrect",("current = ").concat(m.rf,", actual = ").concat(p.vH)),m.h1a(p.vH),r=!0);q && ((0,c.assert)(this.mediaType === n.v.U,"LiveRequestManager: onfragmenttimes: fragmentEditChanged only expected for video"),(0,c.assert)(m.Hn || m.ki,"LiveRequestManager: onfragmenttimes: fragmentEditChanged only expected for first or last request"),m.Hn?this.Yf.WSc(m):m.ki && this.Yf.VSc(m));r && (p=this.Oa.indexOf(m),p + 1 < this.Oa.length && (p=this.Oa.get(p + 1)) && p.vOb(m.lY),this.Oa.update());this.Yf.qOa(m);};l.prototype.IT=function(){var m,p;m=this;h.l && this.console.trace(("LiveRequestManager: updateFragmentTimes ").concat(this.Oa.length," fragments"));if(this.Oa.length){p=this.Oa.get(0).stream.track;(0,c.assert)((0,e.Xo)(p),"LiveRequestManager: updateFragmentTimes: stream is not live");this.Oa.forEach(function(r){var q,u;q=p.vv(r.index);u=q.qa;q=q.xa;h.l && m.console.trace("LiveRequestManager: update timestamps:",r,("updating start ").concat(r.qa.da()," to ").concat(u.da()),("updating end ").concat(r.xa.da()," to ").concat(q.da()));r.uea(u,q,!1);});this.Oa.update();}};return l;})(a(99021).tEa);b.K9a=t;},25915:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.L9a=void 0;d=a(52571);t=(function(){function n(c,h){this.config=c;this.console=h;(0,d.assert)(this.config.eR,"Ella must be enabled to use the coordinator");}n.prototype.ANc=function(c,h){var f;if(!c.eh)return {Uf:!0,reason:"headerNotReceived"};if(!this.config.YC)return {Uf:!1,reason:"ellaNonMixingMode"};c=h.yl;if(void 0 === c)return {Uf:!0,reason:"noEllaPositionDefined"};f=c - h.Ho;return h.Ho < c?{Uf:!0,reason:"httpCatchingUp",context:{aS:h.Ho,yl:c,gv:f}}:{Uf:!1,reason:"ellaCaughtUp",context:{aS:h.Ho,yl:c,gv:f}};};n.prototype.zNc=function(c,h){var f,e,g,k,l,m;f=c.qa.G;e=c.xa.G;if(!this.config.YC)return {Uf:!0,reason:"ellaNonMixingMode",context:{BUa:this.config.YC,Qe:c.index,pOa:e}};g=h.yl;if(void 0 === g)return {Uf:!0,reason:"establishingEllaPosition",context:{BUa:this.config.YC,Qe:c.index,pOa:e}};k=g - h.Ho;l=h.Ho < f;m=h.Ho > f;return l || m?{Uf:!1,reason:l?"pipelineBehindElla":"pipelineAheadOfElla",context:{BUa:this.config.YC,yl:g,Qe:c.index,Z4c:f,pOa:e,aS:h.Ho,gv:k}}:{Uf:!0,reason:"pipelineCaughtUpToElla",context:{BUa:this.config.YC,yl:g,Qe:c.index,pOa:e,aS:h.Ho,gv:k}};};n.prototype.RNc=function(c){var h,f;(0,d.assert)(this.config.YC,"coordinator should be consulted to start streaming only when mixing is enabled");if(void 0 === c.yl)return {Uf:!1,reason:"noEllaPosition"};h=c.yl - c.Ho;f=this.config.gAb;return h <= f?{Uf:!0,reason:"proximityThresholdReached",context:{$p:h,threshold:f,aS:c.Ho,yl:c.yl}}:{Uf:!1,reason:"tooFarFromElla",context:{$p:h,threshold:f,aS:c.Ho,yl:c.yl}};};n.prototype.TNc=function(c){var h,f;(0,d.assert)(this.config.YC,"coordinator should be consulted to stop streaming only when mixing is enabled");if(void 0 === c.yl)return {Uf:!1,reason:"noEllaPosition"};h=c.yl - c.Ho;f=2 * this.config.gAb;return h > f?{Uf:!0,reason:"tooFarBehindElla",context:{$p:h,threshold:f,aS:c.Ho,yl:c.yl}}:{Uf:!1,reason:"withinStopThreshold",context:{$p:h,threshold:f,aS:c.Ho,yl:c.yl}};};return n;})();b.L9a=t;},71077:function(t,b){var d;function a(n,c){var h;h=!1;400 <= n && 499 >= n && 420 !== n && 452 !== n?h=!0:c && 500 <= n && 599 >= n && (h=!0);return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.RAa=b.vu=void 0;b.N6c=a;(function(n){n[n.fV=0]="RETRY";n[n.ceb=1]="SWITCH_STREAM";n[n.DEa=2]="SKIP";n[n.W6a=3]="FORWARD";n[n.z4=4]="STOP";n[n.Gha=5]="SKIP_OR_FORWARD";})(d || (b.vu=d={}));t=(function(){function n(c,h){this.M=c;this.config=h;}n.prototype.Zx=function(c,h,f){var e,g,k;e=c.status;g=c.qa;c=c.xa;if(!a(e,this.config.sma))return d.W6a;this.M.Lt.IIb();k=this.M.Yc.Fma;if(k && 410 === e && g.Xf(k))return d.z4;if(h.G <= this.config.Qaa)return d.DEa;h=this.M.Mk() - this.config.rwc;return 410 !== e && c.G > h?d.fV:f?d.ceb:d.Gha;};return n;})();b.RAa=t;},72117:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Xab=void 0;d=a(22970);t=(function(n){function c(h){return n.call(this,h) || this;}d.__extends(c,n);return c;})(a(2415).sDa);b.Xab=t;},95052:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Wab=void 0;d=a(22970);n=a(66164);c=a(90745);h=a(65161);f=a(52571);e=a(48170);t=a(71808);g=a(85254);k=a(97757);l=a(42431);m=a(99021);p=a(46512);r=a(15908);q=a(75100);a=(function(u){function v(w,x,y,z,B,A,C,D,F){var G;G=u.call(this,w,x,y,z,B,A,C,D,F) || this;G.events=new c.EventEmitter();G.Np=new m.tEa(G,x,G.console,G.ip,G.yu,G.mediaType,G.OI,function(){return G.op;});return G;}d.__extends(v,u);v.prototype.mg=function(w){var x;e.l && this.trace("pipeline.cancelStreaming");this.UE=!0;this.Np.mg(w);null === (x=this.up) || void 0 === x?void 0:x.dk(this.mediaType).Ka();this.sd && (this.sa.M.UV(this.mediaType,this.sd),l.hI.instance.O7(this.sd),this.sd.removeAllListeners(),this.sd=void 0);};v.prototype.X0a=function(w,x,y){var z;z=this.qB(w);if(z)return z;(0,f.assert)(!w.za,"OnDemandPipeline.tryIssueRequest: stream must not be live");z=w.lnc();(0,f.assert)(z,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(w.eh,", headerFragments:").concat(z));w=this.URc(w,z,this.sd,x,y);this.ymb();return w;};v.prototype.URc=function(w,x,y,z,B){var A,C,D,F,G,E,H,J,L,K,M,P;E=this.yu;H=E.M;J=this.mediaType;e.l && this.trace("makeRequest on streamId:",w.Qa,"profile:",w.profile,"location:",w.location,"url:",w.url,"bufferLevelMs:",this.SW.G,"(ms)","nextFragmentIndex:",this.Vk,"firstFragment:",JSON.stringify(this.Pd),"lastFragment:",JSON.stringify(this.nd),"fragments:",x.length,"stream.frameDuration:",w.Fa);L=this.Vk;if(L >= x.length)return (this.warn("makeRequest nextFragmentIndex:",L,"past fragments length:",x.length),{Lf:!1,reason:"insufficientFragments"});if(!this.Pd || !this.nd)return (this.warn("makeRequest delayed, first or last fragment not set","first:",!!this.Pd,"last:",!!this.nd),{Lf:!1,reason:"noFirstOrLastFragment"});K=J === h.v.X && !!this.config.yH && this.sa.K.Hr && this.Pd.Vb.G < this.config.yH && void 0 !== this.Pd.na;M=J === h.v.X && !!this.config.yH && this.sa.K.fq && this.nd.Vb.G < this.config.yH && void 0 !== this.nd.na;L=this.iG.eub(w,L,K,M);if(J === h.v.X && this.config.yH){if(this.sa.K.Hr)if(L.Hn)(e.l && this.trace("makeRequest marking fragment for fade in"),L.oKb());else if(L.index === this.Pd.index + 1 && this.Pd.Vb.G < this.config.yH && void 0 !== this.Pd.na){e.l && this.trace("makeRequest marking second fragment for fade in");P=null !== (A=this.Pd.na.end) && void 0 !== A?A:this.Pd.rf;L.oKb(P - this.Pd.na.start);}this.sa.K.fq && (L.ki?(e.l && this.trace(("makeRequest marking last fragment ").concat(L.index," for fade out")),L.pKb()):L.index === this.nd.index - 1 && (this.nd.Vb.G < this.config.yH && void 0 !== this.nd.na?(e.l && this.trace(("makeRequest marking fragment ").concat(L.index," for fade out")),P=null !== (C=this.nd.na.end) && void 0 !== C?C:this.nd.rf,L.pKb(P - this.nd.na.start)):e.l && this.trace(("makeRequest marking fragment ").concat(L.index," not for fade out ") + (", ").concat(this.nd.Vb.G,", ").concat(JSON.stringify(this.nd.na)))));}if(H.jt && !H.jt.Tka(this.mediaType,L.ma))return (e.l && this.trace("makeRequest would go over buffer limits:",L.ma),{Lf:!1,reason:this.mediaType === h.v.U?"globalVideoMemoryLimit":"globalAudioMemoryLimit"});this.VSa=L.region;L.ky=B;null === (D=this.cn) || void 0 === D?void 0:D.Dsc(L,w);L.ki && J === h.v.U && this.ip.i1b(E.K,L.Lb.G);e.l && L.ki && this.trace("marking last request in sequence, ptsEnd:",L.Lb.G,"branch.contentEndPts:",E.Lb.G,"fragments.endPts:",x.Dg,"fragmentIndex:",this.Vk,"lastFragmentIndex:",x.length - 1);this.config.dL && (e.l && this.trace("request.bytes:",L.ma,"max request size:",this.config.dL),L.dL=this.config.dL);L.location=w.location;L.Uc=w.zb;L.H$c=w.du;this.SZa(L,{stream:w,Vn:z,n0:L.Vb});x=n.platform.time.ha();e.l && this.trace("calling createRequest with fragment " + JSON.stringify(L) + ", " + L.constructor && L.constructor.name + ", " + JSON.stringify(w));y=this.ue.eP(L,y,w);e.l && this.trace("making mediaRequest:",y.toString(),"branchOffset:",E.de.G,"offset:",L.offset,"bytes:",L.ma,"lastRequestInSequence:",L.ki,"viewableId:",H.J,"frag:",L.qa.G + "-" + L.xa.G,"frag index:",L.index,"stream.frameDuration:",w.Fa,"fragment.movieDataOffset:",L.Wqa,"fragment.profile:",L.profile,"frameCount:",null === (F=this.cn) || void 0 === F?void 0:F.Tz(L,w),"edit:",JSON.stringify(y.na),"editSecondFragment:",K,"editLastButOneFragment:",M,"this.lastFragment.durationMs:",this.nd.Vb.G);if(!y.open()){this.warn("MediaRequest.open error: " + y.dh + " native: " + y.Rg);if(y.aborted)return (e.l && this.trace("makeRequest aborted"),{Lf:!1,reason:"requestAborted"});this.warn("makeRequest caught:",y.dh);H.Mf({Fi:"MediaRequest open failed (1)",wC:"NFErr_MC_StreamingFailure"});return {Lf:!1,reason:"openAseMediaRequest"};}null === (G=this.cn) || void 0 === G?void 0:G.mic(y,L,w);e.l && this.trace("mediaRequest created in",n.platform.time.ha() - x,"ms," + y.toString(),"offset:",L.offset,"bytes:",L.ma);this.ny(y.xa.G,L.e_);e.l && this.trace("makeRequest done, mediaRequest:",y.toString(),"relative:",this.uk,"branchOffset:",E.de.G,"nextFragmentIndex:",this.Vk);return {Lf:!0,reason:"success"};};v.prototype.ny=function(w,x){var y;e.l && this.trace("pipeline.setNextStreamingPts:",this.XI + "->" + w,this.Vk + "->" + x);y=w - this.XI;this.XI=w;this.Vk=x;this.Rva(y);};v.prototype.Rva=function(w){var x,y;this.JV=-Infinity;this.xV="available";y=null === (x=this.Qk) || void 0 === x?void 0:x.Oa;if(!(void 0 === y || this.Vk >= y.length))if(this.sa.axb && this.config.uhc){if((w=this.sa.M.cqa,y=(0,q.S7b)({sa:this.sa,Nwc:w.sPa(),Oa:y,Vk:this.Vk,config:this.config})))(y=this.Sub(y.Yfc,y.Hkc),w=y.vz,this.JV=y.Nv,this.xV=w);}else this.config.g8 && (y={iZa:null !== w && void 0 !== w?w:y.Wf(this.Vk),KLa:this.sa.In(this.mediaType),vUa:this.config.WZ,h0a:this.config.PG},this.JV=this.config.Phc?(0,r.DPa)(r.Bha.HAa,d.__assign(d.__assign({},y),{$ob:this.config.pQc,cpb:this.config.qQc})):(0,r.DPa)(r.Bha.LINEAR,d.__assign(d.__assign({},y),{Z6b:this.config.e1})),this.xV="waitingOnPacedRequest");};return v=d.__decorate([k.oY],v);})(p.rDa);b.Wab=a;(0,g.el)(t.Gy,a);},99548:function(t,b,a){var c,h,f,e,g;function d(k,l){var C,D;for(var m=[],p=0,r=k[p],q=null === r || void 0 === r?void 0:r[0],u=null === r || void 0 === r?void 0:r[1],v=l.nd.index,w=l.track.Nj,x=0,y=l.Pd.qa,z=l.Pd.xa.G > r[0],B=z,A=l.Pd.index;A <= v;++A){C=!1;if(r){D=w.get(A);z && (D.qa.G >= u?(z=!1,++p >= k.length?u=q=r=void 0:(r=k[p],q=null === r || void 0 === r?void 0:r[0],u=null === r || void 0 === r?void 0:r[1])):B?B=!1:(m.push(new h.xha(x,y,D.qa)),y=D.qa,C=!0));!z && r && D.xa.G > q && (z=!0,C=D.qa,(D=l.track.jA.yt(A).tsb(q)) && 0 !== D.Zk && (C=c.I.Ca(D.gd)),m.push(new h.xha(x,y,C)),y=C,C=!0);}C && ++x;}m.push(new h.xha(x,y,l.nd.xa));return m;}function n(k,l,m){var p,r,q,u;(0,e.assert)(k.S && k.aj,"Unexpected normalizeLiveEndTimestamp.");r=k.S.bj;q=null === r || void 0 === r?void 0:r.UX;r="none";if(null === (p=k.Yc) || void 0 === p?0:p.UX)if(q){g && m.trace("PipelineNormalizer.normalizeLiveEndTimestamp setting end timestamp:","manifestEndTime:",q);r="manifest";u=new Date(q).getTime();}else (p=k.aj.endTime,(k=k.aj.VJ)?(r="oc",u=k,g && m.trace("PipelineNormalizer.normalizeLiveEndTimestamp,","eventEndTime:",p,"encoderShutdownTime: ",k,"endTimeMs:",u)):p && (r="oc",g && m.trace("PipelineNormalizer.normalizeLiveEndTimestamp setting end timestamp:","eventEndTime:",p),u=new Date(p).getTime() + l.hAb,g && m.trace("PipelineNormalizer.normalizeLiveEndTimestamp,","eventEndTime:",p,"endTimeMs:",u)));u || (u=Infinity);return {ib:u,source:r};}Object.defineProperties(b,{__esModule:{value:!0}});b.bIb=function(k,l,m){var p,r;p=l.get(f.v.X);r=l.get(f.v.U);l=l.get(f.v.Ba);r=null === r || void 0 === r?void 0:r.track.ZJ(k,m,r.cn);p=null === p || void 0 === p?void 0:p.track.ZJ(k,(null === r || void 0 === r?void 0:r.xa) || m,p.cn);k=null === l || void 0 === l?void 0:l.track.ZJ(k,(null === r || void 0 === r?void 0:r.xa) || (null === p || void 0 === p?void 0:p.xa) || m,l.cn);return [p,r,k];};b.QAc=function(k,l,m){(0,e.assert)(l,"missing pipeline");return l.track.sv(k,m,void 0,!0).qa;};b.hyc=function(k,l,m){var p;if(!l.Cl || 0 === l.Cl.length)return (g && k.trace("markExitZones, no exit zones"),[]);p=l.Cl.map(function(r){return [l.eb + r[0],l.eb + r[1]];});m=d(p,m.Vt);g && k.trace("markExitZones found regions:",m);return m;};b.T7c=d;b.sra=function(k,l,m,p){var r;r=p;p=m.JK?r:c.I.min(r,l);g && k.trace("PipelineNormalizer.normalizeLiveStartTimestamp capping start timestamp to live:",r.da(),"->",p.da());return p;};b.E5c=n;b.dba=function(k,l,m,p){var r,q,u,v;(0,e.assert)(m.S && m.aj,"Unexpected normalizeLiveEndTimestamp.");(0,e.assert)(m.Yc,"Expected live viewable with live position service");r=m.S.bj;q=n(m,l,k);u=q.ib;q=q.source;if(isFinite(u) && ("oc" === q || null === p || void 0 === p || !p.isFinite())){q=m.Yc.nva.G;v=u - q;0 > v && k.error("PipelineNormalizer.normalizeLiveEndTimestamp negative pts. ","liveMetadata:",JSON.stringify(r),"eventEndTime:",m.aj.endTime);(0,e.assert)(0 <= v,"endPts is negative");p=(null === p || void 0 === p?0:p.isFinite())?c.I.min(p,c.I.Ca(v)):c.I.Ca(v);g && k.trace("PipelineNormalizer.normalizeLiveEndTimestamp. ","new contentEndTimestamp:",p.G,"startTimeMs:",q,"endTimeMs:",u);}return l.bT && (l=m.Yc.Mk(!0),l=c.I.Ca(l + 1E4),null === p || void 0 === p?0:p.greaterThan(l))?(k.trace("PipelineNormalizer.normalizeLiveEndTimestamp. ","performing simulated override:",p.G,"startTimeMs:",l,"endTimeMs:",u),c.I.qh):p;};c=a(91176);h=a(79048);f=a(65161);e=a(52571);g=!1;},2415:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.sDa=void 0;d=a(22970);n=a(65161);c=a(52571);h=a(99548);t=(function(){function f(e){var g,k,l,m,p,r,q;g=e.console;k=e.config;l=e.M;m=e.Je;p=e.K;r=e.qa;q=e.xa;e=e.splice;this.yK=this.PW=!1;this.console=g;this.config=k;this.Je=m;this.M=l;this.K=p;this.qa=r;this.xa=q;this.splice=e;this.console.trace("PipelineNormalizer ctor:",this.Je.map(function(u){return u.mediaType;}));}f.prototype.normalize=function(){var e,g;if(this.PW)throw Error("Cannot call normalize() after cleanup");if(this.yK)throw Error("Cannot call init() / normalize() twice");this.yK=!0;(0,c.assert)(this.u4b());e=this.VUa();g=!1;this.K && !this.K.dy && (g=this.WUa());this.Ne();return {Xla:e,nP:g};};f.prototype.OL=function(e,g){(0,c.assert)(this.yK,"expected to be called init() before renormalize");this.K=e;this.xa=g;e=(0,h.bIb)(this.config,this.Je,this.xa);this.WUa();return e;};f.prototype.Ne=function(){this.PW || (this.PW=!0);};f.prototype.u4b=function(){return this.Je.every(function(e){return e.track.eh;});};f.prototype.VUa=function(){var e,g,k,l,m,p,r,q,u,v,w,x;e=this.Je.get(n.v.X);g=this.Je.get(n.v.U);k=this.Je.get(n.v.Ba);l=d.__read(g?this.UUa(g,this.qa,this.xa,this.splice):[!1],3);m=l[0];p=l[1];l=l[2];r=d.__read(e?this.UUa(e,m && void 0 !== (null === p || void 0 === p?void 0:p.qa)?p.qa:this.qa,void 0 !== (null === l || void 0 === l?void 0:l.xa)?l.xa:this.xa,this.splice):[!1],3);q=r[0];u=r[1];r=r[2];v=d.__read(k?this.UUa(k,this.qa,this.xa,this.splice):[!1],3);w=v[0];x=v[1];v=v[2];q && (null === e || void 0 === e?void 0:e.h$(u,r));m && (null === g || void 0 === g?void 0:g.h$(p,l));w && (null === k || void 0 === k?void 0:k.h$(x,v));return m || void 0 === this.Je.get(n.v.U) && q;};f.prototype.UUa=function(e,g,k,l){var m,p;p=null === (m=e.sa.parent) || void 0 === m?void 0:m.Yd(e.mediaType);g=e.Pd || e.track.sv(this.config,g,null === p || void 0 === p?void 0:p.nd,l);k=e.nd || e.track.ZJ(this.config,k,e.cn);return [!e.Kf(),g,k];};f.prototype.WUa=function(){(0,c.assert)(this.K,"missing segment");return this.gqb(this.K.kb);};f.prototype.gqb=function(e){var g;(0,c.assert)(this.K,"missing segment");g=this.Je.Vt;if(void 0 === (0,h.QAc)(this.config,g,e) || void 0 === g.xa)return !1;e=this.config.Aea && "lazy" === this.K.Td?(0,h.hyc)(this.console,this.K,this.Je):[];this.K.DKb(e);return !0;};return f;})();b.sDa=t;},46512:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q;Object.defineProperties(b,{__esModule:{value:!0}});b.rDa=void 0;d=a(22970);n=a(66164);c=a(91176);t=a(81392);h=a(8934);f=a(65161);e=a(65161);g=a(14242);k=a(69575);l=a(52571);m=a(78541);p=a(73861);r=a(64141);q=a(15908);a=(function(u){function v(w,x,y,z,B,A,C,D,F){var G;G=u.call(this,w) || this;G.config=x;G.yu=B;G.Vs=A;G.x0b=C;G.OI=D;G.connected=!1;G.MQa=!1;G.JV=-Infinity;G.xV="available";G.UE=!1;G.qHa=!1;G.qzb=-Infinity;G.iG=new h.Hab(G.mediaType,x,y,G);w="[" + G.mediaType + "]";G.console=(0,k.tf)(n.platform,y,w);G.error=G.console.error.bind(G.console);G.warn=G.console.warn.bind(G.console);G.trace=G.console.trace.bind(G.console);G.XI=C.G;x.cn && (G.cn=new g.Jeb(x.cn,G.console));G.ip=new p.Zbb(G,z,G.config,G.console,G.mediaType);G.sd=F || (0,m.pC)(G.mediaType,G.track.M,G.config,G.console,G.track.Ob,G.ip.Gkc.bind(G.ip),G.ip.Fkc.bind(G.ip),function(){});G.sd.on("created",function(){return G.events.emit("requestQueueCreated");});return G;}d.__extends(v,u);Object.defineProperties(v.prototype,{mediaType:{get:function(){return this.Vs.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{track:{get:function(){return this.Vs;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{sa:{get:function(){return this.yu;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{L:{get:function(){return this.yu.K.id;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{xWa:{get:function(){return ("").concat(this.L,"-").concat((0,f.UG)(this.mediaType));},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ue:{get:function(){return this.Np;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Bd:{get:function(){return this.Vs.Bd;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{SW:{get:function(){return this.Np.SW;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Vta:{get:function(){return this.Np.Vta;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{uk:{get:function(){return this.XI;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ava:{get:function(){return this.Qb || this.AG;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Zj:{get:function(){return this.ue.Zj || this.ava;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{e7:{get:function(){return this.ue.e7;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{QKa:{get:function(){return this.ue.QKa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{szb:{get:function(){var w;w=this.ue.tzb;return null === w || void 0 === w?void 0:w.xa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{vMa:{get:function(){return this.ue.vMa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Pk:{get:function(){return !!this.nd && (this.Vk > this.nd.index || this.XI >= this.nd.xa.G);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{x4b:{get:function(){return this.Pk && 0 === this.ue.CM;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Wj:{get:function(){return this.Pk && 0 === this.Np.yEc;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{nWa:{get:function(){var w;if(this.qHa)return !0;if(!this.Wj)return !1;w=this.EY();return this.qHa || (this.qHa=void 0 === w || w.nWa);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{E4b:{get:function(){return !!this.ue.tzb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{jJ:{get:function(){return this.ue.jJ;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{wy:{get:function(){return this.Lb?c.I.max(this.Lb.ea(this.IH),c.I.ia):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{fY:{get:function(){return this.sa.fY;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{eo:{get:function(){return this.up.dk(this.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{K1a:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Tdc:{get:function(){return this.ue.Oa.Vb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Qk:{get:function(){return this.eo.Qk;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Nv:{get:function(){return this.JV;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{vz:{get:function(){return this.xV;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{P:{get:function(){var w,x;return null !== (x=null === (w=this.Pd) || void 0 === w?void 0:w.P) && void 0 !== x?x:1;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{tb:{get:function(){var w;return null === (w=this.Pd) || void 0 === w?void 0:w.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ib:{get:function(){var w;return null === (w=this.nd) || void 0 === w?void 0:w.Ib;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{op:{get:function(){return this.sa.de.Vc(this.P).aa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{PQa:{get:function(){return this.ue.PQa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qy:{get:function(){return this.ue.qy;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{C_a:{get:function(){return this.ue.C_a;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{AG:{get:function(){return this.x0b.add(this.sa.de);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{mtc:{get:function(){return n.platform.time.now() - this.qzb < this.config.sca;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{up:{get:function(){return this.sa.D9(this.mediaType);},enumerable:!1,configurable:!0}});v.prototype.GT=function(){this.ue.GT();};v.prototype.VV=function(){var w;w=this;this.Np.VV(function(x){var y,z;z=x[0];x=null === (y=z.qa) || void 0 === y?void 0:y.G;y=z.index;y < w.Vk && w.ny(x,y);});};v.prototype.reset=function(){this.ue.reset();this.Pd && this.ny(this.Pd.qa.G,this.Pd.index);this.sd && this.sa.M.UV(this.mediaType,this.sd);};v.prototype.toJSON=function(){return {started:this.qy,startOfSequence:this.C_a,segmentId:this.L,requestedBufferLevel:this.Vta,viewableId:this.yu.M.J,hasFragments:this.PQa};};v.prototype.Ap=function(w){return this.ue.Ap(w);};v.prototype.ny=function(w,x){this.XI=w;this.Vk=x;this.Rva();};v.prototype.kK=function(){return this.ue.kK();};v.prototype.EY=function(){return this.sa.Xub(this.mediaType);};v.prototype.UW=function(w){return (w=this.ue.Xjc(w.G))?w.complete:!1;};Object.defineProperties(v.prototype,{Tg:{get:function(){return this.yu.Tg;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{IH:{get:function(){var w,x;return this.ue.IH || (null === (x=null === (w=this.Pd) || void 0 === w?void 0:w.qa) || void 0 === x?void 0:x.add(this.sa.de)) || this.AG;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{P_a:{get:function(){return c.I.Ca(this.XI);},enumerable:!1,configurable:!0}});v.prototype.Ytb=function(){};v.prototype.qB=function(w){(0,l.assert)(!this.UE,"pipeline.tryIssueRequest on disabled pipeline");(0,l.assert)(!this.Vo(),"pipeline.tryIssueRequest on done pipeline");(0,l.assert)(!this.Pk);if(!w.eh)return (w=w.qB(this.sa.K,this.sd))?{Lf:w,reason:"success"}:{Lf:w,reason:"pipelineTryIssueHeaderRequest"};};v.prototype.SZa=function(w,x){var y,z,B,A,C;y=x.stream;z=x.Vn;x=x.n0;B=this.yu;A=this.mediaType;C=B.M.O0;C && "OPEN_CONNECT_APPLIANCE" === y.my && (y=this.config.Lhc && this.mediaType === e.v.U && this.config.gs,w.GS=this.config.qma || A === e.v.X && this.config.oma || A === e.v.U && this.config.SJ?z:void 0,w.PD=C.cv({QO:B.In(this.mediaType),ora:this.config.Dhc?this.config.ora:void 0,F0a:String(n.platform.time.ha()),AEb:z,DJa:y?{start:w.offset,size:w.ma}:void 0,DFb:x.G}));};v.prototype.h$=function(w,x){w && (this.Pd=w);x && (this.nd=x);(0,l.assert)(this.Pd);(0,l.assert)(this.nd);(0,l.assert)(void 0 === this.Vk);this.ny(this.Pd.qa.G,this.Pd.index);};v.prototype.truncate=function(w){var x,y;x=this;(0,l.assert)(this.Pd,"expected first fragment to exist on updateStreaming");if(this.Vo() && (null === (y=this.nd) || void 0 === y?0:y.cC) || this.nd && w.index > this.nd.index)return !1;this.nd=w;if(!this.Pk)return !0;w=this.Np.I2b(w);if(!w)return !1;this.ny(w[0],w[1]);this.Pk && (this.ue.dKb(),this.ue.zmb(),Promise.resolve().then(function(){x.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:x.mediaType});}));return !0;};v.prototype.Ex=function(){return this.Vo()?!1:this.Kf()?!0:this.track.Vaa;};v.prototype.Kf=function(){return void 0 !== this.Pd && void 0 !== this.nd;};v.prototype.Vo=function(){return this.UE || this.x4b;};v.prototype.pSa=function(){var w,x,y;y=this.config.gs;if(null === (w=this.sd) || void 0 === w?0:w.track)y=null === (x=this.sd) || void 0 === x?void 0:x.track.gs;return y;};Object.defineProperties(v.prototype,{dXa:{get:function(){var w;w=!0;this.config.Aca && (w=this.connected);this.config.zca && (w=w && this.MQa);return w;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{tEb:{get:function(){return void 0 !== this.cn;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{jsa:{get:function(){var w;return (null === (w=this.cn) || void 0 === w?0:w.Cz())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});v.prototype.Un=function(w,x){this.ip.cBc(w);"oncomplete" === this.config.mxb && (this.MQa=!0);this.XP(w,x);};v.prototype.LR=function(w){var x,y;w.Xe || (this.ip.mDb(w.stream,null === (x=w.Qb) || void 0 === x?void 0:x.G,null === (y=w.qa) || void 0 === y?void 0:y.G),this.$J || (this.$J=!0,this.events.emit("firstRequestIssued",{type:"firstRequestIssued",mediaType:this.mediaType})));this.ip.$Ac(this.L,w.stream,w.Xe);this.dna(w);};v.prototype.qL=function(w){this.connected=!0;"onfirstbyte" === this.config.mxb && (this.MQa=!0);this.I8(w);};v.prototype.fub=function(w){var x,y;x=this.ue.Oa;if(0 === x.length)return {Oa:[],ysa:0,Tv:0,i0:0};y=x.x8(w.G);0 > y && (y=void 0 === x.Qb || w.G <= x.Qb.G?0:x.length);return {Oa:x.ILc(y),ysa:Math.max(0,x.Bnb - y),Tv:x.Tv,i0:x.i0};};v.prototype.G2b=function(w,x,y){var z,B,A,C,G,E,H,J,L;if(!this.mtc){A=this.ue.Coc();Array.prototype.sort.call(A,function(M,P){return M.index - P.index;});(0,f.UG)(this.mediaType);C=x / A.length;x=[];try{for(var D=d.__values(A),F=D.next();!F.done;F=D.next()){G=F.value;E=G.bitrate;H=G.Vb;J=G.cC;L=8 * ((G.ma || H.G * E / 8) - G.bytesReceived);if(void 0 !== G.Ta.qa)if(0 < x.length)x.push(G);else if(Math.ceil(L / C) + (G.active?0:y) > w){if(J)return;x.push(G);}}}catch(M){var K;K={error:M};}finally{try{F && !F.done && (z=D.return) && z.call(D);}finally{if(K)throw K.error;}}0 !== x.length && (w=d.__read(x,1)[0],this.ue.H2b(x),this.ny(null === (B=w.Ta.qa) || void 0 === B?void 0:B.G,w.index),this.qzb=n.platform.time.now());}};v.prototype.ymb=function(){this.Pk && (this.ue.dKb(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};v.prototype.Rva=function(){this.JV=-Infinity;this.xV="available";};v.prototype.Sub=function(w,x){var y,z,B,A,C,D;A=this.track.M.cqa;(0,l.assert)(void 0 !== A,"Trying to get a live availability time without a live playback");C=A.Yc;A=A.kh;D=C.Mk(!0);C=C.tPa(!0);return w <= D?this.config.JX?(w=this.sa.aoa(),C=null !== (y=this.config.Uk) && void 0 !== y?y:0,y=this.sa.In(this.mediaType),x=(0,q.DPa)(q.Bha.HAa,{h0a:w,vUa:C,KLa:y,iZa:x,$ob:null !== (z=this.config.CZ) && void 0 !== z?z:0,cpb:null !== (B=this.config.DZ) && void 0 !== B?B:1}),{Nv:x,vz:"waitingOnPacedRequest"}):{Nv:-Infinity,vz:"available"}:(x=(0,r.R7b)({kh:A,GAc:w,Axc:C.G}),{Nv:x,vz:"waitingOnLiveAvailability"});};return v;})(t.UM);b.rDa=a;},99021:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q;Object.defineProperties(b,{__esModule:{value:!0}});b.tEa=void 0;d=a(22970);n=d.__importStar(a(17267));c=a(91176);h=a(47743);f=a(21306);t=a(81392);e=a(65161);g=a(52571);k=a(89645);l=a(40666);m=a(97757);p=a(27977);r=a(3033);q=a(58418);a=(function(u){function v(w,x,y,z,B,A,C,D){var F;F=u.call(this,w) || this;F.config=x;F.console=y;F.ip=z;F.yu=B;F.mediaType=A;F.Pna=D;F.sd=new k.cI(F.console);F.error=F.console.error.bind(F.console);F.warn=F.console.warn.bind(F.console);F.trace=F.console.trace.bind(F.console);F.yIb();F.Kl=null === C || void 0 === C?void 0:C.Br(function(){return F.RJc();},"pruner");return F;}d.__extends(v,u);Object.defineProperties(v.prototype,{sa:{get:function(){return this.yu;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qy:{get:function(){return 0 < this.oYa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{C_a:{get:function(){return !this.C8;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{oYa:{get:function(){return this.nb.length;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{CM:{get:function(){return this.nb.CM;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{GO:{get:function(){return this.sd.BG;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Zj:{get:function(){return this.nb.complete.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{e7:{get:function(){return this.nb.ynb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{QKa:{get:function(){return this.nb.z$b;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{IH:{get:function(){return this.nb.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Vta:{get:function(){return void 0 === this.nb.Qb?0:this.nb.Lb.G - this.nb.Qb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{SW:{get:function(){return {ma:this.nb.fla,G:this.nb.empty?0:Math.max(this.nb.ynb - this.nb.Qb.G,0)};},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{fla:{get:function(){return this.nb.fla;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{jJ:{get:function(){return this.nb.ma;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{yEc:{get:function(){return this.Hoc();},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{PQa:{get:function(){return this.nb.length > this.nb.CM;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{jm:{get:function(){return this.nb.jm;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{tzb:{get:function(){return this.VGa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{vMa:{get:function(){return void 0 !== this.VGa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Oa:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});v.prototype.mg=function(w){var y,z,B;function x(){var A;A=B.map(function(C){return C;});y.ip.Cra(A);B.forEach(function(C){C.abort();C.Ne();});}y=this;B=this.nb;w?setTimeout(x,1):x();this.yIb();this.sd.HP();null === (z=this.Kl) || void 0 === z?void 0:z.Ka();};v.prototype.reset=function(){this.mg();this.sd.wIb();};v.prototype.close=function(){this.sd.HP();};v.prototype.dKb=function(){this.ekb=!0;};v.prototype.qvb=function(){return {endMarked:void 0 !== this.sd.count,queueCount:this.sd.count,isComplete:this.sd.BG,itemCount:this.sd.znb,continuousEndPts:this.sd.hj().reduce(function(w,x){return x && !x.done && (x=x.value,100 > Math.abs(x.zC.G - w) || -1 === w)?x.lY.G:w;},-1),sentinelItemCount:this.sd.hj().filter(function(w){return w && w.done;}).length,processedCount:this.sd.bfc,rc:this.oYa};};v.prototype.jmc=function(){return {completedRequests:this.nb.kmc()};};v.prototype.eP=function(w,x,y){var z;z=this.config;(0,g.assert)(!w.header);w=h.mxa.create(y,z,x.track,w,this.nb,this.sa.K,this.console,this.Pna);this.nb.length && this.nb.xa && !w.qa.equal(this.nb.xa) && w.vOb(this.nb.xa);this.Tw(w);return w;};v.prototype.Tw=function(w){var x,y;this.nb.Gt(w);(null === (x=this.Kl) || void 0 === x?void 0:x.state) === l.bm.complete && (null === (y=this.Kl) || void 0 === y?void 0:y.Tc());this.b9b();w.ki && (this.C8=!1);};v.prototype.kK=function(){return this.sd.nna();};v.prototype.zmb=function(){this.hD === this.nb.length && this.ekb && this.sd.HP();};v.prototype.GT=function(){var w,x,y,z;w=this;z=Promise.resolve();if(!this.yu.cZ(this.mediaType) || this.hD === this.nb.length)return z;for(var B=this.config.Byc,A=0,C=[];this.hD < this.nb.length;){if(y=this.nb.get(this.hD)){if(y.eD){if(this.config.BP)C.push.apply(C,this.pHc(y));else break;}else {if(this.nb.Isb && this.nb.Isb.tb < y.tb)break;if(!y.xx())break;C.push(y);}++A;n.pc(this.JWa) || (this.JWa=null === (x=y.Qb) || void 0 === x?void 0:x.G);}++this.hD;if(!n.Gx(B) && A >= B)break;}C.length && (void 0 !== this.sd.count && (this.error("tryToAtach() but requestQueue has sentinel:",this.sd.count),this.sd.wIb()),z=Promise.all(C.map(function(D){return w.sd.enqueue(D).then(function(){return w.Jqc(D);});})),this.zmb());return z;};v.prototype.Jqc=function(w){this.VGa=w;};v.prototype.VV=function(w){var x,y,z;x=this;y=[];if(0 !== this.nb.CM){z=this.nb.aFb;this.nb.jOb.x_a(function(B){var A;if(B.ki || z > (null === (A=B.Qb) || void 0 === A?void 0:A.G))return !0;B.Hn && (x.C8=!1);if(!x.AO(B))return (x.warn("request abort failed:",B.toString()),!0);y.unshift(B);});this.Wba();y.length && "function" === typeof w && w(y);}};v.prototype.QJc=function(w){w.eD=!0;w.abort();this.nb.XCc();this.GT();};v.prototype.RJc=function(){var w,x,y,z,B,A;return d.__generator(this,function(C){switch(C.label){case 0:C.label=1;case 1:if(!this.nb.length)return [3,3];w=this.nb.get(0);x=c.I.Ca(null !== (A=null === (B=this.config.eB) || void 0 === B?void 0:B.G) && void 0 !== A?A:0);y=x.add(w.Lb);return [4,l.Vd.Rl(y)];case 2:C.T();if(1 >= this.nb.complete.length && !w.ki)return [3,3];(0,g.assert)(w === this.nb.get(0));w.cC || this.AO(w);z=this.nb.splice(0,1);0 < this.hD && this.hD--;this.ip.Cra(z);z=void 0;return [3,1];case 3:return [2];}});};v.prototype.Xjc=function(w){if(this.nb.length && (w=this.nb.isb(w)))return w;};v.prototype.I2b=function(w){var x,y,z,B,A,C,D;C=w.xa;w=this.nb.ONa(w.qa.G);if(!(0 > w)){D=this.nb.get(w);(0,g.assert)(D && void 0 !== (null === (x=D.qa) || void 0 === x?void 0:x.G) && void 0 !== (null === (y=D.xa) || void 0 === y?void 0:y.G) && void 0 !== D.index,"expected existing request to be defined with properties");if(null === (z=D.xa) || void 0 === z?0:z.equal(C))return (this.$ib(w),[null === (B=D.xa) || void 0 === B?void 0:B.G,D.index + 1]);this.$ib(w - 1);return [null === (A=D.qa) || void 0 === A?void 0:A.G,D.index];}};v.prototype.Ap=function(w){var x,y;x=this;y=[];this.nb.forEach(function(z){var B,A;A=null === (B=z.r1a) || void 0 === B?void 0:B.call(z,w);1 === A?y.push(z):2 === A && x.sa.M.Mf({Fi:"swapUrl failure"});});return y;};v.prototype.qL=function(w){w.lA && w.xx() && !this.config.DP && this.GT();this.I8(w);};v.prototype.mD=function(w,x){var y,z;if(this.config.DP && w.xx() && !w.cC){y=w.stream;z=y.track;y=y.bitrate;z=(0,q.Ivb)({y7b:w.ma,Dxc:z.Bd[0].bitrate,Udc:y,vzc:this.config.lva,MJc:w.Vb.Ji,za:this.sa.M.Ob});w.bytesReceived >= z && this.GT();}this.kY(w,x);};v.prototype.Un=function(w,x){var y,z;w.lA && !w.cC && this.GT();(null === (y=this.Kl) || void 0 === y?void 0:y.state) === l.bm.complete && (null === (z=this.Kl) || void 0 === z?void 0:z.Tc());this.XP(w,x);};v.prototype.Coc=function(){return this.nb.active.concat(this.nb.jOb);};v.prototype.H2b=function(w){var x,y,z;x=this;y=!1;z=-1;w.map(function(B){(0,g.assert)(-1 === z || B.index === z + 1,"requests to abort must be contiguous");z=B.index;if(!x.AO(B))return !1;y=!0;x.sd.remove(B);B.Ne();return !0;});y && this.Wba();};v.prototype.Hoc=function(){return this.nb.jm + this.nb.CM;};v.prototype.yIb=function(){var w,x,y;x=void 0 !== this.nb && 0 < this.nb.length;y=this.nb;this.nb=new f.l3a(this.console,this);this.hD=0;this.sd.clear();this.VGa=void 0;this.JWa=null;null === (w=this.Kl) || void 0 === w?void 0:w.Tc();this.ekb=this.C8=!1;x && (w=y.map(function(z){return z;}),this.ip.Cra(w));};v.prototype.b9b=function(){this.C8 || (this.C8=!0);};v.prototype.$ib=function(w){var x;for(w+=1;w < this.oYa;w++){x=this.nb.get(w);(0,g.assert)(x,"expected request to exist");this.sd.remove(x);x.aborted || (this.AO(x),x.Ne());}this.Wba();};v.prototype.AO=function(w){return w.abort()?!0:!1;};v.prototype.Wba=function(){var w,x,y,z;w=this;if(0 !== this.nb.length){y=[];z=0;this.nb.Wba(function(B,A){A < w.hD && ++z;y.push(B);});this.hD-=z;null === (x=this.Kl) || void 0 === x?void 0:x.Tc();this.ip.Cra(y);}};v.prototype.pHc=function(w){switch(this.mediaType){case e.v.X:return this.qHc(w);case e.v.U:return this.sHc(w);case e.v.Ba:return this.rHc(w);case e.v.pn:return (this.console.error("providePaddingFragments not implemented for MEDIA_EVENTS"),[]);}};v.prototype.qHc=function(w){return r.cN.instance().zda.LGb(this.sa.M,w.stream.te,(0,p.Itb)(w.stream.profile),w.stream.bitrate,w.stream.track.Qt,w.Vb,this.sa.K,function(x,y){return w.Qb.add(y).Vc(x).aa;},this.config,this.console);};v.prototype.sHc=function(w){var x,y,z;z=null === (x=w.stream.track.Fa) || void 0 === x?void 0:x.SXa();(0,g.assert)(z,"Video streams must have a frame rate");return r.cN.instance().zda.MGb(this.sa.M,"padding",w.stream.profile,z,null === (y=w.stream.track.Zn) || void 0 === y?void 0:y.dC,w.stream.track.Qt,w.Vb,this.sa.K,function(B,A){return w.Qb.add(A).Vc(B).aa;},this.console).Oa;};v.prototype.rHc=function(w){w.wta(r.cN.instance().zda.uHc(),!0);return [w];};return v=d.__decorate([m.oY],v);})(t.UM);b.tEa=a;},64141:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.R7b=function(n){var c,h,f;c=n.kh;h=n.GAc;f=n.Axc;n=n.I8c;n=void 0 === n?d.platform.time.ha():n;return h + f - (c - n);};d=a(66164);},75100:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.S7b=function(a){var d,n,c,h,f;d=a.sa;n=a.Nwc;c=a.Oa;h=a.Vk;a=a.config;if(void 0 !== d.VK){f=c.Cs(h) - d.qa.G;c=c.Wf(h);return {Yfc:d.Qb.G + (f + Math.min(c,n.G)) / a.Cwc - d.VK.G,Hkc:c};}};},99614:function(t,b){var a,d;Object.defineProperties(b,{__esModule:{value:!0}});b.g8b=function(n){var c,h,f;c=n.iZa;h=n.KLa;f=n.cpb;return h < n.vUa?Infinity:h >= n.h0a?1E3 / c:1E3 * (d / Math.pow(h / (n.$ob / (Math.pow(2,1 / f) - a)) + a,f) + 1) / c;};b.f8b=function(n){var c,h;c=n.iZa;h=n.KLa;return h < n.vUa?Infinity:h > n.h0a?1E3 / c:1E3 * (n.Z6b + 1) / c;};a=.001;d=9;},15908:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Bha=void 0;b.DPa=function(f,e,g){void 0 === g && (g=n.platform.time.ha());f=1E3 / (0,h[f])(e);return g + f;};n=a(66164);t=a(99614);(function(f){f[f.HAa=0]="LOGARITHMIC";f[f.LINEAR=1]="LINEAR";})(c || (b.Bha=c={}));h=(d={},d[c.HAa]=t.g8b,d[c.LINEAR]=t.f8b,d);},58418:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ivb=void 0;b.Ivb=function(a){var d,n,c,h,f;d=a.MJc;n=a.y7b;c=a.Dxc;h=a.D4c;f=c / a.Udc;return Math.min(n * a.vzc,n - (a.za?d * c * 1E3 / 8:n * f)) - (void 0 === h?150:h) / 1E3 * (n / d);};},95407:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.IB=void 0;d=a(22970);n=a(91176);t=(function(c){function h(f,e){f=c.call(this,f) || this;f.Mz=e;f.name="PlaybackError";return f;}d.__extends(h,c);h.hqc=function(f){var e,g,k;if(h.qSa(f))return null !== (g=null === (e=f.Mz.context) || void 0 === e?void 0:e.type) && void 0 !== g?g:null === (k=f.Mz.context) || void 0 === k?void 0:k.type;};h.e9=function(f){var e,g,k,l,m;if(h.qSa(f))return (f=null !== (g=null === (e=f.Mz.context) || void 0 === e?void 0:e.error) && void 0 !== g?g:null === (k=f.Mz.context) || void 0 === k?void 0:k.error,null !== (m=null !== (l=null === f || void 0 === f?void 0:f.edgeCode) && void 0 !== l?l:null === f || void 0 === f?void 0:f.code) && void 0 !== m?m:null === f || void 0 === f?void 0:f.code);};h.qSa=function(f){return f && f.message && f.stack && f.Mz?"PlaybackError" === (null === f || void 0 === f?void 0:f.name):!1;};h.prototype.cK=function(){return {name:this.name,message:this.message,stack:this.stack,errorInformation:{category:this.Mz.sm,subCategory:this.Mz.pva,errorCode:this.Mz.errorCode,context:n.vU.cK(this.Mz.context)}};};return h;})(Error);b.IB=t;},34434:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y;Object.defineProperties(b,{__esModule:{value:!0}});b.sxa=void 0;d=a(22970);n=a(90745);c=a(91176);h=a(91176);a(97685);a(26388);f=a(69575);e=a(52571);g=a(65161);k=a(40666);t=a(75393);l=a(26012);m=a(97757);p=d.__importDefault(a(40497));d.__importDefault(a(40497));r=a(62234);q=a(74371);u=a(74504);v=a(82867);w=a(90111);x=a(85030);y=t.qD.aMa;a=(function(z){function B(A,C,D){var F;F=z.call(this) || this;F.player=A;F.Qhb=C;F.s5=D;F.W7=[];F.c$b=void 0;F.Ee=void 0;F.q8=new n.af();F.P$=void 0;F.AL=void 0;F.VIc=null;F.q8.on(F.player,"underflow",F.Wk.bind(F));F.V4=new w.ucb(A);F.q8.on(F.player,"skipped",F.GVa.bind(F));F.q8.on(F.player,"playbackEnding",F.AVa.bind(F));F.q8.on(F.player,"paused",F.wCc.bind(F));F.OI=new k.DI(F.V4,F.qb,"player");F.$1a=new f.Lg();A.mt && A.Tc && (F.aB=new x.geb(F,A,F.qb));F.lS=new r.Zcb({uca:function(G){return "function" === typeof A.uca?A.uca(G):{Uf:"APPROVED"};},Nnc:function(){var G,E;return null !== (E=null === (G=F.Ee) || void 0 === G?void 0:G.la.id) && void 0 !== E?E:-1;},mc:F.Zc},F.s5);F.s5.bNa && F.Zc.qla(function(){return F.ECc();},c.I.Ca(500));F.ZR=(0,q.zob)({Cxc:Math.min(D.Hsa,D.Uk - 2500),Ndc:D.Gsa,AC:function(){return F.Xd;},Joc:function(){var G,E,H,J,L,P,Q;L=(null === (J=F.Ee) || void 0 === J?void 0:J.hq()) || [];J=[];try{for(var K=d.__values(L),M=K.next();!M.done;M=K.next()){P=M.value;try{for(var I=(E=void 0,d.__values([g.v.X,g.v.U,g.v.Ba])),O=I.next();!O.done;O=I.next()){Q=P.Yd(O.value);Q && J.push(Q);}}catch(U){E={error:U};}finally{try{O && !O.done && (H=I.return) && H.call(I);}finally{if(E)throw E.error;}}}}catch(U){var S;S={error:U};}finally{try{M && !M.done && (G=K.return) && G.call(K);}finally{if(S)throw S.error;}}return J;},mc:F.Zc,console:F.qb,Szc:500});F.r_=F.r_.bind(F);F.Vra=F.Vra.bind(F);F.ZR.addListener("healthChange",F.Vra);F.player.addListener("playing",F.r_);return F;}d.__extends(B,z);Object.defineProperties(B.prototype,{qk:{get:function(){return this.player.qk;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{uh:{get:function(){return this.Qhb;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{sourceBuffers:{get:function(){var A;return (null === (A=this.Ee) || void 0 === A?void 0:A.qj) || [];},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{zp:{get:function(){var A;return null === (A=this.Ee) || void 0 === A?void 0:A.zp;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Xv:{get:function(){var A;return (null === (A=this.Ee) || void 0 === A?void 0:A.Xv) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{Ya:{get:function(){var A;return (null === (A=this.Ee) || void 0 === A?void 0:A.hq()) || [];},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{la:{get:function(){var A;return null === (A=this.Ee) || void 0 === A?void 0:A.la;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{La:{get:function(){return this.V4;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{xkb:{get:function(){var A,C;return !!((null === (A=this.Ee) || void 0 === A?0:A.aT) && (null === (C=this.Jm) || void 0 === C?0:C.Wj));},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{aT:{get:function(){var A,C;return null !== (C=null === (A=this.Ee) || void 0 === A?void 0:A.aT) && void 0 !== C?C:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{rZ:{get:function(){return this.GV;},enumerable:!1,configurable:!0}});B.prototype.AVa=function(A){var C;if(this.Qd){A=this.Qm(A.gd || this.player.yd,!0);(0,e.assert)(A,"Playback ending at position outside playgraph");C=this.Zz(A);(0,e.assert)(C,"Playback ending at clamped position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:C,position:A});}else this.console.warn(("Unexpected playback ending event at ").concat(A.gd));};B.prototype.mKb=function(A){-1 === this.W7.indexOf(A) && this.W7.push(A);this.Ee && this.Ee.n_(A);this.events.emit("drmReady",{viewableId:A});};B.prototype.lKb=function(A){A=this.W7.indexOf(A);-1 !== A && this.W7.splice(A,1);};B.prototype.r$=function(A){var C;return -1 !== this.W7.indexOf(A) || !(null === (C=(0,h.ic)(this.Ya,function(D){return D.Hm && D.M.J === A;})) || void 0 === C || !C.M.lC);};B.prototype.gM=function(A){var C;null === (C=this.Ee) || void 0 === C?void 0:C.gM(A);};B.prototype.vea=function(A){var C;null === (C=this.Ee) || void 0 === C?void 0:C.vea(A);this.Qhb=A;};B.prototype.reset=function(){var A,C;this.$1a=new f.Lg();z.prototype.reset.call(this);this.AL=void 0;null === (A=this.Ee) || void 0 === A?void 0:A.reset();null === (C=this.aB) || void 0 === C?void 0:C.reset();};B.prototype.zYa=function(A){this.r0([A]);};B.prototype.r0=function(A){var C,D;C=this;A.forEach(function(F){var G;z.prototype.zYa.call(C,F);null === (G=C.aB) || void 0 === G?void 0:G.gKc(F);});null === (D=this.Ee) || void 0 === D?void 0:D.r0(A);};B.prototype.zJ=function(){var A;null === (A=this.Ee) || void 0 === A?void 0:A.zJ();};B.prototype.pause=function(A){this.jT(A);z.prototype.pause.call(this,A || this.uh);};B.prototype.resume=function(A){var C;null === (C=this.Ee) || void 0 === C?void 0:C.resume(A);z.prototype.resume.call(this,A || this.uh);};B.prototype.Ka=function(){var A;this.ZR.removeListener("healthChange",this.Vra);this.player.removeListener("playing",this.r_);this.P$=this.toa()?this.At():void 0;this.Ee && this.oMa(this.Ee.la);this.V4.Ka();this.OI.Ka();this.q8.clear();null === (A=this.aB) || void 0 === A?void 0:A.Ka();z.prototype.Ka.call(this);this.ZR.stop();clearInterval(this.VIc);};B.prototype.AC=function(){var A,C;if(null === (A=this.Ee) || void 0 === A?0:A.EGc){A=this.player.yd;if(this.La.Zi){if(this.AL){if(this.AL.greaterThan(A))return (A=this.AL.ea(A),this.$1a.push(A.G),this.AL);if(this.Ya.length){C=this.Ee.Lvc;if(C && C.lessThan(A))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Kc:{clockdrift:{type:"count"}}}),this.AL);}}this.AL=A;}return A;}return z.prototype.AC.call(this);};B.prototype.FY=function(){var A;A=this.player.playbackRate;void 0 === A && (A=z.prototype.FY.call(this));return A;};B.prototype.toa=function(){return !!this.P$ || z.prototype.toa.call(this);};B.prototype.At=function(){return this.P$?this.P$:z.prototype.At.call(this);};B.prototype.hK=function(){var A,C,D,F;F=null === (A=this.Ee) || void 0 === A?void 0:A.Dzb;if(null === (C=this.Ee) || void 0 === C || !C.la || F && (null === (D=this.la) || void 0 === D?0:D.Z.ba[F.K.id]))return F;};B.prototype.oMa=function(A){var C,D;(0,e.assert)(A === this.la);null === (C=this.Ee) || void 0 === C?void 0:C.Ka();this.Ee=void 0;null === (D=this.la) || void 0 === D?void 0:D.events.removeListener("seeking",this.ZR.Xra);this.lS.reset();};B.prototype.ika=function(A,C){var D,F,G,E;this.P$=void 0;G=z.prototype.ika.call(this,A,C);if(G){E=new u.F3a(A,this,this.qb,A.config,this.s5,this.events,this.uh,this.OI,this.aB,this.iO,this.dO,this.$gb,null === C || void 0 === C?void 0:C.zp,null === C || void 0 === C?void 0:C.Xv);null === C || void 0 === C?void 0:C.y_();this.Ee=E;this.jT(this.J_);this.aB && (C=A.Ye.kpc(l.LEa),C || (C=new l.LEa(),A.Xc(C)),this.aB.RIc(C));null === (F=null === (D=this.la) || void 0 === D?void 0:D.events) || void 0 === F?void 0:F.addListener("seeking",this.ZR.Xra);}return G;};B.prototype.y_=function(){var A,C;null === (A=this.Ee) || void 0 === A?void 0:A.y_();null === (C=this.c$b) || void 0 === C?void 0:C.Ka();};B.prototype.QX=function(){var D;for(var A=[],C=0;C < arguments.length;C++)A[C]=arguments[C];D=this.Ee;(0,e.assert)(D);A.forEach(function(F){return D.jic(F);});z.prototype.QX.apply(this,d.__spreadArray([],d.__read(A),!1));};B.prototype.mda=function(){var A;null === (A=this.Ee) || void 0 === A?void 0:A.mda();};B.prototype.UOc=function(A,C,D){var F;null === (F=this.la) || void 0 === F?void 0:F.L0a(A.to,A.from,C,D,!0);};B.prototype.Ik=function(A){var C,D,F,G;if(!this.Ee)return !1;F=this.S8(A);if(!F)return !1;G=c.I.ia;F === this.Jm && !F.K.j1 && (1 < F.K.RD || null !== (D=null === (C=F.K.Cl) || void 0 === C?void 0:C.length) && void 0 !== D && D) && (G=c.I.Ca(this.s5.Raa));return F.Lb.ea(G).lessThan(A) || !F.UW(A)?!1:this.Ee.Ik(A);};B.prototype.gda=function(A){this.lS.gda(A);};B.prototype.OOa=function(){var A,C;return null !== (C=null === (A=this.la) || void 0 === A?void 0:A.Aub()) && void 0 !== C?C:Infinity;};B.prototype.Wk=function(){var A,C,D;if(null === (A=this.la) || void 0 === A?0:A.Pn)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {D=this.Xd;(0,e.assert)(this.la);A=this.Qm(D,!0);(0,e.assert)(A);null === (C=this.Ee) || void 0 === C?void 0:C.Wk(A);C=this.S8(D);null === C || void 0 === C?void 0:C.M.Wk();this.la.Wk(A);this.lS.lYa();}};B.prototype.GVa=function(A){this.AL=void 0;this.gmb(A);};B.prototype.wCc=function(A){this.lS.Eua(!1);this.gmb(A);};B.prototype.gmb=function(A){var C,D;C=this;if(this.Ya.length && null !== A && void 0 !== A && A.gd){A=A.uGb || A.gd;D=this.GV={Yn:A,position:this.Qm(A,!0)};this.Zc.pt(k.Vd.Cy(c.I.Ca(1E3)),function(){C.GV === D && (C.GV=void 0);},"cleanupLastPositionPriorToSkip");}};B.prototype.DOa=function(){var A;return null === (A=this.Ee) || void 0 === A?void 0:A.DOa();};B.prototype.yba=function(A){this.Ee?this.Ee.yba(A):z.prototype.yba.call(this,A);};B.prototype.jT=function(A){var C;null === (C=this.Ee) || void 0 === C?void 0:C.jT(A);};B.prototype.N0a=function(A){(0,e.assert)(this.la && this.Ee);return z.prototype.N0a.call(this,A);};B.prototype.sta=function(){(0,e.assert)(this.Ee);this.Ee.sta();};B.prototype.r_=function(){this.s5.DP && !this.ZR.On && this.ZR.start();this.lS.Hua(this.OOa());this.lS.Eua(!0);};B.prototype.ECc=function(){var A,C;A=this.la;(0,e.assert)(A,"expected playgraph while time updating");C=this.OOa();A.Bub();this.lS.Hua(C);};B.prototype.Vra=function(A){var C;C=A.vfc;A.Mrc === q.Ybb.P3 && C && this.mCc(A);};B.prototype.mCc=function(A){d.__awaiter(this,arguments,void 0,function(C){var D,F,G,E,H,J;H=C.bIc;J=C.Yf;return d.__generator(this,function(L){switch(L.label){case 0:return [4,p.default.instance().fKc()];case 1:D=L.T();if(!D)return [2];F=D.OCb;G=D.CIb;E=Math.max(0,H - 500);J.G2b(E,F,G);return [2];}});});};d.__decorate([y.return.FJa(),y.return.Gq],B.prototype,"At",null);d.__decorate([y.return.FJa(),y.return.iD],B.prototype,"hK",null);return B=d.__decorate([m.oY],B);})(v.LDa);b.sxa=a;},74504:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y;Object.defineProperties(b,{__esModule:{value:!0}});b.F3a=void 0;d=a(22970);n=a(90745);c=a(91176);h=a(91176);f=a(66164);e=a(79048);g=a(74418);k=a(62614);l=a(89645);m=a(65161);p=a(78647);r=a(69575);q=a(40666);u=a(52571);v=a(67181);w=a(95324);x=a(16290);y=a(89527);t=(function(){function z(B,A,C,D,F,G,E,H,J,L,K,M,P,I){var O;O=this;this.la=B;this.player=A;this.console=C;this.config=D;this.Vv=F;this.events=G;this.uh=E;this.Zc=H;this.aB=J;this.cp=L;this.UQ=K;this.Zj=M;this.u5=I;this.Bka=!1;this.Csb=new r.web();this.iHa=this.jVa.bind(this);this.lHa=this.ICc.bind(this);this.kHa=this.jCc.bind(this);this.zz=new l.cI(this.console);this.L5=P || new x.vFa(this.console,B);this.gHa=E.some(function(Q){return !(null === I || void 0 === I || !I.get(Q));});this.edc();this.qj && (this.DGc=this.mna(this.Xoc()),this.bhb());this.Kl=H.Br(function(){return O.P6b();},"branchPruner");this.uj=new n.af();this.uj.on(this.events,"segmentPresenting",function(){return d.__awaiter(O,void 0,void 0,function(){var Q;return d.__generator(this,function(S){switch(S.label){case 0:return (this.L0b=this.player.At(),null !== (Q=this.config.Mkb) && void 0 !== Q && Q.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(S.T(),this.events.emit("requestGarbageCollection",{time:f.platform.time.ha(),type:"requestGarbageCollection"}),S.label=2);case 2:return [2];}});});});}Object.defineProperties(z.prototype,{zp:{get:function(){return this.L5;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Xv:{get:function(){var B;B=new Map();this.qj.forEach(function(A){B.set(A.mediaType,A.sD);});return B;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Dzb:{get:function(){return this.L0b;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{aT:{get:function(){return this.qj.every(function(B){return B.aT;});},enumerable:!1,configurable:!0}});z.prototype.P6b=function(){var B,A,C,D,F,G;return d.__generator(this,function(E){switch(E.label){case 0:if(!this.zz.znb)return [3,2];B=d.__read(this.zz.gea(),1);A=B[0];C=A.K.type === e.Dd.content && (null === (G=this.Vv.eB) || void 0 === G?void 0:G.G) || 0;D=A.Opa || A.Lb;F=D.add(c.I.Ca(C + 1E3));return [4,q.Vd.Rl(F)];case 1:return (E.T(),this.OGb(A),[3,0]);case 2:return [2];}});};Object.defineProperties(z.prototype,{EGc:{get:function(){var B;return !(null === (B=this.DGc) || void 0 === B || !B.cp.value);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Lvc:{get:function(){return this.Bka?c.I.max.apply(c.I,d.__spreadArray([],d.__read(this.qj.map(function(B){var A;return null === (A=B.C5b) || void 0 === A?void 0:A.Bzb;}).filter(h.eDb)),!1)):void 0;},enumerable:!1,configurable:!0}});z.prototype.gM=function(B){this.qj.forEach(function(A){A.gM(B);});};z.prototype.jVa=function(){var B;this.Kl.Tc();B=this.qj.filter(function(A){return A.Txb;}).map(function(A){return A.mediaType;});this.jT(B);this.resume(B);};z.prototype.ICc=function(B){this.Vlb(B.sa);};z.prototype.jCc=function(B){this.Vlb(B.sa);};z.prototype.Vlb=function(B){var A,C,D;A=this.hq();C=A.indexOf(B);if(-1 !== C && !A.slice(0,C).some(function(F){return !F.Wj;})){D=B.Zj;D && D.greaterThan(this.Zj.value) && (B.Wj && C < A.length - 1 && (D=c.I.max(D,A[C + 1].Zj || c.I.mCb)),this.Zj.set(D));}};z.prototype.jic=function(B){(0,u.assert)(-1 === this.zz.gea().indexOf(B),("Branch ").concat(B.K.id," is already in the collection, cannot re-queue"));B.events.on("branchEdited",this.iHa);B.events.on("requestComplete",this.lHa);B.events.on("liveMissingSegment",this.kHa);B.Zj && this.hq().every(function(A){return A.Wj;}) && this.Zj.set(B.Zj);this.zz.enqueue(B);this.Kl.state === q.bm.complete && this.Kl.Tc();!B.K.j1 || B.M.Ob && !isFinite(B.K.ib) || this.zz.HP();this.Bka || this.fkc(B);};z.prototype.n_=function(B){this.qj.forEach(function(A){A.n_(B);});};z.prototype.vea=function(B){var A,C,D,F;A=this;C=!1;D=this.qj.map(function(G){return G.mediaType;});this.la.rx().some(function(G){return G.Ob;}) || (D=D.filter(function(G){return G !== m.v.Ba;}));F=(0,h.Co)(D,B);F.forEach(function(G){var E;E=A.Lh.sourceBuffers;E=(0,h.ic)(E,function(H){return H.mediaType === G;});(0,u.assert)(E);A.Lh.removeSourceBuffer(E);E=A.mna(G);(0,u.assert)(E);E.reset();E.Ka();(0,h.dJa)(A.qj,E);(0,h.dJa)(F,G);C=!0;});B=(0,h.Co)(B,D);if(!this.b6(this.Lh,B))throw (this.pO({Fi:"error creating source buffers",wC:"NFErr_MC_StreamingInitFailure"}),this.Lh.error);B.forEach(function(G){var E;E=A.Lh.sourceBuffers;E=(0,h.ic)(E,function(H){return H.mediaType === G;});(0,u.assert)(E);E=A.Cob(A.Lh,E);A.qj.push(E);C=!0;});C && this.bhb();};z.prototype.reset=function(){this.qj.forEach(function(B){B.reset();});this.gHa=this.Bka=!1;this.Csb.removeAllListeners();this.zJ();};z.prototype.zYa=function(B){this.r0([B]);};z.prototype.r0=function(B){var A;A=this;B.forEach(function(C){C=A.mna(C);null === C || void 0 === C?void 0:C.reset(!1,B);});};z.prototype.zJ=function(){var B;B=this;this.zz.gea().forEach(function(A){A.events.Om("branchEdited",B.iHa);A.events.Om("requestComplete",B.lHa);A.events.Om("liveMissingSegment",B.kHa);});this.zz.clear();this.Kl.Tc();};z.prototype.sta=function(){var B;B=this;this.zz.gea().filter(function(A){return A.GO;}).forEach(function(A){return B.OGb(A);});};z.prototype.resume=function(B){this.qj.forEach(function(A){void 0 !== B && -1 === B.indexOf(A.mediaType) || A.resume();});};z.prototype.yba=function(B){var A;A=this.qj.filter(function(C){return C.Txb;});A.forEach(function(C){return C.stop();});B();A.forEach(function(C){return C.resume();});};z.prototype.jT=function(B){this.qj.forEach(function(A){return (void 0 === B || -1 !== B.indexOf(A.mediaType)) && A.stop();});};z.prototype.mda=function(){this.qj.forEach(function(B){return B.mda();});};z.prototype.Wk=function(B){var A,C,D;this.console.trace("attached-player: onUnderflow");A=this.Dzb;if(A.Hm && A.M.Ob){C=A.px();if(!this.config.BP && C && 0 < C.length && C.every(function(F){return F instanceof w.zga;}) && (C=C.map(function(F){return F.nmc();}).filter(c.ed),C.length)){C=c.I.max.apply(c.I,d.__spreadArray([],d.__read(C),!1));D=(0,k.Xnc)(A.M.S);C=C.add(c.I.Ca(D));B=this.la.Mr(B);(0,u.assert)(B.Pa.G <= C.G);A=this.la.Ar({J:A.M.J,Pa:C});(0,u.assert)(A);A={type:"fragmentsMissing",nextAvailableGraphPosition:A,nextAvailableContentTimestamp:C};this.events.emit(A.type,A);}}};z.prototype.zpc=function(){return this.zz.getIterator();};z.prototype.qnc=function(){return this.hq()[0];};z.prototype.hq=function(){return this.zz.gea();};z.prototype.b6=function(B,A){var C,D;C=!0;D=B.sourceBuffers;A.forEach(function(F){(0,h.ic)(D,function(G){return G.mediaType === F;}) || B.addSourceBuffer(F) || (C=!1);});C || this.console.warn("Error adding sourceBuffer:",B.error);return C;};z.prototype.edc=function(){var B,A;B=this;this.KV("createMediaSourceStart");if(this.Vv.zPa)A=this.Vv.zPa();else (A=new f.platform.MediaSource(this.player.player),A.ng || (A.ng=f.platform.MediaSource.ng));if(1 !== A.readyState)this.pO({Fi:"exception in init",wC:"NFErr_MC_StreamingInitFailure"});else {this.KV("createMediaSourceEnd");this.Lh=A;if(!this.b6(A,this.uh))throw (this.pO({Fi:"error creating source buffers",wC:"NFErr_MC_StreamingInitFailure"}),A.error);this.kmb={};this.la.Xc(new v.N4a(this.la,this.kmb,this.config));this.qj=A.sourceBuffers.filter(function(C){return 0 <= B.uh.indexOf(C.mediaType);}).map(function(C){return B.Cob(A,C);});}};z.prototype.Cob=function(B,A){var C,D,F,G;C=this;B=new p.n4a(A.mediaType,B,A,this.config,this.player,this.Zc);B.addListener("error",function(E){return C.pO({Fi:E.errorstr});});B.addListener("logdata",function(E){return C.events.emit("logdata",E);});B.addListener("managerdebugevent",function(E){C.events.emit("managerdebugevent",E);});G=null === (D=this.u5) || void 0 === D?void 0:D.get(A.mediaType);D=new g.p3a(B,A.mediaType,this,this.config,this.console,this.player,this.Vv,this.Zc,this.zp,this.aB,G);if(A.mediaType === m.v.U)D.on("drmNeeded",function(E){return C.events.emit("drmNeeded",E);});G || (null === (F=D.sD) || void 0 === F?void 0:F.U3b(new y.nU(this.kmb[A.mediaType]={},this.console,this.player,B,this.player.events,this.Vv,this.Zc)));return D;};z.prototype.OGb=function(B){var A;(0,u.assert)(B.GO,"Attempted to prune branch that has not been fully appended");this.zz.remove(B);B.events.removeListener("branchEdited",this.iHa);B.events.removeListener("requestComplete",this.lHa);B.events.removeListener("liveMissingSegment",this.kHa);B.mg("pruned");(null === (A=this.config.Mkb) || void 0 === A?0:A.branchPruned) && this.events.emit("requestGarbageCollection",{time:f.platform.time.ha(),type:"requestGarbageCollection"});};z.prototype.Ka=function(){this.hUa.clear();this.IJa.clear();this.qj.forEach(function(B){return B.Ka();});this.Vv.zPa || this.Lh.tt();this.zJ();this.Kl.Ka();this.uj.clear();};z.prototype.Ik=function(B){return this.qj.every(function(A){return A.Ik(B);});};z.prototype.y_=function(){this.qj.forEach(function(B){return B.uob();});this.L5=new x.vFa(this.console,this.la);};z.prototype.DOa=function(){return {JHc:this.hq(),gFc:this.qj};};z.prototype.fkc=function(B){var A;A=this;this.Bka=!0;B.ka.forEach(function(C){var D;D=A.mna(C.mediaType);if(void 0 !== D)A.Csb.once(C.$Na,function(F){return D.ikc(F);});});if(B.qa)this.Hqb();else B.events.once("branchNormalized",function(){return A.Hqb();});};z.prototype.Hqb=function(){var B;B=this.qnc();B && ((0,u.assert)(B.Qb),this.events.emit("ptsChanged",{initialTimestamp:B.Qb,inNonSeamlessTransition:this.gHa}),this.gHa=!1);};z.prototype.mna=function(B){return (0,h.ic)(this.qj,function(A){return A.mediaType === B;});};z.prototype.Xoc=function(){return -1 !== this.uh.indexOf(m.v.U)?m.v.U:m.v.X;};z.prototype.KV=function(B){B={type:"startEvent",event:B,time:f.platform.time.ha()};this.events.emit(B.type,B);};z.prototype.pO=function(B){this.la.Mf(B);};z.prototype.bhb=function(){var B;B=this;this.hUa && this.hUa.clear();this.hUa=c.Os.QPb(this.qj.map(function(A){return A.cp;}),function(A){return A.every(function(C){return C;});},function(A){return B.cp.set(A);});this.IJa && this.IJa.clear();this.IJa=new c.xCa(this.qj.map(function(A){return A.UQ;}),function(A){return c.I.min.apply(c.I,d.__spreadArray([],d.__read(A),!1));},function(A){B.UQ.set(A);},c.I.Ca(-Infinity));};return z;})();b.F3a=t;},89527:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.nU=void 0;d=a(22970);n=a(90745);c=a(52571);h=a(48170);f=0;t=(function(e){function g(k,l,m,p,r,q,u,v){l=e.call(this,("cdnList").concat(f++),l,m,p,r,q,u,"cdnList",v) || this;l.ci=k;l.Sb();return l;}d.__extends(g,e);g.prototype.Sb=function(){var k;k=this;this.Hba=new n.af();this.Hba.on(this.Db.player,"skipped",function(l){k.tD && ((null === l || void 0 === l?0:l.uGb) && k.b7(l.uGb),k.tD=void 0);});this.Hba.on(this.Db.player,"paused",function(){k.tD && k.Db.Qd && k.b7(k.Db.Xd);});this.Hba.on(this.Db.player,"underflow",function(){k.tD && k.Db.Qd && k.b7(k.Db.Xd);});};g.prototype.rz=function(k,l,m){this.Hba.clear();e.prototype.rz.call(this,k,l,m);this.Sb();};g.prototype.close=function(){h.l && this.console.trace("close");e.prototype.close.call(this);this.Hba.clear();};g.prototype.uOc=function(k,l){var m;m=this;this.tD && this.b7(k);return this.lsb(l).map(function(p){return m.ci[p];});};g.prototype.JHb=function(k){var l;l=this;this.lsb(k).forEach(function(m){delete l.ci[m];});};g.prototype.lsb=function(k){var l;l=this;return Object.keys(this.ci).filter(function(m){return l.ci[m].R === ("").concat(k);});};g.prototype.cp=function(k){var l,m,p;l=k.stream;m=k.Uc;p=k.Qb;k=k.Lb;(0,c.assert)(void 0 !== p);(0,c.assert)(void 0 !== k);h.l && this.console.trace(("Media appended ").concat(p.da(),"-").concat(k.da()));this.CIa({stream:l,Uc:m},p,k);};g.prototype.wpa=function(k,l){return k.stream === l.stream && k.Uc === l.Uc;};g.prototype.hnc=function(k){var l,m;m=k.Gs;k=m.Uc;m=null === (l=m.stream.M.S.Bz) || void 0 === l?void 0:l.ti;return ("").concat(k,"::").concat(m);};g.prototype.UMa=function(k,l){h.l && this.console.trace(("Presenting event for ( ").concat(k.Gs.stream.id,", ").concat(k.Gs.Uc," )") + (" at ").concat(l.da()));this.tD?this.b7(l):this.c7=l;this.tD=k;};g.prototype.b7=function(k){var l,m,p,r,q,u,v,w,x;(0,c.assert)(this.tD);if(null === (l=this.PLa) || void 0 === l?0:l.lessThan(k))k=this.PLa;q=this.tD;l=this.ci;u=q.Gs;v=u.stream;u=u.Uc;w=null === (m=v.nR) || void 0 === m?void 0:m.Ko;m=k.ea(this.c7 || q.timestamp).G;if(void 0 !== u && void 0 !== w){x=null === (p=v.M.S.Bz) || void 0 === p?void 0:p.ti;p=v.track.R;q=this.hnc(q);l=(r=(l[q] || (l[q]={ul:u,ti:x,R:p,sP:{}})).sP)[w] || (r[w]={bitrate:v.bitrate,cc:w,mediaType:v.mediaType,totalTime:0,Mb:v.Mb});l.totalTime=Math.max(l.totalTime + m,0);}this.c7=k;};g.prototype.clone=function(k,l){l=void 0 === l?{}:l;k=new (l.ead || g)(k,this.fDc,this.Db,this.Yja,this.events,this.Vv,this.mc,l.priority);this.e$b(k);k.tD=this.tD;k.c7=this.c7;h.l && k.console.trace("Cloning",{N1c:k.Dj.length});return k;};g.prototype.reset=function(){e.prototype.reset.call(this);this.c7=void 0;};g.prototype.OK=function(k){return ("(").concat(k.stream.Qa,", ").concat(k.Uc,")");};return g;})(a(546).jha);b.nU=t;},63002:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.N6a=void 0;d=a(22970);n=a(48170);c=a(40666);t=(function(){function h(f,e,g){this.mc=f;this.uzc=e;this.qb=g;}Object.defineProperties(h.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});h.prototype.waitUntil=function(f){var e;f=(0,c.M1)(this.mc,f,!0);e=f.promise;this.X1a=f.Ae;return e;};h.prototype.process=function(f){return d.__awaiter(this,void 0,void 0,function(){var e,g;return d.__generator(this,function(k){switch(k.label){case 0:if(f.done)return [3,2];e=f.value.value;if(!e.bOa)return [3,2];g=e.Qb.ea(this.uzc);n.l && this.qb.trace(("[").concat(e.mediaType,"] JIT: waiting until playertime >= ").concat(g.G),("to append next request ").concat(e.toString()));return [4,this.waitUntil(g)];case 1:(k.T(),n.l && this.qb.trace(("[").concat(e.mediaType,"] JIT: now appending request ").concat(e.toString())),k.label=2);case 2:return [2,f];}});});};h.prototype.reset=function(){var f;null === (f=this.X1a) || void 0 === f?void 0:f.Ka();};return h;})();b.N6a=t;},54540:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.J9a=void 0;d=a(22970);n=a(91562);c=a(91176);h=a(8149);t=(function(){function f(e){this.console=e;}Object.defineProperties(f.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});f.prototype.process=function(e){return d.__awaiter(this,void 0,void 0,function(){var g,k,l,m,p,r,q,u,v,w,x,y,z,B;return d.__generator(this,function(){e.done || (g=e.value.value,(0,h.hk)(g.stream) && (k=g.y9(0),k instanceof ArrayBuffer && (l=new n.Yl(this.console,g.stream,k,["moof"],!0,{kWa:!0}),m=l.parse(),m.IA && (p=l.Dm("moof"),r=p.Dm("traf"),q=r.Dm("trun"),u=r.Dm("tfdt"),v=g.stream.Jl,w=q.Gd,x=u.xF,y=m.Oa.P,z=new c.I(x,y),B=this.Wt?z.ea(this.Wt.t6b):void 0,this.console.trace(("Live Request Logger: processing request [").concat(g.mediaType,"]"),{baseMediaDecodeTime:x,timescale:y,baseMediaDecodeMs:z.G,ptsOffsetMs:v.G,mediaTimestampMs:z.ea(v).G,offsetFromPriorMs:null === B || void 0 === B?void 0:B.G,sampleCount:w,url:g.url}),this.Wt={t6b:z}))));return [2,e];});});};f.prototype.reset=function(){this.Wt=void 0;};return f;})();b.J9a=t;},85030:function(t,b,a){var d,n,c,h,f,e,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.geb=void 0;d=a(22970);n=a(91176);c=a(90745);h=a(66164);f=a(48170);e=a(65161);g=a(69575);k=a(52571);t=(function(){function l(m,p,r){var q;q=this;this.Db=m;this.player=p;this.pending=new Map();this.listeners=new c.af();this.SUa=!1;this.brc=function(u){q.EIb(!0,function(){f.l && q.console.debug("cancelling playback ending");u.cancel();});};this.listeners.addListener(p,"playbackEnding",this.brc);this.console=(0,g.tf)(h.platform,r,"SEAMLESSMANAGER");f.l && this.console.debug("construct");}l.prototype.Ka=function(){f.l && this.console.debug("destruct");this.pending.clear();this.listeners.clear();};l.prototype.RIc=function(m){this.oJb=m;};l.prototype.NPb=function(m){var p;0 === this.pending.size && ((0,k.assert)(void 0 === this.Fn,"SeamlessManager: No pending transitions, but a wait is deferred"),this.Fn=new n.mo());(0,k.assert)(this.Fn,"SeamlessManager: deferred is undefined");(0,k.assert)(!this.pending.has(m.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + m.mediaType);this.pending.set(m.mediaType,m);f.l && this.console.trace(("got new transition [").concat(m.mediaType,"] --\x3e ").concat(null === (p=m.to.stream) || void 0 === p?void 0:p.id));p=this.Db.uh;f.l && this.console.debug("checking pending",{size:this.pending.size,k4c:p});if(this.pending.size === p.length && !this.SUa){p=this.Buc();if(p.VWa)return (f.l && this.console.trace(("seamless transition possible at ").concat(m.timestamp.da())),this.Fn.resolve(),this.reset(),Promise.resolve());f.l && this.console.trace(("starting non-seamless transition at ").concat(m.timestamp.da()));this.SOc(p.info);}return this.Fn.promise;};l.prototype.gKc=function(m){f.l && this.console.trace(("reset media [").concat(m,"]"));this.pending.delete(m);0 === this.pending.size && this.reset();};l.prototype.reset=function(){f.l && this.console.debug("resetting");this.SUa=!1;this.Fn=void 0;this.pending.clear();};l.prototype.Buc=function(){var m,p,r,q,w,x,y,z,B,A,C,D,F,G,E;q={VWa:!0};try{for(var u=d.__values(this.pending.entries()),v=u.next();!v.done;v=u.next()){w=d.__read(v.value,2);x=w[0];y=w[1];if(y.from){z=y.from.stream;B=y.to.stream;if((null === z || void 0 === z?void 0:z.track) === (null === B || void 0 === B?void 0:B.track))f.l && this.console.debug("Seamless deemed possible due to same track",{mediaType:x});else {A=null === z || void 0 === z?void 0:z.Kr();C=null === B || void 0 === B?void 0:B.Kr();D=void 0;F=this.Db.Qm(y.timestamp);D=y.from.L && 0 > this.Db.UQ.value.G?{L:y.from.L,offset:n.I.Ca(0)}:this.Db.Qm(y.kXa);G=void 0;G=x !== e.v.Ba?this.player.mt({mediaType:x,VNa:y.VNa,from:A,to:C,M8:D,cea:F}):{mt:!0,reason:"Text"};if(G.mt)f.l && this.console.debug("Seamless deemed possible",{mediaType:x,from:A,to:C,M8:D,cea:F});else {f.l && this.console.debug("Non-seamless transition; details:",{reason:G.reason,mediaType:x,from:A,to:C});E=q.VWa?[]:q.info.pHb;G.reason && (y.reason="string" !== typeof G.reason?G.reason:void 0,E.push(G.reason));q={VWa:!1,info:{mfc:null !== (p=y.to.L) && void 0 !== p?p:"unk",BOc:null !== (r=y.from.L) && void 0 !== r?r:"unk",NWa:y.timestamp,pHb:E}};}}}}}catch(J){var H;H={error:J};}finally{try{v && !v.done && (m=u.return) && m.call(u);}finally{if(H)throw H.error;}}return q;};l.prototype.SOc=function(m){var p;null === (p=this.oJb) || void 0 === p?void 0:p.L3b(m);this.SUa=!0;this.Db.cp.value?(f.l && this.console.trace("Signaling EOS for upcoming restart"),this.Db.mda()):(m=this.Db,f.l && this.console.trace("Signaling immediate restart",{append:this.Db.cp.value,O1c:m.sourceBuffers.map(function(r){return r.cp.value;})}),this.EIb(!1));};l.prototype.EIb=function(m,p){var r,q,u,v,w,x,y,A,C,D;u=this;if(this.pending.size){f.l && this.console.trace("playback ending, restarting player");w={};x=(r={},r[e.v.X]=void 0,r[e.v.U]=void 0,r[e.v.Ba]=void 0,r[e.v.pn]=void 0,r);r=void 0;y=[];try{for(var z=d.__values(this.pending.entries()),B=z.next();!B.done;B=z.next()){A=d.__read(B.value,2);C=A[0];D=A[1];w[C]=null === (v=D.to.stream) || void 0 === v?void 0:v.Kr();r={to:{L:D.to.L,offset:D.timestamp}};D.reason && y.push(D.reason);D.from.L && (x[C]=D.from.L,r.from={L:D.from.L,offset:D.kXa});}}catch(G){var F;F={error:G};}finally{try{B && !B.done && (q=z.return) && q.call(z);}finally{if(F)throw F.error;}}null === p || void 0 === p?void 0:p();this.Db.UOc(r,m,y);f.l && this.console.debug("Restarting player",w);this.player.Tc(w,x,r).then(function(){var G,E;null === (G=u.Fn) || void 0 === G?void 0:G.resolve();f.l && u.console.debug("Restart completed");null === (E=u.oJb) || void 0 === E?void 0:E.M3b();u.reset();});}};return l;})();b.geb=t;},33604:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.heb=void 0;d=a(22970);n=a(79048);c=a(48170);h=a(58049);t=(function(){function f(e,g,k){this.aB=e;this.mediaType=g;this.console=k;this.w8b=this.v$=!0;}Object.defineProperties(f.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});f.prototype.process=function(e){return d.__awaiter(this,void 0,void 0,function(){var g,k,l;return d.__generator(this,function(m){switch(m.label){case 0:if(e.done)return [3,6];g=e.value.value;if(!(0,h.jSa)(g))return [3,3];if(!this.Wt || g.sa.M.J === n.Xq)return [3,2];c.l && this.console.trace("Seamless Throttler: skipping request",{request:g});return [4,this.aB.NPb({mediaType:this.mediaType,VNa:this.v$,to:{stream:void 0,L:g.K.id},from:{stream:void 0,L:this.Wt.L},timestamp:g.sa.Qb,kXa:null === (k=this.Wt) || void 0 === k?void 0:k.Qb})];case 1:(m.T(),m.label=2);case 2:return (this.Wt={PJc:0,stream:void 0,M:g.sa.M,Qb:g.sa.Qb,L:g.K.id},[3,6]);case 3:if(!this.Wt || !g.Hn || g.stream.M === this.Wt.M || g.stream.M.J === n.Xq)return [3,5];c.l && this.console.trace(("Seamless Throttler: Waiting on request [").concat(g.mediaType,"]"),g.index,"in",g.K.id);return [4,this.aB.NPb({mediaType:g.mediaType,VNa:this.v$,to:{stream:g.stream,L:g.K.id},from:{stream:this.Wt.stream,L:this.Wt.L},timestamp:g.Qb,kXa:null === (l=this.Wt) || void 0 === l?void 0:l.Qb})];case 4:(m.T(),m.label=5);case 5:(this.v$=!1,this.Wt={PJc:g.index,stream:g.stream,Qb:g.Qb,L:g.K.id,M:g.stream.M},m.label=6);case 6:return [2,e];}});});};f.prototype.wVa=function(e,g){void 0 === e && (e=[]);void 0 === g && (g=[]);c.l && this.console.trace(("Seamless Throttler: onMediaSourceReset() ").concat(g));this.v$ || (this.v$=-1 !== g.indexOf(this.mediaType));(null === e || void 0 === e?0:e.length) && e.length !== g.length && (this.Wt=void 0);};f.prototype.reset=function(){};return f;})();b.heb=t;},53693:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.wbb=void 0;d=a(22970);n=a(48170);c=a(52571);h=a(40666);t=(function(){function f(e,g,k,l){var m;m=this;this.mc=e;this.FDc=g;this.bWa=k;this.console=l;e.La.on("stopStart",function(){return m.d$b();});n.l && this.console.trace(("PacingThrottler: pacingFactory=").concat(g,", pacingThreshold=").concat(k.da()));}Object.defineProperties(f.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});f.prototype.d$b=function(){var e,g;g=this.mc.La;this.QW=g.Zi?g.currentTime:void 0;this.j6=this.A8=void 0;n.l && this.console.trace(("PacingThrottler: clock reset ").concat(null === (e=this.QW) || void 0 === e?void 0:e.G));};f.prototype.waitUntil=function(e){var g;e=(0,h.M1)(this.mc,e,!0);g=e.promise;this.X1a=e.Ae;return g;};f.prototype.process=function(e){return d.__awaiter(this,void 0,void 0,function(){var g,k,l,m;return d.__generator(this,function(p){switch(p.label){case 0:if(e.done)return [3,11];g=e.value.value;(0,c.assert)(g.Qb);k=this.mc.La;if(!this.A8 || !this.j6)return [3,10];if(!this.j6.greaterThan(this.bWa))return [3,8];if(!this.QW)return [3,5];l=g.Qb.ea(this.QW).ea(this.bWa);m=this.QW.add(l.gf(this.FDc));if(!m.lessThan(g.Qb))return [3,3];if(!m.greaterThan(k.currentTime))return [3,2];n.l && this.console.trace(("PacingThrottler: waiting until ").concat(m.da()," for mediaRequest @") + ("").concat(g.Qb.da(),", ") + ("current time ").concat(k.currentTime.da(),", ") + ("clock start time ").concat(this.QW.da(),", ") + ("distance ").concat(l.da()));return [4,this.waitUntil(m)];case 1:(p.T(),p.label=2);case 2:return [3,4];case 3:(n.l && this.console.warn("PacingThrottler: invalid schedule time " + ("").concat(m.da()," for mediaRequest ") + ("@").concat(g.Qb.da(),", ") + ("current time ").concat(k.currentTime.da(),", ") + ("clock start time ").concat(this.QW.da(),", ") + ("distance ").concat(l.da())),p.label=4);case 4:return [3,7];case 5:l=g.Qb.ea(this.A8);if(!l.greaterThan(this.bWa))return [3,7];n.l && this.console.trace(("PacingThrottler: (buffering) waiting until ").concat(this.A8.G,"ms") + (" for mediaRequest @").concat(g.Qb.G,"ms, ") + ("current time ").concat(k.currentTime.G));return [4,this.waitUntil(this.A8)];case 6:(p.T(),p.label=7);case 7:return [3,9];case 8:(this.j6=this.j6.add(g.Vb),p.label=9);case 9:return [3,11];case 10:(this.A8=g.Qb,this.j6=g.Vb,p.label=11);case 11:return [2,e];}});});};f.prototype.reset=function(){var e;null === (e=this.X1a) || void 0 === e?void 0:e.Ka();};return f;})();b.wbb=t;},74371:function(t,b,a){var n,c,h,f,e,g;function d(k,l){return k > l.Cxc?e.A7a:k > l.Ndc?e.P3:0 < k?e.jSb:e.EMPTY;}Object.defineProperties(b,{__esModule:{value:!0}});b.zob=b.Ybb=void 0;n=a(22970);c=a(91176);h=a(90745);f=a(54520);(function(k){k[k.EMPTY=0]="EMPTY";k[k.jSb=1]="CRITICAL";k[k.P3=2]="LOW";k[k.A7a=3]="HEALTHY";})(e || (b.Ybb=e={}));g=(function(){function k(){this.sL=this.buffer=e.EMPTY;}Object.defineProperties(k.prototype,{ZO:{get:function(){return Math.min(this.buffer,this.sL);},enumerable:!1,configurable:!0}});return k;})();b.zob=function(k){var m,p,r,q,u;function l(){var v,w,z,B,A,C,D,F,G;w=k.Joc();try{for(var x=n.__values(w),y=x.next();!y.done;y=x.next()){z=y.value;if(!z.Wj){w=z;B=p[w.xWa] || new g();A=(0,f.Gra)(new g(),p[w.xWa]);C=k.AC();D=w.Zj.ea(C).G;A.sL=d(D,k);F=w.SW.G;G=d(F,k);A.buffer=G;q && A.ZO < e.A7a || (q && (q=!1),A.ZO !== B.ZO && (p[w.xWa]=A,m.emit("healthChange",{Mrc:A.ZO,vfc:A.ZO < B.ZO,Yf:w,bIc:Math.min(F,D)})));}}}catch(H){var E;E={error:H};}finally{try{y && !y.done && (v=x.return) && v.call(x);}finally{if(E)throw E.error;}}}m=new h.EventEmitter();p={};r=null;q=!1;u={get On() {return !(null === r || void 0 === r || !r.On);},start:function(){return n.__awaiter(void 0,void 0,void 0,function(){return n.__generator(this,function(){if(u.On)return [2];r=k.mc.qla(l,c.I.Ca(k.Szc));return [2];});});},stop:function(){return null === r || void 0 === r?void 0:r.Ka();},Xra:function(){q=!0;},addListener:m.addListener.bind(m),removeListener:m.removeListener.bind(m)};return u;};},61651:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.eha=void 0;d=a(22970);n=a(91176);c=a(52571);h=a(48170);f=a(17122);t=(function(e){function g(k){var l;l=e.call(this) || this;l.la=k;l.u5=new Map();l.Ya=[];l.qk=Number.MAX_SAFE_INTEGER;l.V4=new f.Pha({Zi:!1,currentTime:function(){return l.Qd?l.Xd:n.I.qh;},speed:1});return l;}d.__extends(g,e);Object.defineProperties(g.prototype,{La:{get:function(){return this.V4;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Zc:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{zp:{get:function(){return this.L5;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Xv:{get:function(){return this.u5;},enumerable:!1,configurable:!0}});g.prototype.ika=function(k,l){var m;m=!this.la;m && (this.la=k,this.tGa=(null === l || void 0 === l?0:l.Qd)?l.Xd:void 0,this.L5=null === l || void 0 === l?void 0:l.zp,this.u5=l?l.Xv:new Map(),null === l || void 0 === l?void 0:l.y_());return m;};g.prototype.y_=function(){this.u5=this.L5=void 0;};g.prototype.zJ=function(){this.Ya=[];this.tGa=void 0;};g.prototype.oMa=function(k){h.l && (0,c.assert)(this.la === k);this.la=void 0;this.zJ();};g.prototype.QX=function(){for(var k,l=[],m=0;m < arguments.length;m++)l[m]=arguments[m];(k=this.Ya).push.apply(k,d.__spreadArray([],d.__read(l),!1));e.prototype.QX.apply(this,d.__spreadArray([],d.__read(l),!1));};g.prototype.AC=function(){return this.tGa?this.tGa:e.prototype.AC.call(this);};g.prototype.r$=function(){return !1;};g.prototype.gM=function(){};g.prototype.OOa=function(){return Infinity;};g.prototype.gda=function(){};g.prototype.jT=function(){};g.prototype.sta=function(){this.Ya=this.Ya.filter(function(k){return k.GO?(k.mg("pruned"),!1):!0;});};g.prototype.Ka=function(){e.prototype.Ka.call(this);this.Xv.forEach(function(k){return k.close();});};return g;})(a(82867).LDa);b.eha=t;},82867:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.LDa=void 0;d=a(22970);n=a(90745);c=a(91176);h=a(66164);f=a(52571);e=a(65161);t=a(75393);g=a(48170);k=a(69575);l=t.qD.aMa;a=(function(){function m(){this.J_=[];this.iO=new c.Os(!1);this.dO=new c.Os(c.I.Ca(-Infinity));this.$gb=new c.Os(c.I.Ca(-Infinity));this.GV=void 0;this.events=new n.EventEmitter();this.qb=new h.platform.Console("ASEJS","media|asejs");}Object.defineProperties(m.prototype,{rZ:{get:function(){return this.GV;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{console:{get:function(){return this.qb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zc:{get:function(){return this.OI;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zp:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Xv:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{playbackRate:{get:function(){return this.FY();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{xkb:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{cp:{get:function(){return this.iO;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{UQ:{get:function(){return this.dO;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Zj:{get:function(){return this.$gb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Qd:{get:function(){return this.zv;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Xd:{get:function(){return this.AC();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bh:{get:function(){var p,r;p=this.Xd;r=this.Qm(p,!1);g.l && (0,f.assert)(r,("Could not find current branch for ").concat(p.G));return r;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Qsc:{get:function(){return this.Ya[0];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Jm:{get:function(){return this.zv?this.Ya[this.Ya.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{SA:{get:function(){var p,r;p=this.Xd;r=this.S8(p);(0,f.assert)(r,("Could not find presenting branch for ").concat(p.G));return r;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{zv:{get:function(){return 0 < this.Ya.length;},enumerable:!1,configurable:!0}});m.prototype.mKb=function(){};m.prototype.lKb=function(){};m.prototype.Ik=function(){return !1;};m.prototype.toa=function(){return 0 < this.Ya.length;};m.prototype.At=function(){(0,f.assert)(0 < this.Ya.length,"Could not find presenting branch. Player has no branches.");return this.SA;};m.prototype.lwb=function(p){return -1 !== this.Ya.indexOf(p);};m.prototype.ika=function(){return void 0 !== this.la?!1:!0;};m.prototype.y_=function(){};m.prototype.Ka=function(){};m.prototype.Zz=function(p){var r,q,u;r=this.Ya.filter(function(v){return v.K.id === p.L;});if(0 !== r.length){q=this.AC();u=new c.I(Infinity,1);r.forEach(function(v){v=v.Wv.add(p.offset);q.gv(v).lessThan(q.gv(u)) && (u=v);});return u;}};m.prototype.K9=function(p){var r,q,u,v,w,x,y,z,B,A;return d.__generator(this,function(C){switch(C.label){case 0:r=this.Ya.filter(function(D){return D.K.id === p.L;});if(0 === r.length)return [2,void 0];q=this.AC();C.label=1;case 1:(C.tc.push([1,6,7,8]),u=d.__values(r),v=u.next(),C.label=2);case 2:if(v.done)return [3,5];w=v.value;x=w.Wv.add(p.offset);y=q.gv(x);return [4,{Yn:x,gv:y}];case 3:(C.T(),C.label=4);case 4:return (v=u.next(),[3,2]);case 5:return [3,8];case 6:return (z=C.T(),B={error:z},[3,8]);case 7:try{v && !v.done && (A=u.return) && A.call(u);}finally{if(B)throw B.error;}return [7];case 8:return [2];}});};m.prototype.Qm=function(p,r){var q,u,v;void 0 === r && (r=!1);q=this.S8(p,r);if(q){u=q.K;r=u.id;v=u.Vb;p=c.I.min(p.ea(u.kb.add(q.de)),v);return {L:r,offset:p};}};m.prototype.Gqc=function(p){var r,q,u,v;r=this.Ya.filter(function(w){return w.K.id === p.L;});if(0 !== r.length){q=this.AC();u=new c.I(Infinity,1);r.forEach(function(w){var x;x=w.Wv.add(p.offset);q.gv(x).lessThan(q.gv(u)) && (u=x,v=w);});return v;}};m.prototype.vea=function(){};m.prototype.reset=function(){this.zJ();};m.prototype.zYa=function(){};m.prototype.r0=function(){};Object.defineProperties(m.prototype,{aT:{get:function(){return !1;},enumerable:!1,configurable:!0}});m.prototype.yba=function(p){p();};m.prototype.pause=function(p){void 0 === p && (p=e.b4);this.J_=null === p || void 0 === p?void 0:p.reduce(function(r,q){-1 === r.indexOf(q) && r.push(q);return r;},this.J_);};m.prototype.resume=function(p){var r;r=this;void 0 === p && (p=e.b4);p.forEach(function(q){q=r.J_.indexOf(q);-1 !== q && r.J_.splice(q,1);});};m.prototype.N0a=function(p){var r;(0,f.assert)(this.la);(0,f.assert)(p !== this);this.jT();r=p.ika(this.la,this);r && (this.sta(),p.pause(this.J_),p.QX.apply(p,d.__spreadArray([],d.__read(this.Ya),!1)),this.oMa(this.la));return r;};m.prototype.QX=function(){for(var p,r,q=[],u=0;u < arguments.length;u++)q[u]=arguments[u];try{for(var v=d.__values(q),w=v.next();!w.done;w=v.next())this.events.emit("segmentAppended",{type:"segmentAppended",L:w.value.K.id});}catch(x){p={error:x};}finally{try{w && !w.done && (r=v.return) && r.call(v);}finally{if(p)throw p.error;}}};m.prototype.AC=function(){return this.lub();};m.prototype.lub=function(){var p;g.l && (0,f.assert)(this.zv,"Attempted to get initial time before any branches were queued");p=d.__read(this.Ya,1)[0];g.l && (0,f.assert)(p);return p.Qb || p.AG;};m.prototype.FY=function(){return 1;};m.prototype.hK=function(){};m.prototype.S8=function(p,r){var q;void 0 === r && (r=!1);if(this.zv){q=this.lub();return p.lessThan(q)?this.Ya[0]:(0,k.usb)(this.Ya,p) || (r?this.Jm:void 0);}};m.prototype.omc=function(){var p,r,v,w,x,y,z,B;r={};try{for(var q=d.__values(this.Ya),u=q.next();!u.done;u=q.next()){v=u.value;w=void 0;x=void 0;y=v.gQ();for(w in y){z=w;B=y[z];B && (r[z]=(null !== (x=r[z]) && void 0 !== x?x:0) + B);}if(!v.Wj)break;}}catch(C){var A;A={error:C};}finally{try{u && !u.done && (p=q.return) && p.call(q);}finally{if(A)throw A.error;}}return r;};d.__decorate([l.return.Qd(),l.return.iD],m.prototype,"rZ",null);d.__decorate([l.return.Ih()],m.prototype,"bh",null);d.__decorate([l.return.FJa(),l.return.Gq],m.prototype,"At",null);d.__decorate([d.__param(0,l.Ih())],m.prototype,"Zz",null);d.__decorate([d.__param(0,l.Ih())],m.prototype,"K9",null);d.__decorate([l.return.Ih(),l.return.iD],m.prototype,"Qm",null);return m;})();b.LDa=a;},90111:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.ucb=void 0;d=a(90745);n=a(91176);t=a(66164);c=a(65161);a=a(85254);h=new t.platform.Console("PLAYERCLOCK");t=(function(){function f(e){this.player=e;this.RGa=!1;this.DCb=new d.af();this.OIc();}f.prototype.OIc=function(){var e,g;e=this;g=this.DCb;g.on(this.player,"paused",function(){return e.Yra();});g.on(this.player,"playing",function(){return e.Yra(!0);});g.on(this.player,"underflow",function(){return e.Yra();});g.on(this.player,"skipped",function(){return e.GVa();});g.on(this.player,"clockAdjusted",function(){return e.jba();});g.on(this.player,"playbackRateChanged",function(){return e.zCc();});};Object.defineProperties(f.prototype,{currentTime:{get:function(){return this.VLb || this.player.yd || n.I.ia;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Zi:{get:function(){return this.RGa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{speed:{get:function(){var e;return null !== (e=this.player.playbackRate) && void 0 !== e?e:1;},enumerable:!1,configurable:!0}});f.prototype.Yra=function(e){void 0 === e && (e=!1);e !== this.RGa && (this.VLb=(this.RGa=e)?void 0:this.player.yd,e?h.log("PlayerClock: Player is running",this.player.yd):h.log("PlayerClock: Player is stopping",this.player.yd));this.emit("stopStart",{type:"stopStart"});};f.prototype.GVa=function(){this.VLb=void 0;this.jba(c.yw.kM);};f.prototype.jba=function(e){void 0 === e && (e=c.yw.rF);h.log("PlayerClock: clock adjusted",{ir:this.Zi,time:this.player.yd,reason:c.yw[e]});this.emit("clockAdjusted",{type:"clockAdjusted",reason:e});};f.prototype.zCc=function(){this.emit("speedChanged",{type:"speedChanged"});};f.prototype.Ka=function(){this.Yra();this.DCb.clear();};return f;})();b.ucb=t;(0,a.el)(d.EventEmitter,t);},546:function(t,b,a){var d,n,c,h,f,e,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.jha=void 0;d=a(22970);n=a(90745);c=a(91176);h=a(66164);f=a(69575);e=a(48170);g=a(40666);k=c.I.Ca(1E3);t=(function(){function l(m,p,r,q,u,v,w,x,y,z){var B,A;this.tOa=m;this.fDc=p;this.Yja=q;this.events=u;this.Vv=v;this.zNb=x;this.priority=y;this.Dj=[];this.console=(0,f.tf)(h.platform,p,("PresentationTracker [").concat(this.tOa,"] [").concat(this.zNb,"]"));this.uba=k.add(c.I.Ca(null !== (A=null === (B=v.eB) || void 0 === B?void 0:B.G) && void 0 !== A?A:0));e.l && this.console.debug("Constructed",{uba:this.uba.da(),sRa:z});this.listeners=new n.af();this.IWa=new n.af();this.DH=!0;this.qca=!z;this.udc(w);this.wKb(r,w,q);}l.prototype.wKb=function(m,p,r){var q;q=this;this.Yja=r;this.listeners.clear();this.IWa.clear();this.Db=m;this.mc=p;this.IWa.on(m.player,"skipped",this.CCc.bind(this));this.listeners.on(r,"requestAppended",function(u){return q.cp(u.request);});this.events=m.events;this.vP.qmb(p);this.Kl.qmb(p);};l.prototype.udc=function(m){var p;p=this;this.vP=m.Br(function(){return p.Tgc();},("Presentation Emit [").concat(this.tOa,"]"),this.priority);this.Kl=m.Br(function(){return p.wHc();},("Presentation Prune [").concat(this.tOa,"]"));};l.prototype.CCc=function(){this.trace(("skipped, scheduler clock ").concat(this.mc.La.currentTime.da()));this.qca=this.DH=!0;this.vP.Tc();};l.prototype.Tgc=function(){var m,p,r;return d.__generator(this,function(q){switch(q.label){case 0:(e.l && this.console.trace("Starting emit job",this.DH),this.TA=this.FAc(this.DH),m=this.RCb(),q.label=1);case 1:if(!m)return [3,3];this.trace(("queuing task for ").concat(this.OK(m.Gs)) + (" at player time ").concat(m.timestamp.da()) + (" scheduler clock is ").concat(this.mc.La.currentTime.da()));return [4,g.Vd.Rl(m.timestamp)];case 2:q.T();this.trace(("executing task for ").concat(this.OK(m.Gs)) + (" for player time ").concat(m.timestamp.da()) + (", scheduler clock: ").concat(this.mc.La.currentTime.da()) + (", actual player time: ").concat(this.Db.Xd) + (", first item: ").concat(this.DH),{Yyc:this.Dj.length,TA:this.TA});p=this.qca?this.Db.Xd:m.timestamp;r=this.DH && !this.TUa;this.TUa=this.qca=this.DH=!1;this.Yob=m;this.TA++;this.PLa=(m=this.RCb())?m.timestamp:this.VQ;try{this.UMa(this.Yob,p,r);}catch(u){this.console.error(("Error in ").concat(this.zNb," emit, continuing"),u);}p=null === m || void 0 === m?void 0:m.timestamp;return [3,1];case 3:return (e.l && this.console.trace("Ending emit job"),[2]);}});};l.prototype.JVa=function(){};l.prototype.O0a=function(){e.l && this.console.trace("Marking transfered from");this.TUa=this.DH=!0;};l.prototype.RCb=function(){if(void 0 !== this.TA)return this.Dj[this.TA];};l.prototype.FAc=function(m){var p,r,u;void 0 === m && (m=!1);for(var q=m?0:null !== (p=this.TA) && void 0 !== p?p:0;q < this.Dj.length;q++){p=this.Dj[q];u=c.I.Ca(null !== (r=this.Vv.nFc) && void 0 !== r?r:0);if(p.timestamp.greaterThan(this.Db.Xd.add(u)))return m && 0 < q?q - 1:q;}return Math.max(this.Dj.length - 1,0);};l.prototype.wHc=function(){var m,p;return d.__generator(this,function(r){switch(r.label){case 0:if(!(1 < this.Dj.length))return [3,2];m=d.__read(this.Dj,2);p=m[1];this.trace(("queuing pruning task for ").concat(this.OK(p.Gs)) + (" at player time ").concat(this.uba.add(p.timestamp).da()) + (" scheduler clock is ").concat(this.mc.La.currentTime.da()));return [4,g.Vd.Rl(this.uba.add(p.timestamp))];case 1:return (r.T(),this.trace(("executing pruning task for ").concat(this.OK(p.Gs)) + (" at player time ").concat(this.uba.add(p.timestamp).da()) + (" scheduler clock is ").concat(this.mc.La.currentTime.da()),{Yyc:this.Dj.length,TA:this.TA}),this.Dj.shift(),this.TA && this.TA--,[3,0]);case 2:return [2];}});};l.prototype.rz=function(m,p,r){this.wKb(m,p,r);};l.prototype.reset=function(){this.Dj=[];e.l && this.trace("reset");this.DH=!0;this.TUa=!1;this.qca=!0;this.VQ=void 0;this.TA=0;this.Kl.Tc();this.vP.Tc();};l.prototype.close=function(){e.l && this.trace("close()");this.qca=this.DH=!0;this.IWa.clear();this.vP.Ka();this.Kl.Ka();this.listeners.clear();this.Dj=[];};l.prototype.Ik=function(m){var p;e.l && this.trace(("canSkip() ").concat(m));if(0 === this.Dj.length)return (e.l && this.trace("canSkip false, no media sequence"),!1);p=this.Dj[0];return p.timestamp.greaterThan(m)?(e.l && this.trace(("canSkip false, before earliest item at ").concat(p.timestamp)),!1):void 0 === this.VQ || this.VQ.lessThan(m)?(e.l && this.trace(("canSkip false, later than last appended at ").concat(this.VQ)),!1):!0;};l.prototype.trace=function(m){for(var p,r=[],q=1;q < arguments.length;q++)r[q - 1]=arguments[q];e.l && (p=this.console).trace.apply(p,d.__spreadArray([m],d.__read(r),!1));};l.prototype.CIa=function(m,p,r){var q,u;q=this;r && (this.VQ=r);u=this.Dj.length?this.Dj[this.Dj.length - 1]:void 0;if(void 0 === u || !this.wpa(u.Gs,m))return (this.Dj.push({Gs:m,timestamp:p}),e.l && this.console.log(("Added ").concat(this.OK(m)," to media sequence at"),{l8c:this.Dj.length,Gad:this.Dj.slice(0,3).map(function(v){return q.OK(v.Gs);}),j4c:this.vP.state,Q9c:this.Kl.state}),this.vP.state === g.bm.complete && this.vP.Tc(),this.Kl.state === g.bm.complete && this.Kl.Tc(),!0);u === this.Yob && (this.PLa=r);return !1;};l.prototype.wpa=function(m,p){return m === p;};l.prototype.e$b=function(m){this.trace("Item cloned");m.Dj=d.__spreadArray([],d.__read(this.Dj),!1);m.VQ=this.VQ;};l.prototype.v9=function(){var m,p,r,v;if(this.Db.Qd){p=this.Db.Xd;r=void 0;try{for(var q=d.__values(this.Dj),u=q.next();!u.done;u=q.next()){v=u.value;if(v.timestamp.Km(p))r=v;else break;}}catch(x){var w;w={error:x};}finally{try{u && !u.done && (m=q.return) && m.call(q);}finally{if(w)throw w.error;}}return null === r || void 0 === r?void 0:r.Gs;}};return l;})();b.jha=t;},55024:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.adb=void 0;d=a(22970);n=a(91176);c=a(65161);h=a(6832);f=a(36640);t=(function(){function e(g,k,l,m,p,r,q,u){this.mediaType=g;this.console=k;this.Db=l;this.Yja=m;this.vt=p;this.Vv=r;this.mc=q;this.YI=[];this.mediaType === c.v.U && this.YI.push(new f.oeb(g,k,l,m,p,r,q,u,2));this.YI.push(new h.Tha(g,k,l,m,p,r,q,1,null === u || void 0 === u?void 0:u.sRa()));}e.prototype.rz=function(g,k,l){this.Db=g;this.mc=k;this.Yja=l;this.VD.forEach(function(m){return m.rz(g,k,l);});};e.prototype.U3b=function(g){this.YI.push(g);};e.prototype.dY=function(g){return (0,n.ic)(this.YI,function(k){return k instanceof g;});};e.prototype.reset=function(){this.YI.forEach(function(g){return g.reset();});};e.prototype.close=function(){this.YI.forEach(function(g){return g.close();});};e.prototype.Ik=function(g){return d.__read(this.YI,1)[0].Ik(g);};Object.defineProperties(e.prototype,{VD:{get:function(){return this.YI;},enumerable:!1,configurable:!0}});e.prototype.JVa=function(){this.VD.forEach(function(g){return g.JVa();});};e.prototype.O0a=function(g){this.VD.forEach(function(k,l){var m;l=null === g || void 0 === g?void 0:g.VD[l];null === (m=k.O0a) || void 0 === m?void 0:m.call(k,l);});};return e;})();b.adb=t;},36640:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.oeb=void 0;d=a(22970);n=a(91176);c=a(48170);h=a(52571);f=0;t=(function(e){function g(k,l,m,p,r,q,u,v,w){k=e.call(this,("segment").concat(f++,"-").concat(k),l,m,p,r,q,u,"segment",w,null === v || void 0 === v?void 0:v.sRa()) || this;k.zp=v;return k;}d.__extends(g,e);g.prototype.cp=function(k){var l,m,p,r,q,u,v,w,x,y,z,B,A;v=k.Qb;w=k.Lb;x=k.qa;y=k.xa;z=k.bitrate;B=k.Mb;(0,h.assert)(void 0 !== v);A=null === (l=this.Db.Qm(v)) || void 0 === l?void 0:l.L;(0,h.assert)(A,"missing segment id");k={L:A,Dsb:k.Hn,qa:x,xa:y,qPb:z,QT:k.stream.Qa,Mb:B,AGc:null === (m=this.sZ) || void 0 === m?void 0:m.qPb,CGc:null === (p=this.sZ) || void 0 === p?void 0:p.Mb,BGc:null === (r=this.sZ) || void 0 === r?void 0:r.QT,wGc:null === (q=this.sZ) || void 0 === q?void 0:q.xa,Sd:null === (u=k.stream.M.S) || void 0 === u?void 0:u.Sd};c.l && this.console.log("segmentTracker: mediaAppended",{item:k});this.sZ=k;this.CIa(k,v,w) && c.l && this.trace(("segment ").concat(A," @ ").concat(v.G,"ms"),k);};g.prototype.wpa=function(k,l){return k.L === l.L && !l.Dsb;};g.prototype.UMa=function(k,l,m){var p,r,q,u,v,w,x,y,z,B,A;p=k.Gs;r=p.L;q=p.qPb;u=p.AGc;v=p.Mb;w=p.CGc;x=p.BGc;y=p.QT;z=p.qa;p=p.wGc;B=this.Db.Qm(l);A=B?this.Db.Gqc(B):void 0;(0,h.assert)(void 0 !== B,"segmentTracker::emitPresentingEvent: position should be defined");c.l && this.trace(("emitSegmentPresentingEvent @ ").concat(k.timestamp.G,"ms for segment ").concat(r));B.L !== r && (c.l && this.console.warn("player position:",B,"not equal to trackedElement:",r),B={L:r,offset:n.I.ia});k={type:"segmentPresenting",playerTimestamp:l,position:B,seek:m,playbackContextId:k.Gs.Sd,branchId:null === A || void 0 === A?void 0:A.tW};if(this.zp){if(r=this.zp.BPa(r))(r.destvbitrate=q,r.destvmaf=v,r.destVdlid=y,r.srcvbitrate=u,r.srcvmaf=w,r.srcVdlid=x,r.srcMoffms=null === p || void 0 === p?void 0:p.G,r.destMoffms=z.G);k.metrics=r;}c.l && this.trace(("segmentPresenting: ").concat(JSON.stringify(k)));this.events.emit(k.type,k);};g.prototype.reset=function(){e.prototype.reset.call(this);this.sZ=void 0;};g.prototype.close=function(){e.prototype.close.call(this);this.sZ=void 0;};g.prototype.OK=function(k){return ("").concat(k.L," seqFirst:").concat(k.Dsb);};return g;})(a(546).jha);b.oeb=t;},6832:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Tha=void 0;d=a(22970);n=a(97685);c=a(26388);h=a(48170);f=a(52571);e=0;t=(function(g){function k(l,m,p,r,q,u,v,w,x){return g.call(this,("stream").concat(e++,"-").concat(l),m,p,r,q,u,v,"stream",w,x) || this;}d.__extends(k,g);k.prototype.cp=function(l){var m,p,r;m=l.stream;p=l.Qb;r=l.Lb;l=l.qa;(0,f.assert)(void 0 !== p,"playerStartTimestamp undefined at media append");(0,f.assert)(void 0 !== l,"contentStartTimestamp undefined at media append");this.CIa({stream:m,qa:l},p,r) && h.l && this.trace(("stream ").concat(m.id,", ").concat(m.bitrate,"kbit/s @ ").concat(p.G,"ms"));};k.prototype.wpa=function(l,m){return l.stream === m.stream;};k.prototype.UMa=function(l,m){var p,r,q,u,v,w,x,y;u=l.Gs.stream;v=this.Db.Qm(m);(0,f.assert)(void 0 !== v);h.l && this.trace(("emitStreamPresentingEvent @ ").concat(l.timestamp.G,"ms for ").concat(null === u || void 0 === u?void 0:u.id,", ") + ("").concat(null === u || void 0 === u?void 0:u.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:u.mediaType,playerTimestamp:m,position:v,trackIndex:null === (p=null === u || void 0 === u?void 0:u.track) || void 0 === p?void 0:p.cJ,streamIndex:null === u || void 0 === u?void 0:u.jw,stream:u,manifest:null === (r=u.M) || void 0 === r?void 0:r.S,contentStartTimestamp:l.Gs.qa});if(h.l && u)if((l=u.Rm,u.mediaType === c.v.U)){m=u.track;p=u.zb;r=u.xe;w=u.IS;x=u.DYa;y=u.Mb;v=u.location;u=u.bitrate;n.TQ.log({Rm:l,type:"STREAM_RENDER",mediaType:"VIDEO",bitrate:(0,n.PK)(u),ul:null !== (q=null === p || void 0 === p?void 0:p.toString()) && void 0 !== q?q:n.mh,xd:r,framerate:m.frameRate?m.frameRate.Vx / m.frameRate.fv:-1,height:null !== w && void 0 !== w?w:-1,width:null !== x && void 0 !== x?x:-1,hR:null !== v && void 0 !== v?v:n.mh,Mb:null !== y && void 0 !== y?y:-1});}else u.mediaType === c.v.X && (m=u.track,p=u.zb,r=u.xe,v=u.location,u=u.bitrate,n.TQ.log({Rm:l,type:"STREAM_RENDER",mediaType:"AUDIO",bitrate:(0,n.PK)(u),ul:null !== (w=null === p || void 0 === p?void 0:p.toString()) && void 0 !== w?w:n.mh,xd:r,hR:null !== v && void 0 !== v?v:n.mh,channels:null !== (x=m.channels) && void 0 !== x?x:n.mh,language:n.mh}));};k.prototype.OK=function(l){return ("").concat(l.stream.Qa,"@").concat(l.qa.da());};return k;})(a(546).jha);b.Tha=t;},16290:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.vFa=void 0;d=a(79048);n=a(91176);c=a(66164);h=a(65161);t=(function(){function f(e,g){this.console=e;this.Z=g;}f.prototype.bva=function(e,g,k,l,m,p,r){var q,u;void 0 === m && (m=!1);void 0 === p && (p=void 0);void 0 === r && (r=!1);q=e.K;u=this.dmc(q);this.transition={startTime:c.platform.time.ha(),EOc:e,DOc:k.G,gma:g,Td:this.Jnc(l,g,r),CRc:this.fqc(l,m),YHc:p,Rec:m,rg:l,x9b:u,zAc:this.moc(q,k)};};f.prototype.sRa=function(){return !!this.transition;};Object.defineProperties(f.prototype,{gma:{get:function(){var e;return null === (e=this.transition) || void 0 === e?void 0:e.gma;},enumerable:!1,configurable:!0}});f.prototype.BPa=function(e){var g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J;if(this.transition && e === this.transition.gma){v=this.transition;w=v.x9b;x=v.zAc;y=v.Rec;z=v.rg;B=v.EOc;A=v.DOc;C=v.startTime;D=v.Td;F=v.CRc;v=v.YHc;this.transition=void 0;G=this.JOa(e).JJa;E=this.Clc(B.K.id,e,w);G=this.MAb(E.weight,G);H={};for(J in w)J !== e && (H[J]=w[J].details);w=c.platform.time.ha() - C;C=z?0:w;J={offset:this.Fpc(B,A,z,y),L:B.K.id};A={offset:n.I.Ca(A),L:B.K.id};x={segment:e,destPosition:{L:e,offset:n.I.ia},srcsegment:B.K.id,srcTransitionPosition:J,srcStartPosition:A,srcsegmentduration:B.nea.G,srcoffset:J.offset.G,seamlessRequested:this.BSa(z,y),atRequest:E,atTransition:G,discard:H,transitionType:D,transitionTypeAtRequest:F,delayToTransition:this.vmc(w,z,y),durationOfTransition:C,nextExitPositionAtRequest:x};v && (x.reasonCodes=v);y=null !== (k=null === (g=this.Z.Z.ba[e]) || void 0 === g?void 0:g.type) && void 0 !== k?k:d.Dd.content;g=null !== (m=null === (l=this.Z.Z.ba[B.K.id]) || void 0 === l?void 0:l.type) && void 0 !== m?m:d.Dd.content;e=null !== (r=null === (p=this.Z.Z.ba[e]) || void 0 === p?void 0:p.J) && void 0 !== r?r:void 0;p=null !== (u=null === (q=this.Z.Z.ba[B.K.id]) || void 0 === q?void 0:q.J) && void 0 !== u?u:void 0;e && p && (e !== p || -1 < [y,g].indexOf("adBreak") || -1 < [y,g].indexOf("ad")) && (x.auxMidType=y,x.auxSrcmidType=g,x.auxMid=e,x.auxSrcmid=p);return x;}};f.prototype.Clc=function(e,g,k){var l,m,p,r;p={};k=k[g];r=this.Z.Z.ba[e];if(k)p=k.details;else {(0,n.assert)(this.Z);if(!r)return p;p.weight=null === (m=null === (l=this.Z.Z.ba[e].next) || void 0 === l?void 0:l[g]) || void 0 === m?void 0:m.weight;}return p;};f.prototype.vmc=function(e,g,k){var l;k || (l=g?e:0);return l;};f.prototype.moc=function(e,g){var k,l,m;l=e.kb.add(g);null === (k=e.dy) || void 0 === k?void 0:k.some(function(p){l.lessThan(p.qa) && (m=p.qa.G);});return m;};f.prototype.Fpc=function(e,g,k,l){return this.BSa(k,l)?e.nea:n.I.Ca(g);};f.prototype.Jnc=function(e,g,k){return e?"perfect":k?"long":this.JOa(g).mwb?"reset":"long";};f.prototype.BSa=function(e,g){return e || g;};f.prototype.fqc=function(e,g){return this.BSa(e,g)?"lazy":"immediate";};f.prototype.dmc=function(e){var g,k;g=this;k={};e.EA.forEach(function(l){var m,p;m=e.IAc[l];p=g.JOa(l).JJa;k[l]={details:g.MAb(m,p)};});return k;};f.prototype.JOa=function(e){var g,k;e=this.Z.rY(e);g=0 < e.length?e[0]:void 0;e=null === g || void 0 === g?void 0:g.gQ();if(!g || !e)return {mwb:!1,JJa:{PT:0,CO:0,HM:0,dJ:0}};k=g.roa(h.v.X) && !e.CO;g=g.roa(h.v.U) && !e.PT;return {mwb:!k && !g,JJa:e};};f.prototype.MAb=function(e,g){return {weight:e,vbuflmsec:g.PT,abuflmsec:g.CO,vbuflbytes:g.HM,abuflbytes:g.dJ};};return f;})();b.vFa=t;},62819:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M,P,I,O,Q,S,U,W,Y,X,Z,aa,ca,da,ja,R,N,V,ba,fa,ha,la,pa,ia;function d(na){var T;T={};na.forEach(function(ea){ea.mediaType !== r.v.Ba && (T[ea.mediaType]=ea.Kr());});if(!(1 > Object.keys(T).length))return T;}Object.defineProperties(b,{__esModule:{value:!0}});b.txa=void 0;n=a(22970);c=a(90745);h=a(79048);f=a(91176);e=a(91176);g=a(66164);k=a(79048);l=a(91176);a(97685);m=a(16816);p=a(20271);r=a(65161);q=a(26286);u=a(70842);v=a(31485);w=a(52571);x=a(61651);y=a(40666);z=a(63576);B=a(91967);A=a(5653);C=a(17122);D=a(54366);F=a(63172);G=a(13580);E=a(61996);H=n.__importDefault(a(40497));J=a(46759);L=a(60028);K=a(73036);M=a(69575);P=a(6783);I=a(99548);O=a(8149);Q=a(29739);S=a(66412);U=a(94328);W=a(28696);Y=a(19455);X=a(25317);Z=a(86451);aa=a(88874);ca=a(25510);da=a(78538);ja=a(36472);R=a(54775);N=a(4489);V=a(35879);ba=a(56879);fa=a(86048);ha=a(70494);la=a(31509);t=a(75393);pa=a(46262);ia=t.qD.aMa;a=(function(){function na(T,ea,ka,ra,ta,qa,xa,Ba,oa,va){this.Vib=ea;this.config=ka;this.id=ra;this.Ju=qa;this.Jk=xa;this.K9b=Ba;this.zr=va;this.yGa=!1;this.TE=void 0;this.rNa=[];this.VB=void 0;this.bFb=!1;this.Di=this.Ea=void 0;this.H4b="2.0";this.sxb=this.HHa=this.Ku=void 0;this.$a=p.Ks.CLOSED;this.GGa=!0;this.m6=!1;this.kB=this.Pq=this.dt=void 0;this.Elb=new c.af();this.ZSa={};this.RJ=0;this.ova=!1;this.Ksc();this.console=new g.platform.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.Ze=new E.un({Ig:10,Fj:this,source:"AsePlaygraph",console:this.console});this.events=new c.EventEmitter();this.ur=h.SE.create(T);this.yKb(this.ur);this.Ya=new aa.Ccb();this.fi=new ha.Dcb(this.console);this.Ovc=new W.h7a(this.config,f.I.Ca(this.config.QG),{parent:function(za){return za.EY();},next:this.Tub.bind(this)},this.events,this.console);this.dvc=new Y.g7a(this.config,f.I.Ca(this.config.QG),{parent:function(za){return za.EY();},next:this.Tub.bind(this)},this.events,this.console);this.R_a=new v.Ueb(this.console,this.events);this.J6={wG:ka.qR || Infinity};this.player=new x.eha(this);this.Zc=new y.DI(this.player.La,this.console,"playgraph",1);this.Psc();this.Sf=new ca.p4a(this.console,ka,ta,this.events,this.Nra.bind(this),this.id,this.kj);this.wJ=new R.g4a(this.Zc,this.kj,this.config,this.bn.bind(this),this.ee,this.console,this);this.Ora=this.Sf.Ora.bind(this.Sf);this.w_=this.Sf.w_.bind(this.Sf);this.Zra=this.Sf.Zra.bind(this.Sf);this.Dra=this.Dra.bind(this);this.vra=this.vra.bind(this);this.zra=this.zra.bind(this);this.Ara=this.Ara.bind(this);this.Bra=this.Bra.bind(this);this.bM=this.bM.bind(this);this.Ye=new B.yha(ka,this.console);this.Hsc();this.Ye.Xc(new D.so(this.Sf.Ze));this.Ye.Xc(new F.$bb(this.$ub.bind(this)));this.Ye.Xc(new G.z6a(this.$ub.bind(this)));this.Ye.Xc(new D.so(this.Ze));this.Ye.Xc(new J.Bcb(this.Ya,this));this.Ye.Xc(new K.jfb(this.Zc));this.nwa=new Q.rEa("viewables");this.Ye.Xc(this.nwa);this.gMb=new fa.Teb(this,this.console,oa);this.AZ=new L.X9a(this.kj,this.console,this.events);this.Up=new la.Ecb(this.WXa.bind(this));this.UZa((0,z.r7)(),(0,z.s7)(this.console,this.config));}Object.defineProperties(na.prototype,{parent:{get:function(){return this.VB;},set:function(T){this.VB=T;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{state:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{Ro:{get:function(){return !(this.player instanceof x.eha);},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{Cc:{get:function(){return this.TE;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{Sk:{get:function(){var T;return null === (T=this.TE) || void 0 === T?void 0:T.Sk;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{Hb:{get:function(){return this.ur;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{GQ:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{Z:{get:function(){return this.ur.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{weight:{get:function(){return this.Vib;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{Zm:{get:function(){(0,w.assert)(this.tx,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.Ku.position;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{sLc:{get:function(){(0,w.assert)(this.tx,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.Mr(this.Zm).Pa;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{ee:{get:function(){return this.Sf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{Pn:{get:function(){return this.Sf.Pn;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{tx:{get:function(){return void 0 !== this.Ku;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{bh:{get:function(){return this.player.Qd?this.player.bh:this.Zm;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{Xd:{get:function(){return this.player.Qd?this.player.Xd:this.sLc;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{R5b:{get:function(){return this.o_b;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{lwa:{get:function(){return this.v2b;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{sH:{get:function(){return this.Ju;},enumerable:!1,configurable:!0}});Object.defineProperties(na.prototype,{HQa:{get:function(){return this.hda()?this.dvc:this.Ovc;},enumerable:!1,configurable:!0}});na.prototype.Psc=function(){this.kj=new y.DI(new C.Pha({Zi:!0,currentTime:function(){return f.I.Ca(g.platform.time.ha());},speed:1}),this.console,"wallclock");};na.prototype.Hsc=function(){var T;T=this;(0,ba.$bc)({Sf:this.Sf,kj:this.kj},y.Vd.Cy(f.I.Ca(this.config.T_)),function(){T.player.Qd && T.player.SA && (T.Sf.state.value === r.Ld.$l || T.Sf.state.value === r.Ld.Ff) && T.bib(T.player.SA);},"buffering");};na.prototype.Ksc=function(){var T;T=this;this.HA=function(ea){var ka,ra,ta,qa;ra=T.Hb.get(ea.position.L);(0,w.assert)(ra,"segment must exsts in workingPlaygraph");ta=T.FPa(ra);if(ta && T.player.Qd){qa=(0,M.usb)(T.player.Ya.filter(function(xa){return xa.K.id === ea.position.L;}),ea.playerTimestamp,{wnb:!0});qa && (null === (ka=T.player.zp) || void 0 === ka?void 0:ka.bva({K:ra,get nea() {return qa.xa.ea(ra.kb);}},ta,T.bh.offset,!0,!1,void 0));}T.Up.start();};this.n_=function(){T.Jk("onDrmReady");};this.UDb=function(ea){ea=ea.newValue;T.yGa || (T.yGa=ea);};this.rCc=function(){T.Jk("mediaEventsProgress");};};na.prototype.open=function(){this.GGa=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.$a !== p.Ks.CLOSED)return !1;this.$a=p.Ks.OPEN;return !0;};na.prototype.Ka=function(){var T;this.kj.Ka();this.Zc.Ka();this.$a !== p.Ks.CLOSED && (this.mg(m.aN.Ula),this.Up.Ka(),this.$a=p.Ks.CLOSED,this.Ro || this.player.Ka(),this.AZ.Ka(),null === (T=this.Cc) || void 0 === T?void 0:T.Ka());};na.prototype.Y8b=function(T,ea,ka){T=(0,da.lrb)(this.Ya,this.bM.bind(this),T,ea,ka).rmb;return this.dmb(T);};na.prototype.oy=function(T,ea,ka){var ra,ta,qa,xa,Ba,oa,va;ra=this;ta=this.dt;qa=this.Pq;xa=this.kB;this.dt=T;this.Pq=ea;this.kB=ka;ea=(0,da.lrb)(this.Ya,this.bM.bind(this));Ba=ea.rmb;T=ea.Q6b;ea=ea.w4b;if(0 === Ba.length)return !0;if(!this.dmb(Ba))return (this.dt=ta,this.Pq=qa,this.kB=xa,!1);oa=this.bh;this.player.r0(Ba);this.player.vea(ea);va=this.Mr(oa).Pa;T.forEach(function(za){var ua,ya,Da;ua=za.sa;ya=za.ka;Da=oa.L === ua.K.id?va:void 0;za=ra.Ya.Sna(ua);ua.oy(ya,Da,void 0 !== za,Ba);ua.Hm && (ya=ua.M,ua.K.type === h.Dd.padding && (ya={aL:[0,0]}),ra.Up.state === la.pI.KN && ra.hHa(ua,ya,!za,ua.M.S));});this.Sf.UCc(oa,T[0].ka);return !0;};na.prototype.r7=function(T){return (0,z.r7)(this.config,T);};na.prototype.s7=function(T){return (0,z.s7)(this.console,this.config,T);};na.prototype.o9=function(T,ea){var ka,ra,ta;ka=this.Hb.get(T);ra=this.Hb.get(ea);(0,w.assert)(ka,"currentSement must exist in workingPlaygraph");(0,w.assert)(ra,"currentSement must exist in workingPlaygraph");ta=this.FPa(ka);return {FTc:ka.wrc(ea),K6:ea !== T && this.Ya.has(ea) && this.Ya.hq(ea)[0].Kf,mla:ra.kb.G,NUa:ta};};na.prototype.bn=function(T,ea,ka,ra){var ta,qa,xa,Ba,oa,va,za;ta=this;void 0 === ra && (ra=!0);if(!ea)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(ra && this.fi.get(T))ka || this.fi.set(T,ea);else {oa=this.rY(T)[0];va=this.Hb.get(T);(0,w.assert)(va,"currentSegment must exist in workingPlaygraph");za=1 === va.RD && 0 === (null !== (xa=null === (qa=va.Cl) || void 0 === qa?void 0:qa.length) && void 0 !== xa?xa:0) && va.EA[0] === ea;this.bh.L !== T || !oa || za && ka || (null === (Ba=this.player.zp) || void 0 === Ba?void 0:Ba.bva({K:oa.K,get nea() {return oa.xa.ea(oa.K.kb);}},ea,this.bh.offset,ra,ka,void 0));ra || (T={offset:f.I.ia,L:ea},this.Ku={position:T,Kf:!0,iOb:T});ka?this.fi.uMc(va.id,ea):this.fi.set(va.id,ea);this.Up.start();ra && va.dy && 0 < va.dy.length && ((0,w.assert)(oa),oa.Ova(va.dy) && this.rY(ea).forEach(function(ua){return ta.xy(oa,ua);}));ra || this.Sf.t_(this.Zm);}};na.prototype.dmb=function(T){var ea,ka;if(0 === T.length)return !0;if(this.player.aT && this.player.UQ.value.ea(this.player.Xd).lessThan(f.I.Ca(5E3)))return !1;T=this.player.Ya;if(!T.length)return !0;ka=null === (ea=T[0]) || void 0 === ea?void 0:ea.M.J;return !T.some(function(ra){return ra.M.J !== ka;});};na.prototype.xy=function(T,ea){T=T.Lb.ea(ea.K.kb);ea.xy(T,"from playgraph");this.rOb(ea);};na.prototype.rOb=function(T){var ea;ea=this;this.Ya.emc(T).forEach(function(ka){return ea.xy(T,ka);});};na.prototype.fl=function(T){var ea;ea=this;Object.keys(T).forEach(function(ka){return ea.Hb.fl(ka,T[ka]);});this.Up.start();};na.prototype.UZa=function(T,ea){this.o_b=T;this.v2b=ea;this.state === p.Ks.Jp && this.Jk("setStreamFilters");};na.prototype.m3b=function(T){(0,w.assert)(-1 === this.rNa.indexOf(T),"Attempted to add the same evaluation hook twice");this.rNa.push(T);};na.prototype.aNc=function(T){return this.Ju.rJc(T);};na.prototype.YL=function(T){this.rua(T);};na.prototype.rua=function(T,ea){var ka,ra,ta,qa,xa,Ba,oa,va;ta=this.Z;qa=(0,U.ITc)(ta,T);if(qa.mZ){xa=(0,U.fJb)(ta,T);if(void 0 === xa){Ba=("Invalid seekPosition after sanitization to ").concat(T.L) + ("(").concat(T.offset.G,"ms)") + (", reason: ").concat(qa.reason);this.Mf({Fi:Ba,J:null === (ka=ta.ba[T.L]) || void 0 === ka?void 0:ka.J});}else if(void 0 === this.dt || void 0 === this.Pq)this.Mf({Fi:"No track selectors available"});else if((ka=!(this.Ro && this.player.zv) && (0,U.FQa)(null === (ra=this.Ku) || void 0 === ra?void 0:ra.iOb,xa),this.events.emit("seeking",{type:"seeking",position:T,duplicate:ka}),!ka)){this.HHa=ea;this.tx?(this.L0a(xa),this.Wmb(T)):this.Ya.empty && ea && (ea=this.player.hK()) && (this.L0a(xa,{L:ea.K.id,offset:ea.de}),this.Wmb(T));ea=this.qPa();try{oa=ta.ba[xa.L].J;va=this.rx().filter(function(za){return za.J === oa;})[0];this.mg(m.aN.azb);this.O9b();this.Ku={position:xa,iOb:xa,Kf:!1};this.sxb=f.I.ia;this.Sf.t_();null === (Ba=this.Cc) || void 0 === Ba?void 0:Ba.Sk.t_(va,xa);this.$a=p.Ks.Jp;this.Up.start();}finally{this.events.emit("seeked",{type:"seeked",position:T});ea.release();}}}else (Ba=("Invalid seekPosition to ").concat(null === T || void 0 === T?void 0:T.L) + ("(").concat(T.offset.G,"ms)") + (", reason: ").concat(qa.reason),this.Mf({Fi:Ba,J:null === (xa=ta.ba[T.L]) || void 0 === xa?void 0:xa.J}));};na.prototype.L0a=function(T,ea,ka,ra,ta){var qa,xa;void 0 === ka && (ka=!1);void 0 === ta && (ta=!1);xa=this.Hb.get((null === ea || void 0 === ea?void 0:ea.L) || this.bh.L);(0,w.assert)(xa,"currentSegment must exist in workingPlaygraph");null === (qa=this.player.zp) || void 0 === qa?void 0:qa.bva({K:xa,nea:xa.Vb},T.L,ea?ea.offset:this.bh.offset,!1,ka,ra,ta);};na.prototype.Wmb=function(T){var ea,ka;if((null === (ea=this.player.hK()) || void 0 === ea?void 0:ea.K.id) === T.L){if((this.fi.R9b(T.L),!this.fi.get(T.L) && this.player.zv)){T=this.player.Ya;ka=this.player.hK();ka && (T=(0,e.ic)(T,function(ra){return ra.parent === ka;})) && this.fi.set(ka.K.id,null === T || void 0 === T?void 0:T.K.id);}}else this.fi.AKa();};na.prototype.qPa=function(){var T,ea;T=this;ea=this.Ya.filter(function(ka){return ka.K.J !== h.Xq && !ka.Ewb;}).map(function(ka){var ra;if(T.Ju.voa(ka.K.J)){ra=T.Z8(ka.K.id,ka.K.J);return T.Ju.qs(ka.K.J,ra).Rk;}}).filter(f.ed);return new l.KU({name:"playgraphLeases",lba:function(){ea.forEach(function(ka){return ka.release();});},console:this.console}).oz();};na.prototype.mg=function(T){var ea,ka,ra;void 0 === T && (T=m.aN.Ula);this.events.emit("cancelingStreaming",{type:"cancelingStreaming",reason:T});this.Sf.stop();ra=this.rx();this.Ya.reset();if(T === m.aN.Ula && (this.fi.AKa(),ra.length))try{for(var ta=n.__values(ra),qa=ta.next();!qa.done;qa=ta.next())qa.value.HHb();}catch(Ba){var xa;xa={error:Ba};}finally{try{qa && !qa.done && (ea=ta.return) && ea.call(ta);}finally{if(xa)throw xa.error;}}this.Zc.Tc();this.player.reset();this.Ku=void 0;this.wJ.reset();null === (ka=this.Elb) || void 0 === ka?void 0:ka.clear();this.$a === p.Ks.Jp && (this.$a=p.Ks.OPEN);this.events.emit("cancelStreaming",{type:"cancelStreaming",reason:T});};na.prototype.rY=function(T){return this.Ya.hq(T);};na.prototype.Wk=function(T){this.Sf.Wk(T);(0,w.assert)(this.player.Jm,"Must have an appended branch on underflow");this.player.xkb && this.Sf.Pn && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),T=this.In(this.Xd),this.Sf.rm("complete",T.u1,T.v1));this.wJ.lea(this.player.Jm,this.Xd,!0);this.Jk("onUnderflow");this.events.emit("underflow");};na.prototype.Xc=function(T){this.Ye.Xc(T);};na.prototype.fMc=function(T){(0,w.assert)(!this.Cc,"AdManager already set");this.TE=T;this.TE.Sk.events.addListener("mediaEventsProgress",this.rCc);};na.prototype.rz=function(T){this.Xc(new A.Ddb(T));this.Sf.BCc();return this.Tkb(T);};na.prototype.Tkb=function(T){var ea;ea=this.player;if(!this.player.N0a(T))return (this.Mf({Fi:"player in use"}),!1);this.player=T;this.Zc.gka(this.player.La);this.player.events.on("segmentPresenting",this.HA);this.player.events.on("drmReady",this.n_);this.player.cp.addListener(this.UDb);T=this.npc();0 < T.length && this.player.vea(T);this.events.emit("playerChanged",{type:"playerChanged",old:ea,"new":this.player});return !0;};na.prototype.ofc=function(){this.Ro && (this.player.events.Om("segmentPresenting",this.HA),this.player.events.Om("drmReady",this.n_),this.player.cp.removeListener(this.UDb),this.Tkb(new x.eha(void 0)));};na.prototype.Mr=function(T){var ea,ka;ea=T.offset;ka=this.Hb.get(T.L);(0,w.assert)(ka,"segment must exist in workingPlaygraph");T=ka.J;ea=ka.kb.add(ea);return {J:T,Pa:ea};};na.prototype.Qm=function(T,ea){var ka;ka=this.player.Qm(T);if(void 0 !== ka)return ka;ka=this.player.Jm;return (0,U.Qm)(T,{la:this,Rsc:ka && ({id:ka.K.id,BLc:ka.Wv})},ea);};na.prototype.Zz=function(T,ea){void 0 === ea && (ea=!1);T=this.K9(T,ea).next();if(!T.done)return (T=T.value,null === T || void 0 === T?void 0:T.Yn);};na.prototype.K9=function(T,ea){var ka,ra,ta,qa,xa,Ba,oa,va,za,ua,ya,Da,Ja,Ka;void 0 === ea && (ea=!1);return n.__generator(this,function(La){switch(La.label){case 0:(ka=this.player.K9(T),ra=ka.next(),La.label=1);case 1:return ra.done?[3,3]:[4,ra.value];case 2:return (La.T(),ra=ka.next(),[3,1]);case 3:if(!ea)return [2];ta={};qa=this.bh;this.Ro && this.player.Qd && (oa=this.player.Jm) && (Ba=this.Hb.get(oa.K.id)) && (qa={offset:f.I.ia,L:oa.K.id},xa=oa.Lb.ea(this.player.Xd));xa || (Ba=this.Hb.get(qa.L),(0,w.assert)(Ba,("currentSegment ").concat(qa.toString()," must exist in workingPlaygraph")),xa=Ba.kb.add(qa.offset).ea(Ba.Rb));(0,w.assert)(Ba,"Current segment should be defined by here");va=this.Xd;if(Ba.Dc && Ba.id !== T.L)return [3,6];if(Ba.id !== T.L)return [3,5];za=T.offset.ea(qa.offset);return [4,{gv:za,Yn:va.add(za)}];case 4:(La.T(),La.label=5);case 5:return [2];case 6:(ua=this.Hb.get(Ba.Dc),(0,w.assert)(ua,("currentSegment.defaultNext must exist in workingPlaygraph ").concat(Ba.Dc," from ").concat(T.L)),ya=this.Hb,Da=this.Hb.Xyb(function(Oa,Na){Oa=ya.get(Na);(0,w.assert)(Oa,"nextSegment must exist in workingPlaygraph");return Oa.Dc;},ua.id),Ja=Da.next(),La.label=7);case 7:if(Ja.done)return [3,11];Ka=Ja.value;if(ta[Ka.id])return [3,11];ta[Ka.id]=!0;if(Ka.id !== T.L)return [3,9];za=T.offset.add(xa);return [4,{gv:za,Yn:va.add(za)}];case 8:return (La.T(),[2]);case 9:(xa=xa.add(Ka.Vb),La.label=10);case 10:return (Ja=Da.next(),[3,7]);case 11:return [2];}});};na.prototype.iJb=function(T){return (0,U.fJb)(this.Z,T);};na.prototype.Ar=function(T){return (0,P.Ar)(this.Z,T.J,T.Pa);};na.prototype.msb=function(T){var ea,ka,ra,ta;ea=this.bh;if(this.Z.ba[ea.L].J === T)return ea;if(this.player.Qd){ka=this.player.Ya;ra=ka.indexOf(this.player.SA);if(-1 !== ra)for(;ra < ka.length;ra++){ta=ka[ra];if(ta.K.J === T)return {L:ta.K.id,offset:ta.qa};}}for(ea=this.player.Jm?{L:this.player.Jm.K.id,offset:this.player.Jm.qa}:ea;;){ka=this.Z.ba[ea.L];if(ka.J === T)return ea;if(ka.Dc)ea={L:ka.Dc,offset:f.I.ia};else break;}};na.prototype.sv=function(T,ea){var ka,ra,ta,qa;void 0 === ea && (ea={fkb:!1});if(T.J !== h.Xq){ta=this.Ar(T);ta=this.Z8(null === ta || void 0 === ta?void 0:ta.L,T.J);ta=this.Ju.qs(T.J,ta);try{qa=T.Pa;(null === (ka=ta.M) || void 0 === ka?0:ka.Ob) && !ea.fkb && (qa=(0,I.sra)(this.console,ta.M.Jn(),ta.M,qa));if(void 0 === this.Pq)this.Mf({Fi:"No track selectors available"});else return null === (ra=ta.M) || void 0 === ra?void 0:ra.sv(this.config,qa,this.Pq);}catch(xa){this.console.error(xa,xa.stack);}finally{ta.Rk.release();}}};na.prototype.ssb=function(T){var ea;ea=this.sv(T);if(ea)return n.__assign(n.__assign({},T),{Pa:ea.qa});};na.prototype.Nna=function(){return (0,N.xtb)(this.Ya,this.dpa.bind(this));};na.prototype.dpa=function(T){T=this.Ya.Sna(T);return void 0 === T || T.Wj && this.dpa(T);};na.prototype.Mna=function(){return this.J6.wG;};na.prototype.Hmc=function(T){return (0,V.Jvb)(this.Ya,T);};na.prototype.In=function(T){var ka,ra,ta,qa;function ea(xa){return xa?Math.max(xa - T.G,0):0;}ka=this;this.Ya.aK(function(xa){var Ba,oa,va;Ba=xa.uY(r.v.X);oa=xa.uY(r.v.U);va=xa.uY(r.v.Ba);if(xa.K.j1 || !ka.Ya.moa(xa) || !xa.Wj){if(!ra || Ba < ra)ra=Ba;if(!ta || oa < ta)ta=oa;if(!qa || va < qa)qa=va;}return xa.Wj;});return {u1:ea(ra),v1:ea(ta),pNb:ea(qa)};};na.prototype.wQa=function(T){return (T=this.ur.MG(T))?this.ur.bH.get(T):void 0;};na.prototype.fQ=function(){var T,ea,ka,ra;ka=this.tx?this.In(this.Xd):{u1:0,v1:0,pNb:0};ra=H.default.instance().get();return {totalabuflmsecs:ka.u1,totalvbuflmsecs:ka.v1,totaltbuflmsecs:ka.pNb,abuflbytes:0,vbuflbytes:0,tbuflbytes:0,currentBandwidth:null !== (ea=Number(0 < ra.confidence) && (null === (T=ra.jb) || void 0 === T?void 0:T.Da)) && void 0 !== ea?ea:0};};na.prototype.OY=function(){var T,ea,ka,ra,ta,qa,xa,Ba;T=this;if(this.Fx())return (this.Ze.kg({isStreamingFailureReported:!0}),[]);ka=this.Ya.size;this.Ze.kg({branchCount:ka});if(!this.tx || 0 === ka)return [];ra=this.Xd;ta=this.bh;qa=[];ka=this.Hb.get(this.bh.L);(0,w.assert)(ka,"presentingSegment must exist in workingPlaygraph");xa=ka.Vb;Ba=this.fi.get(ka.id)?1:null !== (ea=ka.gw) && void 0 !== ea?ea:1;ea=this.Ya.reduce(function(oa,va,za){var ua,ya,Da,La,Oa,Na,Pa;Da=va.Lna();try{for(var Ja=n.__values(Da),Ka=Ja.next();!Ka.done;Ka=Ja.next()){La=Ka.value;if(!La.Vo()){Oa=("p").concat(T.id,"-").concat(za,"-").concat(null === (ya=va.Qb) || void 0 === ya?void 0:ya.G);Na=T.Rpc(La);Pa=new pa.Mcb(T,La,Oa,Ba,xa.G,Na.G,ra.G,ta);oa.push(Pa);}!La.Ex() && T.Ze.enabled && qa.push({segmentId:La.L,isDoneStreaming:La.Vo(),isNormalized:La.Kf(),needsHeaderRequest:La.track.Vaa});}}catch(Va){var Ta;Ta={error:Va};}finally{try{Ka && !Ka.done && (ua=Ja.return) && ua.call(Ja);}finally{if(Ta)throw Ta.error;}}return oa;},[]);this.Ze.kg({nonStreamables:qa});return ea;};na.prototype.Rpc=function(T){var ea;ea=T.EY();if(this.config.GX && ea && (0,k.dSa)(ea.sa.K.doa(T.L)))return T.Zj;for(;ea && !ea.nWa;)(T=ea,ea=ea.EY());return T.Zj;};na.prototype.Tub=function(T){var ea;if(!T.sa.Rc){ea=T.sa.K.Dc;if(ea)return (ea=n.__read(this.Ya.hq(ea),1)[0],null === ea || void 0 === ea?void 0:ea.qG(T.mediaType));}};na.prototype.Nra=function(T,ea,ka){var ra,ta,qa;if(!this.R_a.Fx()){ra=void 0;try{ta=this.bh;if(ta){qa=this.Hb.get(ta.L);(0,w.assert)(qa,"currentPosition segment must exist in workingPlaygraph");ra=qa.J;}}catch(xa){this.console.error("Error getting viewableId for buffering timeout",xa,"state:",this.Sf.state.value,"hasPlayer:",this.Ro,"hasPosition:",this.player.Qd,"branches:",JSON.stringify(this.player.Ya));}this.Mf({Fi:T,J:ra,wC:ea,$G:null === ka || void 0 === ka?void 0:ka.dh,fk:null === ka || void 0 === ka?void 0:ka.fk,Rg:null === ka || void 0 === ka?void 0:ka.Rg});}};na.prototype.Mf=function(T){this.R_a.Mf(T);return !0;};na.prototype.V0a=function(T,ea){ea=this.Kna(ea,T);this.events.emit("logdata",{type:"logdata",target:T,fields:ea});};na.prototype.Kna=function(T,ea){void 0 !== T && this.AZ.Xvc(T);ea=this.Ye.ph(T,ea);T === B.Ic.tj && (T=this.fQ(),ea.vbuflmsec=T.totalvbuflmsecs,ea.abuflmsec=T.totalabuflmsecs,ea.vbuflbytes=T.vbuflbytes,ea.abuflbytes=T.abuflbytes,ea.audioSwitchability=this.zqc());return ea;};na.prototype.zqc=function(){var T;T=this;this.rx().forEach(function(ea){var ka;ka=ea.J;-1 !== ka && void 0 !== ea.pW && (T.ZSa[ka]=ea.pW);});return this.ZSa;};na.prototype.LPa=function(){return this.Ye.xOa();};na.prototype.qOb=function(T){this.J6=T;this.Jk("updateBudget");};na.prototype.Fx=function(){return this.R_a.Fx();};na.prototype.t1a=function(T){T !== this.weight && (this.Vib=T,this.events.emit("weightUpdated"));};na.prototype.JT=function(T){var ea,ka;ea=this;ka=this.C8b(T.Z);ka.success?(this.player.yba(function(){ea.yKb(T.e6(ea.ur));}),this.Up.start()):this.Ze.kg({current:this.Hb.Z,target:T.Z});return ka;};na.prototype.FM=function(T){T=h.SE.update(this.ur,T);return this.JT(T);};na.prototype.C8b=function(T){var ea,ka,ra,ta,qa,xa,va,za,ua,ya,Da,Ja,Ka,La,Oa;ra=(0,Z.d8b)(this.Z,T);ta=ra.fy;qa=ra.Xp;xa=ra.dSc;if([ra.eW,ta,qa].every(function(Pa){return !Pa.length;}))return {success:!0,reason:r.Yy.wXb};if(0 === qa.length && 0 === xa.length && this.Ro && this.player.Qd)return {success:!1,reason:r.Yy.tWb};if(this.player.Ya.some(function(Pa){return -1 < ta.indexOf(Pa.K.id);}))return {success:!1,reason:r.Yy.MYb};if(this.tx && !this.player.Qd && -1 < ta.indexOf(this.Zm.L))return {success:!1,reason:r.Yy.fVb};if(this.tx)try{for(var Ba=n.__values(qa),oa=Ba.next();!oa.done;oa=Ba.next()){va=oa.value;za=this.Z.ba[va];ua=za.ib;ya=za.J;Da=T.ba[va];Ja=Da.ib;Ka=Da.eb;La=Da.J;if(this.bh.L === va && Ja !== ua){if(!Ja)return {success:!1,reason:r.Yy.NYb};Oa=f.I.Ca(Ja - Ka + 1);if(null === (ka=this.bh.offset) || void 0 === ka?0:ka.greaterThan(Oa))return {success:!1,reason:r.Yy.wQb};}if(ya !== La)return {success:!1,reason:r.Yy.DTb};}}catch(Pa){var Na;Na={error:Pa};}finally{try{oa && !oa.done && (ea=Ba.return) && ea.call(Ba);}finally{if(Na)throw Na.error;}}return {success:!0,reason:r.Yy.vXb};};na.prototype.Jn=function(T){var ea;ea=n.__read(this.rx().filter(function(ka){return ka.J === T;}),1)[0];if(ea)return ea.Jn();};na.prototype.Aub=function(){var T,ea;ea=Infinity;try{for(var ka=n.__values(this.Ya),ra=ka.next();!ra.done;ra=ka.next())ea=Math.min(ea,ra.value.nvb());}catch(qa){var ta;ta={error:qa};}finally{try{ra && !ra.done && (T=ka.return) && T.call(ka);}finally{if(ta)throw ta.error;}}return ea;};na.prototype.Bub=function(){var T,ea;ea=Infinity;try{for(var ka=n.__values(this.Ya),ra=ka.next();!ra.done;ra=ka.next())ea=Math.min(ea,ra.value.aoa());}catch(qa){var ta;ta={error:qa};}finally{try{ra && !ra.done && (T=ka.return) && T.call(ka);}finally{if(ta)throw ta.error;}}return ea;};na.prototype.yKb=function(T){var ea;ea={type:"playgraphUpdating",Jra:this.Hb.Z,jra:T.Z};this.ur=T;this.iTc();this.events.emit("playgraphUpdating",ea);};na.prototype.iTc=function(){var T,ea,ka,ra,ta;ka=this.player && this.Ro && this.player.Qd?this.bh:void 0;if(ka){ra=this.Hb.get(ka.L);(0,w.assert)(ra,"currentPosition segment must exist in workingPlaygraph");ka=null === (T=this.player.zp) || void 0 === T?void 0:T.gma;if((T=this.FPa(ra)) && T !== ka && this.player.zv){ta=this.player.SA;null === (ea=this.player.zp) || void 0 === ea?void 0:ea.bva({K:ta.K,get nea() {return ta.xa.ea(ta.K.kb);}},T,this.bh.offset,!0,!1,void 0);}}};na.prototype.aH=function(T,ea){var ka;this.YHb(T);T.NP.addListener("criticalNetworkError",this.Ora);T.NP.addListener("temporaryNetworkError",this.w_);T.NP.addListener("requestError",this.w_);T.NP.addListener("updatingLastSuccessEvent",this.Zra);ka=1 >= this.rx().filter(function(ra){return ra === T;}).length;T.events.addListener("logdata",this.Dra);T.events.addListener("asereportconfigoverrides",this.vra);T.events.addListener("liveEventTimesUpdated",this.zra);T.events.addListener("liveLoggingInfoUpdated",this.Ara);T.events.addListener("livePostplayUpdated",this.Bra);T.Ob && ka && (T.AGb(),T.xZ && T.xZ.Xc(this.Ye),this.nwa.vsc(T.Ye,T.R));ka=this.zr.vPa(T);ka.Tu === this.config.Tu && ka.qz === this.config.qz && ka.nJ === this.config.nJ || this.events.emit("asereportconfigoverrides",{type:"asereportconfigoverrides",Tu:ka.Tu,qz:ka.qz,nJ:ka.nJ});this.$a === p.Ks.Jp && ea && this.Nca();};na.prototype.KVa=function(T){var ea;ea=0 === this.Ya.filter(function(ka){return ka.Hm && ka.M === T;}).length;this.ZSa[T.J]=T.pW;ea && (this.YHb(T),this.nwa.THb(T.Ye));};na.prototype.YHb=function(T){T.NP.removeListener("criticalNetworkError",this.Ora);T.NP.removeListener("temporaryNetworkError",this.w_);T.NP.removeListener("updatingLastSuccessEvent",this.Zra);T.events.removeListener("logdata",this.Dra);T.events.removeListener("asereportconfigoverrides",this.vra);T.events.removeListener("liveEventTimesUpdated",this.zra);T.events.removeListener("liveLoggingInfoUpdated",this.Ara);T.events.removeListener("livePostplayUpdated",this.Bra);this.nwa.THb(T.Ye);};na.prototype.vjb=function(T){var ea;(0,w.assert)(T.Kf,"expected branch to be normalized on addBranchToPlayer");this.player.zv || (null === (ea=this.Ku) || void 0 === ea?0:ea.Kf) || this.ekc(T);this.Sf.xea(T.ka);this.player.zv && (ea=this.player.Jm) && this.fi.clear(ea.K.id);this.player.QX(T);this.events.emit("branchEnqueued",{sa:T,type:"branchEnqueued"});this.wJ.lea(T,this.Xd);};na.prototype.ekc=function(T){var ea,ka;(0,w.assert)(T.qa,"Normalized branch should have a defined content start timestamp");(0,w.assert)(this.Ku,"AsePlaygraph should have a seek position on first branch normalization");(0,w.assert)(!this.Ku.Kf,"Seek position should not already be normalized on first branch normalization");ea=T.M;ka=this.Hb.get(T.K.id);(0,w.assert)(ka,"WorkingSegment for a normalized branch must exist");if(!ka.Mm)if(ea.Ob)this.rra(T);else {if(void 0 === this.dt || void 0 === this.Pq){this.Mf({Fi:"No track selectors available"});return;}this.Hb.normalize(ea.J,ea.tra.bind(ea,[this.dt,this.Pq,this.kB]));}this.Ku=n.__assign(n.__assign({},this.Ku),{position:{L:ka.id,offset:T.qa.ea(ka.kb)},Kf:!0});this.Sf.kMc(this.Ku.position,T.ka.filter(function(ra){return ra.mediaType === r.v.X;})[0]);};na.prototype.rra=function(T){var ea,ka;ea=n.__read(T.ka,1)[0];(0,w.assert)((0,O.Xo)(ea),"Expected primary track to be live");(0,w.assert)(T.M.Yc,"Expected live viewable with position service");ea=(0,I.dba)(this.console,this.config,T.M,T.K.Rb) || f.I.qh;ka=T.parent || T.K.kb.i_(f.I.ia)?f.I.qh:T.M.Yc.Jn(!1);ka=(0,I.sra)(this.console,ka,T.M,f.I.Ca(T.K.eb));this.Hb.rra(T.K.id,ka,ea);this.Nca();};na.prototype.O9b=function(){var T;this.wJ.reset();this.player.zJ();this.Ku=void 0;null === (T=this.Elb) || void 0 === T?void 0:T.clear();};na.prototype.Vuc=function(T,ea,ka){ea=this.gMb.CF(ea,T.Tk.mediaType,1 > ka || !T.Tk.sa.Rc && !this.dpa(T.Tk.sa));1 === ka && "global" === (0,r.oHb)(ea.reason) && this.Sf.gCc(T.Tk.mediaType,this.In(this.Xd));return ea;};na.prototype.NK=function(T){var ea,ka,ra,ta,qa,xa,Ba,oa,va,za,ua,ya;T=T.Tk;ta=T.mediaType;qa=this.HQa.FJb(this.ee.value,this.Xd,T.IH,T.P_a,this.player.playbackRate,T,this.Sf.dX,this.R5b,this.lwa,this.m6);xa=qa.stream;Ba=qa.QD;oa=qa.ZY;va=qa.ky;za=qa.Vn;ua=qa.reason;ya=qa.bsb;qa=qa.IJb;if(!xa)return {Lf:!1,reason:ua || "selectLocationsAndStream"};if(void 0 === this.Pq)return (this.Mf({Fi:"No track selectors available"}),{Lf:!1,reason:"noTrackSelectors"});if(T.Vo())return {Lf:!1,reason:"pipelineDoneStreaming"};if(this.ee.value === r.Ld.Jp && T.sa && T.sa.M.Qo && !T.sa.M.pyb(this.Pq) && !this.player.r$(T.sa.M.J)){ua=T.IH.G - this.Xd.G;if(!T.sa.M.rv && ua > this.config.jBb)return {Lf:!1,reason:"maxBufferingCompleteBufferInMs"};if(!xa.gk && xa.mediaType === r.v.U && ua >= this.config.rqa)return {Lf:!1,reason:"maxFastPlayBufferInMs"};}ua=r.v.U;if(null === (ea=T.sa) || void 0 === ea?0:ea.ka.every(function(Da){return Da.mediaType === r.v.X;}))ua=r.v.X;this.Sf.Pn && ta === ua && this.Sf.EMc(T.up.wua,xa.bitrate,oa);this.vMc(T.sa.K,Ba);ea=null === (ka=T.sa.wy) || void 0 === ka?void 0:ka.G;ka=T.X0a(xa,za,va);ka.Lf?(this.GGa && (this.KV("firstDriveStreaming"),this.GGa=!1),0 < this.RJ && (xa=null === (ra=T.sa.wy) || void 0 === ra?void 0:ra.G,ea && xa && (this.RJ-=ea - xa,0 >= this.RJ && this.Nca())),this.events.emit("requestIssued",{type:"requestIssued",nativetime:g.platform.time.ha(),mediaType:ta,result:qa,streamList:ya,segmentId:T.sa.K.id})):"waitingOnMediaEvents" === ka.reason && ((0,w.assert)(this.Cc,"waitingOnMediaEvents requires adManager"),this.Cc.Sk.hAc(T.sa.M.J,T.IH,T.P_a));return ka;};na.prototype.SMc=function(T){this.config.enableCprVideo=T;};na.prototype.vMc=function(T,ea){var ka;ka=this;ea.forEach(function(ra){ra.M.jKb(ra,T,function(){var ta,qa;(0,w.assert)(ka.tx,"Speculative header callback after streaming is cancelled");ta=ka.Xd.G;qa=ta + ka.config.TZ;return {Tg:[],ee:ka.Sf.state.value,Ut:qa,fo:qa,Io:ta};});});};na.prototype.Nca=function(){var T;T=this;return new Promise(function(ea){T.Up.Rea(la.pI.sE,function(){T.Up.start();T.Up.Rea(la.pI.KN,ea);});});};na.prototype.WXa=function(){var T,ea,ka,ra,ta;T=this;if(this.$a === p.Ks.Jp){ea=this.bh;ka=this.player.Ya;ra=this.Ya.mqc();ta=n.__read(ka,1)[0];ea=ta?this.Hb.get(ta.K.id):this.Hb.get(ea.L);(0,w.assert)(ea,"startSegment must exist in workingPlaygraph");ka=ka.map(function(qa){return {id:qa.K.id,duration:qa.Lb.ea(qa.Qb).G};});ra=(0,X.WXa)(this.console,this.Hb.awb,ea,ra,this.fi,ka,f.I.Ca(this.config.N6b),this.config.xUa,f.I.Ca(this.config.EJa));ka=ra.LD;this.RJ=ra.RJ || 0;ra=this.rNa.reduce(function(qa,xa){var Ba;Ba=xa(qa.LD);xa=Ba.KT;Ba=Ba.LD;qa.KT || (qa.KT=xa);qa.LD=Ba;return qa;},{KT:!1,LD:ka});this.bFb=ra.KT;this.Ya.wSc(ra.LD,function(qa,xa){var Ba,oa;oa=T.Hb.get(qa);(0,w.assert)(oa,"segment must exist in workingPlaygraph");qa=qa === T.Zm.L?T.Zm.offset:qa === (null === (Ba=T.HHa) || void 0 === Ba?void 0:Ba.L)?T.HHa.offset:f.I.ia;Ba=oa.kb.add(qa);return T.PRc(oa,Ba,xa);}).fy.forEach(function(qa){qa.mg("aborted");});this.XXa();ra.KT || this.Bmb();this.Up.Rea(la.pI.sE,function(){var qa;(null === (qa=T.Ya.root()) || void 0 === qa?0:qa.Hm) && T.Jk("reevaluateBranches");T.Up.Jaa(la.pI.KN);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};na.prototype.rx=function(){var T,ea,ta;ea=[];try{for(var ka=n.__values(this.Ya),ra=ka.next();!ra.done;ra=ka.next()){ta=ra.value;ta.Hm && (ea.push(ta.M),ta.M.lk && ea.push(ta.M.lk));}}catch(xa){var qa;qa={error:xa};}finally{try{ra && !ra.done && (T=ka.return) && T.call(ka);}finally{if(qa)throw qa.error;}}return (0,e.Gkb)(ea);};na.prototype.toString=function(){return ("AsePlaygraph(state: ").concat(this.$a,", branches: ").concat(this.Ya.size,")");};na.prototype.toJSON=function(){return {state:this.$a,Ya:this.Ya.size};};na.prototype.XXa=function(){var T,ea;T=this;if(this.$a === p.Ks.Jp){if(!this.player.Jm){ea=n.__read(this.Ya.hq(this.Zm.L),1)[0];(null === ea || void 0 === ea?0:ea.Kf) && this.vjb(ea);}if(this.player.Jm){for(;;){ea=this.gub(this.player.Jm.K);if(!ea)break;ea=n.__read(this.Ya.hq(ea).filter(function(ka){return ka.parent === T.player.Jm;}),1)[0];if(!ea)break;if(null === ea || void 0 === ea || !ea.Kf)break;else if(ea.M.Ob && !ea.$J)break;else if(this.player.lwb(ea))break;this.vjb(ea);}this.wJ.lea(this.player.Jm,this.Xd);}}};na.prototype.R7=function(){return this.yGa;};na.prototype.FPa=function(T){var ea,ka,ra,ta;if(this.player.zv){ea=this.player.SA;ka=!1;ra=this.player.Ya.filter(function(qa){ka || (ka=qa === ea);return ka;});ta=(0,e.om)(ra,function(qa){return qa.K.id === T.id;});if(ra=ra[ta + 1])return ra.K.id;}return this.gub(T,!1);};na.prototype.gub=function(T,ea){var ka;void 0 === ea && (ea=!0);ka=this.fi.get(T.id);if(ka)return ka;if(!ea && 1 === T.RD)return T.EA[0];};na.prototype.Bmb=function(){var T;T=this.Ya.empty || 0 !== this.plc();T || this.ova?T && this.ova && (this.ova=!1):(this.Sf.Pn && (T=this.In(this.Xd),this.Sf.rm("complete",T.u1,T.v1)),this.l1b(),this.ova=!0);};na.prototype.plc=function(){return this.Ya.filter(function(T){return !T.Wj;}).length;};na.prototype.bib=function(T){this.dpa(T) && this.Sf.rKa(this.Xd,this.player.playbackRate,T,{Uka:this.HQa.Uka.bind(this.HQa,this.gMb)});};na.prototype.RBc=function(T,ea){var ka,ra,ta;ka=this;if(ea.didNormalizeSegment){ea=T.M;ra=this.Hb.get(T.K.id);(0,w.assert)(ra,"WorkingSegment for a normalized branch must exist");if(ea.Ob)this.rra(T);else {if(void 0 === this.dt || void 0 === this.Pq){this.Mf({Fi:"No track selectors available"});return;}this.Hb.normalize(ea.J,ea.tra.bind(ea,[this.dt,this.Pq,this.kB]));}ta=ja.leb.Bqc(T,this.console,this.config);(0,w.assert)(ta,"Segment should be normalized");Promise.resolve().then(function(){return ka.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:ra.id,normalizedStart:ra.kb,normalizedEnd:ra.Rb,viewableContentEnd:ta.DPb,viewableEarliestContentEnd:ta.EPb,media:d(T.ka)});});}Promise.resolve().then(function(){ka.XXa();});this.Jk("branchNormalized");};na.prototype.SBc=function(){this.bFb || this.Bmb();};na.prototype.QBc=function(){this.Up.start();};na.prototype.jVa=function(T){this.rOb(T);};na.prototype.Mra=function(T,ea){var ka,ra,ta,qa;ta=ea.mDc;ea=ea.hDc;qa=T.M;ta.equal(T.K.kb) || (null === (ka=qa.Kh) || void 0 === ka?void 0:ka.WDb(ta,T.K.kb));ea.equal(T.K.Rb) || (null === (ra=qa.Kh) || void 0 === ra?void 0:ra.WDb(ea,T.K.Rb));};na.prototype.Fdc=function(T,ea){var ka;ka=this;return new q.j4a(T.J,this.Ju,function(ra,ta,qa,xa,Ba){ka.state !== p.Ks.CLOSED && (ka.events.emit("branchViewableReceived",{type:"branchViewableReceived",K:T,M:ta,Gv:qa,uYa:xa,z5b:Ba}),ka.aH(ta,Ba),ka.Up.Rea(la.pI.KN,function(){ra.Rc || ka.hHa(ra,ta,ea,ta.S);}));},function(ra,ta,qa,xa){var Ba,oa;ka.state !== p.Ks.CLOSED && (ra=(null === (Ba=ra.parent) || void 0 === Ba?void 0:Ba.M.lk) || (null === (oa=ra.parent) || void 0 === oa?void 0:oa.M),ka.events.emit("branchViewableFailed",{type:"branchViewableFailed",K:T,lk:ra,J:T.J,Gv:qa,uYa:xa,error:ta}));},this.KVa.bind(this),this.Z8.bind(this,T.id,T.J));};na.prototype.PRc=function(T,ea,ka){var ra,ta,qa;if(this.K9b(T,ea))throw Error("Not implemented");ta=this.Fdc(T,!ka);qa=ka?ka.Lb.ea(ea):this.sxb || f.I.ia;T=(0,u.V$b)({config:this.config,console:this.console,K:T,events:this.events,bM:this.bM,oq:ea,de:qa,iq:this.Vdc.bind(this),ee:this.ee,Zc:this.Zc,tB:ta,OWa:this.Ya,kj:this.kj});T.Hm && (null === (ra=T.M) || void 0 === ra?void 0:ra.J) === h.Xq && this.hHa(T,(null === ka || void 0 === ka?0:ka.Hm)?ka.M:{aL:[0,0]},!ka);this.PPc(T,!!ka);return T;};na.prototype.Vdc=function(){return this.Xd.G;};na.prototype.PPc=function(T,ea){var ka,ra;ka=this;T.LM.then(function(){var ta,qa;if(!T.Rc){ta=T.M;qa=ka.Hb.get(T.K.id);qa && !qa.Mm && qa.type === h.Dd.padding && (void 0 === ka.dt || void 0 === ka.Pq?ka.Mf({Fi:"No track selectors available"}):ka.Hb.normalize(ta.J,ta.tra.bind(ta,[ka.dt,ka.Pq,ka.kB])));}});ra=new c.af();ra.addListener(T.events,"needsRequest",function(){var ta;ta=ka.Ya.root();ta && !ta.Hm || ka.Jk("branchNeedsHeader");});ra.addListener(T.events,"branchNormalized",this.RBc.bind(this,T));ra.addListener(T.events,"lastRequestIssued",this.QBc.bind(this,T));ra.addListener(T.events,"firstRequestIssued",function(){ka.XXa();});ra.addListener(T.events,"branchStreamingComplete",this.SBc.bind(this,T));ra.addListener(T.events,"checkBufferingProgress",this.bib.bind(this,T));ra.addListener(T.events,"branchEdited",this.jVa.bind(this,T));ra.addListener(T.events,"branchTimestampsChanged",this.Mra.bind(this,T));ra.addListener(T.events,"branchDestroyed",function(ta){var qa;ra.clear();ka.Ya.contains(T) && (ka.Ya.cJc(T),ka.Up.start());qa=ka.player.lwb(T);ka.Up.Rea(la.pI.sE,function(){"aborted" !== ta.reason || qa || ka.k1b(T.K.id);ka.h1b(T,ta.reason);});ta.M && ta.M.Im && ka.Hb.QHb(ta.M.J);});ra.addListener(T.events,"liveMissingSegment",function(ta){ka.events.emit("liveMissingSegment",ta);});ea || (this.KV("createDlTracksStart"),T.events.once("requestQueuesCreated",function(){ka.KV("createDlTracksEnd");}));};na.prototype.$ub=function(T){if(this.player.Qd)return this.player.SA.Yd(T);};na.prototype.bM=function(T,ea,ka,ra){ea=[[r.v.X,ea || this.dt,"audio_tracks"],[r.v.U,ka || this.Pq,"video_tracks"]].map(function(ta){var qa,xa;qa=n.__read(ta,3);xa=qa[0];ta=qa[1];qa=qa[2];if(T.S && ((0,w.assert)(ta,("Expected mediaType ").concat(xa," track selector to be defined")),xa=T.S[qa],ta=ta.TS(T.S,xa),void 0 !== ta && 0 <= ta && ta < xa.length))return T.getTrackById(xa[ta].Lva);}).filter(e.eDb);ka=ra || this.kB;T.S && ka && (ra=T.S.timedtexttracks,ka=ka.TS(T.S,ra),void 0 !== ka && 0 <= ka && ka < ra.length && (ra=T.getTrackById(ra[ka].id)) && ea.push(ra));return ea;};na.prototype.npc=function(){var T,ea;T=this;ea=new Set();this.rx().forEach(function(ka){T.bM(ka,T.dt,T.Pq,T.kB).forEach(function(ra){return ea.add(ra.mediaType);});});return Array.from(ea).sort();};na.prototype.hda=function(){return this.config.I$ && this.rx().every(function(T){return !T.Ob;});};na.prototype.Dra=function(T){this.events.emit("logdata",T);};na.prototype.vra=function(T){this.events.emit("asereportconfigoverrides",T);};na.prototype.zra=function(T){var ea,ka,ra,ta;ea=this;ka=T.M;ra=T.startTime;ta=T.endTime;this.Ya.filter(function(qa){return qa.Hm && qa.M === ka;}).forEach(function(qa){qa={type:"liveEventTimesUpdated",L:qa.K.id,startTime:ra,endTime:ta};ea.events.emit(qa.type,qa);});};na.prototype.Ara=function(T){var ea,ka,ra,ta;ea=this;ka=T.M;ra=T.mediaType;ta=T.info;this.Ya.filter(function(qa){return qa.Hm && qa.M === ka;}).forEach(function(qa){qa={type:"liveLoggingInfoUpdated",L:qa.K.id,mediaType:ra,info:ta};ea.events.emit(qa.type,qa);});};na.prototype.Bra=function(T){T={type:"livePostplayUpdated",J:T.M.J,Kba:T.Kba,action:T.action};this.events.emit(T.type,T);};na.prototype.hHa=function(T,ea,ka,ra){var ta,qa;ta=T.ka.filter(function(xa){return xa.mediaType === r.v.X;});if(ta.length)qa=ta[0].trackId;T={type:"segmentStarting",segmentId:T.K.id,contentOffset:T.de.G,contentStartPts:T.qa.G,maxBitrates:{audio:ea.aL[r.v.X],video:ea.aL[r.v.U]},media:d(T.ka),initial:ka,manifest:ra,audioTrackId:qa,branchId:T.tW};(0,S.$4b)(T,["manifest"]);this.events.emit(T.type,T);};na.prototype.k1b=function(T){T={type:"segmentAborted",segmentId:T};this.events.emit(T.type,T);};na.prototype.h1b=function(T,ea){T={type:"branchDestroyed",branchId:T.tW,segmentId:T.K.id,allMediaAppended:T.GO,reason:ea};this.events.emit(T.type,T);};na.prototype.l1b=function(){var T;T={type:"streamerEnd",time:g.platform.time.ha()};this.events.emit(T.type,T);};na.prototype.KV=function(T){T={type:"startEvent",event:T,time:g.platform.time.ha()};this.events.emit(T.type,T);};na.prototype.Z8=function(T,ea){if(T && (T=this.GQ.Hb.MG(T)))return (T=this.GQ.Hb.bH.get(T),(T=null === T || void 0 === T?void 0:T.J) && String(T) !== String(ea)?{Hf:{fd:T}}:void 0);};n.__decorate([ia.return.Ih()],na.prototype,"Zm",null);n.__decorate([ia.return.Ih()],na.prototype,"bh",null);n.__decorate([(0,E.fb)({methodName:"checkCanSetTracks",return:!0})],na.prototype,"Y8b",null);n.__decorate([(0,E.fb)({methodName:"setTracks",return:!0})],na.prototype,"oy",null);n.__decorate([(0,E.fb)({methodName:"setNextSegment",mm:!0})],na.prototype,"bn",null);n.__decorate([(0,E.fb)({methodName:"seekStreaming"}),n.__param(0,ia.Ih())],na.prototype,"YL",null);n.__decorate([(0,E.fb)({methodName:"seekStreamingWithEntryPoint"}),n.__param(0,ia.Ih()),n.__param(1,ia.Ih()),n.__param(1,ia.iD)],na.prototype,"rua",null);n.__decorate([ia.L()],na.prototype,"rY",null);n.__decorate([ia.return.m7(),n.__param(0,ia.Ih())],na.prototype,"Mr",null);n.__decorate([ia.return.Ih(),ia.return.iD],na.prototype,"Qm",null);n.__decorate([n.__param(0,ia.Ih())],na.prototype,"Zz",null);n.__decorate([n.__param(0,ia.Ih())],na.prototype,"K9",null);n.__decorate([ia.return.Ih(),ia.return.iD,n.__param(0,ia.Ih())],na.prototype,"iJb",null);n.__decorate([ia.return.Ih(),ia.return.iD,n.__param(0,ia.m7())],na.prototype,"Ar",null);n.__decorate([ia.return.Ih(),ia.return.iD],na.prototype,"msb",null);n.__decorate([n.__param(0,ia.m7())],na.prototype,"sv",null);n.__decorate([ia.return.m7(),ia.return.iD,n.__param(0,ia.m7())],na.prototype,"ssb",null);n.__decorate([(0,E.fb)({methodName:"getStreamables",Oe:!0})],na.prototype,"OY",null);n.__decorate([(0,E.fb)({methodName:"updateWorkingPlaygraph",return:!0})],na.prototype,"JT",null);n.__decorate([(0,E.fb)({methodName:"updatePlaygraphMap",return:!0})],na.prototype,"FM",null);return na;})();b.txa=a;},14430:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.y2a=void 0;d=a(57966);b.y2a=(function(){return function(n,c,h,f,e,g,k){this.config=n;this.console=c;this.Ea=h;this.wd=f;this.zn=e;this.Eh=g;this.fjb=new d.B2a(this.config,this.console,this.Ea,this.wd,this.zn,this.Eh,k);this.Ea.m3b(this.fjb.Gic.bind(this.fjb));};})();},14314:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.z2a=void 0;d=a(91176);t=(function(){function n(c,h){this.console=c;this.config=h;}n.prototype.j8=function(c,h){var f,e;f=this;if(!c.Ob || null === (e=c.Od) || void 0 === e || !e.ak)return h;h.rb=h.rb.map(function(g,k){var l,m,p,r,q;if(!g.Xb)return g;p=null === (l=g.nk) || void 0 === l?void 0:l.add(d.I.Ca(f.config.j4b));l=0 < g.Xb.length?g.Xb.reduce(function(u,v){return u.add(d.I.Ca(v.ib - v.eb));},d.I.ia):g.duration;if(p && p.lessThan(l)){g.n0a=!0;r=p.G;q=!1;null === (m=g.Xb) || void 0 === m?void 0:m.forEach(function(u){var v,w,x;w=u.An;if(q)u.An=!0;else {x=u.ib - u.eb;r >= x?r-=x:q=u.An=!0;}w !== u.An && f.console.log("Ad skipped due to early termination",{pjb:u.id,Zb:k,Xa:g.Xa,nk:null === (v=g.nk) || void 0 === v?void 0:v.da()});});}return g;});return h;};return n;})();b.z2a=t;},57966:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.B2a=void 0;d=a(79048);n=a(66164);c=a(91176);h=a(48170);f=a(52571);t=(function(){function e(g,k,l,m,p,r,q){this.config=g;this.console=k;this.Ea=l;this.wd=m;this.zn=p;this.Eh=r;this.jUc=q;this.console=(0,c.tf)(n.platform,this.console,"ADBREAKHYDRATIONPOLICY");}e.prototype.Gic=function(g){var k,l,m,p,r,q,u,v;k=this;l=!1;if(!this.wd.yv())return {KT:l,LD:g};m=!0;p=[];r=[];u=this.Ea.GQ.Hb;g.aK(function(w,x){var y,z,B,A,C,D;if(!(x || !w.K.guc || k.Cuc() && k.wd.XKb(k.Ea.Zm)))return (k.console.trace("Hydration: Not checking root segment"),!0);z=u.get(w.K.id);(0,f.assert)(z,"Hydration: Segment must be present in innermost playgraph");B=z.J;A=!1;if(z.type && -1 < [d.Dd.Nc,d.Dd.padding].indexOf(z.type))A=!0;else {C=u.NG(z.id);C && (C=k.Ea.Hb.get(C)) && C.J !== z.J && (k.console.trace("Hydration: segment evaluated is a content playgraph modification, get viewableId from equivalent segment. " + ("auxiliary viewableId: ").concat(z.J,", ") + ("main content viewableId: ").concat(C.J)),B=C.J);}if(A){if((A=k.wQa(z),C=k.Ea.Hb.aBb({offset:c.I.ia,L:z.id}),h.l && k.console.log("Checking Parent location for adBreak",{L:z.id,startTime:z.eb,kbd:null === A || void 0 === A?void 0:A.id,Zad:null === C || void 0 === C?void 0:C.offset.da()}),A && C)){B=A.J;D=k.Eh.kna(B,C.offset.add(A.kb));}}else (h.l && k.console.log("Checking current location for adbreak",{L:z.id,startTime:z.eb}),D=k.Eh.kna(B,z.kb));if(D && !D.El){h.l && k.console.log("Found adbreak at location",{startTime:z.eb,L:z.id,Vp:D.Vp,pg:D.pg});A=k.mnc(D,z);C=A.jL;h.l && k.console.log("Got hydration context",{L:z.id,context:A});if(A.Vp)if(D.eT)k.console.trace("Hydration: Ignore skippable unhydrated ad break");else if((z=null === (y=null === x || void 0 === x?void 0:x.sa) || void 0 === y?void 0:y.duration,k.wd.Fvc && z && 5E3 > z))(k.console.trace("Hydration: Skipping unhydrated ad break too close to previous"),C=!0);else {if(m && 0 === r.length || q === x)(r.push({J:B,Ra:D,n$:A.n$}),q=x);if(A.n$)return (p.push(w),!1);}C && (h.l && k.console.log("marking MissedOpportunity"),D.jL=!0);h.l && k.console.log("Not Blocking branch progression");m=!1;if(A.n$)return (h.l && k.console.log("Hydration: Blocking further branches"),!1);}else h.l && k.console.log("Could not find adbreak for segment",{startTime:z.eb,L:z.id});return !0;});l || (l=0 < p.length);p.forEach(function(w){return g.remove(w);});this.zn.UYa(r);if(this.config.WIc && g.root){v=u.get(g.root.K.id);(0,f.assert)(v,"root segment must exist in innermost playgraph");(v=this.Eh.kna(v.J,v.kb)) && v.eT && (v.eT=!1);}return {KT:l,LD:g};};e.prototype.wQa=function(g){g=this.Ea.Hb.MG(g.id);return this.Ea.Hb.bH.get(g);};e.prototype.mnc=function(g,k){var l,m,p,r,q,u;p=this.Ea.Pn;r=g.ZKb;q=g.ZKb;u=!1;(k=this.wQa(k)) && r && (k=this.jUc.get(k.J),(0,f.assert)(k,"AdBreakHydrationPolicy::getHydratableContext: main aseViewable should exist"),k.Ob && (null === (m=null === (l=k.S) || void 0 === l?void 0:l.Od) || void 0 === m?0:m.ak) && (q && (q=p),this.config.x8b || q || (m=k.Yc,l=c.I.Ca(m.Mk(!0)),m=m.gLa(l),p=l.G - g.Pa.G,p < this.config.Awc && (q=r=!1,u=!0,h.l && this.console.log("Hydration: Too close to live edge",{KTa:new Date(m.G),u7c:p,B7c:l.da(),Ra:g.Pa.da()})))));return {Vp:r,n$:q,jL:u};};e.prototype.Cuc=function(){return !this.Ea.player.zv && this.Ea.Pn;};return e;})();b.B2a=t;},31300:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x;Object.defineProperties(b,{__esModule:{value:!0}});b.C2a=b.gjb=void 0;d=a(22970);n=a(90745);c=a(91176);h=a(91176);f=a(91176);e=a(66164);g=a(91176);a(51308);k=a(65161);l=a(95407);m=a(6783);p=a(40666);r=a(48170);q=a(69575);u=a(61996);v=a(54366);w=a(81749);b.gjb=["AD_BREAK_UNAVAILABLE"];x=(function(){function y(z,B){this.J=z;this.Ra=B;this.Tta=this.tca=!1;this.Cq=-1;this.Dh=new c.AbortController();this.dib=new c.mo();}y.isEqual=function(z,B){return B.J === z.J && B.Ra === z.Ra;};y.prototype.jyc=function(){this.dib.resolve();};return y;})();t=(function(){function y(z,B,A,C,D,F){var G,E;G=this;this.Ju=z;this.la=B;this.WT=A;this.config=C;this.console=D;this.items=[];this.eA=new Map();this.Y2b=1;this.t8b=!1;this.events=new n.EventEmitter();F.on("adBreakEvent",function(H){return G.fVa(H);});E=this;this.la.Zc.Br(function(){return d.__generator(this,function(H){switch(H.label){case 0:return [4,p.Vd.uwa];case 1:return (H.T(),E.t8b=!0,[2]);}});},"playerStartedHydrator");this.console=(0,q.tf)(e.platform,D,"ADBREAKHYDRATOR");this.Mj=new u.un({Fj:this,source:"AdBreakHydrator",console:this.console});this.la.Ye.Xc(new v.so(this.Mj));}y.prototype.O8=function(z,B){var A,C;return z instanceof w.kxa?("").concat(z.Zb,":").concat(null !== (A=z.ae.Xa) && void 0 !== A?A:""):("").concat(B,":").concat(null !== (C=z.Xa) && void 0 !== C?C:"");};y.prototype.fda=function(z,B){z=this.O8(z);this.Mj.kg({id:z,B4c:B.type});r.l && this.console.log("Setting hydration event",{id:z,event:d.__assign(d.__assign({},B),{qm:void 0})});this.eA.set(z,B);};y.prototype.Mla=function(z,B){z=this.O8(z);this.Mj.kg({id:z,reason:B});r.l && this.console.log("Deleting hydration event",{reason:B,id:z});this.eA.delete(z);};y.prototype.T9b=function(){var z;z=this;this.Mj.kg({s6c:Array.from(this.eA.values()).map(function(B){return z.O8(B.YD);})});this.console.log("Clearing adBreak hydrator events on seek");this.eA.clear();};y.prototype.cKa=function(z){var B;B=this;this.items=this.items.filter(function(A){var C;return z.length && A.Ra.ae.Xa === z && !A.Tta?(r.l && B.console.log("Cancelling adBreak hydrations for",{J:A.J,Zb:A.Ra.Zb,Xa:z}),null === (C=A.Dh) || void 0 === C?void 0:C.abort(),B.fda(A.Ra,{type:"tooLate",M:void 0,Cq:-1,YD:A.Ra}),!1):!0;});};y.prototype.j8=function(z){var B;B=this;if(!this.eA.size)return z;z.rb=z.rb.map(function(A,C){var D,F,G,E,H,J,L,K,M,P,I,O;if((C=B.O8(A,C)) && B.eA.has(C)){C=B.eA.get(C);if("tooLate" === (null === C || void 0 === C?void 0:C.type))return d.__assign(d.__assign({},A),{zx:!0,Vp:!1,jL:!0});if("dehydration" === (null === C || void 0 === C?void 0:C.type))return d.__assign(d.__assign({},A),{Xb:void 0,zx:!1,Vp:!0});G=C.qm;G=G.Ob && !(null === (D=G.S.Od) || void 0 === D || !D.ak);if("adBreakHydrated" === C.type){D=C.V5;E=C.Vj;H=C.Xa;J=A.Iv;L=A.wk;K=A.location;M=A.Pa;P=A.nk;I=A.duration;O=A.Zb;G=!(null === C || void 0 === C?0:C.El) || G;return d.__assign(d.__assign({},D),{wk:L,Iv:J,location:K,duration:D.CX?P || I:(null === (F=D.Xb) || void 0 === F?0:F.length)?D.Xb.reduce(function(Q,S){return Q.add(h.I.Ca(S.ib - S.eb));},h.I.ia):h.I.ia,nk:void 0 !== P?P:"embedded" !== A.type || D.CX?void 0:I,Pa:M,Vj:E,Xa:H,Zb:O,zx:G,Vp:G,sK:null === C || void 0 === C?void 0:C.Cq,jZ:!1,source:"hydration",type:D.CX?"embedded":"dynamic"});}if(G)return d.__assign(d.__assign({},A),{zx:!0,sK:null === C || void 0 === C?void 0:C.Cq});if("adBreakHydrationSkipped" === C.type)return d.__assign(d.__assign({},A),{zx:!0,jZ:!0,sK:null === C || void 0 === C?void 0:C.Cq});}return A;});return z;};y.prototype.yKa=function(z){var B;B=this;z.forEach(function(A){A.El?B.Umb(A):B.Mla(A,"cleanup");});};y.prototype.Umb=function(z){var B;B=this.O8(z);this.eA.has(B) && z.El?(B=this.eA.get(B),"tooLate" === B.type?this.Mla(z,"dehydration"):B.El=!0):z.El && this.eA.set(B,{type:"dehydration",M:void 0,Cq:z.Cq,YD:z});};y.prototype.fVa=function(z){var B,A;B=this;if("adBreakComplete" === z.event){this.ZMb=this.WT.La.currentTime;A=z.Zb;void 0 !== A && this.eA.forEach(function(C){C.YD.Zb < A && B.Mla(C.YD,"adBreakComplete");});}};y.prototype.UYa=function(z){d.__awaiter(this,void 0,void 0,function(){var B,A,C,D,F,G;G=this;return d.__generator(this,function(E){switch(E.label){case 0:B=z.map(function(H){return [new x(H.J,H.Ra),H.n$];});A=B.map(function(H){return d.__read(H,1)[0];});C=(0,f.r$b)(this.items,A,x.isEqual);this.items=C.result;C.ica.forEach(function(H){var J;H.Tta || (null === (J=H.Dh) || void 0 === J?void 0:J.abort());});B.filter(function(H){return d.__read(H,2)[1];}).forEach(function(H){var J;J=d.__read(H,1)[0];H=(0,c.ic)(G.items,function(L){return x.isEqual(L,J);});null === H || void 0 === H?void 0:H.jyc();});r.l && this.console.log("Evaluated schedule",{e4b:C.Wjb.length,ica:C.ica.length,fta:C.fta.length,sAc:C.result.length});this.Mj.kg({e4b:C.Wjb.length,ica:C.ica.length,fta:C.fta.length,sAc:C.result.length});D=this.items.filter(function(H){return !H.tca;}).map(function(H){return G.ag(H);});if(!(0,k.Pr)(this.la.ee.value))return [3,5];F=this.items.map(function(H){return G.Ju.qs(H.J).Rk;});E.label=1;case 1:return (E.tc.push([1,,3,4]),[4,Promise.race(D)]);case 2:return (E.T(),[3,4]);case 3:return (F.forEach(function(H){return H.release();}),[7]);case 4:return [3,7];case 5:return [4,Promise.all(D)];case 6:(E.T(),E.label=7);case 7:return [2];}});});};y.prototype.ag=function(z){return d.__awaiter(this,void 0,void 0,function(){var B,A,C,D,F,G,E,H,J;E=this;return d.__generator(this,function(L){switch(L.label){case 0:(r.l && this.console.log("Start scheduling for adbreak",{lbd:z.J,r2c:z.Ra.Zb}),B=("").concat(z.Ra.Zb,":").concat(null !== (H=z.Ra.ae.Xa) && void 0 !== H?H:""),this.Mj.kg({id:B}),null === (J=z.Dh) || void 0 === J?void 0:J.abort(),A=new c.AbortController(),z.Dh=A,C=(0,m.Ar)(this.la.Z,z.J,z.Ra.Pa),D=(0,c.aka)(A.signal),L.label=1);case 1:return (L.tc.push([1,,5,6]),[4,Promise.race([(function(){return d.__awaiter(E,void 0,void 0,function(){return d.__generator(this,function(K){switch(K.label){case 0:return [4,this.CVa(A.signal)];case 1:return (K.T(),r.l && this.console.log("Rebuffering detected, expediting hydration"),[2,"rebuffer"]);}});});})(),Promise.all([this.rUc(D),this.vUc(C,D)]).then(function(){return "gatesPassed";}),D.then(function(){return "cleanup";})])]);case 2:F=L.T();r.l && this.console.log("Schedule completed for reason",F);if(A.aborted)return [3,4];r.l && this.console.log("Making Item Fetch",{s2c:z.Ra.Zb,Iv:z.Ra.location.G});z.tca=!0;return [4,this.WGb(z,F,A.signal)];case 3:(L.T(),L.label=4);case 4:return [3,6];case 5:return (z.Dh === A && (G=this.items.indexOf(z),-1 !== G && (r.l && this.console.log(("Removing item ").concat(G,", ").concat(this.items.length - 1," left")),this.items.splice(G,1))),[7]);case 6:return [2];}});});};y.prototype.CVa=function(z){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){return (0,k.Pr)(this.la.ee.value)?(r.l && this.console.log("Buffering detected, expediting hydration"),[2]):[2,h.Os.yUc([this.la.ee],function(B){B=d.__read(B,1)[0];return (0,k.Pr)(B);},z)];});});};y.prototype.rUc=function(z){var B;B=this;return this.ZMb && this.config.Vwb?new Promise(function(A){var C,D;C=B.ZMb.add(h.I.Ca(B.config.Vwb));D=B.WT.pt(p.Vd.Rl(C),A,"hydratorWaitTask");z.then(function(){return D.Ka();});}):Promise.resolve();};y.prototype.vUc=function(z,B){return d.__awaiter(this,void 0,void 0,function(){var A,C,D;D=this;return d.__generator(this,function(F){switch(F.label){case 0:if(!this.config.sBb)return [2,Promise.resolve()];A=h.I.Ca(this.config.sBb);F.label=1;case 1:return (F.tc.push([1,3,,4]),[4,new Promise(function(G){var E,H;E=D.la.Zz(z,!0);H=D.la.Zc.pt(p.Vd.Rl(E.ea(A)),G,"waitJitHydrateAdBreak");B.then(function(){return H.Ka();});})]);case 2:return (F.T(),[3,4]);case 3:return (C=F.T(),r.l && this.console.warn("waitJitHydrateAdBreak failed",c.vU.cK(C)),[3,4]);case 4:return [2];}});});};y.prototype.Q7b=function(z,B){var A,C,D,F,G,E;if(z.Rr && this.config.BDc){D=z.Yc.Jn(!0);F=h.I.max(h.I.ia,D.ea(B.Ra.Pa));G=F.Km(h.I.Ca(this.config.zwc));E=null !== (C=null === (A=z.S.Od) || void 0 === A?void 0:A.wpb) && void 0 !== C?C:this.config.ywc;A=Math.floor(Math.random() * E);r.l && this.console.log("Checking schedule for live jitter and adbreak hydration",{Mva:B.Ra.ae.Xa,V9c:A,G3c:E,fAb:D.da(),$p:F.da(),H6c:G});if(G)return (D=this.la.Mr(this.la.bh).Pa,{aqb:F.G,bqb:B.Ra.Pa.ea(D).G,Uea:E,i1:A,iB:z.kh + A,TD:z.kh});}};y.prototype.j6b=function(z,B,A){return d.__awaiter(this,void 0,void 0,function(){var C;C=this;return d.__generator(this,function(D){switch(D.label){case 0:return [4,new Promise(function(F,G){var E;E=C.WT.pt(p.Vd.Cy(h.I.Ca(z.i1)),F,"hydrationLiveJitterTask");A.addEventListener("abort",function(){E.Ka();G();});})];case 1:return (D.T(),r.l && this.console.log("Live jitter completed",{Mva:B.Ra.ae.Xa}),[2]);}});});};y.prototype.WGb=function(z,B,A){return d.__awaiter(this,void 0,void 0,function(){var C,D,F,G,E,H,J,L,K,M,P,I,O,Q,S,U,W,Y,X,Z,aa,ca,da,ja,R,N,V,ba;return d.__generator(this,function(fa){switch(fa.label){case 0:(C=z.Ra,D=z.J,F=("").concat(C.Zb,":").concat(null !== (N=C.ae.Xa) && void 0 !== N?N:""),this.Mj.kg({id:F,reason:B}),G=C.ae.Vj,E=C.ae.Xa,H=null !== E && void 0 !== E?E:G,(0,c.assert)(H,"adBreakToken or adBreakTriggerId must exist if adBreak hydration was queued"),J=this.Y2b++,z.Cq=J,L=this.Ju.qs(D),K=L.Rk,M=!1,I=d.__read((0,g.rCb)(this.Ju.CS.bind(this.Ju)),2),O=I[0],Q=I[1],fa.label=1);case 1:return (fa.tc.push([1,6,9,12]),[4,L.Qq]);case 2:return (S=fa.T(),S.Rr?(P=this.Q7b(S,z))?[4,Promise.race([this.j6b(P,z,A),z.dib.promise])]:[3,4]:[3,4]);case 3:(fa.T(),fa.label=4);case 4:return (null === (V=z.Dh) || void 0 === V?0:V.signal.aborted)?[2]:[4,O({Vj:G,Xa:E,J:D})];case 5:return (U=fa.T(),z.Tta=!0,A.aborted || (W=U.V5,Y=U.qm,r.l && this.console.log("Hydrated response " + ("with ").concat(null === (ba=U.V5.Xb) || void 0 === ba?void 0:ba.length," ads")),r.l && this.console.debug("Hydrated complete response ",{response:W}),X={type:"adBreakHydrated",Vj:G,Xa:E,V5:W,qm:Y,YD:z.Ra,Cq:J,NH:{XA:Q.start,ZA:Q.end},Gv:P},this.fda(z.Ra,d.__assign({},X)),this.events.emit("adBreakHydrated",X),M=!0),[3,12]);case 6:Z=fa.T();if(A.aborted)return [3,8];aa=l.IB.hqc(Z);ca=l.IB.e9(Z);return [4,L.Qq];case 7:da=fa.T();(0,c.assert)(da,"parentAseViewable must exist");if("adBreakHydration" === aa && ca && -1 !== b.gjb.indexOf(ca))return (r.l && this.console.log("AdBreak hydration failed with recoverable error, playback can continue. Hydration will be attempted again if user revisits the adBreak location. " + ("errorCode: ").concat(ca,", ") + ("parentViewableId: ").concat(D,", ") + ("adBreakToken: ").concat(G)),ja={type:"adBreakHydrationSkipped",Vj:G,Xa:E,error:Z,errorCode:ca,qm:da,YD:z.Ra,Cq:J,NH:{XA:Q.start,ZA:Q.end},Gv:P},this.fda(z.Ra,ja),C.eT=!0,this.events.emit("adBreakHydrationSkipped",ja),M=!0,[2]);R={type:"adBreakHydrationFailed",Vj:G,Xa:E,error:Z,errorCode:ca,qm:da,YD:z.Ra,Cq:J,NH:{XA:Q.start,ZA:Q.end},Gv:P};this.fda(z.Ra,R);this.events.emit("adBreakHydrationFailed",R);M=!0;fa.label=8;case 8:return [3,12];case 9:return M?[3,11]:[4,L.Qq];case 10:(da=fa.T(),(0,c.assert)(da,"parentAseViewable must exist"),this.events.emit("adBreakHydrationSkipped",{type:"adBreakHydrationSkipped",Vj:G,Xa:E,qm:da,YD:z.Ra,Cq:J,NH:{XA:Q.start,ZA:Q.end},Gv:P}),fa.label=11);case 11:return (z.Tta=!0,K.release(),this.la.Nca(),[7]);case 12:return [2];}});});};d.__decorate([(0,u.fb)({methodName:"setHydration"})],y.prototype,"fda",null);d.__decorate([(0,u.fb)({methodName:"deleteHydration"})],y.prototype,"Mla",null);d.__decorate([(0,u.fb)({methodName:"clearHydrations"})],y.prototype,"T9b",null);d.__decorate([(0,u.fb)({methodName:"cancelAndSkipHydration",mm:!0,Oe:!0})],y.prototype,"cKa",null);d.__decorate([(0,u.fb)({methodName:"dehydrateAdBreak",Oe:!0})],y.prototype,"Umb",null);d.__decorate([(0,u.fb)({methodName:"scheduleHydration",Oe:!0})],y.prototype,"UYa",null);d.__decorate([(0,u.fb)({methodName:"schedule",return:!0})],y.prototype,"ag",null);d.__decorate([(0,u.fb)({methodName:"queueAdBreakHydration"})],y.prototype,"WGb",null);return y;})();b.C2a=t;},71398:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.D2a=void 0;d=a(22970);n=a(91176);c=a(66164);h=a(31413);t=(function(){function f(e,g,k,l,m,p,r,q){this.M=e;this.la=g;this.Zc=k;this.events=l;this.Ra=m;this.Jj=p;this.hpb=r;this.console=q;this.$B=0;m.qW && c.platform.ping && c.platform.ping(m.qW);!1;}Object.defineProperties(f.prototype,{SH:{get:function(){return this.$B;},enumerable:!1,configurable:!0}});f.prototype.iVa=function(e,g,k,l,m){this.Ou && (this.Ou.Ka(),this.Ou=void 0);this.Ou=new h.Beb(this.la,this.Zc,this.events,this.Ra,e,g,k,l,m,this.Cm,this.O6.bind(this),this.console);};Object.defineProperties(f.prototype,{Xs:{get:function(){return void 0 !== this.KNa?"embedded":this.Ra.type;},enumerable:!1,configurable:!0}});f.prototype.ulc=function(){var e;e=this.M;(0,n.assert)(e.Yc,"livePositionService must be defined");return e.Yc.gLa(this.Ra.Pa).G;};f.prototype.NOa=function(e){var g,k;k=this.ulc();return {Ih:e,Lu:null !== (g=this.KNa) && void 0 !== g?g:this.Ra.wk,Zb:this.Ra.Zb,Xa:this.Ra.ae.Xa,jIa:k,iIa:this.svc,nPb:this.M.J};};f.prototype.Kra=function(e){var g,k,l,m;this.Ou && (this.Ou.Ka(),this.Ou=void 0);!1;try{g=this.O6(e);k={Ih:e,Lu:this.Ra.wk,Zb:this.Ra.Zb,Xs:this.Xs,aG:g};if(this.M.Ob || "embedded" === this.Xs){if(this.la.config.yP){l=this.NOa(e);m=d.__assign(d.__assign(d.__assign(d.__assign({type:"adBreakEvent"},this.Ra.DO.complete || ({event:"adBreakComplete"})),k),l),{Dba:this.Ra.duration.G,Cm:this.Cm});!1;this.events.emit(m.type,m);}}else (m=d.__assign(d.__assign(d.__assign({type:"adBreakEvent"},this.Ra.DO.complete || ({event:"adBreakComplete"})),k),{nPb:this.M.J}),!1,this.events.emit(m.type,m));this.Ra.SY=!0;}catch(p){this.console.error("Impression error event",p);this.$B++;}};f.prototype.IDb=function(e,g){var k,l,m;!1;this.svc=e.offset.G;this.rzb=g;if((this.M.Ob || "embedded" === this.Xs) && this.la.config.yP)try{k=this.Ra.DO.start || ({event:"adBreakStart"});l=this.NOa(e);this.Cm=this.qfc();m=d.__assign(d.__assign(d.__assign({type:"adBreakEvent"},k),l),{Dba:e.offset.G,Xs:this.Xs,aG:l.Lu,Cm:this.Cm});!1;this.events.emit(m.type,m);this.K$=l.Lu;}catch(p){this.console.error("Impression error event",p);this.$B++;}};f.prototype.JDb=function(e,g){var k,l,m,p,r,q;!1;if((this.M.Ob || "embedded" === this.Xs) && this.la.config.yP)try{l=g || this.la.player.Xd;m=this.rzb?l.ea(this.rzb).G:0;p=this.Ra.DO.stop || ({event:"adBreakStop"});r=this.K$?this.K$ + m:this.O6(e);q=d.__assign(d.__assign(d.__assign({type:"adBreakEvent"},p),this.NOa(e)),{Dba:m,Xs:this.Xs,aG:r,Cm:this.Cm});null === (k=this.Ou) || void 0 === k?void 0:k.Ka();!1;this.events.emit(q.type,q);}catch(u){this.console.error("Impression error event",u);this.$B++;}return r;};f.prototype.gVa=function(e,g){var k;!1;void 0 !== this.KNa?!1:(this.K$=this.KNa=null !== (k=this.JDb(e)) && void 0 !== k?k:0,this.IDb(e,g));};f.prototype.Ka=function(){var e;null === (e=this.Ou) || void 0 === e?void 0:e.Ka();};f.prototype.gq=function(){var e;return {ad:null === (e=this.Ou) || void 0 === e?void 0:e.gq(),errors:this.$B};};f.prototype.O6=function(e){var g;g=this.Jj.HC(e);if(!g){!1;if(this.K$)return (!1,this.K$ + this.Ra.duration.G);e=this.la.Mr(e).Pa.ea(this.Ra.Pa);e=this.Ra.location.add(e);!1;return e.G;}return this.Ra.location.add(g.progress.ijb).G;};f.prototype.qfc=function(){var e,g;if("embedded" === this.Xs)return null !== (g=null === (e=this.M.S) || void 0 === e?void 0:e.Od) && void 0 !== g && g.ak?this.hpb && this.hpb.h9b(this.Ra.Zb)?"Failed":this.Ra.jL?"MissedOpportunity":"daiPrefetch" === this.Ra.source || "hydration" === this.Ra.source?"ServerRespondedWithEmbedded":"Failed":"DAINotSupported";};return f;})();b.D2a=t;},40345:function(t,b,a){var c,h,f,e,g,k,l,m,p,r,q,u,v;function d(w,x,y){return w && w.Tkc === x && w.to.L === y.L && w.to.offset.G === y.offset.G;}function n(w){return null === w || void 0 === w?void 0:w.rb.map(function(x){var y,z;z=(x.Xb || []).map(function(B){return ("").concat(B.id);}).join(",");return ("[").concat(null !== (y=x.Xa) && void 0 !== y?y:"",":").concat(x.source,":[").concat(z,"]");}).join(",");}Object.defineProperties(b,{__esModule:{value:!0}});b.E2a=void 0;c=a(22970);h=a(90745);f=a(79048);e=a(91176);g=a(66164);k=a(48170);l=a(52571);m=a(61996);p=a(54366);r=a(94328);q=a(45991);u=a(8707);v=a(14314);t=(function(){function w(x,y,z,B,A,C,D){var F;F=this;this.config=x;this.console=y;this.Ea=z;this.Zd=B;this.Sk=A;this.Ayb=C;this.dE=D;this.Pu={};this.Qja=this.Wia=!1;this.khb=new WeakMap();this.events=new h.EventEmitter();this.console=(0,e.tf)(g.platform,this.console,"ADCOMPOSER");A.events.on("adsUpdated",function(G){return F.Wyc(G.M);});this.Mj=new m.un({Fj:this,source:"ad-composer",Ig:10,console:y});this.V2b=new v.z2a(this.console,this.config);this.Ea.Ye.Xc(new p.so(this.Mj));this.Ea.wJ.events.on("onDeciding",function(G){k.l && F.console.trace("Handling branch decision event",{id:G.ga.id});(G=c.__read(F.Ea.Ya.hq(G.ga.id).filter(function(E){return E.Hm;}),1)[0]) && F.ML(G.M);});this.Ea.events.on("branchEnqueued",function(G){var E,H,J;k.l && F.console.trace("Handling branch enqueued event",{id:G.sa.K.id});E=F.Jj.cQ(G.sa.K.id);if(null === E || void 0 === E?0:E.Xa)(F.zn.cKa(E.Xa),F.ML(G.sa.M));else if(void 0 !== (null === E || void 0 === E?void 0:E.Zb) && G.sa.M.Ob){H=void 0;J=F.Eh.Rw[G.sa.M.J];J && (H=J[E.Zb],H.Xa && (F.zn.cKa(H.Xa),F.ML(G.sa.M)));k.l && F.console.log("Handled branch enqueued event for embedded ad break",{index:E.Zb,Mva:null === H || void 0 === H?void 0:H.Xa});}});this.Ea.wJ.T3b(function(G,E){var H;H=G.sa;if(F.Ea.Ya.moa(H))return E(G);k.l && F.console.trace("Disallowing tracking due to no children",{K:H.K.id});return {result:!1};});this.Ea.events.on("segmentNormalized",function(G){var E;E=F.Ea.Hb.dBb(G.segmentId);k.l && F.console.trace("Handling segment normalized event",{id:G.segmentId},("mapped to ").concat(E));E && F.LCc(E,G);});}Object.defineProperties(w.prototype,{Fvc:{get:function(){return this.Wia;},enumerable:!1,configurable:!0}});w.prototype.Wyc=function(x){k.l && this.console.trace("Media events updated for viewable");this.ML(x);};w.prototype.ML=function(x,y){void 0 === y && (y=!1);(this.z5(x) || y) && this.events.emit("adsUpdated",{type:"adsUpdated"});};w.prototype.z5=function(x){var y,z,B,A,C;z=this.eKc(x);B=z.trb;A=z.Pu;C=(0,u.fW)(B,A);z=C.Xp;C=C.reason;if(z){if((k.l && this.console.trace("Updating metadata",{M:x.R,reason:C,qjb:n(A)}),this.Mj.kg({c:z,ab:null === A || void 0 === A?void 0:A.rb.length}),null === A || void 0 === A?0:A.rb))(this.Eh.CZa(x.R,A.rb),this.$V.AKb(),k.l && this.console.trace("Received ad metadata for",{M:x.R,qjb:n(A)}));}else if(A && B && (C=null === (y=this.khb.get(B)) || void 0 === y?void 0:y.map(function(D){return D.fx || D.gx;}),x=this.Wlb(x.J,A,x).map(function(D){return D.fx || D.gx;}),void 0 !== C && (y=(0,e.Fkb)(C,x,function(D,F){var G,E;G=Array.isArray(D);E=Array.isArray(F);return G && E?0 === (0,e.Fkb)(D,F).length:G || E?!1:D === F;}),k.l && this.console.trace("Dropped ads diff",{pAc:x,$8c:C,gv:y}),0 !== y.length)))return (k.l && this.console.trace("Dropped ads changed",{trb:B,pAc:x}),!0);return z;};w.prototype.eKc=function(x){var y,z;y=this.vlc(x);z=this.Pu[x.R];this.Pu[x.R]=y;return {trb:z,Pu:y};};Object.defineProperties(w.prototype,{Voa:{get:function(){return this.Ea.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{rb:{get:function(){return this.Eh.Rw;},enumerable:!1,configurable:!0}});w.prototype.Sb=function(x,y,z){var B;B=this;this.Eh=x;this.Jj=y;this.zn=z;this.$V=new q.P2a(this.Eh,this.console,this.Ea,this.config,this.dE);this.zn.events.on("adBreakHydrationSkipped",function(A){return B.ML(A.qm);});this.zn.events.on("adBreakHydrationFailed",function(A){B.ML(A.qm);});this.zn.events.on("adBreakHydrated",function(A){return B.z5(A.qm);});this.Ea.events.on("branchDestroyed",function(A){return B.PBc(A);});};w.prototype.PBc=function(x){var y,z,B,A,F;if("pruned" === x.reason && (x=this.Jj.qY(x.segmentId))){k.l && this.console.log("cleaning up ad metadata for adinfo",{index:null === x || void 0 === x?void 0:x.Bg.Zb,Mva:null === x || void 0 === x?void 0:x.Bg.Xa});z=x.Bg;B=x.fd;A=this.Eh.Rw[B];x=[];try{for(var C=c.__values(A),D=C.next();!D.done;D=C.next()){F=D.value;if(F.Zb < z.Zb)F.pg && (x.push(F),F.Cpb());else break;}}catch(E){var G;G={error:E};}finally{try{D && !D.done && (y=C.return) && y.call(C);}finally{if(G)throw G.error;}}x.length && (G=this.dE.get(B),this.zn.yKa(x),G=this.Sk.vY(G),null === G || void 0 === G?void 0:G.yKa(x));}};w.prototype.yv=function(){var x;x=this;return !!(0,e.ic)(Object.keys(this.rb),function(y){return 0 < x.rb[y].length;});};w.prototype.t_=function(x,y){var z,B,A,C,D;z=this.Zd.ek;(0,l.assert)(z,"Could not get graph location service");B=this.Zd.Z.ba[x.L].J;A=this.Ea.rx().filter(function(F){return F.J === B;})[0];if(null === A || void 0 === A?0:A.Ob){C=this.gJb(A,x);!(0,r.FQa)(x,C) && y && (y=this.Zd.Mr(C),(0,l.assert)(y,"Could not get initial content position from seek position"),(0,l.assert)(y.J === A.J,"Initial content position should be in the same viewable"),y=y.Pa);x=C;}if(0 < this.Eh.u1a || (null === A || void 0 === A?0:A.Ob)){D=this.FJ(this.Zd.Hb);z=z.OT(D);this.Eh.reset();}A=null === D || void 0 === D?void 0:D.Z;C=this.$V.ykb(x,z,D);z=C.Zm;x=C.Lz;this.Fzb=C.RWa;k.l && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(z)));A=(A || this.Ea.Z).ba[z.L];this.Wia=!!A.type && -1 < [f.Dd.Nc,f.Dd.padding].indexOf(A.type);return {Zm:z,Yn:y,Lz:x,kra:D};};w.prototype.aH=function(x,y,z){var B,A,C;B=!1;C=z;if(!y)return {fW:!1,TWa:!1,yea:C};this.Sk.aH(x);x.Ob && C && (C=this.gJb(x,C),(B=!(0,r.FQa)(C,z)) && (A=C));if((y=this.z5(x)) && C && this.zwb(C)){if(this.XKb(C,x))return c.__assign({fW:y,TWa:B,Lz:A},this.BOb(C,"viewableReceived"));k.l && this.console.trace(("ads::onViewableReceived: should NOT consider preroll on seek:\n                        seekPosition (unchanged): ").concat(C,",\n                        didAppendData: ").concat(this.Ea.R7(),",\n                        enablePrerollForInitialSeek ").concat(this.Ea.config.MX));}return {fW:y,TWa:B,Lz:A,yea:C};};w.prototype.gJb=function(x,y){var z,B,A,C;z=this.Zd.Hb.get(y.L);if((null === z || void 0 === z?void 0:z.J) === x.J){B=x.Jn();A=B.ea(z.kb);(0,l.assert)(0 <= A.G,"Seek segment should not begin after live edge");x=x.Yc.Fma;z=(null === x || void 0 === x?void 0:x.ea(z.kb)) || e.I.qh;C=e.I.min(y.offset,A,z);k.l && this.console.trace(("ads::sanitizeLiveSeekPosition: ").concat(JSON.stringify(y),", ") + ("live edge target ").concat(B.da(),", ") + ("live edge offset: ").concat(A.da(),", ") + ("event end ").concat(null === x || void 0 === x?void 0:x.da(),", event end offset: ").concat(z.da()) + (" -> adjusted offset ").concat(C.da()));return {L:y.L,offset:C};}return y;};w.prototype.Lra=function(x,y){var z,B;this.z5(x);z=this.Pu[x.R];(0,l.assert)(z,("adMetadata for viewable ").concat(x.J," should exist if an adBreak hydration was requested"));k.l && this.console.trace("ads::onAdBreakHydrated: Resetting branch decisions");B=this.Ea.player;B.Jm && this.Ea.Ro && this.Ea.wJ.lea(B.Jm,B.Xd,!0);this.$V.AKb();k.l && this.console.trace("ads::onAdBreakHydrated: Received new ad metadata after adBreakHydration for",{M:x.R,qjb:n(z)});if(y)return this.BOb(y,"adBreakHydration");};w.prototype.BOb=function(x,y){var z,B,A,C,D;k.l && this.console.trace(("ads::updatePendingSeekPosition: ").concat(JSON.stringify(x)));z=this.Zd.ek;(0,l.assert)(z,"Could not get graph location service");B=this.FJ(this.Zd.Hb);z=z.OT(B);A=B.Z;C=this.$V.ykb(x,z,B);D=C.Zm;C=C.Lz;this.Wia=!1;(A=A.ba[D.L]) || (A=this.Ea.Z.ba[D.L]);this.Wia=!!A.type && -1 < [f.Dd.Nc,f.Dd.padding].indexOf(A.type);z=null === z || void 0 === z?void 0:z.UH(D);k.l && this.console.trace("ads::updatePendingSeekPosition: should consider preroll on seek",{g9c:x,yea:z,Lz:C,R7:this.Ea.R7(),MX:this.Ea.config.MX,reason:y});return {yea:z,Lz:C,kra:B};};w.prototype.Wlb=function(x,y,z){var B,A;B=this;A=y.rb.map(function(C,D){return B.$V.mG(B.rb[x][D],D,Number(x),B.Ayb(),z);});k.l && this.console.debug("Calculated dropped ads",{context:{seeking:this.Ayb()},result:A});this.khb.set(y,A);return A;};w.prototype.FJ=function(x){var y,z,B,A;y=this;z=x;B=x.Z;A=Object.keys(B.ba).map(function(C){return ("").concat(B.ba[C].J);});Object.keys(this.Pu).forEach(function(C){var D,F,G;if(-1 !== A.indexOf(C)){D=parseInt(C);F=y.Pu[C];if(F){G=y.dE.get(D);(0,l.assert)(G,"AdComposer::createInnerWorkingPlaygraph: viewable should exist");G=y.Wlb(D,F,G);y.Mj.kg({droppedAds:G.map(function(E,H){return {Dea:E,iRa:H};}).slice(-5),viewableId:C});C=G.map(function(E){return E.fx || E.gx;});F.rb.forEach(function(E){var H;if("dynamic" === E.type){H=y.Eh.kna(D,E.Pa);E.W8c=(null === H || void 0 === H?void 0:H.duration) || e.I.ia;}});G=new Set();F=(0,f.Tbc)(D,F.rb,G,C,y.config.lsa,!1);C=f.SE.create(F);C=f.SE.Rn(x,C);k.l && y.console.trace("Creating new ads playgraph",{H1c:F,K8c:C.Gaa.Z});z=C.Gaa;}}});z.e6(this.Ea.Hb);return z;};w.prototype.zwb=function(x){return !!this.Pu[this.Zd.Z.ba[x.L].J];};w.prototype.vlc=function(x){var y,z,B,A;y=this;z=this.Sk.kG(x);if(x.Od){A=x.Od;A.rb.length && (B=z?this.gzc(A,z,x):{rb:c.__spreadArray([],c.__read(A.rb),!1)});}!B && z && (B={rb:z});B && (B=this.zn.j8(B),B=this.nIa.j8(x,B),B.rb.forEach(function(C){var D,F;"dynamic" === C.type && x.Rr && C.Xb && (null === (D=C.nk) || void 0 === D?0:D.ea(C.duration).greaterThan(e.I.Ca(y.config.xyc))) && (D=C.Pa.add(C.duration),D=(null === (F=y.Ea.GQ.sv({Pa:D,J:x.J},{fkb:!0})) || void 0 === F?void 0:F.qa) || D,C.Xb.push({id:x.J,eb:D.G,ib:C.Pa.add(C.nk).G,bZ:!1,An:!0}),C.duration=C.nk,k.l && y.console.trace("ads::getAdMetadata: adding additional embedded ad",{Xa:C.Xa,J:x.J,Xb:C.Xb.length}));}),B=this.V2b.j8(x,B));return B;};w.prototype.gzc=function(x,y,z){var B,A,C,D,F,G;if(x.LIb)return {rb:y};C={};x.rb.forEach(function(E){C[E.location.G]=E;});D={};y.forEach(function(E){D[E.location.G]=E;});k.l && this.console.trace("ads::mergeReplacedAds viewableRecords",{rbd:x.rb.map(function(E){return E.location.G;}),k8c:y.map(function(E){return E.location.G;}),r$c:null === (A=null === (B=z.Kh.model.xD) || void 0 === B?void 0:B.Pa) || void 0 === A?void 0:A.da()});F=(0,e.Ikb)(Object.keys(C),Object.keys(D));G=[];C["0"] && -1 === F.indexOf("0") && G.push(C["0"]);F.forEach(function(E){var H;H=D[E];E=c.__assign(c.__assign({},C[E]),{nk:H.duration,location:H.location,Pa:H.Pa,Iv:H.Iv,wk:H.wk,Xa:H.Xa,Vp:!0});G.push(E);});this.Qja || (x=Object.keys(C).filter(function(E){return 0 !== Number(E) && -1 === F.indexOf(E);}).map(function(E){return Number(E);}),y=Object.keys(D).filter(function(E){return -1 === F.indexOf(E);}).map(function(E){return Number(E);}),(x.length || y.length) && this.zJc(x,y),this.Qja=!0);return {rb:G};};w.prototype.IMa=function(x){var y,z,B;y=this;k.l && this.console.log("ads::dropErroredAd",{pjb:x});z=Array.from(this.dE.keys()).filter(function(A){var C;return null === (C=y.Eh.Rw[A]) || void 0 === C?void 0:C.some(function(D){var F;return null === (F=D.Xb) || void 0 === F?void 0:F.some(function(G){return G.id === x;});});});this.Eh.IMa(x);z.length && this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:x});z.map(function(A){A=y.dE.get(Number(A));B || (B=A);A && y.ML(A);});B && this.ML(B,!0);k.l && this.console.log("ads::dropErroredAd",{pjb:x,x6c:z,X5c:!!B});};w.prototype.zJc=function(x,y){this.Qja || (this.events.emit("advertsMismatch",{type:"advertsMismatch",manifestUnmatchedAdBreakLocations:x,mediaEventsUnmatchedAdBreakLocations:y,sev:x.length?"warn":"info"}),this.Qja=!0);};w.prototype.f_a=function(x,y,z){var B;return this.$V.f_a(x,y,z,null === (B=this.Voa) || void 0 === B?void 0:B.lf);};w.prototype.XKb=function(x,y){var z,B,A,C,D,F;A=this.Ea.config.MX;C=x.L;D=this.Ea.Z.ba[C] || this.Zd.Z.ba[C];F=e.I.ia;D?(y=y || this.Ea.rx().filter(function(G){return G.J === D.J;})[0],F=(null === y || void 0 === y?0:y.Ob) && (null === (z=y.aj) || void 0 === z?0:z.startTime)?y.Yc.Wnb(e.I.ia):e.I.ia,k.l && this.console.warn(("ads::shouldConsiderPrerollOnSeek Inferring offset ").concat(F.G," as origin"))):k.l && this.console.warn("ads::shouldConsiderPrerollOnSeek: segment not found",{L:C});z=x.offset.G === F.G;y=this.Ea.R7();return z || (y?d(this.Fzb,null === (B=this.Ea.player.hK()) || void 0 === B?void 0:B.K.id,x)?this.Fzb.jrc:!0:A);};w.prototype.zOa=function(x,y){var z,C;(0,l.assert)(void 0 !== y.Zb || void 0 !== y.Xa,"adInfo must have adBreakIndex or adBreakTriggerId");x=this.Eh.Rw[x];k.l && this.console.trace("Searching adBreak by index",{Zb:y.Zb});if(void 0 !== y.Zb && x)return x[y.Zb];k.l && this.console.trace("Searching adBreak by triggerId",{Xa:y.Xa,rb:null === x || void 0 === x?void 0:x.map(function(F){return F.Xa;})});if(void 0 !== y.Xa && x)try{for(var B=c.__values(x),A=B.next();!A.done;A=B.next()){C=A.value;if(C.Xa === y.Xa)return C;}}catch(F){var D;D={error:F};}finally{try{A && !A.done && (z=B.return) && z.call(B);}finally{if(D)throw D.error;}}k.l && this.console.trace("Could not find ad-break");};w.prototype.LCc=function(x,y){var z,B,A;B=this.Jj.qtb({L:x,offset:e.I.ia});if(B && B.Nc){x=B.Ra;A=B.Nc;B=B.fJ;this.console.trace(("ads::onSegmentNormalized ").concat(y.segmentId,": ").concat(y.normalizedStart.da()," - ").concat(y.normalizedEnd.da()));A.normalize(y.normalizedStart,y.normalizedEnd);B === (null === (z=x.Xb) || void 0 === z?NaN:z.length) - 1 && this.events.emit("adBreakNormalized",{type:"adBreakNormalized",Ra:x});}};c.__decorate([(0,m.fb)({methodName:"_refreshAds",Oe:!0})],w.prototype,"z5",null);c.__decorate([(0,m.fb)({methodName:"onAdBreakHydrated"})],w.prototype,"Lra",null);c.__decorate([(0,m.fb)({methodName:"createInnerWorkingPlaygraph"})],w.prototype,"FJ",null);return w;})();b.E2a=t;},13303:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.F2a=void 0;d=a(22970);n=a(91176);c=a(48170);t=(function(){function h(f,e,g){this.km=f;this.wd=e;this.console=g;this.VXa=[];this.wd.nIa=this;}h.prototype.KQa=function(f){var e,g,m;if(this.km.player.Ya.some(function(r){return r.K.J === f && r.YIa;}))return !1;if(this.VXa.some(function(r){return r.tjb === f;}))return !0;try{for(var k=d.__values(Object.keys(this.wd.Pu)),l=k.next();!l.done;l=k.next()){m=this.wd.Pu[l.value];m && (g=m.rb.some(function(r){var q;return null === (q=r.Xb) || void 0 === q?void 0:q.some(function(u){return u.id === f;});})) && this.VXa.push({tjb:f});}}catch(r){var p;p={error:r};}finally{try{l && !l.done && (e=k.return) && e.call(k);}finally{if(p)throw p.error;}}return g?(this.km.Ya.filter(function(r){return !r.Kf && r.K.J !== f;}).forEach(function(r){return r.Ewb=!0;}),this.wd.IMa(f),!0):!1;};h.prototype.j8=function(f,e){var g;g=this;if(!f.Ob)return e;e.rb=e.rb.map(function(k,l){var m,p,r,q,u;if(!k.Xb)return k;p=f.Ob && (null === (m=f.Od) || void 0 === m?void 0:m.ak);r=!1;q=[];u=0;k.Xb.forEach(function(v){p && r || g.VXa.some(function(w){return w.tjb === v.id;})?(r=!0,u++):q.push(v);});if(r)c.l && g.console.log("Dropping ads due to error",{Zb:l,C1c:k.Xa,c4c:u});else return k;l=q.reduce(function(v,w){return v.add(n.I.Ca(w.ib - w.eb));},n.I.ia);return d.__assign(d.__assign({},k),{Xb:q,j0:void 0,duration:l});});return e;};return h;})();b.F2a=t;},53787:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.G2a=void 0;d=a(90745);n=a(91967);t=(function(){function c(h,f,e){var g;g=this;this.wd=f;this.uj=new d.af();this.Hl="adHydratorAudit";this.bc="adHydratorAuditor";this.enabled=!0;this.uj.on(h.events,"adBreakPresenting",function(k){g.state.mjb.push(k.presentingInfo.Ra.Bg.Cq);});this.uj.on(e.events,"adBreakHydrated",function(){g.state.kjb++;});this.uj.on(e.events,"adBreakHydrationFailed",function(){g.state.jjb++;});this.uj.on(e.events,"adBreakHydrationSkipped",function(){g.state.njb++;});this.state={kjb:0,jjb:0,njb:0,mjb:[]};}c.prototype.ph=function(h){h=h.mi;if(this.wd.yv() && h === n.Ic.tj)return {adBreaksPresentedSequence:this.state.mjb,adBreaksHydratedCount:this.state.kjb,adBreaksFailedHydratedCount:this.state.jjb,adBreaksSkippedCount:this.state.njb};};c.prototype.Ka=function(){this.uj.clear();};return c;})();b.G2a=t;},60575:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.H2a=void 0;d=a(90745);n=a(91967);t=(function(){function c(h,f,e){var k;function g(l){var m,p;(m=k.state.oIa)[p=l.event] || (m[p]=0);k.state.oIa[l.event]++;}k=this;this.wd=f;this.CQ=e;this.uj=new d.af();this.Hl="adImpressionAudit";this.bc="adImpressionAuditor";this.enabled=!0;this.uj.on(h.events,"adPresenting",function(){k.state.bkb++;});this.uj.on(h.events,"adBreakPresenting",function(l){var m,p,r,q;k.state.ljb++;l=l.presentingInfo;l.Ra.Bg.empty || k.state.ojb++;l.Ra.hZ || k.state.pzc++;(m=k.state.lIa)[p=l.Ra.type] || (m[p]=0);k.state.lIa[l.Ra.type]++;(r=k.state.kIa)[q=l.Ra.Bg.source] || (r[q]=0);k.state.kIa[l.Ra.Bg.source]++;});this.uj.on(e.events,"adEvent",g);this.uj.on(e.events,"adBreakEvent",g);this.state={ljb:0,ojb:0,pzc:0,oIa:{},bkb:0,lIa:{},kIa:{}};}c.prototype.ph=function(h){h=h.mi;if(this.wd.yv() && h === n.Ic.tj)return {presented:{breaks:this.state.ljb,breaksWithAds:this.state.ojb,ads:this.state.bkb,adBreaksPresentedByType:this.state.lIa,adBreaksPresentedBySource:this.state.kIa},events:this.state.oIa,logger:this.CQ.gq()};};c.prototype.Ka=function(){this.uj.clear();};return c;})();b.H2a=t;},28143:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperties(b,{__esModule:{value:!0}});b.J2a=void 0;d=a(90745);n=a(66164);c=a(69575);h=a(52571);f=a(48170);e=a(67288);g=a(71398);t=(function(){function k(l,m,p,r,q,u,v){this.Ef=l;this.js=m;this.Jj=p;this.Sk=r;this.Ea=q;this.Zc=u;this.SH=0;this.events=new d.EventEmitter();this.console=(0,c.tf)(n.platform,v,"IMPRESSION");m.events.addListener("adBreakPresenting",this.HDb.bind(this));m.events.addListener("adBreakComplete",this.Kra.bind(this));m.events.addListener("adBreakFallback",this.gVa.bind(this));m.events.addListener("adPresenting",this.iVa.bind(this));this.Ea.events.addListener("seeking",this.Xra.bind(this));this.Ea.events.addListener("cancelingStreaming",this.NDb.bind(this));}Object.defineProperties(k.prototype,{d$:{get:function(){return !!this.Ci;},enumerable:!1,configurable:!0}});k.prototype.Xlb=function(){var l,m;l=this.Ea.player.rZ;if(!l && this.Ea.Ro && this.Ea.player.Qd){m=this.Ea.player;l || (l={Yn:m.Xd,position:m.bh});}return l;};k.prototype.NDb=function(){var l;if(this.Ci){l=this.Xlb();l && this.Ci.JDb(l.position,l.Yn);this.Ci=void 0;}};k.prototype.HDb=function(l){var m,p,r,q;f.l && this.console.trace("onAdBreakPresenting:",l);m="adBreakPresenting" === l.type || (0,e.u$)(l)?l.presentingInfo.Ra.Bg:l.mma;(0,h.assert)(m,"Ad break must be defined for ad break presenting");p="adBreakPresenting" === l.type || (0,e.u$)(l)?l.presentingInfo.position:l.position;this.Ci && (this.Ci.Kra(p),"dynamic" === this.Ci.Ra.type && (f.l && this.console.warn("Unexpected back-to-back dynamic ad breaks"),this.SH+=this.Ci.SH,this.Ci=void 0));r=this.js.Jj.xQa(p);(0,h.assert)(r,"uxViewableId must be defined for ad break presenting");r=this.Ef.get(r);(0,h.assert)(r,"uxViewable must be defined for ad break presenting");q=this.Sk.vY(r);this.Ci=new g.D2a(r,this.Ea,this.Zc,this.events,m,this.Jj,q,this.console);this.Ci.IDb(p,l.Yn);};k.prototype.Kra=function(l){var m,p;p=(0,e.u$)(l)?l.presentingInfo.Ra.Bg:(0,e.gyb)(l)?l.mma:null === (m=this.Ci) || void 0 === m?void 0:m.Ra;f.l && this.console.trace(("adBreakComplete event, ").concat(this.Ci?"have":"no"," impression logger, ") + (p?("ad break ").concat(p.Zb," is ") + ("").concat(p.Xb.length?"not ":"","empty, ") + ("has ").concat(p.El?"":"not ","played"):"no ad break"));if(((0,e.u$)(l) || (0,e.gyb)(l)) && 0 === p.Xb.length)((0,h.assert)(!this.Ci,"Received ad break complete for empty ad break during ad break"),p.WMc(),this.HDb(l));else if(!this.Ci)return;l=(0,e.u$)(l)?l.presentingInfo.position:l.position;this.Ci.Kra(l);this.SH+=this.Ci.SH;this.Ci=void 0;};k.prototype.gVa=function(l){var m;if(this.Ci){m=this.Xlb();m?this.Ci.gVa(m.position,l.Yn):f.l && this.console.warn("Recevied ad break fallback but unable to calculate lastPosition",l);}};k.prototype.iVa=function(l){var m,p,r,q,u;(0,h.assert)(this.Ci,"Expect to be in ad break when ad presenting is received");(0,h.assert)(this.Ci.Ra === (null === (m=l.presentingInfo) || void 0 === m?void 0:m.Ra.Bg),"Expect to be in correct ad break when ad presenting is received");m=l.presentingInfo.position;r=this.Ea.rY(m.L)[0];q=l.Yn;u=q.ea(m.offset);this.Ci.iVa(null === (p=l.presentingInfo.gJ) || void 0 === p?void 0:p.Nc,null === r || void 0 === r?void 0:r.M,m,q,u);};k.prototype.Xra=function(l){!l.duplicate && this.Ci && "embedded" === this.Ci.Ra.type && this.NDb();};k.prototype.gq=function(){var l;return {"break":null === (l=this.Ci) || void 0 === l?void 0:l.gq(),errors:this.SH};};return k;})();b.J2a=t;},13060:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y;Object.defineProperties(b,{__esModule:{value:!0}});b.K2a=void 0;d=a(90745);n=a(91176);c=a(66164);h=a(41456);f=a(54366);e=a(75462);g=a(10940);k=a(63026);l=a(40345);m=a(14103);p=a(67288);r=a(28143);q=a(13303);u=a(60575);v=a(31300);w=a(53787);x=a(14430);y=a(54953);t=(function(){function z(B,A,C,D,F,G,E){this.console=B;this.xja=G;this.Ef=new Map();this.MC=new WeakMap();B=(0,n.tf)(c.platform,B,"ADS");this.Sk=new h.F$a(D,this.Ef,A,B);this.wd=new l.E2a(A,B,C,D,this.Sk,E,this.Ef);this.Jj=new m.Q2a(B,C,D,this.wd);this.js=new p.tcb(this,C,B,this.Ef);this.CQ=new r.J2a(this.Ef,this.js,this.Jj,this.Sk,C,C.Zc,B);this.zn=new v.C2a(F,D,D.kj,A,B,this.CQ.events);C.Ye.Xc(new u.H2a(this.js,this.wd,this.CQ));C.Ye.Xc(new w.G2a(this.js,this.wd,this.zn));C.Ye.Xc(new f.so(this.Sk.Mj));C.Ye.Xc(new k.vab(this.Sk.Waa));this.Eh=new y.R2a(A,this.CQ.events);new x.y2a(A,B,C,this.wd,this.zn,this.Eh,this.Ef);C.AZ.Xc(new e.r9a(C,this.Ef,this.CQ.events,this.Eh,this.Jj,B));C.AZ.Xc(new g.s9a(C,this.zn.events,this.Sk.events));this.wd.Sb(this.Eh,this.Jj,this.zn);this.nIa=new q.F2a(C,this.wd,B);}z.prototype.aH=function(B){var A,C;A=this;if(this.Ef.get(B.J) === B || B.Im)return !1;this.kMa(B.J);C=new d.af();this.MC.set(B,C);this.Ef.set(B.J,B);C.addListener(B.events,"destructed",function(){!1;A.Ef.get(B.J) === B && A.kMa(B.J);});return !0;};z.prototype.kMa=function(B){var A,C;A=this.Ef.get(B);if(A){!1;C=this.MC.get(A);null === C || void 0 === C?void 0:C.clear();this.MC.delete(A);this.Ef.delete(B);}};z.prototype.Ka=function(){var B;B=this;this.Sk.Ka();this.Ef.forEach(function(A){B.kMa(A.J);});this.Ef.clear();};z.prototype.Ik=function(B){return this.js.Ik(B);};return z;})();b.K2a=t;},86681:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.k7=void 0;d=a(22970);n=a(40981);c=a(17774);h=a(75393);f=a(23855);b.k7=function(e,g,k){var l,m,p,r;e=d.__assign({Hza:n.Gza},e).Hza;l=g.Iba[5];m=(0,c.$Db)(function(){return r;});l.yIa(m.qs);p={ek:void 0,Zd:void 0,Ea:void 0,Qzb:"ads"};p.ek=new e(function(){return p.Zd.Hb;},function(){return p.Ea;},g.Iba[2],"Ads:");r=new f.N2a(p,m.pMb,h.qD.MYa.y0,l);e=g.WIa;g.WIa=d.__spreadArray(d.__spreadArray([],d.__read(e),!1),[r],!1);p.Ea=k(g);p.Zd=h.qD.vXa(p.Ea,r,function(){return p;},e);r.Sb();return p.Zd;};},23855:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.N2a=void 0;d=a(22970);n=a(90745);c=a(91176);h=a(48170);f=a(35331);e=a(61996);g=a(52571);t=a(14739);k=a(40666);l=a(13060);a=(function(m){function p(r,q,u,v){var w;w=m.call(this,r,q,u,"AdsPlaygraphHost") || this;w.Ju=v;w.TE=void 0;w.wAb=new c.u4();w.xja=new n.EventEmitter();v.yIa(function(x,y){return w.lic(x,y);});return w;}d.__extends(p,m);Object.defineProperties(p.prototype,{Zd:{get:function(){return this.yq.Zd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{km:{get:function(){if(this.Z !== this.Ea.Z)return this.Ea.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Cc:{get:function(){return this.TE;},enumerable:!1,configurable:!0}});p.prototype.lic=function(r,q){var u,v,w,x,y;x=r.J;y=null === (v=null === (u=null === r || void 0 === r?void 0:r.Um) || void 0 === u?void 0:u.Hf) || void 0 === v?void 0:v.fd;u=this.Cc.wd.rb[y];u=null !== (w=null === u || void 0 === u?void 0:u.some(function(z){return z.Xb.some(function(B){return B.id === x;});})) && void 0 !== w?w:!1;r=d.__assign(d.__assign({},r),{Um:d.__assign(d.__assign({},r.Um),{Cv:u})});return q(r);};p.prototype.Sb=function(){var r;r=this;m.prototype.Sb.call(this);this.yq.Ea.Xc(new f.O2a(this.yq));this.TE=new l.K2a(this.qb,this.Ab,this.Ea,this.Zd,this.Ju,this.xja,function(){return !!r.DQ;});this.yq.Ea.fMc(this.TE);this.Cc.zn.events.on("adBreakHydrated",function(q){return r.xGb(q);});this.Cc.zn.events.on("adBreakHydrationFailed",function(q){var u,v,w;(null === (u=q.qm) || void 0 === u?0:u.Ob) && (null === (w=null === (v=q.qm) || void 0 === v?void 0:v.Od) || void 0 === w?0:w.ak) || r.Mf({Fi:q.error.message,BWa:q.error});});this.TE.wd.events.on("adsUpdated",function(){h.l && r.qb.log("AdPlaygraphHost::adsUpdated");r.Dta();});this.Ea.events.on("seeked",function(){r.DQ && r.Zd.Zc.pt(k.Vd.uwa,function(){r.DQ=void 0;},"clear in progress seek request");});};p.prototype.GL=function(r){var q,u,v,w,x;q=m.prototype.GL.call(this,r);if(q){(0,g.assert)(this.Cc,"missing manager");u=this.Cc.aH(r);r=this.Cc.wd.aH(r,u,this.DQ);u=r.TWa;v=r.yea;w=r.Lz;x=r.kra;(r.fW || u) && this.pta(x,v,w);}return q;};p.prototype.xGb=function(r){r=r.qm;h.l && this.qb.log("AdPlaygraphHost::processAdBreakHydrationResponse");(0,g.assert)(this.Cc,"missing manager");(r=this.Cc.wd.Lra(r,this.DQ))?this.pta(r.kra,r.yea,r.Lz):this.pta();};p.prototype.Mf=function(r){var q,u;q=!1;u=!1;r.J && !r.l0a && (q=this.Cc.nIa.KQa(r.J));q?h.l && this.qb.log("AdPlaygraphHost::reportStreamingFailure streaming failure is recoverable"):u=this.yq.Ea.Mf(r);return u;};p.prototype.YL=function(r){var q,u,v,w;q=this;h.l && this.qb.log("Top level seek streaming call to ",r);this.PZa(r);this.Zd.Zc.pt(k.Vd.uwa,function(){q.DQ=void 0;},"clear in progress seek request");if(this.Cc.wd.zwb(r)){h.l && this.qb.trace(("ads::seekStreaming: ").concat(JSON.stringify(r)));u=this.Cc.wd.t_(r);v=u.Zm;w=u.Lz;if(u=u.kra)(h.l && this.qb.trace("ads::seekStreaming: ads playgraph was updated"),this.pta(u,r));h.l && this.qb.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(v),", ") + ("entryPoint: ").concat(JSON.stringify(w)));this.Ea.rua(v,w);}else this.Ea.YL(r);};p.prototype.pta=function(r,q,u){var v;v=this;this.wAb.Wja || this.wAb.bQb(function(){v.Dta(r,v.Zd.Hb,q,u);v.xja.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};p.prototype.FJ=function(r){return this.Cc.wd.FJ(r);};p.prototype.mg=function(r){m.prototype.mg.call(this,r);this.DQ=void 0;};p.prototype.PZa=function(r){this.DQ=r;};d.__decorate([(0,e.fb)({methodName:"ads::processViewableResponse"})],p.prototype,"GL",null);d.__decorate([(0,e.fb)({methodName:"ads::processAdBreakHydrationResponse"})],p.prototype,"xGb",null);d.__decorate([(0,e.fb)({methodName:"ads::reportStreamingFailure"})],p.prototype,"Mf",null);d.__decorate([(0,e.fb)({methodName:"ads::seekStreaming"})],p.prototype,"YL",null);d.__decorate([(0,e.fb)({methodName:"ads::cancelStreaming"})],p.prototype,"mg",null);return p;})(t.RDa);b.N2a=a;},45991:function(t,b,a){var n,c,h,f,e,g,k,l,m,p,r,q;function d(u,v){var w;w=v && u.ba[v];if(w)return w.type !== c.Dd.content?d(u,w.Dc):v;}Object.defineProperties(b,{__esModule:{value:!0}});b.P2a=void 0;n=a(91176);c=a(79048);h=a(48170);f=a(52571);e=a(14103);g=a(3758);k=a(88700);l=a(15905);m=a(73803);p=a(70778);r=a(45496);q=a(77184);t=(function(){function u(v,w,x,y,z){this.Eh=v;this.console=w;this.Ea=x;this.config=y;this.dE=z;this.egc=[new q.cdb(w),new g.bdb(w),new r.ddb(),new k.w9a(y,w),new l.Y5a(),new m.X5a(),new p.Jab()].filter(n.ed);}u.prototype.AKb=function(){this.gja=void 0;};u.prototype.mG=function(v,w,x,y,z){var B,A,C;A=(null === z || void 0 === z?void 0:z.J) === x?z:this.Ea.rx().filter(function(D){return D.J === x;})[0];z=Array.from(this.Ea.player.Ya).map(function(D){return D.K;});C=null === (B=this.Ea.Cc) || void 0 === B?void 0:B.Jj;B=this.Ea.player.hK();v={IAb:A,Ra:v,ngc:y,Zb:w,kJ:z.map(function(D){return null === C || void 0 === C?void 0:C.qY(D.id);}).filter(n.ed),Bvc:B && (null === C || void 0 === C?void 0:C.qY(B.K.id))};y=this.egc.map(function(D){return D.mG.bind(D);});v=n.oE.EK(v,y);h.l && this.console.info("Evaluated ad-break drop",{Zb:w,P1c:z.map(function(D){return D.id;}),result:v});return v;};u.prototype.Duc=function(v,w){var x;return v.offset.equal(n.I.ia)?!0:w.Ob && (null === (x=w.aj) || void 0 === x?0:x.startTime)?(w=w.Yc.Wnb(n.I.ia),this.console.trace(("Checking ").concat(v.offset.G," against ").concat(w.G," for live seek")),v.offset.G === w.G):!1;};u.prototype.ykb=function(v,w,x){var y,z,B,A,C,D,F,G,E,H,J,L;void 0 === x && (x=this.Ea.Hb);A=x.Z;C=null === (y=x.bH.get(v.L)) || void 0 === y?void 0:y.J;(0,f.assert)(void 0 !== C,"AdPolicies::applyAdPoliciesToSeekPosition: viewableId must exist in outermost playgraph");D=this.Eh.Rw[C];F=y=w.SF(v);G=A.ba[y.L];h.l && this.console.debug("AdPolicies::applyAdPoliciesToSeekPosition",{Zm:v,DMa:y});C=this.dE.get(C);(0,f.assert)(C,"AdPolicies::applyAdPoliciesToSeekPosition: viewable must exist");if(this.Duc(y,C))E=this.TPa(A,D,y);else {G.type === c.Dd.padding && (y={L:G.Dc,offset:n.I.ia});H=null === (z=this.Ea.player.hK()) || void 0 === z?void 0:z.K.id;if(H)J=H;else (z=d(A,A.lf),this.Ea.Ro && this.Ea.player.zv || this.Ea.R7() || z !== y.L || !this.config.MX?J=z:E=this.TPa(A,D,w.SF({L:v.L,offset:n.I.ia})));!E && J && (h.l && this.console.trace(("ads::seekStreaming: seek from segment ").concat(J)),E=this.Voc(J,y,x));}v=!(null === (B=C.Od) || void 0 === B || !B.ak);if(E && !v)if(E.L){F={L:E.L,offset:n.I.ia};h.l && this.console.debug("AdPolicies::applyAdPoliciesToSeekPosition adjusting entrypoint",{DMa:y});G.type === c.Dd.Nc && (y={L:y.L,offset:n.I.ia},h.l && this.console.debug("AdPolicies::applyAdPoliciesToSeekPosition snapping entrypoint to beginning of ad",{DMa:y}));L=y;}else G.type !== c.Dd.Nc && (this.gja=E.Ra);B={jrc:v?G.type === c.Dd.Nc:!!E,Tkc:J,to:y};L || G.type !== c.Dd.Nc || v || (h.l && this.console.debug("AdPolicies::applyAdPoliciesToSeekPosition seeking to an ad, defaulting entryPoint",{Lz:L,DMa:y}),y.offset.greaterThan(n.I.ia) && (h.l && this.console.debug("AdPolicies::resetting seek position to beginning of ad"),y={L:y.L,offset:n.I.ia}),F=L=y);h.l && this.console.debug("AdPolicies::applyAdPoliciesToSeekPosition returning: ",("{ seekPosition: ").concat(F,", entryPoint: ").concat(L,", policy: ").concat(B));return {Zm:F,Lz:L,RWa:B};};u.prototype.f_a=function(v,w,x,y){if(this.gja)return (w=this.gja,this.gja=void 0,w);if((v=this.Eh.Rw[v]) && v.length)if(x && w.L === y && w.offset.equal(n.I.ia)){if((w=v[0],0 === w.location.G && w.empty && !w.El && !w.SY))return w;}else if(!x)return this.UOa(w.L,v);};u.prototype.Voc=function(v,w,x){var y,z,B,A,C,D,F;h.l && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(v," to ").concat(JSON.stringify(w)));if(x){z=x.MG(w.L);(0,f.assert)(z,"inner WorkingPlaygraph segmentId should map correctly to outermost");B=this.Eh.Rw[x.bH.Z.ba[z].J];A=x.Z.ba;C=null === (y=A[v]) || void 0 === y?void 0:y.Dc;A[v] || (C=this.Ea.Z.ba[v].Dc);D=void 0;F=void 0;v=function(){var E,H,J;E=A[C];if(!E)return (G.console.warn(("AdPoliciesManager: getPrerollOnSeek: segment ").concat(C," not found")),"break");if(E.type === c.Dd.content && (D === c.Dd.content || void 0 === D) && B){H=G.UOa(C,B);H && (F={Ra:H});}if(C === w.L)return (H=(E=F && !F.L) || D && D !== c.Dd.content?F:void 0,h.l && G.console.trace("AdPoliciesManager: getPrerollOnSeek: returning",{result:H,n7c:F,X4c:E}),{value:H});if(E.type === c.Dd.Nc && D !== c.Dd.Nc){h.l && G.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(C));J=(0,e.cQ)(C);(0,f.assert)(J,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId");(H=void 0 !== J.Zb?B[J.Zb]:(0,n.ic)(B,function(L){return L.Xa === J.Xa;})) && (F={L:C,Ra:H});}D=E.type;C=E.Dc;};for(var G=this;C;){x=v();if("object" === typeof x)return x.value;if("break" === x)break;}}h.l && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");};u.prototype.TPa=function(v,w,x){var y,z,B;y=v.ba;x=x.L;z=y[x];if(z){z=z.type;if(z === c.Dd.padding)return this.TPa(v,w,{L:y[x].Dc,offset:n.I.ia});h.l && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph",x);if(z === c.Dd.Nc){B=(0,e.cQ)(x);(0,f.assert)(B,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId");w=void 0 !== B.Zb?w[B.Zb]:(0,n.ic)(w,function(A){return A.Xa === B.Xa;});(0,f.assert)(w,"getPrerollAdBreakForPlaygraph: Unable to find ad break");return {L:x,Ra:w};}if(z === c.Dd.content){if(v=this.UOa(x,w))return {Ra:v};w=this.qoc(x,w);if("dynamic" === (null === w || void 0 === w?void 0:w.type))return {L:x,Ra:w};}else h.l && (0,f.assert)(!0,"Can't get preroll; initial segment was padding and it had no default next segment");}else h.l && this.console.warn(("AdPoliciesManager: getPrerollAdBreakForPlaygraph: segment ").concat(x," not found"));};u.prototype.UOa=function(v,w){v=(0,e.Mtb)(v);(0,f.assert)(v,"Should have contentInfo from segment name");if(0 < v.lla)if((w=w[v.lla - 1],h.l && this.console.trace("getEmptyAdForSegment",{W5c:!!w,Ra:w && ({index:w.Zb,empty:w.empty,El:w.El,SY:w.SY,source:w.source})}),!w))h.l && this.console.warn("AdPoliciesManager: getNonEmptyAdForSegment: adBreak not found");else if(w.empty && !w.El && !w.SY)return w;};u.prototype.qoc=function(v,w){v=(0,e.Mtb)(v);(0,f.assert)(v,"Should have contentInfo from segment name");if(0 < v.lla)if((w=w[v.lla - 1],!w))h.l && this.console.warn("AdPoliciesManager: getNonEmptyAdForSegment: adBreak not found");else if(!w.empty && !w.El && !w.SY)return w;};return u;})();b.P2a=t;},14103:function(t,b,a){var n,c,h,f,e,g,k;function d(l){var m;m=(/^.+:ad\-(\d+)\-(\d+)(-F)?$/).exec(l);if(m)return {fJ:parseInt(m[2]),Zb:parseInt(m[1]),KK:!1};if(m=(/^.+:q\-\[(.+)\]\-(\d+)(-F)?$/).exec(l))return {fJ:parseInt(m[2]),Xa:m[1],KK:!1};if(l=(/^.+:pad((end)|(start))-(\d+)(-F)?$/).exec(l))return {Zb:parseInt(l[4]),KK:!0,F_:l[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.Q2a=void 0;b.cQ=d;b.Mtb=function(l){if(l=(/^.+-(\d+)(-F)?$/).exec(l))return {lla:parseInt(l[1])};};n=a(22970);c=a(66164);h=a(91176);f=a(79048);e=a(48170);g=a(51308);k=a(81749);t=(function(){function l(m,p,r,q){this.console=m;this.km=p;this.Zd=r;this.wd=q;this.console=(0,h.tf)(c.platform,this.console,"ADPOSITIONSERVICE");}l.prototype.wlc=function(m){var p,r,q,u,v,w,x,y,z,B;q=d(null === m || void 0 === m?void 0:m.L);u=this.km.Hb;u.get(m.L);x=u.NG(m.L);y=[m.L];if(x){z=u.DG.dK(m.L);for(w=z.next();!w.done;){w=w.value;B=u.NG(w.id);if(!w || B !== x || w.type === f.Dd.content)break;y.push(w.id);w=z.next();}}u=null !== (v=y.pop()) && void 0 !== v?v:m.L;v=d(u);m=this.km.Z.ba[m.L];u=this.km.Z.ba[u];m=(null !== (p=m.ib) && void 0 !== p?p:Infinity) - m.eb;p=(null !== (r=u.ib) && void 0 !== r?r:Infinity) - u.eb;return {start:(null === q || void 0 === q?0:q.KK)?new k.qxa(g.lfa.start,m):void 0,end:(null === v || void 0 === v?0:v.KK)?new k.qxa(g.lfa.end,p):void 0};};Object.defineProperties(l.prototype,{DL:{get:function(){if(this.km.player.Qd)return this.HC(this.km.player.bh);},enumerable:!1,configurable:!0}});l.prototype.HC=function(m){var p,r,q,u,v,w,x,y,z,B,A,C,D;p=this.qtb(m);e.l && this.console.debug("getPresentingAdBreak",m,p);if(p){r=p.Ra;q=p.Zb;u=p.Nc;v=p.fJ;w=p.F_;if(r){(0,h.assert)(void 0 !== q,"adBreakIndex should be defined");x=this.wlc(m);x=new k.i3a(r,x.start,x.end);y=this.km.Hb;y.get(m.L);B=-m.offset.G;A=y.NG(m.L);if(A){C=y.DG.dK(m.L);for(z=C.next();!z.done;){z=z.value;D=y.NG(z.id);if(!z || D !== A || z.type === f.Dd.content)break;B+=z.ib - z.eb;z=C.next();}}y=h.I.Ca(B);B=y.ea(x.h8.duration);"end" === p.F_?B=h.I.ia:"start" === p.F_ && (A=x.$ua.duration.ea(m.offset),B=B.ea(A));r={Ra:x,progress:{ijb:r.duration.ea(B),$2b:1 - Math.max(0,B.G) / r.duration.G,a3b:x.duration.ea(y),b3b:1 - Math.max(0,y.G) / x.duration.G},position:m,index:q};q=this.km.Z.ba[m.L];q=q.ib - q.eb;m=m.offset.G / q;w?r.cWa={JDc:m,nsa:p.F_,ksa:h.I.Ca(q)}:u && ((0,h.assert)(void 0 !== v,"adIndex should be defined"),r.gJ={Nc:u,rjb:m,index:v});return r;}this.console.error("getPresentingAdBreak unable to find adBreak,","position:",m,"adInfo:",p);}else e.l && this.console.debug("getPresentingAdBreak could not find ad data for position",m);};l.prototype.qtb=function(m){var p,r,q;r=m.L;e.l && this.console.debug("getAdDataForSegment",r,m);m=this.xQa(m);if(void 0 === m)e.l && this.console.debug("getAdDataForSegment could not find viewable for position");else {if(r=d(r)){m=this.wd.zOa(m,r);(0,h.assert)(m,"adBreak should be defined");if(r.KK)return {Ra:m,Zb:r.Zb,F_:r.F_};q=r.fJ;r=null !== (p=r.Zb) && void 0 !== p?p:m.Zb;return {Ra:m,Zb:r,Nc:m.Xb[q],fJ:q};}e.l && this.console.debug("Could not get ad info for segment name");}};l.prototype.Mmc=function(m,p){var r;r=this.xQa(m);if(void 0 !== r)return this.wd.f_a(r,m,p);};l.prototype.cQ=function(m){return d(m);};l.prototype.qY=function(m){var p,r,q,u;p=d(m);if(p){r=void 0;r=this.km.Z.ba[m]?this.km.Hb.NG(m):this.km.GQ.Hb.MG(m);q=m=void 0;if(r)if((q=this.Zd.Z.ba[r].J,r=this.wd.rb[q],(0,h.assert)(r,"viewableAds should be defined"),void 0 !== p.Zb))m=r[p.Zb];else if(p.Xa){u=p.Xa;m=r.filter(function(v){return v.Xa === u;})[0];}(0,h.assert)(m,"adBreakInfo should be defined");p=n.__rest(p,["adBreakIndex","adBreakTriggerId"]);return {Bg:m,UWa:p,fd:q};}};l.prototype.xQa=function(m){var p,r;r=this.Zd;if(m=null === (p=r.ek) || void 0 === p?void 0:p.UH(m))if(p=r.Z.ba[m.L])return p.J;};return l;})();b.Q2a=t;},54953:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.R2a=void 0;d=a(91176);n=a(52571);c=a(59034);t=(function(){function h(f,e){var g;g=this;this.config=f;this.u1a=0;this.uV={};e.on("adEvent",function(k){return g.hVa(k);});}Object.defineProperties(h.prototype,{Rw:{get:function(){var f,e;f=this;e={};Object.keys(this.uV).forEach(function(g){e[g]=f.uV[g].state;});return e;},enumerable:!1,configurable:!0}});h.prototype.CZa=function(f,e){var g;g=this.uV[f];g || (g=new c.ogb(this.config),this.uV[f]=g);g.CZa(e);};h.prototype.reset=function(){this.u1a=0;};h.prototype.hVa=function(f){var e;e=this;"adComplete" === f.event && Object.keys(this.uV).some(function(g){var k,l,m;g=null !== (k=(m=e.Rw)[g]) && void 0 !== k?k:m[g]=[];(0,n.assert)(void 0 !== f.Zb,"complete event should have an adBreakIndex");return null === (l=g[f.Zb].Xb) || void 0 === l?void 0:l.some(function(p){return p.id == f.S.R?(p.El=!0,e.u1a++,!0):!1;});});};h.prototype.IMa=function(f){var e;e=this;Object.keys(this.uV).forEach(function(g){e.Rw[g].forEach(function(k){k.Xb.forEach(function(l){l.id == f && (l.HK=!0);});});});};h.prototype.kna=function(f,e){return (f=this.Rw[f]) && (0,d.ic)(f,function(g){return new d.qV(g.Pa,g.Pa.add(g.nk || d.I.ia)).VW(e,"ms");});};h.prototype.slc=function(f,e){return (f=this.Rw[f]) && (0,d.ic)(f,function(g){return g.wk === e;});};return h;})();b.R2a=t;},14847:function(t,b,a){var h,f,e,g,k;function d(l){switch(l){case "AD_BREAK":case "AD_BREAK_ENUMERATED_ADS":return 52;case "NON_AD_BREAK":return 34;case "NO_INDICATION":return 60;default:return 60;}}function n(l){switch(l){case "ENABLED_AS_NORMAL":return {xH:!0,fH:!0,EG:!0};case "DISABLED_EXCEPT_FOR_PAUSE_EXIT":return {xH:!1,fH:!0,EG:!0};case "DISABLED_EXCEPT_FOR_PAUSE_EXIT_LIVE_EDGE":return {xH:!1,fH:!0,EG:!0};default:return {xH:void 0,fH:void 0,EG:void 0};}}function c(l,m,p){var r;if(3 <= (null === l || void 0 === l?void 0:l.length)){r=0;l=l.toLowerCase().substring(0,3).split("").map(function(q){return "t" === q?!0:"f" === q?!1:"*" === q?0 === (1 << r++ & p):void 0;});m.xH=l[0];m.fH=l[1];m.EG=l[2];}else (m.xH=void 0,m.fH=void 0,m.EG=void 0);}Object.defineProperties(b,{__esModule:{value:!0}});b.i3a=b.qxa=b.kxa=void 0;h=a(91176);f=a(35963);e=a(8707);g=a(88E3);t=(function(){function l(m,p,r,q){void 0 === q && (q=NaN);this.config=m;this.ae=p;this.Mgb=r;this.MHa=q;this.xia=this.loa=this.yhb=this.d5=!1;this.rHa={xH:void 0,fH:void 0,EG:void 0};this.hZ=this.eT=!1;this.FI=[];this.oOb(p,r);}Object.defineProperties(l.prototype,{An:{get:function(){return this.ae.An;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Zb:{get:function(){return this.Mgb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{zx:{get:function(){return !!this.ae.zx;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jL:{get:function(){return !!this.ae.jL;},set:function(m){this.ae.jL=m;},enumerable:!1,configurable:!0}});l.prototype.pOb=function(m){var p;p=this;void 0 === m && (m=[]);this.FI=m.map(function(r,q){q=p.FI[q];return (null === q || void 0 === q?void 0:q.id) === r.id?q:new g.h3a(r);});};l.prototype.oOb=function(m,p){var r,q,u;u=this.ae;this.ae=m;u=m.sK !== u.sK;if(this.FI.length !== (null === (r=m.Xb) || void 0 === r?void 0:r.length) || u)(this.pOb(m.Xb),this.d5="hydration" === m.source && u?!1:this.d5);this.Mgb=p;c(this.config.Oda,this.rHa,p);r=this.config.Oda;4 < (null === r || void 0 === r?void 0:r.length) && (r=r.substring(4),p%=r.length / 2,m.$n=parseInt(r.substring(2 * p,2 * p + 2),16));this.ae.zx && "viewable" !== this.ae.source?(this.asc(m,null !== (q=m.sK) && void 0 !== q?q:-1),this.eT=this.ae.jZ || !1):this.xia && this.Cpb();};Object.defineProperties(l.prototype,{location:{get:function(){return this.ae.location;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Pa:{get:function(){return this.ae.Pa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wk:{get:function(){return this.ae.wk;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{qW:{get:function(){return this.ae.qW;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{$n:{get:function(){var m;return null === (m=this.ae) || void 0 === m?void 0:m.$n;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Cq:{get:function(){return this.MHa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{iFc:{get:function(){return this.rHa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{DO:{get:function(){return this.ae.DO;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Xb:{get:function(){return this.FI;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return this.duration.equal(h.I.ia);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{source:{get:function(){return this.ae.source;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{duration:{get:function(){return (0,e.gpa)(this.ae)?this.ae.duration:this.Xb.reduce(function(m,p){return m.add(p.endTime.ea(p.startTime));},h.I.ia);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{type:{get:function(){return this.ae.type;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Xa:{get:function(){return this.ae.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{lyb:{get:function(){return this.El || !this.Vp && !this.loa?this.FI.every(function(m){return m.El;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{El:{get:function(){return this.d5?!0:this.FI.length?this.FI.every(function(m){return m.El;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Vp:{get:function(){return !!this.ae.Vp;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ZKb:{get:function(){var m;m="viewable" === this.ae.source && this.pg;return !!this.ae.Vp && !this.pg && !m;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{pg:{get:function(){return !this.xia && !!this.ae.zx && (!!this.ae.Xb || "embedded" === this.type);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{nk:{get:function(){var m;return null === (m=this.ae) || void 0 === m?void 0:m.nk;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{SY:{get:function(){return this.yhb;},set:function(m){m && (this.yhb=!0);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{n0a:{get:function(){var m;return null !== (m=this.ae.n0a) && void 0 !== m?m:!1;},enumerable:!1,configurable:!0}});l.prototype.WMc=function(){this.Xb.length || (this.d5=!0);};l.prototype.fyc=function(){this.hZ=!0;};l.prototype.asc=function(m,p){this.loa && p === this.MHa || (this.ae=m,this.pOb(m.Xb),this.loa=!0,this.MHa=p,this.eT=m.jZ,m.I1 && (m.I1.mPb && (this.ae.$n=d(m.I1.mPb)),m.I1.M1a && (this.rHa=n(m.I1.M1a))));this.xia=!1;};l.prototype.Cpb=function(){this.d5=this.El;if(this.ae.Vj || this.ae.Xa)(this.xia=!0,this.FI=[],this.loa=this.eT=!1);};return l;})();b.kxa=t;k=(function(){function l(m,p){this.nsa=m;this.U_b=p;}Object.defineProperties(l.prototype,{duration:{get:function(){return h.I.Ca(this.U_b);},enumerable:!1,configurable:!0}});Object.defineProperties(l,{cVa:{get:function(){return this.n1b || (this.n1b=new l(f.lfa.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(l,{iBc:{get:function(){return this.m1b || (this.m1b=new l(f.lfa.end,0));},enumerable:!1,configurable:!0}});return l;})();b.qxa=k;t=(function(){function l(m,p,r){this.Bg=m;this.Fib=p || k.cVa;this.Y_b=r || k.cVa;}Object.defineProperties(l.prototype,{$ua:{get:function(){return this.Fib;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{h8:{get:function(){return this.Y_b;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{xrc:{get:function(){return this.Fib !== k.cVa || this.h8 !== k.iBc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{duration:{get:function(){return this.Bg.duration.add(this.$ua.duration).add(this.h8.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ksa:{get:function(){return this.$ua.duration.add(this.h8.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{type:{get:function(){return this.Bg.type;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{$n:{get:function(){return this.Bg.$n;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{hZ:{get:function(){return this.Bg.hZ;},enumerable:!1,configurable:!0}});return l;})();b.i3a=t;},88E3:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.h3a=void 0;d=a(91176);t=(function(){function n(c){this.Nc=c;this.Zhb=this.HK=this.El=!1;this.kb=d.I.Ca(this.Nc.eb);this.Rb=d.I.Ca(this.Nc.ib);}Object.defineProperties(n.prototype,{id:{get:function(){return this.Nc.id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Mm:{get:function(){return this.Zhb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{startTime:{get:function(){return this.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{endTime:{get:function(){return this.Rb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{duration:{get:function(){return this.Rb.ea(this.kb);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{pF:{get:function(){return this.Nc.pF;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Dva:{get:function(){return this.Nc.Dva;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{An:{get:function(){return this.Nc.An;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bZ:{get:function(){return this.Nc.bZ;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{k1:{get:function(){return this.Nc.k1;},enumerable:!1,configurable:!0}});n.prototype.normalize=function(c,h){this.kb=c;this.Rb=h;this.Zhb=!0;};Object.defineProperties(n.prototype,{a1a:{get:function(){return this.Nc.a1a;},enumerable:!1,configurable:!0}});return n;})();b.h3a=t;},81749:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(88E3),b);t.__exportStar(a(14847),b);t.__exportStar(a(46062),b);},67288:function(t,b,a){var n,c,h,f,e,g,k,l,m;function d(p,r){return n.__assign(n.__assign({},{Yn:r || f.I.ia,position:p.position,Ra:p.Ra.Bg}),{Ra:p.Ra.Bg});}Object.defineProperties(b,{__esModule:{value:!0}});b.tcb=void 0;b.gyb=function(p){return !!p.mma;};b.u$=function(p){return !!p.presentingInfo;};b.E6c=function(p){return !p.mma && !p.presentingInfo;};n=a(22970);c=a(90745);h=a(79048);f=a(91176);e=a(91176);g=a(66164);k=a(48170);l=a(69575);m=a(52571);t=(function(){function p(r,q,u,v){var w;w=this;this.Cc=r;this.Ea=q;this.dE=v;this.PP=new c.af();this.yJb=this.Ykb=!1;this.console=(0,l.tf)(g.platform,u,"PLAYERADMANAGER");this.events=new c.EventEmitter();this.Ea.events.on("playerChanged",this.KFb.bind(this));this.KFb();this.Ea.events.on("cancelingStreaming",function(){var x;k.l && w.console.trace("PlayerAdManager received cancelStreaming");if(w.fP){x=w.Ea.player.rZ;x?w.gIa(x.position):(k.l && w.console.error("Missing last position for cancel streaming call"),w.fP=void 0);}});this.Cc.xja.on("adPlaygraphUpdated",function(x){return w.events.emit("adPlaygraphUpdated",x);});this.wd.events.on("adSegmentDropped",function(x){w.LBc(x);});this.wd.events.on("advertsMismatch",function(x){return w.events.emit("advertsMismatch",x);});}Object.defineProperties(p.prototype,{d$:{get:function(){return !!this.fP;},enumerable:!1,configurable:!0}});p.prototype.Ik=function(r){var q;if(!this.Ea.Ro)return (k.l && this.console.trace("PlayerAdManager.canSkip(): no player"),!1);q=this.Ea.player;if(!q.S8(r))return (k.l && this.console.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",r),!1);k.l && this.console.trace(("PlayerAdManager.canSkip(): ").concat(q.Xd.da()," -> ").concat(r.da()));r=r.greaterThan(q.Xd)?(0,l.esb)(q.Ya,q.Xd,r):(0,l.esb)(q.Ya,r,q.Xd);q=!r.some(function(u){return u.K.type !== h.Dd.content;});k.l && this.console.trace(("PlayerAdManager.canSkip(): ").concat(q,"; ").concat(r.map(function(u){return ("").concat(u.K.id," ").concat(u.K.type," ").concat(u.Qb.G,"..").concat(u.Qb.G);})));return q;};p.prototype.t9=function(){var r;return (null === (r=this.fP) || void 0 === r?void 0:r.iFc) || ({xH:void 0,fH:void 0,EG:void 0});};Object.defineProperties(p.prototype,{wd:{get:function(){return this.Cc.wd;},enumerable:!1,configurable:!0}});p.prototype.KFb=function(){var r,q;r=this;this.console.trace("Player changed",this.Ea.Ro);this.PP.clear();if(this.Ea.Ro){q=this.Ea.player;this.PP.addListener(q.events,"segmentPresenting",function(u){return r.HA(u);});this.PP.addListener(q.events,"playbackEnding",function(u){return r.AVa(u);});}};p.prototype.HA=function(r){var q,u,v,w,x,y,z,B,A,C,D,F;k.l && this.console.trace("Got Segment presenting",{K:r.position.L,position:r.position.offset.da(),seek:r.seek});A=r.$Y?r.$Y.position.L:r.position.L;C=this.Ea.rY(A)[0];D=C?null === (u=null === (q=C.M.S) || void 0 === q?void 0:q.Od) || void 0 === u?void 0:u.qW:void 0;!this.Ykb && D && g.platform.ping && (g.platform.ping(D),this.Ykb=!0);q=this.Jj.HC(r.position);k.l && this.console.trace("Checked segment presenting",{Zb:null === q || void 0 === q?void 0:q.index,K9c:q});if(u=(null === q || void 0 === q?void 0:q.Ra.Bg) || this.Jj.Mmc(r.position,!!r.seek))if((D=null === (v=null === q || void 0 === q?void 0:q.gJ) || void 0 === v?void 0:v.Nc,v=(null === (w=null === C || void 0 === C?void 0:C.M) || void 0 === w?void 0:w.lk) || (null === C || void 0 === C?void 0:C.M),this.yJb || (null === v || void 0 === v?0:v.hSa) || u.fyc(),k.l && this.console.trace(("Got segment presenting event: adBreak: ").concat(u.Zb),{Nc:D,L:A,M:v.J}),(0,m.assert)(q || u.empty,"Should have presenting info for event corresponding to ad break, or ad break should be empty"),q)){F=!1;this.dE.forEach(function(G){var E;G.Ob && (null === (E=G.S.Od) || void 0 === E?0:E.ak) && (F=!0);});if(!this.d$ || "embedded" === (null === (x=this.fP) || void 0 === x?void 0:x.type) || F && r.seek)u.empty?u.pg || D?(k.l && this.console.trace("We are no longer in an adbreak or past an embedded ad (1)"),this.Sic(q,r.playerTimestamp)):k.l && this.console.trace("Passed an unhydrated ad break; assume it was skipped intentionally"):this.Z2b(q,r.playerTimestamp);D && (D.id === v.J && "dynamic" === (null === (y=this.fP) || void 0 === y?void 0:y.type) && (k.l && this.console.trace("Detected fallback from dynamic to embedded ad, forcing new ad break"),this.X2b(q,r.playerTimestamp)),(0,m.assert)((null === (z=q.gJ) || void 0 === z?void 0:z.Nc) === D,"Presenting Info should point to same ad as adInfo"),this.Bo(q,r.playerTimestamp));}else (k.l && this.console.trace("We are no longer in an adbreak or past an embedded ad (2)"),u.pg && this.Ugc(u,r.position,r.playerTimestamp));!this.d$ || q && "end" !== (null === (B=q.cWa) || void 0 === B?void 0:B.nsa) || (k.l && this.console.trace("We are in end padding / next segment"),this.nkb(r.position));this.d$ && !q && (k.l && this.console.trace("onSegmentPresenting calling adBreakEnding"),this.gIa(r.position));this.yJb=!0;};p.prototype.AVa=function(r){this.d$ && this.Jtc(r.position) && (this.nkb(r.position),k.l && this.console.trace("onPlaybackEnding calling adBreakEnding"),this.gIa(r.position));};p.prototype.Z2b=function(r,q){(0,m.assert)(r,"Should have presenting info for event corresponding to ad break");k.l && this.console.trace("Emitting adBreakPresenting:",r);this.fP=r.Ra.Bg;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:r,playerControlState:this.t9(),Yn:q,Iic:d(r,q)});};p.prototype.Bo=function(r,q){var u,v,w;k.l && this.console.trace("Emitting adPresenting:",r);u=this.events;v=u.emit;w=n.__assign(n.__assign({},d(r,q)),{Nc:r.gJ.Nc});v.call(u,"adPresenting",{type:"adPresenting",presentingInfo:r,Iic:w,Yn:q});};p.prototype.X2b=function(r,q){r={type:"adBreakFallback",presentingInfo:r,Yn:q};k.l && this.console.trace("Emitting adBreakFallback:",r);this.events.emit(r.type,r);};p.prototype.Sic=function(r,q){k.l && this.console.trace("Emitting explicit adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",presentingInfo:r,Yn:q});};p.prototype.Ugc=function(r,q,u){k.l && this.console.trace("Emitting empty adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",mma:r,position:q,Yn:u});};p.prototype.nkb=function(r){k.l && this.console.trace("Emitting anonymous adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",position:r});};p.prototype.gIa=function(r){this.fP=void 0;k.l && this.console.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:r},playerControlState:this.t9()});};p.prototype.yv=function(r){var q,u,v;q=this;u={$Ia:[],result:{}};v=Object.keys(this.wd.rb).filter(function(w){return q.wd.Pu[w];});if(null === r || void 0 === r?0:r.By)v=v.filter(function(w){var x;return -1 !== (null === (x=r.By) || void 0 === x?void 0:x.indexOf(w));});u.$Ia=v;v.forEach(function(w){var x;u.result[w]=0 < (null === (x=q.wd.rb[w]) || void 0 === x?void 0:x.length);});return u;};p.prototype.kG=function(r){var q,u,v,w;q=this;u={$Ia:[],result:{}};v=this.wd.Pu;w=Object.keys(v).filter(function(x){return v[x];});if(null === r || void 0 === r?0:r.By)w=w.filter(function(x){var y;return -1 !== (null === (y=r.By) || void 0 === y?void 0:y.indexOf(x));});u.$Ia=w;w.forEach(function(x){var y,z,B,A,C;B=null === (y=v[x]) || void 0 === y?void 0:y.rb;if(B){y=q.dE.get(Number(x));A=!(null === y || void 0 === y || !y.Ob) && !(null === (z=null === y || void 0 === y?void 0:y.S.Od) || void 0 === z || !z.ak);z=q.Ajc(x,B);C=q.wd.rb[x];u.result[("").concat(x)]=z.map(function(D,F){return n.__assign(n.__assign({},D),{hasCompletedPlayback:C[F].lyb || A,isHiddenFromUser:C[F].lyb || A,unnormalizedLocationMs:D.wk,locationMs:D.Iv,location:D.location,adBreakToken:D.Vj,contentTimestamp:D.Pa,type:D.type});});}});return u;};Object.defineProperties(p.prototype,{Jj:{get:function(){return this.Cc.Jj;},enumerable:!1,configurable:!0}});p.prototype.Ajc=function(r,q){var u,v;u=[];v=[];this.wd.rb[r].forEach(function(w){return w.Xb.forEach(function(x){x.HK && -1 === v.indexOf(x.id) && v.push(x.id);});});q.forEach(function(w){var x,y;w=n.__assign({},w);y=null === (x=w.ads) || void 0 === x?void 0:x.filter(function(z){return -1 === v.indexOf(z.id);});w.ads=y;u.push(w);});return u;};p.prototype.LBc=function(r){var q,u,v,w;q=this;u=r.adId;v=this.wd.Pu;r=Object.keys(v).filter(function(x){return v[x];});w=this.Ea.Z.ba;r.forEach(function(x){var y,z;null === (z=null === (y=v[x]) || void 0 === y?void 0:y.rb) || void 0 === z?void 0:z.forEach(function(B,A){var C;null === (C=B.Xb) || void 0 === C?void 0:C.forEach(function(D,F){D.id === u && (D=(0,e.ic)(Object.keys(w),function(G){G=q.Jj.cQ(G);return !G || G.KK?!1:F === G.fJ && A === G.Zb;})) && q.events.emit("segmentDropped",{type:"segmentDropped",auxMid:u,auxMidType:h.Dd.Nc,adBreakLocationMs:B.wk,reason:"network_error",sev:"error",segmentId:D});});});});};p.prototype.Jtc=function(r){r=this.Ea.Hb.get(r.L);return !(!r || 0 < r.RD);};return p;})();b.tcb=t;},73803:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.X5a=void 0;t=(function(){function a(){}a.prototype.mG=function(d,n){var c,h;c=d.Ra;h=n(d);h.fx || c.Xb.forEach(function(f,e){f.HK && (h.gx.push(e),h.reason="error");});return h;};return a;})();b.X5a=t;},15905:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Y5a=void 0;t=(function(){function a(){}a.prototype.mG=function(d,n){var c,h;h=d.Ra;return (null === (c=d.IAb) || void 0 === c?0:c.Rr) || !h.El?n(d):{fx:!0,gx:[],reason:"played"};};return a;})();b.Y5a=t;},88700:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.w9a=void 0;d=a(22970);n=a(91176);t=(function(){function c(h,f){this.config=h;this.console=f;}c.prototype.mG=function(h,f){var e,g,k,l,m,p,r,q,w,x,y,z;if(this.config.g6)return f(h);k=h.IAb;l=null === k || void 0 === k?void 0:k.Od;m=l && l.LIb;if((null === k || void 0 === k?0:k.Ob) && l){l=k.Jn(!0);p=null === (g=k.Kh) || void 0 === g?void 0:g.Lv;g=h.Ra;r=h.Ra.Pa.add(g.nk || g.duration);k=this.config.zP?!m && g.An:!m && ((null === k || void 0 === k?void 0:k.Rr) || g.An);if(l && r.lessThan(l) && k)return (!1,{fx:!0,gx:[],reason:"live-drop"});if(l && g.Xb){f=f(h);if(f.fx)return f;q=n.I.ia;k=g.Xb.map(function(A,C){q=q.add(A.duration);return {Nc:A,index:C,mgc:q};}).reverse();f=f.gx || [];try{for(var u=d.__values(k),v=u.next();!v.done;v=u.next()){w=v.value;x=w.index;if(-1 === f.indexOf(x)){if(!w.Nc.An)break;y=h.Ra.Pa.add(w.mgc);z=h.Ra.Pa.add(h.Ra.nk || h.Ra.duration);if(y.lessThan(l) || z.lessThan(p || l))(!1,f.push(x));else break;}}}catch(A){var B;B={error:A};}finally{try{v && !v.done && (e=u.return) && e.call(u);}finally{if(B)throw B.error;}}return {fx:!1,gx:f,reason:"live-drop"};}}return f(h);};return c;})();b.w9a=t;},70778:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Jab=void 0;t=(function(){function a(){}a.prototype.mG=function(){return {gx:[],fx:!1,reason:"none"};};return a;})();b.Jab=t;},3758:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bdb=void 0;t=(function(){function a(d){this.console=d;}a.prototype.mG=function(d,n){n=n(d);if(n.fx && !d.ngc && d.kJ.filter(function(c){return c.Bg.Zb === d.Zb;}).length)return (n.fx=!1,n.reason="in buffer",this.console.log("PreserveAppendedAdsPolicy: preserving ad break",{Zb:d.Zb,Xa:d.Ra.Xa,kJ:d.kJ}),n);this.console.log("PreserveAppendedAdsPolicy: not preserving ad break",{Zb:d.Zb,Xa:d.Ra.Xa,kJ:d.kJ});return n;};return a;})();b.bdb=t;},77184:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cdb=void 0;t=(function(){function a(d){this.console=d;}a.prototype.mG=function(d,n){var c,h;n=n(d);c=d.kJ.reduce(function(f,e){e.UWa.KK || f.add(e.UWa.fJ);return f;},new Set());h=n.gx.filter(function(f){return !c.has(f);});n.gx.length !== h.length && (n.gx=h,n.reason="ad in buffer",this.console.log("PreserveIndividualAppendedAdsPolicy: preserving ads inad break",{Zb:d.Zb,Xa:d.Ra.Xa,kJ:d.kJ,R8c:n.gx}));return n;};return a;})();b.cdb=t;},45496:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ddb=void 0;t=(function(){function a(){}a.prototype.mG=function(d,n){var c;n=n(d);c=d.Bvc;n.fx && c && c.Bg.Zb === d.Zb && (n.fx=!1,n.reason="last appended");return n;};return a;})();b.ddb=t;},31413:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Beb=void 0;d=a(22970);n=a(91176);c=a(91176);h=a(66164);f=a(65161);e=a(48170);g=a(89527);k=a(52571);l=a(40666);t=(function(){function m(p,r,q,u,v,w,x,y,z,B,A,C){var D;D=this;this.la=p;this.Zc=r;this.events=q;this.Ra=u;this.Nc=v;this.sIa=w;this.sda=x;this.IOc=y;this.X5=z;this.Cm=B;this.O6=A;this.console=C;this.qk=h.platform.time.now();this.VD=new Map();this.$B=0;(0,k.assert)(w.S,"Presenting ad should have a manifest");this.sjb=r.Br(function(){return D.wRc();},"impressionLogging");this.la.player.Xv.forEach(function(F,G){(F=F.dY(g.nU)) && D.VD.set(G,F);});}Object.defineProperties(m.prototype,{SH:{get:function(){return this.$B;},enumerable:!1,configurable:!0}});m.prototype.Ka=function(){this.sjb.Ka();};m.prototype.wRc=function(){var p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E;return d.__generator(this,function(H){switch(H.label){case 0:e.l && this.console.trace("AdImpressionLogger: starting at",this.X5.da());p=this.Nc;this.Ymb();if(!p.pF)return (this.console.error(("AdImpressionLogger: no actionAdEvents for ad ").concat(p.id)),[2]);r=this.sda.offset.G;q=this.X5;u=this.X5.add(p.duration);v=this.IOc;H.label=1;case 1:(H.tc.push([1,12,13,14]),(0,k.assert)(null === (F=p.pF) || void 0 === F?void 0:F.start,"Start event info should be defined"),this.emit(p.pF.start,r,v,!1,r),(0,k.assert)(p.Dva,"Timed event info should be defined"),H.label=2);case 2:(H.tc.push([2,7,8,9]),w=d.__values(p.Dva),x=w.next(),H.label=3);case 3:if(x.done)return [3,6];y=x.value;q=this.X5.add(n.I.Ca(y.lw));if(q.lessThan(v))return [3,5];e.l && this.console.trace(("AdImpressionLogger[").concat(this.sda.L,"]: waiting for ").concat(y.lw,"ms timed event") + (" at ").concat(q.da()));return [4,l.Vd.Rl(q)];case 4:(H.T(),v=q,this.emit(y,y.lw,q,!1,r),H.label=5);case 5:return (x=w.next(),[3,3]);case 6:return [3,9];case 7:return (z=H.T(),C={error:z},[3,9]);case 8:try{x && !x.done && (D=w.return) && D.call(w);}finally{if(C)throw C.error;}return [7];case 9:if(!u.greaterThan(q))return [3,11];q=u;e.l && this.console.trace(("AdImpressionLogger[").concat(this.sda.L,"]: waiting for end of ad at ").concat(q.da()));return [4,l.Vd.Rl(q)];case 10:(H.T(),v=q,H.label=11);case 11:return [3,14];case 12:return (B=H.T(),this.console.error("AdImpressionLogger: error",B),this.$B++,[3,14]);case 13:v=this.la.player.rZ?this.la.player.rZ.Yn:this.la.player.Qd?this.la.player.Xd:v;if(v.Xf(u))((0,k.assert)(null === (G=p.pF) || void 0 === G?void 0:G.complete,"Complete event should be defined"),this.emit(p.pF.complete,p.endTime.G,u,!0,r));else if(null === (E=p.pF) || void 0 === E?0:E.stop)(A=v.ea(this.X5).G,this.emit(p.pF.stop,A,v,!0,r));this.Ymb();return [7];case 14:return [2];}});};m.prototype.emit=function(p,r,q,u,v){var w,x,y;e.l && this.console.trace(("AdImpressionLogger[").concat(this.sda.L,"]: emitting ").concat(p.event," event at ").concat(r,"ms") + (" for player time ").concat(q.da()));r={L:this.sda.L,offset:n.I.Ca(r)};w=this.NPa(q);try{x=this.O6(r);y=d.__assign(d.__assign({type:"adEvent"},p),{Ih:r,MA:w,S:this.sIa.S,qk:this.qk,I$c:u?h.platform.time.now():-1,Lu:this.Ra.wk,Zb:this.Ra.Zb,k1:this.Nc.k1,bZ:this.Nc.bZ,Xs:this.Ra.type,Xa:this.Ra.ae.Xa,rIa:v,aG:x,NWa:q});this.Cm && (y.Cm=this.Cm);this.events.emit("adEvent",y);}catch(z){this.console.error("Impression error event",z);this.$B++;}};m.prototype.NPa=function(p){var r,q,u;r=this.sIa.S.R;q=d.__read(this.fvb(p,this.VD.get(f.v.X),r),2);u=q[0];q=q[1];p=d.__read(this.fvb(p,this.VD.get(f.v.U),r),2);return {audio:u,video:p[0],text:[],total:Math.max(q,p[1])};};m.prototype.fvb=function(p,r,q){p=(null === r || void 0 === r?void 0:r.uOc(p,q)) || [];p=(0,c.flatten)(p.map(function(u){return Object.keys(u.sP).map(function(v){v=u.sP[v];return {cc:v.cc,duration:v.totalTime,ul:u.ul};});}));r=p.reduce(function(u,v){return u + v.duration;},0);e.l && this.console.trace("Getting playtime journal",{R:q,w9c:p.length,totalTime:r});return [p,r];};m.prototype.Ymb=function(){var p,r,q;q=this.sIa.S.R;null === (p=this.VD.get(f.v.X)) || void 0 === p?void 0:p.JHb(q);null === (r=this.VD.get(f.v.U)) || void 0 === r?void 0:r.JHb(q);};m.prototype.gq=function(){return {ad:this.sjb.gq(),errors:this.$B};};return m;})();b.Beb=t;},8707:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gpa=b.fW=void 0;b.fW=function(a,d){var n,c,e;if(!(a && d || a === d))return {Xp:!0,reason:"one of the ads is undefined"};if(a && d){if(a.rb.length !== d.rb.length)return {Xp:!0,reason:"ad break count mismatch"};for(var h=function(g){var k,l;k=a.rb[g];l=d.rb[g];if(!k.Pa.equal(l.Pa))return {value:{Xp:!0,reason:"ad break content timestamp mismatch"}};if(k.source !== l.source)return {value:{Xp:!0,reason:"ad break source mismatch"}};if((0,b.gpa)(k) && (0,b.gpa)(l) && !k.duration.equal(l.duration))return {value:{Xp:!0,reason:"ad break duration mismatch"}};if(void 0 !== k.nk && void 0 !== l.nk && !k.nk.equal(l.nk))return {value:{Xp:!0,reason:"ad break replaced duration mismatch"}};if((null === (n=k.Xb) || void 0 === n?void 0:n.length) !== (null === (c=l.Xb) || void 0 === c?void 0:c.length))return {value:{Xp:!0,reason:"ad break ads length mismatch"}};if(k.Xb && l.Xb && k.Xb.some(function(m,p){if(m.id !== l.Xb[p].id)return !0;}))return {value:{Xp:!0,reason:"ad break ads mismatch"}};if(k.sK !== l.sK)return {value:{Xp:!0,reason:"ad break hydration sequence id mismatch"}};if(k.zx !== l.zx)return {value:{Xp:!0,reason:"is hydrated state mismatch"}};if(k.Vp !== l.Vp)return {value:{Xp:!0,reason:"can hydrate state mismatch"}};},f=0;f < a.rb.length;f++){e=h(f);if("object" === typeof e)return e.value;}}return {Xp:!1,reason:""};};b.gpa=function(a){return "embedded" === a.type;};},59034:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.ogb=void 0;d=a(81749);t=(function(){function n(c){this.config=c;this.mIa=[];}Object.defineProperties(n.prototype,{state:{get:function(){return this.mIa;},enumerable:!1,configurable:!0}});n.prototype.CZa=function(c){var h,f;h=this;f=[];c.forEach(function(e,g){var k;k=h.mIa[g];k?(f.push(k),k.oOb(e,g)):(e=h.adc(e,g),f.push(e));});this.mIa=f;};n.prototype.adc=function(c,h){return new d.kxa(this.config,c,h,c.sK);};return n;})();b.ogb=t;},25750:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.k7=void 0;d=a(22970);n=a(40981);c=a(75393);h=a(17774);b.k7=function(f,e,g){var k,l,m,p,r;k=e.Iba;l=e.WIa;f=d.__assign({Hza:n.Gza},f).Hza;m=k[5];k=(0,h.$Db)(function(){return r;});m.yIa(k.qs);g=g(e);p={ek:void 0,Zd:void 0,Ea:g,Qzb:"content"};p.ek=new f(function(){return p.Zd.Hb;},function(){return p.Ea;},e.Iba[2],"content:");r=new h.g5a(p,k.pMb,c.qD.MYa.y0);p.Zd=c.qD.vXa(g,r,function(){return p;},l);r.Sb();return p.Zd;};},17774:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.g5a=void 0;b.$Db=function(f){var e;e=[];return {qs:function(g,k){var l,m,p,r,q,u;m=g.J;p=g.Um;r=f();q=null === (l=null === p || void 0 === p?void 0:p.Hf) || void 0 === l?void 0:l.fd;q && q !== m && (p={Hf:{Fb:r.Klc(q),fd:q},Cv:null === p || void 0 === p?void 0:p.Cv});r.Ea.console.trace("In wrapped request viewable",m,p);u=k(d.__assign(d.__assign({},g),{Um:p}));e.forEach(function(v){return v({J:m,Qq:u.Qq});});return u;},pMb:function(g){e.push(g);}};};d=a(22970);n=a(79048);c=a(5479);h=a(61996);t=(function(f){function e(g,k,l,m){void 0 === m && (m="CphAsePlaygraph");k=f.call(this,g,k,l,m) || this;k.yq=g;k.XIb=l;g.Ea.Xc(new c.h5a(k));return k;}d.__extends(e,f);e.prototype.GL=function(g){var k,l;k=f.prototype.GL.call(this,g);if(k){l=g.S.Ez;l && !this.oia && (this.pLa.kg({applyingContentPlaygraph:!0}),this.oia=l,this.s0b=this.bac(g.S),this.Dta());}return k;};Object.defineProperties(e.prototype,{wwb:{get:function(){return this.s0b;},enumerable:!1,configurable:!0}});e.prototype.FJ=function(g){if(this.oia)return (g=n.SE.Rn(g,n.SE.create(this.oia.Z)).Gaa,g.e6(this.Ea.Hb),g);};e.prototype.bac=function(g){var k,l;k=g.Sp;l=g.qK;return !(!k || !k.some(function(m){return m.qK !== l;}));};Object.defineProperties(e.prototype,{Ez:{get:function(){var g;return null === (g=this.oia) || void 0 === g?void 0:g.Z;},enumerable:!1,configurable:!0}});d.__decorate([(0,h.fb)({methodName:"processViewableResponse"})],e.prototype,"GL",null);return e;})(a(14739).RDa);b.g5a=t;},79:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.dLa=void 0;d=a(75393);n=a(4515);b.dLa=function(c,h){var f;c=h(c);f=new n.xcb(c,d.qD.MYa.y0);return d.qD.vXa(c,f,function(){return f.yq;});};},64281:function(t,b,a){var n,c,h,f;function d(e,g){return g && !Array.isArray(g) && -1 === g.orb.indexOf(e)?g.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.tLa=void 0;n=a(22970);t=a(90745);c=a(49165);h=a(87561);f=(function(e){function g(k,l){var m;m=e.call(this) || this;m.Uxc=k;m.Dxb=l;m.BGa={};return m;}n.__extends(g,e);g.prototype.emit=function(k){for(var l=[],m=1;m < arguments.length;m++)l[m - 1]=arguments[m];return e.prototype.emit.call(this,k,this.Uxc(k,l[0]));};g.prototype.subscribe=function(k){var l,m;l=this;if(!this.listeners(k).length){m=function(){for(var p=[],r=0;r < arguments.length;r++)p[r]=arguments[r];return l.emit.apply(l,n.__spreadArray([k],n.__read(p),!1));};this.BGa[k]=m;this.Dxb.addListener(k,m);}};g.prototype.addListener=function(k,l){this.subscribe(k);e.prototype.addListener.call(this,k,l);return this;};g.prototype.removeListener=function(k,l){e.prototype.removeListener.call(this,k,l);l=this.BGa[k];!this.listeners(k).length && l && (this.Dxb.removeListener(k,l),this.BGa[k]=void 0);return this;};g.prototype.on=function(k,l){this.addListener(k,l);return this;};g.prototype.Om=function(k,l){this.removeListener(k,l);return this;};g.prototype.once=function(k,l){var p;function m(){for(var r=[],q=0;q < arguments.length;q++)r[q]=arguments[q];p.removeListener(k,m);l.apply(void 0,n.__spreadArray([],n.__read(r),!1));}p=this;this.addListener(k,m);return this;};g.prototype.Ysa=function(k,l){this.subscribe(k);e.prototype.Ysa.call(this,k,l);};g.prototype.oGb=function(k,l){var p;function m(){for(var r=[],q=0;q < arguments.length;q++)r[q]=arguments[q];p.removeListener(k,m);l.apply(void 0,n.__spreadArray([],n.__read(r),!1));}p=this;this.Ysa(k,m);};return g;})(t.EventEmitter);b.tLa=function(e,g,k,l){return new f(function(m,p){var r;r=d(m,l["*"]);m=l[m] || [];r=r.concat(m).filter(function(q){return "object" === typeof q;});m=n.__read(m.filter(function(q){return "function" === typeof q;}),1)[0];return r.length?(0,h.dua)(e,p,k,{rules:r,Gq:!1,SIa:!0},c.AE.TH,m):p;},g);};},40981:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Gza=void 0;d=a(22970);n=a(66164);c=a(61996);h=a(94328);f=a(52571);e=a(48170);g=a(35779);t=(function(){function k(l,m,p,r){var u,v;function q(w,x){return w.L === x.L && w.offset.equal(x.offset);}this.tba=l;this.Ea=m;this.config=p;this.Ujb=r;this.O1=new WeakMap();this.N1=new WeakMap();this.console=new n.platform.Console(("GRAPHLOCATIONSERVICE ").concat(null !== (v=null === (u=this.Ujb) || void 0 === u?void 0:u.replace(":","")) && void 0 !== v?v:""));this.Ze=new c.un({Fj:this,source:(r || "") + "GraphLocation",console:this.console});(0,g.YXa)(this,"d",new g.NU(p,q));(0,g.YXa)(this,"u",new g.NU(p,q));}k.prototype.Sb=function(){var l,m,p;l=this;"temp" !== this.Ujb && (null === (m=this.Ea().events) || void 0 === m?void 0:m.on("segmentNormalized",function(){(0,g.LOa)(l).forEach(function(r){return r.clear();});l.O1=new WeakMap();l.N1=new WeakMap();}),null === (p=this.Ea().events) || void 0 === p?void 0:p.on("playgraphUpdating",function(){(0,g.LOa)(l).forEach(function(r){return r.clear();});l.O1=new WeakMap();l.N1=new WeakMap();}));};k.prototype.OT=function(l){return new k(function(){return l.isa;},function(){return {Hb:l};},this.config,"temp");};k.prototype.SF=function(l){var m,p,r,q,u;e.l && this.console.trace("downConverting",l);if(this.O1.has(l))return this.O1.get(l);try{p=this.tba().Z;r=this.Ea().Hb.Z;if(p === r)return m=l;if(r.ba[l.L])return (p.ba[l.L] || e.l && this.console.warn("Received a down converted position unexpectedly",l,Error().stack),m=l);q=(0,h.Qmb)(l,this.tba());u=this.tba().Zxc({offset:q.Rmb,L:l.L});(0,f.assert)(!!u,"mapPositionDown on uxPlaygraph should return a value");m={offset:q.ex.add(u.offset),L:u.L};e.l && this.console.trace("downConverting ret:",m,this.tba().identifier);return m;}finally{m && (this.O1.set(l,m),this.N1.set(m,l));}};k.prototype.UH=function(l){var m,p,r,q,u,v;e.l && this.console.trace("upConverting",l);if(this.N1.has(l))return this.N1.get(l);try{m=this.tba().Z;p=this.Ea().Hb.Z;if(m === p)return l;if(m.ba[l.L])return (p.ba[l.L] || e.l && this.console.warn("Received a up converted position unexpectedly",l,Error().stack),l);r=this.Ea().Hb;q=(0,h.Qmb)(l,r);u=r.aBb({offset:q.Rmb,L:l.L});(0,f.assert)(!!u,"mapPositionUp on combinedPlaygraph should return a value");v={offset:q.ex.add(u.offset),L:u.L};e.l && this.console.trace("upConverting ret:",v,r.identifier);return v;}finally{v && (this.N1.set(l,v),this.O1.set(v,l));}};k.prototype.Gnc=function(l){var m;m=this.SF(l);(0,f.assert)(!!m,"mapPositionDown on uxPlaygraph should return a value");for(var p=m.L,r=this.Ea().Hb,q=r.DG.dK(p),u=q.next();!u.done;){u=u.value;if(r.NG(u.id) !== l.L && p !== m.L)break;p=u.id;u=q.next();}(0,f.assert)(p,("Could not find any segments in the path of ").concat(l));return p;};d.__decorate([(0,c.fb)({methodName:"downConvertPosition",Oe:!0,mm:!0,return:!0}),(0,g.TJa)("d")],k.prototype,"SF",null);d.__decorate([(0,c.fb)({methodName:"upConvertPosition",Oe:!0,mm:!0,return:!0}),(0,g.TJa)("u")],k.prototype,"UH",null);return k;})();b.Gza=t;},75393:function(t,b,a){var h,f,e,g,k,l,m,p,r;function d(q,u){var v,w;if(q.Zd.Z.ba[u] && q.Zd.Cc){w=q.Zd.Hb.MG(u);w && (w=q.Zd.Hb.bH.Z.ba[w].J,(u=(0,m.cQ)(u)) && (v=q.Zd.Cc.wd.zOa(w,u)));}return v;}function n(q,u,v,w){var x;return u === k.AE.pP?(u=f.I.ia,(null === w || void 0 === w?void 0:w.y$c) === r.end && (u=f.I.Ca(null !== (x=v.Zd.Z.ba[q].ib) && void 0 !== x?x:0),(0,e.assert)(0 < u.G,"EndTime must be non null")),v.ek.SF({offset:u,L:q}).L):v.ek.UH({offset:f.I.ia,L:q}).L;}function c(q,u,v){return u === k.AE.TH?v.ek.UH(q):v.ek.SF(q);}Object.defineProperties(b,{__esModule:{value:!0}});b.qD=b.LWb=void 0;h=a(22970);f=a(91176);e=a(52571);t=a(42194);g=a(50599);k=a(49165);l=a(6783);m=a(14103);p=a(57722);a=(0,g.WIb)();a=(0,t.Plb)()({eBb:"combinedPlaygraph",y0:{Ih:a()({map:c,DF:p.puc}),Qd:a()({map:function(q,u,v,w){var x,y;x=(null === w || void 0 === w?0:w.us)?(0,p.aPa)(q,w.us):q.position;(null === w || void 0 === w?0:w.cmb) && u === k.AE.TH && (v.Ea.Z.ba[x.L] || (y=null));null !== y && (y=c(x,u,v));q=(0,p.IKa)(q,null === w || void 0 === w?void 0:w.us);(null === w || void 0 === w?0:w.us)?(0,p.AMc)(q,w.us,y):q.position=y;return q;},DF:function(q,u,v){return (null === v || void 0 === v?0:v.us)?(0,p.aPa)(q,v.us):(0,p.Qd)(q);}}),$H:a()({map:function(q,u,v,w){var x;if(u === k.AE.pP)return null !== (x=q.inner) && void 0 !== x?x:q;u=(0,p.IKa)(q,null === w || void 0 === w?void 0:w.us);null !== w && void 0 !== w && w.us || (u.inner=q,"gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).QTb && (u.gctag=void 0));return u;},DF:function(q,u,v){return (null === v || void 0 === v?0:v.us)?"object" === typeof (0,p.aPa)(q,v.us):"object" === typeof q;}}),L:a()({map:n,DF:p.Euc}),Tca:a()({map:function(q,u,v,w){var x,y;y=null !== (x=q.L) && void 0 !== x?x:q.segmentId;u=n(y,u,v,w);return q.L?h.__assign(h.__assign({},q),{L:u}):h.__assign(h.__assign({},q),{segmentId:u});},DF:p.Drc}),m7:a()({map:function(q,u,v){u === k.AE.pP?(q=(0,l.Ar)(v.Zd.Z,q.J,q.Pa,{qJb:!0}),(0,e.assert)(void 0 !== q,"Graph position must exist in ux playgraph"),q=v.ek.SF(q),u=q.L,q=q.offset,u=v.Ea.Z.ba[u],v=u.J,u=u.eb,q=f.I.Ca(u).add(q)):(q=(0,l.Ar)(v.Ea.Z,q.J,q.Pa,{qJb:!0}),(0,e.assert)(void 0 !== q,"Graph position must exist in combined playgraph"),q=v.ek.UH(q),u=q.L,q=q.offset,u=v.Zd.Z.ba[u],v=u.J,u=u.eb,q=f.I.Ca(u).add(q));return {Pa:q,J:v};},DF:p.Dtc}),FJa:a()({DF:p.wtc,map:function(q,u,v){var w,x,y,z,B;w=v.Ea.Hb;x=v.Zd.Hb;if(u === k.AE.pP){y={L:q.K.id,offset:f.I.ia};z=v.ek.SF(y);u=w.get(z.L);(0,e.assert)(u,"workingSegment on inner playgraph must exist");x=x.get(y.L);(0,e.assert)(x,"equivalent workingSegment on outer playgraph must exist");y=u.Vb;v=q.de.add(u.kb.ea(x.kb));w=u.kb;u=u.Rb;return {de:v,eS:q.Wv.add(y),Wv:q.Wv,K:{id:z.L,kb:w,Rb:u}};}z={L:q.K.id,offset:f.I.ia};y=v.ek.UH(z);u=w.get(z.L);(0,e.assert)(u,"workingSegment on inner playgraph must exist");x=x.get(y.L);(0,e.assert)(x,"equivalent workingSegment on outer playgraph must exist");z=x.Vb;if(!z.isFinite()){B=v.ek.Gnc(y);(w=w.get(B)) && w.Vb.isFinite() && (z=v.ek.UH({L:B,offset:w.Vb}).offset);}y=q.Wv.ea(y.offset);B=y.add(z);v=q.de.add(x.kb.ea(u.kb));w=x.kb;u=z.add(w);return {de:v,eS:B,Wv:y,K:{id:x.id,kb:w,Rb:u}};}}),Y5b:a()({DF:function(q){return "segmentPresenting" === q.type;},map:function(q,u,v){var w,x;q=(0,p.IKa)(q);if((u=q.metrics) && void 0 === u.adBreakLocationMs){w=d(v,u.destPosition.L);void 0 !== w && (u.adBreakLocationMs=w.wk,void 0 !== w.Xa && (u.adBreakTriggerId=w.Xa));x=u.srcStartPosition;x && v.Ea.Z.ba[x.L] && (w=d(v,x.L));void 0 !== w && (u.srcadBreakLocationMs=w.wk,void 0 !== w.Xa && (u.srcadBreakTriggerId=w.Xa));}return q;}})}});(function(q){q[q.l2c=0]="beginning";q[q.end=1]="end";})(r || (b.LWb=r={}));b.qD=a;},5472:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.LFb=void 0;b.LFb={"*":{orb:["logdata"],rules:[{pk:function(a){return a.$H;}}]},segmentPresenting:[{pk:function(a){return a.$H;},config:{us:["metrics"]}},{pk:function(a){return a.Qd;}},{pk:function(a){return a.Qd;},config:{us:["metrics","srcStartPosition"],cmb:!0}},{pk:function(a){return a.Qd;},config:{us:["metrics","srcTransitionPosition"],cmb:!0}},{pk:function(a){return a.Qd;},config:{us:["metrics","destPosition"]}},{pk:function(a){return a.Y5b;}}],streamPresenting:[{pk:function(a){return a.Qd;}}],segmentAppended:[{pk:function(a){return a.Tca;}}],fragmentsMissing:[{pk:function(a){return a.Qd;},config:{us:["nextAvailableGraphPosition"]}}]};},4515:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.xcb=void 0;d=a(22970);n=a(66164);c=a(61996);h=a(69575);f=a(64281);e=a(5472);t=(function(){function g(k,l){var m;m=this;this.i$=k;this.events=(0,f.tLa)(function(){return m.yq;},this.i$.events,l,e.LFb);this.Urc=(0,h.tf)(n.platform,this.i$.console,"PLAYERHOST");new c.un({Ig:10,Fj:this,source:"PlayerHost",console:this.Urc});}g.prototype.EKa=function(){this.yq=void 0;};g.prototype.LZa=function(k){this.yq=k;};d.__decorate([(0,c.fb)({methodName:"clearProxyPlaygraphContext"})],g.prototype,"EKa",null);d.__decorate([(0,c.fb)({methodName:"setProxyPlaygraphContext"})],g.prototype,"LZa",null);return g;})();b.xcb=t;},94152:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OFb=void 0;b.OFb={"*":{orb:["logdata"],rules:[{pk:function(a){return a.$H;}}]},locationSelected:[{pk:function(a){return a.Tca;}}],segmentComplete:[{pk:function(a){return a.Tca;}}],segmentStarting:[{pk:function(a){return a.Tca;}}],serverSwitch:[{pk:function(a){return a.Tca;}}],streamSelected:[{pk:function(a){return a.Qd;}}],ellaChannelSwitch:[{pk:function(a){return a.$H;}}],seeked:[{pk:function(a){return a.Qd;}}]};},14739:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u;Object.defineProperties(b,{__esModule:{value:!0}});b.RDa=void 0;d=a(22970);n=a(79048);c=a(91176);h=a(66164);f=a(51308);e=a(54366);g=a(61996);k=a(65161);l=a(52571);m=a(48170);p=a(29254);r=a(36414);q=a(64281);u=a(94152);t=(function(){function v(w,x,y,z){var B;void 0 === z && (z="CphAsePlaygraph");B=this;this.yq=w;this.XIb=y;this.sNb=z;this.Hrc=new p.hEa();this.Oib=new Map();x(function(A){return d.__awaiter(B,[A],void 0,function(C){var D,F;F=C.Qq;return d.__generator(this,function(G){switch(G.label){case 0:return [4,F];case 1:return (D=G.T(),this.GL(D),[2]);}});});});}Object.defineProperties(v.prototype,{Ea:{get:function(){return this.yq.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Di:{get:function(){return this.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Z:{get:function(){return this.ur.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Hb:{get:function(){return this.ur;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{parent:{get:function(){return this.VB;},set:function(w){this.VB=w;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ek:{get:function(){return this.yq.ek;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qb:{get:function(){void 0 === this.Jgb && (this.Jgb=(0,c.tf)(h.platform,this.Ea.GQ.console,this.sNb));return this.Jgb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ab:{get:function(){return this.Ea.config;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{wwb:{get:function(){return !1;},enumerable:!1,configurable:!0}});v.prototype.Sb=function(){var w,x;w=this.yq;this.pLa=new g.un({Ig:10,Fj:this,source:this.sNb,console:this.qb});this.events=(0,q.tLa)(function(){return w;},w.Ea.events,this.XIb,u.OFb);this.ur=w.Ea.Hb;x=w.ek;x.Sb();w.Ea.Xc(new e.so(this.pLa));w.Ea.Xc(new e.so(w.ek.Ze));w.Ea.Xc(new r.K4a(("").concat(w.Qzb,"::gls"),x));w.Ea.parent=w.Zd;};v.prototype.rz=function(w){var x,y;x=this.player || this.Ea.player;this.player=w;w.LZa && w.LZa(this.yq);y=this.yq.Ea.rz(w.i$ || w);y?(this.player=w,x !== w && x.EKa && x.EKa()):this.player=x;return y;};v.prototype.Dta=function(w,x,y,z){(w=w || this.FJ(x || this.Hb)) && this.tCc(w,this.wwb,y,z);};v.prototype.tCc=function(w,x,y,z){var B,A,C,D,F,G,E,H,J;B=w.Z;A=this.yq.Zd;C=A.player;F=A.Z;if(D=y?y:A.Ro && C.Qd?C.bh:A.tx?A.Zm:void 0){G=this.Ea.Hb.get(D.L);E=w.get(D.L);G && !E && (D=this.ek.UH(D));}A.config.qUc && x && C.gM(!0);x=A.qPa();m.l && this.qb.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(F)),{cQb:w.identifier});m.l && this.qb.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(B)));this.Hrc.set(B,!0);F=this.Ea.JT(w);try{if(!F.success || D && !C.Qd && !A.tx || y && z){(0,l.assert)(!C.La.Zi,"Player is not paused:" + k.Yy[F.reason]);A.mg(f.aN.azb);F=this.Ea.JT(w);if(D){H=this.ek.SF(D);J=B.ba[H.L];(null === J || void 0 === J?void 0:J.type) === n.Dd.padding && (H={L:J.Dc,offset:c.I.ia});this.PZa(D);this.Ea.rua(H,z);C.resume();}m.l && this.qb.log("onNewInnerPlaygraph: result",{rAc:w.identifier,result:k.Yy[F.reason],success:F.success,cQb:this.Hb.identifier,U2b:this.Ea.Hb.identifier});}else m.l && this.qb.log("onNewInnerPlaygraph: result (in-flight)",{rAc:w.identifier,result:k.Yy[F.reason],success:F.success,cQb:this.Hb.identifier,U2b:this.Ea.Hb.identifier});}catch(L){m.l && this.qb.error(("onNewInnerPlaygraph: error: ").concat(L));}finally{x.release();}};v.prototype.JT=function(w){var y,z;function x(){var B;B=w.e6(y.ur);m.l && y.qb.trace("updateWorkingPlaygraph:successHandler",{Jra:y.ur.identifier,jra:B.identifier});y.ur=B;}y=this;z=this.FJ(w) || w;try{return (this.Ea.events.oGb("playgraphUpdating",x),m.l && this.qb.trace("updateWorkingPlaygraph:Starting update",{Jra:this.ur.identifier,U8c:w.identifier,Q8c:z.identifier}),this.Ea.JT(z));}finally{this.Ea.events.removeListener("playgraphUpdating",x);}};v.prototype.FM=function(w){w=n.SE.update(this.Hb,w);m.l && this.qb.log("updatePlaygraphMap:Attempt to update playgraph",{jra:w.identifier});return this.JT(w);};v.prototype.GL=function(w){var x;x=this.Ab.s8 || [];if(w.S.Ez && x.some(function(y){return y == w.R;}))return (x=("").concat(w.R," was excluded from content playgraph"),this.pLa.kg(x),m.l && this.qb.trace(x),!1);w.S.Fb && this.Oib.set(w.J,w.S.Fb);return !0;};v.prototype.mg=function(w){this.Ea.mg(w);};v.prototype.Klc=function(w){return this.Oib.get(w);};v.prototype.PZa=function(){};d.__decorate([(0,g.fb)({methodName:"attachPlayer"})],v.prototype,"rz",null);d.__decorate([(0,g.fb)({methodName:"reevaluateInnerPlaygraph"})],v.prototype,"Dta",null);d.__decorate([(0,g.fb)({methodName:"processViewableResponse"})],v.prototype,"GL",null);d.__decorate([(0,g.fb)({methodName:"cancelStreaming"})],v.prototype,"mg",null);return v;})();b.RDa=t;},57722:function(t,b,a){var n;function d(c,h){var f,e;f=n.__assign({},c);e=n.__read(h || [],1)[0];e && c[e] && (c=c[e],"object" === typeof c?(h=h.concat(),h.shift(),f[e]=d(c,h)):f[e]=c);return f;}Object.defineProperties(b,{__esModule:{value:!0}});b.Qd=function(c){return !(null === c || void 0 === c || !c.position);};b.puc=function(c){return !(null === c || void 0 === c || !c.L) && !(null === c || void 0 === c || !c.offset);};b.Drc=function(c){return !(null === c || void 0 === c || !c.L) || !(null === c || void 0 === c || !c.segmentId);};b.Euc=function(c,h){return "string" === typeof c && !(!h.Zd.Z.ba[c] && !h.Ea.Z.ba[c]);};b.Dtc=function(c){return !(null === c || void 0 === c || !c.J) && !(null === c || void 0 === c || !c.Pa);};b.wtc=function(c){return !(null === c || void 0 === c || !c.de);};b.aPa=function(c,h){var f;f=c;h.forEach(function(e){f=null === f || void 0 === f?void 0:f[e];});return f;};b.IKa=d;b.AMc=function(c,h,f){for(var e=0;e < h.length - 1 && c;e++)c=c[h[e]];return c?(c[h[h.length - 1]]=f,!0):!1;};n=a(22970);},54775:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.g4a=void 0;d=a(22970);n=a(90745);c=a(91176);h=a(66164);f=a(69575);e=a(40666);g=a(48170);k=a(65161);l=a(49870);t=(function(){function m(p,r,q,u,v,w,x){var y;y=this;this.mc=p;this.kj=r;this.config=q;this.OBc=u;this.ee=v;this.console=w;this.tNa=new n.af();this.events=new n.EventEmitter();this.console=(0,f.tf)(h.platform,w,"BranchDecisionMaker");this.tNb=[function(z,B){var A;A=z.sa;return A.K.j1?(g.l && y.console.trace(("").concat(A.K.id," does not need tracking")),{result:!1}):B(z);},function(){return {result:!0};}];this.Fwc=new l.A9a(x,w);}m.Tlc=function(p){return p.Lb || p.eS;};m.bnc=function(p){var r,q;r=p.Dc;q=p.g_;return r?r:q.length?q[0]:p.EA[0];};m.prototype.T3b=function(p){this.tNb.unshift(p);};m.prototype.lea=function(p,r,q){var u,v,w;u=this;void 0 === q && (q=!1);v=p.K;q=c.oE.EK({sa:p,Xd:r,force:q},this.tNb);g.l && this.console.trace(("tracking ").concat(p.K.id),{N$c:q});if(!1 === q.result)this.yNb !== p && this.reset();else {this.reset();this.yNb=p;w=this.J7b(p);q=w.mua;r=r.lessThan(w.mRa);g.l && this.console.trace(("tracking ").concat(p.K.id),{L:v.id,w3c:r,p$c:null === q || void 0 === q?void 0:q.G});this.fLc(v,r?q:void 0);if(r)this.tNa.on(p.events,"branchEdited",function(){u.lea(p,u.mc.La.currentTime,!0);});}};m.prototype.Vmb=function(){var p;null === (p=this.opb) || void 0 === p?void 0:p.Ka();this.opb=void 0;};m.prototype.reset=function(){this.Vmb();this.tNa.clear();this.yNb=void 0;};m.prototype.J7b=function(p){var r,q,u,v,w;v=1 < p.K.EA.length || 0 < (null !== (q=null === (r=p.K.Cl) || void 0 === r?void 0:r.length) && void 0 !== q?q:0);q=m.Tlc(p);r=c.I.Ca(v?this.config.Raa:this.config.$yb);w=c.I.Ca(this.config.Gzc + this.config.Qaa);r=q.ea(r);q=(0,k.Pr)(this.ee.value)?q.ea(w):r;if(p=this.K7b(p,v))if((g.l && this.console.log("Calculated live decision",{reason:p.reason,type:null === (u=p.Uf) || void 0 === u?void 0:u.type}),p.Uf)){if("immediate" === p.Uf.type)return {mRa:c.I.ia};u=p.Uf.when;g.l && (0,c.assert)(u.type === e.MN.absolute,"we only support abs times");g.l && this.console.log("Calculated live decision for time",{x1c:u.timestamp});return {mRa:q,mua:u.timestamp};}return {mRa:q,mua:r};};m.prototype.K7b=function(p,r){if(this.config.yhc)return this.Fwc.Hxc(p,r);};m.prototype.fLc=function(p,r){var q,u;this.Vmb();q=this;u=this.kj;r && (u=this.mc);this.opb=u.Br(function(){return d.__generator(this,function(v){switch(v.label){case 0:return r?[4,e.Vd.Rl(r)]:[3,2];case 1:(v.T(),v.label=2);case 2:return (q.events.emit("onDeciding",{type:"onDeciding",Uf:q.Rtb(p),ga:p}),[4,e.Vd.uwa]);case 3:return (v.T(),q.Gxc(p),[2]);}});},"branch decision");};m.prototype.Rtb=function(p){return m.bnc(p);};m.prototype.Gxc=function(p){var r;this.tNa.clear();r=this.Rtb(p);g.l && this.console.trace(("BranchDecisionMaker making decision for ").concat(p.id,", decision is ").concat(r));this.OBc(p.id,r,!0);};return m;})();b.g4a=t;},25510:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperties(b,{__esModule:{value:!0}});b.p4a=void 0;d=a(22970);n=a(91176);c=a(66164);a(97685);h=a(65161);f=a(52571);e=a(61996);g=a(40666);t=(function(){function k(l,m,p,r,q,u,v,w){var x;void 0 === w && (w=500);x=this;this.console=l;this.config=m;this.Sc=p;this.events=r;this.Nra=q;this.Rm=u;this.mc=v;this.c7b=w;this.hXa=this.KWa=this.LJa=0;this.Iqa=[];this.Nz={dX:0};this.state=new n.Os(h.Ld.Uy);this.Ze=new e.un({Ig:10,Fj:this,source:"BufferStateTracker",Sjb:function(){return {isBuffering:x.Pn};}});}Object.defineProperties(k.prototype,{dX:{get:function(){return this.Nz.dX;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Pn:{get:function(){return (0,h.Pr)(this.state.value);},enumerable:!1,configurable:!0}});k.prototype.xea=function(l){var m;m=this;Array.isArray(l) || (l=[l]);l.forEach(function(p){p.mediaType === h.v.X && (m.Jlb=d.__assign(d.__assign({},m.Jlb),{audio:{trackId:p.trackId,trackIndex:p.BM}}));});};k.prototype.BCc=function(){this.KWa=c.platform.time.ha();};k.prototype.t_=function(l){this.set(h.Ld.Uy);this.z_a(l,h.Ld.Ff);};k.prototype.Ora=function(){this.Nz.dX++;};k.prototype.w_=function(l){this.SK={fk:l.fk,dh:l.errorCode,Rg:l.Rg};"temporaryNetworkError" === l.type && this.state.value === h.Ld.Ff && (l=this.Sc.vzb || 0,c.platform.time.ha() - l >= this.config.dra && this.Nra("BufferingStateTracker: Temporary failure while buffering","NFErr_MC_StreamingFailure",this.SK));};k.prototype.Zra=function(){this.SK=void 0;};k.prototype.Wk=function(l){this.Pn || this.z_a(l,h.Ld.$l);};k.prototype.UCc=function(l,m){this.state.value !== h.Ld.Ff && this.z_a(l,h.Ld.Vha);this.xea(m);};k.prototype.gCc=function(l,m){var p;p=this;this.config.a7b && this.Pn && (-1 === this.Iqa.indexOf(l) && this.Iqa.push(l),2 === this.Iqa.length && Promise.resolve().then(function(){p.Pn && void 0 !== p.fB && p.rm("memoryLimit",m.u1,m.v1);}));};k.prototype.kMc=function(l,m){(0,f.assert)(this.state.value === h.Ld.Ff && void 0 === this.fB);this.fB=l;m && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:m.trackId,trackIndex:m.BM}),this.xea(m));};k.prototype.EMc=function(l,m,p){(0,f.assert)(this.Pn);this.JRa=null !== l && void 0 !== l?l:this.JRa;this.g$=null !== m && void 0 !== m?m:this.g$;this.ZY=p || this.ZY;};k.prototype.rm=function(l,m,p){var r;(0,f.assert)(this.Pn && void 0 !== this.fB && void 0 === this.Fka && void 0 === this.dwa && void 0 === this.sja);this.Fka=l;this.dwa=m;this.sja=p;this.$u=100;this.DKa();this.lMa();null === (r=this.sKa) || void 0 === r?void 0:r.Ka();this.state.value === h.Ld.$l && (this.hXa=c.platform.time.ha());this.Ngc();this.set(h.Ld.Jp);this.sja=this.dwa=this.Fka=this.ZY=this.g$=this.JRa=this.fB=void 0;};k.prototype.stop=function(){var l;this.set(h.Ld.Uy);this.DKa();this.lMa();null === (l=this.sKa) || void 0 === l?void 0:l.Ka();};k.prototype.rKa=function(l,m,p,r){var q,u,v,w,x,y,z,B,A,C;q=this;(0,f.assert)(this.Pn);null === (u=this.sKa) || void 0 === u?void 0:u.Ka();if(this.state.value === h.Ld.$l && c.platform.time.ha() < this.hXa + this.config.hCb){x=this.config.hCb - (c.platform.time.ha() - this.hXa);this.sKa=this.mc.pt(g.Vd.Cy(n.I.Ca(x)),function(){q.rKa(l,m,p,r);});}else {u=p.qG(h.v.X);y=p.qG(h.v.U);z=c.platform.time.ha() - Math.max(this.LJa,this.KWa);if(u || y){B=function(D){return D?D.Ex() || D.Vo()?r.Uka(q.state.value,l,z >= q.config.T_,m,D,q.dX):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};A=B(u);B=B(y);C=function(D){var F;return {reason:D.reason,complete:D.complete,bl:null !== (F=D.Zu) && void 0 !== F?F:0};};this.Ze.kg({as:C(A),vs:C(B),bt:z});C=y?B:A;C.WTc=y && B.Zu || 0;C.F5b=u && A.Zu || 0;A.complete && B.complete?(C.complete=!0,this.rm(null !== (x=C.reason) && void 0 !== x?x:"unknown",null !== (v=C.WTc) && void 0 !== v?v:0,null !== (w=C.F5b) && void 0 !== w?w:0)):(C.complete=!1,this.I7b(C),this.Ze.kg({bp:this.$u}));}}};k.prototype.I7b=function(l){var m,p,r;r=l.progress;l.jaa?r=(c.platform.time.ha() - Math.max(this.LJa,this.KWa)) / this.config.T_:r || (r=(null !== (m=l.Zu) && void 0 !== m?m:0) / this.config.fp);l=Math.min(Math.max(Math.round(100 * r),null !== (p=this.$u) && void 0 !== p?p:0),99);l != this.$u && (this.$u=l);};k.prototype.z_a=function(l,m){(0,f.assert)(m === h.Ld.Ff || void 0 !== l);this.fB=l;this.$u=0;this.ura=void 0;this.Nz.dX=0;this.Iqa=[];l=this.state.value === h.Ld.Ff || this.state.value === h.Ld.$l;this.LJa=c.platform.time.ha();this.set(m);l || this.Pgc();this.Pn && (this.jNc(),(m === h.Ld.$l || this.config.vJc) && this.dob());};k.prototype.set=function(l){this.state.set(l);};k.prototype.Pgc=function(){(0,f.assert)(this.events && void 0 !== this.$u);this.ura=this.$u;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:c.platform.time.ha(),percentage:this.$u});};k.prototype.jNc=function(){var l;l=this;this.DKa();this.RAc=this.mc.qla(function(){return l.Ogc();},n.I.Ca(this.c7b),"buffering-notification");};k.prototype.DKa=function(){var l;null === (l=this.RAc) || void 0 === l?void 0:l.Ka();};k.prototype.Ogc=function(){this.Pn && this.events && void 0 !== this.$u && this.$u !== this.ura && this.events.emit("buffering",{type:"buffering",time:c.platform.time.ha(),percentage:this.$u}) && (this.ura=this.$u);};k.prototype.Ngc=function(){var l;(0,f.assert)(this.events && this.fB && void 0 !== this.Fka && void 0 !== this.sja && void 0 !== this.dwa);this.ura=this.$u;l=d.__assign({type:"bufferingComplete",time:c.platform.time.ha(),actualStartPosition:this.fB,reason:this.Fka,aBufferLevelMs:this.sja,vBufferLevelMs:this.dwa,selector:this.JRa,initBitrate:this.g$,initSelReason:this.ZY},this.Jlb);this.events.emit("bufferingComplete",l);};k.prototype.dob=function(){var l;l=this;!this.AF || this.AF.state !== g.bm.complete && this.AF.state !== g.bm.lP?void 0 === this.AF && (this.AF=this.mc.Br(function(){return l.Mlb();},"bufferingTimeoutTask")):this.AF.Tc();};k.prototype.lMa=function(){this.AF && (this.AF.state !== g.bm.lP && this.AF.Ka(),this.AF=void 0);};k.prototype.Mlb=function(){var l,m,p;return d.__generator(this,function(r){switch(r.label){case 0:return (l=this.config.uaa,this.console.trace(("BufferingStateTracker: starting buffering timer: ").concat(l,"ms")),[4,g.Vd.Cy(n.I.Ca(l))]);case 1:(r.T(),r.label=2);case 2:if(!this.Pn)return [3,4];m=this.Sc.vzb || 0;p=c.platform.time.ha() - m;if(p >= l)return (this.console.trace(("Forcing streaming failure, ").concat(p,"ms since data received")),this.Nra("BufferingStateTracker: Temporary failure while buffering","NFErr_MC_StreamingFailure",this.SK),[2]);this.console.trace(("BufferingStateTracker: network activity, wait ").concat(l - p,"ms"));return [4,g.Vd.Cy(n.I.Ca(l - p))];case 3:return (r.T(),[3,2]);case 4:return [2];}});};d.__decorate([(0,e.fb)({methodName:"onTemporaryNetworkError",Oe:!0})],k.prototype,"w_",null);d.__decorate([(0,e.fb)({methodName:"onUnderflow",Oe:!0})],k.prototype,"Wk",null);d.__decorate([(0,e.fb)({methodName:"bufferingComplete",Oe:!0})],k.prototype,"rm",null);d.__decorate([(0,e.fb)({methodName:"stop",Oe:!0})],k.prototype,"stop",null);d.__decorate([(0,e.fb)({methodName:"checkStreamingBufferingComplete",Oe:!0})],k.prototype,"rKa",null);d.__decorate([(0,e.fb)({methodName:"createBufferingTimeoutTask",Oe:!0})],k.prototype,"dob",null);d.__decorate([(0,e.fb)({methodName:"destroyBufferingTimeoutTask",Oe:!0})],k.prototype,"lMa",null);d.__decorate([(0,e.fb)({methodName:"bufferingTimeoutTaskRunner",Oe:!0})],k.prototype,"Mlb",null);return k;})();b.p4a=t;},56879:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$bc=function(c){var g,k;function h(l){(0,n.Pr)(l.newValue) && !(0,n.Pr)(l.oldValue)?(null === k || void 0 === k?void 0:k.Ka(),k=g.pt.apply(g,d.__spreadArray([],d.__read(f),!1))):null === k || void 0 === k?void 0:k.Ka();}for(var f=[],e=1;e < arguments.length;e++)f[e - 1]=arguments[e];e=c.Sf;g=c.kj;e.state.addListener(h);h({oldValue:n.Ld.Uy,newValue:e.state.value});};d=a(22970);n=a(65161);},78538:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.lrb=function(n,c,h,f,e){var g,k;g=[];k=[];n=n.Mq.values.filter(function(l){return l.Hm;}).map(function(l){var m,p;m=c(l.M,h,f,e);p=m.map(function(r){return r.mediaType;});g=(0,d.l6)(g,p);p=(0,d.Co)(m,l.ka).map(function(r){return r.mediaType;});k=(0,d.l6)(k,p);p=(0,d.Co)(l.ka,m).map(function(r){return r.mediaType;});k=(0,d.l6)(k,p);return {sa:l,ka:m};});return {rmb:k,Q6b:n,w4b:g};};d=a(91176);},19455:function(t,b,a){var d,n,c,h,f,e,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.g7a=void 0;d=a(22970);n=a(45247);c=a(52571);h=a(65161);f=a(44284);e=a(14246);g=a(56841);k=a(8149);t=(function(l){function m(p,r,q,u,v){p=l.call(this,p,r,q,u,v) || this;r=(0,e.SPa)(p.config);p.Vsa=r.U_.bind(r);p.dzb=new g.H3();return p;}d.__extends(m,l);m.prototype.FJb=function(p,r,q,u,v,w,x,y,z,B){var A,C,D,F,G,E,H,J,L,K,M,P;C=[];D=w.track;if(!this.Esa(D,(0,k.Xo)(D)?D.Jna(u):void 0))return {stream:M,QD:C,reason:"locationSelectionFailure"};F=w.up;G=w.iG;u=F.Hna();E=w.mediaType;H=E === n.v.X;J=E === n.v.Ba;L=w;if((J || H) && !u){K=w.sa.qG(n.v.U);L=K?K:L;}v=this.Dob(p,r,v,L,!!B);r=this.xnc(w,r,p,v.state,q,y,z,u);p=r.first;y=(null === y || void 0 === y?void 0:y.Qka) || (null === z || void 0 === z?void 0:z.Qka);if(0 === p.length && y)return {stream:void 0,QD:C,reason:"allStreamsFiltered"};!u || (null === (A=u.wQ(D.mediaType)) || void 0 === A?0:A.equals(w.track)) || (u=this.Ujc(u,p));if((J || H) && u){M=u.Gi(E);C=this.Evb(p,u);return {stream:M,QD:C};}x=F.G0(v,r,0,this.Vsa,L.pSa(),x,G);if(!x)return {stream:M,QD:C,reason:"streamSelectionFailure"};w={jh:x.jh,BL:x.BL};if(x.reason){P=x.reason;this.Cmb(E,p,q);}this.Qgc(x,p);u=x.od || p[0];F.dk(n.v.X).XS(u.Gi(n.v.X));F.dk(n.v.U).XS(u.Gi(n.v.U));C=this.Evb(p,u);M=u.Gi(E);q=x.Vn;u=Array.from(new Set(p.map(function(I){return I.Gi(E);}).filter(function(I){return void 0 !== I;})));F=d.__assign(d.__assign({},x),{od:M});return {stream:M,QD:C,ZY:P,ky:w,Vn:q,bsb:u,IJb:F};};m.prototype.Evb=function(p,r){var q;q=this.Fvb(p,r,n.v.X);p=this.Fvb(p,r,n.v.U);return d.__spreadArray(d.__spreadArray([],d.__read(q),!1),d.__read(p),!1);};m.prototype.Fvb=function(p,r,q){var u;p=p.map(function(v){return v.Gi(q);});u=r.Gi(q);return p.filter(function(v){var w;return void 0 !== v && v !== u && v.kw && !v.za && !(null === (w=v.Oa) || void 0 === w?0:w.length);});};m.prototype.xnc=function(p,r,q,u,v,w,x,y){var z,B,A,C,D,F;z=new f.tAa();B=this.oh(p.sa.tQ(n.v.U),q,v,p.sa.de,p.sa.Kf,x);A=this.oh(p.sa.tQ(n.v.X),q,v,p.sa.de,p.sa.Kf,w);C=p.sa.tQ(n.v.Ba);D=this.ona(p,r);B=this.dzb.kob(this.config,this.Vsa,D,u,A,B,C,y);z.FO(B);r=p.sa.Lb.ea(r);r=this.config.wqa - r.G;for(B=p;0 < r;){F=this.navigator.next(B);if(null === F || void 0 === F || !F.Kf)break;B=this.oh(F.sa.tQ(n.v.U),q,v,F.sa.de,F.sa.Kf,x);A=this.oh(p.sa.tQ(n.v.X),q,v,p.sa.de,p.sa.Kf,w);B=this.dzb.kob(this.config,this.Vsa,D,u,A,B,C,y);z.FO(B);r-=F.sa.K.Vb.G;B=F;}return z;};m.prototype.Ujc=function(p,r){var q;q=r[0];r.filter(function(u){return u.rq;}).every(function(u){return u.Uu && u.Is && p.Uu && p.Is && u.Uu <= p.Uu && u.Is <= p.Is?(q=u,!0):!1;});return q;};m.prototype.Uka=function(p,r,q,u,v,w,x){var y,z,B;if(!(0,h.Pr)(r))return {complete:!0,reason:"playing"};if(!w.dXa)return {complete:!1,reason:"unknown"};if(w.tEb)return ((0,c.assert)(w.jsa),w.jsa);y=w.up;z=this.ona(w,q);B=y.Hna();q=z.Kk - z.yd;if(q < this.config.fp || void 0 === B)return {complete:!1,Zu:q,reason:"preBuf"};if(w.mediaType === n.v.X)return {complete:!0,Zu:q,reason:"audio"};if(p=p.qKa(w.mediaType))return {complete:!0,Zu:q,reason:p};this.Esa(w.track);w=new f.tAa();w.FO([B]);y.Lba(w,(0,h.LWa)(r),z,this.Vsa);r=y.Cz(z,r,v,B,x);if(!r.complete && u)return {complete:!0,reason:"prebufferTimeLimit",Zu:q};r.Zu=q;return r;};m.prototype.qpc=function(p,r){var q;return d.__assign(d.__assign({},r),{od:null === (q=r.od) || void 0 === q?void 0:q.Gi(p)});};m.prototype.Ppc=function(p,r){return Array.from(new Set(r.map(function(q){return q.Gi(p);}).filter(function(q){return void 0 !== q;})));};m.prototype.Qgc=function(p,r){var q;q=this;r[0].F8(function(u){var v,w;v=q.Ppc(u.mediaType,r);w=q.qpc(u.mediaType,p);q.events.emit("streamSelection",{type:"streamSelection",mediaType:u.mediaType,result:w,streamList:v});});this.events.emit("jointStreamSelection",{type:"jointStreamSelection",result:p,streamList:r});};return m;})(a(54477).Iza);b.g7a=t;},94328:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.ITc=function(f,e){f=f.ba[e.L];if(void 0 === f)return {mZ:!1,reason:("Segment ").concat(e.L," was not found")};if(0 > e.offset.G)return {mZ:!1,reason:("Offset ").concat(e.offset.G," was negative")};if(void 0 === f.ib || null === f.ib || Infinity === f.ib)return {mZ:!0};f=f.ib - f.eb;return e.offset.G >= f?{mZ:!1,reason:("Offset ").concat(e.offset.G," was greater than segment duration ").concat(f)}:{mZ:!0};};b.FQa=function(f,e){if(f === e)return !0;if(f && e && f.L === e.L){if(f.offset === e.offset)return !0;f=d.I.abs(f.offset.ea(e.offset));if(h.greaterThan(f))return !0;}return !1;};b.Qm=function(f,e,g){var k,l,p;k=e.la;e=e.Rsc;void 0 === g && (g={});k=k.Hb;l=(null === e || void 0 === e?0:e.id)?k.get(null === e || void 0 === e?void 0:e.id):k.initial;(0,n.assert)(l,"initialSegment must be found in workingPlaygraph");e=(null === e || void 0 === e?void 0:e.BLc) || (null === l || void 0 === l?void 0:l.kb);if(e.greaterThan(f))return g.sOc?{offset:f.ea(e),L:l.id}:void 0;l=k.DG.dK(l.id);for(var m=l.next();!m.done;){k=m.value;p=e;e=p.add(k.Vb);if(e.greaterThan(f))return (f=f.ea(p),c.l && (0,n.assert)(f.Xf(d.I.ia) && f.lessThan(k.Vb)),{L:k.id,offset:f});m=l.next();if(m.done && g.tOc)return {L:k.id,offset:f.ea(p)};}};b.Qmb=function(f,e){e=e.get(f.L);(0,n.assert)(e,"workingSegment must exist in workingPlaygraph for the position to clamp");e=e.Pmb(f.offset);return {Rmb:e,ex:f.offset.ea(e)};};b.fJb=function(f,e){f=f.ba[e.L];if(void 0 !== f)return null === f.ib || void 0 === f.ib?{L:e.L,offset:d.I.max(d.I.ia,e.offset)}:{L:e.L,offset:d.I.max(d.I.ia,d.I.min(e.offset,d.I.Ca(f.ib - f.eb)))};};d=a(91176);n=a(52571);c=a(48170);h=d.I.Ca(100);},54477:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Iza=void 0;t=a(22970);d=a(66164);n=a(65161);c=t.__importDefault(a(40497));h=a(8149);a=(function(){function f(e,g,k,l,m){this.config=e;this.jOc=g;this.navigator=k;this.events=l;this.console=m;}f.prototype.oh=function(e,g,k,l,m,p){return p?p.oh(e,g,k.ea(l),m):e;};f.prototype.Sgc=function(e,g,k){this.events.emit("streamSelection",{type:"streamSelection",mediaType:e,result:g,streamList:k});};f.prototype.Rgc=function(e,g,k,l){e={type:"maxVideoBitrateChanged",time:d.platform.time.ha(),streaming:l,maxvb_old:e,maxvb:g,reason:k};this.events.emit(e.type,e);};f.prototype.Esa=function(e,g){return e.M.Hi.Yva(e.M.J,e.Bd,g);};f.prototype.ona=function(e,g){var z;for(var k,l=g.ea(this.jOc),m=[],p=e,r=g,q,u,v=0,w=0,x=(0,h.Xo)(e.track),y=!0;p;){z=p.fub(l);if(!y && !p.Wj && !x)break;0 < z.Oa.length && (r=z.Oa[0].Qb,void 0 === q && (q=z.Oa[z.Oa.length - 1].Lb,u=z.ysa >= z.Oa.length?q:z.Oa[z.ysa].Qb),m=z.Oa.concat(m),v+=0 < z.Tv?z.Tv:0,w+=z.i0);p=this.navigator.parent(p);y=!1;}return {nt:d.platform.CY()[e.mediaType],Eb:Math.floor(r.G),yd:g.G,uk:Math.floor(null !== (k=null === q || void 0 === q?void 0:q.G) && void 0 !== k?k:g.G),Kk:Math.floor(u?u.G:g.G),iu:m.reduce(function(B,A){return B + A.ma;},0),Tv:v,i0:w,Y4c:m.length,Oa:m};};f.prototype.Dob=function(e,g,k,l,m){var p,r,q;e=(0,n.LWa)(e);p=this.ona(l,g);r=l.mediaType === n.v.U?this.config.Hea:this.config.q6;q=c.default.instance();g={state:e,Dx:e === n.Tb.hg,Qe:l.Vk,playbackRate:k,buffer:p,ema:r,EX:m,jm:null === q || void 0 === q?void 0:q.jm,mediaType:l.mediaType,yd:g.G,QXa:0};this.XSc(g,void 0 !== l.up.eo.Qk);return g;};f.prototype.Cmb=function(e,g,k){var p,r;if(e === n.v.U){e="manifest";for(var l=0,m=g.length - 1;0 <= m;--m){p=g[m];r=p.bitrate;if(p.CG){l=Math.max(l,r);break;}else p.Uo?p.Nn && (e="hf"):e="av";}this.ABb !== l && (this.Rgc(this.ABb,l,e,k),this.ABb=l);}};f.prototype.XSc=function(e,g){switch(e.state){case n.Tb.Ff:case n.Tb.$l:case n.Tb.hg:case n.Tb.zi:if(g)break;e.state=n.Tb.sn;case n.Tb.sn:g && (e.state=n.Tb.Ff);}};return f;})();b.Iza=a;},28696:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperties(b,{__esModule:{value:!0}});b.h7a=void 0;d=a(22970);n=a(45247);c=a(65161);h=a(14246);f=a(44284);e=a(52571);g=a(8149);t=(function(k){function l(m,p,r,q,u){m=k.call(this,m,p,r,q,u) || this;p=(0,h.SPa)(m.config);m.Cua=p.Cua.bind(p);m.b_a=p.b_a.bind(p);m.COa=p.COa.bind(p);m.yQa=p.yQa.bind(p);m.eGb=[p.dGb.bind(p),p.U_.bind(p)];return m;}d.__extends(l,k);l.prototype.FJb=function(m,p,r,q,u,v,w,x,y,z){var B,A,C,D,F,G;B=[];y=v.mediaType === n.v.X?x:y;A=v.track;if(!this.Esa(A,(0,g.Xo)(A)?A.Jna(q):void 0))return {stream:C,QD:B,reason:"locationSelectionFailure"};u=this.Dob(m,p,u,v,!!z);z=v.up;q=z.eo;x=v.iG;C=q.Qk;D=this.eqc(v,p,m,r,y);m=D.first;if(0 === m.length && (null === y || void 0 === y?0:y.Qka))return {stream:void 0,QD:B,reason:"allStreamsFiltered"};C && !C.track.equals(A) && (C=this.Vjc(C,m));y=v.mediaType;if((p=y === n.v.X) && C && !this.LNc(q,C))return (this.config.cwb && this.Cua(C.bitrate),{stream:C,QD:B});A=this.eGb[y];F=p?this.yQa():this.COa();v=z.G0(u,D,F,A,v.pSa(),w,x);if(!v)return {stream:C,QD:B,reason:"streamSelectionFailure"};w={jh:v.jh,BL:v.BL};if(v.reason){G=v.reason;this.Cmb(y,m,r);}this.Sgc(y,v,m);C=v.od || m[0];r=C.bitrate;p?this.config.cwb && this.Cua(r):this.b_a(r);q.XS(C);B=m.filter(function(E){var H;return E !== C && E.kw && !E.za && !(null === (H=E.Oa) || void 0 === H?0:H.length);});return {stream:C,QD:B,ZY:G,ky:w,Vn:v.Vn,bsb:m,IJb:v};};l.prototype.eqc=function(m,p,r,q,u){var v;v=new f.tFa();v.FO(this.oh(m.track.Bd,r,q,m.sa.de,m.Kf(),u));p=m.sa.Lb.ea(p);for(p=this.config.wqa - p.G;0 < p;){m=this.navigator.next(m);if(null === m || void 0 === m || !m.Kf)break;v.FO(this.oh(m.track.Bd,r,q,m.sa.de,m.Kf(),u));p-=m.sa.K.Vb.G;}return v;};l.prototype.LNc=function(m,p){return 0 < this.config.vp.length?!0:(m=m.qZ) && m === p.location?!1:!0;};l.prototype.Vjc=function(m,p){var r;r=p[0];p.filter(function(q){return q.rq;}).every(function(q){return q.bitrate <= m.bitrate?r=q:!1;});return r;};l.prototype.Uka=function(m,p,r,q,u,v,w){var x,y,z;if(!(0,c.Pr)(p))return {complete:!0,reason:"playing"};if(!v.dXa)return {complete:!1,reason:"unknown"};if(v.tEb)return ((0,e.assert)(v.jsa),v.jsa);x=v.up;y=x.eo;r=this.ona(v,r);z=y.Qk;y=r.Kk - r.yd;if(y < this.config.fp || void 0 === z)return {complete:!1,Zu:y,reason:"preBuf"};if(v.mediaType === n.v.X)return {complete:!0,Zu:y,reason:"audio"};if(m=m.qKa(v.mediaType))return {complete:!0,Zu:y,reason:m};this.Esa(v.track);m=new f.tFa();m.FO([z]);x.Lba(m,(0,c.LWa)(p),r,this.eGb[v.mediaType]);p=x.Cz(r,p,u,z,w);if(!p.complete && q)return {complete:!0,reason:"prebufferTimeLimit",Zu:y};p.Zu=y;return p;};return l;})(a(54477).Iza);b.h7a=t;},49870:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.A9a=void 0;d=a(22970);n=a(91176);c=a(40666);t=(function(){function h(f,e){this.la=f;this.console=e;}h.prototype.Wub=function(f){return f.lessThan(n.I.ia)?{Uf:{type:"immediate"},reason:"Invoking Panic"}:{Uf:{type:"player",when:c.Vd.Rl(f)},reason:"Panic"};};h.prototype.Hxc=function(f,e){var g,k,l,m;k=f.M;if(!k.Ob || e)return {reason:"not live or multi-choice"};if(!k.Kh)return {reason:"no media events store",Uf:{type:"immediate"}};e=k.Yc.Vob;k=null === (g=this.la.Hb.get(f.K.id)) || void 0 === g?void 0:g.Dc;g=this.la.Hb.get(k);k=n.I.qh;g && (k=g.Rb.ea(f.xa).add(f.Lb));e=k.ea(e.swc);k=f.K.type;l=this.la.config;m=this.la.Xd.add(e);l=f.Lb.ea(n.I.Ca(l.$yb));!1;return g?f.K.type !== g.type && "adBreak" === k?{Uf:{type:"immediate"},reason:"transition from adBreak"}:f.K.type === g.type && "adBreak" !== k?{Uf:{type:"immediate"},reason:"transition to like segments"}:g.Vb.isFinite()?e.lessThan(n.I.ia)?{Uf:{type:"immediate"},reason:"successor end beyond live edge end"}:l.lessThan(m)?this.Wub(l):{Uf:{type:"player",when:c.Vd.Rl(m)},reason:"waiting till live edge beyond successor end"}:d.__assign(d.__assign({},this.Wub(l)),{reason:"successor not finite"}):{reason:"successor not found"};};return h;})();b.A9a=t;},95650:function(t,b,a){var d,n,c,h,f,e,g,k,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.y5a=b.eya=void 0;d=a(22970);n=a(91176);c=a(91176);h=a(66164);f=a(90745);e=a(91176);g=a(95407);k=a(62442);(function(p){p[p.po=0]="INITIAL";p[p.gbb=1]="PENDING";p[p.Bh=2]="SUCCESS";p[p.iN=3]="FAILED";})(l || (l={}));(function(p){p[p.Bh=0]="SUCCESS";p[p.i$a=1]="MISSED_OPPORTUNITY";})(m || (b.eya=m={}));t=(function(){function p(r,q,u,v,w,x,y){var B,A;function z(){B.M.Yc.bG && (B.iS.Tc(),B.M.events.Om("liveEventTimesUpdated",z));}B=this;this.M=r;this.events=q;this.kj=u;this.sH=v;this.js=w;this.la=x;this.Xka=new Map();this.O$=l.po;this.WE=!0;this.Rpa=new n.KAa({Ita:n.oEa.all});this.dv={rb:new Map(),hIa:[]};this.console=(0,n.tf)(h.platform,y,"DAIPREFETCHER");!1;this.PP=new f.af();this.iS=this.kj.Br(function(){return B.iLc();},"DaiPrefetcher.schedulePrefetchAds");this.PP.addListener(w.events,"adBreakComplete",function(){return B.iS.Tc();});this.PP.addListener(w.events,"adBreakPresenting",function(){return B.iS.Tc();});this.M.events.on("liveEventTimesUpdated",z);this.FGc(this.M.S);r=(null === (A=this.M.S.MZ) || void 0 === A?void 0:A.Qn.filter(function(C){return "adbreak" === C.type;})) || [];this.Czb=Math.min(this.CBc.length,r.length);}Object.defineProperties(p.prototype,{enabled:{get:function(){return this.WE;},set:function(r){!1;this.WE !== r && (this.WE=r,this.iS.Tc());},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Wx:{get:function(){var r,q;q=null === (r=this.M.Kh) || void 0 === r?void 0:r.model;return q?q.rb.map(function(u){return u.Xa;}).filter(n.ed):[];},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{CBc:{get:function(){var r,q,u;r=this;u=null === (q=this.M.Kh) || void 0 === q?void 0:q.model;return u?u.rb.filter(function(v){return v.Pa.add(v.duration).lessThan(r.M.Kh.Lv);}).map(function(v){return v.Xa;}).filter(n.ed):[];},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{rvc:{get:function(){var r;r=this.js.kG().result[this.M.J] || [];return r[r.length - 1];},enumerable:!1,configurable:!0}});p.prototype.h9b=function(r){return this.Wx.length === r + 1?this.O$ === l.iN:!1;};p.prototype.FGc=function(r){var q;if(null === (q=r.Od) || void 0 === q?0:q.ak)(r=r.Od,r.U5 && (!1,this.gwb(r,new c.AbortController())));};p.prototype.UYa=function(){d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){this.iS.On || this.iS.Tc();return [2];});});};p.prototype.yKa=function(r){var q;q=this;r.forEach(function(u){(u=u.ae.Xa) && q.Xka.delete(u);});};p.prototype.oob=function(r,q){var u,v,w;if(!q.has(r)){w=null === (v=null === (u=r.Xb) || void 0 === u?void 0:u[0]) || void 0 === v?void 0:v.id;w && (u=this.sH.qs(w,{Hf:{Fb:this.M.S.Fb,fd:this.M.J}}),u.Qq.then(function(){!1;}),q.v3b(r,u.Rk));}};p.prototype.ujc=function(r){d.__awaiter(this,void 0,void 0,function(){var q,u,v,w,x,y,z,B,A,C,D,F;return d.__generator(this,function(G){switch(G.label){case 0:(null === (D=this.vja) || void 0 === D?void 0:D.Dh.abort(),q=new c.AbortController(),this.vja={Dh:q},v=this.Wx,w=d.__read((0,e.rCb)(this.sH.DS.bind(this.sH)),2),x=w[0],y=w[1],G.label=1);case 1:return (G.tc.push([1,3,,4]),z=Array.from(this.dv.rb.keys()).filter(function(E){return -1 === v.indexOf(E);}),[4,x({Hf:{Fb:this.M.S.Fb,fd:this.M.J},Wx:v,M6:z},q.signal)]);case 2:return (u=G.T(),B={M:this.M,fGb:u,Gv:r,NH:{XA:y.start,ZA:y.end}},this.events.emit("daiPrefetchComplete",B),[3,4]);case 3:return (A=G.T(),this.console.error("DaiPrefetcher: error fetching prefetch ads",n.vU.cK(A)),C=g.IB.e9(A),B={M:this.M,Gv:r,NH:{XA:y.start,ZA:y.end},error:A,errorCode:C},this.events.emit("daiPrefetchFailed",B),this.tKb(q,l.iN),[2]);case 4:if(q.signal.aborted)return ((null === (F=this.vja) || void 0 === F?void 0:F.Dh) === q && (this.O$=l.po),[2]);!1;this.gwb(u,q);this.Czb=v.length;this.tKb(q,l.Bh);return [2];}});});};p.prototype.gwb=function(r,q){var u,v,w,z,B;w=new n.KAa({Ita:n.oEa.all});this.hzc(r);try{for(var x=d.__values(this.dv.hIa),y=x.next();!y.done;y=x.next()){z=y.value[0];if(z){B=this.dv.rb.get(z);B?this.oob(B,w):this.console.error("DaiPrefetcher: ad break not found for trigger",{Xa:z,rb:Array.from(this.dv.rb.keys())});}}}catch(C){var A;A={error:C};}finally{try{y && !y.done && (u=x.return) && u.call(x);}finally{if(A)throw A.error;}}q.signal.addEventListener("abort",function(){!1;w.clear();});null === (v=this.Wdc) || void 0 === v?void 0:v.Dh.abort();this.Wdc={Dh:q};this.Rpa=w;this.vja=void 0;};p.prototype.hzc=function(r){var q,u,v,y,z;v=this.Wx;try{for(var w=d.__values(Object.keys(r.U5)),x=w.next();!x.done;x=w.next()){y=x.value;z=r.U5[y];"" === y?this.console.error("Empty ad break trigger id in prefetch data"):"REMOVE" === z.action || -1 !== v.indexOf(y)?(!1,this.dv.rb.delete(y)):"UPSERT" === z.action && (z.Ra.CX || null !== (u=z.Ra.Xb) && void 0 !== u && u.length?(!1,this.dv.rb.set(y,z.Ra)):this.console.error("Empty dynamic ad break in prefetch data",{Mva:y,Ra:z.Ra}));}}catch(A){var B;B={error:A};}finally{try{x && !x.done && (q=w.return) && q.call(w);}finally{if(B)throw B.error;}}this.dv.hIa=r.cDc.map(function(A){return A.filter(function(C){C=-1 !== v.indexOf(C);!1;return !C;});}).filter(function(A){return A.length;});};p.prototype.kG=function(){return this.Xka;};p.prototype.F9b=function(r,q){var u,v,w,x,y;v=this;!1;if(this.dv.rb.has(r)){w=this.dv.rb.get(r);this.kj.pt(n.Vd.Cy(n.I.Ca(1E3)),function(){return d.__awaiter(v,void 0,void 0,function(){return d.__generator(this,function(C){switch(C.label){case 0:return [4,this.la.Nca()];case 1:return (C.T(),this.Rpa.delete(w),[2]);}});});},"delayedLeaseCleanup");x=function(C){var D,F,G;D=C.indexOf(r);-1 !== D && C.splice(D,1);F=w.Xb || [];G=q.duration.G;F=F.filter(function(E){E=E.ib - E.eb;if(G >= E - 1E4)return (G=Math.max(G,0),G-=E,!0);!1;G=-Infinity;return !1;});0 === D && 0 < C.length && ((D=y.dv.rb.get(C[0]))?y.Tnc(0 < G?q.duration.G - G:q.duration.G,q,D,C):y.console.error("Invalid state detected, did not have adbreak metadata for ad break trigger",{triggerId:C[0]}));y.Xka.set(r,{status:m.Bh,Ra:d.__assign(d.__assign({},w),{Xb:F})});y.dv.rb.delete(r);};y=this;try{for(var z=d.__values(this.dv.hIa),B=z.next();!B.done;B=z.next())x(B.value);}catch(C){var A;A={error:C};}finally{try{B && !B.done && (u=z.return) && u.call(z);}finally{if(A)throw A.error;}}}else (!1,this.O$ === l.gbb && this.Xka.set(r,{status:m.i$a}));};p.prototype.Tnc=function(r,q,u,v){var w,x;w=this;x=this.M.config;r=q.Pa.add(n.I.Ca(r));x=(0,k.Zlb)(r,this.M.Yc,x).AFb;!1;this.bzb=this.kj.pt(n.Vd.Rl(n.I.Ca(x)),function(){return d.__awaiter(w,void 0,void 0,function(){return d.__generator(this,function(){v[0] === u.Xa?this.oob(u,this.Rpa):!1;return [2];});});},"liveNextAdBreakManifestWindow");};p.prototype.iLc=function(){var r;return d.__generator(this,function(q){switch(q.label){case 0:r=this.loc();if(!r.rW)return [3,2];this.O$=l.gbb;return [4,n.Vd.Rl(n.I.Ca(r.Uzc))];case 1:(q.T(),this.ujc(r),q.label=2);case 2:return [2];}});};p.prototype.loc=function(){var q,u,v,w,x,y,z,B;function r(A,C){var D;A=null !== (D=null !== A && void 0 !== A?A:x) && void 0 !== D?D:0;C=null !== C && void 0 !== C?C:w;D=void 0 === C?A:Math.floor(Math.random() * C) + A;!1;return {vwa:A,$Pb:C,iB:D};}if(!this.enabled)return (!1,{rW:!1});u=this.M.S.Od;v=this.rvc;if(this.dv.rb.size && (null === (q=this.M.Kh) || void 0 === q || !q.fIc) || this.Wx.length && this.Wx.length === this.Czb || !this.M.Yc.bG)return (!1,{rW:!1});w=u.wpb;x=u.Bec;q=u.Ssc;y=u.Tsc;if(v){u="lastAdBreak";z=v.Pa.add(v.duration);}else (u="programStart",z=this.M.Yc.bG);if(v){if(!v.CHb && "mediaEvents" !== v.source)return (!1,{rW:!1});v=r(v.VFc,v.UFc);}else v=r(y,q);q=this.M.Yc.Tnb(z);z=this.M.Yc.d6b(q);y=z.ea(q).G;B=z.add(n.I.Ca(v.iB));B=this.M.Yc.yua(B.G);u=d.__assign(d.__assign({rW:!0},v),{ata:y,JO:q,mkb:u,TD:this.M.kh,Uzc:B,E9c:z.G});!1;return u;};p.prototype.Ka=function(){!1;this.Rpa.Ka();this.iS.Ka();this.PP.clear();this.bzb && this.bzb.Ka();};p.prototype.tKb=function(r,q){var u;r === (null === (u=this.vja) || void 0 === u?void 0:u.Dh) && (this.O$=q);};return p;})();b.y5a=t;},41456:function(t,b,a){var d,n,c,h,f,e,g,k,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.F$a=void 0;d=a(22970);n=a(90745);c=a(66164);h=a(91176);f=a(91562);e=a(61996);g=a(48170);k=a(40666);l=a(12548);m=a(95650);t=(function(){function p(r,q,u,v){this.la=r;this.Ef=q;this.config=u;this.console=v;this.MC=new n.af();this.ULa=new WeakMap();this.GWa=new n.af();this.uGa=!0;this.events=new n.EventEmitter();this.console=(0,h.tf)(c.platform,v,"MEDIAEVENTSMANAGER");g.l && this.console.trace("MediaEventsManager ctor");this.Mj=new e.un({Fj:this,source:"media-events-manager",Ig:10,console:v});this.Psa=this.la.Zc;this.Waa=new l.uab();}Object.defineProperties(p.prototype,{gpb:{get:function(){return this.uGa;},set:function(r){var q;q=this;g.l && this.console.debug(("Setting daiPrefetchEnabled to ").concat(r));this.uGa=r;this.Ef.forEach(function(u){if(u=q.vY(u))u.enabled=r;});},enumerable:!1,configurable:!0}});p.prototype.C9=function(r){return r.Kh;};Object.defineProperties(p.prototype,{enabled:{get:function(){return this.config.AP;},enumerable:!1,configurable:!0}});p.prototype.aH=function(r){var q,u,v,w,x,y;q=this;if(this.enabled && r.Ob){x=this.C9(r);if(x){g.l && this.console.trace("MediaEventsManager","onViewableReceived",r.J);y=function(z){z={id:z.id,pj:z.pj,oD:z.oD,payload:z.payload};g.l && q.console.trace("emitting mediaEventReceived:",z);q.events.emit("mediaEventReceived",z);};x.model.DA.forEach(y);this.MC.addListener(x.events,"netflixEventReceived",y);this.MC.addListener(x.events,"netflixEventCancelled",function(z){var B;z={id:z.id,pj:z.pj,nTc:z.duration.G,oD:z.oD,payload:z.payload,timestamp:c.platform.time.ha()};g.l && q.console.trace("emitting mediaEventCancelled:",z);q.events.emit("mediaEventCancelled",z);q.Waa.Tqc(z);null === (B=q.Eqa) || void 0 === B?void 0:B.Tc();});this.MC.addListener(x.events,"modelUpdated",function(z){var B;g.l && q.console.trace("modelUpdated",{id:r.J,ROb:Array.from(z.D1.values())});if(z.D1.has("breakstart") || z.D1.has("adbreak") || z.D1.has("breakend"))(q.H9b(r,z.FUa),q.events.emit("adsUpdated",{M:r}));z.D1.has("netflix") && (g.l && q.console.trace("restarting mediaEventsTask - netflix updates"),null === (B=q.Eqa) || void 0 === B?void 0:B.Tc());});this.MC.addListener(x.events,"progress",function(z){var B;if(q.jM){B={M:r,xa:z.xa};g.l && q.console.trace("emitting mediaEventsProgress:",{J:r.J,xa:z.xa.da()});q.events.emit("mediaEventsProgress",B);}});r.Ob && (g.l && this.console.trace("Received media events",{J:r.J,t3c:null === (v=null === (u=r.S) || void 0 === u?void 0:u.Od) || void 0 === v?void 0:v.ak}),(null === (w=r.Od) || void 0 === w?0:w.ak) && !this.ULa.has(r) && (g.l && this.console.trace("Constructing dai prefetcher for viewable",r.J),u=new m.y5a(r,this.events,this.la.kj,this.la.sH,this.la.Cc.js,this.la,this.console),u.enabled=this.uGa,this.ULa.set(r,u)));this.MC.on(this.Psa,"clockChanged",function(){var z;q.GWa.clear();q.GWa.on(q.Psa.La,"clockAdjusted",function(B){var A;B.reason === h.yw.kM && (g.l && q.console.trace("restarting mediaEventsTask - clockAdjusted"),null === (A=q.Eqa) || void 0 === A?void 0:A.Tc());});g.l && q.console.trace("restarting mediaEventsTask - clockChanged");null === (z=q.Eqa) || void 0 === z?void 0:z.Tc();});this.Eqa=this.Psa.Br(function(){return q.hLc(r);},"media-events-scheduler");}}};p.prototype.H9b=function(r,q){var u,v;u=this;g.l && this.console.debug("Checking claimed ad-breaks",{FUa:q.map(function(w){return w.da();})});v=this.vY(r);v && (r=this.C9(r),g.l && this.console.debug("Claiming... Checking dai ads",{Xb:r.model.rb.map(function(w){return {location:w.Pa.da(),Xa:w.Xa};})}),r.model.rb.filter(function(w){return q.filter(function(x){return x.equal(w.Pa);}).length;}).forEach(function(w){w.Xa?v.F9b(w.Xa,w):g.l && u.console.debug("Missing adBreakTriggerId for ad break");}));};p.prototype.vY=function(r){return this.ULa.get(r);};p.prototype.t_=function(r,q){this.jM && this.nMa();this.i$b(r,q);};p.prototype.kG=function(r){var q,u,v,w;q=this;if(this.enabled){u=this.C9(r);if(u){u=u.model.rb || [];v=this.vY(r);w=(null === v || void 0 === v?void 0:v.kG()) || new Map();u=u.map(function(x){var y,z,B,A,C,D,F,G,E,H;z=x.location;B=x.$n;A=x.Xa;C=x.duration;D=z.G;if(A && w.has(A)){F=w.get(A);switch(F.status){case m.eya.i$a:G=!0;break;case m.eya.Bh:(E=F.Ra,H=E.Xb?null === (y=E.Xb) || void 0 === y?void 0:y.reduce(function(J,L){return J.add(h.I.Ca(L.ib - L.eb));},h.I.ia):h.I.ia);return d.__assign(d.__assign({},E),{Pa:x.Pa,location:z,Iv:z.G,wk:D,duration:E.CX?C:H,type:E.CX?"embedded":"dynamic",$n:B,nk:C,Xa:A,zx:!0,Vp:!0,jZ:!1,source:"daiPrefetch"});}}y=q.config.zP && r.Rr?{M1a:"ENABLED_AS_NORMAL"}:void 0;return {Pa:x.Pa,location:z,Iv:D,An:q.config.zP && r.Rr?B === f.A4.HRb:!0,wk:D,Xb:[],DO:{},duration:C,nk:C,CHb:!0,type:"embedded",$n:B,Xa:A,Vp:!(null === (H=null === (E=r.S) || void 0 === E?void 0:E.Od) || void 0 === H || !H.ak),jZ:!1,source:"mediaEvents",I1:y,jL:G};});this.Mj.kg({ads:u.slice(-5)});return u;}g.l && this.console.debug("No store found for viewable - not returning ads",r.R);}else g.l && this.console.debug("MediaEventsManager disabled - not returning ads");};p.prototype.hAc=function(r,q,u){var v,w;v=this.Ef.get(r);if(v){w=q.ea(h.I.Ca(this.config.Ewc)).ea(u);if(this.jM){(0,h.assert)(this.u_a,"Skip offset must be set if skip task is set");if(this.u_a.Km(w))return;this.nMa();}g.l && this.console.trace("MediaEventsManager: needsMediaEvents starting skip task",r,q,u,w);this.qdc(v,w);}};p.prototype.qdc=function(r,q){var u;u=this;(0,h.assert)(!this.jM,"Skip task must not be set when creating a new one");this.jM=this.Psa.Br(function(){return u.lOc(r,q);},"media-events-skipper");this.u_a=q;};p.prototype.nMa=function(){var r;(0,h.assert)(this.jM,"Skip task  must be set when destructing it");null === (r=this.jM) || void 0 === r?void 0:r.Ka();this.u_a=this.jM=void 0;};p.prototype.Ka=function(){var r;r=this;this.jM && this.nMa();this.GWa.clear();this.MC.clear();this.Ef.forEach(function(q){var u;null === (u=r.vY(q)) || void 0 === u?void 0:u.Ka();});this.Ef.clear();this.Waa.reset();};p.prototype.lOc=function(r,q){var u,v,w;return d.__generator(this,function(x){switch(x.label){case 0:(u=this.C9(r),(0,h.assert)(u,"Store must be present"),g.l && this.console.trace(("MediaEventsManager: starting skip task for viewable ").concat(r.J," ") + ("with skip offset ").concat(q.da())),x.label=1);case 1:if(u.complete)return [3,3];v=u.Lv;w=v.add(q);g.l && this.console.trace(("MediaEventsManager: waiting until ").concat(w.da()," ") + ("to skip media events at ").concat(v.da()));return [4,k.Vd.Rl(w)];case 2:return (x.T(),u.uwb(v) || (g.l && this.console.trace(("MediaEventsManager: skipping at ").concat(v.da()),{skip:q.da(),target:v.da(),epb:u.Lv.da(),fAb:r.Jn().da()}),u.mLb(v)),[3,1]);case 3:return [2];}});};p.prototype.hLc=function(r){var q,u,v,w,x,y,z,B,A,C,D,F,G;return d.__generator(this,function(E){switch(E.label){case 0:(E.tc.push([0,7,8,9]),q=d.__values(this.noc(r)),u=q.next(),E.label=1);case 1:if(u.done)return [3,6];v=u.value;w=v.event;x=v.On;g.l && this.console.trace("MediaEventsManager - Checking event schedule - ",{St:this.St,event:w,On:x});if((null === (G=this.St) || void 0 === G?void 0:G.id) === w.id && x)return [3,3];this.St && (g.l && this.console.trace("MediaEventsManager - Closing this.openedMediaEvent",{St:this.St}),this.JKa(r,this.St));y=this.la.Ar({J:r.J,Pa:w.Pa});if(!y)return [3,3];z=this.la.Zz(y);if(!z)return [3,3];g.l && this.console.trace("MediaEventsManager - Waiting for media event to begin:",{event:w});return [4,k.Vd.Rl(z)];case 2:(E.T(),g.l && this.console.trace("MediaEventsManager - Opening media event:",{event:w}),this.ZCc(r,w),E.label=3);case 3:B=this.la.Ar({J:r.J,Pa:w.Pa.add(w.duration)});if(!B)return [3,5];A=this.la.Zz(B);if(!A)return [3,5];g.l && this.console.trace("MediaEventsManager - Waiting for event to elapse:",{event:w});return [4,k.Vd.Rl(A)];case 4:(E.T(),g.l && this.console.trace("MediaEventsManager - Closing event:",{event:w}),this.JKa(r,w),E.label=5);case 5:return (u=q.next(),[3,1]);case 6:return [3,9];case 7:return (C=E.T(),D={error:C},[3,9]);case 8:try{u && !u.done && (F=q.return) && F.call(q);}finally{if(D)throw D.error;}return [7];case 9:return [2];}});};p.prototype.noc=function(r){var q,u,v,w,x,y,z,B,A,C,D,F,G;return d.__generator(this,function(E){switch(E.label){case 0:q=this.C9(r);(0,h.assert)(q,"Store must be present");u=this.la;v=q.model.DA;w=u.msb(r.J);if(!w)return [3,8];x=u.Mr(w);y=!1;E.label=1;case 1:(E.tc.push([1,6,7,8]),z=d.__values(v),B=z.next(),E.label=2);case 2:if(B.done)return [3,5];A=B.value;C=!1;!y && x.Pa.lessThan(A.Pa.add(A.duration)) && (y=!0,C=x.Pa.Xf(A.Pa));return y?[4,{event:A,On:C}]:[3,4];case 3:(E.T(),E.label=4);case 4:return (B=z.next(),[3,2]);case 5:return [3,8];case 6:return (D=E.T(),F={error:D},[3,8]);case 7:try{B && !B.done && (G=z.return) && G.call(z);}finally{if(F)throw F.error;}return [7];case 8:return [2];}});};p.prototype.ZCc=function(r,q){var u;this.St=q;u=q.Pa;r=h.I.Ca(r.Mk()).ea(u).G;u=this.la.Mr(this.la.bh).Pa.ea(u);q={id:q.id,pj:q.pj,TX:r,duration:q.duration.G,oD:q.oD,payload:q.payload,x0a:u.G,timestamp:c.platform.time.ha()};g.l && this.console.trace("emitting mediaEventTriggered:",q);this.events.emit("mediaEventTriggered",q);this.Waa.Vqc(q);};p.prototype.i$b=function(r,q){var u,v;if(q && this.St && r){q=this.la.Mr(q);u=this.St.Pa;v=u.add(this.St.duration);if(q.Pa.lessThan(u) || q.Pa.greaterThan(v))(g.l && this.console.trace("MediaEventsManager - Seek position not in window closing media event - ",{St:this.St}),this.JKa(r,this.St));}};p.prototype.JKa=function(r,q){var u;this.St=void 0;u=q.Pa.add(q.duration);r=h.I.Ca(r.Mk()).ea(u).G;q={id:q.id,pj:q.pj,TX:r,timestamp:c.platform.time.ha()};g.l && this.console.trace("emitting mediaEventElapsed:",q);this.events.emit("mediaEventElapsed",q);this.Waa.Uqc(q);};d.__decorate([(0,e.fb)({methodName:"getAds",Oe:!0})],p.prototype,"kG",null);return p;})();b.F$a=t;},76452:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.J$a=void 0;d=a(22970);n=a(90745);c=a(91176);h=a(91562);f=a(66164);e=a(48170);g=a(8149);k=a(61996);l=a(54366);m=a(45173);p=a(89025);r=a(12381);t=(function(){function q(u,v,w,x){var y,z,B,A,C,D,F,G;y=this;this.M=v;this.config=w;this.fL=x;this.model={DA:[],rb:[],sRc:function(){var E,H;return {last5NetflixMediaEvents:this.DA.map(function(J){return {id:J.id,contentTimestamp:new c.qV(J.Pa,J.Pa.add(J.duration)).toString()};}).slice(-5),netflixMediaEventsCount:this.DA.length,last5adBreaks:this.rb.map(function(J){return {id:J.id,contentTimestamp:new c.qV(J.Pa,J.Pa.add(J.duration)).toString()};}).slice(-5),adBreaksCount:this.rb.length,programStart:null === (E=this.xD) || void 0 === E?void 0:E.Pa.da(),programEnd:null === (H=this.Tba) || void 0 === H?void 0:H.Pa.da()};}};this.zHa=!1;this.DA=new Map();this.rb=new Map();this.tq=new c.CN([],function(E,H){return E.Ug - H.Ug;});this.bF=c.I.mCb;this.En=new r.C$a();(0,c.assert)(v.Ob,"MediaEventsStore requires live Viewable");this.events=new n.EventEmitter();x=c.I.ia;this.console=new f.platform.Console("MEDIAEVENTSSTORE","asejs",("[").concat(this.M.R,"]"));e.l && this.console.log(("Creating MediaEventsStore: synthesizeLiveIdrMismatch=").concat(this.config.h1));this.Mj=new k.un({Fj:this,source:"media-events-store",Ig:10,console:this.console});this.M.Ye.Xc(new l.so(this.Mj));D=w.e8;if(this.fL && D){F=this.fL;D=F.Xdc;G=F.u6b;(F=F.P) && D >= G && (x=c.I.Ca(D - G).Vc(F));F=c.I.Ca(this.M.Mk(!0));this.FCb(x,F) && (e.l && this.console.log("needs events from media event history, adjusting startContentTimestamp","startContentTimestamp",null === x || void 0 === x?void 0:x.da(),"logicalLiveEdge",null === F || void 0 === F?void 0:F.da(),"new startContentTimestamp",null === (z=c.I.min(x,F)) || void 0 === z?void 0:z.da()),x=c.I.min(x,F));this.CGb(x);e.l && this.console.log("processed history: cutoffTimeMs",D,"baseTimeMs",G,"startContentTimestamp",x.da());}else e.l && this.console.log("no media events history");void 0 === this.model.Tba && (this.ss=new m.D$a(u,v,w,this.iyb.bind(this),this.En),this.ss.events.on("mediaEventsReceived",function(E){var H;y.tq.push(E);e.l && y.console.info("Received media events",{Ug:E.Ug,Had:y.tq.hj().slice(0,5).map(function(J){return J.Ug;})});y.process();y.complete && (null === (H=y.ss) || void 0 === H?void 0:H.Ka());}),this.ss.events.on("eosReceived",function(){var E;null === (E=y.ss) || void 0 === E?void 0:E.Ka();}),this.events.on("modelUpdated",function(){y.zHa=!0;}));null !== (B=this.M.Yc.Fma) && void 0 !== B && B.isFinite()?void 0 === this.model.Tba && (u=this.M.Yc.bG,void 0 !== u && (x=c.I.max(x,u))):x=c.I.max(x,c.I.Ca(this.M.Mk(!0) - w.jAb));this.M.events.on("urlsUpdated",function(){var E;null === (E=y.ss) || void 0 === E?void 0:E.zea(y.Lm);});this.start(x);e.l && this.ss && this.console.log(("starting retrieval at segment ").concat(this.Lm,", ") + ("startSegmentNumber: ").concat(this.stream.track.co,", ") + ("startContentTimestamp: ").concat(x.da(),", ") + "eventStartContentTimestamp: " + ("").concat(null === (A=this.M.Yc.bG) || void 0 === A?void 0:A.da(),", ") + "eventEndContentTimestamp: " + ("").concat(null === (C=this.M.Yc.Fma) || void 0 === C?void 0:C.da(),", ") + ("logicalLiveEdge: ").concat(this.M.Mk(!0),", ") + ("averageSegmentDuration: ").concat(this.stream.track.Hk.da()));}Object.defineProperties(q.prototype,{Lv:{get:function(){return this.bF;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fIc:{get:function(){return this.zHa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{complete:{get:function(){return this.iyb(this.Lv);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{track:{get:function(){var u;u=this.M.getTracks(h.v.pn)[0];(0,c.assert)((0,g.Xo)(u),"MediaEventsStore: track is not live");return u;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{stream:{get:function(){return this.track.Bd[0];},enumerable:!1,configurable:!0}});q.prototype.Akc=function(){var u;u=c.I.Ca(this.M.Mk(!0) - this.config.jAb);this.Lm=0;this.tq.clear();this.zHa=!1;this.bF=u;this.Tc(u);};q.prototype.uwb=function(u){var v;if(this.complete || this.Lv.greaterThan(u))return (e.l && this.console.trace("" + ("hasMediaEvents ").concat(u.da()," returns true")),!0);v=u.ea(c.I.Ca(this.config.Dwc));e.l && this.console.trace(("hasMediaEvents ").concat(u.da()," returns false,") + (" cutoff (").concat(this.Lv.da(),")") + (" catchup (").concat(v.da(),")"));this.Lv.lessThan(v) && (e.l && this.console.trace(("catchup to ").concat(v.da())),this.Tc(v));return !1;};q.prototype.mLb=function(u){!this.complete && this.Lv.Km(u) && (u=u.add(this.track.Hk),e.l && this.console.trace(("skip to ").concat(u.da())),this.Tc(u));};q.prototype.WDb=function(u,v){var y;e.l && this.console.trace(("POI changed from ").concat(u.da()," to ").concat(v.da()));for(var w=!1,x=0;x < this.model.rb.length;x++){y=this.model.rb[x];if(y.Pa.G === u.G){e.l && this.console.trace(("Updating adBreak ").concat(x,", id:").concat(y.id," location: ").concat(y.Pa.da()) + (" to location ").concat(v.da()," ") + ("from ").concat(y.Pa.da()," and duration from ").concat(y.duration.da()," ") + ("to ").concat(y.duration.add(y.Pa.ea(v)).da()));y.duration=y.duration.add(y.Pa.ea(v));y.Pa=v;w=!0;break;}if(y.Pa.add(y.duration).G === u.G){e.l && this.console.trace(("Updating adBreak ").concat(x,", id:").concat(y.id," location: ").concat(y.Pa.da()) + (" duration to ").concat(v.ea(y.Pa).da()," ") + ("from ").concat(y.duration.da()));y.duration=v.ea(y.Pa);w=!0;break;}}e.l && !w && this.console.warn(("POI changed from ").concat(u.da()," to ").concat(v.da()," but no adBreak found"));};q.prototype.start=function(u){u=Math.floor(u.gf(this.stream.track.Hk));this.Lm=u + this.stream.track.co;this.bF=this.stream.track.Hk.Qg(u);this.ss && ((0,c.assert)(!this.ss.Zi,"retrieval service should not be running at start"),this.ss.start(this.Lm));};q.prototype.Tc=function(u){var v,w,x;v=Math.floor(u.gf(this.stream.track.Hk));w=this.Lm;x=v + this.stream.track.co;x > w && (this.Lm=x,this.bF=this.stream.track.Hk.Qg(v));this.ss && ((e.l && this.console.trace("Restarting retrieval",{start:u.da(),e_:x}),this.ss.N9)?x > w && (this.tq.clear(),this.ss.Tc(this.Lm)):this.ss.start(this.Lm));this.process();};q.prototype.iyb=function(u){var v,w;if(this.model.Tba)return (e.l && this.console.trace("isEventsModelComplete ending due to programEnd"),!0);v=this.M.Yc.bMb;w=u.Xf(v);w && e.l && this.console.trace("isEventsModelComplete ending at time:",{Pa:u,bMb:v});return w;};q.prototype.process=function(){var u,v,w,x,y,z,B,A,C,D,E,H;C=new Set();D=[];null !== (w=this.Lm) && void 0 !== w?w:this.Lm=this.stream.track.co;w=!1;for(e.l && this.console.log("Starting process loop",{Ug:this.Lm,jkc:null === (x=this.tq.fs()) || void 0 === x?void 0:x.Ug,GEc:this.tq.length,epb:this.bF.toString()});0 < this.tq.length;)if((x=this.tq.fs(),(null === x || void 0 === x?void 0:x.Ug) === this.Lm)){x.events.length?e.l && this.console.log("Adding media events",{Ug:this.Lm,next:x}):e.l && this.console.debug("Empty media events",{Ug:this.Lm,next:x});try{for(var F=(u=void 0,d.__values(null === x || void 0 === x?void 0:x.events)),G=F.next();!G.done;G=F.next()){E=G.value;if(this.fL){H=this.fL.P;E.presentationTime=E.presentationTime.Vc(H);E.$F=E.$F?E.$F.Vc(H):void 0;}this.vIa(E) && (C.add(E.type),D.push(E.presentationTime));}}catch(J){u={error:J};}finally{try{G && !G.done && (v=F.return) && v.call(F);}finally{if(u)throw u.error;}}this.bF=c.I.max(this.Lv,x.xa);w=!0;this.Lm++;this.tq.pop();}else if((null !== (y=null === x || void 0 === x?void 0:x.Ug) && void 0 !== y?y:0) < this.Lm)(e.l && this.console.warn("Dropping old media event",{HAc:this.Lm,z4c:null === x || void 0 === x?void 0:x.Ug}),this.tq.pop(),null === (z=this.En) || void 0 === z?void 0:z.eCc(null !== (B=null === x || void 0 === x?void 0:x.Ug) && void 0 !== B?B:0));else {e.l && e.l && this.console.info("First item in queue is later... waiting",{HAc:this.Lm,Q4c:null === x || void 0 === x?void 0:x.Ug});break;}0 < C.size && this.events.emit("modelUpdated",{type:"modelUpdated",D1:C,FUa:D});w && (e.l && this.console.trace("" + ("progress to ").concat(this.bF.da())),this.events.emit("progress",{type:"progress",xa:this.bF}));e.l && this.console.log("Exiting process loop",{Ug:this.Lm,jkc:null === (A=this.tq.fs()) || void 0 === A?void 0:A.Ug,epb:this.bF.toString(),j8c:w,u9c:this.tq.hj().map(function(J){return J.Ug;})});};q.prototype.CGb=function(u){var v,w,x,y,z,B;v=this;w=[];if(this.fL){x=this.fL;y=x.Qn;z=x.P;if(y.length){B=new Set();y.forEach(function(A){var C,D,F,G,E;C=new c.I(A.timestamp,z);D=void 0 !== A.duration?new c.I(A.duration,z):void 0;if("netflix" === A.type){G=A.type;E=A.id;A=A.pj;u.Xf(C.add(D || c.I.ia))?F={type:G,id:E,presentationTime:C,$F:D,pj:A}:e.l && v.console.trace("skipping in-progress event id:",E);}else (G=A.type,F={type:G,presentationTime:C,$F:D,$n:A.$n,Xa:A.Xa});F && (v.vIa(F),w.push(F.presentationTime),B.add(F.type));});B.size && this.events.emit("modelUpdated",{type:"modelUpdated",D1:B,FUa:w});this.Mj.kg({store:this.model.sRc()});}}};q.prototype.vIa=function(u){var v,w;w=(0,p.bpa)(u)?this.A3b(u):this.N3b(u);this.Mj.kg({rb:this.model.rb.length,P3c:w,type:u.type});null === (v=this.En) || void 0 === v?void 0:v.MBc(u,w,u.presentationTime);return w;};q.prototype.A3b=function(u){var v,w,x,y;v=!1;w=u.Atc;x=("").concat(u.id,"-").concat(u.pj);y=this.DA.get(x);y || w?y && w?(w=u.presentationTime.ea(y.Pa),v=this.N_(u,y,w),u=d.__assign(d.__assign({},y),{duration:w,oD:u.oD,payload:u.payload}),e.l && this.console.trace("emitting netflixEventCancelled:",u),this.events.emit("netflixEventCancelled",u)):e.l && this.console.trace("Duplicate NetflixMediaEvent ignored:",{vNa:x,E4c:y,event:u}):(u={key:x,id:u.id,duration:u.$F || c.I.ia,Pa:u.presentationTime,pj:u.pj,oD:u.oD,payload:u.payload},this.DA.set(u.key,u),v=!0,e.l && this.console.trace("emitting netflixEventReceived:",u),this.events.emit("netflixEventReceived",u));v && (this.model.DA=Array.from(this.DA.values()));return v;};q.prototype.N3b=function(u){var v,w,x,y,z,B,A;y=!1;z=u.pLc;B=(null === z || void 0 === z?void 0:z.Wca) || u.$n;if(this.config.h1){A=null === (v=this.M.getTracks(h.v.U)[0].Fa) || void 0 === v?void 0:v.Qg(this.config.h1);A && (this.console.log(("Adjusting event timestamp ").concat(u.presentationTime.da()," by ").concat(A.da())),u.presentationTime=u.presentationTime.add(A));}v=u.presentationTime.aa;this.console.debug("Processing event",{id:v,Dvc:this.Lv,event:u});if(void 0 !== this.model.xD || "programstart" === u.type)switch(u.type){case "breakstart":case "adbreak":if(u.presentationTime.lessThan(this.Lv))break;if((w=this.rb.get(v)) && w.Pa.equal(u.presentationTime) && w.duration.equal(u.$F || c.I.ia) && w.$n === B)break;this.ujb(v,u,z);y=!0;break;case "cancel":w=this.model.rb.filter(function(C){return C.nJb === (null === z || void 0 === z?void 0:z.id) && C.$n === B;}).sort(function(C,D){return C.Pa.vm(D.Pa);});if(0 === w.length)break;w=w[w.length - 1];if(w.Pa.add(w.duration).lessThan(u.presentationTime))break;y=this.N_(u,w,u.presentationTime.ea(w.Pa));break;case "breakend":w=this.model.rb.filter(function(C){var D;D=new c.qV(C.Pa,C.Pa.add(C.duration));return C.nJb === (null === z || void 0 === z?void 0:z.id) && D.VW(u.presentationTime);}).sort(function(C,D){return C.Pa.vm(D.Pa);});if(0 === w.length)break;w=w[w.length - 1];if(w.Pa.add(w.duration).lessThan(u.presentationTime))break;y=this.ewb(w,u);break;case "programend":null !== (w=this.model.Tba) && void 0 !== w && w.Pa.equal(u.presentationTime) || (this.console.debug("Setting program end",u.presentationTime),this.model.Tba={Pa:u.presentationTime},y=!0);break;case "programstart":null !== (x=this.model.xD) && void 0 !== x && x.Pa.equal(u.presentationTime) || (this.console.debug("Setting program start",u.presentationTime),this.model.xD={Pa:u.presentationTime},y=!0);}y && (this.model.rb=Array.from(this.rb.values()));return y;};q.prototype.ujb=function(u,v,w){var x;(0,c.assert)(this.model.xD,"Program start not set");x=(null === w || void 0 === w?void 0:w.Wca) || v.$n;this.rb.set(u,{id:u,duration:v.$F || c.I.ia,Pa:v.presentationTime,location:v.presentationTime.ea(this.model.xD.Pa),$n:x,Xa:v.Xa,nJb:null === w || void 0 === w?void 0:w.id});e.l && this.console.debug("Upserting event",{id:u,Ra:this.rb.get(u)});};q.prototype.N_=function(u,v,w){var x;x=!1;w.equal(c.I.ia)?(this.console.debug("Deleting event",v.id),this.Mj.kg({deleting:!0}),(0,p.bpa)(u)?this.DA.delete(v.key):this.rb.delete(v.id),x=!0):w.i_(v.duration) && (this.console.debug("Updating event",{id:v.id,qAc:w}),this.Mj.kg({adjusting:w}),(0,p.bpa)(u)?this.DA.set(v.key,d.__assign(d.__assign({},v),{duration:w})):this.rb.set(v.id,d.__assign(d.__assign({},v),{duration:w})),x=!0);return x;};q.prototype.ewb=function(u,v){var w;w=!1;v=v.presentationTime.ea(u.Pa);v.equal(c.I.ia)?this.console.error("Unexpected zero-length adBreak after breakend media event (early terminated adbreak)",u.Xa):v.i_(u.duration) && (this.console.debug("Updating event",{id:u.id,qAc:v}),this.Mj.kg({adjusting:v}),this.rb.set(u.id,d.__assign(d.__assign({},u),{duration:v})),w=!0);return w;};q.prototype.FCb=function(u,v){var w,x,y;if(this.fL && this.config.pgc){w=this.fL;x=w.Qn;y=w.P;if(x.length)return x.some(function(z){var B,A;B=new c.I(z.timestamp,y);A=void 0 !== z.duration?new c.I(z.duration,y):void 0;A=B.add(A || c.I.ia);return "netflix" === z.type && B.lessThan(u) && A.greaterThan(v);});}return !1;};q.prototype.Ka=function(){var u;null === (u=this.ss) || void 0 === u?void 0:u.Ka();};q.prototype.disable=function(){var u;this.Ka();u=c.I.Ca(72E6);this.mLb(u);};d.__decorate([(0,k.fb)({methodName:"processMediaEventsHistory",Oe:!0})],q.prototype,"CGb",null);d.__decorate([(0,k.fb)({methodName:"addEvent",Oe:!0})],q.prototype,"vIa",null);d.__decorate([(0,k.fb)({methodName:"addAdBreak",mm:!0})],q.prototype,"ujb",null);d.__decorate([(0,k.fb)({methodName:"performCancel",Oe:!0,mm:!0})],q.prototype,"N_",null);d.__decorate([(0,k.fb)({methodName:"handleBreakEnd",Oe:!0,mm:!0})],q.prototype,"ewb",null);d.__decorate([(0,k.fb)({methodName:"needsMediaEventsFromHistory"})],q.prototype,"FCb",null);d.__decorate([(0,k.fb)({methodName:"destruct"})],q.prototype,"Ka",null);d.__decorate([(0,k.fb)({methodName:"disable"})],q.prototype,"disable",null);return q;})();b.J$a=t;},28057:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.H$a=void 0;d=a(91967);t=(function(){function n(c){this.En=c;this.bc=this.Hl=n.bc;}Object.defineProperties(n.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});n.prototype.ph=function(c){c=c.Vr;if(c === d.Nd.rp || c === d.Nd.HG || c === d.Nd.nv)return this.En.jpc();};n.bc="media-events";return n;})();b.H$a=t;},12381:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperties(b,{__esModule:{value:!0}});b.C$a=b.MTb=void 0;d=a(22970);n=a(91176);c=a(35536);h=a(94258);f=a(89025);e=[50,100,150,200,250,300,500,1E3,2E3,1E4];g=(function(){function k(l){this.size=l;this.pz=[];}k.prototype.push=function(l){for(this.pz.push(l);this.pz.length >= this.size;)this.pz.shift();};k.prototype.hj=function(){return this.pz;};return k;})();b.MTb=g;t=(function(){function k(){this.state={Zib:new n.Lg(),ajb:0,krb:new n.Lg(),fRa:{},Swb:new h.LE(e),lJb:new n.Lg(),aZa:{},kUa:{},uMb:new n.Lg(),eOb:0,zea:0,wJb:0,BJb:new g(10),wzb:new g(10)};}k.prototype.pCc=function(l){this.state.uMb.push(l);};k.prototype.oCc=function(l){this.state.krb.push(l);};k.prototype.nCc=function(l){this.state.Zib.push(l);};k.prototype.xRc=function(l){d.__awaiter(this,void 0,void 0,function(){var m,p,r,q,u;return d.__generator(this,function(v){switch(v.label){case 0:(m=new c.BI(),m.start(),v.label=1);case 1:return (v.tc.push([1,3,,4]),[4,l]);case 2:return (p=v.T(),m.stop(),this.state.Swb.push(m.duration),[3,4]);case 3:return (r=v.T(),(0,n.Zoa)(r)?this.state.ajb++:this.state.eOb++,[2]);case 4:return (p.ok || (q=null !== (u=this.state.fRa[p.status]) && void 0 !== u?u:0,this.state.fRa[p.status]=q + 1),[2]);}});});};k.prototype.VCc=function(){this.state.zea++;};k.prototype.eCc=function(l){this.state.wJb++;this.state.BJb.push(l);};k.prototype.MBc=function(l,m,p){var r,q;if((0,f.bpa)(l)){q=null !== (r=this.state.kUa[l.pj]) && void 0 !== r?r:0;this.state.kUa[l.pj]=q + 1;}else (r=null !== (q=this.state.aZa[l.type]) && void 0 !== q?q:0,this.state.aZa[l.type]=r + 1);m && this.state.wzb.push({eventType:l.type,presentationTimeS:p.Ji});};k.prototype.qCc=function(l){this.state.lJb.push(l);};k.prototype.jpc=function(){return {httpLatencyBuckets:this.state.Swb,unhandledExceptions:this.state.eOb,abortsCount:this.state.ajb,httpErrorCounts:this.state.fRa,successAttemptsCounts:this.state.uMb,scheduledDelay:this.state.lJb,errorAttemptsCounts:this.state.krb,abortAttemptsCounts:this.state.Zib,scteEventsReceivedCounts:this.state.aZa,mediaEventsReceivedCounts:this.state.kUa,urlsChanged:this.state.zea,segmentDroppedEvents:this.state.wJb,segmentsDropped:this.state.BJb.hj(),lastEventsAdded:this.state.wzb.hj()};};return k;})();b.C$a=t;},45173:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.D$a=void 0;d=a(22970);a(97685);n=a(65161);c=a(61996);h=a(44053);t=(function(f){function e(g,k,l,m,p){var r;r=f.call(this,g,k,m,p) || this;r.requestId=-1;r.Dqa=new h.I$a(k,l,r.console,fetch,p);r.Dqa.events.on("eosReceived",function(q){r.events.emit("eosReceived",q);});r.Dqa.events.on("errorReceived",function(q){!1;0 !== q.Jrb.status && r.JIb(q.Jrb);});r.rjc=r.Dqa.Tmc();return r;}d.__extends(e,f);e.prototype.JIb=function(g){var k;(g=g.headers.get("X-TCP-Info"))?(g=null === (k=this.M.xZ) || void 0 === k?void 0:k.decode(n.v.pn,g,!1)) && (void 0 === g.kh || isNaN(g.kh) || this.M.Wva(g.kh,this.Dqa.yvc || 0)):!1;};e.prototype.rrb=function(g,k){return d.__awaiter(this,void 0,void 0,function(){var l,m,p,r,q,u;return d.__generator(this,function(v){switch(v.label){case 0:l=this.stream;m=this.M.Hi;p=m.Yva(this.track.M.J,this.track.Bd,this.track.Jna(k.qa));this.TK=this.stream.zb;if(!p)throw Error("Unable to perform location selection");r=l.LY(k.Xe,k.Ug);++this.requestId;return [4,this.rjc(k)(r,{signal:g})];case 1:q=v.T();this.JIb(q);if(!q.ok)throw Error(("Failed to fetch media events: ").concat(q.status));return [4,q.arrayBuffer()];case 2:return (u=v.T(),[2,u]);}});});};e.prototype.zea=function(g){var k;null === (k=this.En) || void 0 === k?void 0:k.VCc();k=this.stream.track.vv(g).qa;this.M.Hi.Yva(this.track.M.J,this.track.Bd,this.track.Jna(k));this.stream.zb !== this.TK && (this.SHa.kg({url:this.stream.zb,out:this.sL,segmentIndex:this.Ug}),this.Tc(g));};d.__decorate([(0,c.fb)({methodName:"urlsChanged",Oe:!0})],e.prototype,"zea",null);return e;})(a(85981).E$a);b.D$a=t;},85981:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.E$a=void 0;d=a(22970);n=a(90745);c=a(91176);h=a(91562);f=a(66164);e=a(91176);g=a(91562);k=a(40666);l=a(8149);m=a(61996);p=a(54366);t=(function(){function r(q,u,v,w){this.WT=q;this.M=u;this.KQc=v;this.En=w;this.events=new n.EventEmitter();this.Ug=0;this.xa=c.I.ia;this.Qr=!1;this.console=new f.platform.Console("MEDIAEVENTS_FETCHER","asejs",("[").concat(this.M.R,"]"));this.uD=new e.AbortController();this.lB=new c.yza(this.console,{Ig:10,rJa:!0});this.SHa=new m.un({Fj:this,source:"media-events-provider",Ig:10,console:this.console});this.M.Ye.Xc(new p.so(this.SHa));}Object.defineProperties(r.prototype,{Zi:{get:function(){var q;return !(null === (q=this.cY) || void 0 === q || !q.On);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{N9:{get:function(){return void 0 !== this.cY;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{track:{get:function(){var q;q=this.M.getTracks(h.v.pn)[0];(0,c.assert)((0,l.Xo)(q),"MediaEventsFetchProviderBase: track is not live");return q;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{stream:{get:function(){return this.track.Bd[0];},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{sL:{get:function(){return this.lB.AD;},enumerable:!1,configurable:!0}});r.prototype.soa=function(){return !this.Qr && !this.KQc(this.xa);};r.prototype.pjc=function(){var q,u,v,w,x,y,z,B;return d.__generator(this,function(A){switch(A.label){case 0:((0,c.assert)((0,l.hk)(this.stream),"MediaEventsFetchProviderBase: stream is not live"),this.console.log("Fetch task: starting",{Z5c:this.soa(),i9c:this.sL}),void 0 === this.Iwb && (this.console.log("Fetch task: queuing header request"),this.Iwb=this.Mjb(!0).item),q=20,A.label=1);case 1:if(!(this.soa() && this.sL < q))return [3,3];u=this.stream.track.vv(this.Ug);v=u.xa;w=u.qa;x=this.M.Mk(!0);y=Math.max(0,v.G - x);this.console.log("Fetch task: waitRelative",{vbd:y,xa:v,KTa:x,sL:this.sL});return [4,k.Vd.Cy(c.I.Ca(y))];case 2:return (A.T(),z=v.G - x,null === (B=this.En) || void 0 === B?void 0:B.qCc(z),this.Mjb(!1,this.Ug,w,v),this.xa=v,this.Ug++,[3,1]);case 3:return (this.soa() || this.console.log("Fetch task: complete"),this.console.log("Fetch task: exiting"),[2]);}});};r.prototype.Mjb=function(q,u,v,w){var x,y,z;x=this;this.console.log("Fetch task: addRequestToQueue",{header:q,Ug:u,qa:v,xa:w});(0,c.assert)(q || void 0 !== u && void 0 !== w && void 0 !== v,"segmentIndex must be defined if not a header request");y=new c.jia();y.X_a(this.uD.signal);z=y.Dh.signal;return this.lB.add({bJ:z,Rxb:function(){return d.__awaiter(x,void 0,void 0,function(){var B,A;return d.__generator(this,function(C){switch(C.label){case 0:return (C.tc.push([0,,5,6]),q?[4,this.NAb(z)]:[3,2]);case 1:return [2,C.T()];case 2:return [4,this.PAb(z,u,v,w)];case 3:return [2,C.T()];case 4:return [3,6];case 5:return (y.Ka(),(!(null === (B=this.cY) || void 0 === B?0:B.On) && this.soa() && !this.Qr || q) && (null === (A=this.cY) || void 0 === A?void 0:A.Tc()),[7]);case 6:return [2];}});});},DVa:function(){y.Ka();},priority:u || 0});};r.prototype.NAb=function(q){return d.__awaiter(this,void 0,void 0,function(){var u,v,w,x;return d.__generator(this,function(y){switch(y.label){case 0:return (this.console.log("Making header request"),[4,this.rrb(q,{Ug:void 0,Xe:!0,stream:this.stream,qa:c.I.ia,xa:c.I.ia})]);case 1:u=y.T();v=new h.Yl(this.console,{},u,["moov"],!1,{aad:!0});w=v.parse();if(!w.IA)throw Error(w.parseError);x=h.Yl.path(v,["moov","trak","mdia","mdhd"]);(0,c.assert)(void 0 !== x,"mdhd should be defined");this.P=x.P;return [2];}});});};r.prototype.PAb=function(q,u,v,w){return d.__awaiter(this,void 0,void 0,function(){var x,y,z,B,A,C;return d.__generator(this,function(D){switch(D.label){case 0:(x=this.M.Yc.bG || c.I.qh,v.ea(x),this.SHa.kg({si:u,cst:v.da(),cet:w.da()}),D.label=1);case 1:return (D.tc.push([1,3,,4]),[4,this.rrb(q,{Xe:!1,xa:w,qa:v,stream:this.stream,Ug:u})]);case 2:return (y=D.T(),[3,4]);case 3:return (z=D.T(),(0,c.Zoa)(z) || this.events.emit("mediaEventsReceived",{type:"mediaEventsReceived",events:[],xa:w,Ug:u,Q6c:!0}),[2]);case 4:return void 0 !== this.P?[3,6]:[4,this.Iwb];case 5:(D.T(),D.label=6);case 6:(0,c.assert)(void 0 !== this.P,"timescale should be defined once header request resolves");B=new h.e4(this.console,{},y);A={events:[]};C=B.parse(A);this.console.debug("Parsed media events: ",C.done);if(C.error)throw Error(C.error);this.console.debug("Received media events",{events:A.events,vl:w});this.events.emit("mediaEventsReceived",{type:"mediaEventsReceived",events:this.Xxc(A.events),xa:w,Ug:u});return [2,A.events];}});});};r.prototype.Xxc=function(q){var u;u=this;return (null === q || void 0 === q?void 0:q.reduce(function(v,w){(w=u.eEc(w)) && v.push(w);return v;},[])) || [];};r.prototype.eEc=function(q){var u,v,w,x;if(q.VG){u=new c.I(q.gH,this.P).ea(this.track.Jl);v=void 0 !== q.VX?new c.I(q.VX,this.P):void 0;if(q.WL === g.XU.WL){w=new g.XU(new DataView(q.VG.buffer,q.VG.byteOffset,q.VG.byteLength),f.platform.JJ,this.console);if(w=w.parse()){x=w.header;return {type:"netflix",presentationTime:u,$F:v,id:x.L1c,pj:q.value,Atc:x.cancel || !1,oD:x.v8c || "application/json",payload:w.body};}}else if(q.WL === g.lV.WL && (w=new g.lV(new DataView(q.VG.buffer,q.VG.byteOffset,q.VG.byteLength),this.console),q=w.parse()))return (w=q.event,x=12 === q.Xca && q.F0 && 4 < q.F0.byteLength && (x=f.platform.JJ(new Uint8Array(q.F0)),"NFLX" === x.slice(0,4))?x.slice(4):void 0,{type:w,presentationTime:u,$F:v,pLc:q,Xa:x});}};r.prototype.start=function(q){var u;u=this;(0,c.assert)(!this.Zi,"MediaEventsFetchProviderBase: start called while running");this.Qr?this.console.warn("MediaEventsFetchProviderBase: start called after destruct"):(this.Ug=Math.max(q,this.stream.track.co),this.cY=this.WT.Br(function(){return u.pjc();},"media-events-fetcher"));};r.prototype.Tc=function(q){this.Qr?this.console.warn("MediaEventsFetchProviderBase: restart called after destruct"):(this.Ka(),this.Qr=!1,this.uD=new e.AbortController(),this.start(q));};r.prototype.Ka=function(){var q;this.Qr=!0;null === (q=this.cY) || void 0 === q?void 0:q.Ka();this.cY=void 0;this.uD.abort();this.lB.clear();this.xa=c.I.ia;};d.__decorate([(0,m.fb)({methodName:"makeHeaderRequest",Oe:!0})],r.prototype,"NAb",null);d.__decorate([(0,m.fb)({methodName:"makeMediaSegmentRequest",Oe:!0})],r.prototype,"PAb",null);d.__decorate([(0,m.fb)({methodName:"start",Oe:!0})],r.prototype,"start",null);d.__decorate([(0,m.fb)({methodName:"restart",Oe:!0})],r.prototype,"Tc",null);d.__decorate([(0,m.fb)({methodName:"destruct",Oe:!0})],r.prototype,"Ka",null);return r;})();b.E$a=t;},89025:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bpa=function(a){return "netflix" === a.type;};},81621:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Xrb=void 0;d=a(22970);n=a(91176);b.Xrb=function(c,h){return function(f,e){return d.__awaiter(void 0,void 0,void 0,function(){var g,k,l,m,p;return d.__generator(this,function(r){switch(r.label){case 0:if(0 >= h)return [2,c(f,e)];k=(g=f instanceof Request)?f.signal:null === e || void 0 === e?void 0:e.signal;l=new n.jia();k && l.X_a(k);m=setTimeout(function(){l.abort();},h);r.label=1;case 1:return (r.tc.push([1,,6,7]),p=void 0,g?[4,Promise.race([(0,n.aka)(l.signal,!0).then(function(){return Response.error();}),c(f,e)])]:[3,3]);case 2:return (p=r.T(),[3,5]);case 3:return [4,c(f,d.__assign(d.__assign({},e),{signal:l.signal}))];case 4:(p=r.T(),r.label=5);case 5:return [2,p];case 6:return (clearTimeout(m),[7]);case 7:return [2];}});});};};},58487:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.y9a=void 0;d=a(91176);n=a(66164);c=a(71077);t=(function(){function h(f,e){this.Owc=f;this.ira=e;}h.prototype.LK=function(f,e){var g,k;k=this.xub(f);f=e(f);switch(k){case c.vu.DEa:return {PL:!1,xs:!1};case c.vu.z4:return {PL:!1,xs:!1,Ltc:!0};case c.vu.Gha:case c.vu.fV:return {PL:!1,xs:null !== (g=f.xs) && void 0 !== g?g:!0};default:return f;}};h.prototype.xub=function(f){var e;e=f.Um;return this.Owc.Zx({xa:e.xa,qa:e.qa,status:f.response.status},d.I.qh,!1);};h.prototype.GW=function(f,e){var g,k;e=e(f);g=this.xub(f);if(g === c.vu.fV || g === c.vu.Gha){g=f.response;k=f.tvc;if(404 === g.status || 500 <= g.status)(g=k?n.platform.time.ha() - k:0,e.L7=Math.max(0,this.ira - g));}g=f.Um.xa;f=f.Um.stream.M.Mk(!0);g.G > f && (e.L7=Math.max(e.L7,g.G - f));return e;};return h;})();b.y9a=t;},78203:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.z$a=void 0;t=(function(){function a(d){this.JZ=d;}a.prototype.LK=function(d,n){var c;c=d.attempt < this.JZ;return c?n(d):{xs:c};};return a;})();b.z$a=t;},44053:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.I$a=void 0;d=a(22970);n=a(91176);c=a(66164);h=a(90745);f=a(71077);e=a(53914);g=a(87887);k=a(58487);l=a(79122);m=a(63206);p=a(81621);r=a(78203);t=(function(){function q(u,v,w,x,y){this.M=u;this.console=w;this.Urb=x;this.En=y;this.events=new h.EventEmitter();this.tHa=[];u=new f.RAa(u,v);this.tHa=[new k.y9a(u,v.ira),new m.yfb(),new g.Cfb(),new r.z$a(v.Vyc),new e.G$a()];this.Urb=(0,p.Xrb)(x,v.Gec);}Object.defineProperties(q.prototype,{yvc:{get:function(){return this.K0b;},enumerable:!1,configurable:!0}});q.prototype.Tmc=function(){var u;u=this;return function(v){return function(w,x){return u.JLb(w,x,v,0);};};};q.prototype.JLb=function(u){return d.__awaiter(this,arguments,void 0,function(v,w,x,y){var z,B,A,C,D,F,G,E,H,J,L,K,M,P,I,O,Q,S,U;void 0 === w && (w={});return d.__generator(this,function(W){switch(W.label){case 0:(z=x.qa,B=x.xa,A=new n.jia(),w.signal && A.X_a(w.signal),(0,n.VMb)(A.signal),C=new Request(v,d.__assign(d.__assign({},w),{signal:A.signal})),F=c.platform.time.ha(),W.label=1);case 1:return (W.tc.push([1,3,,4]),!1,G=this.Urb(C),this.K0b=c.platform.time.ha() - F,null === (O=this.En) || void 0 === O?void 0:O.xRc(G),[4,G]);case 2:return (D=W.T(),D.ok?(null === (Q=this.En) || void 0 === Q?void 0:Q.pCc(y),[2,D]):[3,4]);case 3:E=W.T();!1;if((0,n.Zoa)(E) && (!1,null === (S=this.En) || void 0 === S?void 0:S.nCc(y),A.signal.aborted))throw E;D=Response.error(C.url,{headers:new Headers(),status:0,statusText:"Unhandled error in fetch"});return [3,4];case 4:H={request:C,attempt:y,response:D,Um:x,tvc:F};this.events.emit("errorReceived",{Jrb:D,attempt:y});J=this.LK(H);L=J.xs;K=J.PL;M=J.Ltc;!1;K && this.PL(H);M && this.events.emit("eosReceived",{qa:z,xa:B});if(!L)return [3,7];P=this.GW(H);if(!(0 < P))return [3,6];I=(0,n.aka)(A.signal,!0);!1;return [4,Promise.race([I,new Promise(function(Y){return setTimeout(Y,P);})])];case 5:(W.T(),W.label=6);case 6:return [2,this.JLb(v,w,x,y + 1)];case 7:return (!1,null === (U=this.En) || void 0 === U?void 0:U.oCc(y),[2,D]);}});});};q.prototype.PL=function(u){u=new l.V$a(u);this.M.Zx(u);};q.prototype.GW=function(u){var v;v=this.tHa.filter(function(w){return w.GW;}).map(function(w){return w.GW.bind(w);});return n.oE.EK(u,v).L7;};q.prototype.LK=function(u){var v;v=this.tHa.filter(function(w){return w.LK;}).map(function(w){return w.LK.bind(w);});return n.oE.EK(u,v);};return q;})();b.I$a=t;},79122:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.V$a=void 0;d=a(66164);n=a(26388);c=a(24940);t=(function(){function h(f){this.context=f;this.p0=c.Cha.He;}Object.defineProperties(h.prototype,{response:{get:function(){return this.context.response;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dh:{get:function(){var f;f=this.response.status;return 0 === f || 900 === f?d.platform.Xl.rE.Sza:500 <= f && 600 > f?d.platform.Xl.rE.A3:400 <= f && 500 > f?d.platform.Xl.rE.hga:d.platform.Xl.rE.mh;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xC:{get:function(){return this.response.statusText;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{status:{get:function(){return this.response.status;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Rg:{get:function(){return this.status;},enumerable:!1,configurable:!0}});h.prototype.ii=function(){return ("ME:").concat(this.context.attempt,"::").concat(this.context.Um.Ug);};Object.defineProperties(h.prototype,{url:{get:function(){return this.context.request.url;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{oi:{get:function(){return this.context.Um.Ug;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{stream:{get:function(){return this.context.Um.stream;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mediaType:{get:function(){return n.v.pn;},enumerable:!1,configurable:!0}});return h;})();b.V$a=t;},53914:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.G$a=void 0;t=(function(){function a(){}a.prototype.GW=function(){return {L7:0};};a.prototype.LK=function(){return {PL:!0};};return a;})();b.G$a=t;},63206:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yfb=void 0;t=(function(){function a(){}a.prototype.LK=function(d,n){var c;n=n(d);this.spa(d) && (n.xs=null !== (c=n.xs) && void 0 !== c?c:!0);return n;};a.prototype.GW=function(d,n){n=n(d);this.spa(d) && (n.L7=0);return n;};a.prototype.spa=function(d){d=d.response;if(!d.ok && (0 === d.status || 900 === d.status))return !0;};return a;})();b.yfb=t;},87887:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Cfb=void 0;d=a(91176);t=(function(){function n(){this.zKc=[400,404,408,409,410];}n.prototype.LK=function(c,h){var f;h=h(c);if(void 0 === h.xs){f=c.response;f.ok || (600 > f.status && 500 <= f.status && (h.xs=!0),(0,d.ic)(this.zKc,function(e){return e === f.status;}) && (h.xs=!0));}return h;};return n;})();b.Cfb=t;},93747:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.X$a=void 0;d=a(22970);n=a(48170);c=a(62629);h=a(65161);f=a(61996);t=(function(){function e(g,k,l){this.bPa=g;this.fnc=k;this.console=l;this.Ze=new f.un({Fj:this,console:l,source:"MemoryDeadlockProtector",Ig:5});}e.prototype.Pkc=function(g){var k,l,m,p;m=g.config;p=m.fp + (null !== (l=null === (k=m.eB) || void 0 === k?void 0:k.G) && void 0 !== l?l:0);k=this.orc(p,g);n.l && this.console.debug(("MDP: has prebuf: ").concat(k));return k?{Vla:!0}:(l=this.c8b(m),k=l.uDc,l=l.CTc,k && l?(n.l && this.console.debug(("MDP: utilizing ").concat(Math.round(100 * l),"%")),l >= m.bzc?this.uIb(g,k):{Vla:!0}):{Vla:!1});};e.prototype.uIb=function(g,k){var l,m,p,r,q,v,y,z;this.Ze.kg({o:k});r=g.player;g=g.Ya;q=r.Ya;r=r.Jm;for(var u=0;u < q.length;u++)if(!q[u].Wj){r=q[u];q=q.slice(0,u + 1);break;}u=!1;v=[{mediaType:h.v.X,BF:0},{mediaType:h.v.U,BF:0},{mediaType:h.v.Ba,BF:0}];if(null === r || void 0 === r || !r.Wj){g=g.map(function(A){return A;}).filter(function(A){return -1 === q.indexOf(A);}).sort(function(A,C){return (0,c.bmb)(A) - (0,c.bmb)(C);});try{for(var w=d.__values(g),x=w.next();!x.done;x=w.next()){y=x.value;z=y.gQ();v[h.v.X].BF+=null !== (m=z.dJ) && void 0 !== m?m:0;v[h.v.U].BF+=null !== (p=z.HM) && void 0 !== p?p:0;n.l && this.console.debug(("Resetting discontiguous branch ").concat(y.K.id),z);y.reset();if(u=v.every(function(A){return A.BF >= k[A.mediaType].BF;}))break;}}catch(A){var B;B={error:A};}finally{try{x && !x.done && (l=w.return) && l.call(w);}finally{if(B)throw B.error;}}}return {Vla:u,c5c:v};};e.prototype.c8b=function(g){var k,l,m,p,r;k=[h.v.X,h.v.U,h.v.Ba];if(!g.czc)return {};l=this.fnc();m=this.bPa().total;p=g.azc;r=0;g=k.map(function(q){var u;u=l[q] - m[q] * p;r=Math.max(0 < m[q]?l[q] / m[q]:0,r);return {BF:Math.max(0,u),mediaType:q};});return {CTc:r,uDc:g};};e.prototype.orc=function(g,k){var l,m,p;l=this;m=!1;k=k.Ro?k.player:void 0;if(null === k || void 0 === k?0:k.Qsc){m=k.SA.px().map(function(r){return r.mediaType;});p=k.omc();m=m.every(function(r){var q,u;if(r === h.v.X)r=null !== (q=p.CO) && void 0 !== q?q:0;else if(r === h.v.U)r=null !== (u=p.PT) && void 0 !== u?u:0;else return (n.l && l.console.trace("hasEnoughBuffer ignoring mediaType:",r),!0);return r >= g;});}return m;};d.__decorate([(0,f.fb)({methodName:"resetDiscontiguousBranches",return:!0,Oe:!0})],e.prototype,"uIb",null);return e;})();b.X$a=t;},88874:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Ccb=void 0;d=a(22970);n=a(91176);c=a(69575);h=a(52571);f=a(61520);t=(function(){function e(){this.Ya=new c.jab();this.Mq=new f.bia();}Object.defineProperties(e.prototype,{empty:{get:function(){return this.Ya.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{size:{get:function(){return this.Ya.size;},enumerable:!1,configurable:!0}});e.prototype.reset=function(){var g;g=this.Ya.values();this.Ya.clear();this.Mq.clear();g.forEach(function(k){return k.mg();});};e.prototype.hq=function(g,k){g=this.Ya.get(g);return k?null === g || void 0 === g?void 0:g.filter(function(l){return l.K.eb === k;}):g;};e.prototype.has=function(g){return this.Ya.has(g);};e.prototype.root=function(){return this.Mq.root;};e.prototype.contains=function(g){var k;k=g.K.id;if(this.has(k))return -1 !== this.hq(k).indexOf(g);};e.prototype.aK=function(g){this.Mq.aK(g);};e.prototype.Sna=function(g){return this.Mq.parent(g);};e.prototype.emc=function(g){return this.Mq.children(g);};e.prototype.moa=function(g){return this.Mq.moa(g);};e.prototype.cJc=function(g){var k;if(this.Ya.delete(g.K.id,g)){k=this.Mq.children(g);this.Mq.root === g?0 === k.length?this.Mq.clear():((0,h.assert)(1 === k.length,"cannot remove the root branch with multiple successors"),this.Mq.sJc(k[0])):((0,h.assert)(0 === k.length,"cannot remove non-root branch with successors"),this.Mq.remove(g));}};e.prototype.forEach=function(g){var k;k=this;this.Ya.forEach(function(l,m){return g(l,m,k);});};e.prototype.reduce=function(g,k){var l;l=this;return this.Ya.reduce(function(m,p,r){return g(m,p,r,l);},k);};e.prototype.map=function(g){var k;k=this;return this.Ya.map(function(l,m){return g(l,m,k);});};e.prototype.filter=function(g){var k;k=this;return this.Ya.filter(function(l,m){return g(l,m,k);});};e.prototype.mqc=function(){var g;g={};this.forEach(function(k,l){(k=k.wy) && (g[l] || (g[l]=[])).push(k.G);});return g;};e.prototype.wSc=function(g,k){var l,m,p;l=this;g=this.$cc(g,k);m=g.Wpb(this.Mq);k=m.eW;p=m.fy;m=m.iYa;this.Mq.clear();this.Mq=g;k.forEach(function(r){return l.Ya.set(r.K.id,r);});k.forEach(function(r){return r.Sb();});p.forEach(function(r){return l.Ya.delete(r.K.id,r);});m.forEach(function(r){r.Wra();});return {fy:p,iYa:m};};e.prototype[Symbol.iterator]=function(){return d.__generator(this,function(g){switch(g.label){case 0:return [5,d.__values(this.Ya)];case 1:return (g.T(),[2]);}});};e.prototype.$cc=function(g,k){var l,m,p;l=this;m=new Map();p=new f.bia();g.aK(function(r,q){var u,v;if(q){u=m.get(q);if(!u)return !0;}v=(0,n.ic)(l.hq(r.K.id,r.K.eb),function(w){return l.Mq.parent(w) === u || !q;}) || k(r.K.id,u);v.Tg=r.Tg;m.set(r,v);p.add(v,u);v.update(r.K);return !0;});return p;};return e;})();b.Ccb=t;},70494:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Dcb=void 0;t=(function(){function a(d){this.console=d;this.AKa();}a.prototype.get=function(d){return this.rX[d] || this.fi[d];};a.prototype.set=function(d,n){void 0 === this.fi[d] && (this.fi[d]=n);};a.prototype.uMc=function(d,n){void 0 === this.get(d) && (this.rX[d]=n);};a.prototype.clear=function(d){this.rX[d]=void 0;this.fi[d]=void 0;};a.prototype.R9b=function(d){var n;this.fi=(n={},n[d]=this.fi[d],n);this.rX={};};a.prototype.AKa=function(){this.fi={};this.rX={};};a.prototype.toJSON=function(){return {fi:this.fi,rX:this.rX};};return a;})();b.Dcb=t;},86451:function(t,b,a){var c,h;function d(f,e){var g,k;g=Object.keys(f);if(g.some(function(l){var m,p,r,q;return (null === (m=f[l]) || void 0 === m?void 0:m.Td) !== (null === (p=e[l]) || void 0 === p?void 0:p.Td) || (null === (r=f[l]) || void 0 === r?void 0:r.weight) !== (null === (q=e[l]) || void 0 === q?void 0:q.weight);}))return !0;k=Object.keys(e);return 0 !== c.__spreadArray(c.__spreadArray([],c.__read((0,h.Co)(g,k)),!1),c.__read((0,h.Co)(k,g)),!1).length?!0:!1;}function n(f,e){return f.some(function(g,k){return 0 !== (0,h.Co)(g,e[k] || []).length;}) || f.length !== e.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.d8b=function(f,e){var g,k,l,m,p,r;g=Object.keys(f.ba);k=Object.keys(e.ba);l=k.filter(function(q){return -1 === g.indexOf(q);});m=g.filter(function(q){return -1 === k.indexOf(q);});p=g.filter(function(q){var u;if(-1 === k.indexOf(q))u=!1;else (u=f.ba[q],q=e.ba[q],u=u.Dc !== q.Dc || u.ib !== q.ib || u.eb !== q.eb || u.Td !== q.Td || u.J !== q.J || n(u.Cl || [],q.Cl || []) || d(u.next || ({}),q.next || ({}))?!0:!1);return u;});r=(0,h.Co)(g,c.__spreadArray(c.__spreadArray(c.__spreadArray([],c.__read(p),!1),c.__read(l),!1),c.__read(m),!1));return {eW:l,fy:m,Xp:p,dSc:r};};c=a(22970);h=a(91176);},31509:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ecb=b.pI=void 0;d=a(22970);n=a(52571);(function(h){h[h.vB=0]="CREATED";h[h.FEa=1]="STARTED";h[h.KN=2]="REQUEST_ISSUED";h[h.sE=3]="EVALUATED";h[h.q5a=4]="DESTRUCTED";})(c || (b.pI=c={}));t=(function(){function h(f,e,g){this.UL=f;this.console=e;this.name=g;this.$a=c.vB;this.mM={};this.xda={};}Object.defineProperties(h.prototype,{state:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});h.prototype.start=function(){var f;f=this;this.$a !== c.FEa && (this.Jaa(c.FEa),[c.sE,c.KN].forEach(function(e){var g;g=new Promise(function(k){(0,n.assert)(f.xda && f.mM,"state promises should be defined");f.xda[e]=k;f.mM[e]=g;});}),this.UL(),this.Jaa(c.sE));};h.prototype.Jaa=function(f){this.$a=f;this.xda && (f=this.xda[f],null === f || void 0 === f?void 0:f());};h.prototype.Ka=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(f){switch(f.label){case 0:if(this.$a !== c.FEa)return [3,2];(0,n.assert)(this.mM,"state resolves should be defined");return [4,this.mM[c.sE]];case 1:(f.T(),f.label=2);case 2:return (this.xda=this.mM=void 0,this.$a=c.q5a,[2]);}});});};h.prototype.Rea=function(f,e){d.__awaiter(this,void 0,void 0,function(){var g;return d.__generator(this,function(k){switch(k.label){case 0:if(this.$a === c.q5a)return [2];if(this.$a === c.sE)return [3,6];(0,n.assert)(this.mM,"state promises should be defined");g=f;switch(g){case c.sE:return [3,1];case c.KN:return [3,3];}return [3,5];case 1:return [4,this.mM[c.sE]];case 2:return (k.T(),[3,6]);case 3:return [4,this.mM[c.KN]];case 4:return (k.T(),[3,6]);case 5:return [3,6];case 6:return (null === e || void 0 === e?void 0:e(),[2]);}});});};return h;})();b.Ecb=t;},46262:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Mcb=void 0;t=(function(){function a(d,n,c,h,f,e,g,k){var l,m;this.Z=d;this.Tk=n;this.groupId=c;this.hH=h;this.mS=f;this.Ut=e;this.Io=g;c=null !== (m=null === (l=this.Tk.sa.Qb) || void 0 === l?void 0:l.G) && void 0 !== m?m:n.sa.AG.G;this.gw=d.fi.get(n.L)?1:this.Tk.sa.K.gw;this.nS=k.offset.G;this.Z0=Math.max(this.fo - c,0);}Object.defineProperties(a.prototype,{identifier:{get:function(){return this.Tk.L;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mediaType:{get:function(){return this.Tk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Tg:{get:function(){return this.Tk.Tg;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ee:{get:function(){return this.Z.ee.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fo:{get:function(){return this.Tk.IH.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{gY:{get:function(){return this.Tk.fY.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Pg:{get:function(){return this.Tk.sa.Vb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ex:{get:function(){return this.Tk.Ex();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Vo:{get:function(){return this.Tk.Vo();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Pk:{get:function(){return this.Tk.Pk;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Nv:{get:function(){return this.Tk.Nv;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vz:{get:function(){return this.Tk.vz;},enumerable:!1,configurable:!0}});a.prototype.CF=function(d,n){var c;c=this.Tk.sa.CF(this.mediaType);return c.XR?this.Z.Vuc(this,d,n):c;};a.prototype.NK=function(){return this.Z.NK(this);};a.prototype.toJSON=function(){return {mediaType:this.mediaType,Yz:this.Yz,Tg:this.Tg,ee:this.ee,Ut:this.Ut,fo:this.fo,Io:this.Io,gY:this.gY,nS:this.nS,hH:this.hH,mS:this.mS,gw:this.gw,Pg:this.Pg,Z0:this.Z0,groupId:this.groupId,Ex:this.Ex,Vo:this.Vo,Pk:this.Pk,identifier:this.identifier,Z:"playgraph Object",Tk:this.Tk};};return a;})();b.Mcb=t;},25317:function(t,b,a){var n,c,h;function d(f,e,g,k,l){var m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M;v=f.console;w=f.oSc;x=f.fi;y=f.cKc;z=f.Jfc;B=f.xUa;A=f.EJa;f=f.PR;C=l || ({complete:!0,wy:0});D=C.root;F=C.complete;G=C.S2b;E=C.oIb;E=void 0 === E?0:E;C=C.wy;H=E < y.length && y[E].id === e.id;J=E < y.length?y[E].id:k && x.get(k.id);L=l && k && J !== e.id?void 0 !== J?{rg:0}:k.X7b(e.id):{rg:1};x=L.rg;L=L.tK;K=void 0 === L?0:L;L=(x + K) * (null !== (m=null === l || void 0 === l?void 0:l.iH) && void 0 !== m?m:1);h && v.trace(("reevaluateBranches: visiting ").concat(e.id,", ") + ("distance: ").concat(g,", ") + ("probability: ").concat(L,", ") + ("predecessor: ").concat(null === k || void 0 === k?void 0:k.id,", ") + ("decision: ").concat(J,", ") + ("predecessorComplete: ").concat(F,", ") + ("isOnRequiredPath: ").concat(H,", ") + ("requiredPathIndex: ").concat(E,", ") + ("activeDistance: ").concat(G,", ") + ("seamless ").concat(x,", ") + ("immediate ").concat(K,", ") + ("predecessor sum of: successor weights=").concat(null === k || void 0 === k?void 0:k.Y_a,", ") + ("immediate weights= ").concat(null === k || void 0 === k?void 0:k.rva));m=null !== (r=null === (p=w[e.id]) || void 0 === p?void 0:p.shift()) && void 0 !== r?r:e.Vb.G;p=0 === m;if(!H){if(0 === L)return {VT:!1,Tja:!0};if(!F && 0 === K && C > A)return (f.RJ=Math.min(f.RJ || Infinity,C - A),{VT:!1,Tja:!0});if(!p && g >= z && 1 > L || !1 === D && L < B)return {VT:!1,Tja:!0};}if(E < y.length){(0,n.assert)(y[E].id === e.id,"");M={duration:y[E].duration};}l=(null === l || void 0 === l?void 0:l.Tg) || [];k && 1 > x && (0 === K?l=l.concat([{rg:x}]):(y=(null === (u=null === (q=k.Cl) || void 0 === q?void 0:q[0]) || void 0 === u?void 0:u[0]) || 0,q=Math.max(0,k.Vb.G - y),h && v.trace(("reevaluateBranches: immediate: ").concat(k.Vb.G,",\n                ").concat(y,", ").concat(q)),l=l.concat([{rg:x,tK:K,duration:q}])));q=f.LD.qsb(function(P){return P.K === k;});f.LD.add({K:e,Tg:l,sa:M},q);g=F?g + e.Vb.G:G;h && v.trace(("reevaluateBranches: added ").concat(e.id,", visiting successors, ") + ("active distance: ").concat(g," ") + ("probabilities: ").concat(JSON.stringify(l)));return {VT:!0,Tja:H,state:{root:!k,complete:p,iH:L,Tg:l,S2b:g,oIb:E + 1,wy:C + m}};}Object.defineProperties(b,{__esModule:{value:!0}});b.WXa=function(f,e,g,k,l,m,p,r,q){var u,v,w,x;v={LD:new c.bia()};w=(null === (u=g.Rb) || void 0 === u?void 0:u.ea(g.kb).G) || 0;0 < m.length && (0,n.assert)(g.id === m[0].id,"First segment of required path (if it exists) must equal reevaluateBranches start segment.");h && f.trace(("reevaluateBranches: starting at ").concat(g.id," ") + ("requiredPath: ").concat(JSON.stringify(m)));x={console:f,oSc:k,fi:l,cKc:m,Jfc:p.G + w,xUa:r,EJa:q.G,PR:v};e.FPb(g,function(y,z,B,A){return d(x,y,z,B,A);},{root:!1,complete:!0,oIb:0,wy:0});return v;};b.tbd=d;b.Jad=function(f,e,g){var k;k=(0,c.GGc)(e,function(l){return ("").concat(l.K.id);});g(("requiredBranches(").concat(f,")"),k.replace(/\n/g,"<>"));g(("requiredBranches(").concat(f,")"),e.values.map(function(l){var m;return ("").concat(l.K.id,"::").concat(null === (m=e.parent(l)) || void 0 === m?void 0:m.K.id);}).join(", "));};n=a(52571);t=a(48170);c=a(61520);h=t.l && !1;},33143:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Fdb=void 0;d=a(22970);n=a(91176);c=a(91176);t=(function(){function h(f,e,g){this.ve=e;this.u0b=g;this.wca=[];this.wca.push(f);}h.prototype.voa=function(f){return this.u0b({J:f,Um:void 0},this.ve);};h.prototype.qs=function(f,e){return c.oE.EK({J:f,Um:e},this.wca);};h.prototype.CS=function(f){return d.__awaiter(this,void 0,void 0,function(){var e,g,k,l,m,p,r,q;return d.__generator(this,function(u){switch(u.label){case 0:(e=f.Vj,g=f.Xa,k=f.J,l=this.qs(f.J),u.label=1);case 1:return (u.tc.push([1,,4,5]),[4,l.Qq]);case 2:return (m=u.T(),p=m.S.Fb,(0,n.assert)(p,"Manifest must have aux manifest token to request ad break hydration"),r={Vj:e,Xa:g,Hf:{Fb:p,fd:k}},[4,this.ve.CS(e || "",r)]);case 3:return (q=u.T(),[2,{V5:q,qm:m}]);case 4:return (l.Rk.release(),[7]);case 5:return [2];}});});};h.prototype.DS=function(f,e){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){return [2,this.ve.DS(f,e)];});});};h.prototype.rJc=function(f){var e;e=this.wca.pop();this.wca.push(f);return e;};h.prototype.yIa=function(f){this.wca.unshift(f);};return h;})();b.Fdb=t;},36472:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.leb=void 0;d=a(22970);n=a(91176);c=a(99548);h=a(52571);f=a(8149);b.leb=(function(){function e(){}e.Bqc=function(g,k,l){var m,p;if(g.Kf){m=d.__read(g.ka,1)[0];if(g.ka.some(function(r){return (0,f.Xo)(r);})){(0,h.assert)((0,f.Xo)(m),"expected live primary track");(0,h.assert)(g.M.Yc,"Expected live viewable with position service");p=(0,c.dba)(k,l,g.M,n.I.qh) || n.I.qh;g=(0,c.dba)(k,l,g.M,n.I.qh) || n.I.qh;return {DPb:p,EPb:g};}k=null === (p=m.Nj) || void 0 === p?void 0:p.Rb;(0,h.assert)(k);g=g.ka.reduce(function(r,q){var u;return (null === (u=q.Nj) || void 0 === u?0:u.Rb)?n.I.min(r,q.Nj.Rb):r;},k);return {DPb:k,EPb:g};}};return e;})();},35879:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Jvb=void 0;b.Jvb=function(a,d){return a.reduce(function(n,c){return n + c.vna(d).G;},0);};},4489:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.xtb=void 0;d=a(59839);b.xtb=function(n,c){return n.reduce(function(h,f){var e;e=c(f);f.px().forEach(function(g){return h.BIa(g.mediaType,g.jJ,!e);});return h;},new d.Hcb());};},86048:function(t,b,a){var n,c;function d(h,f){return f === n.v.pn?0:Object.keys(h.fS).map(function(e){return h.fS[e];}).filter(function(e){return void 0 === e.Yz || 1 === e.Yz;}).reduce(function(e,g){return e + g.bv[f];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.Teb=void 0;n=a(65161);c=a(48170);t=(function(){function h(f,e,g){this.Z=f;this.console=e;this.bPa=g;}h.prototype.CF=function(f,e,g){var k,l,m,p;k=g && this.Z.config.yTc;l=this.Z.config.XH || k;m=this.bPa();if(k){k=f.global;k=(p={},p[n.v.X]=k[n.v.X] - d(f,n.v.X),p[n.v.U]=k[n.v.U] - d(f,n.v.U),p[n.v.Ba]=k[n.v.Ba] - d(f,n.v.Ba),p);}p=k;m=this.qKa(e) || this.m9b(f) || this.k9b(f,m,p) || this.l9b(f,m,p,e);p=(0,n.oHb)(m);if(m && (!p || l))return (c.l && this.console.log(("canIssueRequest ").concat(this.Z.id," [").concat(e,"] static limit: ") + ("").concat(g,", usage: ").concat(JSON.stringify(f),", failed ").concat(m)),{XR:!1,reason:m});c.l && this.console.log(("canIssueRequest ").concat(this.Z.id," [").concat(e,"] static limit: ") + ("").concat(g,", usage: ").concat(JSON.stringify(f),", success ").concat(m));return {XR:!0,reason:m};};h.prototype.qKa=function(f){var e;e=this.Z.config.PG;if(this.Z.Hmc(f) >= (e || Infinity))return "mediaDurationLimit";};h.prototype.m9b=function(f){return f.fS[this.Z.id].total.total > (this.Z.Mna() || Infinity)?"playgraphMemoryLimit":void 0;};h.prototype.k9b=function(f,e,g){f=f.global;return g?g[n.v.X] + g[n.v.U] > (e.G_a.total || Infinity)?"staticMemoryLimit":void 0:f.total > (e.total.total || Infinity)?"globalMemoryLimit":void 0;};h.prototype.l9b=function(f,e,g,k){var l;l=f.global;if(k !== n.v.pn)return g?(c.l && this.console.log(("checkRequestByMediaTypeMemory [").concat(k,"]:") + (" using static limit ").concat(e.G_a[k],", usage: ").concat(g) + (" (global: ").concat(l[k]," ") + (" - certain contiguous: ").concat(d(f,k),")")),g[k] > (e.G_a[k] || Infinity)?k === n.v.U?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):l[k] > (e.total[k] || Infinity)?k === n.v.U?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return h;})();b.Teb=t;},50612:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.eI=void 0;d=a(65161);n=a(65167);c=a(28847);t=(function(){var u5q;u5q=2;for(;u5q !== 6;){switch(u5q){case 8:h.prototype.yQa=function(){var Q6j;Q6j=2;for(;Q6j !== 1;){switch(Q6j){case 2:return this.APb;break;case 4:return this.APb;break;}}};return h;break;case 2:h.prototype.$pb=function(f,e){var O7z,g;O7z=2;for(;O7z !== 4;){switch(O7z){case 2:g=null === this.mka?f * (100 - this.config.tT) / 100:(0,c.zkb)(f,this.mka);this.config.Upa && e?(f=(0,c.zkb)(f,e),f=Math.max(f,g)):f=g;return f;break;}}};h.prototype.k_a=function(f){var C72;C72=2;for(;C72 !== 1;){switch(C72){case 2:return this.config.HX && (f === d.Tb.sn || f === d.Tb.Ff);break;}}};h.prototype.Ok=function(f,e){var p1d,g,k,l;p1d=2;for(;p1d !== 5;){switch(p1d){case 2:return this.k_a(e)?(null === (g=f.wx) || void 0 === g?void 0:g.Da) || (null === (k=f.jb) || void 0 === k?void 0:k.Da) || 0:(null === (l=f.jb) || void 0 === l?void 0:l.Da) || 0;break;}}};h.prototype.Cua=function(f){var L7d;L7d=2;for(;L7d !== 1;){switch(L7d){case 2:this.mka=f;L7d=1;break;}}};h.prototype.COa=function(){var r3S;r3S=2;for(;r3S !== 1;){switch(r3S){case 4:return this.mka;break;case 2:return this.mka;break;}}};h.prototype.b_a=function(f){var K6g;K6g=2;for(;K6g !== 1;){switch(K6g){case 2:this.APb=f;K6g=1;break;}}};u5q=8;break;}}function h(f){var x49,e;x49=2;for(;x49 !== 9;){switch(x49){case 2:var d1V="1SI";d1V+="Y";d1V+="b";d1V+="ZrNJC";d1V+="p9";e=this;this.config=f;this.APb=this.mka=null;this.dGb=function(g,k,l){var I7Y;I7Y=2;for(;I7Y !== 5;){switch(I7Y){case 2:g=e.Ok(g,l);return e.config.plb?(k=(0,n.qNa)(e.config.olb,k.Kk - k.yd,1),{lower:g * (1 - k),upper:void 0}):{lower:g * e.config.tT / 100,upper:void 0};break;}}};d1V;x49=9;break;}}}})();b.eI=t;},53809:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.$4a=void 0;d=a(22970);n=a(65161);t=a(50612);c=a(93731);a=(function(h){function f(e){var J9T,g;J9T=2;for(;J9T !== 9;){switch(J9T){case 2:g=h.call(this,e) || this;g.U_=function(k,l,m,p,r){var v$L,D_p;v$L=2;for(;v$L !== 10;){switch(v$L){case 6:return {lower:(null === l || void 0 === l?void 0:l.low) || k.jb.Da,upper:(null === l || void 0 === l?void 0:l.high) || p};break;case 11:var K22="throug";K22+="h";K22+="p";K22+="u";K22+="t-ci";l=k[K22];v$L=9;break;case 2:void 0 === r && (r=!0);v$L=1;break;case 1:v$L=g.k_a(m)?5:4;break;case 5:return g.Txc.U_(k,l,m,p,r);break;case 14:v$L=m === n.Tb.Ff?7:13;break;case 4:var p8k="de";p8k+="liverytim";p8k+="e-c";p8k+="i";D_p=g.config.Wka;v$L=D_p === p8k?3:12;break;case 12:v$L=11;break;case 13:v$L=6;break;case 7:return {lower:(null === l || void 0 === l?void 0:l.initial) || k.jb.Da,upper:(null === l || void 0 === l?void 0:l.high) || p};break;case 8:v$L=m === n.Tb.sn?7:14;break;case 9:p=g.config.y1a * k.jb.Da;v$L=8;break;case 3:var w4w="d";w4w+="eliv";w4w+="eryt";w4w+="ime-ci";l=k[w4w];v$L=9;break;}}};g.Txc=new c.FBa(e);J9T=4;break;case 4:var y4R="1SIYb";y4R+="ZrNJ";y4R+="Cp";y4R+="9";y4R;return g;break;case 13:"";return g;break;}}}var E4t;E4t=2;for(;E4t !== 5;){switch(E4t){case 2:d.__extends(f,h);return f;break;}}})(t.eI);b.$4a=a;},14246:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.SPa=b.eI=void 0;d=a(93731);n=a(8367);c=a(93928);h=a(53809);f=a(50612);Object.defineProperties(b,{eI:{enumerable:!0,get:function(){return f.eI;}}});b.SPa=function(e){switch(e.pqa){case "manifold":return new d.FBa(e);case "stddev":return new c.Oeb(e);case "ci":return new h.$4a(e);default:return new n.zeb(e);}};},93731:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperties(b,{__esModule:{value:!0}});b.FBa=void 0;d=a(22970);t=a(66164);n=d.__importStar(a(65167));a=a(50612);c=n.Yka;h=n.L9b;f=n.qNa;e=n.Fic;g=n.cLc;new t.platform.Console("ASEJS_PREDICTOR","media|asejs");a=(function(k){var M9n;M9n=2;function l(m){var s2V,p;s2V=2;for(;s2V !== 13;){switch(s2V){case 2:p=k.call(this,m) || this;p.U_=function(r,q,u,v,w){var s4n,x,y,z;s4n=2;for(;s4n !== 11;){switch(s4n){case 6:void 0 !== r && (y=e(p.KAc,r),q=Math.min(q * y,1));p6_3u.b_o(0);z*=p6_3u.w3s(1,q);v=w?p.$pb(z,v):z;return {lower:v,upper:v * p.config.y1a};break;case 2:void 0 === w && (w=!0);z=p.Ok(r,u);u=p.k_a(u)?z:(null === (x=r[p.filter]) || void 0 === x?void 0:x.Da) || z;s4n=3;break;case 3:x=Math.pow(Math.max(1 - u / p.p6b,0),p.m6b);u=q.Kk - q.yd;p.eOc?(q=f(p.bpb,u,1),u=f(p.apb,u,1),q=q * x + u * (1 - x)):q=f(g(p.bpb,p.apb,x),u,1);r=p.WCb && (null === (y=r[p.WCb]) || void 0 === y?void 0:y.pra);s4n=6;break;}}};Array.isArray(m.wz.curves) && (p.bpb=h(m.wz.curves[0],0,0,1),p.apb=h(m.wz.curves[1],0,0,1));p.p6b=c(m.wz.threshold || 6E3,1,1E5);s2V=3;break;case 3:var X2C="1SIYbZ";X2C+="rN";X2C+="J";X2C+="Cp";X2C+="9";p.m6b=c(m.wz.gamma || 1,.1,10);p.filter=m.wz.filter;p.eOc=!!m.wz.simpleScaling;m.wz.niqrfilter && m.wz.niqrcurve && (p.WCb=m.wz.niqrfilter,p.KAc=h(m.wz.niqrcurve,1,0,4));X2C;s2V=14;break;case 14:return p;break;}}}for(;M9n !== 5;){switch(M9n){case 3:d.__extends(l,k);return l;break;case 2:d.__extends(l,k);return l;break;}}})(a.eI);b.FBa=a;},8367:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.zeb=void 0;d=a(22970);t=a(66164);n=a(50612);c=a(28847);new t.platform.Console("ASEJS_PREDICTOR","media|asejs");a=(function(h){function f(e){var Y$1,g;Y$1=2;for(;Y$1 !== 3;){switch(Y$1){case 5:var F9O="1SI";F9O+="YbZrNJC";F9O+="p9";F9O;return g;break;case 2:g=h.call(this,e) || this;g.U_=function(k,l,m,p,r){var w4J,q;w4J=2;for(;w4J !== 8;){switch(w4J){case 2:void 0 === r && (r=!0);q=g.Ok(k,m);k=g.VNc(k,m);l=q?q * (100 - g.Mlc(l,k)) / 100 | 0:0;w4J=3;break;case 3:p=r?g.$pb(l,p):l;return {lower:p,upper:p * g.config.y1a};break;}}};Y$1=5;break;}}}var n7i;n7i=2;for(;n7i !== 3;){switch(n7i){case 5:f.prototype.VNc=function(e,g){var a8u;a8u=2;for(;a8u !== 5;){switch(a8u){case 2:e=this.Ok(e,g);return this.config.Mda && e < this.config.i7;break;}}};return f;break;case 2:d.__extends(f,h);f.prototype.Mlc=function(e,g){var A0F,k,l;A0F=2;for(;A0F !== 3;){switch(A0F){case 14:return l;break;case 4:return l;break;case 2:(k=this.config,l=g?k.g7:k.C6);g=g?k.h7:k.E6;Array.isArray(g) && (l=(0,c.Eic)(g,e.Kk - e.yd,k.D6));A0F=4;break;}}};n7i=5;break;}}})(n.eI);b.zeb=a;},93928:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Oeb=void 0;d=a(22970);t=a(50612);t=(function(n){var t7M;t7M=2;function c(h){var a8S,f;a8S=2;for(;a8S !== 3;){switch(a8S){case 2:var M$l="1SIYbZ";M$l+="r";M$l+="NJCp9";f=n.call(this,h) || this;f.U_=function(e){var I5s,a3j,g;I5s=2;for(;I5s !== 10;){switch(I5s){case 5:I5s=!e.Dr || !e.Dr.Da?4:3;break;case 8:I5s=!e.Dr || !e.Dr.sW?4:7;break;case 13:return (g=Math.sqrt(e.Dr.K1 || 0),{lower:e.jb.Da + f.config.H_a * g,upper:e.jb.Da + f.config.I_a * g});break;case 11:var t2I="e";t2I+="w";t2I+="m";t2I+="a";I5s=a3j === t2I?14:4;break;case 1:var u4R="deli";u4R+="v";u4R+="ery";u4R+="time";a3j=f.config.fPc;I5s=a3j === u4R?5:12;break;case 9:return {lower:8 / (e.Dr.Da + f.config.H_a * g),upper:8 / (e.Dr.Da - f.config.I_a * g)};break;case 2:g={lower:e.jb.Da,upper:void 0};I5s=1;break;case 3:g=Math.sqrt(e.Dr.eg || 0);I5s=9;break;case 12:var Y02="a";Y02+="ver";Y02+="agetp";I5s=a3j === Y02?8:11;break;case 6:return {lower:e.Dr.sW + f.config.H_a * g,upper:e.Dr.sW + f.config.I_a * g};break;case 7:g=Math.sqrt(e.Dr.K1 || 0);I5s=6;break;case 14:I5s=e.Dr && e.Dr.K1?13:4;break;case 4:return g;break;}}};M$l;a8S=4;break;case 4:return f;break;case 14:return f;break;}}}for(;t7M !== 5;){switch(t7M){case 2:d.__extends(c,n);return c;break;}}})(t.eI);b.Oeb=t;},28847:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Eic=function(n,c,h){var f,e,g;f=0;if(h){n.some(function(k){var l;l=k.b;k=k.m;if(c <= l)return (f=g && l !== e?g + (k - g) / (l - e) * (c - e):k,!0);e=l;f=g=k;return !1;});}else n.some(function(k){f=k.m;return c <= k.b;});return f;};b.dGb=function(n,c,h){var f;c=(null === (f=c.jb) || void 0 === f?void 0:f.Da) || 0;return n.plb?(n=(0,d.qNa)(n.olb,h.Kk - h.yd,1),c * (1 - n)):c * n.tT / 100;};b.zkb=function(n,c){return n < 2 * c?n / 2:n - c;};d=a(65167);},43071:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.k5a=b.m5a=void 0;d=a(63576);n=a(47233);c=a(76753);b.m5a=625E3;t=(function(){function h(f,e){this.console=f;this.config=e;}h.prototype.ZJa=function(f){var e,g,k,l,m,p;e=this;g=this.config.Ila;k=this.config.h8c || this.config.Hla;l=0 < f.CQa.wG && Infinity !== f.CQa.wG;m=l?k * b.m5a / 1E3:this.config.qR || Infinity;p=l?Math.floor(f.CQa.wG / m):g;return {mp:f.JUc.sort(function(r,q){return r.priority - q.priority;}).slice(0,g).map(function(r,q){var u;u=r.key.config;return {Oyb:{wG:q > p - 1?0:m},Cd:r,Tsa:1,Xk:u,cMb:{audio:[(0,d.r7)(u),new n.dFa(),new c.hAa()],video:[(0,d.s7)(e.console,u),new n.dFa(),new c.hAa()]}};})};};return h;})();b.k5a=t;},76753:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hAa=void 0;t=(function(){function a(){}a.prototype.oh=function(d){return d.filter(function(n){return !n.za;});};return a;})();b.hAa=t;},68766:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.E5a=void 0;d=a(22970);n=a(79048);c=a(28871);t=(function(){function h(){}h.prototype.bBb=function(f){return d.__awaiter(this,void 0,void 0,function(){var e,g,k,l,m;return d.__generator(this,function(p){switch(p.label){case 0:e=f.Cd.key;if(!(0,c.ISa)(e) && !(0,c.DSa)(e))return [3,2];g=(0,c.Jf)(e);k=f.Cd.ve.Jr(g);return [4,Promise.resolve(k.ku)];case 1:return (l=p.T(),m=l.S,m.xr?[2,(0,n.vKa)(m.xr,{config:l.config})]:[2,(0,n.s_a)(g,"ps0")]);case 2:return [2,e.Z];}});});};return h;})();b.E5a=t;},34297:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Rcb=void 0;d=a(48170);n=a(82475);b.Rcb=(function(){function c(){}c.tJc=function(h,f,e,g){h.events.once("seeking",function(k){var l,m;l=k.position;m=e.length;k.duplicate || (e.jca(function(p){return "segmentNormalized" !== p.pv;}),d.l && g.log(("Discarding ").concat(m - e.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,n.GQa)(f)) + (" due to seek to ").concat((0,n.GQa)(l))));d.l && g.log(("Replaying ").concat(e.length," events from prefetched playgraph") + ("for seek postition ").concat((0,n.GQa)(l)));e.jYa();e.Ka();});};return c;})();},91961:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B;Object.defineProperties(b,{__esModule:{value:!0}});b.Tcb=void 0;d=a(22970);n=a(90745);c=a(91176);h=a(66164);f=a(65161);e=a(51308);g=a(69575);k=a(52571);l=a(70764);m=a(48170);p=a(61996);r=a(63576);q=a(30285);u=a(7520);v=a(68766);w=a(81307);x=a(43071);y=a(28871);z=a(34297);B=a(2948);t=(function(){function A(C,D,F,G,E){void 0 === G && (G=new w.F5a());void 0 === E && (E=new v.E5a());this.drb=C;this.config=D;this.zHb=G;this.mp=[];this.kGb=[];this.nz=[];this.GGb=new c.u4();this.stats={Syb:0,Tyb:0,Pyb:0,QJa:0,Qyb:0,Ryb:0,RJa:0};this.events=new n.EventEmitter();this.console=(0,g.tf)(h.platform,F,"PREFETCH");this.Ze=new p.un({Ig:10,Fj:this,source:"Prefetcher"});this.HIa(new x.k5a(F,D));this.HIa(new B.seb(D));this.gKb({wG:D.OFc});this.KZa(E);this.Osc();}Object.defineProperties(A.prototype,{PFc:{get:function(){return this.mp.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{IUc:{get:function(){return this.nz;},enumerable:!1,configurable:!0}});A.prototype.CKb=function(C){m.l && (0,k.assert)(C,"Reconciliation strategy is undefined");this.zHb=C;return this;};A.prototype.HIa=function(C){this.kGb.unshift(C);return this;};A.prototype.e_a=function(C){var D;m.l && this.console.debug("Wish list changed",{S8c:C.length});D=(0,c.Co)(this.IUc,C);this.Ze.kg({dropped:D.map(function(F){return (0,y.Jf)(F.key);}),wishlist:C.map(function(F){return (0,y.Jf)(F.key);})});D.forEach(function(F){var G;return null === (G=F.Ka) || void 0 === G?void 0:G.call(F);});this.nz=C;this.qta();};A.prototype.reset=function(C){var D;D=this;void 0 === C && (C=this.config);C.$Fc?this.mp.forEach(function(F){return D.vib(F);}):this.e_a([]);};A.prototype.vib=function(C,D){var F,G,E;F=C.Z;G=C.J$;E=C.context;void 0 === D && (D=!1);F && (C=void 0,D && (C=F.qPa()),F.mg(D?e.aN.QFc:e.aN.Ula),G.jca(function(H){return "segmentNormalized" !== H.pv;}),D=(0,y.Wna)(E.Cd,F.Z),F.YL(D),null === C || void 0 === C?void 0:C.release());};A.prototype.gKb=function(C){m.l && this.console.debug("Budget changed",{Jra:this.J6,jra:C});this.J6=C;this.qta();};A.prototype.J9b=function(C,D){var F,G,E,H;m.l && this.console.debug("Looking for playgraph to claim");if(C=this.zHb.psb(this.mp,{Z:C,Xk:D})){G=this.nz.indexOf(C.context.Cd);m.l && this.console.debug(("Claiming item: ").concat((0,y.Jf)(C.context.Cd.key)),{gW:h.platform.time.ha() - C.w0a,buffer:null === (F=C.Z) || void 0 === F?void 0:F.In(c.I.ia)});this.PJ(C.context,{Cpa:!!C.Z,Omb:!!C.Z});C.za && this.vib(C,!0);if(C.Z){F=C.Z;E=C.BS;H=F.Zm;z.Rcb.tJc(F,H,C.J$,this.console);F.Sk && (F.Sk.gpb=!0);E.aLc(F.Zz(H) || c.I.ia,G);F.qOb({wG:this.config.qR || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.Cd,videoBytesBuffered:C.Z.fQ().HM,audioBytesBuffered:C.Z.fQ().dJ});}}D.y4b || this.reset(D);return null === C || void 0 === C?void 0:C.Z;};A.prototype.G9b=function(){};A.prototype.getStats=function(){var C;C=h.platform.time.ha();return {wishListLength:this.nz.length,prefetchList:this.PFc.length,contents:this.mp.map(function(D){var F,G,E,H,J;if(D.Z){J=(0,y.Wna)(D.context.Cd,D.Z.Z);J=D.Z.Zz(J);J=D.Z.In(J || c.I.ia);}return {id:(0,y.Jf)(D.context.Cd.key),buffer:J,pId:null === (F=D.Z) || void 0 === F?void 0:F.id,budget:{inMemoryBytes:D.context.Oyb.wG},weight:D.context.Tsa,age:C - D.w0a,timeOpened:C - (null !== (G=D.$Qc) && void 0 !== G?G:0),state:f.Ld[null !== (H=null === (E=D.Z) || void 0 === E?void 0:E.ee.value) && void 0 !== H?H:f.Ld.Uy]};}),aggregated:{itemsRequested:this.stats.Syb,itemsStarted:this.stats.Tyb,itemsClaimed:this.stats.Pyb,bytesClaimed:this.stats.QJa,itemsCompleted:this.stats.Qyb,itemsDiscarded:this.stats.Ryb,bytesDiscarded:this.stats.RJa}};};A.prototype.PJ=function(C){d.__awaiter(this,arguments,void 0,function(D,F){var G,E,H,J,L,K,M,P,I,O;void 0 === F && (F={});return d.__generator(this,function(Q){switch(Q.label){case 0:G=d.__assign({Cpa:!1,gzb:!1,Omb:!1},F);E=G.Cpa;H=G.gzb;J=G.Omb;L=(0,c.ic)(this.mp,function(S){return S.context === D;});H || J || (null === (I=(P=D.Cd).Ka) || void 0 === I?void 0:I.call(P));if(!L)return [3,3];this.Ze.kg({prefetchItem:(0,y.Jf)(D.Cd.key)});this.mp.splice(this.mp.indexOf(L),1);H || (K=this.nz.length,this.nz=this.nz.filter(function(S){return S !== D.Cd;}),m.l && this.console.info("Dropping items from wishlist",K - this.nz.length),this.nz.length >= K && m.l && this.console.warn("Unable to filter out wishlist item",this.nz.map(function(S){return S.key;}),D.Cd.key));m.l && this.console.debug("Dropping playgraph",{gW:h.platform.time.ha() - L.w0a,buffer:null === (O=L.Z) || void 0 === O?void 0:O.In(c.I.ia),J:(0,y.Jf)(D.Cd.key),X9c:!E,C4c:!H});L.uj.clear();if(E)return [3,2];M=this.GD(L);return L.Z?[4,M]:[3,2];case 1:(Q.T(),Q.label=2);case 2:(this.qta(),Q.label=3);case 3:return [2];}});});};A.prototype.KZa=function(C){(0,k.assert)(C,"Playgraph resolver is undefined");this.PWa=C;return this;};A.prototype.Osc=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.stats.Qyb++;});this.events.on("prefetchStarted",function(){return C.stats.Tyb++;});this.events.on("itemQueued",function(){return C.stats.Syb++;});this.events.on("itemClaimed",function(D){var F,G;C.stats.Pyb++;C.stats.QJa+=(null !== (F=D.XTc) && void 0 !== F?F:0) + (null !== (G=D.G5b) && void 0 !== G?G:0);});this.events.on("itemDropped",function(D){var F,G;C.stats.Ryb++;C.stats.RJa+=(null !== (F=D.XTc) && void 0 !== F?F:0) + (null !== (G=D.G5b) && void 0 !== G?G:0);});};A.prototype.qta=function(){var C;C=this;this.GGb.Wja?Promise.resolve():this.GGb.OUc(function(){var D,F,G,E,H;D=c.oE.EK({JUc:C.nz,CQa:C.J6},C.kGb.map(function(J){return J.ZJa.bind(J);})).mp;F=(0,c.Co)(D,C.mp,function(J,L){return (0,y.isEqual)(J.Cd.key,L.context.Cd.key);});G=(0,c.Co)(C.mp,D,function(J,L){return (0,y.isEqual)(J.context.Cd.key,L.Cd.key);});E=(0,c.Co)(C.mp,G);m.l && C.console.debug(("Re-evaluated prefetch items. new:").concat(F.length,", evict: ").concat(G.length,", update: ").concat(F.length));C.Ze.kg({toKeep:E.map(function(J){return (0,y.Jf)(J.context.Cd.key);}),toEvict:G.map(function(J){return (0,y.Jf)(J.context.Cd.key);}),newContexts:F.map(function(J){return (0,y.Jf)(J.Cd.key);})});G=G.map(function(J){return d.__awaiter(C,void 0,void 0,function(){var L,K,M;return d.__generator(this,function(P){switch(P.label){case 0:(L=J.context.Cd.key,m.l && this.console.debug("Releasing playgraph",(0,y.Jf)(L)),P.label=1);case 1:return (P.tc.push([1,,3,4]),[4,this.GD(J)]);case 2:return (P.T(),[3,4]);case 3:return (this.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:J.context.Cd}),null === (M=(K=J.context.Cd.ve).Ka) || void 0 === M?void 0:M.call(K),[7]);case 4:return [2];}});});});H=E.map(function(J){return d.__awaiter(C,void 0,void 0,function(){var L,K;return d.__generator(this,function(M){switch(M.label){case 0:(L=(0,c.ic)(D,function(P){return (0,y.isEqual)(P.Cd.key,J.context.Cd.key);}),(0,k.assert)(L,"Couldn't find the requested item context"),J.context=L,M.label=1);case 1:return (M.tc.push([1,3,,4]),[4,J.Rsa]);case 2:return (K=M.T(),[3,4]);case 3:return (M.T(),[2]);case 4:return ((0,c.ic)(this.mp,function(P){return P === J;}) && (this.Dkb(J.context,K),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:J.context.Cd})),[2]);}});});});F=F.map(function(J){var L;L=C.gdc(J);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:J.Cd});return L;});C.mp=d.__spreadArray(d.__spreadArray([],d.__read(E),!1),d.__read(F),!1);E=F.map(function(J){return J.Rsa.catch(function(){});});E=G.concat(H).concat(E);return Promise.all(E);});};A.prototype.GD=function(C){return d.__awaiter(this,void 0,void 0,function(){var D,F,G;return d.__generator(this,function(E){switch(E.label){case 0:return (E.tc.push([0,3,,4]),[4,C.Rsa]);case 1:return (D=E.T(),m.l && this.console.debug("Removing prefetch playgraph",{size:D.In(c.I.ia)}),C.uj.clear(),[4,this.drb()]);case 2:return (F=E.T(),F.GD(D),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.Cd,videoBytesBuffered:D.fQ().HM,audioBytesBuffered:D.fQ().dJ}),[3,4]);case 3:return (G=E.T(),m.l && this.console.trace("Non fatal error in removing playgraph",G),[3,4]);case 4:return [2];}});});};A.prototype.ALa=function(C){return d.__awaiter(this,void 0,void 0,function(){var D,F,G,E,H,J,L,K,M,P,I;I=this;return d.__generator(this,function(O){switch(O.label){case 0:return (D=C.context,F=(0,y.Jf)(D.Cd.key),m.l && this.console.debug("Creating playgraph",F),[4,this.PWa.bBb(D)]);case 1:return (G=O.T(),[4,D.Cd.ve.Jr(F).ku]);case 2:E=O.T();H=E.S;if(H.Ez)return (this.PJ(D,{Cpa:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(F) + " is not supported with prefetching")]);if((0,c.Ax)(H.Of))if(this.config.$pa)C.za=!0;else return (this.PJ(D,{Cpa:!0}),[2,Promise.reject(("live title encountered viewable:").concat(F) + " disabling header fetch / normalization")]);J=D.Xk;L=J.vC && (H.xr?J.Ygc:!0);K=Object.create(J,{vC:{value:L}});return [4,this.drb()];case 3:return (M=O.T(),P=M.Z5(G,D.Tsa,K,D.Cd.ve,!1),C.uj.addListener(P.events,"error",function(Q){m.l && I.console.debug("Prefetch playgraph resulted in error",Q.Fi);I.PJ(D);}),[2,P]);}});});};A.prototype.$Cc=function(C,D){return d.__awaiter(this,void 0,void 0,function(){var F,G,E,H;return d.__generator(this,function(J){switch(J.label){case 0:return (F=C.context,G=(0,y.Jf)(F.Cd.key),E=F.Cd.ve.Jr(G),[4,E.ku]);case 1:return (H=J.T(),this.Dkb(F,D),this.a5b(F,D,!!H.rv),D.Sk && (D.Sk.gpb=!1),D.open(),D.oy({TS:function(L,K){var M,P;M=L.recommendedMedia;P=M?(0,c.om)(K,function(I){return I.new_track_id === M.Wu;}):(0,c.om)(K,function(I){return I.track_id === L.defaultTrackOrderList[0].audioTrackId;});return 0 <= P && P < K.length?P:void 0;}},{TS:function(L,K){var M,P;M=L.recommendedMedia;P=M?(0,c.om)(K,function(I){return I.new_track_id === M.Bp;}):(0,c.om)(K,function(I){return I.track_id === L.defaultTrackOrderList[0].videoTrackId;});return 0 <= P && P < K.length?P:void 0;}}),m.l && this.console.trace("Open Playgraph/seekstreaming",{J:(0,y.Jf)(C.context.Cd.key)}),D.YL((0,y.Wna)(F.Cd,D.Z)),this.SIc(C,E),E.kx && (m.l && this.console.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.PJ(C.context)),[2]);}});});};A.prototype.SIc=function(C,D){var G;function F(E){m.l && G.console.debug(("Viewable ").concat(E?"superseded":"expired"),(0,y.Jf)(C.context.Cd.key));C.O7c=!0;G.PJ(C.context,{gzb:!E && G.config.jvc});}G=this;D.events && (C.uj.addListener(D.events,"viewableEvicted",function(){F(!0);}),C.uj.addListener(D.events,"viewableExpired",function(){F(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.Cd});};A.prototype.Dkb=function(C,D){D.t1a(C.Tsa);D.qOb(C.Oyb);};A.prototype.a5b=function(C,D,F){var G;G=C.cMb;C=G.audio;G=G.video;F && G.push(new u.Y3(this.console,D.config));D.UZa(new r.Vy(C,!0),new r.Vy(G,!0));};A.prototype.gdc=function(C){var D,F,G;D=this;F=new l.Scb();G={context:C,w0a:h.platform.time.ha(),uj:new n.af(),BS:F};G.Rsa=this.ALa(G).then(function(E){return d.__awaiter(D,void 0,void 0,function(){var H,J;J=this;return d.__generator(this,function(L){switch(L.label){case 0:for(H=E;H.Ea;)H=H.Ea;E.Xc(F);F.B5b(E);G.J$=new q.M6a(H.events,{ONc:function(K){var M,P;M=K.pv;switch(M){case "buffering":return !1;case "segmentStarting":P=K.mm[0];G.J$.jca(function(I){if("segmentStarting" === I.pv)return I.mm[0].L === P.L;if(P.initial && "initialAudioTrack" === I.pv)return !0;});return !0;case "bufferingStarted":G.J$.jca(function(I){return "bufferingComplete" === I.pv || "updateStreamingPts" === I.pv;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":G.J$.jca(function(I){return I.pv === M;});default:return !0;}}});H.events.on("bufferingComplete",function(){J.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.Cd});});return [4,this.$Cc(G,E)];case 1:return (L.T(),G.$Qc=h.platform.time.ha(),G.Z=E,[2,E]);}});});});G.Rsa.catch(function(E){var H;H=(0,y.Jf)(G.context.Cd.key);m.l && D.console.error(("Exception occurred creating playgraph ").concat(H),E);D.PJ(G.context);});return G;};d.__decorate([(0,p.fb)({methodName:"setWishList",Oe:!0})],A.prototype,"e_a",null);d.__decorate([(0,p.fb)({methodName:"reset",Oe:!0})],A.prototype,"reset",null);d.__decorate([(0,p.fb)({methodName:"dropPrefetchItem",Oe:!0})],A.prototype,"PJ",null);d.__decorate([(0,p.fb)({methodName:"processWishList",Oe:!0})],A.prototype,"qta",null);return A;})();b.Tcb=t;},81307:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.F5a=void 0;d=a(22970);n=a(52571);c=a(28871);t=(function(){function h(){}h.Jf=function(f){var e,g;e=f.ba;f=f.lf;g=e[f].J;Object.keys(e).forEach(function(k){return (0,n.assert)(e[k].J === g);});return e[f].J;};h.prototype.psb=function(f,e){var g;g=Object.keys(e.Z.ba).length;return d.__read(f.filter(function(k){var l;return h.Jf(e.Z) === (0,c.Jf)(k.context.Cd.key) && (1 === g || g === Object.keys((null === (l=k.Z) || void 0 === l?void 0:l.Z.ba) || ({})).length);}),1)[0];};return h;})();b.F5a=t;},2948:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.seb=void 0;t=(function(){function a(d){this.config=d;}a.prototype.ZJa=function(d,n){var c,h;c=this;d=n(d);h=d.mp.map(function(f){return f.Cd.priority;}).sort();d.mp.forEach(function(f){f.Tsa=c.config.SFc / (2 << h.lastIndexOf(f.Cd.priority));});return d;};return a;})();b.seb=t;},47233:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.dFa=void 0;d=a(65161);t=(function(){function n(){}n.prototype.oh=function(c,h){return h === d.Ld.Jp?[]:c;};return n;})();b.dFa=t;},28871:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Wna=b.Jf=b.isEqual=b.tSa=b.DSa=b.ISa=void 0;d=a(91176);n=a(6783);b.ISa=function(c){return !!c.J;};b.DSa=function(c){return !!c.o6;};b.tSa=function(c){return !!c.Z;};b.isEqual=function(c,h){var f,e;f=(0,b.tSa)(c);e=(0,b.tSa)(h);return f && e?c.Z === h.Z:f || e?!1:"" + (0,b.Jf)(c) === "" + (0,b.Jf)(h);};b.Jf=function(c){if((0,b.ISa)(c))return c.J;if((0,b.DSa)(c))return c.o6;c=c.Z;return c.ba[c.lf].J;};b.Wna=function(c,h){var f;return c.zka?c.zka instanceof d.I?(c=(0,n.Ar)(h,(0,b.Jf)(c.key),c.zka),(null === c || void 0 === c?0:c.offset.greaterThan(d.I.ia))?c:{offset:d.I.ia,L:null !== (f=null === c || void 0 === c?void 0:c.L) && void 0 !== f?f:h.lf}):c.zka:{offset:d.I.ia,L:h.lf};};},56820:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(23093),b);t.__exportStar(a(82010),b);t.__exportStar(a(19588),b);t.__exportStar(a(39833),b);},23093:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$cb=void 0;t=(function(){function a(){this.rF="NONE";this.qt=this.dn=-1;this.Dx=this.Ct=!1;this.$_=0;}Object.defineProperties(a.prototype,{C$:{get:function(){return 0 === this.$_;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{RQa:{get:function(){return -1 !== this.dn;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mrc:{get:function(){return -1 !== this.qt;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{On:{get:function(){return this.Ct && this.mrc && this.RQa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{dyb:{get:function(){return "DECREASING" === this.rF;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ytc:{get:function(){return "INCREASING" === this.rF;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Huc:{get:function(){return "NONE" === this.rF;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{eyb:{get:function(){return "DISABLED" === this.rF;},enumerable:!1,configurable:!0}});return a;})();b.$cb=t;},62234:function(t,b,a){var q,u,v,w,x,y,z;function d(B,A){return A.eyb;}function n(B,A){return (0,v.kcc)({K$b:k,cec:B,gtc:g,mc:A});}function c(B,A){A=A.RQa;return B.RQa && !A;}function h(B,A,C){var D;B=A.qt;D=A.dn;C=C.Sda;return A.On && B < D - C;}function f(B,A,C){var D;B=A.qt;D=A.dn;C=C.Sda;return A.On && B > D + C;}function e(B,A,C){var D,F;B=A.qt;D=A.rF;F=A.dn;C=C.Sda;return A.On?"DECREASING" === D && B <= F || "INCREASING" === D && B >= F || "NONE" === D && Math.abs(B - F) <= C?!0:!1:!1;}function g(B,A){B=B.$_;A=A.$_;return 0 < B && B < A;}function k(B,A){A=A.C$;return B.C$ && !A;}function l(B,A){A=A.C$;return !B.C$ && A;}function m(B,A){A=A.Dx;return !B.Dx && A;}function p(B,A){A=A.Ct;return B.Ct && !A;}function r(B,A){A=A.Ct;return !B.Ct && A;}Object.defineProperties(b,{__esModule:{value:!0}});b.Zcb=void 0;q=a(22970);u=a(66164);v=a(91176);w=a(97685);x=a(48170);y=a(23093);z=a(19250);t=(function(){function B(A,C){var D;D=this;this.Bb=A;this.config=C;this.console=new u.platform.Console("ASEJS_PRESENTATION_DELAY_CONTROLLER","asejs");this.state=new v.Reb({model:y.$cb});this.Asc=function(F,G){var E,H;E=F.dn;F=F.qt;if(!D.state.value.Ytc){H=D.Bb.uca({type:"INCREASE",dn:E});x.l && D.ETa({reason:G,request:"INCREASE",dn:E,qt:F,response:H});G=D.Rba(H);return {Ux:D.GPa(G?"INCREASE":"DISABLE")};}};this.tec=function(F,G){var E,H;E=F.dn;F=F.qt;if(!D.state.value.dyb && D.state.value.C$){H=D.Bb.uca({type:"DECREASE",dn:E});x.l && D.ETa({reason:G,request:"DECREASE",dn:E,qt:F,response:H});G=D.Rba(H);return {Ux:D.GPa(G?"DECREASE":"DISABLE")};}};this.LAb=function(F,G){var E,H;E=F.dn;F=F.qt;if(!D.state.value.Huc){H=D.Bb.uca({type:"MAINTAIN",dn:E});x.l && D.ETa({reason:G,request:"MAINTAIN",dn:E,qt:F,response:H});G=D.Rba(H);return {Ux:D.GPa(G?"MAINTAIN":"DISABLE")};}};this.Rba=function(F){if("APPROVED" === F.Uf)return (x.l && D.console.log("The platform approved the request"),!0);x.l && D.console.log(('The platform rejected the request with reason "').concat(F.reason,'"'));switch(F.reason){case "NOT_SUPPORTED":return !1;case "TARGET_ACHIEVED":return !0;case "NO_LIVE_INTENT":return (x.l && D.state.value.Ct && D.console.warn("Request requested due to NO_LIVE_INTENT, but ASE has intent"),!0);default:if(x.l)throw Error(("Unexpected rejection: ").concat(F.reason));return !1;}};this.HKb=function(F,G){if(D.state.value.dn !== D.config.Uk)return (x.l && D.console.log(("Setting target to configured minimum at ").concat(D.config.Uk,'ms due to "').concat(G,'"')),{Ux:{dn:D.config.Uk}});};this.nSc=function(F,G){x.l && D.console.log(('Unsetting target due to "').concat(G,'"'));return {Ux:{dn:-1}};};this.Iqc=function(F,G){if(D.state.value.dyb)return (x.l && D.console.log(("Halting decrease to ").concat(D.state.value.dn,'ms due to "').concat(G,'". ') + ("Setting new target to ").concat(D.state.value.qt,"ms.")),{Ux:{dn:D.state.value.qt}});};this.eMc=function(F,G){x.l && D.console.log(("No negative QoE signals have been received for ").concat(D.config.$sa,"ms, ") + ('setting QoE to "acceptable" due to "').concat(G,'"'));return {Ux:{$_:0}};};this.gda=this.gda.bind(this);this.Hua=this.Hua.bind(this);this.Eua=this.Eua.bind(this);this.lYa=this.lYa.bind(this);this.reset=this.reset.bind(this);this.algorithm=new v.Algorithm([[d,function(){return {R6b:!0};}],[(0,v.gob)([r,m],p),this.HKb],[(0,v.gob)([p,m],r),this.nSc],[n(this.config.$sa,this.Bb.mc),this.eMc],[l,this.HKb],[k,this.Iqc],[c,this.LAb],[e,this.LAb],[f,this.tec],[h,this.Asc]],{store:this.state,KPa:function(){return [D.config];}});}B.prototype.gda=function(A){this.Xva({Ct:A});};B.prototype.Hua=function(A){this.Xva({qt:A});};B.prototype.lYa=function(){this.Xva({$_:this.state.value.$_ + 1});};B.prototype.Eua=function(A){this.Xva({Dx:A});};B.prototype.reset=function(){this.algorithm.reset();this.state.value.eyb || this.state.reset();};B.prototype.GPa=function(A){A=(0,v.BRc)(z.mGc,this.state.value.rF,A);x.l && A.Xp && this.console.log(('Transitioned from "').concat(A.xGc,'" to "').concat(A.Ux,'" due to ') + ('event "').concat(A.event,'"'));return {rF:A.Ux};};B.prototype.Xva=function(A){this.state.next(q.__assign({},A));};B.prototype.ETa=function(A){var C,D,F,G;C=A.reason;D=A.request;F=A.dn;G=A.qt;A=A.response;G="MAINTAIN" === D?("Requesting ").concat(D).concat(-1 !== F?(" at ").concat(F,"ms"):""):("Requesting ").concat(D," from ").concat(G,"ms to ").concat(F,"ms");G+=(' due to "').concat(C,'"');w.TQ.log({Rm:this.Bb.Nnc(),type:"PRESENTATION_DELAY_CHANGE_REQUEST",z1c:"APPROVED" === A.Uf,reason:C,request:D,source:"AUTOMATIC",oad:F / 1E3});this.console.log(G);};return B;})();b.Zcb=t;},19250:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mGc={initial:"NONE",QLb:{NONE:{on:{CYc:"INCREASING",SWc:"DECREASING"}},TWc:{on:{iVb:"NONE"}},DYc:{on:{iVb:"NONE"}},YWc:{}},on:{XWc:"DISABLED"}};},82010:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},19588:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},39833:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},53800:function(t){function b(d,n){this.E1b=d.WR && d.WR.enabled;this.oja=void 0;this.Z0b=n;this.LHa=[];this.$Ha=[];this.pHa=[];d=d.CHa || [];n=d.map(function(c){return c.Q3c;});n.unshift(0);this.H1b=d;this.I1b=n;this.vHa=[];this.Wd=[];}function a(d,n){var l,m,p,r;for(var c=[],h=[],f=0;f < d.length;f++){for(var e=d[f],g=[],k=0;k < e.length;k++){l=e[k] - (h[k] || 0);m=n && n[k];p=g;r=p.push;1 <= m && (m=Math.pow(10,m || 0),l=Math.round(l * m) / m);r.call(p,l);}c.push(g);h=e;}return c;}b.prototype.reset=function(d){this.oja=void 0;this.LHa=[];this.$Ha=[];this.pHa=[];this.vHa=[];d && (this.Wd=[]);};b.prototype.add=function(d,n){var c,h,f,e;c=n.filter(function(g){return g.CG || g === d.od;});h=c.map(function(g){return g.bitrate;});n=d.od;c=c.indexOf(n);f=this.oja;if(f && (f.length !== h.length || f.some(function(g,k){return g !== h[k];}))){e=this.Otb();e && (this.Wd.push(e),this.reset(!1));}void 0 === f && (this.oja=h);this.LHa.push([c,d.ty,d.uk,d.Nlb,d.e7b,d.BL,d.sBc,d.jh,d.jm,d.vl,d.pM - d.ty,d.pFc]);void 0 !== d.Vn && this.pHa.push([d.ty,d.Vn.FH,d.Vn.LF,d.Vn.oH]);c=n && n.Oa;this.E1b && void 0 !== c && (f=c.fG(d.vl),-1 != f && (c=c.get(f),f=c.duration,n=c.Mb || n.Mb,void 0 !== n && this.$Ha.push({Eb:c.Eb,duration:f,Mb:n})));(n=d.MFc) && n.length && (n=n.slice(0),n.unshift(d.ty),this.vHa.push(n));};b.prototype.Otb=function(){var d,n;d=a(this.LHa);if(0 !== d.length){d={dltype:this.Z0b,bitrates:this.oja,seltrace:d,vmaftrace:this.$Ha,paceratetrace:a(this.pHa)};n=a(this.vHa,this.I1b);n && n.length && (d.predtrace={config:this.H1b,data:n});return d;}};b.prototype.get=function(){var d,n;d=this.Otb();n=this.Wd;d && n.push(d);if(0 !== n.length)return n;};t.exports=b;},35331:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.O2a=void 0;d=a(79048);n=a(14103);c=a(91967);t=(function(){function h(f){var e;e=this;this.context=f;this.km=void 0;this.bc="ad-playgraph";this.enabled=!0;f.Zd.events.on("playgraphUpdating",function(){return e.FOb();});f.Zd.events.on("segmentNormalized",function(){return e.FOb();});}h.prototype.FOb=function(){this.km=this.context.Zd.km || this.km;};h.prototype.ph=function(f){var e,g,k,l,m,p;g=f.mi;f=f.Vr;if(g === c.Ic.Ol || g === c.Ic.Nq || g === c.Ic.tj || f === c.Nd.$t || void 0 === g && void 0 === f){f=this.context;g=f.Ea;if(null === (e=f.Zd.Cc) || void 0 === e?0:e.wd.yv()){e=g.player;f=e.Qd?e.bh:g.tx?g.Zm:void 0;k=this.km;l=void 0;e=void 0;if(f){m=g.Z.ba[f.L];p=g.Hb.MG(f.L);p && (g=g.Hb.bH.Z.ba[p],g.J != m.J && (l=m.J),"content" !== m.type && (e=this.tlc(f.L,g.J)));}g={adPlaygraph:k?d.PDa.decode(k):void 0,adMid:l,manifestHasAds:!0};void 0 !== e && (g.adBreakLocationMs=e);return g;}return {manifestHasAds:!1};}};h.prototype.tlc=function(f,e){var g,k,l;if(f=(0,n.cQ)(f))l=null === (k=null === (g=this.context.Zd.Cc) || void 0 === g?void 0:g.wd.zOa(e,f)) || void 0 === k?void 0:k.wk;return l;};return h;})();b.O2a=t;},75402:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperties(b,{__esModule:{value:!0}});b.s3a=void 0;t=a(22970);d=a(90745);n=a(91176);c=a(91176);h=t.__importDefault(a(14282));f=t.__importDefault(a(53800));e=a(91967);g=a(60028);a=(function(){function k(l){this.Z=l;this.pv="aseReport";this.wA="asereport";this.iC=n.I.qh;this.events=new d.EventEmitter();this.Y6=g.v4.j5a;this.fja=!1;this.eMb=0;this.v_=this.v_.bind(this);this.QKb({type:"asereportconfigoverrides",Tu:this.Z.config.Tu,qz:this.Z.config.qz,nJ:this.Z.config.nJ});}k.prototype.QKb=function(l){var m,p,r,q,u;q=this.Z.config.V4c;u=null !== (m=l.Tu) && void 0 !== m?m:this.Z.config.Tu;0 === Math.floor(1E6 * Math.random()) % u || q?(m=null !== (p=l.qz) && void 0 !== p?p:this.Z.config.qz,this.iC=n.I.Ca(m),this.Eyc=null !== (r=l.nJ) && void 0 !== r?r:this.Z.config.nJ,this.Z.m6=!0,this.open()):(this.iC=n.I.qh,this.fja=this.Z.m6=!1,this.Z.events.Om("requestIssued",this.v_));};k.prototype.open=function(){var l,m;l=this;if(this.Z.m6 && !this.fja){m=[];m[h.default.Ep.U]=new f.default(this.Z.config,h.default.Ep.U);m[h.default.Ep.X]=new f.default(this.Z.config,h.default.Ep.X);m[h.default.Ep.Ba]=new f.default(this.Z.config,h.default.Ep.Ba);this.L_a=m;this.fja=!0;this.Z.events.on("openComplete",function(){return l.jDb();});this.jDb();this.Z.events.on("requestIssued",this.v_);}};k.prototype.jDb=function(){this.Z.events.emit("aseReportEnabled",{type:"asereportenabled"});};k.prototype.v_=function(l){l.result && l.streamList && (this.L_a[l.mediaType].add(l.result,l.streamList),++this.eMb >= this.Eyc && this.events.emit("collectionRequested"));};k.prototype.Qpc=function(){var l;l=(0,c.flatten)(this.L_a.map(function(m){return m.get();}).filter(function(m){return void 0 !== m;}));this.L_a.forEach(function(m){return m.reset(!0);});this.eMb=0;return l;};k.prototype.Pe=function(l){var m,p;m=l.mi;p=l.s$b;l=l.$xb || p || m === e.Ic.tj;return this.Z.m6 && this.fja && l && (l=this.Qpc()) && l.length?{hM:!0,event:{type:"asereport",strmsel:l}}:{hM:!1};};return k;})();b.s3a=a;},36414:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.K4a=void 0;d=a(35779);n=a(48170);c=a(91967);t=(function(){function h(f,e){this.AOc=f;this.Fj=e;}Object.defineProperties(h.prototype,{Hl:{get:function(){return ("cache-").concat(this.AOc);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bc:{get:function(){return this.Hl;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return n.l;},enumerable:!1,configurable:!0}});h.prototype.ph=function(f){var e,g,k;e=f.mi;f=f.Vr;if(e === c.Ic.Ol || e === c.Ic.Nq || e === c.Ic.tj || void 0 === e && void 0 === f){g=(0,d.Ctb)(this.Fj);e=Object.keys(g).filter(function(l){return g[l].isEnabled;});if(e.length){k={};e.forEach(function(l){k[l]={hit:g[l].BW,idx:g[l].Kka};});return {x2c:k};}}};return h;})();b.K4a=t;},67181:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.N4a=void 0;d=a(91176);n=a(65161);c=a(89527);h=a(91967);t=(function(){function f(e,g,k){this.la=e;this.ci=g;this.config=k;this.bc="CdnReporter";}Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.ph=function(e){var g,k,l;g=this;k=e.mi;l=e.Vr;e={};(l === h.Nd.nv || l === h.Nd.JQ || l === h.Nd.HG || l === h.Nd.yL || l === h.Nd.$t || l === h.Nd.rp) && (l=this.Gtb()) && (e.cdnidinfo={audio:{streaming_cdn_id:l.hMb,streaming_cdn_name:l.BPc,presenting_cdn_id:l.qGb,presenting_cdn_name:l.rGc},video:{streaming_cdn_id:l.lMb,streaming_cdn_name:l.EPc,presenting_cdn_id:l.sGb,presenting_cdn_name:l.uGc},text:{streaming_cdn_id:l.kMb,streaming_cdn_name:l.DPc,presenting_cdn_id:l.rGb,presenting_cdn_name:l.tGc},mediaevents:{streaming_cdn_id:l.iMb,streaming_cdn_name:l.CPc}});this.config.M8b && k === h.Ic.tj && (e.cdndldist=JSON.stringify((0,d.c5b)(Object.keys(this.ci).map(function(m){var p;p=g.ci[m];return Object.keys(p).map(function(r){var q;q=p[r];return {cdnid:q.ul,pbcid:q.ti,dls:Object.keys(q.sP).map(function(u){var v,w;u=q.sP[u];w=u.mediaType === n.v.X?"adlid":"dlid";return (v={tm:u.totalTime,bitrate:u.bitrate},v[w]=u.cc,v.vf=u.Mb,v);})};});}))));return e;};f.prototype.xOa=function(){var e;e=this.Gtb();if(e)return {V6:{audio:{Cda:e.hMb,cta:e.qGb},video:{Cda:e.lMb,cta:e.sGb},q1:{Cda:e.kMb,cta:e.rGb},GBb:{Cda:e.iMb}}};};f.prototype.Gtb=function(){var e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M,P,I,O;K=this.la.player;if(K.Qd){M=K.SA;P=M.M;I=P.Hi;O=null === (g=null === (e=M.Yd(n.v.X)) || void 0 === e?void 0:e.Qk) || void 0 === g?void 0:g.zb;e=null === (l=null === (k=M.Yd(n.v.U)) || void 0 === k?void 0:k.Qk) || void 0 === l?void 0:l.zb;k=null === (p=null === (m=M.Yd(n.v.Ba)) || void 0 === m?void 0:m.Qk) || void 0 === p?void 0:p.zb;m=null === (q=null === (r=P.Kh) || void 0 === r?void 0:r.ss) || void 0 === q?void 0:q.TK;r=null === (w=null === (v=null === (u=K.Xv.get(n.v.X)) || void 0 === u?void 0:u.dY(c.nU)) || void 0 === v?void 0:v.v9()) || void 0 === w?void 0:w.Uc;u=null === (z=null === (y=null === (x=K.Xv.get(n.v.U)) || void 0 === x?void 0:x.dY(c.nU)) || void 0 === y?void 0:y.v9()) || void 0 === z?void 0:z.Uc;x=null === (C=null === (A=null === (B=K.Xv.get(n.v.Ba)) || void 0 === B?void 0:B.dY(c.nU)) || void 0 === A?void 0:A.v9()) || void 0 === C?void 0:C.Uc;return {hMb:O,BPc:O?null === (D=null === I || void 0 === I?void 0:I.tG(O)) || void 0 === D?void 0:D.name:void 0,qGb:r,rGc:r?null === (F=null === I || void 0 === I?void 0:I.tG(r)) || void 0 === F?void 0:F.name:void 0,lMb:e,EPc:e?null === (G=null === I || void 0 === I?void 0:I.tG(e)) || void 0 === G?void 0:G.name:void 0,sGb:u,uGc:u?null === (E=null === I || void 0 === I?void 0:I.tG(u)) || void 0 === E?void 0:E.name:void 0,kMb:k,DPc:k?null === (H=null === I || void 0 === I?void 0:I.tG(k)) || void 0 === H?void 0:H.name:void 0,rGb:x,tGc:x?null === (J=null === I || void 0 === I?void 0:I.tG(x)) || void 0 === J?void 0:J.name:void 0,iMb:m,CPc:m?null === (L=null === I || void 0 === I?void 0:I.tG(m)) || void 0 === L?void 0:L.name:void 0};}};return f;})();b.N4a=t;},5479:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.h5a=void 0;d=a(79048);n=a(91967);t=(function(){function c(h){this.Ez=h;this.bc="content-playgraph";this.enabled=!0;}c.prototype.ph=function(h){var f,e,g,k,l;f=h.mi;h=h.Vr;if(f === n.Ic.Ol || f === n.Ic.Nq || f === n.Ic.tj || h === n.Nd.$t || h === n.Nd.HG || void 0 === f && void 0 === h){e=this.Ez.Ea;h=e.Hb.bH.Z;f=this.Ez;g=f.Ea.GQ || f.Ea;f=g.player;k=f.Qd?f.bh:g.tx?g.Zm:void 0;l=f=void 0;k && (h=(l=e.Hb.MG(k.L)) && h.ba[l],g=g.Z.ba[k.L],e=g.J,l=d.Dd.content,h && h.ap && h.J !== h.ap && (f=h.J,l=h.type || "content"),h && (null === h || void 0 === h?void 0:h.J) != e && (f=e,l=g.type),"adBreak" === g.type && (l=g.type));return {contentPlaygraph:this.Ez.Ez,auxMid:f,auxMidType:l};}};return c;})();b.h5a=t;},61996:function(t,b,a){var n,c,h,f;function d(e,g,k){var l,m,q;g=n.__assign({},null === (m=null === e || void 0 === e?void 0:e.context) || void 0 === m?void 0:m.call(e,{BDb:g,mm:k}));if((null === e || void 0 === e?0:e.mm) && k)if(!0 === e.mm)g.args=k;else {m={};g.args=m;try{for(var p=n.__values(e.mm),r=p.next();!r.done;r=p.next()){q=r.value;m[q]=k[q];}}catch(v){var u;u={error:v};}finally{try{r && !r.done && (l=p.return) && l.call(p);}finally{if(u)throw u.error;}}}return g;}Object.defineProperties(b,{__esModule:{value:!0}});b.un=b.sQa=b.fb=void 0;n=a(22970);c=a(66164);h=a(91176);f=a(48170);b.fb=function(e){return function(g,k,l){var m;m=l.value;l.value=function(){var p,r,q,u,v,w;r=(0,b.sQa)(this);if(r)(q=d(e,this,arguments),u=null !== (p=null === e || void 0 === e?void 0:e.methodName) && void 0 !== p?p:String(k),v=r.Hja(u,q,null === e || void 0 === e?void 0:e.Oe,null === e || void 0 === e?void 0:e.l6c));p=null === r || void 0 === r?void 0:r.NLa;r && (r.NLa=v);try{w=null === m || void 0 === m?void 0:m.apply(this,arguments);(0,h.xSa)(w) && (w=w.then(function(y){v && (null === e || void 0 === e?0:e.return) && (v.data.resolve=y);return y;},function(y){v && (v.data.reject=("").concat(y));return Promise.reject(y);}));return w;}catch(y){var x;x=y;throw y;}finally{r && (r.NLa=p);v && (v.data || (v.data={}),x?(v.data.error=("").concat(x),null === r || void 0 === r?void 0:r.R$b(v)):(null === e || void 0 === e?0:e.return) && !(0,h.xSa)(w) && (v.data.lRet=w));}};};};b.sQa=function(e){if(null === e || void 0 === e?0:e.bGa)return e.bGa;};t=(function(){function e(g){this.Hv=[];this.Qia=!1;this.NGa={};this.Ab=n.__assign({Ig:10},g);Object.defineProperties(g.Fj,{bGa:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(e.prototype,{source:{get:function(){return this.Ab.source;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{enabled:{get:function(){return !this.Qia;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{gvc:{get:function(){return n.__spreadArray([],n.__read(this.Hv),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Qrc:{get:function(){return this.NGa;},enumerable:!1,configurable:!0}});e.prototype.kg=function(g){var k,l,m;if(!this.Qia){l=(0,b.sQa)(this.Ab.Fj);m=null === l || void 0 === l?void 0:l.NLa;l && (null === (k=l.Ab.console) || void 0 === k?void 0:k.trace(("Adding additional item to ").concat(null === m || void 0 === m?void 0:m.methodName),g));m && (m.data=n.__assign(n.__assign({},m.data),g));}};e.prototype.Hja=function(g,k,l,m){var p,r,q,u;if(!this.Qia){q=!1;u=null === (r=(p=this.Ab).Sjb) || void 0 === r?void 0:r.call(p,this.Ab.Fj);p=d({},this.Ab.Fj);k=n.__assign(n.__assign(n.__assign({},u),p),k);u=0 < Object.keys(k).length;k={methodName:g,data:u?k:void 0,time:c.platform.time.ha()};m && this.NGa[g]++;l && this.Hv.length && (l=this.Hv[this.Hv.length - 1],l.methodName === g && (l.data=l.data || ({}),l.data.dedup=l.data.dedup || ({hitCount:1}),l.data.dedup.hitCount++,l.data.dedup.lJournal=k,q=!0));this.S$b(k);q || this.Hv.push(k);this.Hv.length > this.Ab.Ig && this.Hv.shift();return k;}};e.prototype.S$b=function(g){var k;f.l && (null === (k=this.Ab.console) || void 0 === k?void 0:k.trace(("").concat(this.Ab.source,"::").concat(g.methodName),g.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.Ab,g);};e.prototype.R$b=function(g){var k;f.l && (null === (k=this.Ab.console) || void 0 === k?void 0:k.error(("").concat(this.Ab.source,"::").concat(g.methodName),g.data));};e.prototype.Ka=function(){Object.defineProperties(this.Ab.Fj,{bGa:{enumerable:!1,value:null,configurable:!0}});this.Qia=!0;this.clear();};e.prototype.clear=function(){this.Hv=[];this.NGa={};};return e;})();b.un=t;},13580:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.z6a=void 0;d=a(65161);n=a(91967);t=(function(){function c(h){this.Zub=h;}Object.defineProperties(c.prototype,{bc:{get:function(){return "EllaReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});c.prototype.ph=function(h){var f,e;if(h.mi === n.Ic.tj){h={};f=this.Zub(d.v.X);e=this.Zub(d.v.U);f && (f=this.jtb(f,d.v.X)) && (h.Z1c=f);e && (e=this.jtb(e,d.v.U)) && (h.qbd=e);return 0 < Object.keys(h).length?h:void 0;}};c.prototype.jtb=function(h,f){var e;if((h=h.Ytb()) && (0 !== h.nw || 0 !== h.jea)){e=h.G6.map(function(g){var k;k={bitrate:g.bitrate,F0a:g.duration};f === d.v.U?k.T3c=g.Qa:k.d6=g.Qa;return k;});return {duration:h.nw,W9c:h.jea,G8c:h.iea,d4c:h.hea,o2c:e};}};return c;})();b.z6a=t;},7470:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.E6a=void 0;d=a(91967);t=(function(){function n(c){this.Sc=c;}Object.defineProperties(n.prototype,{bc:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});n.prototype.ph=function(c){var h;if(c.mi === d.Ic.tj && this.Sc){c={};h=this.Sc.get();h && h.avtp && h.avtp.Da && (c.avtp=h.avtp.Da,c.dltm=h.avtp.BMa);h && h.initialThroughput && h.initialThroughput.Da && (c.initial_avtp=h.initialThroughput.Da);h && h.cdnavtp && (c.cdnavtp=h.cdnavtp,c.activecdnavtp=h.activecdnavtp);if(h=this.Sc.JPa())(h.bytesRequestedPacingVideo && (c.bytesRequestedPacingVideo=h.bytesRequestedPacingVideo,c.estimatedBytesPacedVideo=h.estimatedBytesPacedVideo,c.bytestotalVideo=h.bytestotalVideo,c.pacedAvtpVideo=h.pacedAvtpVideo),h.bytesRequestedPacingAudio && (c.bytesRequestedPacingAudio=h.bytesRequestedPacingAudio,c.estimatedBytesPacedAudio=h.estimatedBytesPacedAudio,c.bytestotalAudio=h.bytestotalAudio,c.pacedAvtpAudio=h.pacedAvtpAudio),h.pacedAvtp && (c.pacedAvtp=h.pacedAvtp));this.Sc.flush();if(h=this.Sc.ICb)for(var f in h)h.hasOwnProperty(f) && (c["ne" + f]=Number(h[f]).toFixed(6));return c;}};return n;})();b.E6a=t;},8478:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.G6a=void 0;d=a(97967);n=a(91967);t=(function(){function c(h){this.Ama=h;this.Hl="engine";this.enabled=!0;}Object.defineProperties(c.prototype,{bc:{get:function(){return this.Hl;},enumerable:!1,configurable:!0}});c.prototype.ph=function(h){var f;f=h.mi;h=h.Vr;if(f === n.Ic.Ol || f === n.Ic.Nq || f === n.Ic.tj || void 0 === f && void 0 === h)return (f=this.Ama.sFc.map(function(e){var g;g=e.Z;return {id:g.id,weight:g.weight,relativeWeight:e.fca};}),f={prefetcher:this.Ama.RA.getStats(),playgraphs:f,viewables:this.Ama.iUc,players:this.Ama.qFc.length},d.vBa.instance && (f.mfCache=d.vBa.instance.STa.getStats()),f);};return c;})();b.G6a=t;},75462:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.r9a=void 0;d=a(22970);n=a(90745);c=a(91176);h=a(66164);f=a(65161);e=a(60028);t=(function(){function g(k,l,m,p,r,q){this.Z=k;this.Ef=l;this.Eh=p;this.Jj=r;this.wA="liveadbreak";this.iC=c.I.qh;this.events=new n.EventEmitter();this.Y6=e.v4.Sha;this.Oja=[];this.bC=new Map();this.console=(0,c.tf)(h.platform,q,"LiveAdBreakGenerationReporter");m.addListener("adBreakEvent",this.fVa.bind(this));m.addListener("adEvent",this.hVa.bind(this));k.events.addListener("streamSelected",this.QCc.bind(this));k.events.addListener("locationSelected",this.lCc.bind(this));}g.prototype.QCc=function(k){var l,m;l=Number(k.manifest.R);m={};this.bC.has(l) && (m=this.bC.get(l));switch(k.mediaType){case f.v.X:m.d6 || (m.d6=new Set());m.d6.add(Number(k.streamId));break;case f.v.U:(m.QT || (m.QT=new Set()),m.QT.add(Number(k.streamId)));}this.bC.set(l,m);!1;};g.prototype.lCc=function(k){var l,m;l=this.Jj.qY(k.L);if(l){!1;m=l.UWa;if(!m.KK && (l=l.Bg.Xb[m.fJ])){l=l.id;m={L:k.segmentId};this.bC.has(l) && (m=this.bC.get(l),m.L=k.segmentId);switch(k.o8c){case "audio":void 0 === m.Bsb && (m.Bsb=k.serverid);break;case "video":void 0 === m.Jsb && (m.Jsb=k.serverid);}this.bC.set(l,m);!1;}}};g.prototype.hVa=function(k){var l,m,p,r,q,u,v;if("adStart" === k.event){m=Number(k.S.R);p=this.bC.get(m);if(p && p.L){r=0;q=0;u=0;v=0;this.Z.Ya.hq(p.L).forEach(function(w){var x,y,z,B;w=w.gQ();r+=null !== (x=w.CO) && void 0 !== x?x:0;q+=null !== (y=w.PT) && void 0 !== y?y:0;u+=null !== (z=w.dJ) && void 0 !== z?z:0;v+=null !== (B=w.HM) && void 0 !== B?B:0;});p.CO=r;p.PT=q;p.dJ=u;p.HM=v;this.bC.set(m,p);!1;}}else if("adComplete" === k.event || "adStop" === k.event){m=Number(k.S.R);(p=this.bC.get(m))?this.bC.delete(m):!1;m=this.Z.player;k={liveAdInsertionType:k.Xs,auxMid:k.S.R,duration:k.MA.total,auxSoffms:h.platform.time.ha() - m.qk,auxMoffms:k.NWa.G,auxPlaybackcontextid:k.S.Sd,pbcid:null === (l=k.S.Bz) || void 0 === l?void 0:l.ti,firstAudioCdnId:null === p || void 0 === p?void 0:p.Bsb,firstVideoCdnId:null === p || void 0 === p?void 0:p.Jsb,abuflmsec:null === p || void 0 === p?void 0:p.CO,vbuflmsec:null === p || void 0 === p?void 0:p.PT,abuflbytes:null === p || void 0 === p?void 0:p.dJ,vbuflbytes:null === p || void 0 === p?void 0:p.HM};if(null === p || void 0 === p?0:p.d6)k.adlid=d.__spreadArray([],d.__read(p.d6),!1);if(null === p || void 0 === p?0:p.QT)k.vdlid=d.__spreadArray([],d.__read(p.QT),!1);this.Oja.push(k);!1;}};g.prototype.fVa=function(k){var l,m;if("adBreakComplete" === k.event || "adBreakStop" === k.event){m=this.Ef.get(k.nPb);m && m.Ob && ((m=this.Eh.slc(m.J,k.Lu))?(this.Mt={adBreakTriggerId:k.Xa,adBreakLocationMs:k.Lu,wasPrefetched:"daiPrefetch" === m.source,wasHydrated:"hydration" === m.source,lastEvent:k.event,isAutoskip:m.An,plannedAdBreakDuration:m.Xb.reduce(function(p,r){return p.add(r.endTime.ea(r.startTime));},c.I.ia).G,adBreakDurationSCTE:null === (l=m.nk) || void 0 === l?void 0:l.G,scteCancellationTriggered:m.n0a,fallbackAuxMidType:"content",plannedAdCount:m.Xb.length},k.Cm && (this.Mt.embeddedReason=k.Cm),0 < this.Oja.length && (this.Mt.adsRendered=this.Oja,this.Oja=[]),!1,this.events.emit("collectionRequested")):this.console.warn("Missing adBreakData for impression event",{graphPosition:k.Ih,adBreakLocationMs:k.Lu}));}};g.prototype.Pe=function(){var k;if(this.Mt){k=this.Mt;this.Mt=void 0;return {hM:!0,event:d.__assign({type:"logblob",wA:"liveadbreak"},k)};}return {hM:!1};};return g;})();b.r9a=t;},10940:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.s9a=void 0;d=a(22970);n=a(90745);c=a(91176);h=a(95407);f=a(60028);t=(function(){function e(g,k,l){this.Z=g;this.wA="liveadbreakprep";this.iC=c.I.qh;this.events=new n.EventEmitter();this.Y6=f.v4.Sha;k.addListener("adBreakHydrated",this.Lra.bind(this));k.addListener("adBreakHydrationFailed",this.GDb.bind(this));k.addListener("adBreakHydrationSkipped",this.GDb.bind(this));l.addListener("daiPrefetchComplete",this.ZBc.bind(this));l.addListener("daiPrefetchFailed",this.$Bc.bind(this));g.events.addListener("branchViewableReceived",this.UBc.bind(this));g.events.addListener("branchViewableFailed",this.TBc.bind(this));}e.prototype.KY=function(g,k){var l,m;m=this.Z.player.qk;return {requestTime:(null === k || void 0 === k?0:k.XA)?null === (l=g.Yc) || void 0 === l?void 0:l.yWa(k.XA):void 0,requestSoffms:(null === k || void 0 === k?0:k.XA)?k.XA - m:void 0,responseSoffms:(null === k || void 0 === k?0:k.ZA)?k.ZA - m:void 0};};e.prototype.UBc=function(g){var k,l,m,p,r,q,u,v,w,x;if(g.z5b && g.M.lk && g.M.lk.Ob && (null === (l=null === (k=g.M.lk.S) || void 0 === k?void 0:k.Od) || void 0 === l?0:l.ak)){k=g.uYa;q=g.Gv;l=g.K;l=null === (p=null === (m=this.Z.Cc) || void 0 === m?void 0:m.Jj) || void 0 === p?void 0:p.qY(l.id);l=(null === l || void 0 === l?void 0:l.Bg) || ({});m=l.Xa;p=l.An;l=l.wk;u=q || ({});q=u.Uea;v=u.JO;w=u.i1;x=u.iB;u=u.TD;this.Mt=d.__assign(d.__assign({prep:"auxManifest",auxMid:g.M.J.toString(),auxPlaybackcontextid:null === (r=g.M.S) || void 0 === r?void 0:r.Sd},this.KY(g.M.lk,k)),{windowDurationMs:q,anchorTime:v,targetOffsetMs:w,targetTime:x,timeRandomizationWasCalculated:u,adBreakTriggerId:m,autoskip:p,adBreakLocationMs:l});this.events.emit("collectionRequested");}};e.prototype.TBc=function(g){var k,l,m,p,r,q,u,v,w,x,y;if(g.lk && g.lk.Ob && (null === (l=null === (k=g.lk.S) || void 0 === k?void 0:k.Od) || void 0 === l?0:l.ak)){k=g.uYa;q=g.Gv;u=g.K;l=g.error;u=null === (p=null === (m=this.Z.Cc) || void 0 === m?void 0:m.Jj) || void 0 === p?void 0:p.qY(u.id);u=(null === u || void 0 === u?void 0:u.Bg) || ({});m=u.Xa;p=u.An;u=u.wk;v=q || ({});q=v.Uea;w=v.JO;x=v.i1;y=v.iB;v=v.TD;l=null !== (r=h.IB.e9(l)) && void 0 !== r?r:"failed";this.Mt=d.__assign(d.__assign({prep:"auxManifest",auxMid:g.J.toString()},this.KY(g.lk,k)),{windowDurationMs:q,anchorTime:w,targetOffsetMs:x,targetTime:y,timeRandomizationWasCalculated:v,adBreakTriggerId:m,autoskip:p,adBreakLocationMs:u,errorCode:l});this.events.emit("collectionRequested");}};e.prototype.Lra=function(g){var k,l,m,p,r,q,u,v,w,x;if(g.qm.Ob && null !== (k=g.qm.S.Od) && void 0 !== k && k.ak){k=g.Xa;l=g.V5;m=g.Gv || ({});p=m.aqb;r=m.bqb;q=m.Uea;u=m.i1;v=m.iB;m=m.TD;w=l.An;l=l.Xb;x=g.YD.wk;this.Mt=d.__assign(d.__assign({prep:"hydration"},this.KY(g.qm,g.NH)),{adBreakTriggerId:k,autoskip:w,adBreakLocationMs:x,adBreakDurationPlanned:null === l || void 0 === l?void 0:l.reduce(function(y,z){return y + z.ib - z.eb;},0),distanceFromLiveEdgeMs:p,distanceToAdBreakMs:r,windowDurationMs:q,targetOffsetMs:u,targetTime:v,timeRandomizationWasCalculated:m});this.events.emit("collectionRequested");}};e.prototype.GDb=function(g){var k,l,m,p,r,q,u,v,w,x;if(g.qm.Ob && null !== (k=g.qm.S.Od) && void 0 !== k && k.ak){k=g.NH;l=g.Xa;m=g.Gv || ({});p=m.aqb;r=m.bqb;q=m.Uea;u=m.i1;v=m.iB;m=m.TD;w=g.YD.wk;x=g.errorCode;x || (x="adBreakHydrationSkipped" === g.type?"skipped":"failed");this.Mt=d.__assign(d.__assign({prep:"hydration"},this.KY(g.qm,k)),{adBreakTriggerId:l,autoskip:void 0,adBreakLocationMs:w,errorCode:x,distanceFromLiveEdgeMs:p,distanceToAdBreakMs:r,windowDurationMs:q,targetOffsetMs:u,targetTime:v,timeRandomizationWasCalculated:m});this.events.emit("collectionRequested");}};e.prototype.ZBc=function(g){var k,l,m;if(g.M.Ob){k=g.NH;l=g.Gv;m=Object.keys(g.fGb.U5).filter(function(p){return "UPSERT" === g.fGb.U5[p].action;});this.Mt=d.__assign(d.__assign({prep:"prefetch"},this.KY(g.M,k)),{adBreakTriggerIds:m,windowOffsetMs:l.vwa,windowDurationMs:l.$Pb,presentationOffsetMs:l.ata,anchorSource:l.mkb,anchorTime:l.JO.G,targetOffsetMs:l.iB - l.vwa,targetTime:l.JO.G + l.ata + l.iB,timeRandomizationWasCalculated:l.TD});this.events.emit("collectionRequested");}};e.prototype.$Bc=function(g){var k,l,m,p;if(g.M.Ob){l=g.NH;m=g.Gv;p=null !== (k=g.errorCode) && void 0 !== k?k:"failed";this.Mt=d.__assign(d.__assign({prep:"prefetch"},this.KY(g.M,l)),{adBreakTriggerIds:void 0,windowOffsetMs:m.vwa,windowDurationMs:m.$Pb,presentationOffsetMs:m.ata,anchorSource:m.mkb,anchorTime:m.JO.G,targetOffsetMs:m.iB - m.vwa,targetTime:m.JO.G + m.ata + m.iB,timeRandomizationWasCalculated:m.TD,errorCode:p});this.events.emit("collectionRequested");}};e.prototype.Pe=function(){var g;if(this.Mt){g=this.Mt;this.Mt=void 0;return {hM:!0,event:d.__assign({type:"logblob",wA:"liveadbreakprep"},g)};}return {hM:!1};};return e;})();b.s9a=t;},29688:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.H9a=void 0;d=a(22970);n=a(90745);c=a(91176);h=a(65161);f=a(60028);e=a(91967);t=(function(){function g(k){this.Z=k;this.pv="liveReport";this.wA="livereport";this.iC=c.I.qh;this.events=new n.EventEmitter();this.Y6=f.v4.Sha;this.WE=!1;this.trace=[];this.RMa=[];this.rNb=1;0 < k.config.mAb && 0 < k.config.tTa && (this.iC=c.I.Ca(k.config.tTa),this.rNb=Math.max(Math.floor(k.config.mAb / k.config.tTa),1),this.WE=!0);}g.prototype.p$b=function(){var k,l,m,p;l=this.Z.player;if(l.Qd){m=l.SA;p=m.M;if(p=p.Ob?p:(null === (k=p.lk) || void 0 === k?0:k.Ob)?p.lk:void 0){if(((0,c.assert)(p.Yc,"Expected live viewable with presenting service"),k=p.Yc.uPa(!0).G,l=this.Z.Qm(l.Xd)))(l=this.Z.Mr(l).Pa,p=p.kh,k+=l.G,l=this.Z.fQ(),this.trace.push([p,k,l.totalabuflmsecs,l.totalvbuflmsecs]),this.o$b(m));}else this.WE=!1;}};g.prototype.o$b=function(k){var l,m,p,r,q;try{l=k.Yd(h.v.U);if(l){m=l.TOa();if(m){p=k.Bm;if(null !== p && void 0 !== p && p.PMa){r=p.hx.Ok();q=m.aR;this.RMa.push([r.toFixed(2),q.FD,q.dD,q.cH.toFixed(3),q.lH.toFixed(3)]);}}}}catch(u){}};g.prototype.Pe=function(k){var l,m,p;l=k.$xb;k=k.mi;this.WE && (l || k === e.Ic.Ol) && this.p$b();if(this.trace.length === this.rNb || 0 < this.trace.length && k === e.Ic.tj){l=this.trace;k=this.RMa;m=d.__read(l[l.length - 1],2);p=m[0];m=m[1];this.trace=[];this.RMa=[];return {hM:!0,event:{type:"livereport",samplinginterval:this.iC.G,trace:l,ellastat:k,encodingpipelinetime:p,devicepts:m}};}return {hM:!1};};return g;})();b.H9a=t;},27288:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.I9a=void 0;t=a(22970);d=a(26388);n=a(91176);c=a(6832);h=a(71460);f=t.__importDefault(a(40497));e=a(8149);g=a(13550);k=a(65161);l=a(91967);a=(function(){function m(p,r){this.zr=p;this.la=r;this.enabled=!0;this.tX={};this.yM={};r.events.on("liveMissingSegment",this.lIc.bind(this));}m.prototype.lIc=function(p){var r,q;p=p.mediaType;p=(0,k.UG)(p);(r=this.tX)[p] || (r[p]=0);(q=this.yM)[p] || (q[p]=0);this.tX[p]+=1;this.yM[p]+=1;};Object.defineProperties(m.prototype,{bc:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});m.prototype.ph=function(p){var r,q,u,v,w,x,y,z,B,A,C;p=p.Vr;if(p === l.Nd.rp || p === l.Nd.JQ || p === l.Nd.nv || p === l.Nd.$t || p === l.Nd.yda || p === l.Nd.GF || p === l.Nd.mca || p === l.Nd.HG){x=this.la.player;if(x.Qd){y=x.SA;z=y.M;B=z.lk || z;A=null === (r=y.Yd(d.v.U)) || void 0 === r?void 0:r.Qk;if(B.Ob && A){(0,n.assert)(B.Yc,"Expected live viewable with position service");r=B.Yc.uPa(!0).G;C=this.la.Qm(x.Xd);if(C){C=this.la.Mr(C).Pa;r={encodingpipelinetime:B.kh,devicepts:r + C.G};if(p === l.Nd.HG){(C=null === (q=x.Xv.get(d.v.U)) || void 0 === q?void 0:q.dY(c.Tha)) && (r.vbitrate=null === (u=C.v9()) || void 0 === u?void 0:u.stream.bitrate);(q=null === (v=x.Xv.get(d.v.X)) || void 0 === v?void 0:v.dY(c.Tha)) && (r.abitrate=null === (w=q.v9()) || void 0 === w?void 0:w.stream.bitrate);0 < Object.keys(this.yM).length && (r.liveMissingFragments=this.yM);0 < Object.keys(this.tX).length && (r.missingFragmentsDelta=this.tX,this.tX={});if(v=y.Yd(d.v.U))(v=v.track,r.minvencodingbitrate=v.tUa,r.maxvencodingbitrate=v.bUa);r.edgecushion=this.la.config.W$;}p === l.Nd.rp && (0,e.hk)(A) && (r.presentationtimeoffset=A.Jl.G);if(p === l.Nd.rp || p === l.Nd.$t)(v=f.default.instance().bQa(),u=this.zr.vPa(z),w=this.la.Aub(),q=new h.W7a(v,this.la.config,this.la.console),A=(0,g.Mua)(A.M,u.gR),r.presentationdelay=w,r.sessionStats=v,r.ishighandstable=q.Wtc(),r.isSlowBufferFilling=A,r.requestOffsetMs=B.Yc.kIb);if(p === l.Nd.rp || p === l.Nd.$t || p === l.Nd.HG)(B=this.la.Bub(),r.targetbufferduration=B);p === l.Nd.nv && (r.livePostplayEvents=z.Lwc,0 < Object.keys(this.yM).length && (r.missingFragments=this.yM,this.yM={}));r.usingElla=this.qtc();return r;}}}}};m.prototype.qtc=function(){var p,r;p=this.Yd(d.v.U);r=this.Yd(d.v.X);return (null === r || void 0 === r?void 0:r.K1a) || (null === p || void 0 === p?void 0:p.K1a) || !1;};m.prototype.Yd=function(p){var r,q;return null === (q=(r=this.la).getPipelineForPresentingBranch) || void 0 === q?void 0:q.call(r,p);};return m;})();b.I9a=a;},60028:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.X9a=b.v4=void 0;d=a(22970);n=a(90745);c=a(91967);(function(f){f[f.j5a=1]="Creation";f[f.Sha=2]="StartPlayback";})(h || (b.v4=h={}));t=(function(){function f(e,g,k){this.mc=e;this.console=g;this.events=k;this.HD={};this.zj=new n.af();}f.prototype.Xc=function(e){var g;g={BS:e,VJa:void 0};this.HD[e.wA]=g;e.Y6 === h.j5a && this.VYa(g);this.zj.on(e.events,"collectionRequested",this.YBc.bind(this,g));this.events.on("asereportconfigoverrides",this.tSc.bind(this));};f.prototype.Ka=function(){this.zj.clear();};f.prototype.Xvc=function(e){var g,k;g=this;k={mi:e};Object.keys(this.HD).forEach(function(l){l=g.HD[l];g.W0a(l.BS,k);e === c.Ic.Ol && l.BS.Y6 === h.Sha && g.VYa(l);});};f.prototype.YBc=function(e){var g;this.W0a(e.BS,{s$b:!0});null === (g=e.VJa) || void 0 === g?void 0:g.Tc();};f.prototype.VYa=function(e){var g,k,l,m;g=this;l=e.BS;m=this.mc.qla(function(){g.W0a(l,{$xb:!0});},l.iC,l.wA);null === (k=e.VJa) || void 0 === k?void 0:k.Ka();e.VJa=m;};f.prototype.W0a=function(e,g){var k;try{k=e.Pe(g);k.hM && (e.pv && this.events.emit(e.pv,k.event),this.events.emit("logblob",d.__assign({wA:e.wA},k.event)));}catch(l){this.console.error(("Error generating event for ").concat(e.wA),l);}};f.prototype.tSc=function(e){var g,k,l;g=this.HD.aseReport;if(void 0 !== g){k=g.BS;l=k.iC.G;k.QKb(e);l !== k.iC.G && this.VYa(g);}};return f;})();b.X9a=t;},12548:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.uab=void 0;d=a(22970);t=(function(){function n(){this.Qn={Pv:0,closed:0,Rc:0,events:[]};}Object.defineProperties(n.prototype,{bc:{get:function(){return "NetflixMediaEventsDataCollector";},enumerable:!1,configurable:!0}});n.prototype.Vqc=function(c){this.Qn.Pv++;this.Qn.events.push({id:c.id,pj:c.pj,action:"opened",timestamp:c.timestamp,duration:c.duration,TX:c.TX,x0a:c.x0a});};n.prototype.Uqc=function(c){this.Qn.closed++;this.Qn.events.push({id:c.id,pj:c.pj,action:"closed",timestamp:c.timestamp,TX:c.TX});};n.prototype.Tqc=function(c){this.Qn.Rc++;this.Qn.events.push({id:c.id,pj:c.pj,action:"cancelled",timestamp:c.timestamp,duration:c.nTc});};n.prototype.ylc=function(){if(this.qrc())return {Pv:this.Qn.Pv,closed:this.Qn.closed,Rc:this.Qn.Rc,events:d.__spreadArray([],d.__read(this.Qn.events),!1)};};n.prototype.qrc=function(){return 0 < this.Qn.Pv || 0 < this.Qn.closed || 0 < this.Qn.Rc;};n.prototype.reset=function(){this.Qn={Pv:0,closed:0,Rc:0,events:[]};};return n;})();b.uab=t;},63026:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.vab=void 0;d=a(91967);t=(function(){function n(c){this.En=c;}Object.defineProperties(n.prototype,{bc:{get:function(){return "NetflixMediaEventsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{enabled:{get:function(){return !!this.En;},enumerable:!1,configurable:!0}});n.prototype.ph=function(c){return c.mi === d.Ic.tj && this.En && (c=this.En.ylc())?{netflixMediaEvents:{opened:c.Pv,closed:c.closed,cancelled:c.Rc,events:c.events.map(function(h){return {id:h.id,applicationScope:h.pj,action:h.action,timestamp:h.timestamp,duration:h.duration,eventDelay:h.TX,timeSinceTriggeredMs:h.x0a};})}}:{};};n.prototype.Ka=function(){};return n;})();b.vab=t;},63172:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.$bb=void 0;d=a(65161);n=a(95324);c=a(91967);t=(function(){function h(f){this.Yd=f;}Object.defineProperties(h.prototype,{bc:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});h.prototype.ph=function(f){var e,g,k;f=f.mi;if(f === c.Ic.Nq || f === c.Ic.tj){f={};e=this.Yd(d.v.U);g=this.Yd(d.v.X);k=this.Yd(d.v.Ba);e && (f.videoPipelineSummary=this.a0a(e));g && (f.audioPipelineSummary=this.a0a(g));k && (f.textPipelineSummary=this.a0a(k));return f;}};h.prototype.a0a=function(f){var e,g,k,l,m;m=f.ue.Oa;m={actualStartPlayerTimestamp:null === (e=m.Qb) || void 0 === e?void 0:e.G,actualPartialPlayerTimestamp:m.aFb,completePlayerTimestamp:null === (g=f.Zj) || void 0 === g?void 0:g.G,segmentId:f.L,contentStartMs:null === (k=f.qa) || void 0 === k?void 0:k.G,contentEndMs:null === (l=f.xa) || void 0 === l?void 0:l.G,streamingPlayerMs:f.IH.G,isStreamable:f.Ex(),isNormalized:f.Kf(),isDoneStreaming:f.Vo(),trackNeedsHeaderRequest:f.track.Vaa,completedRequests:m.Bnb,activeRequests:f.ue.jm,unsentRequests:f.ue.CM,bytes:{current:m.ma,received:m.bca,partial:m.Tv,completed:m.fla,unsent:m.mSc}};f instanceof n.zga && (f.kAb && (m.liveMissingFragments=f.kAb),f=f.yZa,m.serverTimeDeltaUpdateStat={max:f.max,min:f.min,trace:f.trace,serverTime:f.xZa,count:f.count});return m;};return h;})();b.$bb=t;},46759:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Bcb=void 0;d=a(22970);n=a(48170);c=a(69575);h=a(91967);f=a(5653);t=(function(){function e(g,k){var l;l=this;this.OWa=g;this.la=k;this.PFb=new c.Lg();k.events.on("branchesReevaluated",function(){l.PFb.push(g.size);});}Object.defineProperties(e.prototype,{bc:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Hl:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{enabled:{get:function(){return n.l;},enumerable:!1,configurable:!0}});e.prototype.ph=function(g){var k;g=g.mi;if(g === h.Ic.Nq || g === h.Ic.tj){k={branchCountStats:this.PFb.toJSON(),decisions:this.la.fi.toJSON(),player:this.la.player.zv?this.la.player.Ya.map(function(l){return l.K.id;}):[]};this.OWa.forEach(function(l,m){var p,r;r=(0,f.IOa)(l);k[m]=d.__assign({probabilities:l.Tg.map(function(q){return {duration:q.duration,immediate:q.tK,seamless:q.rg};}),parent:null === (p=l.parent) || void 0 === p?void 0:p.K.id,normalized:l.Kf,hasViewable:l.Hm,headerRequested:l.Hm && l.M.Kwb},r);});return k;}};return e;})();b.Bcb=t;},14609:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Qcb=void 0;d=a(22970);n=a(91967);t=(function(){function c(h){this.Kc=h;d.__assign(d.__assign({},h),{failed:!0});}Object.defineProperties(c.prototype,{bc:{get:function(){return "PrefetchFailureReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Hl:{get:function(){return "prefetch";},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});c.prototype.ph=function(h){if(h.mi === n.Ic.Ol)return this.Kc;};return c;})();b.Qcb=t;},70764:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Scb=void 0;d=a(66164);n=a(91967);t=(function(){function c(){this.creationTime=d.platform.time.ha();this.Kc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}c.prototype.B5b=function(h){this.Z=h;};c.prototype.aLc=function(h,f){var e;h=null === (e=this.Z) || void 0 === e?void 0:e.In(h);this.Kc={isPrefetchItem:!0,prefetchedVideoMs:h.v1,prefetchedAudioMs:h.u1,prefetchClaimDurationMs:d.platform.time.ha() - this.creationTime,prefetchRank:f};};Object.defineProperties(c,{bc:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bc:{get:function(){return c.bc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});c.prototype.ph=function(h){if(h.mi === n.Ic.Ol)return this.Kc;};return c;})();b.Scb=t;},29739:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.rEa=void 0;d=a(22970);t=(function(){function n(c){this.Hl=c;this.bc=n.bc;this.enabled=!0;this.tKa=new Map();}n.prototype.vsc=function(c,h){this.tKa.set(c,{id:h || "",zua:c});};n.prototype.ph=function(c){var h;h=Array.from(this.tKa.values()).map(function(f){var e;e=f.id;f=f.zua.ph(c.mi,c.Vr);return [e,f];}).filter(function(f){return (f=d.__read(f,2)[1]) && Object.keys(f).length;});if(h.length)return {DJc:h.map(function(f){return {id:f[0],report:f[1]};})};};n.prototype.THb=function(c){this.tKa.delete(c);};n.bc="wrapped-reporter";return n;})();b.rEa=t;},91967:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.yha=b.Q4=b.Nd=b.Ic=b.l=void 0;d=a(22970);n=a(91176);c=a(67164);h=a(29739);b.l=!1;(function(e){e[e.Ol=0]="startPlayback";e[e.tj=1]="endPlayback";e[e.Nq=2]="underflow";})(f || (b.Ic=f={}));b.Nd={rp:"startplay",WG:"midplay",nv:"endplay",JQ:"intrplay",GF:"chgstrm",yL:"playbackaborted",mca:"renderstrmswitch",HG:"livereport",QL:"repos",$t:"resumeplay",yda:"statechanged",S1c:"aseReport",w7c:"liveerrorrestart",transition:"transition"};b.Q4={gD:"network",client:"client",S:"manifest",Nua:"oc_sc"};t=(function(){function e(g,k){this.config=g;this.console=k;this.HD=[new h.rEa("child")];}e.prototype.Xc=function(g){var k,l,m;m=d.__read((this.config.h5b || []).filter(function(p){return p.bc === g.bc;}),1)[0];(null !== (k=this.config.Zgc) && void 0 !== k?k:1) && (null !== (l=null === m || void 0 === m?void 0:m.enabled) && void 0 !== l?l:g.enabled)?this.HD.push(g):g.Ka && g.Ka();};e.prototype.kpc=function(g){return (0,n.ic)(this.HD,function(k){return k.bc === g.bc;});};e.prototype.ph=function(g,k){var l,m,p,u,v;m={};p=[];try{for(var r=d.__values(this.HD),q=r.next();!q.done;q=r.next()){u=q.value;try{v=u.ph({mi:g,Vr:k});v && (u.Hl?m[u.Hl]=v:m=d.__assign(d.__assign({},m),v));}catch(x){p.push(Error(("").concat(u.bc,"::").concat(x)));}}}catch(x){var w;w={error:x};}finally{try{q && !q.done && (l=r.return) && l.call(r);}finally{if(w)throw w.error;}}p.length && (m["rpt-error"]=c.c2.stringify(new c.c2("Reporting error",p)));b.l && (w=d.__read(n.dya.stringify(m),2),l=w[0],w[1].TLa && this.console.error("Cycles found in report generation",{payload:l,mi:g,Vr:k}));return m;};e.prototype.xOa=function(){var g,k,l,m,q,u;l={};m=[];try{for(var p=d.__values(this.HD),r=p.next();!r.done;r=p.next()){q=r.value;try{u=null === (k=q.xOa) || void 0 === k?void 0:k.call(q);u && (q.Hl?l[q.Hl]=u:l=d.__assign(d.__assign({},l),u));}catch(w){m.push(Error(("").concat(q.bc,"::").concat(w)));}}}catch(w){var v;v={error:w};}finally{try{r && !r.done && (g=p.return) && g.call(p);}finally{if(v)throw v.error;}}m.length && (l["rpt-error"]=c.c2.stringify(new c.c2("Reporting error",m)));b.l && (v=d.__read(n.dya.stringify(l),2),g=v[0],v[1].TLa && this.console.error("Cycles found in PDS report generation",{payload:g}));return l;};return e;})();b.yha=t;},5653:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.ztb=b.Yub=b.IOa=b.Ddb=void 0;d=a(22970);n=a(48170);c=a(91967);t=(function(){function h(f){this.Db=f;}Object.defineProperties(h.prototype,{bc:{get:function(){return h.bc;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Hl:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return n.l;},enumerable:!1,configurable:!0}});h.prototype.ph=function(f){var e,g,k,p;g=f.mi;k=f.Vr;f=g === c.Ic.Nq;if(g === c.Ic.tj || f || "transition" === k)if(g=this.Db.DOa()){k={};try{for(var l=d.__values(g.gFc),m=l.next();!m.done;m=l.next()){p=m.value;k[p.mediaType]=this.Yxc(p);}}catch(q){var r;r={error:q};}finally{try{m && !m.done && (e=l.return) && e.call(l);}finally{if(r)throw r.error;}}return {branchQueue:(0,b.ztb)(g.JHc,f),playerIterator:k,driftStats:this.Db.$1a};}};h.prototype.Yxc=function(f){return null === f || void 0 === f?void 0:f.oub();};h.bc="queue-audit";return h;})();b.Ddb=t;b.IOa=function(h,f){var e,g;if(h){e=h.K;g={};h.px().forEach(function(k){g[k.mediaType]=(0,b.Yub)(k,f);});return {sId:null === e || void 0 === e?void 0:e.id,cancelled:h.Rc,RM:g};}return h;};b.Yub=function(h,f){var e,g,k,l;if(h && h.ue)return (f=f?h.ue.jmc():{},d.__assign(d.__assign(d.__assign({},h.ue.qvb()),{unsentRequests:h.ue.CM,lastFragmentContentEndPts:null === (e=h.nd) || void 0 === e?void 0:e.xa.G,trackAttributes:null === (g=h.track) || void 0 === g?void 0:g.Kr(),bitrate:null === (k=h.nd) || void 0 === k?void 0:k.bitrate,lastAppendedTimestamp:null === (l=h.szb) || void 0 === l?void 0:l.G}),f));};b.ztb=function(h,f){return h.map(function(e){return (0,b.IOa)(e,f);});};},650:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Gdb=void 0;d=a(91967);t=(function(){function n(c,h){this.Sc=c;this.ns=h;}Object.defineProperties(n.prototype,{bc:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});n.prototype.ph=function(c){var h,f;h=c.mi;f=c.Vr;c={};if(h === d.Ic.tj || h === d.Ic.Nq || void 0 === h && void 0 === f)(c.numOutstandingRequests=this.ns.sDb,c.requestOpportunityDelayStats=this.ns.lIb,(h=this.Sc.T2b) && h.length && (c.activeRequests=JSON.stringify(h)));return c;};return n;})();b.Gdb=t;},26012:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.LEa=void 0;d=a(91967);t=(function(){function n(){this.Hl=this.bc=n.bc;this.enabled=!0;this.Fca=[];this.GIb=0;}n.prototype.L3b=function(c){this.Fca.push(c);5 < this.Fca.length && this.Fca.shift();};n.prototype.M3b=function(){this.GIb++;};n.prototype.ph=function(c){var h;h=c.mi;c=c.Vr;if((h === d.Ic.Ol || h === d.Ic.Nq || h === d.Ic.tj || void 0 === h && void 0 === c) && this.Fca.length)return {restarts:this.Fca.map(function(f){return {s:f.BOc,d:f.mfc,r:f.pHb,atMs:f.NWa.G};}),restartsCompleted:this.GIb};};n.bc="seamlessManager";return n;})();b.LEa=t;},35438:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Leb=void 0;d=a(22970);n=a(90745);c=a(65161);h=a(91967);t=(function(){function f(e){this.la=e;this.hhb=!1;this.uj=new n.af();this.uj.addListener(this.la.events,"streamSelection",this.v_.bind(this));}f.prototype.v_=function(e){this.hhb || (e.mediaType === c.v.X && void 0 === this.IRa?this.IRa=e:e.mediaType === c.v.U && void 0 === this.KRa && (this.KRa=e));};f.prototype.Ka=function(){this.KRa=this.IRa=void 0;this.uj.clear();this.hhb=!0;};Object.defineProperties(f.prototype,{bc:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.ph=function(e){var g,k,l,m,p,r,q;if(e.mi === h.Ic.Ol){r=d.__read(this.la.rx().filter(function(u){var v,w;return !(null === (w=null === (v=u.S) || void 0 === v?void 0:v.Od) || void 0 === w || !w.ak);}),1)[0];e=this.KRa || this.IRa;q=null === e || void 0 === e?void 0:e.result;r={histbw:null === (k=null === (g=null === q || void 0 === q?void 0:q.xb) || void 0 === g?void 0:g.jb) || void 0 === k?void 0:k.Da,histinitbw:null === (m=null === (l=null === q || void 0 === q?void 0:q.xb) || void 0 === l?void 0:l.wx) || void 0 === m?void 0:m.Da,histdiscbw:null === q || void 0 === q?void 0:q.Dt,histage:null === (p=null === q || void 0 === q?void 0:q.xb) || void 0 === p?void 0:p.gW,daiSupported:!!r};g=null === e || void 0 === e?void 0:e.streamList.map(function(u){return void 0 !== u.Dma?{vmaf:u.Dma,streamIndex:u.jw,streamId:u.Qa}:void 0;}).filter(function(u){return void 0 !== u;});0 < (null === g || void 0 === g?void 0:g.length) && (r.vmafEstimates=g);this.Ka();return r;}this.Ka();};return f;})();b.Leb=t;},37058:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.ifb=void 0;d=a(66164);n=a(90745);c=a(48170);h=a(91967);t=(function(){function f(e){this.mc=e;this.sJ=[];this.reset();}Object.defineProperties(f.prototype,{bc:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Hl:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return c.l;},enumerable:!1,configurable:!0}});f.prototype.reset=function(){var e,g;e=this;null === (g=this.Gr) || void 0 === g?void 0:g.clear();this.Gr=new n.af();this.Gr.on(this.mc,"clockChanged",function(){e.reset();e.N8("initial");});this.Gr.on(this.mc,"stopping",function(){e.N8("stopping");});this.Gr.on(this.mc.La,"clockAdjusted",function(){e.N8("clockAdjusted");});this.Gr.on(this.mc.La,"stopStart",function(){e.N8("stopStart");});this.Gr.on(this.mc.La,"speedChanged",function(){e.N8("speedChanged");});};f.prototype.N8=function(e){this.sJ.push({reason:e,audit:this.mc.gq(),time:d.platform.time.ha()});5 < this.sJ.length && this.sJ.shift();};f.prototype.ph=function(e){var g;g=e.mi;e=e.Vr;if(g === h.Ic.Ol || g === h.Ic.Nq || g === h.Ic.tj || void 0 === g && void 0 === e)return this.sJ;};return f;})();b.ifb=t;},73036:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.jfb=void 0;d=a(48170);n=a(40666);c=a(91967);t=(function(){function h(f){var g;function e(){var k;if(f.x0){k=f.x0.ihc();g.sJ.add(k.gq());}}g=this;this.mc=f;this.sJ=new Set();f.on("clockChanged",e);f.on("rootSchedulerReleasing",function(k){k.x0.ewa && g.sJ.add(k.x0.ewa.gq());});e();}Object.defineProperties(h.prototype,{bc:{get:function(){return "task-verbose-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Hl:{get:function(){return "tsch-verbose";},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{enabled:{get:function(){return d.l;},enumerable:!1,configurable:!0}});h.prototype.ph=function(f){var e,g,k;if(f.mi === c.Ic.tj){null === (g=null === (e=this.mc) || void 0 === e?void 0:e.x0.ewa) || void 0 === g?void 0:g.gq();this.sJ.forEach(function(l){k=k?n.sV.reduce(k,l):l;});return k;}};return h;})();b.jfb=t;},54366:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.so=void 0;d=a(22970);n=a(48170);c=a(69575);h=a(91967);t=(function(){function f(e,g){this.Ze=e;this.options=d.__assign({Xmb:!0},g);}Object.defineProperties(f.prototype,{Hl:{get:function(){return ("trace-").concat(this.Ze.source);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bc:{get:function(){return this.Hl;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return n.l;},enumerable:!1,configurable:!0}});f.prototype.ph=function(e){var g,k,l;g=e.mi;k=e.Vr;if(g === h.Ic.tj || g === h.Ic.Nq){e=(0,c.xec)(this.Ze.gvc);l=this.Ze.Qrc;g === h.Ic.tj && this.options.Xmb && "liveerrorrestart" !== k && this.Ze.clear();g=e;Object.keys(l).length && (g=d.__spreadArray(d.__spreadArray([],d.__read(e),!1),[l],!1));if(g.length)return g;}};f.prototype.Ka=function(){var e;null === (e=this.Ze) || void 0 === e?void 0:e.Ka();};return f;})();b.so=t;},19089:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Edb=void 0;d=a(22970);n=a(66164);c=a(91176);a(97685);h=a(52571);f=a(61996);e=a(69575);t=(function(){var g8A;g8A=2;function g(k,l,m){var o$3,p;o$3=2;for(;o$3 !== 12;){switch(o$3){case 13:this.lIb=new e.Lg();o$3=12;break;case 3:var T3E="Re";T3E+="qu";T3E+="es";T3E+="tP";T3E+="acer";var b$d="1S";b$d+="IYb";b$d+="ZrNJCp";b$d+="9";var C$T="medi";C$T+="a";C$T+="|ase";C$T+="js";var g33="ASEJS_R";g33+="EQUE";g33+="ST_PACER";this.kO=0;this.console=new n.platform.Console(g33,C$T);this.XYa=!1;this.Bpb=-Infinity;b$d;this.Hv=new f.un({Fj:this,source:T3E,Sjb:function(){var k8V;k8V=2;for(;k8V !== 1;){switch(k8V){case 2:return {numOutstanding:p.kO};break;case 4:return {numOutstanding:p.kO};break;}}},Ig:10});o$3=13;break;case 2:p=this;this.vpa=k;this.kj=l;this.config=m;o$3=3;break;}}}for(;g8A !== 12;){switch(g8A){case 2:Object.defineProperties(g.prototype,{sDb:{get:function(){var e3n;e3n=2;for(;e3n !== 1;){switch(e3n){case 4:return this.kO;break;case 2:return this.kO;break;}}},enumerable:!1,configurable:!0}});g.prototype.Jk=function(){var Q16,k,l;Q16=2;for(;Q16 !== 9;){switch(Q16){case 2:k=this;Q16=1;break;case 7:k=this;Q16=5;break;case 1:Q16=!this.XYa?5:9;break;case 6:Q16=-this.XYa?2:6;break;case 3:return Promise.resolve().then(function(){var Z54;Z54=2;for(;Z54 !== 5;){switch(Z54){case 2:k.XYa=!1;k.Gmb(l);Z54=5;break;}}});break;case 5:this.XYa=!0;l=n.platform.time.ha();Q16=3;break;}}};g.prototype.Tw=function(k){var s_g,l,m;s_g=2;for(;s_g !== 3;){switch(s_g){case 2:this.Hv.kg({mediaType:k.mediaType,contentStartPts:null === (l=k.qa) || void 0 === l?void 0:l.G,contentEndPts:null === (m=k.xa) || void 0 === m?void 0:m.G});this.kO++;s_g=4;break;case 4:var q3q="M";q3q+="ore than ";q3q+="maxAllowedOutsta";q3q+="ndingR";q3q+="equests are outstanding";(0,h.assert)(this.kO <= this.config.HZ,q3q);s_g=3;break;}}};g.prototype.ey=function(k){var o41,l,m;o41=2;for(;o41 !== 9;){switch(o41){case 4:var S3x="prun";S3x+="edR";S3x+="equ";S3x+="e";S3x+="st";var O7T="Received remove request when there are no requ";O7T+="ests outstandin";O7T+="g";(0,h.assert)(0 <= this.kO,O7T);this.Jk(S3x);o41=9;break;case 2:this.Hv.kg({mediaType:k.mediaType,contentStartPts:null === (l=k.qa) || void 0 === l?void 0:l.G,contentEndPts:null === (m=k.xa) || void 0 === m?void 0:m.G});this.kO--;o41=4;break;}}};g8A=3;break;case 3:var k9F="G";k9F+="m";k9F+="b";var I5R="ch";I5R+="eckR";I5R+="equestOppo";I5R+="rtu";I5R+="nityRunner";var v9m="e";v9m+="y";var v$9="remov";v$9+="eR";v$9+="equest";var o8l="T";o8l+="w";var Q_j="ad";Q_j+="dRe";Q_j+="qu";Q_j+="e";Q_j+="st";var j19="J";j19+="k";var g1R="checkRequestOppor";g1R+="tun";g1R+="ity";g.prototype.Gmb=function(k){var K$W,r,l,m,p;K$W=2;for(;K$W !== 6;){switch(K$W){case 4:var b67="nu";b67+="mbe";b67+="r";r=this.vpa();!r.Lf && b67 === typeof r.zX && this.Lqc(r);K$W=9;break;case 1:this.lIb.push(m);K$W=5;break;case 2:(l=this.config.HZ,m=n.platform.time.ha() - k,p=0);K$W=1;break;case 9:K$W=!r.Lf?7:8;break;case 5:K$W=this.kO < l?4:7;break;case 8:p++;K$W=5;break;case 7:var P9o="requestO";P9o+="pportunityRunne";P9o+="rCo";P9o+="mplete";this.Hv.Hja(P9o,{requestsIssued:p,scheduledMs:k,timeSinceScheduled:m},!0);K$W=6;break;}}};g.prototype.Lqc=function(k){var F_Z;F_Z=2;for(;F_Z !== 1;){switch(F_Z){case 2:d.__awaiter(this,void 0,void 0,function(){var L9I,l,m;L9I=2;for(;L9I !== 5;){switch(L9I){case 2:m=this;return d.__generator(this,function(){var K4T;K4T=2;for(;K4T !== 7;){switch(K4T){case 2:l=k.zX;K4T=1;break;case 1:K4T=this.Kla && l < this.Bpb?5:9;break;case 5:this.Kla.Ka();K4T=4;break;case 8:return [2];break;case 4:var g3i="deferredAvailabili";g3i+="tyT";g3i+="ask";this.Kla=this.kj.pt(c.Vd.Rl(c.I.Ca(l)),function(){var e2v;e2v=2;for(;e2v !== 4;){switch(e2v){case 2:var Z8G="deferred";Z8G+="Availabilit";Z8G+="yDel";Z8G+="ay";m.Jk(Z8G);m.Kla=void 0;e2v=5;break;case 5:m.Bpb=-Infinity;e2v=4;break;}}},g3i);return [2];break;case 9:K4T=this.Kla?8:4;break;}}});break;}}});F_Z=1;break;}}};d.__decorate([(0,f.fb)({methodName:g1R,Oe:!0,mm:!0})],g.prototype,j19,null);d.__decorate([(0,f.fb)({methodName:Q_j,Oe:!0})],g.prototype,o8l,null);d.__decorate([(0,f.fb)({methodName:v$9,Oe:!0})],g.prototype,v9m,null);d.__decorate([(0,f.fb)({methodName:I5R,Oe:!0})],g.prototype,k9F,null);return g;break;}}})();b.Edb=t;},14242:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Jeb=void 0;d=a(91176);n=a(7559);c=a(65161);t=(function(){function h(f,e){this.cn=f;this.console=e;this.ara=Infinity;this.Anb=this.wYa=0;this.fSc=!1;}h.prototype.Njc=function(f,e,g,k,l){var m;if(this.cn){m=f.Oa;if(m){if(g === c.v.U)(g=m.fG(Math.ceil(this.cn * f.Fa.QA),void 0,!0),m=f.yt(g),f=m.Vb.gf(f.Fa),m.Qh({start:0,end:this.cn - g * f}),this.ara=this.cn);else {void 0 !== k.yLb?(e=k.yLb,g=e * f.Fa.G):(g=(0,n.Oub)(k,l) + Math.ceil(k.P5b * f.Fa.QA),d.I.Ca(g).gf(f.Fa),g=e + g,e=Math.ceil(g / f.Fa.QA));g=m.fG(g,void 0,!0);for(l=k=0;l < g;++l)(m=f.yt(l),k+=m.Vb.gf(f.Fa));k=e - k;m=f.yt(g);m.Qh({end:k});this.ara=e;}m.fBb();return m;}}};h.prototype.prc=function(){return this.Anb >= this.ara;};h.prototype.Dsc=function(f,e){this.wYa+=this.Tz(f,e);};h.prototype.mic=function(f,e,g){f.wYa=this.Tz(e,g);};h.prototype.Tz=function(f,e){return f.Vb.gf(e.Fa);};h.prototype.Cz=function(){if(!this.prc())return !1;if(this.fSc)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.Anb," >= ").concat(this.ara));return !0;};return h;})();b.Jeb=t;},2983:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.U4b=function(d,n,c,h){var f,e;f=!0;c.forEach(function(g){var k;if(f && d === g.profile){k=g.ranges;f=void 0 === k?n >= g.min && n <= g.max:k.some(function(l){return n >= l.min && n <= l.max;});!f && g.disallowed && g.disallowed.some(function(l){if(l.stream.bitrate === n)return (e=l.disallowedBy,!0);});}});a && h.trace("applyFilters: profile:" + d + ", bitrate:" + n + ", inRange:" + f + ", disallowed by:" + e);return {inRange:f,Zla:e};};a=!1;},72793:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.j3a=void 0;d=a(66164);n=a(65161);c=a(7559);t=(function(){function h(f){this.config=f;}h.prototype.oh=function(f,e,g,k,l){var m,p;m=this.config;p=d.platform.CY()[n.v.X];return f.filter(function(r){var q,u;q=(0,c.Elc)(r,m);u=r.bitrate * q.VZ / 8 > p;return (l === n.Tb.sn?r.bitrate >= q.Ox && r.bitrate <= q.Ot:r.bitrate >= q.wzc && r.bitrate <= q.lyc) && !u;});};return h;})();b.j3a=t;},86450:function(t,b,a){var n;function d(c,h){h=Math.max(c,h);return isNaN(h)?c || -Infinity:h;}Object.defineProperties(b,{__esModule:{value:!0}});b.k3a=void 0;n=a(65161);t=(function(){function c(h){this.config=h;this.QXa=0;this.state=n.Ld.Uy;this.lCb=d(h.yR,h.xR);this.yUa=d(h.XG,h.wR);}c.prototype.oh=function(h,f){var e;e=this;if(f !== this.state){this.state=f;if(f === n.Ld.Ff || f === n.Ld.Vha)return h;f === n.Ld.$l && this.aIc();}return h.filter(function(g){return !(void 0 !== g.Mb && g.Mb < e.yUa || (void 0 === g.Mb || 0 > e.yUa) && g.bitrate < e.lCb);});};c.prototype.aIc=function(){++this.QXa;this.yUa=d(this.config.XG,this.config.wR - this.config.tzc * this.QXa);this.lCb=this.config.yR || -Infinity;};return c;})();b.k3a=t;},84909:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.u3a=void 0;d=a(91176);t=(function(){function n(c){this.config=c;}n.prototype.CNc=function(c){return c % 100 + 1 <= this.config.xba;};n.prototype.oh=function(c){var h,f,e,g,k,l,m,p,r,q,u;m=Number(null === (h=c[0]) || void 0 === h?void 0:h.R);if(!(this.config.NX && this.CNc(m) && 0 < this.config.t0.length))return c;h=c.length;p=null !== (f=c[h - 1].IS) && void 0 !== f?f:0;if(f=(0,d.ic)(this.config.t0,function(v){return v.e$c >= p && v.zIb <= p;})){for(m=0;m < h;m++){r=c[Math.max(m - 1,0)];q=c[m];if(!((null !== (e=q.IS) && void 0 !== e?e:0) < f.zIb || (null !== (g=r.IS) && void 0 !== g?g:0) < f.zIb)){u=null !== (k=q.Mb) && void 0 !== k?k:Infinity;r=null !== (l=r.Mb) && void 0 !== l?l:Infinity;if(!(r < f.D8c || r < f.C8c && q.bitrate < f.maxBitrate || !u && q.bitrate < f.X7c))break;}}return c.slice(0,m);}return c;};return n;})();b.u3a=t;},58844:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.v3a=void 0;t=(function(){function a(d){this.config=d;}a.prototype.oh=function(d){var n;n=this.config;return d.filter(function(c){return !(void 0 !== c.Mb && (c.Mb < n.XG || c.Mb > n.iBb) || (void 0 === c.Mb || 0 >= n.XG) && c.bitrate < n.yR || (void 0 === c.Mb || Infinity === n.iBb) && c.bitrate > n.taa);});};return a;})();b.v3a=t;},72351:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.r7=function(h,f){f && (null === h || void 0 === h?0:h.Ywb) && (f=new c.Vy(f).or(c.GN));return new c.Vy(c.zxa).and(f || c.GN).or(c.lBa,d.F4.UP).or(c.mBa,d.F4.UP);};b.s7=function(h,f,e){e && f.Ywb && (e=new c.Vy(e).or(c.GN));return f.CNa && Object.keys(f.CNa).length?new c.Vy(new n.P6a(f,h)):new c.Vy(c.zxa).and(new c.w3a()).and(new c.v3a(f)).and(new c.k3a(f)).and(new c.A3a(f)).and(new c.v9a(h,f)).and(f.NX?new c.u3a(f):c.GN).and(e || c.GN).or(c.lBa,d.F4.UP).or(c.mBa,d.F4.UP);};d=a(12986);n=a(84132);c=a(63576);},96077:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.w3a=void 0;d=a(65161);t=(function(){function n(){}n.prototype.oh=function(c,h){return h !== d.Ld.Jp?c.filter(function(f){return f.tv;}):c;};return n;})();b.w3a=t;},48867:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.P4=void 0;d=a(66164);n=a(48170);c=a(2983);t=(function(){function h(f){this.console=f;this.spb=[];this.ylb={};this.Upb=!1;}h.prototype.Kua=function(f,e){this.spb=f;void 0 !== e?this.ylb[e]=f:this.Upb || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.Upb=!0);};h.prototype.oh=function(f){var e,g,k,l;e=this;if(0 === f.length)return f;k=f[0].J;if(void 0 === k)return (this.console.error("StreamFilters: Stream has undefined viewable id"),f);try{null === (g=d.platform.oC) || void 0 === g?void 0:g.call(d.platform,k);}catch(m){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + m),f);}l=this.ylb[k] || this.spb;n.l && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(f.length," streams with ").concat(JSON.stringify(l)));f=f.filter(function(m){return (0,c.U4b)(m.profile,m.bitrate,l,e.console).inRange;});n.l && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(f.length," streams in range"));return f;};return h;})();b.P4=t;},19092:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.A3a=void 0;t=(function(){function a(d){var n;n=this;d.Y0 && d.Y0.enabled && d.Y0.profiles && d.Y0.profiles.length && "keepLowest" === d.Y0.action && (this.hzb={},d.Y0.profiles.forEach(function(c){return n.hzb[c]=!0;}));}a.prototype.oh=function(d){var n,c;n={};c=this.hzb;return void 0 === c?d:d.filter(function(h){return !c[h.profile] || (n[h.profile]?!1:n[h.profile]=!0);});};return a;})();b.A3a=t;},13904:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.lBa=b.zxa=void 0;d=a(91176);b.zxa={oh:function(n){return n.filter(function(c){return c.Uo && !c.Nn;});}};b.lBa={oh:function(n){return (n=(0,d.ic)(n,function(c){return !!c.Uo && !c.Nn;}))?[n]:[];}};},84132:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.P6a=void 0;t=(function(){function a(d,n){this.config=d;this.console=n;}a.prototype.oh=function(d){var n;if(0 === d.length)return d;n=this.config.CNa[d[0].R];return void 0 !== n?(!1,d=d.filter(function(c){return ("").concat(c.id) === ("").concat(n);}),0 === d.length && !1,d):d;};return a;})();b.P6a=t;},63576:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(62964),b);t.__exportStar(a(96077),b);t.__exportStar(a(48867),b);t.__exportStar(a(19092),b);t.__exportStar(a(58844),b);t.__exportStar(a(86450),b);t.__exportStar(a(84909),b);t.__exportStar(a(13904),b);t.__exportStar(a(25320),b);t.__exportStar(a(12986),b);t.__exportStar(a(86543),b);t.__exportStar(a(72351),b);t.__exportStar(a(7520),b);t.__exportStar(a(77154),b);t.__exportStar(a(72793),b);},77154:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.v9a=void 0;d=a(8149);t=(function(){function n(c,h){this.console=c;this.config=h;}n.prototype.oh=function(c){var h,f;if(!this.config.sTc || 0 === c.length)return c;if((0,d.Xo)(c[0].track))h=c[0].track.vZ;if(void 0 === h || 0 === h)return c;f=c.filter(function(e){return e.bitrate > h?!1:!0;});return 0 < f.length?f:[c[0]];};return n;})();b.v9a=t;},86543:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mBa=void 0;b.mBa={oh:function(a){return a.length?[a[0]]:[];}};},7520:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Y3=void 0;d=a(91176);n=a(48170);t=(function(){function c(h,f){this.console=h;this.config=f;this.B1a=!1;}c.prototype.oh=function(h,f,e,g){void 0 === e && (e=d.I.ia);void 0 === g && (g=!1);n.l && this.console.trace("Filtering streams for fastplay",{B1a:this.B1a,Pa:e.G,X6c:g});if(this.B1a || e.G >= this.config.ryc || !1 === g){f=h.filter(this.dgc);if(f.length)return f;n.l && this.console.trace("No drm streams to return");}f=h.filter(this.X9b);if(f.length)return f;n.l && this.console.trace("No clear streams to return");return h;};c.prototype.dgc=function(h){return h.gk;};c.prototype.X9b=function(h){return !h.gk;};return c;})();b.Y3=t;},25320:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GN=void 0;b.GN={oh:function(a){return a;}};},12986:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Vy=b.F4=void 0;d=a(25320);(function(c){c[c.uD=0]="primary";c[c.UP=1]="fallback";})(n || (b.F4=n={}));t=(function(){function c(h,f){var e,g;void 0 === f && (f=!1);g=this;this.Qka=f;this.filters=(e={},e[n.uD]=[],e[n.UP]=[],e);Array.isArray(h)?h.forEach(function(k){return g.and(k,n.uD);}):this.and(h);}c.prototype.and=function(h,f){void 0 === f && (f=n.uD);h !== d.GN && this.filters[f].push({filter:h,Jnb:!0});return this;};c.prototype.or=function(h,f){void 0 === f && (f=n.uD);this.filters[f].push({filter:h,Jnb:!1});return this;};c.prototype.filter=function(h){var f;f=this;[n.uD,n.UP].forEach(function(e){f.filters[e]=f.filters[e].filter(function(g){return h(e,g.filter);});});};c.prototype.oh=function(h,f,e,g){var k;k=this;return [n.uD,n.UP].reduce(function(l,m){return k.filters[m].reduce(function(p,r){r.Jnb?p=r.filter.oh(p,f,e,g):0 === p.length && (p=r.filter.oh(h,f,e,g));return p;},l);},h);};return c;})();b.Vy=t;},62964:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},89613:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Seb=b.pZb=void 0;d=a(22970);t=a(66164);n=a(52571);c=a(95591);a=a(82149);h=new t.platform.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);f=!0;}catch(g){f=!1;}e=(function(g){function k(l,m){m=g.call(this,l.Nj,m) || this;m.mT=l;return m;}d.__extends(k,g);Object.defineProperties(k.prototype,{ma:{get:function(){return this.mT.kLb(this.Yh);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{offset:{get:function(){return this.mT.zf(this.Yh);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Wqa:{get:function(){return this.mT.a_ && this.mT.a_[this.Yh];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{lm:{get:function(){return this.mT.xlc(this.Yh);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Mb:{get:function(){return this.mT.eE && this.mT.eE[this.Yh];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{AJa:{get:function(){return 8 * this.ma / (1E3 * this.QJ / this.P);},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.tb,contentEndTicks:this.Ib,durationTicks:this.QJ,timescale:this.P,startPts:this.qa.G,endPts:this.xa.G,duration:this.Vb.G,additionalSAPs:this.lm};};return k;})(a.zfb);b.pZb=e;t=(function(){function g(k,l,m,p,r,q,u){this.m_=128;this.De=l;this.offset=m.offset;this.sizes=m.sizes;this.jw=k;this.FW=this.N6=this.eja=this.sr=this.PHa=void 0;this.c1b=p;this.eGa=r && r.zf;this.ZHa=q;this.LI=Math.min(this.De.length,this.sizes.length);k=this.U7b();this.W0b=k.maxBitrate;this.X0b=k.Ig;this.Nj.bz.length !== this.sizes.length && h.trace("Mis-matched stream duration (" + this.Nj.bz.length + "," + this.sizes.length + ") for movie id " + u);this.Nj.Mja && !this.eGa && h.error("Mis-matched additional SAPs information for movie id " + u);}Object.defineProperties(g.prototype,{mediaType:{get:function(){return this.De.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{length:{get:function(){return this.LI;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{fu:{get:function(){return this.De.fu;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{jNa:{get:function(){return this.De.jNa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Eb:{get:function(){return this.De.Eb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Dg:{get:function(){return this.De.Dg;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{kb:{get:function(){return this.De.kb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Rb:{get:function(){return this.De.Rb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Mx:{get:function(){return this.W0b;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ig:{get:function(){return this.X0b;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Fa:{get:function(){return this.De.Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{P:{get:function(){return this.De.P;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{iu:{get:function(){return this.sr || this.o8b();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{a_:{get:function(){return this.c1b;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{KIa:{get:function(){return this.eGa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{eE:{get:function(){return this.ZHa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nj:{get:function(){return this.De;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{dB:{get:function(){return this.PHa || this.vla();},enumerable:!1,configurable:!0}});g.prototype.kLb=function(k){if(this.sizes)return this.sizes[k];h.error("sizesByIndex _sizes is undefined");return -1;};g.prototype.Cs=function(k){return this.De.Cs(k);};g.prototype.yma=function(k){return this.De.Cs(k) + this.De.Wf(k);};g.prototype.zf=function(k){var l,m,p;if(this.N6 !== k || void 0 === this.FW){if(0 === k)return this.offset;if(this.N6 === k - 1 && void 0 !== this.FW)(this.FW+=this.sizes[this.N6],++this.N6);else {l=this.eja || this.b8b();m=Math.floor(k / this.m_);p=m * this.m_;for(l=l[m];p < k;++p)l+=this.sizes[p];this.N6=k;this.FW=l;}}return this.FW;};g.prototype.Wf=function(k){return this.De.Wf(k);};g.prototype.get=function(k){return new e(this,k);};g.prototype.xlc=function(k){var l,m,p,r,q;(0,n.assert)(0 <= k);l=this.Nj.Mja;m=this.Nj.Tjb;p=this.eGa;if(!p || !l || !m || k >= l.length)return [];r=[];q=k === l.length - 1?m.length:l[k + 1];for(l=l[k];l < q;++l)r.push({Zk:m[l],gd:this.Cs(k) + this.Fa.Qg(m[l]).G,offset:p[l]});return r;};g.prototype.fG=function(k,l,m){return this.De.fG(k,l,m);};g.prototype.NNa=function(k,l,m){return this.De.NNa(k,l,m);};g.prototype.pla=function(k,l){return this.De.pla(k,l);};g.prototype.Lka=function(k,l,m,p,r){var q,u,v,w,x,y,z,B,A;q=!0;u=0;v=this.De.bz;w=this.sizes;k=Math.floor(k * this.P / 1E3);x=Math.floor(m * this.P / 1E3);y=0;z=0;B=0;if(this.De.d1a && this.De.c1a)for(u=this.De.d1a;u <= this.De.c1a;++u)(y+=v[u],z+=w[u]);if(z > l)q=!1;else for(;u < this.length && (!r || u < r);){A=w[u];m=v[u];if(z + A > l){for(;1 < u - B && z + A > l && (y - v[B] >= x || z - w[B] > p);)(y-=v[B],z-=w[B],++B);if(y < k || z + A > l){q=!1;this.De.d1a=B;this.De.c1a=u;break;}}y+=m;z+=A;++u;}return q;};g.prototype.subarray=function(k,l){(0,n.assert)(void 0 === k || 0 <= k && k < this.length);(0,n.assert)(void 0 === l || l > k && l <= this.length);return new g(this.jw,this.De.subarray(k,l),{offset:this.zf(k),sizes:this.sizes.subarray(k,l)},this.a_ && this.a_.subarray(k,l),this.KIa && ({zf:this.KIa}),this.ZHa && this.ZHa.subarray(k,l));};g.prototype.forEach=function(k){for(var l=0;l < this.length;++l)k(this.get(l),l,this);};g.prototype.map=function(k){for(var l=[],m=0;m < this.length;++m)l.push(k(this.get(m),m,this));return l;};g.prototype.reduce=function(k,l){for(var m=0;m < this.length;++m)l=k(l,this.get(m),m,this);return l;};g.prototype.toJSON=function(){return {length:this.length};};g.prototype.dump=function(){var l;h.trace("StreamFragments: " + this.length);for(var k=0;k < this.length;++k){l=this.get(k);h.trace(("StreamFragments: ").concat(k,": [").concat(l.qa.G,"-").concat(l.xa.G,"]") + (" @ ").concat(l.offset,", ").concat(l.ma," bytes"));}};g.prototype.U7b=function(){var k,l,m,p,r,q,w;k=0;l=0;m=this.De.mBb;p=this.De.nBb;r=this.De.bz;q=this.sizes;if(void 0 === m || m >= this.length || void 0 === p || p >= this.length){for(var u=0,v=this.length;u < v;++u){w=q[u];w > l && (l=w,p=u);w/=r[u];w > k && (k=w,m=u);}void 0 === this.De.mBb && (this.De.mBb=m);void 0 === this.De.nBb && (this.De.nBb=p);}else (k=q[m] / r[m],l=q[p]);return {maxBitrate:Math.floor(k * this.P / 125),Ig:l};};g.prototype.o8b=function(){for(var k=0,l=0;l < this.length;++l)k+=this.sizes[l];return this.sr=k;};g.prototype.vla=function(){return this.PHa=new c.REa(this.De.bz,this.sizes,this.De.P);};g.prototype.b8b=function(){if(!this.eja){for(var k=f?new Float64Array(Math.ceil(this.length / this.m_)):Array(Math.ceil(this.length / this.m_)),l=this.offset,m=0;m < k.length;++m){k[m]=l;for(var p=0;p < this.m_;++p)l+=this.sizes[m * this.m_ + p];}this.eja=k;}return this.eja;};return g;})();b.Seb=t;(0,a.ZK)(t.prototype.Cs);(0,a.ZK)(t.prototype.yma);(0,a.ZK)(t.prototype.Wf);(0,a.ZK)(t.prototype.zf);(0,a.ZK)(t.prototype.kLb);(0,a.ZK)(t.prototype.get);},19595:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.G4=void 0;d=a(91176);t=(function(){function n(c){this.VB=c;this.Gsb=new d.mo();}Object.defineProperties(n.prototype,{Lpa:{get:function(){var c;return this.SAc || (null === (c=this.parent) || void 0 === c?void 0:c.Lpa);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Qk:{get:function(){var c;return this.od || (null === (c=this.parent) || void 0 === c?void 0:c.Qk);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Izb:{get:function(){var c,h;return null !== (c=this.tPc) && void 0 !== c?c:null === (h=this.parent) || void 0 === h?void 0:h.Izb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{aTa:{get:function(){var c,h;return null !== (c=this.uPc) && void 0 !== c?c:null === (h=this.parent) || void 0 === h?void 0:h.aTa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{track:{get:function(){return this.KLc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{LPb:{get:function(){return this.Gsb.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{parent:{get:function(){var c;return null === (c=this.VB) || void 0 === c?void 0:c.call(this);},enumerable:!1,configurable:!0}});n.prototype.Ka=function(){this.VB=void 0;};n.prototype.PMc=function(c){this.SAc=c;};n.prototype.XS=function(c){this.od=c;this.Gsb.resolve();};n.prototype.EKb=function(c){this.tPc=c;};n.prototype.FKb=function(c){this.uPc=c;};n.prototype.$Za=function(c){this.KLc=c;};return n;})();b.G4=t;},32966:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Cz=void 0;d=a(65161);a(13550);b.Cz=(function(){var I97;I97=2;for(;I97 !== 1;){switch(I97){case 2:return {y_b:function(n,c,h,f,e,g){var r_x=p6_3u;var C2$,u,q,v,l,m,p,r;C2$=2;for(;C2$ !== 54;){switch(C2$){case 18:C2$=f.za?17:16;break;case 11:var I5M="noth";I5M+="rou";I5M+="ghp";I5M+="ut";return {complete:!1,RL:p,reason:I5M};break;case 22:C2$=c > m * g.bY?21:35;break;case 7:r_x.b_o(9);var p$f=r_x.w3s(9,3,3,0,9);p=g.fp * (m?g.aca:p$f);!f.za && g.Ihc && f.xb && f.xb.wh && f.xb.wh.Da > g.gqa && (p+=g.Jja + f.xb.wh.Da * g.Bsa);e && !f.za && (p+=e * g.Kja);C2$=13;break;case 13:p=r?Math.min(r,p):p;C2$=12;break;case 24:u=f.Oa.zf(e);C2$=23;break;case 10:q=n.Oa.reduce(function(w,x){var M71;M71=2;for(;M71 !== 1;){switch(M71){case 2:return w + (x.Lb.G > n.yd?x.ma:0);break;}}},0);h=Math.max(h,1);m=h * f.bitrate;C2$=18;break;case 25:var q0X="ou";q0X+="tof";q0X+="ran";q0X+="ge";return {complete:!0,reason:q0X};break;case 30:--g;C2$=29;break;case 43:C2$=0 < v?42:41;break;case 16:C2$=!f.Oa || !f.Oa.length?15:27;break;case 28:m=f.Oa.get(g);v=8 * v * h / c - m.qa.G - p;C2$=43;break;case 3:var T7k="max";T7k+="s";T7k+="ize";return {complete:!0,reason:T7k};break;case 21:var L0t="h";L0t+="i";L0t+="g";L0t+="ht";L0t+="p";return {complete:!0,reason:L0t};break;case 4:C2$=l >= r?3:9;break;case 35:p=f.Oa.Wf(e);g=Math.min(e + Math.floor(g.e0 / p),f.Oa.length - 1);v=f.Oa.zf(g);r_x.z5Q(0);var d3F=r_x.w3s(16,8);p=d3F * u * h / c - n.yd;C2$=31;break;case 9:C2$=c <= g.hqa && (0 < c || !g.Gma)?8:7;break;case 29:C2$=g > e?28:39;break;case 27:e=f.Oa.fG(n.uk);C2$=26;break;case 17:var K6T="l";K6T+="ow";K6T+="Li";K6T+="ve";K6T+="Buffer";var M$e="l";M$e+="iveB";M$e+="uffer";M$e+="Le";M$e+="vel";return c > m && l > p?{complete:!0,reason:M$e}:{complete:!1,RL:p,jb:c,bitrate:m,reason:K6T};break;case 12:C2$=!c?11:10;break;case 31:m=void 0;C2$=30;break;case 15:return (c < m && (p=Math.min(r,Math.max(g.e0 * (m / c - 1),p))),{complete:!1,RL:p,progress:0});break;case 2:(l=n.Kk - n.yd,m=c === d.Ld.$l);c=f.jb || 0;(p=0,r=Math.min(g.PG,g.Bea && !m?g.aD:g.zaa));C2$=4;break;case 38:var i0Y="1";i0Y+="SIYb";i0Y+="ZrNJCp";i0Y+="9";0 < c && c < m && (p=Math.min(r,Math.max(g.e0 * (m / c - 1),p)));i0Y;return {complete:!1,RL:p,progress:k(p)};break;case 23:C2$=l >= p?22:38;break;case 41:v=m.offset;C2$=40;break;case 39:var a6p="n";a6p+="o";a6p+="re";a6p+="b";a6p+="uff";return {complete:!0,reason:a6p};break;case 42:return (p=Math.min(r,l + v),{complete:!1,RL:p,progress:k(p)});break;case 8:var B2Y="l";B2Y+="owThrough";B2Y+="put";return {complete:!1,jaa:!0,reason:B2Y};break;case 26:C2$=-1 === e?25:24;break;case 40:--g;C2$=29;break;}}function k(w){var r0t;r0t=2;for(;r0t !== 7;){switch(r0t){case 4:r0t=void 0 === w?3:9;break;case 5:w=f.Oa.NNa(n.yd + w,void 0,!0);r0t=4;break;case 3:return 0;break;case 2:r0t=!f.Oa?1:5;break;case 9:w=f.Oa.get(w.index);return (q - n.Tv) / (q + (w.offset + w.ma) - u);break;case 1:return 0;break;}}}}};break;}}})().y_b;},13550:function(t,b,a){var c,h;function d(f,e){return f && f.rq && (e || !1 !== f.tv);}function n(f,e,g){return "number" === typeof f?Math.min(Math.max(f,e),g):e;}Object.defineProperties(b,{__esModule:{value:!0}});b.Kg=b.console=void 0;b.W6c=d;b.J6c=function(f,e){return !f.slice(e + 1).some(function(g){return d(g);});};b.Yka=n;b.eY=function(f,e,g){var l,m,p,r;function k(q){var u;u=f[q];if(!u.rq)return (h && !u.Uo && b.console.log("Stream [" + q + "] " + u.id + " (" + u.bitrate + " Kbps): Not available"),h && u.Nn && b.console.log("Stream [" + q + "] " + u.id + " (" + u.bitrate + " Kbps): Failed"),!1);if(g && !g(u,q))return !1;h && b.console.log("Stream [" + q + "] " + u.id + " (" + u.bitrate + " Kbps): Available");return !0;}m=f.length;p=0;r=m;Array.isArray(e) && (p=n(e[0],0,m),r=n(e[1],0,m),e=null !== (l=e[2]) && void 0 !== l?l:p + 1);e=n(e || 0,p + 1,r);for(l=e - 1;l >= p;--l)if(k(l))return l;for(l=e + 1;l < r;++l)if(k(l))return l;h && b.console.log("Found no available streams");return -1;};b.vCb=function(f,e){return Math.floor(f / (125 * e) * 1E3);};b.Qlb=function(f,e){return Math.ceil(f / 1E3 * e * 125);};b.Dv=function(f,e,g,k){e=f.buffer.Kk - f.buffer.yd >= g - (null !== e && void 0 !== e?e:0);return f.state === c.Tb.sn || f.state === c.Tb.$l?!0:f.state === c.Tb.hg && e?!1:k;};b.Mua=function(f,e){f=f.Swc;return void 0 === f?e:f;};t=a(66164);c=a(65161);b.console=new t.platform.Console("ASEJS_STREAM_SELECTOR","media|asejs");h=!1;b.Kg=(function(){function f(e){if(!(this instanceof f))return new f(e);this.od=e;this.oBc=this.aKc=0;}return f;})();},42556:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.H3=b.I3=b.aV=b.bV=b.H4=void 0;d=a(16096);Object.defineProperties(b,{H4:{enumerable:!0,get:function(){return d.H4;}}});n=a(35479);Object.defineProperties(b,{bV:{enumerable:!0,get:function(){return n.bV;}}});c=a(29217);Object.defineProperties(b,{aV:{enumerable:!0,get:function(){return c.aV;}}});h=a(56556);Object.defineProperties(b,{I3:{enumerable:!0,get:function(){return h.I3;}}});f=a(56841);Object.defineProperties(b,{H3:{enumerable:!0,get:function(){return f.H3;}}});},56841:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperties(b,{__esModule:{value:!0}});b.H3=void 0;d=a(22970);n=a(26388);c=a(33923);h=a(72793);f=a(52571);e=a(45247);g=a(7559);t=(function(){function k(){}k.prototype.kob=function(l,m,p,r,q,u,v,w){void 0 === v && (v=[]);m=this.Vmc(l,m,p,q,u,r,w);switch(l.evc){case "videofirst":return this.Fcc(m,u,v);default:return this.Ecc(m,u,v);}};k.prototype.Ecc=function(l,m,p){var u,v,w;function r(x,y){return Math.exp((y.Mb?Math.log(y.Mb):0) + (x.Tua?.13 * Math.log(25 * (x.Tua - 1)):0));}function q(x,y,z,B){var A,C;A=r(x,y);C=r(z,B);x=z.bitrate - x.bitrate + (B.bitrate - y.bitrate);return 0 !== x?(C - A) / x:0;}p=0 < p.length?p[0]:void 0;u=[];v=0;w=0;for(u.push(new c.bI({audio:l[v],video:m[w],text:p}));v + 1 < l.length && w + 1 < m.length;)(v=[{Sua:q(l[v],m[w],l[v],m[w + 1]),FRa:[v,w + 1]},{Sua:q(l[v],m[w],l[v + 1],m[w]),FRa:[v + 1,w]},{Sua:q(l[v],m[w],l[v + 1],m[w + 1]),FRa:[v + 1,w + 1]}],v.sort(function(x,y){return x.Sua - y.Sua;}),w=d.__read(v[v.length - 1].FRa,2),v=w[0],w=w[1],u.push(new c.bI({audio:l[v],video:m[w],text:p})));if(w + 1 < m.length)for(w++;w < m.length;w++)u.push(new c.bI({audio:l[v],video:m[w],text:p}));if(v + 1 < l.length)for(v++;v < l.length;v++)u.push(new c.bI({audio:l[v],video:m[w],text:p}));return u;};k.prototype.Fcc=function(l,m,p){var r,q,u;q=[];p=0 < p.length?p[0]:void 0;(0,f.assert)(0 < l.length && 0 < m.length,"We should have at least one video stream and one audio stream");if(0 < l.length){u=l[0];try{for(var v=d.__values(m),w=v.next();!w.done;w=v.next())q.push(new c.bI({audio:u,video:w.value,text:p}));}catch(y){var x;x={error:y};}finally{try{w && !w.done && (r=v.return) && r.call(v);}finally{if(x)throw x.error;}}if(1 < l.length && 0 < m.length)for((m=m[m.length - 1],x=1);x < l.length;x++)q.push(new c.bI({audio:l[x],video:m,text:p}));}return q;};k.prototype.SNc=function(l,m,p,r){var q,u;q=m && m.Gi(n.v.X);if(r === e.Tb.sn || !q)return !1;u=m.Gi(n.v.X);if(!p.some(function(v){return v === u;}))return !1;m=u.profile;return l.vp && 0 <= l.vp.indexOf(m)?!1:!0;};k.prototype.Vmc=function(l,m,p,r,q,u,v){if(this.SNc(l,v,r,u))r=[v.Gi(n.v.X)];else if((r=new h.j3a(l).oh(r,void 0,void 0,void 0,u),v=r[0],q=q[0],!(0,g.Vxb)(v.profile,l))){l=0;v && v.rq && v.xb && v.xb.confidence?(m=m(v.xb,p,u,0,!1),l=Math.floor(m.lower) || 1):q && q.rq && q.xb && q.xb.confidence && (m=m(q.xb,p,u,0,!1),l=Math.floor(m.lower) || 1);m=r.length - 1;for(m;0 < m && !(l && r[m].bitrate < .15 * l);--m);r=[r[m]];}return r;};return k;})();b.H3=t;},56556:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.I3=void 0;t=a(22970);d=a(66164);n=a(91176);c=a(91176);h=a(65161);f=a(62156);e=t.__importDefault(a(29340));g=a(33923);a(52571);k=a(8149);l=a(3082);m=a(35479);p=a(44284);r=a(13550);a(87775);a(15050);q=a(94320);u=a(18048);a(71915);v=a(86268);a(79321);a(79257);w=a(32966);new d.platform.Console("ASEJS_JOINT_STREAM_SELECTOR","media|asejs");a=(function(){var k3J;k3J=2;for(;k3J !== 12;){switch(k3J){case 13:return x;break;case 2:Object.defineProperties(x.prototype,{D_:{get:function(){var U5V;U5V=2;for(;U5V !== 1;){switch(U5V){case 2:return this.gUc;break;}}},enumerable:!1,configurable:!0}});x.prototype.G0=function(y,z,B,A,C,D,F){var Z6M,w7j,Q,G,E,H,J,L,K,M,P,I,O;Z6M=2;for(;Z6M !== 23;){switch(Z6M){case 12:B.jh=y.state;Z6M=11;break;case 25:Z6M=24;break;case 27:Z6M=w7j === h.Tb.zi?26:25;break;case 7:A=this.Ru.jy;Z6M=6;break;case 8:w7j=y.state;Z6M=w7j === h.Tb.sn?7:18;break;case 18:Z6M=w7j === h.Tb.Ff?17:16;break;case 4:I=I.hY;y.state === h.Tb.sn && (this.aF=this.$E=void 0);void 0 !== A && this.Lba(z,y.state,y.buffer,A);Z6M=8;break;case 24:A=this.Ru.Bf;Z6M=6;break;case 11:Z6M=(G=B.od)?10:20;break;case 10:var R5v="p";R5v+="lay";R5v+="i";R5v+="ng";var E7M="m";E7M+="in";E7M+="_";E7M+="fragm";E7M+="ent_vmaf";(this.w6.XS(G.Gi(h.v.X)),this.JM.XS(G.Gi(h.v.U)),this.XTa(z.first,G,L.Kk - L.yd),B.BL=G.jb || 0,B.xb=G.xb,B.reason && (G.du=B.reason,E7M !== B.reason && (G.mZa=B.Dt,G.YY=B.YY,G.YQa=null === (H=B.xb) || void 0 === H?void 0:H.gW,G.ZQa=null === (J=B.xb) || void 0 === J?void 0:J.cl)),z=(0,v.BBb)({buffer:L,player:y,iG:F,Y9:C,iqa:P[0].Af,od:G.Af,$va:(0,v.oqc)(P,G),Hva:P[P.length - 1].Af,D_:this.D_}),B.Vn=z || B.Vn,O && !I && G.bitrate < O.bitrate && (this.$E=L.uk),y.state !== h.Tb.hg && y.state !== h.Tb.zi?(O=(0,f.MFb)(y.state),D=this.Cz(y.buffer,O,y.playbackRate,G,D),(B.rm=D.complete)?B.HJa=D.reason:(B.rm=!1,B.RL=D.RL,B.jaa=D.jaa,B.progress=D.progress)):(B.rm=!0,B.HJa=R5v));Z6M=20;break;case 15:A=this.Ru.HJb;Z6M=6;break;case 6:Q=P[0].Gi(h.v.U);(0,k.hk)(Q) && (this.JM.Dv=(0,r.Dv)(y,Q.track.Hk.G,M.Uk,this.JM.Dv));B=A.call(this.Ru,{config:M,player:y,tk:z,zm:O,Y9:!!C,hY:I,rDc:B,Dv:this.JM.Dv,Ipa:this.$E,fTa:this.aF,Lzb:Math.max(null !== (G=this.$E) && void 0 !== G?G:0,null !== (E=this.aF) && void 0 !== E?E:0)});Z6M=12;break;case 16:Z6M=w7j === h.Tb.$l?15:27;break;case 17:A=this.Ru.Bq;Z6M=6;break;case 20:y.EX && G && (0,e.default)((0,u.XFb)(G,L,y,K,this.config.CHa),B);return B;break;case 2:(L=null === y || void 0 === y?void 0:y.buffer,K=d.platform.time.ha(),M=this.config,P=z.first);(0,q.$mb)(z.first);(I=this.gUa(M.ZCb,z.first),O=I.zm);Z6M=4;break;case 26:A=this.Ru.GJb;Z6M=6;break;}}};x.prototype.Cz=function(y,z,B,A,C){var i94;i94=2;for(;i94 !== 1;){switch(i94){case 2:return (0,w.Cz)(y,z,B,A,C,this.config);break;}}};x.prototype.dMb=function(y,z,B){var q2t;q2t=2;for(;q2t !== 1;){switch(q2t){case 2:var x6B="un";x6B+="d";x6B+="ef";x6B+="ined";x6B !== typeof z?z.bitrate < B.bitrate && (this.aF=y):this.$E=this.aF=void 0;q2t=1;break;}}};x.prototype.Lba=function(y,z,B,A){var l_Z,C,D;l_Z=2;for(;l_Z !== 5;){switch(l_Z){case 2:y.bK(function(F){var y2O;y2O=2;for(;y2O !== 1;){switch(y2O){case 2:(0,c.iY)(F,function(G){var t6n;t6n=2;for(;t6n !== 1;){switch(t6n){case 2:G.rq && G.xb && G.xb.confidence?(C !== G.xb && (C=G.xb,D=A(G.xb,B,z,0,!1)),G.jb=Math.floor(D.lower) || 1,G.Vda=void 0 !== D.upper?Math.floor(D.upper):1):G.jb=void 0;t6n=1;break;}}});y2O=1;break;}}});l_Z=5;break;}}};x.prototype.gUa=function(y,z){var s4D,B,A,C,D,F;s4D=2;for(;s4D !== 8;){switch(s4D){case 9:C=!0;s4D=3;break;case 4:D || (B=(0,p.Gvb)(z,B.bitrate,B.Mb),C=!0,y && A && F && (C=!1));s4D=3;break;case 2:(A=this.Hna(),C=!1);s4D=1;break;case 3:return {zm:B,hY:C};break;case 1:s4D=(B=this.Hna())?5:9;break;case 5:(D=(0,n.ic)(z,function(G){var R4E;R4E=2;for(;R4E !== 1;){switch(R4E){case 4:return G.isEqual(B);break;case 2:return G.isEqual(B);break;}}}),F=(0,n.ic)(z,function(G){var J3z;J3z=2;for(;J3z !== 1;){switch(J3z){case 2:return G.isEqual(A);break;case 4:return G.isEqual(A);break;}}}));s4D=4;break;}}};x.prototype.Hna=function(){var A1r;A1r=2;for(;A1r !== 5;){switch(A1r){case 2:A1r=this.w6.Qk || this.JM.Qk?1:5;break;case 1:return new g.bI({audio:this.w6.Qk,video:this.JM.Qk});break;}}};k3J=7;break;case 7:x.prototype.dk=function(y){var P7T;P7T=2;for(;P7T !== 1;){switch(P7T){case 2:return y === h.v.X?this.w6:this.JM;break;}}};x.prototype.GKb=function(y){var C9F,z,B;C9F=2;for(;C9F !== 4;){switch(C9F){case 2:(null === (z=y.track) || void 0 === z?void 0:z.mediaType) === h.v.X && (this.w6=y);(null === (B=y.track) || void 0 === B?void 0:B.mediaType) === h.v.U && (this.JM=y);C9F=4;break;}}};x.prototype.XTa=function(y,z,B){var Z7f;Z7f=2;for(;Z7f !== 7;){switch(Z7f){case 2:Z7f=this.config.Kqb?1:5;break;case 1:y.forEach(function(A){var T$i;T$i=2;for(;T$i !== 1;){switch(T$i){case 2:return A.kw=!A.Oa || !A.Oa.length;break;}}});Z7f=7;break;case 9:(y[B - 1] && y[B - 1].isEqual(z) && y[B].F8(function(A){var t96,C;t96=2;for(;t96 !== 5;){switch(t96){case 2:null !== (C=A.Oa) && void 0 !== C && C.length || (A.kw=!0);t96=5;break;}}}),y[B + 1] && y[B + 1].isEqual(z) && y[B].F8(function(A){var G09,C;G09=2;for(;G09 !== 5;){switch(G09){case 2:null !== (C=A.Oa) && void 0 !== C && C.length || (A.kw=!0);G09=5;break;}}}));Z7f=8;break;case 8:--B;Z7f=3;break;case 5:Z7f=this.config.rLb && B > this.config.TZ && !z.za && y.every(function(A){var K7t;K7t=2;for(;K7t !== 1;){switch(K7t){case 2:return !A.kw;break;}}})?4:7;break;case 3:Z7f=0 <= B?9:7;break;case 4:p6_3u.z5Q(10);var G6g=p6_3u.w3s(3,6,2,10);B=y.length - G6g;Z7f=3;break;}}};k3J=13;break;}}function x(y,z,B,A,C){var G8w;G8w=2;for(;G8w !== 6;){switch(G8w){case 4:var L2Q="1";L2Q+="S";L2Q+="IYbZrNJ";L2Q+="Cp9";this.JM=A;L2Q;G8w=9;break;case 5:this.w6=B;G8w=4;break;case 2:this.wua=y;this.config=z;G8w=5;break;case 9:var I36="def";I36+="au";I36+="lt";y || (y=z.mva);this.Ru=new ((l.Yca[y] || l.Yca[I36])())();G8w=7;break;case 7:C && (this.gUc=new m.bV(z,h.v.U));G8w=6;break;}}}})();b.I3=a;},29217:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.aV=void 0;d=a(22970);t=(function(){function n(c,h,f){var e,g,k;this.Sv=c;"HYBRID" === c?this.TY=f:"CCSP" === c && (this.FH=null !== (e=h.FH) && void 0 !== e?e:0,this.LF=null !== (g=h.LF) && void 0 !== g?g:0,this.oH=null !== (k=h.oH) && void 0 !== k?k:0);}Object.defineProperties(n.prototype,{dHb:{get:function(){var c;return "HYBRID" === this.Sv?[null !== (c=this.TY.Vn) && void 0 !== c?c:0]:"CCSP" === this.Sv?[this.FH,this.LF,this.oH]:[];},enumerable:!1,configurable:!0}});n.prototype.cCb=function(){return Math.min(this.FH,this.LF,this.oH);};n.prototype.opa=function(){return this.dHb.some(function(c){return 0 < c;});};n.prototype.SYa=function(c){return new n(this.Sv,{FH:c * this.FH,LF:c * this.LF,oH:c * this.oH});};n.prototype.$Ta=function(c,h,f,e){var g;g=8 * c / Math.max(f - h,1);if(!this.opa())return !1;c=this.dHb.map(function(k){return Math.abs(g - k) / k;});return Math.min.apply(Math,d.__spreadArray([],d.__read(c),!1)) < e;};return n;})();b.aV=t;},35479:function(t,b,a){var r,q,u;function d(v){return c(v.od);}function n(v,w){var x,y,z,B,A;z=h(w.UIc,v.jh,null !== (y=null === (x=v.od.xb) || void 0 === x?void 0:x.confidence) && void 0 !== y?y:r.FN.HAVE_NOTHING);if(0 === z.length)return 0;a:switch(w.GDc){case "implicit":w=p(w,v.od);w=v.QO / w;break a;case "capacityPercentage":w=Math.max(v.$6b / v.Y6b || 0,v.QO / w.PG);break a;default:w=0;}y=-1;for(x=0;x < z.length;x++)if(z[x].Cka >= w){y=x;break;}if(-1 === y)return f(v,z[z.length - 1].LKa);if(0 === y)return f(v,z[0].LKa);B=z[y - 1].Cka;x=f(v,z[y - 1].LKa);A=z[y].Cka;v=f(v,z[y].LKa);z=Math.min((w - B) / (A - B),1);return (1 - z) * x + z * v;}function c(v){var w,x;x=null === (w=null === v || void 0 === v?void 0:v.M) || void 0 === w?void 0:w.aL;return x?x[v.mediaType] || 0:0;}function h(v,w,x){var z;function y(B,A){return void 0 !== B && 0 < B.filter(function(C){return C === A;}).length;}z=v.filter(function(B){return y(B.Qsa,w);});0 === z.length && (z=v.filter(function(B){return !B.Qsa || 0 === B.Qsa.length;}));v=z.filter(function(B){return y(B.HCb,x);});0 === v.length && (v=z.filter(function(B){return !B.HCb || 0 === B.HCb.length;}));return v.sort(function(B,A){return B.Cka - A.Cka;});}function f(v,w){var x,y,z,B;if(!w || "object" !== typeof w)return 0;x=v.od;y=v.$va;z=v.Hva;B={selectedFragmentBitrate:e(v.iG,x,v.Qe) * v.playbackRate,selectedPeakBitrate:(x.Mx || g(x) || 0) * v.playbackRate,upswitchPeakBitrate:(y.Mx || g(y) || 0) * v.playbackRate,maxPeakBitrate:(z.Mx || g(z) || 0) * v.playbackRate,selectedAverageBitrate:g(x) * v.playbackRate,upswitchAverageBitrate:g(y) * v.playbackRate,maxAverageBitrate:c(x) * v.playbackRate,bufferLevelMs:v.QO,observedThroughput:k(v.od) || 0,averagetp:l(v.od) || 0,stddevtp:m(v.od) || 0};v=w.offset || 0;return Object.keys(B).reduce(function(A,C){return A + (w[C] || 0) * B[C];},v);}function e(v,w,x){var y;return w?void 0 !== x && w.Oa?(void 0 === v?null === (y=w.Oa) || void 0 === y?void 0:y.get(x).AJa:v.eub(w,x).AJa) || w.Mx || 0:w.Mx || 0:0;}function g(v){return (null === v || void 0 === v?void 0:v.bitrate) || 0;}function k(v){var w;v=v.xb;return (null === (w=null === v || void 0 === v?void 0:v.jb) || void 0 === w?void 0:w.Da) || 0;}function l(v){var w;v=v.xb;return (null === (w=null === v || void 0 === v?void 0:v.Dr) || void 0 === w?void 0:w.sW) || 0;}function m(v){var w;v=v.xb;return Math.sqrt((null === (w=null === v || void 0 === v?void 0:v.Dr) || void 0 === w?void 0:w.K1) || 0);}function p(v,w){var x,y;x=v.CQc;x=l(w) + x * m(w);w=w.jb || 0;y=0;0 < w && (y=x / w - 1);return v.Dzc + v.BQc * Math.max(0,y);}Object.defineProperties(b,{__esModule:{value:!0}});b.bV=void 0;b.t5c=h;b.I5c=k;b.z5c=p;t=a(66164);r=a(65161);q=a(29217);new t.platform.Console("ASEJS_PACERATE_SELECTOR","media|asejs");u={maxStreamBitrate:d,"static":function(v,w){return w.RLb;},none:function(){return 0;},regression:n,epsGreedy:function(v,w){return Math.min(n(v,w) || 0,k(v.od));},"default":d};a=(function(){function v(w,x){var L80;L80=2;for(;L80 !== 7;){switch(L80){case 1:var i2W="de";i2W+="f";i2W+="a";i2W+="u";i2W+="lt";var Z58="1SI";Z58+="Yb";Z58+="Z";Z58+="rNJCp9";Z58;this.algorithm=(u[x === r.v.X?this.Ab.DDc:this.Ab.CDc] || u[i2W]).bind(this);L80=4;break;case 8:var i5e="C";i5e+="C";i5e+="S";i5e+="P";this.Sv=i5e;L80=7;break;case 3:var j4Q="H";j4Q+="Y";j4Q+="B";j4Q+="RI";j4Q+="D";this.Sv=j4Q;L80=7;break;case 2:this.Ab=w;L80=1;break;case 9:L80=w.SJ || w.oma || w.WMa?8:7;break;case 4:L80=w.qma?3:9;break;}}}var p1k;p1k=2;for(;p1k !== 9;){switch(p1k){case 2:v.prototype.ktb=function(w,x){var K7X,y,z,B,A;K7X=2;for(;K7X !== 14;){switch(K7X){case 2:(z=this.Ab.bla,B=null === (y=x.iqa) || void 0 === y?void 0:y.Mx);x=e(x.iG,x.od,x.Qe) * x.playbackRate;y=(null === z || void 0 === z?void 0:z.D7c) || [0,0,0];K7X=4;break;case 4:var k7l="H";k7l+="Y";k7l+="BR";k7l+="ID";K7X=k7l === this.Sv?3:6;break;case 6:var J7z="C";J7z+="C";J7z+="S";J7z+="P";J7z === this.Sv && (A=new q.aV(this.Sv,z?{FH:this.zna(w,z.JXa[0],B,x,y[0]),LF:this.zna(w,z.JXa[1],B,x,y[1]),oH:this.zna(w,z.JXa[2],B,x,y[2])}:{FH:0,LF:0,oH:0},void 0));K7X=7;break;case 3:A=w;this.Ab.bla && (A=this.zna(w,z.JXa[0],B,x,y[0]));K7X=8;break;case 8:A=new q.aV(this.Sv,void 0,{$rc:1,Vn:A,fKa:Number(this.Ab.fKa),Oyc:this.Ab.Dyc,pYa:Number(this.Ab.pYa)});K7X=7;break;case 7:return A;break;}}};v.prototype.Eoc=function(w){var K7l,x,y;K7l=2;for(;K7l !== 5;){switch(K7l){case 2:var X7s="s";X7s+="t";X7s+="at";X7s+="ic";var P8e="C";P8e+="C";P8e+="S";P8e+="P";var S1x="H";S1x+="Y";S1x+="BR";S1x+="ID";y=null === (x=w.od) || void 0 === x?void 0:x.mediaType;return S1x !== this.Sv || this.Ab.ghc?P8e === this.Sv && (y === r.v.X && !this.Ab.dhc || y === r.v.U && !this.Ab.c8)?0:X7s === this.Ab.EDc?this.Ab.RLb:c(w.od):0;break;}}};v.prototype.zna=function(w,x,y,z,B){var z5r;z5r=2;for(;z5r !== 9;){switch(z5r){case 5:p6_3u.b_o(11);w=Math.ceil(p6_3u.w3s(x,w));w=Math.max(w,Math.ceil(z * B));return w < (this.Ab.bla.E7c || 0) * (y || 0)?0:w;break;case 1:return 0;break;case 7:z5r=~x && 1 !== w?5:7;break;case 2:z5r=!x || 0 === w?1:5;break;}}};v.prototype.Foc=function(w){var T5O,x,y,z;T5O=2;for(;T5O !== 7;){switch(T5O){case 9:x=w.gs?this.algorithm(w,this.Ab):this.Eoc(w);return this.ktb(x,w);break;case 3:return x;break;case 4:T5O=!this.Sv || !z || !y || (z=this.Ab.iSc) && w.Qe && 0 === w.Qe % z || w.QO < y.Qx?3:9;break;case 2:(y=null === (x=w.od) || void 0 === x?void 0:x.mediaType,z=this.Ab.qma || y === r.v.X && this.Ab.oma || y === r.v.U && this.Ab.SJ);x=this.ktb(0,w);y=this.Ab.bla;T5O=4;break;}}};p1k=3;break;case 3:return v;break;}}})();b.bV=a;},70753:function(t,b,a){var n,c,h,f;function d(e,g){var k;g.some(function(l){var m;m=l.profiles;(m=m && 0 <= m.indexOf(e)) && (k=l.override);return m;});return k;}Object.defineProperties(b,{__esModule:{value:!0}});n=a(22970);c=a(91176);h=a(13550);t=n.__importDefault(a(32028));f=a(24653);a=(function(e){function g(){var e1G,k;e1G=2;for(;e1G !== 4;){switch(e1G){case 9:k=e.call(this) && this;"";return k;break;case 2:var X$o="1SIYbZrNJ";X$o+="C";X$o+="p";X$o+="9";k=e.call(this) || this;X$o;return k;break;}}}var D_4;D_4=2;for(;D_4 !== 3;){switch(D_4){case 2:n.__extends(g,e);g.prototype.jy=function(k){var N0I,l,m,p,r,q,u;N0I=2;for(;N0I !== 3;){switch(N0I){case 2:(q=k.config,u=k.tk.first);u=(k.zm || u[0]).xe;u=q && q.vp && 0 <= q.vp.indexOf(u)?d(u,q.KH):d(u,q.lka);return (0,f.EJb)({player:k.player,tk:k.tk,config:u?{jJa:null !== (l=u.audioBwFactor) && void 0 !== l?l:q.jJa,Ox:null !== (m=u.minInitAudioBitrate) && void 0 !== m?m:q.Ox,Ot:null !== (p=u.maxInitAudioBitrate) && void 0 !== p?p:q.Ot,VZ:null !== (r=u.minRequiredAudioBuffer) && void 0 !== r?r:q.VZ}:q});break;}}};g.prototype.Bf=function(k){var o_x,l,m,p,r,q,u,v,w,C,x,y,z,B,A;o_x=2;for(;o_x !== 33;){switch(o_x){case 4:o_x=!(l && l.vp && 0 <= l.vp.indexOf(v))?3:9;break;case 11:o_x=0 > B?10:19;break;case 34:return new h.Kg(k);break;case 16:o_x=(q=x[r],q.CG && (0 === r || q.bitrate * m.playbackRate * k.Qfc < z))?15:27;break;case 22:o_x=++B < x.length?21:20;break;case 27:r--;o_x=17;break;case 2:var X__="Must have at least";X__+=" one";X__+=" selected str";X__+="eam";(l=k.config,m=k.player,p=k.zm,r=k.Ipa,q=k.fTa,u=k.tk.first);(0,c.assert)(p,X__);(v=p.xe,w=p.za);o_x=4;break;case 17:o_x=0 <= r?16:20;break;case 6:o_x=x && 1 < x.length?14:34;break;case 25:y=m.buffer;C=y.Kk - y.yd;o_x=23;break;case 35:A=B;o_x=20;break;case 20:k=x[A];o_x=34;break;case 3:return new h.Kg(p);break;case 26:o_x=B < x.length - 1 && z > k.rSc * y * m.playbackRate?25:20;break;case 21:o_x=(r=x[B],r.CG && z > k.rSc * r.bitrate * m.playbackRate)?35:22;break;case 18:p6_3u.z5Q(0);r=p6_3u.w3s(B,1);o_x=17;break;case 9:l.KH.some(function(D){var j9S,E,H,J,L,F,G;j9S=2;for(;j9S !== 9;){switch(j9S){case 5:(E=(D=D.override) && D.minRequiredAudioBuffer || l.VZ,H=D && D.minAudioBitrate || -Infinity,J=D && D.maxAudioBitrate || Infinity,L=m.buffer.nt || Infinity);j9S=4;break;case 4:x=u.filter(function(K){var y8H,M;y8H=2;for(;y8H !== 5;){switch(y8H){case 2:M=K.bitrate;return M >= H && M <= J && 0 <= F.indexOf(K.xe) && M * E / 8 < L;break;}}});j9S=3;break;case 1:j9S=G?5:3;break;case 12:return G;break;case 3:return G;break;case 2:(F=D.profiles,G=F && 0 <= F.indexOf(v));j9S=1;break;case 6:j9S=G?8:1;break;}}});k=p;o_x=6;break;case 15:A=r;o_x=20;break;case 14:(y=p.bitrate,z=k=void 0);w?(k=l.V5b,z=Math.max(.1,1 - l.RMb) * Math.pow(Math.min(1,(m.buffer.Kk - m.buffer.yd) / l.Uk),l.QMb),z=p.xb?p.xb.jb.Da * z:0):(k=l.U5b,z=p.jb || 0);(B=(0,c.om)(x,function(D){var s5G;s5G=2;for(;s5G !== 1;){switch(s5G){case 2:return D.isEqual(p);break;}}}),A=B);o_x=11;break;case 23:o_x=(p.Oa && p.Oa.length || w) && m.Dx && C > k.xA && (void 0 === r || Number(q) > r || y.uk - r > k.iR)?22:20;break;case 10:A=0;o_x=20;break;case 19:o_x=B && z < k.Qfc * y * m.playbackRate?18:26;break;}}};return g;break;}}})(t.default);b["default"]=a;},32028:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(91176);c=a(13550);t=a(75498);h=a(24653);a=(function(f){function e(){return null !== f && f.apply(this,arguments) || this;}d.__extends(e,f);e.prototype.jy=function(g){var k,l;k=g.config;l=g.player;g=g.tk;return (0,h.EJb)({config:k,player:l,tk:g});};e.prototype.Bq=function(g){g=g.zm;(0,n.assert)(g,"Must have at least one selected stream");return new c.Kg(g);};e.prototype.Bf=function(g){g=g.zm;(0,n.assert)(g,"Must have at least one selected stream");return new c.Kg(g);};return e;})(t.Wy);b["default"]=a;},24653:function(t,b,a){var n,c;function d(h){var f,e,g,k,l,m,p,r,q;e=h.stream;g=h.index;k=h.config;l=h.player;h=h.t7b;m=e.id;p=e.bitrate;r=e.jb || 0;q=!!r;c && n.console.log("Checking feasibility of [" + g + "] " + m + " (" + p + " Kbps)");if(!e.rq)return (c && !e.Uo && n.console.log("  Not available"),c && e.Nn && n.console.log("  Failed"),!1);e=null !== (f=k.Ot) && void 0 !== f?f:Infinity;if(p > e)return (c && n.console.log("  Above maxInitAudioBitrate (" + e + " Kbps)"),!1);if(!(p * k.VZ / 8 < (l.buffer.nt || Infinity)))return (c && n.console.log("  audio buffer too small to handle this stream"),!1);if(q){c && n.console.log(("  Have throughput history = ").concat(q," : available throughput = ").concat(r," Kbps"));if(p * l.playbackRate < r / h)return (c && n.console.log(" +FEASIBLE: bitrate less than available throughput"),!0);c && n.console.log(" bitrate requires more than available throughput");return !1;}if(p <= k.Ox)return (c && n.console.log("  Bitrate is less than max of minInitAudioBitrate (" + k.Ox + " Kbps) "),c && n.console.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);c && n.console.log("  No throughput history");return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.EJb=function(h){var f,e,g,k,m;f=h.config;e=h.player;g=h.tk;h=new n.Kg();k=f.jJa || 1;g=g.first;for(var l=g.length - 1;0 <= l;--l){m=g[l];if(d({stream:m,index:l,config:f,player:e,t7b:k})){h.od=m;break;}m.CG && (h.od=m);}return h;};n=a(13550);c=!1;},58223:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(91176);c=a(13550);t=(function(h){function f(){return null !== h && h.apply(this,arguments) || this;}d.__extends(f,h);f.prototype.Bf=function(e){var g,k;g=e.zm;e=e.tk.first;if(void 0 === g)g=e[(0,c.eY)(e)];else if(!g.CG){k=(0,n.om)(e,function(l){return l.isEqual(g);});g=e[(0,c.eY)(e,k)];if(void 0 === g)return new c.Kg();}return new c.Kg(g);};return f;})(a(75498).Wy);b["default"]=t;},52255:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=d.__importDefault(a(80588));n=a(4620);a=(function(c){function h(){var f;f=c.apply(this,d.__spreadArray([],d.__read(arguments),!1)) || this;f.Bf=n.Bf;return f;}d.__extends(h,c);return h;})(t.default);b["default"]=a;},4620:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Bf=void 0;t=a(22970);d=t.__importStar(a(17267));n=a(66164);c=a(91176);h=a(13550);f=a(50468);e=t.__importDefault(a(80588));b.Bf=(function(){var K5_;K5_=2;for(;K5_ !== 5;){switch(K5_){case 2:var I0j="1SIY";I0j+="bZ";I0j+="rNJCp9";I0j;return {Bf:function(g){var P9d,x,L,y,z,B,A,C,D,G,E,H,u,v,w,J,k,l,m,p,r,q,F;P9d=2;for(;P9d !== 66;){switch(P9d){case 77:P9d=q[w].f === v?76:75;break;case 67:w--;P9d=71;break;case 13:p6_3u.b_o(0);w=p6_3u.w3s(v,k);0 > w && (w=0);w >= q.length && (w=q.length - 1);x=q[w].f;P9d=20;break;case 46:J++;P9d=48;break;case 75:P9d=q[w].f > v?73:74;break;case 52:L=E.get(J);G.push({d:L.Vb.G,b:L.ma});P9d=50;break;case 34:P9d=x < p.length?33:61;break;case 60:return u;break;case 16:P9d=l.Nhc?15:60;break;case 18:P9d=void 0 !== v?17:59;break;case 42:D.push(F.Rv);D.push(F.$Va);P9d=40;break;case 76:k=w;P9d=73;break;case 70:P9d=q[w].f === v?69:68;break;case 48:P9d=J < E.length?47:45;break;case 73:v=k;P9d=18;break;case 53:P9d=J < Math.min(J + l.X5b,E.length)?52:49;break;case 57:P9d=x < v?56:72;break;case 74:w++;P9d=55;break;case 71:P9d=0 <= w?70:73;break;case 56:w+=1;P9d=55;break;case 15:g=u.od;P9d=26;break;case 49:J=m.Qe;P9d=48;break;case 72:--w;P9d=71;break;case 19:v=w;P9d=18;break;case 47:H+=E.get(J).Vb.G;P9d=46;break;case 61:u.c2c=q;P9d=60;break;case 26:q=[];v=m.buffer;v=v.Kk - v.yd;k=f.ko.vla(m.buffer.Oa);k=m.buffer.nt - k.ma;w=!0;P9d=35;break;case 45:E=void 0;m.b7b && (E=n.platform.time.ha() - m.b7b);q.push({Qe:m.Qe,Xda:E,c8c:H,h2c:C,vad:D,wad:F,Nlb:v,atb:k,P2c:G,l7c:r.bitrate,m7c:null !== (y=r.Mb) && void 0 !== y?y:0,q3c:A.bitrate,r3c:null !== (z=A.Mb) && void 0 !== z?z:0,B$c:g.bitrate,C$c:null !== (B=g.Mb) && void 0 !== B?B:0,ipa:w});A === g && (w=!1);P9d=62;break;case 20:P9d=x === v?19:58;break;case 68:P9d=q[w].f < v?73:67;break;case 40:D.push(F.max);P9d=39;break;case 33:(A=p[x],C=void 0,D=[]);A.xb && A.xb.throughput && (C=A.xb.throughput.Da);P9d=31;break;case 39:F=void 0;A.xb && A.xb.tputTrace && (F=A.xb.tputTrace);(G=[],E=A.Oa,H=0);P9d=36;break;case 55:P9d=w < q.length?77:73;break;case 9:(u=new h.Kg(r),v=null !== (k=m.Qe) && void 0 !== k?k:-1);k=q[0].f;w=q[q.length - 1].f;P9d=6;break;case 50:J++;P9d=53;break;case 59:return e.default.prototype.Bf(g);break;case 69:k=w;P9d=73;break;case 14:return e.default.prototype.Bf(g);break;case 6:P9d=v < k || v > w?14:13;break;case 54:J=m.Qe;P9d=53;break;case 17:u.od=p[q[v].k$c];P9d=16;break;case 62:x++;P9d=34;break;case 2:var D0y="playe";D0y+="r mis";D0y+="sing fragmentIn";D0y+="dex";var t3A="Mus";t3A+="t have a ";t3A+="select";t3A+="ed st";t3A+="ream for selectPlaying";(l=g.config,m=g.player,p=g.tk,r=g.zm);(0,c.assert)(r,t3A);(0,c.assert)(d.pc(m.Qe),D0y);q=l.zPc;p=p.first;P9d=9;break;case 35:x=0;P9d=34;break;case 58:k=void 0;P9d=57;break;case 36:P9d=void 0 !== E?54:45;break;case 30:F=A.xb.tdigest;D.push(F.min);D.push(F.ZVa);D.push(F.Qv);D.push(F.cs);P9d=42;break;case 31:P9d=A.xb && A.xb.tdigest?30:39;break;}}}};break;}}})().Bf;},63499:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(13550);t=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.Bf=function(f){f=f.tk.first;return new n.Kg(f[f.length - 1]);};return h;})(a(75498).Wy);b["default"]=t;},65114:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(75498);n=a(57862);c=a(26502);h=a(41379);a(55891);a=(function(f){function e(){var g;g=f.apply(this,d.__spreadArray([],d.__read(arguments),!1)) || this;g.Bf=n.Bf;g.jy=c.jy;g.Bq=h.Bq;return g;}d.__extends(e,f);return e;})(t.Wy);b["default"]=a;},41379:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Bq=void 0;d=a(91176);n=a(13550);c=a(57862);h=a(19188);b.Bq=(function(){var P8M;P8M=2;function f(e){function g(y){var G9N,z;G9N=2;for(;G9N !== 8;){switch(G9N){case 4:var o6W="buff";o6W+="_";o6W+="lt";o6W+="_h";o6W+="ist";w=o6W;x=z;return !0;break;case 2:z=y.jb;G9N=1;break;case 1:G9N=!z || (y.bitrate > q?k.UOb:1) * y.bitrate * l.playbackRate > z?5:4;break;case 5:return !1;break;}}}var q7f,x,v,u,w,k,l,m,p,r,q;q7f=2;for(;q7f !== 26;){switch(q7f){case 19:x=null === r || void 0 === r?void 0:r.jb;q7f=17;break;case 11:q7f=void 0 === r?10:18;break;case 13:v=(0,n.Mua)(m[0].M,k.gR) && p?(0,h.Dvb)(m,k):Infinity;r=(0,d.ic)(m.slice(0,u).filter(function(y){var V1E;V1E=2;for(;V1E !== 1;){switch(V1E){case 4:return y.Is || y.Is < v;break;case 2:return y.Is && y.Is <= v;break;}}}).reverse(),g);q7f=11;break;case 8:u=void 0;u=(0,d.om)(m,function(y){var q_L;q_L=2;for(;q_L !== 1;){switch(q_L){case 2:return y.isEqual(r);break;case 4:return y.isEqual(r);break;}}});u=Math.max(u,0);u=Math.min(u + (k.ikb?2:1),m.length);q7f=13;break;case 18:var V84="se";V84+="le";V84+="ct";V84+="_feasible_buf";V84+="fering";w=V84;q7f=19;break;case 10:r=m[0];q7f=20;break;case 20:var v02="fallb";v02+="ack_lowes";v02+="t_acceptab";v02+="le_stream";w=v02;q7f=19;break;case 9:q7f=r.jb?8:17;break;case 17:p=new n.Kg();p.od=r;e.Qa !== r.Qa && (p.reason=w,p.Dt=x);return p;break;case 2:var Y0e="Must have at least one s";Y0e+="el";Y0e+="ected stream";(k=e.config,l=e.player,m=e.tk,p=e.Dv,r=e.zm);(0,d.assert)(r,Y0e);m=m.first;q=r.bitrate;e=r;q7f=9;break;}}}for(;P8M !== 5;){switch(P8M){case 2:var u3Q="1SIYbZ";u3Q+="rNJCp";u3Q+="9";u3Q;return {Bq:function(e){var x5v;x5v=2;for(;x5v !== 1;){switch(x5v){case 2:var V_R="p";V_R+="la";V_R+="ying";return V_R === e.config.L6?(0,c.Bf)(e):f(e);break;}}}};break;}}})().Bq;},57862:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Bf=void 0;d=a(91176);a(13550);n=a(13550);c=a(55891);h=a(88502);b.Bf=(function(){var k3R;k3R=2;for(;k3R !== 5;){switch(k3R){case 2:var v9x="1";v9x+="SIYbZrN";v9x+="JCp9";v9x;return {Bf:function(f){var M3M,e,g,k,l,m,p,r,q,u,v;M3M=2;for(;M3M !== 14;){switch(M3M){case 2:(e=f.config,g=f.player,k=f.tk,l=f.zm,m=f.Dv,p=f.Ipa);M3M=1;break;case 1:var J9K="Must ";J9K+="have at least one selected ";J9K+="stream";(0,d.assert)(l,J9K);r=g.buffer.uk;f=g.buffer.Kk - g.buffer.yd;q=(0,h.Ulc)(f,e.Uk,l,e.Vpa);k=k.first;(u=(0,d.om)(k,function(w){var S$G;S$G=2;for(;S$G !== 1;){switch(S$G){case 2:return w.isEqual(l);break;}}}),v=(0,n.Mua)(k[0].M,e.gR));m=k.slice(0,(!(void 0 === p || r - p > e.iR) || v && m?(k.length + u) % k.length:Math.min(k.length - 1,u + e.Ypa)) + 1);M3M=6;break;case 6:return (0,c.G0)(m,q,f,e,g.playbackRate,g.Qe);break;}}}};break;}}})().Bf;},26502:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.jy=void 0;d=a(91176);n=a(65161);c=a(13550);h=a(19188);t=(function(){var n9$;n9$=2;function f(g,k){var i5W,l,m;i5W=2;for(;i5W !== 13;){switch(i5W){case 6:return Math.floor(g.d + (l.d - g.d) * (k - g.r) / (l.r - g.r));break;case 14:return g.Yr;break;case 1:(l=g.zK,m=(0,d.om)(l,function(p){var o1I;o1I=2;for(;o1I !== 1;){switch(o1I){case 2:return k <= p.r;break;}}}));i5W=5;break;case 2:i5W=g.zK?1:14;break;case 3:i5W=-1 === m?9:8;break;case 8:p6_3u.b_o(0);g=l[p6_3u.l9m(m,1)];l=l[m];i5W=6;break;case 4:return l[0].d;break;case 9:return l[l.length - 1].d;break;case 5:i5W=0 === m?4:3;break;}}}for(;n9$ !== 5;){switch(n9$){case 2:var G$N="1SI";G$N+="Y";G$N+="bZrNJCp";G$N+="9";G$N;return {KHa:function(g){var u4$,k,l,m,p,r,q;u4$=2;for(;u4$ !== 9;){switch(u4$){case 2:(k=g.config,l=g.player,m=g.Dv);g=g.tk.first;(p=new c.Kg(),r=Math.max(k.Px,k.xR),q=(0,c.Mua)(g[0].M,k.gR) && m?(0,h.Dvb)(g,k):Infinity);p.od=(0,d.ic)(g.filter(function(u){var T6p,v,w;T6p=2;for(;T6p !== 9;){switch(T6p){case 2:(v=u.Gi(n.v.X))?(v=v.xe,v=k && k.vp && 0 <= k.vp.indexOf(v)?e(v,k.KH):e(v,k.lka)):v=void 0;v=v?null !== (w=v.maxInitAudioBitrate) && void 0 !== w?w:k.Ot:k.Ot;w=u.Is?u.Is <= k.zA:!0;T6p=3;break;case 3:return (u.Uu?u.Uu <= v:!0) && w;break;}}}).filter(function(u){var u7k;u7k=2;for(;u7k !== 1;){switch(u7k){case 2:return u.Is && u.Is <= q;break;case 4:return u.Is || u.Is >= q;break;}}}).reverse(),function(u){var B2l,v,w;B2l=2;for(;B2l !== 8;){switch(B2l){case 9:var l4j="no_hist";l4j+="orical_lte_";l4j+="minbitra";l4j+="te";var y58="h";y58+="ist_tput_";y58+="lt_mi";y58+="nbi";y58+="trate";var P4Z="lt_";P4Z+="hist_l";P4Z+="te_minbitr";P4Z+="ate";v && u.bitrate * l.playbackRate <= v?(p.Dt=v,p.reason=P4Z,v=!0):v?(p.Dt=v,p.reason=y58,v=!1):(p.reason=l4j,v=!0);B2l=3;break;case 2:v=u.jb;B2l=1;break;case 1:B2l=u.bitrate > r?5:9;break;case 5:w=u.bitrate * l.playbackRate;B2l=4;break;case 3:return v;break;case 4:var z3Y="hist";z3Y+="_buf";z3Y+="f";z3Y+="time";v?(u=f(k,w),w=(0,c.Qlb)(k.fp,w * k.sR),(0,c.vCb)(w,v) <= u?(p.Dt=v,p.reason=z3Y,v=!0):v=!1):v=!1;B2l=3;break;}}}) || g[0];return p;break;}}}};break;}}function e(g,k){var G48,l;G48=2;for(;G48 !== 4;){switch(G48){case 2:k.some(function(m){var k$y,p;k$y=2;for(;k$y !== 4;){switch(k$y){case 2:p=m.profiles;(p=p && 0 <= p.indexOf(g)) && (l=m.override);return p;break;}}});return l;break;}}}})().KHa;b.jy=t;},55891:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.G0=function(h,f,e,g,k,l){var m,r,q,u,v,w;m=new n.Kg();f=g.RMb * Math.pow(f,g.QMb);m.od=h[0];for(var p=h.length - 1;-1 < p;--p){r=h[p];if(r.xb && r.xb.jb){q=r.xb.jb.Da;u=r.bitrate;v=g.Z$?(0,c.Wnc)(g,r,r.xb,e):void 0;w=u * k < (g.Z$?v || q:q) * f;g.Xpa && u <= g.X$ && (d.l && n.console.log("liveLowQualityAvoidance: ",w,u,q,g.X$,g.wZ,u * k * g.wZ),q > u * k * g.wZ && (w=!0),d.l && n.console.log(("Stream ").concat(p,": throughput=").concat(q,", bitrate=").concat(u,", playbackRate=").concat(k,", feasible=").concat(w,", live segment ID=").concat(l)));d.l && n.console.log(("Stream ").concat(p,": throughput=").concat(q,", throughput discount=").concat(f,", maxAchievableBitrateWithLatency=").concat(v,", bitrate=").concat(u,", playbackRate=").concat(k,", feasible=").concat(w,", live segment ID=").concat(l));if(w){d.l && n.console.log(("Threshold policy selected stream ").concat(p));m.od=r;break;}}else n.console.warn("Stream has no throughput statistics");}return m;};d=a(48170);n=a(13550);c=a(61342);},88502:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Ulc=function(c,h,f,e){var g;g=1;f=f.Gi(d.v.U);if((0,n.hk)(f))switch(e){case "loose":g=Math.min(1,c / Math.max(h - f.track.Hk.G,f.track.Hk.G));break;default:g=Math.min(1,c / h);}return g;};d=a(65161);n=a(8149);},61342:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Wnc=function(c,h,f,e){var g;g=f.jb.Da;f=f.Nr;h=h.Gi(d.v.U);if((0,n.hk)(h) && (h=h.track.Hk.G,void 0 !== h))return (e=Math.min(e,h) - c.Jvc * f.Da,void 0 !== f.eg && (e-=c.Npa * Math.sqrt(f.eg)),e=Math.max(0,e),g * e / h);};d=a(65161);n=a(8149);},19188:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Dvb=function(h,f){var e,g;h=null === (e=h[h.length - 1]) || void 0 === e?void 0:e.Gi(n.v.U);if(!h)return Infinity;(0,d.assert)((0,c.hk)(h),"Max rate stream must be a live stream");e=null !== (g=h.bitrate) && void 0 !== g?g:Infinity;return Math.max(e / (f.Uk / h.track.Hk.G),f.Rwc);};d=a(91176);n=a(65161);c=a(8149);},4272:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(13550);t=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.Bf=function(f){return new n.Kg(f.tk.first[0]);};return h;})(a(75498).Wy);b["default"]=t;},80588:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(75498);n=a(4969);c=a(98301);h=a(71406);a=(function(f){function e(){var g;g=f.apply(this,d.__spreadArray([],d.__read(arguments),!1)) || this;g.jy=h.jy;g.Bq=n.Bq;g.Bf=c.Bf;return g;}d.__extends(e,f);return e;})(t.Wy);b["default"]=a;},4969:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Bq=void 0;d=a(91176);n=a(13550);c=a(98301);b.Bq=(function(){var P58;P58=2;function h(f){var E3$,r,u,q,g,k,l,m,p;E3$=2;function e(v){var D0i,w;D0i=2;for(;D0i !== 8;){switch(D0i){case 5:return !1;break;case 1:D0i=!w || (v.bitrate > p?g.UOb:1) * v.bitrate * k.playbackRate > w?5:4;break;case 2:w=v.jb;D0i=1;break;case 4:var B8D="buf";B8D+="f_lt_hi";B8D+="st";q=B8D;u=w;return !0;break;}}}for(;E3$ !== 27;){switch(E3$){case 8:r=void 0;r=(0,d.om)(l,function(v){var H7$;H7$=2;for(;H7$ !== 1;){switch(H7$){case 4:return v.isEqual(m);break;case 2:return v.isEqual(m);break;}}});r=Math.max(r,0);E3$=14;break;case 12:E3$=void 0 === m?11:19;break;case 11:m=l[0];E3$=10;break;case 9:E3$=m.jb?8:18;break;case 20:u=null === m || void 0 === m?void 0:m.jb;E3$=18;break;case 18:l=new n.Kg();l.od=m;f.Qa !== m.Qa && (l.reason=q,l.Dt=u);E3$=15;break;case 15:return l;break;case 10:var b9n="fallback";b9n+="_";b9n+="lowe";b9n+="st_acceptable_stream";q=b9n;E3$=20;break;case 3:f=m;E3$=9;break;case 14:r=Math.min(r + (g.ikb?2:1),l.length);m=(0,d.ic)(l.slice(0,r).reverse(),e);E3$=12;break;case 19:var e2Q="select_feasib";e2Q+="l";e2Q+="e_bu";e2Q+="ffering";q=e2Q;E3$=20;break;case 2:var y4i="Must h";y4i+="ave at least on";y4i+="e sele";y4i+="cted stream";(g=f.config,k=f.player,l=f.tk,m=f.zm);(0,d.assert)(m,y4i);l=l.first;p=m.bitrate;E3$=3;break;}}}for(;P58 !== 5;){switch(P58){case 2:var i1f="1S";i1f+="I";i1f+="Y";i1f+="bZ";i1f+="rNJCp9";i1f;return {Bq:function(f){var a0h;a0h=2;for(;a0h !== 1;){switch(a0h){case 2:var F8B="p";F8B+="lay";F8B+="ing";return F8B === f.config.L6?(0,c.Bf)(f):h(f);break;}}}};break;}}})().Bq;},98301:function(t,b,a){var d,n,c,h,f,e,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.MMa=b.ipa=b.Bf=void 0;t=a(22970);n=t.__importStar(a(17267));c=a(91176);h=a(50468);f=a(13550);e=t.__importDefault(a(62737));g=a(65161);k=a(20880);b.Bf=(d=(function(){var P$T;P$T=2;function m(p,r,q){var R1s,u;R1s=2;for(;R1s !== 3;){switch(R1s){case 5:u=(q.Vda || q.jb) / q.jb;return 1 >= u?p.wqa:Math.min(Math.max((p.gOc * Math.min(8 * r / q.bitrate,p.PG) - p.yA) / (u - 1),p.dCb),p.wqa);break;case 2:R1s=!q.jb?1:5;break;case 1:return p.dCb;break;}}}for(;P$T !== 5;){switch(P$T){case 2:var n9o="1";n9o+="S";n9o+="IYbZrNJCp9";n9o;return {ipa:l,Bf:function(p){var G4l=p6_3u;var a51,r,q,u,v,w,x,y,z,B,A,C,D,S,U,F,G,E,H,J,L,K,M,P,I,O,Q;a51=2;for(;a51 !== 16;){switch(a51){case 2:var n9_="in";n9_+="valid";n9_+=" player fragmentIndex";var J1n="Must have a";J1n+=" ";J1n+="selected ";J1n+="st";J1n+="ream";(q=p.config,u=p.player,v=p.tk,w=p.Y9,x=p.hY,y=p.zm,z=p.Ipa);p=p.fTa;(0,c.assert)(y,J1n);void 0 === u.Qe && (u.Qe=0);(0,c.assert)(n.pc(u.Qe),n9_);a51=9;break;case 9:var d0z="Selected stream ";d0z+="not fou";d0z+="nd in str";d0z+="eam lis";d0z+="t";var h8O="n";h8O+="u";h8O+="m";h8O+="ber";var K3E="n";K3E+="u";K3E+="mb";K3E+="e";K3E+="r";(0,c.assert)(K3E === typeof u.buffer.nt);(0,c.assert)(h8O === typeof u.ema);(B=v.first,A=new f.Kg(),C=y,D=(0,c.om)(B,function(W){var m4Z;m4Z=2;for(;m4Z !== 1;){switch(m4Z){case 2:return W.isEqual(y);break;}}}));G4l.b_o(12);(0,c.assert)(G4l.l9m(D,0),d0z);a51=14;break;case 11:r=(q.qda || x) && L >= q.Sea?B.length:D + 2;(S=(function(W){var G7Q,d9l;G7Q=2;for(;G7Q !== 4;){switch(G7Q){case 5:return B.slice(0,W).map(function(Y,X){var M8D;M8D=2;for(;M8D !== 1;){switch(M8D){case 2:return X < D?[q.T9,q.haa]:X === D?[q.S9,q.gaa]:[q.U9,q.iaa];break;}}});break;case 1:return B.slice(0,W).map(function(Y){var y1A;y1A=2;for(;y1A !== 1;){switch(y1A){case 4:return [m(q,u.buffer.nt,Y),8];break;case 2:return [m(q,u.buffer.nt,Y),0];break;}}});break;case 13:G7Q=4;break;case 3:G7Q=5;break;case 2:var a_S="vari";a_S+="a";a_S+="ble";d9l=q.Rua;G7Q=d9l === a_S?1:3;break;}}})(r),U=B.slice(0,r).map(function(W,Y){var h_K,X;h_K=2;for(;h_K !== 5;){switch(h_K){case 2:G4l.b_o(13);X=G4l.w3s(Y,D);return function(){var L1g,Z,aa,ca,da,ja,R,N,V,ba,fa,ha,la,pa,ia;L1g=2;for(;L1g !== 5;){switch(L1g){case 2:a:{G4l.b_o(0);Z=Math.max(G4l.w3s(Y,1),0);aa=S[Y][0];ca=S[Y][1];da=u.playbackRate;N=v.fQa(Y,J,aa);V=N.I0a;N=N.K_a;G4l.b_o(8);ba=v.fQa(Z,G4l.w3s(V,J),ca);Z=ba.I0a;fa=ba.K_a;ba=N[0].stream;ha=null === (ja=fa[0]) || void 0 === ja?void 0:ja.stream;ja=ba.jb || 0;la=ba.Oa && ba.Oa.length;pa=x?q.jjc:la?q.bY:q.kjc;pa=X?q.u8:pa;if(I && !I.Oma && I.jb >= ja && I.bitrate <= ba.bitrate){ia=!1;}else {X || la || (ba.kw=!0);if(!X || !la)if(la){if(ja >= Math.max(ba.Mx * da,ba.bitrate * da * pa) && ba.tv){ia=!0;break a;}}else if(ja >= ba.bitrate * da * pa){ia=!0;break a;}da=!q.j7 || ba === C || ba.zb === C.zb && w?0:(da=ba.xb) && da.wh && da.wh.Da?da.wh.Da + q.f7 * (da.wh.eg?Math.sqrt(da.wh.eg):0):0;G4l.z5Q(8);la=G4l.w3s(ca,aa);aa=(null !== (ia=ba.Uu) && void 0 !== ia?ia:0) * aa / la + (null !== (R=null === ha || void 0 === ha?void 0:ha.Uu) && void 0 !== R?R:0) * ca / la;(ia=l(q,B,N,fa,O,G + da - F,M,H - F,E - F,J,O.length,K,Q,V,Z,P,u.ema,u.playbackRate,aa)) && ia.result && (A.F7c=ia.laa);I={Oma:ia && ia.result,jb:ja,bitrate:ba.bitrate};ia=ia && ia.result;}}return ia;break;}}};break;}}}));(0,c.assert)(U.length === S.length);U[D]()?D + 1 < B.length && L > q.xA && (void 0 === z || p && p > z || E - z > q.iR && L > q.kaa) && (y=(0,c.cJa)(B.slice(D + 1,r),function(W,Y){var i12;i12=2;for(;i12 !== 1;){switch(i12){case 2:return U[D + 1 + Y]();break;}}})):y.Oa && y.Oa.length && ((y=(0,c.cJa)(B.slice(0,D),function(W,Y){var T_G;T_G=2;for(;T_G !== 1;){switch(T_G){case 2:return U[Y]();break;}}})) || (y=B[0]));A.od=y || C;return A;break;case 14:(F=u.buffer.Eb,G=u.buffer.yd,E=u.buffer.uk,H=u.buffer.Kk,J=u.Qe,L=H - G,K=u.state === g.Tb.hg || u.state === g.Tb.zi?u.buffer.Tv:0,M=q.QG,P=null !== (r=q.yA) && void 0 !== r?r:1E3);v.bK(function(W,Y,X){var q2Y,Z;q2Y=2;for(;q2Y !== 5;){switch(q2Y){case 2:void 0 !== X && (W=W[X],null !== (Z=W.Oa) && void 0 !== Z && Z.length || (W.kw=!0));q2Y=5;break;}}});(O=h.ko.vla(u.buffer.Oa),Q=u.buffer.nt - O.ma);a51=11;break;}}},MMa:m};break;}}function l(p,r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L){var w2r,P,I,O,Q,M,S,K;w2r=2;for(;w2r !== 16;){switch(w2r){case 13:return !1;break;case 8:(P=y - w,I=v.length,O=r.Oa && r.Oa.length,Q=(null === M || void 0 === M?void 0:M.Oa) && (null === M || void 0 === M?void 0:M.Oa.length));p6_3u.z5Q(5);(0,c.assert)(p6_3u.l9m(I,A));p.maa && (E=Math.min(E,P));w2r=14;break;case 17:return 0 < F || 0 < G?(0,e.default)({Kkc:S,blocks:A + F + G,yd:w,Kk:y,kOc:x,Tv:C,uk:z,Qe:A,gkc:A + F,ema:H,atb:D,jb:(K - L) / J,yzc:E,Qx:p.Qx,bhc:!1}):K > r.Mx?{result:!0,laa:0,tv:!0}:{result:!1,laa:0,tv:!0};break;case 14:w2r=!K || K < r.bitrate * J * p.R9 || !O?13:12;break;case 4:var p9K="First stream u";p9K+="n";p9K+="def";p9K+="ine";p9K+="d";M=null === (K=u[0]) || void 0 === K?void 0:K.stream;(0,c.assert)(r,p9K);K=r.jb;w2r=8;break;case 12:Q || (M=r);S=new k.Aeb(v);F=Math.max(0,Math.min(F,r.Oa.length - B));G=Math.max(0,Math.min(G,M.Oa.length - B - F));q.forEach(function(U){var T9p,W,Y;T9p=2;for(;T9p !== 4;){switch(T9p){case 2:(W=U.stream,Y=U.blocks);U=U.Qe;n.pc(U) && W.Oa && S.add(W.Oa.dB.subarray(U,U + Y));T9p=4;break;}}});u.forEach(function(U){var e30,W,Y;e30=2;for(;e30 !== 4;){switch(e30){case 2:(W=U.stream,Y=U.blocks);U=U.Qe;0 < G && n.pc(U) && W.Oa && S.add(W.Oa.dB.subarray(U,U + Y));e30=4;break;}}});w2r=17;break;case 2:void 0 === L && (L=0);r=q[0].stream;w2r=4;break;}}}})(),d.Bf);b.ipa=d.ipa;b.MMa=d.MMa;},71406:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Qtc=b.jy=void 0;t=a(22970);d=t.__importStar(a(17267));n=a(91176);c=a(65161);h=a(88318);t=t.__importStar(a(65167));f=a(13550);e=t.bOc;a=(function(){function r(x,y){var r5I,z;r5I=2;for(;r5I !== 5;){switch(r5I){case 2:z=x.Is?x.Is >= y.Px:!0;return (x.Uu?x.Uu >= y.Ox:!0) && z;break;}}}function q(x,y){var E0p,z,B;E0p=2;for(;E0p !== 9;){switch(E0p){case 2:(z=x.Gi(c.v.X))?(z=z.xe,z=y && y.vp && 0 <= y.vp.indexOf(z)?w(z,y.KH):w(z,y.lka)):z=void 0;z=z?null !== (B=z.maxInitAudioBitrate) && void 0 !== B?B:y.Ot:y.Ot;y=x.Is?x.Is <= y.zA:!0;return (x.Uu?x.Uu <= z:!0) && y;break;}}}var B0I;function v(x,y,z){var l5q,B,A;l5q=2;for(;l5q !== 4;){switch(l5q){case 2:(B=new f.Kg(),A=Math.max(x.Px,x.xR));B.od=(0,n.ic)(z.filter(function(C){var c$Y;c$Y=2;for(;c$Y !== 1;){switch(c$Y){case 2:return q(C,x);break;}}}).reverse(),function(C){var y5$,D,F;y5$=2;for(;y5$ !== 6;){switch(y5$){case 5:y5$=(C=C.bitrate * y.playbackRate,D)?4:8;break;case 2:D=C.jb;y5$=1;break;case 8:D=!1;y5$=9;break;case 9:return D;break;case 4:F=l(x,C);y5$=3;break;case 3:var k1g="hist_bu";k1g+="f";k1g+="ft";k1g+="ime";k(C,D,x) <= F?(B.Dt=D,B.reason=k1g,D=!0):D=!1;y5$=9;break;case 1:y5$=C.bitrate > A?5:7;break;case 7:var z5I="n";z5I+="o_historical_";z5I+="l";z5I+="te";z5I+="_minbitrate";var H2X="hist_t";H2X+="put_lt";H2X+="_mi";H2X+="nbit";H2X+="rate";var b0m="lt_hist_lte_m";b0m+="in";b0m+="bit";b0m+="r";b0m+="ate";D && C.bitrate * y.playbackRate <= D?(B.Dt=D,B.reason=b0m,D=!0):D?(B.Dt=D,B.reason=H2X,D=!1):(B.reason=z5I,D=!0);y5$=9;break;}}}) || z[0];return B;break;}}}B0I=2;function k(x,y,z){var r1j;r1j=2;for(;r1j !== 5;){switch(r1j){case 2:x=(0,f.Qlb)(z.fp,x * z.sR);return (0,f.vCb)(x,y);break;}}}function l(x,y){var i6s,z,B;i6s=2;for(;i6s !== 13;){switch(i6s){case 1:(z=x.zK,B=(0,n.om)(z,function(A){var d55;d55=2;for(;d55 !== 1;){switch(d55){case 4:return y < A.r;break;case 2:return y <= A.r;break;}}}));i6s=5;break;case 8:p6_3u.z5Q(0);x=z[p6_3u.l9m(B,1)];z=z[B];i6s=6;break;case 4:return z[0].d;break;case 3:i6s=-1 === B?9:8;break;case 2:i6s=x.zK?1:14;break;case 9:return z[z.length - 1].d;break;case 5:i6s=0 === B?4:3;break;case 6:return Math.floor(x.d + (z.d - x.d) * (y - x.r) / (z.r - x.r));break;case 14:return x.Yr;break;}}}function p(x,y,z){var o6g,B,A,C,D,F,G;o6g=2;for(;o6g !== 19;){switch(o6g){case 12:C--;o6g=1;break;case 13:A.reason=G;o6g=12;break;case 2:(B=!!x.Mv && !!x.yBb && z.every(function(E){var q3y;q3y=2;for(;q3y !== 1;){switch(q3y){case 2:return E.Mb && 110 >= E.Mb;break;}}}),A=null,C=z.length - 1);o6g=1;break;case 1:o6g=0 <= C && (B?z[C].Mb >= x.Mv:r(z[C],x))?5:11;break;case 20:return A;break;case 14:o6g=D?11:13;break;case 5:D=z[C];A=g(D,x);(F=k(D.bitrate * y.playbackRate,A.Dt,x),G=m(A.Dt,x));G=u(D,A.Dt,B,F,G,x);D=G.Oma;G=G.reason;o6g=6;break;case 11:var m6o="fallback_no_";m6o+="acceptabl";m6o+="e_stream";var C7O="bel";C7O+="ow_minInit";C7O+="VideoBit";C7O+="rate";d.md(A) && !r(z[C],x) && (A=g(z[C],x),A.reason=C7O);d.md(A) && (A=g(z[0],x),A.reason=m6o);o6g=20;break;case 6:A.YY=F;o6g=14;break;}}}function m(x,y){var g04=p6_3u;var v7E,z;v7E=2;for(;v7E !== 9;){switch(v7E){case 2:g04.b_o(14);var h97=g04.w3s(5882,13,20,4,17300);g04.z5Q(15);var q78=g04.l9m(3,4000,400,970);x=(0,f.Yka)(x,0,h97) / q78;v7E=1;break;case 1:var S4e="l";S4e+="o";S4e+="g";v7E=0 === y.aM.lastIndexOf(S4e,0)?5:3;break;case 5:z=y.aM;v7E=4;break;case 4:return (z=y.JJb[z]) && 2 === z.length?1E3 * (z[0] + z[1] * Math.log(1 + x)):y.Yr;break;case 3:var i1Y="sigm";i1Y+="oi";i1Y+="d";return 0 === y.aM.lastIndexOf(i1Y,0)?(z=y.aM,(z=y.JJb[z]) && 2 === z.length?1E3 * (z[0] + z[1] * e(x)):y.Yr):y.Yr;break;}}}function g(x,y){var M2p,z,B,A;M2p=2;for(;M2p !== 11;){switch(M2p){case 2:z=new f.Kg();z.od=x;M2p=5;break;case 5:B=z.od.xb;z.xb=B;x=0;B=null === B || void 0 === B?void 0:B.cl;M2p=8;break;case 8:M2p=7;break;case 12:return z;break;case 14:var A7J="hist";A7J+="_";A7J+="throughput";var e3K="hist_tdi";e3K+="g";e3K+="est";A && B.mk?(x=B.mk(y.vua / 100) || z.od.jb,z.reason=e3K):z.od.jb && (x=z.od.jb,z.reason=A7J);z.Dt=x;M2p=12;break;case 7:M2p=(A=d.pc(y.vua) && 0 <= y.vua && 100 >= y.vua && B)?6:14;break;case 6:(A=h.kfb.Ioc(B),d.yx(A)?(B.mk=A,A=!0):A=!1);M2p=14;break;}}}function u(x,y,z,B,A,C){var m_C;m_C=2;for(;m_C !== 4;){switch(m_C){case 2:var I3G="no_val";I3G+="i";I3G+="d_Bitrate";var V35="n";V35+="o_va";V35+="lid_VMAF";var C_g="n";C_g+="o_va";C_g+="l";C_g+="id_DelayTarget";p6_3u.b_o(13);y=p6_3u.l9m(B,A);x=z?x.Mb >= C.Mv && x.Mb <= C.yBb:r(x,C) && q(x,C);return (C=y && x)?{Oma:C}:{Oma:C,reason:x?C_g:z?V35:I3G};break;}}}function w(x,y){var k81,z;k81=2;for(;k81 !== 4;){switch(k81){case 2:y.some(function(B){var U8D,A;U8D=2;for(;U8D !== 4;){switch(U8D){case 2:A=B.profiles;(A=A && 0 <= A.indexOf(x)) && (z=B.override);return A;break;}}});return z;break;}}}for(;B0I !== 5;){switch(B0I){case 2:var w67="1SIY";w67+="b";w67+="ZrNJ";w67+="C";w67+="p9";w67;return {KHa:function(x){var u7S,y,z,B;u7S=2;for(;u7S !== 4;){switch(u7S){case 2:(y=x.config,z=x.player,B=x.zm);x=x.tk.first;return y.XV?p(y,z,x,B):v(y,z,x,B);break;}}},D0b:u};break;}}})();t=a.D0b;b.jy=a.KHa;b.Qtc=t;},62737:function(t,b,a){var B$u="d";B$u+="e";B$u+="fau";B$u+="l";B$u+="t";var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);a(91176);n=a(13550);b[B$u]=(function(){var E62;E62=2;for(;E62 !== 1;){switch(E62){case 2:return {d2b:function(c){var V33=p6_3u;var v6y,h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,G,E,H,J,L,K,M,D,F;v6y=2;for(;v6y !== 50;){switch(v6y){case 30:v6y=D < x?29:28;break;case 32:(e=k,u+=L[f],++f,f >= L.length && ++J < h.length && (L=h.B9(J),K=h.yY(J),f=0),D=K[f],k+=D);v6y=33;break;case 2:var O9K="1S";O9K+="IYb";O9K+="Zr";O9K+="N";O9K+="JCp9";(h=c.Kkc,f=c.blocks,e=c.yd,g=c.Kk,k=c.kOc,l=c.Tv,m=c.uk,p=c.Qe,r=c.gkc,q=c.ema,u=c.atb,v=c.jb,w=c.yzc,x=c.Qx);c=c.bhc;O9K;(y=h.P,z=Math.min(h.Lkc,f),B=g - e,A=8 * l / v | 0);l=[];g=Infinity;C=0;v6y=7;break;case 25:(G=D[1],E=h.B9(A),H=h.yY(A),J=0,L=h.B9(J),K=h.yY(J),M=z - p);v6y=24;break;case 35:v6y=u < p?34:53;break;case 54:g=Math.min(D,g);v6y=24;break;case 53:v6y=(D=Math.max(m - e,0),D < w && D < C)?52:28;break;case 20:0 === m && (e=0);V33.z5Q(1);e*=V33.w3s(y,1E3);V33.z5Q(1);m*=V33.w3s(y,1E3);V33.b_o(1);x*=V33.l9m(y,1E3);V33.z5Q(1);w*=V33.w3s(y,1E3);v6y=15;break;case 42:v6y=k < e && f < G?41:40;break;case 7:f=0;D=h.yY(0)[0];V33.b_o(16);k=V33.w3s(y,k,D,1E3);V33.z5Q(17);v=V33.w3s(v,8,0);v6y=12;break;case 51:return d.__assign({result:!0,laa:g / (y / 1E3),tv:!0},c && ({Dka:l}));break;case 21:z=H[G];v6y=35;break;case 39:v6y=G >= r && D > B?51:38;break;case 31:V33.z5Q(0);D=V33.w3s(m,e);v6y=30;break;case 33:v6y=u < C?32:31;break;case 41:(u+=L[f],++f,f >= L.length && ++J < h.length && (L=h.B9(J),K=h.yY(J),f=0));v6y=42;break;case 23:M--;p=E[G];v6y=21;break;case 24:v6y=M?23:51;break;case 12:var W84=" >= f";W84+="ragmentsLeng";W84+="th: ";var P8s="St";P8s+="rea";P8s+="mingI";P8s+="nde";P8s+="x: ";V33.b_o(1);F=V33.l9m(y,1E3);p >= z && n.console.error(P8s + p + W84 + z);e+=A;v6y=20;break;case 29:return (c && l.push(D / (y / 1E3)),d.__assign({result:!1,laa:D / (y / 1E3),tv:!1},c && ({Dka:l})));break;case 52:return (c && l.push(D / (y / 1E3)),d.__assign({result:!1,laa:Math.min(D,g) / (y / 1E3),tv:!0},c && ({Dka:l})));break;case 43:u-=p;v6y=42;break;case 28:V33.b_o(18);e+=V33.l9m(0,v,F,p);m+=z;v6y=43;break;case 15:V33.b_o(1);B*=V33.l9m(y,1E3);D=d.__read(h.uoc(p),2);A=D[0];v6y=25;break;case 38:G >= E.length && ++A < h.length && (r-=E.length,E=h.B9(A),H=h.yY(A),G=0);c && l.push(D / (y / 1E3));C=D;v6y=54;break;case 34:C=Math.max(p,q);v6y=33;break;case 40:++G;v6y=39;break;}}}};break;}}})().d2b;},14087:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(13550);t=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.Bf=function(f){f=f.tk.first.filter(function(e){return e.rq;});return f.length?new n.Kg(f[Math.floor(Math.random() * f.length)]):new n.Kg();};return h;})(a(75498).Wy);b["default"]=t;},3447:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(91176);c=a(13550);t=(function(h){function f(){return null !== h && h.apply(this,arguments) || this;}d.__extends(f,h);f.prototype.Bf=function(e){var g,k,l,m,p,r;g=e.config;k=e.zm;l=e.Lzb;m=e.tk.first;p=e.player.buffer.uk;e="forward" === g.KKc;if(void 0 === k)return (k=e?m[(0,c.eY)(m)]:m[(0,c.eY)(m,m.length)],new c.Kg(k));if(!k.CG){r=(0,n.om)(m,function(q){return q.isEqual(k);});r=(0,c.eY)(m,r);k=m[r];}if(!k)return new c.Kg();if(void 0 === l || p > l + g.YQc){l=m.filter(function(q){return q.rq;});if(!l.length)return new c.Kg();g=(0,n.om)(l,function(q){return q.isEqual(k);});g=(l.length + g + (e?1:-1)) % l.length;return new c.Kg(l[g]);}return new c.Kg(k);};return f;})(a(75498).Wy);b["default"]=t;},21875:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(66164);n=a(91176);c=a(13550);a=a(75498);f=[];e=[];t.platform.O8b && (t.platform.O8b.up={Sb:function(){h=void 0;f=[];e=[];},G0:function(g){h=g;},P5c:function(){return {all:f,WOb:e};}});a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}d.__extends(k,g);k.prototype.Bf=function(l){var m;m=l.zm;f=l=l.tk.first;if(void 0 === h)return (m=(0,c.eY)(l),h=l[m].bitrate,new c.Kg(l[m]));if(!l.length)return new c.Kg();m=(0,n.ic)(l,function(p){return p.bitrate === h;});return void 0 === m?(c.console.log("Defaulting to first stream due to unvalid bitrate requested: " + h),new c.Kg(l[0])):new c.Kg(m);};return k;})(a.Wy);b["default"]=a;},56186:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(91176);c=a(48170);h=a(13550);t=a(75498);t=(function(f){function e(){var r9n,g;r9n=2;for(;r9n !== 4;){switch(r9n){case 2:var X6y="1S";X6y+="IY";X6y+="bZr";X6y+="NJCp9";g=f.call(this) || this;X6y;return g;break;}}}var Z_E;Z_E=2;for(;Z_E !== 4;){switch(Z_E){case 7:return e;break;case 5:return e;break;case 2:d.__extends(e,f);e.prototype.Bf=function(g){var E2$,p,k,l,m,r,q,u,v;E2$=2;for(;E2$ !== 27;){switch(E2$){case 8:m=m.first;E2$=7;break;case 13:E2$=p.xb && p.xb.jb?12:18;break;case 3:var u9Z="Playback st";u9Z+="ream";u9Z+=" sel";u9Z+="ection";c.l && h.console.log(u9Z);l=new h.Kg(g);E2$=8;break;case 20:var W_l="Threshold policy selec";W_l+="t";W_l+="ed stream ";return (c.l && h.console.log(W_l + g),l.od=p,l);break;case 19:--g;E2$=6;break;case 14:p=m[g];E2$=13;break;case 6:E2$=-1 < g?14:17;break;case 18:var o65=".";o65+=" ";o65+="Sk";o65+="ippin";o65+="g.";var h1T="Cannot o";h1T+="btain tpu";h1T+="t ";h1T+="stats fo";h1T+="r stream ";c.l && h.console.log(h1T + g + o65);E2$=19;break;case 7:p6_3u.z5Q(19);var x4$=p6_3u.l9m(17,16,0);g=m.length - x4$;E2$=6;break;case 2:var h42="p";h42+="la";h42+="yer missing fragmentIndex";var a9F="n";a9F+="um";a9F+="b";a9F+="e";a9F+="r";var L1z="Mus";L1z+="t have at leas";L1z+="t o";L1z+="ne selected ";L1z+="stream";(k=g.config,l=g.player,m=g.tk);g=g.zm;(0,n.assert)(g,L1z);(0,n.assert)(a9F === typeof l.Qe,h42);E2$=3;break;case 10:E2$=v?20:19;break;case 12:var E3f=", fe";E3f+="asibl";E3f+="e=";var w4r=", t";w4r+="hre";w4r+="sho";w4r+="ld";w4r+="=";var b0G=", b";b0G+="itra";b0G+="te=";var m0e=": ";m0e+="t";m0e+="hroughput=";var m2k="S";m2k+="t";m2k+="re";m2k+="am ";(r=p.xb.jb.Da,q=k.UQc,u=p.bitrate,v=u < r - q);c.l && h.console.log(m2k + g + m0e + r + b0G + u + w4r + q + E3f + v);E2$=10;break;case 17:var p2X="Thres";p2X+="ho";p2X+="ld policy selected stream 0 (no feasible streams).";l.od=m[0];c.l && h.console.log(p2X);return l;break;}}};Z_E=5;break;}}})(t.Wy);b["default"]=t;},3082:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.T5b=b.Yca=void 0;d=a(21875)["default"];b.Yca={first:function(){return a(58223)["default"];},random:function(){return a(14087)["default"];},optimized:function(){return a(80588)["default"];},roundrobin:function(){return a(3447)["default"];},selectaudio:function(){return a(32028)["default"];},selectaudioadaptive:function(){return a(70753)["default"];},"default":function(){return a(80588)["default"];},lowest:function(){return a(4272)["default"];},highest:function(){return a(63499)["default"];},throughputthreshold:function(){return a(56186)["default"];},replay:function(){return a(52255)["default"];},checkdefault:function(){return a(32966)["default"];},livesimple:function(){return a(65114)["default"];},testscript:function(){return d;}};b.T5b=["selectaudio","selectaudioadaptive"];},20880:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Aeb=void 0;t=(function(){function a(d){this.dB=[];this.dB.push(d);}Object.defineProperties(a.prototype,{P:{get:function(){return this.dB[0].P;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.dB.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Lkc:{get:function(){var d;return null !== (d=this.j0b) && void 0 !== d?d:this.j0b=this.dB.reduce(function(n,c){return n + c.length;},0);},enumerable:!1,configurable:!0}});a.prototype.yY=function(d){return this.dB[d].Wf;};a.prototype.B9=function(d){return this.dB[d].sizes;};a.prototype.add=function(d){this.dB.push(d);};a.prototype.uoc=function(d){var c;for(var n=0;0 <= d;){c=this.dB[n];if(d < c.length)break;n++;d-=c.length;}return [n,d];};return a;})();b.Aeb=t;},95591:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.REa=void 0;d=a(22970);n=a(91562);a(52571);a(13550);t=(function(){function c(h,f,e,g){this.Wf=h;this.sizes=f;this.P=e;this.length=Math.min(h.length,f.length);this.Ue=g;}Object.defineProperties(c.prototype,{ma:{get:function(){return void 0 !== this.Ue?this.Ue:this.Ue=this.v_b();},enumerable:!1,configurable:!0}});c.prototype.subarray=function(h,f){return new c(this.Wf.subarray(h,f),this.sizes.subarray(h,f),this.P);};c.prototype.concat=function(){var e,g;for(var h=[],f=0;f < arguments.length;f++)h[f]=arguments[f];f=[this];h=f.concat.apply(f,d.__spreadArray([],d.__read(h),!1));f=h.reduce(function(k,l){return k + l.length;},0);e=new Uint32Array(f);g=new Uint32Array(f);f=h[0].P;h.reduce(function(k,l){n.zFa.set(e,l.Wf,k);n.zFa.set(g,l.sizes,k);return k + l.length;},0);return new c(e,g,f);};c.prototype.v_b=function(){for(var h=this.sizes,f=this.length,e=0,g=0;g < f;++g)e+=h[g];return e;};return c;})();b.REa=t;},75498:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Wy=void 0;t=(function(){function a(){}a.prototype.jy=function(d){return this.Bf(d);};a.prototype.Bq=function(d){return this.Bf(d);};a.prototype.HJb=function(d){return this.Bq(d);};a.prototype.GJb=function(d){return this.Bf(d);};return a;})();b.Wy=t;},16096:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w,x;Object.defineProperties(b,{__esModule:{value:!0}});b.H4=void 0;t=a(22970);d=a(66164);n=a(91176);c=a(65161);h=a(62156);f=t.__importDefault(a(29340));e=a(33923);a(52571);g=a(8149);k=a(3082);l=a(35479);m=a(13550);a(87775);a(15050);p=a(94320);r=a(79305);q=a(18048);a(71915);u=a(86268);a(79321);a(29480);v=a(13103);w=a(24757);a(79257);x=a(32966);new d.platform.Console("ASEJS_STREAM_SELECTOR","media|asejs");a=(function(){var K7H;K7H=2;function y(z,B,A,C){var d$j,D;d$j=2;for(;d$j !== 6;){switch(d$j){case 7:C && (this.D_=new l.bV(B,null === (D=A.track) || void 0 === D?void 0:D.mediaType));d$j=6;break;case 2:this.wua=z;this.config=B;this.eo=A;d$j=3;break;case 3:var a5O="d";a5O+="e";a5O+="fa";a5O+="ult";var F5V="1SIYbZr";F5V+="N";F5V+="JCp";F5V+="9";F5V;z || (z=B.mva);this.Ru=new ((k.Yca[z] || k.Yca[a5O])())();d$j=7;break;}}}for(;K7H !== 7;){switch(K7H){case 2:y.prototype.dk=function(){var S2Z;S2Z=2;for(;S2Z !== 1;){switch(S2Z){case 2:return this.eo;break;}}};y.prototype.GKb=function(z){var g6n;g6n=2;for(;g6n !== 1;){switch(g6n){case 2:this.eo=z;g6n=1;break;}}};y.prototype.G0=function(z,B,A,C,D,F,G){var o7q,B_o,S,U,E,H,J,L,K,M,P,I,O,Q;o7q=2;for(;o7q !== 22;){switch(o7q){case 8:B_o=z.state;o7q=B_o === c.Tb.sn?7:17;break;case 19:z.EX && H && (0,f.default)((0,q.XFb)(H,K,z,M,this.config.CHa),E);return E;break;case 23:C=this.Ru.Bf;o7q=6;break;case 7:C=this.Ru.jy;o7q=6;break;case 16:C=this.Ru.Bq;o7q=6;break;case 3:z.state === c.Tb.sn && (this.aF=this.$E=void 0);void 0 !== C && this.Lba(B,z.state,z.buffer,C);o7q=8;break;case 10:o7q=(H=E.od)?20:19;break;case 20:var t_w="pl";t_w+="ay";t_w+="in";t_w+="g";var w0o="min_f";w0o+="ragm";w0o+="en";w0o+="t_vma";w0o+="f";(this.eo.XS(H),(0,r.XTa)(B.first,H,K.Kk - K.yd,this.config.Kqb,this.config.rLb,this.config.TZ),E.BL=H.jb || 0,E.xb=H.xb,E.reason && (H.du=E.reason,w0o !== E.reason && (H.mZa=E.Dt,H.YY=E.YY,H.YQa=null === (J=E.xb) || void 0 === J?void 0:J.gW,H.ZQa=null === (L=E.xb) || void 0 === L?void 0:L.cl)),B=(0,u.BBb)({buffer:K,player:z,iG:G,Y9:D,iqa:I[0],od:H,$va:(0,u.nqc)(I,H),Hva:I[I.length - 1],D_:this.D_}),E.Vn=B || E.Vn,Q && !O && H.bitrate < Q.bitrate && (this.$E=K.uk),z.state !== c.Tb.hg && z.state !== c.Tb.zi?(Q=(0,h.MFb)(z.state),F=this.Cz(z.buffer,Q,z.playbackRate,H,F),(E.rm=F.complete)?E.HJa=F.reason:(E.rm=!1,E.RL=F.RL,E.jaa=F.jaa,E.progress=F.progress)):(E.rm=!0,E.HJa=t_w));o7q=19;break;case 17:o7q=B_o === c.Tb.Ff?16:15;break;case 6:(0,g.hk)(I[0]) && (this.eo.Dv=(0,m.Dv)(z,I[0].track.Hk.G,P.Uk,this.eo.Dv));(S=B.qRc(),U=Q?(0,e.M_a)(Q):void 0);A=C.call(this.Ru,{config:P,player:z,tk:S,zm:U,Y9:!!D,hY:O,rDc:A,Dv:this.eo.Dv,Ipa:this.$E,fTa:this.aF,Lzb:Math.max(null !== (E=this.$E) && void 0 !== E?E:0,null !== (H=this.aF) && void 0 !== H?H:0)});E=(0,v.mac)(A);E.jh=z.state;o7q=10;break;case 27:C=this.Ru.HJb;o7q=6;break;case 26:o7q=B_o === c.Tb.zi?25:24;break;case 24:o7q=23;break;case 15:o7q=B_o === c.Tb.$l?27:26;break;case 2:(K=null === z || void 0 === z?void 0:z.buffer,M=d.platform.time.ha(),P=this.config,I=B.first);(0,p.$mb)(B.first);(O=(0,w.gUa)(P.ZCb,z,B.first,this.eo.Qk),Q=O.zm);O=O.hY;o7q=3;break;case 25:C=this.Ru.GJb;o7q=6;break;}}};K7H=4;break;case 4:y.prototype.Cz=function(z,B,A,C,D){var O5i;O5i=2;for(;O5i !== 1;){switch(O5i){case 2:return (0,x.Cz)(z,B,A,(0,e.M_a)(C),D,this.config);break;}}};y.prototype.dMb=function(z,B,A){var c5g;c5g=2;for(;c5g !== 1;){switch(c5g){case 2:var F86="u";F86+="n";F86+="d";F86+="ef";F86+="ined";F86 !== typeof B?B.bitrate < A.bitrate && (this.aF=z):this.$E=this.aF=void 0;c5g=1;break;}}};y.prototype.Lba=function(z,B,A,C){var H0U,D,F,G;H0U=2;for(;H0U !== 5;){switch(H0U){case 2:D=this;z.bK(function(E){var W2T;W2T=2;for(;W2T !== 1;){switch(W2T){case 2:(0,n.iY)(E,function(H){var g7m;g7m=2;for(;g7m !== 1;){switch(g7m){case 2:H.rq && H.xb && H.xb.confidence?(F !== H.xb && (F=H.xb,G=C(H.xb,A,B,H.track.M.aL[c.v.X])),H.jb=Math.floor(G.lower) || 1,H.Vda=Math.floor(G.upper || 1) || 1):H.jb=D.config.Eec;g7m=1;break;}}});W2T=1;break;}}});H0U=5;break;}}};return y;break;}}})();b.H4=a;},44284:function(t,b,a){var n,c,h,f;function d(e,g,k){var l;l=(0,c.om)(e,function(m){return k && m.Mb?m.Mb > k:m.bitrate > g;});l=0 < l?l - 1:0 === l?0:e.length - 1;return e[l];}Object.defineProperties(b,{__esModule:{value:!0}});b.tAa=b.tFa=void 0;b.Gvb=d;n=a(22970);c=a(91176);h=a(33923);t=(function(){function e(){this.hB=[];}Object.defineProperties(e.prototype,{first:{get:function(){var g;return null === (g=this.hB[0]) || void 0 === g?void 0:g.Bd;},enumerable:!1,configurable:!0}});e.prototype.FO=function(g){this.hB.push({Bd:g});};e.prototype.bK=function(g){this.hB.forEach(function(k,l){return g(k.Bd,l);});};e.prototype.Psb=function(g){this.bK(function(k){k.forEach(function(l,m){return g(l,m);});});};e.prototype.fQa=function(g,k,l){var m,p,r,q,u,v,w;m=l;p=k;r=0;q=[];u=this.first[g];v=u.Mb;w=u.bitrate;this.hB.forEach(function(x,y){var z,B;x=x.Bd;0 >= m || (y=0 === y?u:d(x,w,v),x=null === (z=y.Oa) || void 0 === z?void 0:z.pla(p,m),z=null !== (B=null === x || void 0 === x?void 0:x.blocks) && void 0 !== B?B:0,r+=z,q.push({stream:y,blocks:z,Qe:p}),null === x || void 0 === x?!0:!x.j0) || (p=0,m-=x.j0);});return {K_a:q,I0a:r};};e.prototype.qRc=function(){var g,k;g=new f();k=this.hB.map(function(l){var m;m=l.Bd.map(function(p){return (0,h.M_a)(p);});return n.__assign(n.__assign({},l),{Bd:m});});g.eNc(k);return g;};return e;})();b.tFa=t;f=(function(){function e(){this.hB=[];}Object.defineProperties(e.prototype,{first:{get:function(){var g;return null === (g=this.hB[0]) || void 0 === g?void 0:g.Bd;},enumerable:!1,configurable:!0}});e.prototype.FO=function(g){this.hB.push({Bd:g});};e.prototype.bK=function(g){this.hB.forEach(function(k,l){return g(k.Bd,l);});};e.prototype.Psb=function(g){this.bK(function(k){k.forEach(function(l,m){return g(l,m);});});};e.prototype.eNc=function(g){this.hB=n.__spreadArray([],n.__read(g),!1);};e.prototype.fQa=function(g,k,l){var m,p,r,q,u,v,w;m=l;p=k;r=0;q=[];u=this.first[g];v=u.Mb;w=u.bitrate;this.hB.forEach(function(x,y){var z,B;x=x.Bd;0 >= m || (y=0 === y?u:d(x,w,v),x=null === (z=y.Oa) || void 0 === z?void 0:z.pla(p,m),z=null !== (B=null === x || void 0 === x?void 0:x.blocks) && void 0 !== B?B:0,r+=z,q.push({stream:y,blocks:z,Qe:p}),null === x || void 0 === x?!0:!x.j0) || (p=0,m-=x.j0);});return {K_a:q,I0a:r};};e.prototype.toJSON=function(){return {};};return e;})();b.tAa=f;},79321:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.T1c=function(c,h,f){(0,d.assert)(void 0 !== c.buffer.nt && 0 < c.buffer.nt,"Buffer capacity must be > 0");h.bK(function(e){(0,d.assert)(0 < e.length,"Stream list is empty");});h.Psb(function(e){(0,d.assert)(e.rq,"Stream isUsable is false");});(0,d.assert)(0 < c.playbackRate,"invalid playback rate");(0,d.assert)("undefined" === typeof f === (c.state === n.Tb.sn),"player must be in starting state when there is no prior selection");(0,d.assert)("undefined" !== typeof f === (c.state !== n.Tb.sn),"player cannot be in starting state when there is a prior selection");};d=a(52571);n=a(65161);},71915:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.U1c=function(n){(0,d.assert)("object" === typeof n,"Result is not an object");n && null !== n.od && ((0,d.assert)("number" === typeof n.aKc,"Result required buffering length is not a number"),(0,d.assert)("number" === typeof n.oBc,"Result number of predicted rebuffers is not a number"));};d=a(52571);},94320:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$mb=function(a){a.forEach(function(d){return d.kw=!1;});};},13103:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.mac=function(n){var c;return d.__assign(d.__assign({},n),{od:null === (c=n.od) || void 0 === c?void 0:c.Af});};d=a(22970);},7327:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lG=function(a,d,n){return d && void 0 !== n && !isNaN(n) && 0 <= n && n < d.length?d.Cs(n):a.uk;};},29480:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.j7c=function(c){var h,f,e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A;B=c.Rm;if(c.mediaType === n.v.X){A=c.track.Cj;d.TQ.log({Rm:B,type:"STREAM_SELECTION",bitrate:(0,d.PK)(c.bitrate),mediaType:"AUDIO",xd:A.X6,language:A.language,hR:null !== (h=c.location) && void 0 !== h?h:d.mh,ul:null !== (e=null === (f=c.zb) || void 0 === f?void 0:f.toString()) && void 0 !== e?e:d.mh,channels:A.channels,jb:(0,d.PK)(null !== (g=c.jb) && void 0 !== g?g:-1),SMb:1});}else c.mediaType === n.v.U?(A=c.track.Cj,d.TQ.log({Rm:B,type:"STREAM_SELECTION",mediaType:"VIDEO",bitrate:(0,d.PK)(c.bitrate),xd:c.profile,height:null !== (k=c.IS) && void 0 !== k?k:-1,width:null !== (l=c.DYa) && void 0 !== l?l:-1,hR:null !== (m=c.location) && void 0 !== m?m:d.mh,ul:null !== (r=null === (p=c.zb) || void 0 === p?void 0:p.toString()) && void 0 !== r?r:d.mh,Mb:null !== (q=c.Mb) && void 0 !== q?q:-1,framerate:A.zqa / A.yqa,jb:(0,d.PK)(null !== (u=c.jb) && void 0 !== u?u:-1),SMb:1})):c.mediaType === n.v.Ba && (A=c.track.Cj,d.TQ.log({Rm:B,type:"STREAM_SELECTION",mediaType:"TEXT",bitrate:(0,d.PK)(c.bitrate),xd:c.profile,hR:null !== (v=c.location) && void 0 !== v?v:d.mh,ul:null !== (x=null === (w=c.zb) || void 0 === w?void 0:w.toString()) && void 0 !== x?x:d.mh,language:null !== (y=A.language) && void 0 !== y?y:d.mh,jb:(0,d.PK)(null !== (z=c.jb) && void 0 !== z?z:-1),SMb:1}));};d=a(97685);n=a(6198);},87775:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.y7c=function(n,c,h,f,e,g,k,l){var m;m=e.length;n.log("==================================================================================");n.log(("Selecting stream : state = ").concat(d.Tb[c.state]," : stream list length = ").concat(f.length," : current bitrate = ").concat(0 < m?e[m - 1].bitrate:null === g || void 0 === g?void 0:g.bitrate," : streaming index = ").concat(c.Qe," : currentSelectedStream = ").concat(g));n.log(("  Buffer : capacity = ").concat(h.nt," : startPts = ").concat(h.Eb," : currentPts = ").concat(h.yd," : completePts = ").concat(h.Kk," : streamingPts = ").concat(h.uk," : level = ").concat(h.Kk - h.yd," : partial bytes = ").concat(h.Tv," : fragment count = ").concat(h.Oa.length));k && (!l || k > l) && n.log(("  Last switch was DOWN, ").concat(h.uk - k,"ms ago"));l && (!k || k < l) && n.log(("  Last switch was UP, ").concat(h.uk - l,"ms ago"));n.log(("  Available bitrates ").concat(f.map(function(p){return p.BJa();})));};d=a(65161);},15050:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.z7c=function(n,c,h,f,e,g,k){e?(n.log(("> And the winner is... ").concat(e.Qa," (").concat(e.BJa()," Kbps) lowest buffer level ").concat(k," ms, reason ").concat(g).concat(f?" < INITIAL SELECTION":"")),n.log("Stream selection state " + d.Tb[h.state] + ", desiredHeaders " + JSON.stringify(c.filter(function(l){return l.kw;}).map(function(l){return l.bitrate;})))):n.info("Stream selection failed to find any stream, this could be due to incorrect bitrate ranges.");};d=a(65161);},79257:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.A7c=function(n,c,h){c.bK(function(f){(0,d.iY)(f,function(e,g){n.trace(("").concat(e === h?">>":"  ","[").concat(g,"] ").concat(e.Qa," b(").concat(e.bitrate,") avail(").concat(e.Uo,") failed(").concat(e.Nn,") isUsable(").concat(e.rq,") fittable(").concat(e.tv,") loc(").concat(e.location,") tp(").concat(e.jb,")"));});});};d=a(91176);},79305:function(t,b){function a(d){d.kw=!d.Oa || !d.Oa.length;}Object.defineProperties(b,{__esModule:{value:!0}});b.XTa=function(d,n,c,h,f,e){if(h)d.forEach(function(g){return a(g);});else if(f && c > e && !n.za && d.every(function(g){return !g.kw;}))for(c=d.length - 1;0 <= c;--c){h=d[c];if(d[c - 1] === n){a(h);break;}if(d[c + 1] === n){a(h);break;}}};},24757:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.gUa=function(c,h,f,e){var g,k,l;g=!1;k=(null === h || void 0 === h?void 0:h.buffer).Oa;l=k.length;(h=0 < l && h.state !== d.Tb.sn?k[l - 1].stream:e)?-1 === f.indexOf(h) && (h=(0,n.Gvb)(f,h.bitrate,h.Mb),g=!0,c && e && -1 !== f.indexOf(e) && (g=!1)):g=!0;return {zm:h,hY:g};};d=a(65161);n=a(44284);},86268:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.BBb=function(n){var c,h,f,e,g,k,l,m;c=n.buffer;h=n.player;f=n.iG;e=n.Y9;g=n.iqa;k=n.od;l=n.$va;m=n.Hva;if(n=n.D_)return n.Foc({QO:c.Kk - c.yd,$6b:c.iu || 0,Y6b:c.nt || 0,yd:c.yd,iqa:g,od:k,$va:l,Hva:m,jh:h.state,playbackRate:h.playbackRate,Qe:h.Qe,iG:f,gs:e});};b.nqc=function(n,c){return (0,d.ic)(n,function(h,f){return n[f - 1] === c;}) || c;};b.oqc=function(n,c){return ((0,d.ic)(n,function(h,f){return n[f - 1] === c;}) || c).Af;};d=a(91176);},18048:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.XFb=function(h,f,e,g,k){var l,m,p,r,q,u,v,w,x;r=f.uk;q=e && e.Qe;u=h.Oa;q=(0,c.lG)(f,u,q);v=h.xb;h=v && v.jb && v.jb.Da || 0;u=f.Kk - f.yd;f=f.iu;w=null !== (p=null === (m=null === (l=d.platform.G5c) || void 0 === l?void 0:l.call(d.platform)) || void 0 === m?void 0:m[e.mediaType === n.v.U?1:0]) && void 0 !== p?p:-1;e=e && e.jm;l=d.platform.time.ha();g={uk:r,vl:q,sBc:h,Nlb:u,pFc:w,ty:g,pM:l,e7b:f,jm:e};if(v && k && 0 < k.length){x=[];k.forEach(function(y){var z;z=y.stat;z=(y=v[y.filter]) && y[z];x.push(isNaN(z)?-1:z);});g.MFc=x;}return g;};d=a(66164);n=a(65161);c=a(7327);},31485:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Ueb=void 0;d=a(22970);n=a(91176);t=(function(){function c(h,f){this.console=h;this.events=f;this.Q_a=!1;}c.prototype.Fx=function(){return this.Q_a;};c.prototype.Mf=function(h){void 0 === h.BWa?this.Gqb(h.Fi,h.wC,{networkErrorCode:h.$G,httpCode:h.fk,nativeCode:h.Rg,viewableId:h.J,temporaryFailure:!!h.l0a,server:h.zb}):this.yJc(h.BWa);};c.prototype.yJc=function(h){var f;this.Gqb(h.message,void 0,d.__assign(d.__assign({},h.Mz),{err:n.vU.cK(null === (f=h.Mz) || void 0 === f?void 0:f.context,{includeStack:!1})}));};c.prototype.Gqb=function(h,f,e){void 0 === f && (f=void 0);void 0 === e && (e={});this.Q_a || (e.temporaryFailure || (this.Q_a=!0),h=d.__assign({type:"error",error:null !== f && void 0 !== f?f:"NFErr_MC_StreamingFailure",errormsg:h,temporaryFailure:!1},e),this.console.error("notifyStreamingError:",h),this.events.emit("error",h));};return c;})();b.Ueb=t;},82149:function(t,b,a){var n,c,h,f;function d(e){return function(){for(var g=Array(this.length),k=0;k < this.length;++k)g[k]=e.call(this,k);return g;};}Object.defineProperties(b,{__esModule:{value:!0}});b.sFa=b.zfb=void 0;b.ZK=d;b.R1c=function(e){return ("[").concat(Array(e.length).map(function(g,k){return e[k].toString();}).join(","),"]");};n=a(91176);t=a(66164);c=a(52571);h=new t.platform.Console("FRAGMENTS","media|asejs");f=(function(){function e(g,k){this.Nj=g;this.Yh=k;}Object.defineProperties(e.prototype,{index:{get:function(){return this.Yh;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{qa:{get:function(){return new n.I(this.tb,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{xa:{get:function(){return new n.I(this.Ib,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Vb:{get:function(){return new n.I(this.QJ,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{tb:{get:function(){return this.Nj.mja + this.Nj.WI[this.Yh];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Ib:{get:function(){return this.tb + this.Nj.bz[this.Yh];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{QJ:{get:function(){return this.Nj.bz[this.Yh];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Fa:{get:function(){return this.Nj.Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{P:{get:function(){return this.Nj.P;},enumerable:!1,configurable:!0}});e.prototype.toJSON=function(){return {startPts:1E3 * this.tb / this.Fa.P,endPts:1E3 * this.Ib / this.Fa.P,duration:1E3 * this.QJ / this.Fa.P,index:this.index};};return e;})();b.zfb=f;a=(function(){function e(g,k,l,m){this.mediaType=g;this.length=l.Wf.length;this.Cb=l.P;this.bz=l.Wf;this.Mja=m && m.S_;this.Tjb=m && m.z0;this.Rs=k;this.c1a=this.d1a=void 0;this.mja=l.fu;this.WI=new Uint32Array(this.length + 1);if(this.length){for(k=g=0;k < this.length;++k)(this.WI[k]=g,g+=this.bz[k]);this.WI[k]=g;this.fGa=Math.floor((this.Dg - this.Eb) / this.length);}}Object.defineProperties(e.prototype,{fu:{get:function(){return this.NLb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{jNa:{get:function(){return this.NLb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Eb:{get:function(){return this.Cs(0);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Dg:{get:function(){return this.Cs(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{kb:{get:function(){return new n.I(this.fu,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Rb:{get:function(){return new n.I(this.jNa,this.P);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Fa:{get:function(){return this.Rs;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{P:{get:function(){return this.Cb;},enumerable:!1,configurable:!0}});e.prototype.NLb=function(g){return this.mja + this.WI[g];};e.prototype.Cs=function(g){return Math.floor(1E3 * (this.mja + this.WI[g]) / this.P);};e.prototype.yma=function(g){return this.Cs(g + 1);};e.prototype.Wf=function(g){return this.yma(g) - this.Cs(g);};e.prototype.get=function(g){return new f(this,g);};e.prototype.fG=function(g,k,l){if(0 === this.length || g < this.Cs(0))return -1;g=Math.max(g,k || 0);for(var m=0,p=this.length - 1,r,q;p >= m;)if((r=m + (p - m >> 1),q=this.Cs(r),g < q))p=r - 1;else if(g >= q + this.Wf(r))m=r + 1;else {for(;k && r < this.length && this.Cs(r) < k;)++r;return r < this.length?r:l?this.length - 1:-1;}return l?this.length - 1:-1;};e.prototype.NNa=function(g,k,l){g=this.fG(g,k,l);return 0 <= g?this.get(g):void 0;};e.prototype.pla=function(g,k){var l,m,p;l=Math.floor(k * this.P / 1E3);m=Math.min(g + Math.ceil(k / this.fGa),this.length);p=this.WI[m] - this.WI[g];if(p >= l){for(;p >= l;)(--m,p-=this.bz[m]);return {blocks:Math.max(m - g + 1,0),j0:0};}for(;p < l && m <= this.length;)(k-=p || 0,p+=this.bz[m],++m);return {blocks:Math.max(m - g - 1,0),j0:k};};e.prototype.subarray=function(g,k){(0,c.assert)(void 0 === g || 0 <= g && g < this.length);(0,c.assert)(void 0 === k || k > g && k <= this.length);return new e(this.mediaType,this.Fa,{P:this.P,fu:this.mja + this.WI[g],Wf:this.bz.subarray(g,k)},this.Mja && ({S_:this.Mja.subarray(g,k + 1),z0:this.Tjb}));};e.prototype.forEach=function(g){for(var k=0;k < this.length;++k)g(this.get(k),k,this);};e.prototype.map=function(g){for(var k=[],l=0;l < this.length;++l)k.push(g(this.get(l),l,this));return k;};e.prototype.reduce=function(g,k){for(var l=0;l < this.length;++l)k=g(k,this.get(l),l,this);return k;};e.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.fGa};};e.prototype.dump=function(){var k;h.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.fGa + "ms");for(var g=0;g < this.length;++g){k=this.get(g);h.trace(("TrackFragments: ").concat(g,": [").concat(k.qa.G,"-").concat(k.xa.G,"]"));}};return e;})();b.sFa=a;d(a.prototype.Cs);d(a.prototype.yma);d(a.prototype.Wf);},11862:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.L4=void 0;t=(function(){function a(d){this.lz=d;}Object.defineProperties(a.prototype,{dZ:{get:function(){return this.A0b;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.lz;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{uKc:{get:function(){var d;d=this;return this.lz.then(function(){return d;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.A0b=!0;};a.prototype.kD=function(d,n){var c;c=this;this.result.then(function(h){c.dZ?n && n(h):d(h);});return this;};return a;})();b.L4=t;},85858:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},25218:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},52571:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=function(c,h){var f;if(!c){f=new n(h || "Assertion failed");a(8171).xw.console.error("Assertion failed",{value:c,message:h,stack:f.stack});throw f;}};d=a(22970);n=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);return h;})(Error);},62156:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.MFb=function(n){switch(n){case d.Tb.Ff:n=d.Ld.Ff;break;case d.Tb.$l:n=d.Ld.$l;break;case d.Tb.sn:case d.Tb.Uy:case d.Tb.Iha:n=d.Ld.Uy;break;default:n=d.Ld.Jp;}return n;};d=a(65161);},2499:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.y9b=function(a,d){var n;void 0 === d && (d=Math.random);if("number" !== typeof a || !isFinite(a))throw new TypeError("alpha must be a finite number");if(0 > a || 1 < a)throw new RangeError("alpha must be in [0, 1]");d=d();if(!(0 <= d && 1 > d)){if(1 === d)return 1;throw new RangeError("rng() must return a value in [0, 1)");}n=1 - a / 2;if(d < a / (2 * n))return (a=Math.sqrt(2 * a * d * n),1 >= a?a:1);a=a / 2 + d * n;return 1 >= a?a:1;};},17122:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Pha=void 0;t=a(90745);d=a(91176);a=a(85254);n=(function(){function c(h){void 0 === h && (h={Zi:!1,currentTime:d.I.ia,speed:1});this.state={Zi:function(){return "function" === typeof h.Zi?h.Zi():h.Zi;},currentTime:function(){return "function" === typeof h.currentTime?h.currentTime():h.currentTime;},speed:function(){return "function" === typeof h.speed?h.speed():h.speed;}};}Object.defineProperties(c.prototype,{Zi:{get:function(){return this.state.Zi();},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{currentTime:{get:function(){return this.state.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{speed:{get:function(){return this.state.speed();},enumerable:!1,configurable:!0}});return c;})();b.Pha=n;(0,a.el)(t.EventEmitter,n);},79994:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xec=function(a){return JSON.parse(JSON.stringify(a));};},99735:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Y4a=void 0;d=a(22970);a(52571);t=(function(){function n(c,h){this.he=c;this.OW=h;this.eF();}Object.defineProperties(n.prototype,{length:{get:function(){return this.LI;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{empty:{get:function(){return 0 === this.LI;},enumerable:!1,configurable:!0}});n.prototype.Ukc=function(){return this.mY && this.mY.get(0);};n.prototype.k6b=function(){return this.back && this.back.get(this.back.length - 1);};n.prototype.get=function(c){0 > c && (c+=this.length);for(var h=0;h < this.he.length;++h)if(this.zf[h + 1] > c)return this.he[h].get(c - this.zf[h]);};n.prototype.push=function(c){this.he[this.OW(c)].push(c);this.eF();return this.LI;};n.prototype.shift=function(){var c;if(this.mY){c=this.mY.shift();this.eF();return c;}};n.prototype.pop=function(){var c;if(this.back){c=this.back.pop();this.eF();return c;}};n.prototype.unshift=function(c){this.he[this.OW(c)].unshift(c);this.eF();return this.LI;};n.prototype.Gt=function(c){var h;h=this.OW(c);this.he[h].Gt(c);this.eF();};n.prototype.remove=function(c){var h;h=this.he.some(function(f){return f.remove(c);});h && this.eF();return h;};n.prototype.splice=function(c,h){var p,r,q,u;for(var f,e=[],g=2;g < arguments.length;g++)e[g - 2]=arguments[g];g=[];for(var k,l=c + Math.max(0,h),m=0;m < this.he.length;++m){p=this.he[m];r=this.zf[m];q=this.zf[m + 1];if(c < q){u=c - r;r=Math.min(l - r,p.length);void 0 === k && 0 < u && r < p.length?Array.prototype.push.apply(g,p.splice.apply(p,d.__spreadArray([u,r - u],d.__read(e),!1))):(Array.prototype.push.apply(g,p.splice(u,r - u)),void 0 === k && (k=0 < m && 0 === u?m - 1:m));c=q;if(c >= l)break;}}if(e.length && void 0 !== k){for(l=this.OW(e[0]);0 < k && l < k && this.he[k].empty;)--k;for(;e.length && l === k;){this.he[k].push(e.shift());if(!e.length)break;l=this.OW(e[0]);}for(;e.length && ++k < this.he.length && this.he[k].empty;)for(;e.length && l === k;){this.he[k].push(e.shift());if(!e.length)break;l=this.OW(e[0]);}e.length && (f=this.he[k]).splice.apply(f,d.__spreadArray([0,0],d.__read(e),!1));}this.eF();return g;};n.prototype.find=function(c){var h,f;h=this;return this.he.some(function(e,g){f=e.find(h.$I(c,g));return void 0 !== f;})?f:void 0;};n.prototype.findIndex=function(c){var f;for(var h=0;h < this.he.length;++h){f=this.he[h].findIndex(this.$I(c,h));if(-1 !== f)return f + this.zf[h];}return -1;};n.prototype.indexOf=function(c){var f;for(var h=0;h < this.he.length;++h){f=this.he[h].indexOf(c);if(-1 !== f)return f + this.zf[h];}return -1;};n.prototype.map=function(c){var h,f;h=this;f=this.he.map(function(e,g){return e.map(h.$I(c,g));});return Array.prototype.concat.apply([],f);};n.prototype.reduce=function(c,h){var f;f=this;return this.he.reduce(function(e,g,k){return g.reduce(f.C2b(c,k),e);},h);};n.prototype.forEach=function(c){var h;h=this;this.he.forEach(function(f,e){f.forEach(h.$I(c,e));});};n.prototype.iY=function(c){for(var h=this.he.length - 1;0 <= h;--h)this.he[h].iY(this.$I(c,h));};n.prototype.some=function(c){var h;h=this;return this.he.some(function(f,e){return f.some(h.$I(c,e));});};n.prototype.x_a=function(c){for(var h=this.he.length - 1;0 <= h;--h)if(this.he[h].x_a(this.$I(c,h)))return !0;return !1;};n.prototype.every=function(c){var h;h=this;return this.he.every(function(f,e){return f.every(h.$I(c,e));});};n.prototype.pkc=function(c,h){var l,m;function f(p){return p.reduce(function(r,q,u,v){return void 0 === q?r:void 0 === r?u:0 > c(q,v[r])?u:r;},void 0);}for(var e=this,g=this.he.map(function(){return 0;}),k=this.he.filter(function(p){return p.empty;}).length;k < this.he.length;){l=g.map(function(p,r){return p < e.he[r].length?e.he[r].get(p):void 0;});m=f(l);h(l[m],this.zf[m] + g[m],this);++g[m];g[m] === this.he[m].length && ++k;}};n.prototype.move=function(c){return this.remove(c)?(this.Gt(c),!0):!1;};n.prototype.wNc=function(){var c;if(this.he[1].length){c=this.he[1].shift();this.he[0].push(c);this.eF();}};n.prototype.ksb=function(c){for(var h=-1,f=0;f < this.he.length;++f)if((h=c(this.he[f]),-1 !== h)){h+=this.zf[f];break;}return h;};n.prototype.toJSON=function(){return this.map(function(c){return c.toJSON();});};n.prototype.eF=function(){var h;this.LI=0;this.zf=[0];this.back=this.mY=void 0;for(var c=0;c < this.he.length;++c){h=this.he[c];this.LI+=h.length;this.zf.push(this.zf[this.zf.length - 1] + h.length);!this.mY && h.length && (this.mY=h);h.length && (this.back=h);}};n.prototype.$I=function(c,h){var f,e;f=this;e=this.zf[h];return function(g,k){return c(g,e + k,f);};};n.prototype.C2b=function(c,h){var f,e;f=this;e=this.zf[h];return function(g,k,l){return c(g,k,e + l,f);};};return n;})();b.Y4a=t;},62442:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Zlb=function(n,c,h){var f,e;n=c.Tnb(n).G;f=n - h.uZ - h.pTa;h=Math.floor((0,d.y9b)(h.owc) * h.uZ);e=f + h;return {OOc:n,AFb:c.yua(e),YAb:e,EUc:f,delay:h,TD:c.kh};};d=a(2499);},72697:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.H2=void 0;d=a(48170);n=a(52571);t=(function(){function c(h,f){this.uB=h;this.Si=f;this.window=Math.floor((h + f - 1) / f);this.reset();}c.prototype.shift=function(){this.Ng.shift();this.times.shift();};c.prototype.fs=function(h){return this.Ulb(this.Ng[h],h);};c.prototype.update=function(h,f){this.Ng[h]=(this.Ng[h] || 0) + f;};c.prototype.push=function(){this.Ng.push(0);this.times.push(0);this.time+=this.Si;};c.prototype.add=function(h,f,e){var g,k,l;if(null === this.time){g=Math.max(Math.floor((e - f + this.Si - 1) / this.Si),1);for(this.time=f;this.Ng.length < g;)this.push();}for(;this.time <= e;)(this.push(),this.Ng.length > this.window && this.shift());if(null === this.ht || f < this.ht)this.ht=f;if(f > this.time - this.Si)this.update(this.Ng.length - 1,h);else if(f === e)(g=this.Ng.length - Math.max(Math.ceil((this.time - e) / this.Si),1),0 <= g && this.update(g,h));else for(g=1;g <= this.Ng.length;++g){k=this.time - g * this.Si;l=k + this.Si;if(!(k > e)){if(l < f)break;this.update(this.Ng.length - g,Math.round(h * (Math.min(l,e) - Math.max(k,f)) / (e - f)));}}for(;this.Ng.length > this.window;)this.shift();};c.prototype.start=function(h){null === this.ht && (this.ht=h);null === this.time && (this.time=h);};c.prototype.stop=function(h){var f,e;if(null !== this.time)if(h - this.time > 10 * this.uB)this.reset();else {for(;this.time <= h;)(this.push(),this.Ng.length > this.window && this.shift());f=this.Ng.length - Math.ceil((this.time - h) / this.Si);e=this.Ng.length - Math.ceil((this.time - this.ht) / this.Si);d.l && (0,n.assert)(f >= e,"end index must be after start index");if(0 <= f)if((0 > e && (this.ht=this.time - this.Si * this.Ng.length,e=0),e === f))this.times[e]+=h - this.ht;else if(f > e)for((this.times[e]+=(this.time - this.ht) % this.Si,this.times[f]+=this.Si - (this.time - h) % this.Si,h=e + 1);h < f;++h)this.times[h]=this.Si;this.ht=null;}};c.prototype.Ulb=function(h,f){f=this.yOa(f);return 0 === f?null:8 * h / f;};c.prototype.yOa=function(h){var f;f=this.times[h];null !== this.ht && (h=this.time - (this.Ng.length - h - 1) * this.Si,h > this.ht && (f=h - this.ht <= this.Si?f + (h - this.ht):this.Si));return f;};c.prototype.get=function(h,f){var e,g;e=this.Ng.map(this.Ulb,this);if("last" === h)for(h=0;h < e.length;++h)null === e[h] && (e[h]=0 < h?e[h - 1]:0);else if("average" === h){f=1 - Math.pow(.5,1 / ((f || 2E3) / this.Si));g=void 0;for(h=0;h < e.length;++h)null === e[h]?e[h]=Math.floor(g || 0):g=void 0 !== g?f * e[h] + (1 - f) * g:e[h];}return e;};c.prototype.reset=function(){this.Ng=[];this.times=[];this.ht=this.time=null;};c.prototype.setInterval=function(h){this.window=Math.floor((h + this.Si - 1) / this.Si);};return c;})();b.H2=t;},93559:function(t,b,a){var n;function d(c,h,f){var e,k,l;if(c === h || !f.Gq && c == h)return !0;if(typeof c !== typeof h)return !1;if(c && "object" === typeof c){for(var g in c)if(!d(c[g],h[g],f))return !1;if(!f.e9b){k=Object.keys(c);l=Object.keys(h).filter(function(q){return 0 > k.indexOf(q);});try{for(var m=n.__values(l),p=m.next();!p.done;p=m.next())if((g=p.value,!d(c[g],h[g],f)))return !1;}catch(q){var r;r={error:q};}finally{try{p && !p.done && (e=m.return) && e.call(m);}finally{if(r)throw r.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.bMa=function(c,h){var f;void 0 === f && (f={});f=n.__assign({Gq:!1,e9b:!1},f);return d(c,h,f);};n=a(22970);},68157:function(t,b){function a(d){var n,c;n=Math.abs(d);c=1 / (1 + n / 2);n=c * Math.exp(-n * n - 1.26551223 + c * (1.00002368 + c * (.37409196 + c * (.09678418 + c * (-.18628806 + c * (.27886807 + c * (-1.13520398 + c * (1.48851587 + c * (-.82215223 + .17087277 * c)))))))));return 0 <= d?n:2 - n;}Object.defineProperties(b,{__esModule:{value:!0}});b.l8=a;b.hsc=function(d){var n,c,f;if(2 <= d)return -100;if(0 >= d)return 100;n=1 > d?d:2 - d;c=Math.sqrt(-2 * Math.log(n / 2));c=-.70711 * ((2.30753 + .27061 * c) / (1 + c * (.99229 + .04481 * c)) - c);for(var h=0;2 > h;h++){f=a(c) - n;c+=f / (1.1283791670955126 * Math.exp(-(c * c)) - c * f);}return 1 > d?c:-c;};b.x4c=function(d){return 1 - a(d);};},30285:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.M6a=void 0;d=a(22970);t=(function(){function c(h,f){void 0 === f && (f={});this.vt=h;this.options=f;this.OP=[];this.IQ=new n(h,this.t3b.bind(this));}c.prototype.t3b=function(h){for(var f,e,g,k,l,m,p=[],r=1;r < arguments.length;r++)p[r - 1]=arguments[r];p={pv:h,mm:p};if(null !== (g=null === (e=(f=this.options).ONc) || void 0 === e?void 0:e.call(f,p,this.OP)) && void 0 !== g?g:1)(f=p,this.options.L$c && (f=JSON.parse(JSON.stringify(p))),this.OP.push(f));return null !== (m=null === (l=(k=this.options).K$c) || void 0 === l?void 0:l.call(k,p)) && void 0 !== m?m:!0;};c.prototype.jca=function(h){this.OP=this.OP.filter(function(f,e){return !h(f,e);});};c.prototype.jYa=function(){var h;h=this;this.IQ.e1a();this.OP.forEach(function(f){var e;(e=h.vt).emit.apply(e,d.__spreadArray([f.pv],d.__read(f.mm),!1));});this.IQ.Kxb();};Object.defineProperties(c.prototype,{length:{get:function(){return this.OP.length;},enumerable:!1,configurable:!0}});c.prototype.clear=function(){this.OP=[];};c.prototype.Ka=function(){this.clear();this.IQ.e1a();this.options=void 0;};return c;})();b.M6a=t;n=(function(){function c(h,f){this.vt=h;this.Az=f;this.nEb=this.vt.emit;this.Ccc();this.Kxb();}c.prototype.Ccc=function(){var h;h=this;this.IQ=function(f){for(var e,g,k=[],l=1;l < arguments.length;l++)k[l - 1]=arguments[l];return (null === (g=h.Az) || void 0 === g?0:g.call.apply(g,d.__spreadArray([h,f],d.__read(k),!1)))?(e=h.nEb).call.apply(e,d.__spreadArray([h.vt,f],d.__read(k),!1)):!1;};};c.prototype.Kxb=function(){this.IQ && (this.vt.emit=this.IQ);};c.prototype.e1a=function(){this.vt.emit=this.nEb;};c.prototype.Ka=function(){this.e1a();this.Az=this.IQ=void 0;};return c;})();},66412:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$4b=function(c,h){return (0,n.Gra)(c,{toJSON:function(){var f;f=d.__assign({},c);h.forEach(function(e){delete f[e];});return f;}});};d=a(22970);n=a(54520);},32201:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(68157);t=(function(){function n(c,h){this.Da=c;this.eg=h;}n.prototype.imb=function(c){return .5 * (0,d.l8)(-(c - this.Da) / Math.sqrt(2 * this.eg));};n.prototype.gS=function(c){return this.Da - Math.sqrt(2 * this.eg) * (0,d.hsc)(2 * c);};return n;})();b["default"]=t;},82475:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GQa=function(a){return ("( ").concat(a.L,", ").concat(a.offset.da()," )");};},6783:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Ar=function(c,h,f,e){var g,k,l,r,q,u;void 0 === e && (e={});l=n.I.max(f,n.I.ia);try{for(var m=d.__values(Object.keys(c.ba)),p=m.next();!p.done;p=m.next()){r=p.value;q=c.ba[r];if(q.J === h){u=n.I.Ca(q.eb);if(l.Xf(u) && (!isFinite(null !== (k=q.ib) && void 0 !== k?k:NaN) || l.lessThan(n.I.Ca(q.ib))))return {L:r,offset:f.ea(u)};}}}catch(w){var v;v={error:w};}finally{try{p && !p.done && (g=m.return) && g.call(m);}finally{if(v)throw v.error;}}if(e.qJb && (q=Object.keys(c.ba).map(function(w){return {key:w,K:c.ba[w]};}).filter(function(w){return w.K.J === h;}).map(function(w){var x,y;x=n.I.abs(f.ea(n.I.Ca(w.K.eb)));if(w.K.ib && isFinite(w.K.ib)){y=n.I.abs(f.ea(n.I.Ca(w.K.ib)));x=n.I.min(x,y);}return d.__assign(d.__assign({},w),{ex:x});}),q.sort(function(w,x){return w.ex.G - x.ex.G;}),u=d.__read(q,1)[0]))return (q=u.K,e=u.key,u=n.I.Ca(q.eb),{L:e,offset:f.ea(u)});};d=a(22970);n=a(91176);},71460:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.W7a=void 0;t=(function(){function a(d,n,c){var h,f,e;this.Ab=n;this.qb=c;this.Cib=d;h=this.Bib=this.Pgb=this.Ogb=0;f=0;e=0;this.Cib.length >= this.Ab.bCb && (this.Cib.forEach(function(g){h+=g.avtp;f+=1 * g.neuhd;e++;}),this.Bib=e,this.Ogb=h / e,this.Pgb=f / e);}a.prototype.Wtc=function(){return this.Bib >= this.Ab.bCb && this.Ogb >= this.Ab.slb.bwThreshold && this.Pgb < this.Ab.slb.nethreshold;};return a;})();b.W7a=t;},69575:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.XXb=b.TTb=void 0;t=a(22970);t.__exportStar(a(65167),b);t.__exportStar(a(55971),b);t.__exportStar(a(1727),b);t.__exportStar(a(61113),b);t.__exportStar(a(79994),b);t.__exportStar(a(93559),b);t.__exportStar(a(24635),b);t.__exportStar(a(48912),b);t.__exportStar(a(62291),b);d=t.__importDefault(a(32201));b.TTb=d.default;a=t.__importDefault(a(16514));b.XXb=a.default;},51117:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.rga=void 0;d=a(68157);t=(function(){function n(c,h){this.EUa=c;this.eg=h;0 < h?(this.pzb=h=Math.pow(c,3) / h,c=2 * h / c,500 >= c && (this.ENa=Math.exp(c))):this.ENa=0;}n.prototype.imb=function(c){var h,f,e;h=this.EUa;f=this.ENa;if(f && 0 < c){e=Math.sqrt(this.pzb / (2 * c));h=c / h;c=(0,d.l8)(e * (h - 1));e=(0,d.l8)(e * (h + 1));return Math.max((2 - c + f * e) / 2,0);}return c < h?0:c > h?1:.5;};n.prototype.gS=function(c,h,f){for(var e=0,g=this.EUa + 5 * Math.sqrt(this.eg),k=1,l=0;Math.abs(k) > h && f--;)(l=(e + g) / 2,k=this.imb(l),k=c - k,0 > k?g=l:e=l);return l;};n.prototype.G8b=function(c){var h,f,e,g;h=this.EUa;f=this.ENa;if(f && 0 < c){e=Math.sqrt(this.pzb / (2 * c));g=c / h;c=2 - (0,d.l8)(e * (g - 1));f*=(0,d.l8)(e * (g + 1));return [Math.max((c + f) / 2,0),Math.max(h * (c - f) / 2,0)];}return c < h?[0,0]:c > h?[1,h]:[.5,h / 2];};return n;})();b.rga=t;},64396:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ZRa=function(a){return a && 0 === Object.keys(a).length;};},62291:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.OAb=function(c,h){var f,e,g,k,l,m,p,r;p=null === (f=h.K) || void 0 === f?void 0:f.id;c || (c=h.Zt);r=0;h.na && h.yQ && c && c.forEach(function(q){r+=q.byteLength;});return {qa:h.qa.ea(h.stream.Fh?h.stream.te:d.I.ia).add((0,n.hk)(h.stream)?h.stream.Jl.Vc(h.stream.P):d.I.ia),Vb:h.Vb,Eb:null === (e=h.Qb) || void 0 === e?void 0:e.G,duration:(null === (g=h.Lb) || void 0 === g?NaN:g.G) - (null === (k=h.Qb) || void 0 === k?NaN:k.G),offset:h.offset,ma:r || h.ma,bitrate:h.bitrate,profile:h.profile,Xe:!!h.Xe,J:null === (l=h.M) || void 0 === l?void 0:l.J,L:p,Qa:h.Qa,Uc:h.Uc,location:h.location,ii:h.ii,vl:null === (m=h.qa) || void 0 === m?void 0:m.G,Yf:{sa:{K:{id:p || "unknown"}}}};};d=a(91176);n=a(8149);},42194:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Plb=void 0;d=a(50599);n=a(65044);b.Plb=function(){return function(c){var e,g,k,l;function h(m){l[m]=function(p){return g({rules:[{pk:m,config:p}]},!0);};}function f(m){e[m]=function(p){return g({rules:[{pk:m,config:p}]});};}e={};g=(0,d.map)(c.eBb);for(k in c.y0)f(k);e.iD=g({rules:[],SIa:!0});e.Gq=g({rules:[],Gq:!0});l={};for(k in c.y0)h(k);l.iD=g({rules:[],SIa:!0},!0);l.Gq=g({rules:[],Gq:!0},!0);e.return=l;return {aMa:e,MYa:c,vXa:function(m,p,r,q){return (0,n.Gob)(m,p,r,c.y0,c.eBb,q);}};};};},50599:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.WIb=b.Fub=b.map=void 0;d=a(22970);a(1738);b.map=function(n){return function(c,h){void 0 === h && (h=!1);return function(f,e,g){var k,l,m,p;k=Reflect.Vub(n,f,e) || ({});m="number" === typeof g;p=h;(l=m?(k.Bb || ({}))[g] || ({}):p?k.return:k.pUa) || (l={rules:[]});l=d.__assign(d.__assign(d.__assign({},l),c),{rules:d.__spreadArray(d.__spreadArray([],d.__read(l.rules || []),!1),d.__read(c.rules || []),!1)});m?(k.Bb || (k.Bb={}),k.Bb[g]=l):p?k.return=l:k.pUa=l;Reflect.Lla(n,k,f,e);};};};b.Fub=function(n){return function(c,h){var f,e,g,k;c=null !== (k=null !== (e=null === (f=c.__proxyCtor) || void 0 === f?void 0:f.prototype) && void 0 !== e?e:null === (g=null === c || void 0 === c?void 0:c.constructor) || void 0 === g?void 0:g.prototype) && void 0 !== k?k:c;for(var l;c && void 0 === l;)(l=Reflect.Vub(n,c,h),c=c.__proto__);return l;};};b.WIb=function(){return function(){return function(n){return n;};};};},65044:function(t,b,a){var f,e,g,k,l;function d(m,p){if(m)return Object.getOwnPropertyDescriptor(m,p)?m:d(m.prototype,p) || d(m.__proto__,p);}function n(m,p){if(m=d(m,p))return Object.getOwnPropertyDescriptor(m,p);}function c(m,p){var u;for(var r=Object.getPrototypeOf(m),q=[];r !== Object.prototype;)(q=q.concat(Object.getOwnPropertyNames(r)),r=Object.getPrototypeOf(r));m=Object.keys(m).concat(q);p.__proxyCtor || (p.__proxyCtor=void 0);u=Object.getPrototypeOf(p);m.forEach(function(v){Object.getOwnPropertyDescriptor(p,v) || Object.getOwnPropertyDescriptor(u,v) || p[v] || Object.defineProperty(p,v,{get:function(){},configurable:!0,enumerable:!0});});}function h(m,p,r,q){var w;for(var u=[],v=4;v < arguments.length;v++)u[v - 4]=arguments[v];w=q();if((null === w || void 0 === w?0:w.pUa) || (null === w || void 0 === w?0:w.Bb))u=u.map(function(x,y){var z;y=(0,l.JBb)(w.pUa,null === (z=w.Bb) || void 0 === z?void 0:z[y]);return (0,k.dua)(p,x,r,y);});u=m.call.apply(m,f.__spreadArray([void 0],f.__read(u),!1));return (null === w || void 0 === w?0:w.return)?(0,k.dua)(p,u,r,w.return,g.AE.TH):u;}Object.defineProperties(b,{__esModule:{value:!0}});b.Gob=void 0;b.L3c=c;b.i5c=h;f=a(22970);e=a(50599);g=a(49165);k=a(87561);l=a(28867);b.Gob=function(m,p,r,q,u,v){var w,x;void 0 === v && (v=[]);w={};x=(0,e.Fub)(u);c(p,m);v.forEach(function(y){return c(y,m);});return new Proxy(m,{get:function(y,z){var B,A,C,D;if("__proxyCtor" === z)return m[z] || m.constructor;if((z in p)){C=p[z];return "function" === typeof C?C.bind(p):C;}D=w[z];if(!D && !n(w,z)){D=null !== (A=null === (B=null === y || void 0 === y?void 0:y.constructor) || void 0 === B?void 0:B.prototype) && void 0 !== A?A:y;B=null !== (C=d(D,z)) && void 0 !== C?C:d(D.__proxyCtor,z);C=n(D,z);if(null === C || void 0 === C?0:C.get)return (C=C.get,B=x.bind(null,B,z),y=h.bind(y,C.bind(y),r,q,B),Object.defineProperty(w,z,{get:y,enumerable:!0,configurable:!0}),y());C=y[z];return "function" === typeof C?(B=x.bind(null,y,z),y=h.bind(y,C.bind(y),r,q,B),w[z]=y):C;}return D;},set:function(y,z,B){if((z in p))return (p[z]=B,!0);y[z]=B;delete w[z];return !0;}});};},49165:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.AE={};t[t.TH=0]="up";t[t.pP=1]="down";},87561:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.dua=void 0;d=a(22970);n=a(52571);c=a(49165);b.dua=function(h,f,e,g,k,l){var m,p;void 0 === k && (k=c.AE.pP);m=h();if(g && m){p=g.SIa;h=g.Gq;g=g.rules.map(function(r){return ["function" === typeof r.pk?r.pk(e):e[r.pk],r.config];});p || (0,n.assert)(f,"Param is null");l && g.push([{map:l,DF:function(){return !0;}},void 0]);l=g.filter(function(r){r=d.__read(r,2);return r[0].DF(f,m,r[1]);});h && (0,n.assert)(l.length,("No rules matched for ").concat(f));if(l.length)return l.reduce(function(r,q){q=d.__read(q,2);return q[0].map(r,k,m,q[1]);},f);}return f;};},28867:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.JBb=void 0;d=a(22970);n=a(91176);b.JBb=function(c,h){var f;if(c || h){f=(null === c || void 0 === c?0:c.rules) && (null === h || void 0 === h?0:h.rules)?(0,n.l6)(c.rules,h.rules):(null === c || void 0 === c?void 0:c.rules) || (null === h || void 0 === h?void 0:h.rules);return d.__assign(d.__assign(d.__assign({},c),h),{rules:f});}};},55971:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.jab=void 0;d=a(22970);n=a(91176);c=a(52571);t=(function(){function h(){this.data={};}Object.defineProperties(h.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{size:{get:function(){var f;f=this;return Object.keys(this.data).reduce(function(e,g){return e + f.data[g].length;},0);},enumerable:!1,configurable:!0}});h.prototype.get=function(f){return this.data[f] || [];};h.prototype.has=function(f,e){return (f=this.data[f])?void 0 === e?!0:-1 !== f.indexOf(e):!1;};h.prototype.count=function(f){return (f=this.data[f])?f.length:0;};h.prototype.keys=function(){return Object.keys(this.data);};h.prototype.values=function(){var f;f=this;return (0,n.flatten)(this.keys().map(function(e){return f.data[e];}));};h.prototype.set=function(f,e){(this.data[f] || (this.data[f]=[])).push(e);return this;};h.prototype.clear=function(){this.data={};};h.prototype.delete=function(f,e){var g,k;g=this.data[f];if(void 0 === g)return !1;if(void 0 === e)return ((0,c.assert)(1 === arguments.length),delete this.data[f],!0);k=g.indexOf(e);if(-1 === k)return !1;1 === g.length?delete this.data[f]:g.splice(k,1);return !0;};h.prototype.forEach=function(f,e){var g;g=this;f=void 0 !== e?f.bind(e):f;this.keys().forEach(function(k){return g.data[k].forEach(function(l){return f(l,k,g);});});};h.prototype.reduce=function(f,e,g){var k,l;k=this;f=void 0 !== g?f.bind(g):f;l=e;this.forEach(function(m,p){l=f(l,m,p,k);});return l;};h.prototype.map=function(f,e){var g;g=this;f=void 0 !== e?f.bind(e):f;return (0,n.flatten)(this.keys().map(function(k){return g.data[k].map(function(l){return f(l,k,g);});}));};h.prototype.filter=function(f,e){var g;g=this;f=void 0 !== e?f.bind(e):f;return (0,n.flatten)(this.keys().map(function(k){return g.data[k].filter(function(l){return f(l,k,g);});}));};h.prototype[Symbol.iterator]=function(){var f,e,g,k,l,m,p,r,q,u,v,w,x,y;return d.__generator(this,function(z){switch(z.label){case 0:(f=this.keys(),z.label=1);case 1:(z.tc.push([1,12,13,14]),e=d.__values(f),g=e.next(),z.label=2);case 2:if(g.done)return [3,11];k=g.value;l=this.get(k);z.label=3;case 3:(z.tc.push([3,8,9,10]),m=(x=void 0,d.__values(l)),p=m.next(),z.label=4);case 4:if(p.done)return [3,7];r=p.value;return [4,r];case 5:(z.T(),z.label=6);case 6:return (p=m.next(),[3,4]);case 7:return [3,10];case 8:return (q=z.T(),x={error:q},[3,10]);case 9:try{p && !p.done && (y=m.return) && y.call(m);}finally{if(x)throw x.error;}return [7];case 10:return (g=e.next(),[3,2]);case 11:return [3,14];case 12:return (u=z.T(),v={error:u},[3,14]);case 13:try{g && !g.done && (w=e.return) && w.call(e);}finally{if(v)throw v.error;}return [7];case 14:return [2];}});};return h;})();b.jab=t;},54520:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Gra=void 0;d=a(22970);n=a(22970);b.Gra=function(c){for(var h=[],f=1;f < arguments.length;f++)h[f - 1]=arguments[f];return n.__assign.apply(void 0,d.__spreadArray([c],d.__read(h),!1));};},7675:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pBc=function(a){var d,n;d={};for(n in a)d[a[n]]=n;return d;};},77399:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Ysc=function(n,c){var g,k,l,m,p,r,q,w,x,y,z,B,A,C;for(var h,f,e=0;e < n.length;e++){g=d.__read(c,3);k=g[0];l=g[1];m=g[2];p=d.__read(n[e],3);r=p[0];g=p[1];q=p[2];if(!(k >= g)){k=[k,Math.min(g,l),r,g].filter(function(D,F,G){return G.indexOf(D) === F;}).sort(function(D,F){return D - F;});r=k.length - 1;p=Array(r);m+=q;try{for(var u=(h=void 0,d.__values([c,n[e]])),v=u.next();!v.done;v=u.next()){w=d.__read(v.value,3);x=w[0];y=w[1];z=w[2];q=y - x;for(c=0;c < r;c++){B=k[c + 1];A=Math.min(B,y) - Math.max(k[c],x);if(0 < A){C=A * z / q;m-=C;p[c]=p[c]?p[c] + C:C;}if(y <= B)break;}}}catch(D){h={error:D};}finally{try{v && !v.done && (f=u.return) && f.call(u);}finally{if(h)throw h.error;}}q=[];for(c=0;c < r;c++)(z=p[c],0 < z && q.push([k[c],k[c + 1],z]));n.splice.apply(n,d.__spreadArray([e,1],d.__read(q),!1));if(g < l)c=[g,l,m];else return;}}c && 0 < c[2] && n.splice(n.length,0,c);};d=a(22970);},16514:function(t){function b(a){this.V0b=a;this.uO=[];this.ZI=!1;this.QHa=void 0;this.jr={};}b.prototype.Dja=function(a){this.uO.length === this.V0b && this.uO.shift();Array.isArray(a)?this.uO=this.uO.concat(a):this.uO.push(a);this.ZI=!0;};b.prototype.z9=function(){return this.uO.length;};b.prototype.P6=function(a){var d,n,c;if(this.ZI || void 0 === this.QHa)(this.QHa=this.uO.slice(0).sort(function(h,f){return h - f;}),this.jr={},this.ZI=!1);if(void 0 === this.jr[a]){d=this.QHa;n=Math.floor(a / 100 * (d.length - 1) + 1) - 1;c=(a / 100 * (d.length - 1) + 1) % 1;this.jr[a]=n === d.length - 1?d[n]:d[n] + c * (d[n + 1] - d[n]);}return this.jr[a];};t.exports=b;},28600:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.aJb=function(n,c){n=d.platform.storage.get(n);return c?c(n):n;};d=a(66164);},29254:function(t,b){var n,c,h;function a(f){return void 0 !== (null === f || void 0 === f?void 0:f.Kgb);}function d(f){return (a(f)?f:Object.defineProperties(f,{Kgb:{value:{},configurable:!1,enumerable:!1}})).Kgb;}Object.defineProperties(b,{__esModule:{value:!0}});b.hEa=void 0;c=null !== (n=Number.MAX_SAFE_INTEGER) && void 0 !== n?n:1E9;h=Date.now() % c;t=(function(){function f(){this.id=h=(h + 1) % c;}f.prototype.get=function(e){return a(e)?d(e)[this.id]:void 0;};f.prototype.set=function(e,g){d(e)[this.id]=g;return this;};f.prototype.has=function(e){return a(e) && void 0 !== d(e)[this.id];};f.prototype.delete=function(e){if(!this.has(e))return !1;d(e)[this.id]=void 0;return !0;};return f;})();b.hEa=t;},59458:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bHb=function(a,d,n){void 0 === n && (n={});a=Math.random() * (d - a) + a;return n.etc?n.zsc?Math.round(a):Math.floor(a):a;};},1936:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.DYb=void 0;d=a(66164);n=a(8171);c=["","",""];t=(function(){function h(f){this.request=f;this.complete=this.append=this.Wma=this.wTa=this.open=0;}Object.defineProperties(h.prototype,{console:{get:function(){return n.xw.FC(this.request.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{n0:{get:function(){var f;return null === (f=this.request.Vb) || void 0 === f?void 0:f.G;},enumerable:!1,configurable:!0}});h.prototype.vCc=function(){this.open=d.platform.time.ha();};h.prototype.kCc=function(){this.wTa=d.platform.time.ha();this.trace();};h.prototype.fCc=function(){this.Wma=d.platform.time.ha();this.trace();};h.prototype.kD=function(){this.complete=d.platform.time.ha();this.trace();};h.prototype.trace=function(){var f;f=("RequestLedger ID: ").concat(this.request.ii());f+=(" load-open: ").concat(this.wTa - this.open);0 < this.Wma && (" firstbyte-load: ").concat(this.Wma - this.wTa);0 < this.append && (" append-firstbyte: ").concat(this.append - this.Wma);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),f=this.request.mediaType,this.n0 && this.complete - this.open > this.n0?((" duration: ").concat(this.n0),c[f]+="X"):c[f]+=".",10 < c[f].length && (c[f]=c[f].slice(1)));};return h;})();b.DYb=t;},61113:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.web=b.veb=void 0;d=a(91176);t=(function(){function n(c){this.gb=c;this.listeners=[];this.nba=[];}Object.defineProperties(n.prototype,{value:{get:function(){return this.gb;},enumerable:!1,configurable:!0}});n.prototype.set=function(c){var h;this.gb=c;h=this.nba;this.nba=[];this.listeners.forEach(function(f){return f(c);});h.forEach(function(f){return f(c);});};n.prototype.xIb=function(){this.gb=void 0;};n.prototype.on=function(c){this.listeners=this.listeners.concat([c]);void 0 !== this.gb && c(this.gb);};n.prototype.once=function(c){void 0 !== this.gb?c(this.gb):this.nba.push(c);};n.prototype.Om=function(c){this.listeners=this.listeners.filter(function(h){return h !== c;});this.nba=this.nba.filter(function(h){return h !== c;});};return n;})();b.veb=t;t=(function(){function n(){this.listeners=[];}n.prototype.on=function(c,h){this.listeners.push({signal:c,listener:h});c.on(h);};n.prototype.once=function(c,h){var f,e;f=this;if(void 0 === c.value){e=function(g){f.remove(c,h);h(g);};this.listeners.push({signal:c,listener:h,eQb:e});c.once(e);}else c.once(h);};n.prototype.Om=function(c,h){var f;f=(0,d.ic)(this.listeners,function(e){return e.signal === c && e.listener === h;});void 0 !== f && c.Om(f.eQb || f.listener);this.remove(c,h);};n.prototype.removeAllListeners=function(){this.listeners.forEach(function(c){var h;h=c.listener;return c.signal.Om(c.eQb || h);});this.listeners=[];};n.prototype.remove=function(c,h){this.listeners=this.listeners.filter(function(f){return f.signal !== c || f.listener !== h;});};return n;})();b.web=t;},94258:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.LE=void 0;d=a(91176);Object.defineProperties(b,{LE:{enumerable:!0,get:function(){return d.LE;}}});},24635:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Lg=void 0;d=a(91176);Object.defineProperties(b,{Lg:{enumerable:!0,get:function(){return d.Lg;}}});},35536:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.BI=void 0;d=a(91176);Object.defineProperties(b,{BI:{enumerable:!0,get:function(){return d.BI;}}});},94451:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$_a=void 0;b.$_a=function(a){return a.reduce(function(d,n){return d + n;},0);};},40666:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.M1=b.sV=b.hV=b.bm=b.DI=b.pV=b.Vd=b.D4=b.MN=b.GU=b.flatten=void 0;d=a(91176);Object.defineProperties(b,{flatten:{enumerable:!0,get:function(){return d.flatten;}}});Object.defineProperties(b,{GU:{enumerable:!0,get:function(){return d.GU;}}});Object.defineProperties(b,{MN:{enumerable:!0,get:function(){return d.MN;}}});Object.defineProperties(b,{D4:{enumerable:!0,get:function(){return d.D4;}}});Object.defineProperties(b,{Vd:{enumerable:!0,get:function(){return d.Vd;}}});Object.defineProperties(b,{pV:{enumerable:!0,get:function(){return d.pV;}}});Object.defineProperties(b,{DI:{enumerable:!0,get:function(){return d.DI;}}});Object.defineProperties(b,{bm:{enumerable:!0,get:function(){return d.bm;}}});Object.defineProperties(b,{hV:{enumerable:!0,get:function(){return d.hV;}}});Object.defineProperties(b,{sV:{enumerable:!0,get:function(){return d.sV;}}});Object.defineProperties(b,{M1:{enumerable:!0,get:function(){return d.M1;}}});},1727:function(t,b,a){var n,c;function d(h,f,e){var g;void 0 === e && (e={});g=n.__assign(n.__assign({},c),e);return h.filter(function(k){var l;l=k.Lb;k=k.Qb;return !!k && k.Km(f) && (!g.wnb || l.Xf(f));});}Object.defineProperties(b,{__esModule:{value:!0}});b.usb=function(h,f,e){void 0 === e && (e={});return d(h,f,e).pop();};b.L4c=d;b.esb=function(h,f,e){return h.filter(function(g){var k;k=g.Lb;g=g.Qb;return !!g && !!k && (g.Xf(f) && g.Km(e) || k.Xf(f) && k.Km(e) || g.Km(f) && k.Xf(e));});};n=a(22970);c={wnb:!1};},61520:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.bia=void 0;b.GGc=function(h,f){var e;e="";h.aK(function(g,k,l,m){e+=("").concat(Array(m + 1).join("-")).concat(f(g),"\n");return !0;});return e;};a(22970);a(91176);d=a(48170);n=a(29254);c=a(52571);t=(function(){function h(){this.V=new n.hEa();}Object.defineProperties(h.prototype,{empty:{get:function(){return !this.MD;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{root:{get:function(){var f;return null === (f=this.MD) || void 0 === f?void 0:f.value;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{values:{get:function(){var f;f=[];this.aK(function(e){return !!f.push(e);});return f;},enumerable:!1,configurable:!0}});h.prototype.has=function(f){return !!this.V.get(f);};h.prototype.parent=function(f){var e;f=this.V.get(f);d.l && (0,c.assert)(f,"Attempted to find the parent of a node not in the tree");return null === (e=null === f || void 0 === f?void 0:f.parent) || void 0 === e?void 0:e.value;};h.prototype.children=function(f){f=this.V.get(f);d.l && (0,c.assert)(f,"Attempted to find the children of a node not in the tree");return (null === f || void 0 === f?0:f.children)?f.children.map(function(e){return e.value;}):[];};h.prototype.moa=function(f){f=this.V.get(f);d.l && (0,c.assert)(f,"Attempted to find the children of a node not in the tree");return void 0 !== (null === f || void 0 === f?void 0:f.children) && 0 < f.children.length;};h.prototype.add=function(f,e){var g;d.l && (0,c.assert)(!this.V.get(f),"Attempted to add a value to tree that is already present");g={value:f};void 0 === this.MD?(d.l && (0,c.assert)(void 0 === e,"a parent cannot be specified when the tree is empty"),this.MD=g):(d.l && (0,c.assert)(void 0 !== e,"a parent must be specified when the tree is non-empty"),e=this.V.get(e),d.l && (0,c.assert)(e,"Parent value does not exist in tree"),this.hka(g,e));this.V.set(f,g);return this;};h.prototype.remove=function(f){f=this.V.get(f);d.l && (0,c.assert)(f,"Attempted to remove a node not in the tree");this.removeNode(f);return this;};h.prototype.removeNode=function(f){var e;e=this;this.eOa(function(g){return e.V.delete(g);},f.value);void 0 === f.parent?this.MD=void 0:this.detach(f);};h.prototype.move=function(f,e){f=this.V.get(f);e=this.V.get(e);d.l && (0,c.assert)(f,"cannot move a value that is not in the tree");d.l && (0,c.assert)(e,"cannot move a value to a parent value not in the tree");d.l && (0,c.assert)(null === f || void 0 === f?void 0:f.parent,"cannot move the root node");d.l && (0,c.assert)(!this.ptc(f,e),"cannot move a node below itself or one of its decendants");f.parent !== e && (this.detach(f),this.hka(f,e));return this;};h.prototype.sJc=function(f){var e,g;e=this;f=this.V.get(f);d.l && (0,c.assert)(f,"cannot replant at a value that is not in the tree");g=[];this.detach(f);this.eOa(function(k){e.V.delete(k);g.unshift(k);return !0;});this.MD=f;};h.prototype.clear=function(){this.MD && this.remove(this.MD.value);return this;};h.prototype.clone=function(){var f;f=new h();this.aK(function(e,g){f.add(e,g);return !0;});return f;};h.prototype.Nsb=function(f,e){var g,k;g=this;f=this.V.get(f);d.l && (0,c.assert)(f,"cannot iterate children of a value not in the tree");null === (k=f.children) || void 0 === k?void 0:k.forEach(function(l){return e(l.value,g);});};h.prototype.wOc=function(f,e){var g,k;g=this;f=this.V.get(f);d.l && (0,c.assert)(f,"cannot iterate children of a value not in the tree");return !(null === (k=f.children) || void 0 === k || !k.some(function(l){return e(l.value,g);}));};h.prototype.aK=function(f){this.Osb(f,void 0);};h.prototype.Osb=function(f,e,g,k){var l;l=this;void 0 === k && (k=0);d.l && (0,c.assert)(!this.empty || void 0 === e,"cannot iterate from a value on an empty tree");this.empty || (e=null !== e && void 0 !== e?e:this.MD.value,f(e,g,this,k) && this.Nsb(e,function(m){return l.Osb(f,m,e,k + 1);}));};h.prototype.eOa=function(f,e){var g;g=this;d.l && (0,c.assert)(!this.empty || void 0 === e,"cannot iterate from a value on an empty tree");this.empty || (null !== e && void 0 !== e?e:e=this.MD.value,this.Nsb(e,function(k){return g.eOa(f,k);}),f(e,this));};h.prototype.qsb=function(f,e){var g,k;g=this;d.l && (0,c.assert)(!this.empty || void 0 === e,"cannot iterate from a value on an empty tree");if(!this.empty){null !== e && void 0 !== e?e:e=this.MD.value;return this.wOc(e,function(l){return !!(k=g.qsb(f,l));})?k:f(e,this)?e:void 0;}};h.prototype.Wpb=function(f){var e,g,k,l;e=this;g=this.values;k=g.filter(function(m){return !f.has(m);});l=f.values.filter(function(m){return !e.has(m);});g=g.filter(function(m){return f.has(m) && e.parent(m) !== f.parent(m);});return {eW:k,fy:l,iYa:g};};h.prototype.compare=function(f){var e,g;f=this.Wpb(f);e=f.fy;g=f.iYa;return 0 === f.eW.length && 0 === e.length && 0 === g.length;};h.prototype.hka=function(f,e){f.parent=e;(e.children || (e.children=[])).push(f);};h.prototype.detach=function(f){var e;d.l && (0,c.assert)(f.parent,"cannot detach the root");d.l && (0,c.assert)(void 0 !== f.parent.children,"logic error: parent node does not have children");e=f.parent.children.indexOf(f);(0,c.assert)(0 <= e,"logic error: node does not appear in the children of its parent");f.parent.children.splice(e,1);f.parent=void 0;};h.prototype.ptc=function(f,e){for(;void 0 !== e;){if(e === f)return !0;e=e.parent;}return !1;};return h;})();b.bia=t;},85254:function(t,b,a){var h,f,e;function d(g){var k,l,m,q;m=Object.getOwnPropertyNames(g);for(g=Object.getPrototypeOf(g);g !== Object.prototype;){try{for(var p=(k=void 0,h.__values(Object.getOwnPropertyNames(g))),r=p.next();!r.done;r=p.next()){q=r.value;-1 === m.indexOf(q) && m.push(q);}}catch(u){k={error:u};}finally{try{r && !r.done && (l=p.return) && l.call(p);}finally{if(k)throw k.error;}}g=Object.getPrototypeOf(g);}return m;}function n(g,k,l,m,p){var r;Object.getOwnPropertyNames(g).filter(function(q){return p(q) && (l || !Object.prototype.hasOwnProperty.call(k,q)) && (m || !((q in k)));}).forEach(function(q){r=Object.getOwnPropertyDescriptor(g,q);void 0 !== r && Object.defineProperty(k,q,r);});}function c(g,k,l,m){var p,r;p=[];l || (p=Object.getOwnPropertyNames(k));m || (p=d(k));r=Object.getPrototypeOf(g);null !== r && r !== Object.prototype && c(r,k,l,m);n(g,k,!0,!0,function(q){return "constructor" !== q && -1 === p.indexOf(q);});}Object.defineProperties(b,{__esModule:{value:!0}});b.i3c=c;b.el=function(g,k,l,m){void 0 === l && (l=!0);void 0 === m && (m=!0);m || (0,f.assert)(!l);g.prototype?(c(g.prototype,k.prototype,l,m),n(g,k,l,m,function(p){return -1 === e.indexOf(p);})):n(g,k.prototype,l,m,function(p){return -1 === e.indexOf(p);});return k;};h=a(22970);f=a(52571);e=Object.getOwnPropertyNames(Function);},8149:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hk=function(a){return !(null === a || void 0 === a || !a.za);};b.Xo=function(a){return !(null === a || void 0 === a || !a.Ob);};b.M6c=function(a){return a.M.Ob;};},65167:function(t,b,a){var m,p,r;function d(q){return Array.isArray(q)?q.reduce(function(u,v){return u + v;},0):!1;}function n(q){return Array.isArray(q) && q.length?d(q) / q.length:!1;}function c(q){var u;if(!Array.isArray(q) || 2 > q.length)return !1;u=n(q);return d(q.map(function(v){return (v - u) * (v - u);})) / (q.length - 1);}function h(q){if(!Array.isArray(q) || 2 > q.length)return !1;q=c(q);return Math.sqrt(q);}function f(q,u){if(q.length == u.length && 1 < q.length){for(var v=q.length,w=0,x=d(q),y=d(u),z=0;z < v;z++)w+=q[z] * u[z];return (w - x * y / v) / v;}return !1;}function e(q,u,v){return Math.max(Math.min(q,v),u);}function g(q,u){return "number" === typeof q?q:u;}function k(q){return 1 / (1 + Math.exp(-q));}function l(q,u,v){return q * v + (1 - v) * u;}Object.defineProperties(b,{__esModule:{value:!0}});b.tanh=b.tf=void 0;b.Zw=function(q,u,v){var w;if(r){"managerdebugevent" === u && (null === (w=q.trace) || void 0 === w?void 0:w.call(q,"managerdebugevent:",v.message));}if(r)q.emit(u,v);else try{q.emit(u,v);}catch(x){if(q.error)q.error("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",x,"Event:",v);else throw x;}};b.hi=function(q,u){void 0 !== q && m.ODc(q).forEach(function(v){u(v[0],v[1]);});};b.Dz=function(){var v;for(var q=[],u=0;u < arguments.length;u++)q[u]=arguments[u];q=Array.prototype.concat.apply([],q);u=q.reduce(function(w,x){return w + x.byteLength;},0);v=new Uint8Array(u);q.reduce(function(w,x){v.set(new Uint8Array(x),w);return w + x.byteLength;},0);return v.buffer;};b.Q5c=d;b.s5c=n;b.T5c=c;b.O5c=h;b.v5c=f;b.u5c=function(q,u){var v;if(q.length == u.length){v=f(q,u);q=h(q);u=h(u);if(0 < q && 0 < u)return v / (q * u);}return !1;};b.z$c=function(q){return q.length?"{" + q + "} ":"";};b.Yka=e;b.L9b=function(q,u,v,w){return {min:e(g(q.min,u),v,w),max:e(g(q.max,u),v,w),FF:e(q.FF || 6E4,0,6E5),mmb:e(q.mmb || 0,-3E5,3E5),scale:e(q.scale || 6E4,0,3E5),kJb:e(q.kJb || 0,-3E5,3E5),gamma:e(q.gamma || 1,.1,10)};};b.bOc=k;b.qNa=function(q,u,v){return q.min + (q.max - q.min) * (1 - Math.pow(k(6 * (u - (q.FF + (q.mmb || 0) * (1 - v))) / (q.scale + (q.kJb || 0) * (1 - v))),q.gamma));};b.Fic=function(q,u){return q.min + (q.max - q.min) * Math.pow(k(6 * (u - q.FF) / q.scale),q.gamma);};b.scale=l;b.cLc=function(q,u,v){return {min:l(q.min,u.min,v),max:l(q.max,u.max,v),FF:l(q.FF,u.FF,v),scale:l(q.scale,u.scale,v),gamma:l(q.gamma,u.gamma,v)};};m=a(22970).__importStar(a(17267));p=a(91176);Object.defineProperties(b,{tf:{enumerable:!0,get:function(){return p.tf;}}});r=!1;b.tanh=Math.tanh || (function(q){var u;u=Math.exp(+q);q=Math.exp(-q);return Infinity == u?1:Infinity == q?-1:(u - q) / (u + q);});},444:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.QE=void 0;d=a(91176);t=(function(){function n(c,h){this.lO=c;this.$N=h;this.YKc();}n.from=function(c){return "number" === typeof c?new n(c,1):new n(c.Vx,c.fv);};n.uOa=function(c){return new n(c.P,c.aa);};Object.defineProperties(n.prototype,{Vx:{get:function(){return this.lO;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{fv:{get:function(){return this.$N;},enumerable:!1,configurable:!0}});n.prototype.Fa=function(){return new d.I(this.$N,this.lO);};n.prototype.equal=function(c){return this.lO === c.lO && this.$N === c.$N;};n.prototype.normalize=function(c){return new d.I(Math.floor((Math.floor(c + 1) * this.Vx - 1) / (1E3 * this.fv)) * this.fv,this.Vx);};n.prototype.YKc=function(){var c,h,f;c=Math.floor(1E3 * this.lO / this.$N);h=Math.floor(1001 * this.lO / this.$N);f=1E3 * Math.round(c / 1E3);this.lO=f;this.$N=Math.abs(h - f) > Math.abs(c - f)?1E3:1001;};return n;})();b.QE=t;},52629:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.tV=void 0;d=a(91176);b.tV=(function(){return function(n,c){var h;void 0 === c && (c={w:1,sx:1});this.Zn=n;this.DEb=c;h=n.w * c.w;n=n.sx * c.sx;c=(0,d.aQ)(h,n);this.dC={w:h / c,sx:n / c};};})();},51044:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.writable=void 0;b.writable=function(a){return a;};},48912:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.ZFa=void 0;d=a(66164);t=(function(){function n(c){this.E0=new Uint16Array(c.length);for(var h=0;h < c.length;++h)this.E0[h]=c.charCodeAt(h);}n.prototype.encrypt=function(c){for(var h=this.E0.length,f="",e=0;e < c.length;++e)f+=String.fromCharCode(this.E0[e % h] ^ c.charCodeAt(e));return encodeURIComponent(f);};n.prototype.decrypt=function(c,h){var f,e;void 0 === h && (h=!1);f=this.E0.length;e="";if(h)for((c=d.platform.Cla(c),h=new Uint8Array(c),c=0);c < h.length;c++)e+=String.fromCharCode(this.E0[c % f] ^ h[c]);else for((h=decodeURIComponent(c),c=0);c < h.length;c++)e+=String.fromCharCode(this.E0[c % f] ^ h.charCodeAt(c));return e;};return n;})();b.ZFa=t;},83195:function(t,b,a){var f;function d(){return Object.create(null);}function n(e){this.log=e.log;this.La=e.La;this.Sx=d();this.Promise=e.Promise;this.Eo=e.Eo;this.RH=e.RH;this.NC=e.NC || !1;this.G7=d();this.hC=d();this.UO=d();this.oWa=!1;this.b2b(e);e.vt && (this.vt=e.vt);}function c(e){return "undefined" !== typeof e;}function h(e){var l;for(var g=0,k=arguments.length;g < k;){l=arguments[g++];if(c(l))return l;}}a(85852);f=a(46601);n.prototype.b2b=function(e){this.G7.manifest=h(e.Ric,f.SP.S);this.G7.ldl=h(e.Qic,f.SP.S$);this.G7.metadata=h(e.F4c,f.SP.xc);this.hC.manifest=h(e.B7b,f.hC.S);this.hC.ldl=h(e.A7b,f.hC.S$);this.hC.metadata=h(e.B2c,f.hC.xc);this.UO.manifest=h(e.z2c,f.UO.S);this.UO.ldl=h(e.y2c,f.UO.S$);this.UO.metadata=h(e.A2c,f.UO.xc);};n.prototype.L9=function(e,g){this.ev("undefined" !== typeof e);this.ev("undefined" !== typeof g);return !!this.ohb(e,g,void 0).value;};n.prototype.ohb=function(e,g,k){var l,m;l={value:null,reason:"",log:""};m=this.Sx[g];k=k?k:"DEFAULTCAPS";if("undefined" === typeof m)return (l.log="cache miss: no data exists for field:" + g,l.reason="unavailable",l);"undefined" === typeof m[e]?(l.log="cache miss: no data exists for movieId:" + e,l.reason="unavailable"):(m=m[e][k]) && m.value?this.Ria(m)?(l.log="cache miss: " + g + " data expired for movieId:" + e,l.reason="expired",this.clearData(e,g,k,!1,"expired")):(l.log=this.Promise && m.value instanceof this.Promise?"cache hit: " + g + " request in flight for movieId:" + e:"cache hit: " + g + " available for movieId:" + e,l.value=m.value):(l.log="cache miss: " + g + " data not available for movieId:" + e,l.reason="unavailable");return l;};n.prototype.getData=function(e,g,k){this.ev("undefined" !== typeof e);this.ev("undefined" !== typeof g);e=this.ohb(e,g,k);this.log.trace(e.log);return e.value?this.Promise?e.value instanceof this.Promise?e.value:Promise.resolve(e.value):this.RH?JSON.parse(this.RH(e.value,"gzip",!1)):e.value:this.Promise?Promise.reject(e.reason):e.reason;};n.prototype.setData=function(e,g,k,l,m,p){var r,q,u;this.ev("undefined" !== typeof e);this.ev("undefined" !== typeof g);r=this.Sx;q=m?m:"DEFAULTCAPS";r[g] || (r[g]=d(),Object.defineProperty(r[g],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(r[g],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));k=this.Eo?this.Eo(JSON.stringify(k),"gzip",!0):k;r=r[g];this.S0b(e,g,q,r);u=this;p=p || this.G7[g] + 1;l={creationTime:this.La.getTime(),value:k,size:0,type:g,mMa:l,SP:p,ANa:setTimeout(function(){u.clearData(e,g,q,!1,"expired");},p)};r[e]=r[e] || d();r[e][q]=r[e][q] || d();r[e][q]=l;r.size+=0;r.numEntries++;this.vt && this.vt.emit("addedCacheItem",l);return l;};n.prototype.Jmb=function(e,g){var k,l,m,p;l=Number.POSITIVE_INFINITY;m=this;Object.keys(e).every(function(r){var q;q=e[r] && e[r][g];q && q.value && m.Ria(q) && (p=r);q && q.value && q.creationTime < l && (l=q.creationTime,k=r);return !0;});return p || k;};n.prototype.S0b=function(e,g,k,l){var m,p,r,q,u;m=l.numEntries;p=this.hC[g];r=l[e] && l[e][k];if(r && r.value)(q=e,u="promise_or_expired");else m >= p && !this.oWa && (q=this.Jmb(l,k),u="cache_full");this.NC && this.log.debug("makespace ",{maxCount:p,currentCount:l.numEntries,field:g,movieId:e,movieToBeRemoved:q});q && (this.clearData(q,g,k,void 0,u),this.log.debug("removed from cache: ",q,g));};n.prototype.BKa=function(e,g){var k,l;k=this;k.ev("undefined" !== typeof e);l=e + "";g.forEach(function(m){var p;p=k.Sx[m];p && Object.keys(p).forEach(function(r){r != l && k.clearData(r,m,void 0,void 0,"clear_all");});});};n.prototype.clearData=function(e,g,k,l,m){var p;this.ev("undefined" !== typeof e);this.ev("undefined" !== typeof g);p=this.Sx[g];g=p?p[e]:void 0;k=k?k:"DEFAULTCAPS";if(g && g[k]){p.size-=g[k].size;p.numEntries--;if(p=g && g[k])(clearTimeout(p.ANa),g[k]=void 0,!l && p.mMa && p.mMa());this.vt && (e={creationTime:p.creationTime,destroyFn:p.mMa,size:p.size,type:p.type,value:p.value,reason:m,movieId:e},this.vt.emit("deletedCacheItem",e));}};n.prototype.uOb=function(e,g,k,l){var m,p,r;this.ev("undefined" !== typeof e);this.ev("undefined" !== typeof g);m=this;p=this.Sx[g];p=p?p[e]:void 0;r=k?k:"DEFAULTCAPS";k=p && p[r];l=l || this.G7[g] + 1;k && (clearTimeout(k.ANa),k.creationTime=this.La.getTime(),k.SP=l,k.ANa=setTimeout(function(){m.clearData(e,g,r,!1,"expired");},l));};n.prototype.flush=function(e){var g;this.ev("undefined" !== typeof e);g=this.Sx;g[e]=d();g[e].numEntries=0;g[e].size=0;};n.prototype.Tmb=function(){var e,g;this.ev(!1);e=this;g=this.Sx;g[void 0] instanceof Object && Object.keys(g[void 0]).forEach(function(k){var l;l=g[void 0][k].DEFAULTCAPS;e.La.getTime() - l.creationTime > l.SP && e.clearData(k,void 0,"DEFAULTCAPS",void 0,"clean_up");});};n.prototype.Ria=function(e){return this.La.getTime() - e.creationTime > e.SP;};n.prototype.getStats=function(e,g,k){var l,m,p,r,q;l={};m=this;p=m.Sx;r=c(e) && c(g);q=k || "DEFAULTCAPS";Object.keys(p).forEach(function(u){var v,w;v=Object.keys(p[u]);w=p[u];v.forEach(function(x){!(x=w && w[x] && w[x][q]) || !c(x.value) || x.value instanceof m.Promise || (l[u]=(l[u] | 0) + 1,m.Ria(x) && (l[u + "_expired"]=(l[u + "_expired"] | 0) + 1),r && x.creationTime >= e && x.creationTime < g && (l[u + "_delta"]=(l[u + "_delta"] | 0) + 1));});});return l;};n.prototype.getState=function(e){var g,k,l,m;g=[];k=this;l=k.Sx;m=e || "DEFAULTCAPS";Object.keys(l).forEach(function(p){var r,q;r=Object.keys(l[p]);q=l[p];r.forEach(function(u){var v,w;v=q && q[u] && q[u][m];if(v && c(v.value)){w=k.Ria(v)?"expired":v.value instanceof k.Promise?"loading":"cached";g.push({movieId:u,state:w,type:p,size:v.size});}});});return g;};n.prototype.UMc=function(){this.oWa=!0;};n.prototype.vKc=function(){var e;for(this.oWa=!1;this.Sx.manifest.numEntries > this.hC.manifest;){e=this.Jmb(this.Sx.manifest,void 0);this.clearData(e,"manifest",void 0,void 0,"eviction");this.log.debug("removed from cache: ",e,"manifest");this.NC && this.log.debug("makespace ",{maxCount:this.hC.manifest,currentCount:this.Sx.manifest.numEntries,field:"manifest",movieToBeRemoved:e});}};n.prototype.ev=function(e){if(!e && (this.log.error("Debug Assert Failed",void 0),this.NC))throw Error("Debug Assert Failed ");};t.exports=n;},46601:function(t){t.exports={SP:{S:12E5,S$:9E5,xc:12E5},hC:{S:10,S$:10,xc:10},UO:{S:10240,S$:10240,xc:10240}};},85852:function(t){function b(a){var d;d=[];return (function h(c){if(c && "object" === typeof c){if(-1 !== d.indexOf(c))return !0;d.push(c);for(var f in c)if(c.hasOwnProperty(f) && h(c[f]))return !0;}return !1;})(a);}t.exports=function(a,d){var c;if(d && b(a))return -1;d=[];a=[a];for(var n=0;a.length;){c=a.pop();if("boolean" === typeof c)n+=4;else if("string" === typeof c)n+=2 * c.length;else if("number" === typeof c)n+=8;else if("object" === typeof c && -1 === d.indexOf(c)){d.push(c);for(var h in c)a.push(c[h]);}}return n;};},43155:function(t,b,a){var n;function d(c){if(c.aborted)throw c.reason;}Object.defineProperties(b,{__esModule:{value:!0}});b.QQb=void 0;b.Zoa=function(c){return "AbortError" === (null === c || void 0 === c?void 0:c.name);};b.VMb=d;b.aka=function(c,h){function f(){}void 0 === h && (h=!0);h || (f=function(){d(c);});return new Promise(function(e){var k;function g(){return e();}c.aborted && e();c.addListener?c.addListener("abort",g):null === (k=c.addEventListener) || void 0 === k?void 0:k.call(c,"abort",g);}).then(f);};n=a(22970);t=(function(c){function h(f){f=c.call(this,f) || this;f.name="AbortError";return f;}n.__extends(h,c);return h;})(Error);b.QQb=t;},44510:function(t,b,a){var n,c,h;function d(f){var e;return null !== (e=f.npb) && void 0 !== e?e:f.name;}Object.defineProperties(b,{__esModule:{value:!0}});b.Algorithm=void 0;b.gob=function(f,e){var g;g=0;return Object.assign(function(k,l){for(var m=[],p=2;p < arguments.length;p++)m[p - 2]=arguments[p];for(p=g;p < f.length;p++)if(f[p].apply(void 0,n.__spreadArray([k,l],n.__read(m),!1))){if((g++,g === f.length))return (g=0,!0);}else break;e.apply(void 0,n.__spreadArray([k,l],n.__read(m),!1)) && (g=0);return !1;},{reset:function(){return g=0;},npb:("combinator(").concat(f.map(d).join(", "),")")});};b.kcc=function(f){var k,l,m,p,r,q,u;function e(){null === q || void 0 === q?void 0:q.Ka();q=void 0;u=!1;}function g(){u=!0;q=void 0;}k=f.K$b;l=f.cec;m=f.gtc;p=void 0 === m?k:m;r=f.mc;u=!1;return Object.assign(function(v,w){for(var x=[],y=2;y < arguments.length;y++)x[y - 2]=arguments[y];u || q || !k.apply(void 0,n.__spreadArray([v,w],n.__read(x),!1)) || (q=r.pt(c.Vd.Cy(h.I.Ca(l)),g));p.apply(void 0,n.__spreadArray([v,w],n.__read(x),!1)) && e();(x=u) && (u=!1);return x;},{reset:e,npb:("debounced(").concat(d(k),", ").concat(l,"ms)")});};n=a(22970);c=a(24153);h=a(44847);t=(function(){function f(e,g){this.rules=e;this.store=g.store;this.KPa=g.KPa || (function(){return [];});this.store.addListener("update",this.UL.bind(this));}f.prototype.reset=function(){this.rules.forEach(function(e){var g,k;return null === (k=(g=n.__read(e,1)[0]).reset) || void 0 === k?void 0:k.call(g);});};f.prototype.UL=function(e){var g,k,l,m,p,r,q,u,v,w,z,B;m=e.cy;e=e.next;this.store.GOc();try{p=n.__values(this.rules);r=p.next();a:for(;!r.done;r=p.next()){q=n.__read(r.value,2);u=q[0];v=q[1];w=Array.isArray(v)?v:[v];if(u.apply(void 0,n.__spreadArray([m,e],n.__read(this.KPa()),!1))){try{for(var x=(k=void 0,n.__values(w)),y=x.next();!y.done;y=x.next()){z=y.value;B=null === z || void 0 === z?void 0:z(e,d(u));B && B.reset?this.store.reset(B.Ux):B && B.Ux && this.store.next(B.Ux);if(B && B.R6b)break a;}}catch(C){k={error:C};}finally{try{y && !y.done && (l=x.return) && l.call(x);}finally{if(k)throw k.error;}}e=this.store.value;}}}catch(C){var A;A={error:C};}finally{try{r && !r.done && (g=p.return) && g.call(p);}finally{if(A)throw A.error;}}this.store.dic();};return f;})();b.Algorithm=t;},27192:function(t,b,a){var h;function d(f){return f.filter(function(e,g){return f.indexOf(e) === g;});}function n(f,e,g){return g?f.filter(function(k){return !e.some(function(l){return g(k,l);});}):f.filter(function(k){return -1 === e.indexOf(k);});}function c(f,e,g){return f.length < e.length?g?c(e,f,function(k,l){return g(l,k);}):c(e,f):g?f.map(function(k,l){return g(k,e[l])?-1:l;}).filter(function(k){return -1 !== k;}):f.map(function(k,l){return k === e[l]?-1:l;}).filter(function(k){return -1 !== k;});}Object.defineProperties(b,{__esModule:{value:!0}});b.ic=function(f,e){for(var g=0;g < f.length;g++)if(e(f[g],g,f))return f[g];};b.cJa=function(f,e){for(var g=f.length - 1;0 <= g;--g)if(e(f[g],g,f))return f[g];};b.om=function(f,e){var g;g=-1;return f.some(function(k,l,m){g=l;return e(k,l,m);})?g:-1;};b.Hkb=function(f,e){for(var g=f.length - 1;0 <= g;g--)if(e(f[g],g,f))return g;return -1;};b.Gkb=d;b.Ikb=function(f,e){return f.filter(function(g,k){return f.indexOf(g) === k && -1 !== e.indexOf(g);});};b.dJa=function(f,e){e=f.indexOf(e);if(-1 === e)return !1;f.splice(e,1);return !0;};b.Co=n;b.Fkb=c;b.l6=function(f,e){return d(f.concat(e));};b.Y2c=function(f){return function(e,g){return f(e) - f(g);};};b.Azc=function(f){return function(e,g){return f(e) < f(g)?e:g;};};b.flatten=function(f){var e;return (e=[]).concat.apply(e,h.__spreadArray([],h.__read(f),!1));};b.j3c=function(f,e){void 0 === e && (e=function(g){return g;});return f.reduce(function(g,k){k=e(k);return (void 0 === g[k]?g[k]=1:++g[k],g);},{});};b.U5c=function(f,e){return f.reduce(function(g,k){var l;l=e(k);return (void 0 === g[l]?g[l]=[k]:g[l].push(k),g);},{});};b.eDb=function(f){return null !== f && void 0 !== f;};b.c5b=function(f){var e,k;e=[];if(Array.isArray(f))for(var g=0;g < f.length;g++){k=f[g];Array.isArray(k)?e=e.concat(k.filter(function(l){return void 0 !== l;})):void 0 !== k && e.push(k);}return e;};b.r$b=function(f,e,g){var k;k=n(f,e,g);e=n(e,f,g);f=n(f,k);return {ica:k,Wjb:e,fta:f,result:f.concat(e)};};b.iY=function(f,e){for(var g=f.length - 1;0 <= g;--g)e(f[g],g,f);};h=a(22970);},43529:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.AssertionError=void 0;b.assert=function(c,h){if(!c)throw new n(h || "Assertion failed");};d=a(22970);n=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);return h;})(Error);b.AssertionError=n;},70058:function(t,b,a){var c,h,f,e,g,k,l;function d(m){return m && "function" === typeof m.Og?!0:!1;}function n(m){return d(m) && (m=typeof m.eZ,"boolean" === m || "undefined" === m)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.Bfa=b.ifa=b.AsyncIterator=void 0;b.XRa=d;b.DNa=n;b.map=function(m,p,r){return new l(m,p,r);};b.Yma=function(m,p,r){return new k(m,p,r);};c=a(22970);h=a(32910);e=(function(){function m(p){var r;r=this;this.t0b=p;this.g5=!1;this.L1b=function(q){return r.ZGc(q);};this.eob();}m.ypa=function(p,r){function q(){var u;u=p.next();u.then(function(v){n(p) && p.eZ || r(v);});u.then(function(v){return !v.done && q();});}q();};Object.defineProperties(m.prototype,{BG:{get:function(){return this.g5;},enumerable:!1,configurable:!0}});m.lQa=function(){f || (f=Promise.resolve({done:!0}));return f;};Object.defineProperties(m.prototype,{dZ:{get:function(){return this.Rc || !1;},enumerable:!1,configurable:!0}});m.prototype.Og=function(){this.cancel();};m.prototype.cancel=function(){this.N_();this.Rc=!0;return this.dKa;};m.prototype.next=function(){return this.Rc?this.dKa:Promise.race([this.dKa,this.t0b()]).then(this.L1b);};m.prototype.ZGc=function(p){p.done && (this.g5=!0,this.Og());this.dZ || (this.N_(),this.eob());return p;};m.prototype.eob=function(){var p;p=this;this.dKa=new Promise(function(r){p.N_=function(){return r({done:!0});};});};return m;})();b.AsyncIterator=e;g=(function(m){function p(r){var q;q=m.call(this,function(){return q.koc();}) || this;q.pz=r;q.index=0;return q;}c.__extends(p,m);p.prototype.Og=function(){d(this.pz) && this.pz.Og();m.prototype.Og.call(this);};p.prototype.koc=function(){return this.pz.length > this.index?Promise.resolve({value:this.pz[this.index++],done:!1}):Promise.resolve({done:!0});};return p;})(e);b.ifa=g;k=(function(m){function p(r,q,u){var v;v=m.call(this,function(){return v.JUa();}) || this;v.console=q;v.So=u;v.sXa=!1;Array.isArray(r)?v.pba=new g(r):v.pba=r;return v;}c.__extends(p,m);p.prototype.aHc=function(r){var q;this.sXa=!1;q=this.console;h.l && q && q.trace("CompoundIterator: processNextOuterIterator");if(r.done)return r;r=r.value;if(this.eZ)return (d(r) && r.Og(),e.lQa());Array.isArray(r)?this.So=new g(r):this.So=r;return this.JUa();};p.prototype.$Gc=function(r){var q;q=this.console;h.l && q && q.trace("CompoundIterator: processNextInnerResult",this.eZ,r.done);if(!r.done || this.eZ)return r;this.So=void 0;return this.JUa();};p.prototype.Og=function(){var r;r=this.console;h.l && r && r.trace("CompoundIterator: dispose");this.eZ=!0;m.prototype.Og.call(this);d(this.pba) && this.pba.Og();d(this.So) && this.So.Og();};p.prototype.toString=function(){return ("CompoundIterator ").concat(this.eZ," ").concat(this.pba," ").concat(this.So);};p.prototype.JUa=function(){var r,q;r=this;q=this.console;h.l && q && q.trace("CompoundIterator: nextImpl");if(this.So)return (h.l && q && q.trace("CompoundIterator: getNextInner"),this.So.next().then(function(u){return r.$Gc(u);}));this.sXa=!0;h.l && q && q.trace("CompoundIterator: getNextOuter");return this.pba.next().then(function(u){return r.aHc(u);});};return p;})(e);b.Bfa=k;l=(function(m){function p(r,q,u){var v;v=m.call(this,function(){return v.n0b();}) || this;v.source=r;v.WTa=q;v.VKa=u;return v;}c.__extends(p,m);p.prototype.Og=function(){d(this.source) && this.source.Og();m.prototype.Og.call(this);};p.prototype.n0b=function(){var r,q,u;r=this.VKa;q=this.WTa;u=this.source;h.l && r && r.trace("MappedIterator: Requesting next");return u.next().then(function(v){return v.done?v:q(v.value);});};return p;})(e);},13489:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.lSb=void 0;d=a(73550);n=(function(){function c(h,f,e){this.C_b=h;this.P_b=f;this.Tj=e;this.Pia=!1;}c.prototype.Eo=function(){this.Pia || (this.nGa=this.C_b(this.Tj),this.UI=this.nGa.length,this.Tj=void 0,this.Pia=!0);};c.prototype.C7=function(){this.Pia && (this.Tj=this.P_b(this.nGa),this.nGa=void 0,this.Pia=!1);};Object.defineProperties(c.prototype,{data:{get:function(){this.C7();return this.Tj;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{size:{get:function(){return this.UI;},enumerable:!1,configurable:!0}});return c;})();t=(function(){function c(){this.flush();}c.prototype.set=function(h,f,e){void 0 === e && (e=!0);h=this.NHa(h,f).Rlb;e && h.Eo();};c.prototype.NHa=function(h,f){var e,g;e=this;g=new n(void 0,void 0,f);f=new d.KU({name:"compression",lba:function(k){var l;k() && (null === (l=e.gla.get(h)) || void 0 === l?void 0:l.data) === g && g.Eo();}});this.gla.set(h,{data:g,sA:f});return {Rlb:g,sA:f};};c.prototype.get=function(h){if(h=this.gla.get(h))return {value:h.data,Rk:h.sA.oz()};};c.prototype.delete=function(h){this.gla.delete(h);};c.prototype.flush=function(){this.gla=new Map();};return c;})();b.lSb=t;},91631:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.O6a=b.Ev=b.ck=b.w2a=b.Deb=void 0;d=a(22970);n=a(66164);c=a(50214);b.Deb=function(h){return void 0 !== h.Oz.pOc?h.RSa + h.Oz.pOc:Infinity;};b.w2a=function(h){return void 0 !== h.Oz.absolute?h.Oz.absolute:Infinity;};b.ck=function(h){if(!h)return Infinity;h=Math.min((0,b.Deb)(h),(0,b.w2a)(h));return isNaN(h)?Infinity:h;};b.Ev=function(h,f){null !== f && void 0 !== f?f:f=n.platform.time.now();return (0,b.ck)(h) <= f;};t=(function(){function h(f){this.HCc=f;this.WD=new c.CN([],function(e,g){e=(0,b.ck)(e);g=(0,b.ck)(g);return e - g;});}Object.defineProperties(h.prototype,{size:{get:function(){return this.WD.length;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{values:{get:function(){return this.WD.hj();},enumerable:!1,configurable:!0}});h.prototype.has=function(f){return this.WD.contains(f);};h.prototype.track=function(f){this.has(f)?this.eca(f):(this.WD.push(f),this.ag());};h.prototype.delete=function(f){var e;e=this.has(f);e && this.WD.remove(f);return e;};h.prototype.clear=function(){this.WD.clear();};h.prototype.eca=function(f){f.RSa=n.platform.time.now();this.WD.eca(f);this.ag();};h.prototype.ag=function(){var e,g,k,l;function f(q){var u;u=(0,b.ck)(q);if(isFinite(u))return (l.UD=setTimeout(function(){g.UD=void 0;g.xrb(u);},u - k),"break");l.delete(q);}g=this;this.UD && clearTimeout(this.UD);k=n.platform.time.now();this.xrb(k,!1);l=this;try{for(var m=d.__values(this.WD.hj()),p=m.next();!p.done && "break" !== f(p.value);p=m.next());}catch(q){var r;r={error:q};}finally{try{p && !p.done && (e=m.return) && e.call(m);}finally{if(r)throw r.error;}}};h.prototype.xrb=function(f,e){var g;for(void 0 === e && (e=!0);(0,b.Ev)(this.WD.fs(),f);){g=this.WD.pop();this.HCc(g);}e && this.ag();};return h;})();b.O6a=t;},67442:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.yza=void 0;d=a(50214);n=a(85068);t=(function(){function c(h,f){var e;this.console=h;this.Ig=f.Ig;this.rJa=null !== (e=f.rJa) && void 0 !== e?e:!1;this.clear();}Object.defineProperties(c.prototype,{AD:{get:function(){return this.Zf.length;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ZV:{get:function(){return this.S5.size;},enumerable:!1,configurable:!0}});c.prototype.Dmb=function(){var h;for(;this.S5.size < this.Ig && this.Zf.length;){h=this.Zf.pop();this.qrb(h);}};c.prototype.qrb=function(h){var f;f=this;this.console.debug("Execute throttler item",{hta:h.item.priority,AD:this.AD,ejb:this.ZV,E$:h.Fn.SL});h.Fn.SL || (h.Fn.resolve(h.item.Rxb()),this.S5.add(h.item),h.Fn.promise.catch(function(){return f.remove(h.item);}),this.rJa && h.Fn.promise.then(function(){return f.remove(h.item);},function(){return f.remove(h.item);}));};c.prototype.add=function(h){var f,e;f=this;this.console.debug("item added",{hta:h.priority,AD:this.AD,ejb:this.ZV});e={item:h,Fn:new n.mo()};this.Zf.push(e);this.Dmb();return {mR:function(){f.Zf.remove(e);f.qrb(e);},item:e.Fn.promise};};c.prototype.remove=function(h){var f,e;this.console.debug("item removed",{hta:h.priority,AD:this.AD,ejb:this.ZV});e=this.Zf.find(function(g){return g.item === h;});e && this.Zf.remove(e);this.S5.delete(h);null === (f=h.DVa) || void 0 === f?void 0:f.call(h);this.Dmb();};c.prototype.clear=function(){var h,f;null === (h=this.S5) || void 0 === h?void 0:h.forEach(function(e){var g;return null === (g=e.DVa) || void 0 === g?void 0:g.call(e);});null === (f=this.Zf) || void 0 === f?void 0:f.map(function(e){var g,k;return null === (k=(g=e.item).DVa) || void 0 === k?void 0:k.call(g);});this.Zf=new d.CN([],function(e,g){return e.item.priority - g.item.priority;});this.S5=new Set();};return c;})();b.yza=t;},34268:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(57086),b);t.__exportStar(a(6077),b);t.__exportStar(a(13489),b);t.__exportStar(a(67442),b);t.__exportStar(a(49690),b);t.__exportStar(a(13816),b);t.__exportStar(a(91631),b);},57086:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.m9a=b.wga=void 0;d=a(22970);n=a(66164);c=a(90745);h=a(73550);f=a(43529);e=a(4742);t=(function(){function g(k,l){this.name=l;this.wn=new Map();this.Dia=new WeakMap();this.console=(0,e.tf)(n.platform,k,"LeaseCache");}g.prototype.get=function(k){if(this.wn.has(k))return (k=this.wn.get(k),{value:k.value,Rk:k.sA.oz()});};g.prototype.keys=function(){return this.wn.keys();};Object.defineProperties(g.prototype,{size:{get:function(){return this.wn.size;},enumerable:!1,configurable:!0}});g.prototype.BNb=function(k,l,m){var p,r;if(this.wn.has(l)){p=this.wn.get(l);r=d.__assign(d.__assign({},p),{key:m,value:p.value});this.IGa(p).clear();this.Dia.delete(p);k.mHa(l,m,r);this.wn.delete(l);return p.value;}};g.prototype.mHa=function(k,l,m){var p;p=this;this.wn.set(l,m);this.IGa(m).addListener(m.sA.events,"leaseReleased",function(r){return r.hpa && p.delete(l);});m.sA.name=this.name;};g.prototype.update=function(k,l){var m;this.wn.has(k) && (k=this.wn.get(k),k.value=null !== (m=l(k.value)) && void 0 !== m?m:k.value);};g.prototype.IPa=function(k,l){this.has(k) || this.z0b(k,l(k));return this.get(k);};g.prototype.z0b=function(k,l){(0,f.assert)(!this.has(k),("key ").concat(k," already exists in cache"));this.NHa(k,l.value,l.pL);};g.prototype.IGa=function(k){this.Dia.has(k) || this.Dia.set(k,new c.af(this.console));return this.Dia.get(k);};g.prototype.has=function(k){return this.wn.has(k);};g.prototype.NHa=function(k,l,m){var p,r;p=this;(0,f.assert)(!this.wn.has(k),("key ").concat(k," already found"));r={On:!0,key:k,value:l,pL:m,sA:new h.KU({name:this.name,lba:function(){},console:this.console})};this.IGa(r).addListener(r.sA.events,"leaseReleased",function(q){q.hpa && p.has(k) && p.wn.get(k) === r && p.delete(r.key);});this.wn.set(k,r);};g.prototype.yia=function(k){var l,m;m=this.wn.get(k);m && (null === (l=m.pL) || void 0 === l?void 0:l.call(m),m.On=!1,this.wn.delete(k));};g.prototype.delete=function(k){this.yia(k);};g.prototype.values=function(){return this.wn.values();};g.prototype.tt=function(){this.clear();};g.prototype.clear=function(){var k;try{for(var l=d.__values(this.wn.keys()),m=l.next();!m.done;m=l.next())this.yia(m.value);}catch(r){var p;p={error:r};}finally{try{m && !m.done && (k=l.return) && k.call(l);}finally{if(p)throw p.error;}}};return g;})();b.wga=t;t=(function(g){function k(l,m){l=g.call(this,l,m) || this;l.vV=new Map();return l;}d.__extends(k,g);k.prototype.gMc=function(l,m){this.has(m) && (this.vV.has(l) || this.vV.set(l,new Set()),this.vV.get(l).add(m));};k.prototype.Alc=function(l){if(l=this.vV.get(l))return l.values();};k.prototype.Tec=function(l,m){var p;this.delete(m);null === (p=this.vV.get(l)) || void 0 === p?void 0:p.delete(m);};k.prototype.yia=function(l){g.prototype.yia.call(this,l);this.vV.delete(l);};k.prototype.mHa=function(l,m,p){g.prototype.mHa.call(this,l,m,p);this.gMc(l,m);};return k;})(t);b.m9a=t;},6077:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.NU=void 0;d=a(22970);n=a(66164);c=a(4069);h=a(43529);t=(function(){function f(e,g,k){void 0 === g && (g=function(l,m){return l === m;});void 0 === k && (k={});this.config=e;this.mNa=g;this.Wd=[];this.BW=new c.Lg();this.Kka=new c.Lg();this.options=d.__assign({Ig:10},k);}Object.defineProperties(f.prototype,{isEnabled:{get:function(){return this.config.enabled;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{size:{get:function(){return this.Wd.length;},enumerable:!1,configurable:!0}});f.prototype.get=function(e){if(e=this.lna(e))return e.value;};f.prototype.delete=function(e){e=this.findIndex(e);-1 !== e && this.Wd.splice(e,1);};f.prototype.Qna=function(e,g){var k;if(!this.isEnabled)return g();k=this.lna(e);if(k)return k.value;g=g();this.Gt(e,g);return g;};f.prototype.findIndex=function(e){var g,k,l,m;g=Infinity;k=Infinity;if(this.options.Qw || this.options.ew){l=n.platform.time.ha();this.options.ew && (g=l - this.options.ew);this.options.Qw && (k=l - this.options.Qw);}for(l=0;l < this.Wd.length;l++){m=this.Wd[l];if(this.options.ew && m.R$ < g){this.Wd.splice(l,this.Wd.length - l);break;}if(this.options.Qw && m.wm < k)(this.Wd.splice(l,1),l--);else if(this.mNa(m.key,e))return l;}return -1;};f.prototype.lna=function(e){var g;e=this.findIndex(e);if(-1 !== e){g=this.Wd[e];this.Wd.splice(e,1);this.Wd.unshift(g);this.options.ew && (g.R$=n.platform.time.ha());this.Kka.push(e);this.BW.push(1);return g;}this.BW.push(0);};f.prototype.has=function(e,g){e=this.findIndex(e);return -1 !== e?g?this.Wd[e].value === g:!0:!1;};f.prototype.Fxb=function(e,g,k){if(this.isEnabled){(0,h.assert)(!this.has(e),"key already found");this.Wd.unshift({key:e,value:g});e=d.__assign(d.__assign({},this.options),k);if(e.ew || e.Qw)(g=n.platform.time.ha(),e.ew && (this.Wd[0].R$=g),e.Qw && (this.Wd[0].wm=g));this.nKa();}};f.prototype.Gt=function(e,g){this.Fxb(e,g,this.options);};f.prototype.nKa=function(){var e;if(this.Wd.length > this.options.Ig){e=this.Wd.pop();e && this.options.xpa && this.options.xpa(e.key,e.value);}};f.prototype.clear=function(){for(var e=this.Wd.pop();e;)(this.options.xpa && this.options.xpa(e.key,e.value),e=this.Wd.pop());this.Wd=[];};return f;})();b.NU=t;},49690:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.edb=void 0;d=a(22970);n=a(41674);c=a(57086);h=a(67442);t=(function(){function f(e,g,k){this.console=e;this.Yuc=g;this.Ig=k;this.lB=new h.yza(e,{Ig:k});this.Qpa=new c.wga(e,"pri-cache");}f.prototype.getStats=function(){return {maxSize:this.Ig,activeItemsLength:this.lB.ZV,queueSize:this.lB.AD};};Object.defineProperties(f.prototype,{ZV:{get:function(){return this.lB.ZV;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{AD:{get:function(){return this.lB.AD;},enumerable:!1,configurable:!0}});f.prototype.remove=function(e){this.Qpa.has(e) && this.Qpa.delete(e);};f.prototype.get=function(e){var g,k,l;g=this;k=d.__assign({},e);l=this.Qpa.IPa(k.key,function(){var p,r,q;function m(){k.required=!0;q.mR();}p=new n.AbortController();r={bJ:p.signal,Rxb:function(){var u;g.console.trace("Invoking pri-cache",{key:k.key,hta:k.priority,Z9c:k.required});u=g.Yuc.jtc(k,p.signal);k.required && u.mR();m=function(){return u.mR();};return u.item;},priority:k.priority};q=g.lB.add(r);return {value:d.__assign(d.__assign({},q),{mR:function(){null === m || void 0 === m?void 0:m();}}),pL:function(){g.console.trace("pri-cache item removal",{key:k.key});p.abort();g.lB.remove(r);}};});e.required && l.value.mR();return l;};f.prototype.clear=function(){this.Qpa.clear();this.lB.clear();};return f;})();b.edb=t;},13816:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JGc=b.lXa=void 0;b.lXa=function(a,d){var n,c;return (null !== (n=a.priority) && void 0 !== n?n:0) - (null !== (c=d.priority) && void 0 !== c?c:0);};b.JGc=function(a,d){var n,c;return (null !== (n=d.priority) && void 0 !== n?n:0) - (null !== (c=a.priority) && void 0 !== c?c:0);};},62613:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oE=void 0;b.oE=(function(){function a(){}a.EK=function(d,n){var f;function c(e){return h(f++)(e,c);}function h(e){return e >= n.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(e));}:n[e];}f=0;return c(d);};return a;})();},42022:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},23512:function(t,b,a){var n;function d(){var h;function c(f,e){var g,k;g=this;k=typeof e;if("object" === k || "function" === k)if(((k=(0,n.ic)(h,function(l){return l.object === g;}))?(h.splice(k.index + 1),k.key=f):h.push({index:h.length,key:f,object:this}),f=(0,n.ic)(h,function(l){return l.object === e;})))(f=h.slice(0,f.index).map(function(l){return l.key;}).join("."),e=("[Cycle Detected: ").concat(f.length?" " + f:f,"]"),c.state.TLa=!0);return e;}h=[];c.state={TLa:!1};return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.dya=void 0;n=a(27192);b.dya=(function(){function c(){}c.stringify=function(h){var f;f=d();return [JSON.stringify(h,f),f.state];};return c;})();},66045:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yw=void 0;t=b.yw={};t[t.kM=0]="skipped";t[t.rF=1]="adjustment";},70248:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Dnb=void 0;d=a(22970);n=a(32910);c=a(43529);b.Dnb=function(){for(var h=[],f=0;f < arguments.length;f++)h[f]=arguments[f];n.l && (0,c.assert)(h.length);return function(e,g){var k,p,r;try{for(var l=d.__values(h),m=l.next();!m.done;m=l.next()){p=m.value;r=p(e,g);if(0 !== r)return r;}}catch(u){var q;q={error:u};}finally{try{m && !m.done && (k=l.return) && k.call(l);}finally{if(q)throw q.error;}}return 0;};};},44201:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.O5a=void 0;d=a(43529);n=a(50214);c=a(58191);t=(function(){function h(f){this.rgc=f;this.U1a=!1;this.pwa=new c.ndb();}h.prototype.FPb=function(f,e,g){var l,m;function k(){var q,u,v,w,x,y;q=p.pop();u=q.node;v=q.Vja;q=v.LFc;w=v.$p;v=v.state;if(!r.pwa.has(u)){q=e(u,w,q,v);x=q.VT;y=q.state;q.Tja || r.pwa.add(u);m(u).forEach(function(z){var B;B=z.STc;l.pwa.has(B) || (z=w + z.weight,x && p.push({node:B,Vja:{$p:z,LFc:u,state:y}}));});}}l=this;m=this.rgc;(0,d.assert)(!this.U1a);this.U1a=!0;this.pwa.clear();for(var p=new n.CN([{node:f,Vja:{$p:0,state:g}}],function(q,u){return q.Vja.$p - u.Vja.$p;}),r=this;!p.empty;)k();this.U1a=!1;};return h;})();b.O5a=t;},32910:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.l=!1;},19705:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aQ=function(a,d){var n;a=Math.abs(a);for(d=Math.abs(d);d;){n=d;d=a % d;a=n;}return a;};},40512:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},91176:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(41674),b);t.__exportStar(a(43155),b);t.__exportStar(a(43155),b);t.__exportStar(a(44510),b);t.__exportStar(a(44510),b);t.__exportStar(a(27192),b);t.__exportStar(a(43529),b);t.__exportStar(a(70058),b);t.__exportStar(a(34268),b);t.__exportStar(a(62613),b);t.__exportStar(a(42022),b);t.__exportStar(a(23512),b);t.__exportStar(a(23512),b);t.__exportStar(a(66045),b);t.__exportStar(a(70248),b);t.__exportStar(a(44201),b);t.__exportStar(a(19705),b);t.__exportStar(a(97322),b);t.__exportStar(a(26540),b);t.__exportStar(a(73550),b);t.__exportStar(a(50214),b);t.__exportStar(a(48571),b);t.__exportStar(a(94500),b);t.__exportStar(a(85068),b);t.__exportStar(a(58191),b);t.__exportStar(a(94893),b);t.__exportStar(a(95130),b);t.__exportStar(a(34228),b);t.__exportStar(a(90657),b);t.__exportStar(a(4069),b);t.__exportStar(a(89989),b);t.__exportStar(a(89989),b);t.__exportStar(a(23267),b);t.__exportStar(a(15807),b);t.__exportStar(a(15807),b);t.__exportStar(a(24153),b);t.__exportStar(a(42306),b);t.__exportStar(a(44847),b);t.__exportStar(a(22633),b);t.__exportStar(a(61022),b);t.__exportStar(a(34166),b);t.__exportStar(a(94742),b);t.__exportStar(a(75347),b);t.__exportStar(a(81954),b);t.__exportStar(a(40512),b);},97322:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.k7c=function(a){var d,n;d=a.next();do {if(!d.done)n=d.value;d=a.next();}while(!d.done);return n;};b.hj=function(a){if(Array.isArray(a))return a;for(var d=[],n=a.next();!n.done;)(d.push(n.value),n=a.next());return d;};},81954:function(t,b){function a(d,n,c,h){var e;if(Array.isArray(d))d.forEach(function(g,k){g=a(g,n,d,k.toString());void 0 !== g?d[k]=g:delete d[k];});else if(null !== d && "object" === typeof d)for(var f in d)if(d.hasOwnProperty(f)){e=a(d[f],n,d,f);void 0 !== e?d[f]=e:delete d[f];}return n.call(c,h,d);}Object.defineProperties(b,{__esModule:{value:!0}});b.RIb=void 0;b.RIb=function(d,n){null !== d && "object" === typeof d && a(d,n,void 0,"");};},26540:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ppa=void 0;b.Ppa=function(a){var n;function d(){n || (n=a());return n;}n=void 0;d.clear=function(){n=void 0;};d.Cwb=function(){return void 0 !== n;};return d;};},94742:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.KAa=b.oEa=void 0;d=a(22970);(function(c){c[c.h_=0]="none";c[c.remove=1]="remove";c[c.clear=2]="clear";c[c.all=3]="all";})(n || (b.oEa=n={}));t=(function(){function c(h){void 0 === h && (h={});this.bR=new Map();this.options=d.__assign({Ita:n.h_},h);}Object.defineProperties(c.prototype,{size:{get:function(){return this.bR.size;},enumerable:!1,configurable:!0}});c.prototype.has=function(h){return this.bR.has(h);};c.prototype.v3b=function(h,f){this.bR.set(h,f);};c.prototype.delete=function(h){return d.__awaiter(this,arguments,void 0,function(f,e){var g,k;void 0 === e && (e=!0);return d.__generator(this,function(l){switch(l.label){case 0:g=this.bR.get(f);k=this.bR.delete(f);if(l=e)(l=n.remove,l=(this.options.Ita & l) === l);return l?[4,Promise.resolve()]:[3,2];case 1:(l.T(),l.label=2);case 2:return (g && g.release(),[2,k]);}});});};c.prototype.Xgb=function(h){return d.__awaiter(this,void 0,void 0,function(){var f;return d.__generator(this,function(e){switch(e.label){case 0:return (f=Array.from(this.bR.values()),this.bR.clear(),h?[4,Promise.resolve()]:[3,2]);case 1:(e.T(),e.label=2);case 2:return (f.forEach(function(g){g.release();}),[2]);}});});};c.prototype.clear=function(){return d.__awaiter(this,void 0,void 0,function(){var h;return d.__generator(this,function(f){switch(f.label){case 0:return (f=n.clear,h=(this.options.Ita & f) === f,[4,this.Xgb(h)]);case 1:return (f.T(),[2]);}});});};c.prototype.Ka=function(){this.Xgb(!1);};return c;})();b.KAa=t;},73550:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.KU=void 0;d=a(90745);n=a(94893);t=(function(){function c(h){var f,e;this.counter=new n.u4();this.events=new d.EventEmitter();f=h.lba;e=h.console;this.name=h.name || "unnamed";this.events.on("leaseReleased",function(g){return f(function(){return g.hpa;});});this.console=e;}c.prototype.oz=function(){var h,f,e,g;h=this;null === (f=this.console) || void 0 === f?void 0:f.trace(("Acquiring lease ").concat(this.name,", total count"),this.counter.yDb + 1);e=this.counter.add();g=this.counter;return {release:function(){var k;e.release();null === (k=h.console) || void 0 === k?void 0:k.trace(("Releasing lease from ").concat(h.name,", total count"),h.counter.yDb);h.events.emit("leaseReleased",{get hpa() {return !g.Wja;}});}};};return c;})();b.KU=t;},75347:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(80635),b);t.__exportStar(a(94490),b);},80635:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ZAb=b.Ei=void 0;d=a(27192);b.Ei=function(c){return function(h,f){var e;e=this;(0,d.ic)(c,function(g){return h === g;}) && c.forEach(function(g){(g in e) || (e[g]=f);});return f;};};n=[(0,b.Ei)(["audioTracks","audio_tracks"]),(0,b.Ei)(["textTracks","timedtexttracks"]),(0,b.Ei)(["timedtexttracks","textTracks"]),(0,b.Ei)(["videoTracks","video_tracks"]),(0,b.Ei)(["maxFramerateValue","max_framerate_value"]),(0,b.Ei)(["maxFramerateScale","max_framerate_scale"]),(0,b.Ei)(["cdnList","cdnlist"]),(0,b.Ei)(["downloadables","ttDownloadables"]),(0,b.Ei)(["textTrackId","timedTextTrackId"]),(0,b.Ei)(["downloadableId","downloadable_id"]),(0,b.Ei)(["contentProfile","content_profile"]),(0,b.Ei)(["cdnId","cdn_id"]),(0,b.Ei)(["pixW","pix_w"]),(0,b.Ei)(["pixH","pix_h"]),(0,b.Ei)(["resW","res_w"]),(0,b.Ei)(["resH","res_h"]),(0,b.Ei)(["cropX","crop_x"]),(0,b.Ei)(["cropY","crop_y"]),(0,b.Ei)(["cropW","crop_w"]),(0,b.Ei)(["cropH","crop_h"]),(0,b.Ei)(["framerateValue","framerate_value"]),(0,b.Ei)(["framerateScale","framerate_scale"]),(0,b.Ei)(["id","new_track_id"]),(0,b.Ei)(["id","track_id"])];b.ZAb=function(c,h){return n.reduce((function(f,e){return e.call(this,c,f);}).bind(this),h);};},94490:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fSa=b.za=b.Ax=void 0;b.Ax=function(a){return "LIVE" === a || "LINEAR" === a;};b.za=function(a){return "LIVE" === a;};b.fSa=function(a){return "LINEAR" === a;};},50214:function(t,b,a){var n;function d(c,h){return c < h?-1:c > h?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.CN=void 0;n=a(22970);t=(function(){function c(h,f){this.data=h || [];this.compare=f || d;if(!this.empty)for(h=(this.length >> 1) - 1;0 <= h;h--)this.zGa(h);}Object.defineProperties(c.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});c.prototype.push=function(h){this.data.push(h);this.Tib(this.length - 1);};c.prototype.pop=function(){var h,f;if(!this.empty){h=this.data[0];f=this.data.pop();this.empty || (this.data[0]=f,this.zGa(0));return h;}};c.prototype.fs=function(){return this.data[0];};c.prototype.eca=function(h){this.remove(h);this.push(h);};c.prototype.map=function(h){return this.data.map(h);};c.prototype.find=function(h){return n.__read(this.data.filter(h),1)[0];};c.prototype.clear=function(){this.data=[];};c.prototype.remove=function(h){var f,e,g;f=this.data;h=f.indexOf(h);if(-1 !== h){e=f.pop();if(h < f.length){f[h]=e;g=h - 1 >> 1;f=f[g];0 <= g && 0 > this.compare(e,f)?this.Tib(h):this.zGa(h);}}};c.prototype.pka=function(){for(var h=this.data,f=1;f < h.length;f++)if(0 > this.compare(h[f],h[f - 1 >> 1]))throw Error(("Audit failed at position ").concat(f," of ").concat(h));};c.prototype.contains=function(h){return 0 <= this.data.indexOf(h);};c.prototype.hj=function(){return this.data.concat([]);};c.prototype.Tib=function(h){for(var f=this.data,e=this.compare,g=f[h],k,l;0 < h;){k=h - 1 >> 1;l=f[k];if(0 <= e(g,l))break;f[h]=l;h=k;}f[h]=g;};c.prototype.zGa=function(h){for(var f=this.data,e=this.compare,g=this.length >> 1,k=f[h],l,m,p;h < g;){l=(h << 1) + 1;p=f[l];m=l + 1;m < this.length && 0 > e(f[m],p) && (l=m,p=f[m]);if(0 <= e(p,k))break;f[h]=p;h=l;}f[h]=k;};return c;})();b.CN=t;},48571:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xCa=void 0;t=(function(){function a(d,n,c,h){var f;f=this;this.properties=d;this.transform=n;this.Az=c;this.state=h;this.Sb();d.forEach(function(e){return e.addListener(f.BVa);});this.BVa();}a.prototype.clear=function(){var d;d=this;this.properties.forEach(function(n){return n.removeListener(d.BVa);});};a.prototype.hyb=function(d){return void 0 !== d.equal;};a.prototype.Sb=function(){var d;d=this;this.BVa=function(){var n,c;n=d.state;c=d.properties.map(function(h){return h.value;});d.state=d.transform(c);(d.hyb(d.state) && d.hyb(n)?d.state.equal(n):n === d.state) || d.Az(d.state);};};return a;})();b.xCa=t;},94500:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Os=b.zYb=void 0;d=a(22970);n=a(48571);c=a(85068);t=(function(){function h(f,e){this.gb=f;this.uG=e?[e]:[];}Object.defineProperties(h.prototype,{value:{get:function(){return this.gb;},enumerable:!1,configurable:!0}});h.prototype.addListener=function(f){-1 === this.uG.indexOf(f) && (this.uG=this.uG.slice(),this.uG.push(f));};h.prototype.removeListener=function(f){f=this.uG.indexOf(f);-1 !== f && (this.uG=this.uG.slice(),this.uG.splice(f,1));};return h;})();b.zYb=t;t=(function(h){function f(e,g){return h.call(this,e,g) || this;}d.__extends(f,h);f.QPb=function(e,g,k){return new n.xCa(e,g,k,!1);};f.yUc=function(e,g,k){return d.__awaiter(this,void 0,void 0,function(){var l,m,p;p=this;return d.__generator(this,function(r){switch(r.label){case 0:(l=void 0,m=new Promise(function(q){l=p.QPb(e,g,q);}),r.label=1);case 1:return (r.tc.push([1,,6,7]),k?[4,(0,c.aHb)(k,m)]:[3,3]);case 2:return [2,r.T()];case 3:return [4,m];case 4:return [2,r.T()];case 5:return [3,7];case 6:return (l.clear(),[7]);case 7:return [2];}});});};Object.defineProperties(f.prototype,{value:{get:function(){return this.gb;},set:function(e){this.set(e);},enumerable:!1,configurable:!0}});f.prototype.set=function(e){var g;g=this.gb;g !== e && (this.gb=e,this.uG.forEach(function(k){return k({oldValue:g,newValue:e});}));};return f;})(t);b.Os=t;},28999:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mo=void 0;t=(function(){function a(){var d;d=this;this.GHa=!1;this.promise=new Promise(function(n,c){d.FHa=n;d.AHa=c;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{SL:{get:function(){return this.GHa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(d){var n;this.GHa=!0;null === (n=this.FHa) || void 0 === n?void 0:n.call(this,d);this.AHa=this.FHa=void 0;};a.prototype.reject=function(d){var n;this.GHa=!0;null === (n=this.AHa) || void 0 === n?void 0:n.call(this,d);this.AHa=this.FHa=void 0;};return a;})();b.mo=t;},85068:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(28999),b);t.__exportStar(a(86823),b);t.__exportStar(a(29727),b);t.__exportStar(a(54331),b);},54331:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.rCb=function(c){var h,f;h=this;f={start:void 0,end:void 0};return [function(){for(var e=[],g=0;g < arguments.length;g++)e[g]=arguments[g];return d.__awaiter(h,void 0,void 0,function(){return d.__generator(this,function(){f.start=n.platform.time.ha();return [2,c.apply(void 0,d.__spreadArray([],d.__read(e),!1)).then(function(k){f.end=n.platform.time.ha();return k;}).catch(function(k){f.end=n.platform.time.ha();throw k;})];});});},f];};d=a(22970);n=a(66164);},86823:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.oV=void 0;d=a(43529);n=a(28999);t=(function(){function c(h){void 0 === h && (h={f6:!0});this.options=h;this.correlationId=0;this.Fn=new n.mo();}Object.defineProperties(c.prototype,{E$:{get:function(){return this.Fn.SL;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{promise:{get:function(){return this.Fn.promise;},enumerable:!1,configurable:!0}});c.prototype.eM=function(h,f){var e,g;e=this;void 0 === f && (f=!0);f && (0,d.assert)(!this.E$);g=++this.correlationId;h.then(function(k){return e.M1b(g,k);},function(k){return e.J1b(g,k);});};c.prototype.M1b=function(h,f){(h === this.correlationId || this.options.f6) && this.Fn.resolve(f);};c.prototype.J1b=function(h,f){h === this.correlationId && this.Fn.reject(f);};return c;})();b.oV=t;},29727:function(t,b,a){var n,c,h;function d(f){return !(null === f || void 0 === f || !f.signal);}Object.defineProperties(b,{__esModule:{value:!0}});b.eTb=b.xSa=void 0;b.D6c=d;b.aHb=function(f,e){return n.__awaiter(this,arguments,void 0,function(g,k,l){var m,p;void 0 === l && (l=!1);return n.__generator(this,function(r){switch(r.label){case 0:return (m=d(g)?g.signal:g,p=(0,c.aka)(m,!l),[4,Promise.race([p,Promise.resolve(k)])]);case 1:return [2,r.T()];}});});};n=a(22970);c=a(43155);h=a(43529);a(86823);b.xSa=function(f){return "function" === typeof (null === f || void 0 === f?void 0:f.then);};t=(function(){function f(){}f.prototype.eM=function(e){(0,h.assert)(this.y0b);this.y0b.eM(e);};return f;})();b.eTb=t;},58191:function(t,b){var n,c,h;function a(f){return void 0 !== (null === f || void 0 === f?void 0:f.Lgb);}function d(f){return (a(f)?f:Object.defineProperties(f,{Lgb:{value:{},configurable:!1,enumerable:!1}})).Lgb;}Object.defineProperties(b,{__esModule:{value:!0}});b.ndb=void 0;c=null !== (n=Number.MAX_SAFE_INTEGER) && void 0 !== n?n:1E9;h=Date.now() % c;t=(function(){function f(){this.eu=0;this.id=h=(h + 1) % c;}f.prototype.add=function(e){d(e)[this.id]=this.eu;return this;};f.prototype.has=function(e){return a(e) && d(e)[this.id] === this.eu;};f.prototype.delete=function(e){if(!this.has(e))return !1;d(e)[this.id]=void 0;return !0;};f.prototype.clear=function(){this.eu=(this.eu + 1) % c;return this;};return f;})();b.ndb=t;},94893:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.u4=void 0;d=a(22970);t=(function(){function c(){var h;h=this;this.A5=[];this.mJc=function(f){f=h.A5.indexOf(f);0 <= f && h.A5.splice(f,1);};}Object.defineProperties(c.prototype,{Wja:{get:function(){return 0 !== this.A5.length;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{yDb:{get:function(){return this.A5.length;},enumerable:!1,configurable:!0}});c.prototype.add=function(){var h;h=new n(this.mJc);this.A5.push(h);return h;};c.prototype.bQb=function(h){d.__awaiter(this,void 0,void 0,function(){var f,e;return d.__generator(this,function(g){switch(g.label){case 0:(f=this.add(),g.label=1);case 1:return (g.tc.push([1,,3,4]),[4,h()]);case 2:return (e=g.T(),[2,e]);case 3:return (f.release(),[7]);case 4:return [2];}});});};c.prototype.OUc=function(h){var f;f=this.add();try{h();}finally{f.release();}};return c;})();b.u4=t;n=(function(){function c(h){this.R1b=h;}c.prototype.release=function(){this.R1b(this);};return c;})();},95130:function(t,b,a){var n,c,h,f,e;function d(g,k){return g.time - k.time || g.priority - k.priority || g.id - k.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.ZZa=function(g,k,l){return e.instance.ZZa(g,k,l);};b.GKa=function(g){e.instance.GKa(g);};b.d$c=function(){e.reset();};n=a(66164);c=a(32910);h=a(43529);f=a(50214);e=(function(){function g(){var k;k=this;this.gn=new f.CN([],d);this.C0a=0;this.console=new n.platform.Console("SETTIMEOUT");this.Nic=function(){var l,m;l=n.platform.time.ha();k.Pda=void 0;c.l && k.console.trace(("[").concat(l,"] Wake"));try{for(;!k.gn.empty && k.gn.fs().time <= l;){m=k.gn.pop();c.l && k.console.trace(("[").concat(n.platform.time.ha(),"] Executing p").concat(m.priority," timer ").concat(m.id," scheduled for ").concat(m.time));m.Az();}}finally{k.WYa();}};}Object.defineProperties(g,{instance:{get:function(){return g.fz || (g.fz=new g());},enumerable:!1,configurable:!0}});g.reset=function(){(0,h.assert)(void 0 === g.fz || g.fz.gn.empty,"Singleton SetTimeoutWithPriority reset with pending timers");g.fz=void 0;};g.prototype.ZZa=function(k,l,m){var p,r,q;(0,h.assert)(isFinite(l) && 0 <= l);p=this.gn;r=n.platform.time.ha();q=r + l;p.push({id:++this.C0a,time:q,priority:m,Az:k});c.l && this.console.trace(("[").concat(r,"] New p").concat(m," timer ").concat(this.C0a," scheduled for ").concat(q," in ").concat(l,"ms"));this.WYa();return this.C0a;};g.prototype.GKa=function(k){var l,m,p;l=this.gn;m=l.find(function(r){return r.id === k;});if(m){p=l.fs().time;l.remove(m);c.l && this.console.trace(("[").concat(n.platform.time.ha(),"] Removing timer ").concat(m.id," scheduled for ").concat(m.time));(l.empty || l.fs().time > p) && this.WYa();}};g.prototype.bnb=function(){this.Pda && (clearTimeout(this.Pda.id),c.l && this.console.trace(("[").concat(n.platform.time.ha(),"] Clearing wake timer")),this.Pda=void 0);};g.prototype.WYa=function(){var k,l;l=this.gn;l.empty?this.bnb():(l=l.fs().time,l !== (null === (k=this.Pda) || void 0 === k?void 0:k.time) && (this.bnb(),k=Math.max(0,l - n.platform.time.ha()),c.l && this.console.trace(("[").concat(n.platform.time.ha(),"] Setting wake timer for ").concat(l," in ").concat(k,"ms")),this.Pda={id:setTimeout(this.Nic,k),time:l}));};return g;})();},89376:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.enumerable=void 0;b.enumerable=function(a){return function(d,n){var c;c=Object.getOwnPropertyDescriptor(d,n) || ({});c.enumerable !== a && (c.enumerable=a,c.writable=!0,Object.defineProperty(d,n,c));};};},34228:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(22970).__exportStar(a(89376),b);},90657:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.LE=void 0;d=a(22970);n=a(4069);t=(function(){function c(h,f){var e;this.Sgb=h;this.FNb=f;this.Ng={other:new n.Lg(),all:new n.Lg()};try{for(var g=d.__values(h),k=g.next();!k.done;k=g.next())this.Ng[k.value]=new n.Lg();}catch(m){var l;l={error:m};}finally{try{k && !k.done && (e=g.return) && e.call(g);}finally{if(l)throw l.error;}}}c.Rn=function(h,f){var e,g,m;if(h === f)return h;g=new c(h.Sgb,h.FNb);try{for(var k=d.__values(Object.keys(h.Ng)),l=k.next();!l.done;l=k.next()){m=l.value;g.Ng[m]=h.Ng[m].Rn(f.Ng[m]);}}catch(r){var p;p={error:r};}finally{try{l && !l.done && (e=k.return) && e.call(k);}finally{if(p)throw p.error;}}return g;};c.prototype.W6b=function(h){var f,e,l;h=(null === (e=this.FNb) || void 0 === e?void 0:e.call(this,h)) || h;try{for(var g=d.__values(this.Sgb),k=g.next();!k.done;k=g.next()){l=k.value;if(h < l)return l;}}catch(p){var m;m={error:p};}finally{try{k && !k.done && (f=g.return) && f.call(g);}finally{if(m)throw m.error;}}return "other";};c.prototype.push=function(h){var f,e;e=null !== (f=this.W6b(h)) && void 0 !== f?f:"other";this.Ng[e].push(h);this.Ng.all.push(h);};c.prototype.toJSON=function(){var h,f;h=this;f={};Object.keys(this.Ng).forEach(function(e){var g;g=h.Ng[e];g.count && (f[e]=g);});return f;};return c;})();b.LE=t;},4069:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Lg=void 0;t=(function(){function a(d){void 0 === d && (d=!1);this.$nb=d;this.count=0;this.Da=NaN;this.SD=0;this.max=this.min=NaN;}Object.defineProperties(a.prototype,{BD:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(d){this.count++;this.SD+=d;1 === this.count?this.Da=this.min=this.max=d:(this.min=Math.min(d,this.min),this.max=Math.max(d,this.max),this.Da+=(d - this.Da) / this.count);};a.prototype.toJSON=function(){return this.$nb || 0 === this.count?{count:this.count}:{min:this.min,max:this.max,average:this.Da,count:this.count,sum:this.SD};};a.prototype.Rn=function(d){var n;if(0 === this.count)return d;if(0 === d.count)return this;n=new a(this.$nb);n.count=this.count;n.Da=this.Da;n.SD=this.SD;n.min=Math.min(this.min,d.min);n.max=Math.max(this.max,d.max);for(var c=0;c < d.count;c++)n.push(d.Da);return n;};return a;})();b.Lg=t;},89989:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BRc=function(a,d,n){var c,h,f;a="FINAL" === (null === (c=a.QLb[d]) || void 0 === c?void 0:c.type)?d:(c=null === (f=null === (h=a.QLb) || void 0 === h?void 0:h[d]) || void 0 === f?void 0:f.on) && (n in c)?c[n]:(a=a.on) && (n in a)?a[n]:d;return {Ux:a,xGc:d,Xp:a !== d,event:n};};},23267:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.BI=void 0;d=a(66164);t=(function(){function n(){}Object.defineProperties(n.prototype,{duration:{get:function(){return void 0 !== this.endTime?this.endTime - this.startTime:0;},enumerable:!1,configurable:!0}});n.prototype.start=function(){this.reset();};n.prototype.reset=function(){this.startTime=d.platform.time.ha();this.endTime=void 0;};n.prototype.stop=function(){this.endTime=d.platform.time.ha();};return n;})();b.BI=t;},15807:function(t,b,a){var n,c,h;function d(f){var e,g;e={};for(g in f)f.hasOwnProperty(g) && (e[g]=f[g]);return e;}Object.defineProperties(b,{__esModule:{value:!0}});b.Reb=void 0;n=a(22970);t=(function(f){function e(g){var k,l,m,p;k=g.model;l=g.YVa;l=void 0 === l?{}:l;m=g.dEb;g=g.WFb;p=void 0 === g?h:g;g=f.call(this) || this;g.yF=void 0;g.cpa=!1;g.uoa=!1;g.VFb={};g.Zaa=0;g.cab=k;g.dEb=m || (function(){});g.WFb=p;k=g.Gna();g.Vf=d(k);g.gb=Object.assign(k,l);return g;}n.__extends(e,f);e.prototype.next=function(g){var k;if(this.cpa)(this.uoa=!0,this.yF=this.yF || Object.assign(this.Gna(),this.value),Object.assign(this.yF,g));else {k=this.value;this.gb=g=Object.assign(this.Gna(),n.__assign(n.__assign({},this.value),g));this.zMa({cy:k,next:g});}};e.prototype.reset=function(g){var k;void 0 === g && (g={});g=Object.assign(this.Gna(),g);if(this.yF)(this.uoa=!0,this.yF=g);else {k=this.value;this.gb=g;this.zMa({cy:k,next:g});}};e.prototype.GOc=function(){this.cpa=!0;};e.prototype.dic=function(){var g;if(this.cpa && this.yF){g=this.value;this.uoa && (this.gb=this.yF,this.uoa=!1,this.zMa({cy:g,next:this.value}));this.yF=void 0;}this.cpa=!1;};Object.defineProperties(e.prototype,{value:{get:function(){return this.yF || this.gb;},enumerable:!1,configurable:!0}});e.prototype.zMa=function(g){this.dEb(g);this.emit("update",g);};e.prototype.Gna=function(){var g,k,l,m;if(!c)return new this.cab();g=this.VFb[this.Zaa];if(g){k=g;l=this.Vf;for(m in l)k[m]=l[m];}else g=this.VFb[this.Zaa]=new this.cab();this.Zaa++;this.Zaa === this.WFb && (this.Zaa=0);return g;};return e;})(a(90745).EventEmitter);b.Reb=t;c=!0;h=3;},24153:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(84007),b);t.__exportStar(a(47359),b);t.__exportStar(a(12847),b);t.__exportStar(a(47061),b);t.__exportStar(a(39461),b);t.__exportStar(a(36992),b);t.__exportStar(a(56161),b);},84007:function(t,b,a){var d,n,c,h,f,e;Object.defineProperties(b,{__esModule:{value:!0}});b.GU=void 0;d=a(22970);n=a(66164);c=a(44847);h=a(43529);a(70058);f=a(47061);e=a(36992);t=(function(g){function k(l,m,p){m=g.call(this,m,p) || this;m.eLc=l;m.bSa=!1;m.Csa=!1;m.reset();return m;}d.__extends(k,g);k.prototype.reset=function(){var l,m;if(this.$a === f.bm.hy || this.$a === f.bm.pending)null === (m=null === (l=this.lX) || void 0 === l?void 0:l.return) || void 0 === m?void 0:m.call(l);g.prototype.reset.call(this);this.lX=this.eLc();this.Csa=!1;this.$aa=e.Vd.Cy(c.I.ia);};k.prototype.Tc=function(){this.reset();(0,h.assert)(this.nF);this.nF.Dca(this);};k.prototype.mra=function(){return this.$aa;};k.prototype.Pe=function(){var l,m,p,r;try{this.bSa=!0;r=(null === (l=this.lX) || void 0 === l?void 0:l.next()) || ({done:!0});}finally{this.bSa=!1;this.Evc=n.platform.time.ha();this.f9b();}r.done?(this.$aa=e.Vd.W1a,null === (p=null === (m=this.lX) || void 0 === m?void 0:m.return) || void 0 === p?void 0:p.call(m),this.lX=void 0):this.$aa=r.value;};k.prototype.f9b=function(){this.Csa && this.Opb();};k.prototype.Opb=function(){var l,m;this.bSa?this.Csa=!0:(this.Csa=!1,null === (m=null === (l=this.lX) || void 0 === l?void 0:l.return) || void 0 === m?void 0:m.call(l),this.lX=void 0);};k.prototype.Ka=function(){this.Opb();g.prototype.Ka.call(this);};k.prototype.gq=function(){return {state:f.bm[this.state],nextWakeup:{ms:this.$aa.timestamp.G,type:e.MN[this.$aa.type]},lastRunMono:this.Evc};};return k;})(f.pV);b.GU=t;},47359:function(t,b,a){var c,h,f,e,g,k,l,m,p,r,q,u,v,w,x;function d(y){var z,B,A,C,D,F,G,E,H,J,L,K;B=y.La;A=y.Az;C=y.OPb;D=y.Iq;F=y.priority;G=void 0 === F?0:F;F=y.GM;E=void 0 === F?!0:F;y=y.mlb;H=void 0 === y?!0:y;(0,e.assert)(B.Zi,("Current time: ").concat(f.platform.time.ha()," cr: ").concat(B.currentTime));(0,e.assert)(B.currentTime.isFinite());y=C.ea(B.currentTime);H && (y=n(y,null !== (z=null === D || void 0 === D?void 0:D.Fra) && void 0 !== z?z:0));J=Math.max(Math.ceil(y.QA / B.speed),0);L=D || ({id:void 0,Gpb:J,Fra:0,gDc:J,GM:E,Pka:[]});K=f.platform.time.ha();L.id=(L.GM?r.ZZa:setTimeout)(function(){var M,P;M=C.ea(B.currentTime);P=f.platform.time.ha() - K - J;L.Pka.push({delay:P,nOc:J});M.Km(k.I.ia)?A():(L.Fra++,d({La:B,Az:A,OPb:C,Iq:L,priority:G,GM:E,mlb:H}));},J,G);L.Gpb=J;return L;}function n(y,z){return 0 < z?k.I.max(y,k.I.Ca(10 * (1 << Math.min(z,6) - 1))):y;}Object.defineProperties(b,{__esModule:{value:!0}});b.hV=b.eeb=void 0;c=a(22970);h=a(90745);f=a(66164);e=a(43529);g=a(70248);k=a(44847);l=a(50214);m=a(73550);p=a(32910);r=a(95130);q=a(47061);u=a(36992);v=a(56161);w=(function(){function y(){this.complete();}Object.defineProperties(y.prototype,{yT:{get:function(){return this.RHa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{nra:{get:function(){return this.g1b;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Jdc:{get:function(){return this.L_b;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{lua:{get:function(){return this.Z1b;},enumerable:!1,configurable:!0}});y.prototype.set=function(z,B,A){this.L_b=B === x.h_?0:f.platform.time.ha();this.g1b=z;this.Z1b=B;p.l && (0,e.assert)(!this.RHa,"Invalid replacement of timeout value");this.RHa=A;};y.prototype.complete=function(){this.RHa=void 0;this.set(k.I.qh,x.h_);};return y;})();(function(y){y[y.h_=0]="none";y[y.Iaa=1]="microTask";y[y.setTimeout=2]="setTimeout";})(x || (b.eeb=x={}));t=(function(y){function z(B,A){var C;C=y.call(this) || this;C.La=B;C.console=A;C.p$=!1;C.Tla=!1;C.Xm=new w();C.Gr=new h.af();C.jk=new l.CN([],(0,g.Dnb)(function(D,F){return D.JS.vm(F.JS);},function(D,F){return D.Ae.mc.priority - F.Ae.mc.priority;},function(D,F){return F.Ae.priority - D.Ae.priority;},function(D,F){return D.Ae.id > F.Ae.id?1:D.Ae.id < F.Ae.id?-1:0;}));C.gka(B);return C;}c.__extends(z,y);z.oMc=function(B){this.config=B;};z.anc=function(B,A){var D,F;function C(){var G,E;G=new z(B,A);E=new m.KU({name:"rootTaskScheduler",lba:function(H){H() && (G.Ka(),D.nua.delete(B));},console:A});return {mc:G,sA:E};}D=this;(0,e.assert)(this.config,"Config has not been intiialized");this.config.nmb && (this.nua.has(B) || this.nua.set(B,C()));F=this.nua.get(B) || C();return {mc:F.mc,Rk:F.sA.oz()};};Object.defineProperties(z.prototype,{ewa:{get:function(){return this.yO;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{GNc:{get:function(){return this.La.Zi;},enumerable:!1,configurable:!0}});z.prototype.ihc=function(){this.yO || (this.yO=new v.sV());return this.yO;};z.prototype.gq=function(){var B;B={hasSchedule:!!this.Xm.yT,schedule:this.Xm.yT && ({sleepTime:this.Xm.yT.Gpb,originalSleepTime:this.Xm.yT.gDc,clockSkewAdjustments:this.Xm.yT.Fra}),nextWakeup:this.Xm.nra.G,timeScheduled:this.Xm.Jdc,scheduleType:x[this.Xm.lua],numTasks:this.jk.length,clock:{ir:this.La.Zi,ct:this.La.currentTime.G,sp:this.La.speed}};p.l && this.trace("audit",B);return B;};z.prototype.gka=function(B){var A;A=this;this.ax();this.Gr.clear();this.La=B;this.Gr.on(B,"stopStart",function(){return A.tS();});this.Gr.on(B,"clockAdjusted",function(){return A.jba();});this.Gr.on(B,"speedChanged",function(){return A.OCc();});this.jba();this.emit("clockChanged");};z.prototype.OCc=function(){this.ax();this.tS();};z.prototype.Ka=function(){this.reset();this.p$ && (this.Tla=!0);this.Gr.clear();this.Qr=!0;};z.prototype.reset=function(){var B;this.ax();B=this.jk.hj();this.jk.clear();B.forEach(function(A){return A.Ae.Ka();});};z.prototype.Tc=function(){var B;this.ax();B=this.jk.hj();this.jk.clear();B.forEach(function(A){return A.Ae.Tc();});};z.prototype.jba=function(){var B,A;B=this;A=this.jk.map(function(C){return C.Ae;});this.ax();this.jk.clear();A.forEach(function(C){return B.dW(C,!1);});this.tS();};z.prototype.dW=function(B,A){var C,D;void 0 === A && (A=!0);C=B.mra();D=this.gNb(C);C={Ae:B,JS:D,Wta:C};p.l && this.trace(("Adding task ").concat(B.name," for ").concat(D.G," from ").concat(B.mc.name) + ("/").concat(B.mc.priority));(0,e.assert)(!this.jk.contains(C));this.jk.push(C);A && this.tS();};z.prototype.Zva=function(B){var A,C;A=this;this.ax();B.fy && this.jk.map(function(D){return D;}).filter(function(D){return -1 !== B.fy.indexOf(D.Ae);}).forEach(function(D){return A.jk.remove(D);});null === (C=B.eW) || void 0 === C?void 0:C.forEach(function(D){return A.dW(D,!1);});this.tS();};z.prototype.tS=function(){var B,A,C,D,F,G;B=this;p.l && this.trace("recheck schedule task count:" + this.jk.length);if(this.GNc){if(this.p$)p.l && this.trace("already executing, bailing");else if(this.Xm.lua === x.Iaa)p.l && this.trace("Already scheduled on microtask, bailing");else {C=this.Xm.nra;D=this.jk.fs();F=(null === D || void 0 === D?void 0:D.JS) || k.I.qh;if(F.isFinite() && F.i_(C)){if((this.ax(!1),this.La.currentTime.Xf(F)))(this.Xm.set(F,x.Iaa),Promise.resolve().then(function(){B.Xm.lua === x.Iaa && (B.Xm.complete(),B.YIb({type:x.Iaa}));}));else {p.l && this.trace("scheduling next wake up for",{wbd:F.G,Ae:null === D || void 0 === D?void 0:D.Ae.name,lLc:null === D || void 0 === D?void 0:D.Ae.mc.name});G=d({La:this.La,Az:function(){B.Xm.complete();B.YIb({type:x.setTimeout,nra:F,delay:B.La.currentTime.ea(F),YO:G.Fra,Pka:G.Pka});},OPb:F,priority:null !== (A=null === D || void 0 === D?void 0:D.Ae.mc.priority) && void 0 !== A?A:0,GM:!!z.config.GM,mlb:!!z.config.llb});this.Xm.set(F,x.setTimeout,G);}}else F.isFinite() || this.Xm.lua !== x.setTimeout || this.ax(!1);}}else (p.l && this.trace("should check schedule is false, stopping"),this.ax());};z.prototype.YIb=function(B){var C,D,F,G,E,H;function A(){return H=!0;}G=0;E=null === (C=this.jk.fs()) || void 0 === C?void 0:C.Wta;H=!1;this.La.on("stopStart",A);try{for((this.p$=!0,null === (D=this.yO) || void 0 === D?void 0:D.bPc(B));1E4 > G++ && this.SRc() && !H;);}finally{this.La.Om("stopStart",A);this.p$=!1;null === (F=this.yO) || void 0 === F?void 0:F.hic(G);this.ax();B=this.jk.map(function(J){return {name:J.Ae.name,lLc:J.Ae.mc.name,xbd:J.JS.G};});1E4 < G && !this.Brc(E)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick",B.slice(0,5)):(p.l && this.trace("Next tasks",B),this.tS());}};z.prototype.Brc=function(B){var A,C;C=null === (A=this.jk.fs()) || void 0 === A?void 0:A.Wta;return B && C && B.timestamp.equal(C.timestamp) && B.type === C.type?!1:!0;};z.prototype.gyc=function(){this.p$ && (this.Tla=!0);};z.prototype.SRc=function(){var B,A,C,D,F,G;D=(null === (B=this.jk.fs()) || void 0 === B?void 0:B.JS) || k.I.qh;p.l && this.trace(("tryExecuteNextTask @").concat(this.La.currentTime.G,", next wakeup at ").concat(D));B=this.La.currentTime;if(B.Xf(D)){F=this.jk.pop();if(F){G=F.Ae;null === (A=this.yO) || void 0 === A?void 0:A.aPc({Ae:G,currentTime:B,nra:D});this.RLa=G;A=!1;p.l && this.trace("Running a task @" + B.G + ", scheduled for time:" + D.G + ("Name:").concat(G.name));try{G.UL();A=!0;F.Wta=G.mra();F.JS=this.gNb(F.Wta);}catch(E){throw (this.error(("Unhandled error from a task ").concat(G.name," occurred.") + " Removing the task from future executions:" + E,{stack:E.stack}),G.Ka(),E);}finally{null === (C=this.yO) || void 0 === C?void 0:C.gic({Ae:G,pad:A});this.RLa=void 0;this.Tla?(G.Ka(),this.Tla=!1):F.JS !== k.I.qh && G.state === q.bm.hy && ((0,e.assert)(!this.jk.contains(F)),this.jk.push(F));}return !0;}}};z.prototype.Dca=function(B){this.xS(B,!1);this.dW(B);};z.prototype.xS=function(B,A){var C;void 0 === A && (A=!0);C=this.jk.find(function(D){return D.Ae === B;});C && this.nJc(C,A);};z.prototype.nJc=function(B,A){this.jk.remove(B);A && this.tS();};z.prototype.ax=function(B){var A;void 0 === B && (B=!0);this.Xm.yT && (B && this.emit("stopping"),B=this.Xm.yT,(B.GM?r.GKa:clearTimeout)(B.id),this.Xm.complete(),null === (A=this.ewa) || void 0 === A?void 0:A.ax());};z.prototype.gNb=function(B){return B.type === u.MN.absolute?B.timestamp:B.timestamp.add(this.La.currentTime);};z.prototype.trace=function(){for(var B,A=[],C=0;C < arguments.length;C++)A[C]=arguments[C];null === (B=this.console) || void 0 === B?void 0:B.trace.apply(B,c.__spreadArray(["RootTaskScheduler:"],c.__read(A),!1));};z.prototype.error=function(){for(var B,A=[],C=0;C < arguments.length;C++)A[C]=arguments[C];null === (B=this.console) || void 0 === B?void 0:B.error.apply(B,c.__spreadArray(["RootTaskScheduler:"],c.__read(A),!1));};z.config={GM:!0,nmb:!0,llb:!0};z.nua=new WeakMap();return z;})(h.EventEmitter);b.hV=t;},12847:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.D4=void 0;d=a(22970);n=a(47061);c=a(36992);t=(function(h){function f(e,g,k,l){void 0 === l && (l={});k=h.call(this,k) || this;k.mua=e;k.Az=g;k.options=l;return k;}d.__extends(f,h);f.prototype.mra=function(){return this.$a === n.bm.pending?this.mua:c.Vd.W1a;};f.prototype.Pe=function(){this.Az();};f.prototype.Tc=function(){this.options.M$c?(h.prototype.reset.call(this),this.nF.Dca(this)):this.Ka();};return f;})(n.pV);b.D4=t;},47061:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.pV=b.bm=void 0;d=a(36992);(function(c){c[c.pending=0]="pending";c[c.hy=1]="running";c[c.complete=2]="complete";c[c.lP=3]="destroyed";})(n || (b.bm=n={}));t=(function(){function c(h,f){void 0 === f && (f=0);this.name=h;this.priority=f;this.$a=n.pending;}Object.defineProperties(c.prototype,{state:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{On:{get:function(){return this.$a === n.pending || this.$a === n.hy;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mc:{get:function(){return this.nF;},enumerable:!1,configurable:!0}});c.prototype.v5b=function(h){var f;null === (f=this.nF) || void 0 === f?void 0:f.xS(this);this.nF=h;};c.prototype.UL=function(){this.$a=n.hy;this.Pe();this.mra() === d.Vd.W1a && (this.$a=n.complete,this.mc.xS(this));};c.prototype.Ka=function(){var h;this.$a=n.lP;null === (h=this.nF) || void 0 === h?void 0:h.xS(this);};c.prototype.qmb=function(h){this.nF.xS(this);this.nF=h;this.nF.Dca(this);};c.prototype.gq=function(){};c.prototype.reset=function(){this.$a=n.pending;};return c;})();b.pV=t;},39461:function(t,b,a){var d,n,c,h,f,e,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.DI=void 0;b.M1=function(m,p,r){var q;q=void 0;return (r || m.La.Zi) && m.La.currentTime.Xf(p)?{promise:Promise.resolve()}:{promise:new Promise(function(u){q=m.pt(k.Vd.Rl(p),u);}),Ae:q};};d=a(22970);n=a(90745);c=a(43529);h=a(97322);f=a(32910);e=a(84007);g=a(12847);k=a(36992);l=a(47359);t=(function(m){function p(r,q,u,v){var w;void 0 === u && (u="unknown");void 0 === v && (v=0);w=m.call(this) || this;w.La=r;w.console=q;w.name=u;w.priority=v;w.AAc=0;w.Gr=new n.af();w.jB=new Set();w.gka(r);return w;}d.__extends(p,m);Object.defineProperties(p.prototype,{Qr:{get:function(){return void 0 === this.zo;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{x0:{get:function(){return this.zo;},enumerable:!1,configurable:!0}});p.prototype.Mob=function(r,q){r=new (r.bind.apply(r,d.__spreadArray([void 0],d.__read(q),!1)))();r.id=this.AAc++;r.v5b(this);this.dW(r);return r;};p.prototype.Br=function(){for(var r=[],q=0;q < arguments.length;q++)r[q]=arguments[q];return this.Mob(e.GU,r);};p.prototype.gq=function(){var r,q;q=d.__assign(d.__assign({},null === (r=this.zo) || void 0 === r?void 0:r.gq()),{privateNumTasks:this.jB.size});f.l && this.trace("audit",q);return q;};p.prototype.pt=function(){for(var r=[],q=0;q < arguments.length;q++)r[q]=arguments[q];return this.Mob(g.D4,r);};p.prototype.qla=function(r,q,u){return this.Br(function(){return d.__generator(this,function(v){switch(v.label){case 0:return [4,k.Vd.Cy(q)];case 1:return (v.T(),r(),[3,0]);case 2:return [2];}});},u);};p.prototype.gka=function(r){var q,u,v;q=this;this.zo && this.zo.Zva({fy:(0,h.hj)(this.jB.values())});this.GHb();u=l.hV.anc(r,this.console);v=u.mc;u=u.Rk;this.zo=v;this.Gr.clear();this.La=r;this.Gr.on(v,"stopping",function(){return q.emit("stopping");});this.JKc=u;this.zo.Zva({eW:(0,h.hj)(this.jB.values())});this.emit("clockChanged");};p.prototype.Ka=function(){var r;if(!this.Qr){r=this.zo.RLa && this.jB.has(this.zo.RLa);this.reset();r && this.zo.gyc();this.GHb();}};p.prototype.GHb=function(){var r;this.zo && this.emit("rootSchedulerReleasing",{x0:this.zo});null === (r=this.JKc) || void 0 === r?void 0:r.release();this.zo=void 0;};p.prototype.reset=function(){var r;if(!this.Qr){r=(0,h.hj)(this.jB.values());this.zo.Zva({fy:r});this.jB.clear();r.forEach(function(q){return q.Ka();});}};p.prototype.Tc=function(){var r;if(!this.Qr){r=(0,h.hj)(this.jB.values());this.zo.Zva({fy:r});r.forEach(function(q){return q.Tc();});}};p.prototype.dW=function(r,q){void 0 === q && (q=!0);this.Qr?f.l && this.console.warn(("Task added after destruction ").concat(r.name," on ").concat(this.name)):(this.jB.add(r),this.zo.dW(r,q));};p.prototype.Dca=function(r){(0,c.assert)(r.mc === this);this.Qr?f.l && this.console.warn(("Task restarted after destruction ").concat(r.name," on ").concat(this.name)):(this.jB.add(r),this.zo.Dca(r));};p.prototype.xS=function(r,q){void 0 === q && (q=!0);!this.Qr && this.jB.has(r) && (this.jB.delete(r),this.zo.xS(r,q));};p.prototype.trace=function(){for(var r,q=[],u=0;u < arguments.length;u++)q[u]=arguments[u];null === (r=this.console) || void 0 === r?void 0:r.trace.apply(r,d.__spreadArray([("TaskScheduler(").concat(this.name,"):")],d.__read(q),!1));};return p;})(n.EventEmitter);b.DI=t;},36992:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Vd=b.MN=void 0;d=a(44847);(function(f){f[f.absolute=0]="absolute";f[f.EHb=1]="relative";})(n || (b.MN=n={}));h=(function(){function f(e,g){this.type=e;this.timestamp=g;}f.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(n[this.type]);};Object.defineProperties(f,{ia:{get:function(){c || (c=new f(n.EHb,d.I.ia));return c;},enumerable:!1,configurable:!0}});return f;})();t=(function(){function f(){}f.Rl=function(e){return new h(n.absolute,e);};Object.defineProperties(f,{uwa:{get:function(){return h.ia;},enumerable:!1,configurable:!0}});f.Cy=function(e){return new h(n.EHb,e);};f.W1a=new h(n.absolute,d.I.qh);return f;})();b.Vd=t;},56161:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sV=void 0;d=a(66164);n=a(4069);c=a(90657);h=a(23267);f=a(84007);e=a(47359);g=[100,200,400,800,1600,3200];t=(function(){function k(){this.i0a=new WeakMap();this.j0a=new h.BI();this.LTa=new h.BI();this.xka=new h.BI();this.state={m1:d.platform.time.ha(),vT:0,oua:1,vj:{lR:new n.Lg(!0),eaa:new n.Lg(),daa:new n.Lg(),c$:new n.Lg(!0),$da:new n.Lg(),YO:new n.Lg(),Mca:new n.Lg(!0),R6:new c.LE(g),S6:new c.LE(g)},rT:{}};}k.prototype.Ovb=function(l){var m;if(l.name)return ("").concat(l.mc.name,"::").concat(l.name);if(!this.i0a.get(l)){m=("").concat(l.mc.name,"::'unk'::").concat(l.id,"::iterable?").concat(l instanceof f.GU);this.i0a.set(l,m);}return this.i0a.get(l);};k.prototype.aPc=function(l){var m;l=this.Ovb(l.Ae);(m=this.state.rT)[l] || (m[l]={Ima:new n.Lg(),TP:0});this.j0a.start();};k.prototype.ax=function(){this.state.vj.Mca.push(1);};k.prototype.bPc=function(l){var m;m=this;l.type === e.eeb.Iaa?this.state.vj.c$.push(1):(this.state.vj.$da.push(l.delay.G),l.Pka.forEach(function(p){m.state.vj.R6.push(p.delay);m.state.vj.S6.push(p.nOc);}),this.state.vj.YO.push(l.YO));this.LTa.start();this.xka.stop();this.xka.duration && this.state.vj.daa.push(this.xka.duration);};k.prototype.hic=function(l){this.LTa.stop();this.xka.start();this.state.vj.eaa.push(this.LTa.duration);this.state.vj.lR.push(l);};k.prototype.gic=function(l){l=this.Ovb(l.Ae);this.j0a.stop();this.state.rT[l].Ima.push(this.j0a.duration);};k.prototype.gq=function(){this.state.vT=d.platform.time.ha() - this.state.m1;return this.state;};k.reduce=function(l,m){var p,r,q,u,v;if(0 === l.vT && 0 === l.vj.lR.count)return m;if(0 === m.vT && 0 === m.vj.lR.count || l === m)return l;p=l.m1 < m.m1?l:m;r=p === l?m:l;q=p.vj;u=r.vj;v={};Object.keys(l.rT).concat(Object.keys(m.rT)).forEach(function(w){var x,y;if(!v[w]){x=l.rT[w];y=m.rT[w];v[w]=x && y?{Ima:x.Ima.Rn(y.Ima),TP:x.TP + y.TP}:x || y;}});return {m1:p.m1,vT:p.vT + r.vT,oua:p.oua + r.oua,vj:{c$:q.c$.Rn(u.c$),lR:q.lR.Rn(u.lR),eaa:q.eaa.Rn(u.eaa),daa:q.daa.Rn(u.daa),Mca:q.Mca.Rn(u.Mca),$da:q.$da.Rn(u.$da),YO:q.YO.Rn(u.YO),R6:c.LE.Rn(q.R6,u.R6),S6:c.LE.Rn(q.S6,u.S6)},rT:v,toJSON:function(){return {timeConstructed:this.m1,timeRunning:this.vT,schedulers:this.oua,executionStats:{immediateRuns:this.vj.c$,loopRuns:this.vj.lR,loopTime:this.vj.eaa,loopBetweenTime:this.vj.daa,scheduleClears:this.vj.Mca,timerRuns:this.vj.$da,callBackDelayBuckets:this.vj.R6,callBackSleepBuckets:this.vj.S6,clockSkewAdjustments:this.vj.YO},taskStats:v};}};};return k;})();b.sV=t;},42306:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.qV=void 0;d=a(44847);t=(function(){function n(c,h){this.kb=c;this.Rb=h;}n.prototype.Qg=function(c){return new n(this.kb.Qg(c),this.Rb.Qg(c));};n.prototype.gf=function(c){return new n(this.kb.gf(c),this.Rb.gf(c));};Object.defineProperties(n.prototype,{length:{get:function(){return this.Rb.ea(this.kb);},enumerable:!1,configurable:!0}});n.prototype.add=function(c){return new n(this.kb.add(c),this.Rb.add(c));};n.prototype.ea=function(c){return new n(this.kb.ea(c),this.Rb.ea(c));};Object.defineProperties(n.prototype,{duration:{get:function(){return this.length;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{hpa:{get:function(){return this.kb.equal(this.Rb);},enumerable:!1,configurable:!0}});n.prototype.VW=function(c,h){"number" === typeof c && (c=d.I.Ca(c));return "ms" === h?c.G >= this.kb.G && c.G <= this.Rb.G:c.Xf(this.kb) && c.Km(this.Rb);};n.prototype.toString=function(c){return c === d.CI.G?("").concat(this.kb.toString(d.CI.G)) + (" - ").concat(this.Rb.toString(d.CI.G)):c === d.CI.iLb?("").concat(this.kb.da()) + (" dur:").concat(this.duration.da(c)):("").concat(this.kb.da()," - ").concat(this.Rb.da());};n.prototype.equals=function(c){return this.kb.equal(c.kb) && this.Rb.equal(c.Rb);};return n;})();b.qV=t;},44847:function(t,b,a){var n;function d(c,h){return c && h?Math.abs(c * h / (0,n.aQ)(c,h)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.CI=b.I=void 0;n=a(19705);t=(function(){function c(h,f){"object" === typeof h?(this.Mc=h.aa,this.Cb=h.P):(this.Mc=h,this.Cb=f);isFinite(this.Mc) || (this.Cb=1);}c.compare=function(h,f){return h.vm(f);};c.abs=function(h){return new c(Math.abs(h.Mc),h.Cb);};c.Ca=function(h){return 0 === h?c.ia:new c(h,1E3);};c.G0a=function(h,f){return Math.floor(1E3 * h / f);};c.wCb=function(h,f){return Math.floor(h * f / 1E3);};c.max=function(){for(var h=[],f=0;f < arguments.length;f++)h[f]=arguments[f];return h.reduce(function(e,g){return e.greaterThan(g)?e:g;});};c.min=function(){for(var h=[],f=0;f < arguments.length;f++)h[f]=arguments[f];return h.reduce(function(e,g){return e.lessThan(g)?e:g;});};c.aQ=function(h,f){var e;if(h.Cb === f.Cb)return new c((0,n.aQ)(h.Mc,f.Mc),h.Cb);e=d(h.Cb,f.Cb);return new c((0,n.aQ)(h.Mc * e / h.Cb,f.Mc * e / f.Cb),e);};Object.defineProperties(c.prototype,{aa:{get:function(){return this.Mc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{P:{get:function(){return this.Cb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{G:{get:function(){return c.G0a(this.Mc,this.Cb);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{QA:{get:function(){return 1E3 * this.Mc / this.Cb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{MS:{get:function(){var h;h=this.QA;return 0 > h?Math.ceil(h):Math.floor(h);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Ji:{get:function(){return this.Mc / this.Cb;},enumerable:!1,configurable:!0}});c.prototype.Vc=function(h){h/=this.Cb;return new c(Math.floor(this.Mc * h),Math.floor(this.Cb * h));};c.prototype.add=function(h){var f;if(!this.isFinite() || !h.isFinite() || this.Cb === h.Cb)return new c(this.Mc + h.Mc,this.Cb);f=d(this.Cb,h.Cb);return new c(this.Mc * f / this.Cb + h.Mc * f / h.Cb,f);};c.prototype.ea=function(h){var f;if(this.Cb === h.Cb)return new c(this.Mc - h.Mc,this.Cb);f=d(this.Cb,h.Cb);return new c(this.Mc * f / this.Cb - h.Mc * f / h.Cb,f);};c.prototype.Qg=function(h){return 1 === h?this:new c(this.Mc * h,this.Cb);};c.prototype.gf=function(h){var f;if("number" === typeof h){if(Math.floor(h) === h){f=d(this.Mc,h);if(f !== this.Mc)return this.Vc(f / this.Mc * this.Cb).gf(h);}return new c(Math.floor(this.Mc / h),this.Cb);}if(this.Cb === h.Cb)return this.Mc / h.Mc;f=d(this.Cb,h.Cb);return this.Mc * f / this.Cb / (h.Mc * f / h.Cb);};c.prototype.gv=function(h){var f;if(this.Cb === h.Cb)return new c(Math.abs(this.Mc - h.Mc),this.Cb);f=d(this.Cb,h.Cb);return new c(Math.abs(this.Mc * f / this.Cb - h.Mc * f / h.Cb),f);};c.prototype.SXa=function(){return new c(this.Cb,this.Mc);};c.prototype.Jzc=function(){return new c(this.Mc - 1,this.Cb);};c.prototype.compare=function(h,f){var e;if(this.Cb === f.Cb)return h(this.Mc,f.Mc);e=d(this.Cb,f.Cb);return h(this.Mc * e / this.Cb,f.Mc * e / f.Cb);};c.prototype.vm=function(h){var f;if(this.Cb === h.Cb)return this.aa === h.Mc?0:this.Mc - h.Mc;f=d(this.Cb,h.Cb);return this.Mc * f / this.Cb - h.Mc * f / h.Cb;};c.prototype.equal=function(h){return this.compare(function(f,e){return f === e;},h);};c.prototype.i_=function(h){return this.compare(function(f,e){return f !== e;},h);};c.prototype.lessThan=function(h){return this.compare(function(f,e){return f < e;},h);};c.prototype.greaterThan=function(h){return this.compare(function(f,e){return f > e;},h);};c.prototype.Km=function(h){return this.compare(function(f,e){return f <= e;},h);};c.prototype.Xf=function(h){return this.compare(function(f,e){return f >= e;},h);};c.prototype.isFinite=function(){return !!this.Cb && isFinite(this.Mc);};c.prototype.Svb=function(h){return d(this.P,h);};c.prototype.toJSON=function(){return {ticks:this.Mc,timescale:this.Cb};};c.prototype.toString=function(h){return h === b.CI.G?("").concat(this.QA,"ms"):("").concat(this.Mc,"/").concat(this.Cb);};c.prototype.da=function(h){var f;f=this.QA;f=0 === f % 1?f.toString():f.toFixed(3).replace(/\.?0+$/,"");return h === b.CI.iLb?("").concat(f,"ms"):("").concat(this.Mc,"/").concat(this.Cb," (").concat(f,"ms)");};c.ia=new c(0,1E3);c.Yx=new c(1,1E3);c.qh=new c(Infinity,1);c.mCb=new c(-Infinity,1);return c;})();b.I=t;b.CI={G:"ms",iLb:"simple"};},22633:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ed=function(a){return void 0 !== a;};},4742:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tf=function(a,d,n){if(d.Kob)return d.Kob(n);d=d.prefix?("").concat(d.prefix," ").concat(n):n;return new a.Console("ASEJS","media|asejs",d);};},52496:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.vU=void 0;d=a(22970);b.vU=(function(){function n(){}n.cK=function(c,h){void 0 === h && (h={includeStack:!0});return "function" === typeof (null === c || void 0 === c?void 0:c.cK)?c.cK():c instanceof Error?d.__assign(d.__assign({},c),{name:c.name,message:c.message,stack:h.includeStack?c.stack:void 0}):c;};return n;})();},55960:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},61022:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(4742),b);t.__exportStar(a(55960),b);t.__exportStar(a(65569),b);t.__exportStar(a(52496),b);},65569:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.deb=void 0;t=(function(){function a(){this.eua=!1;}Object.defineProperties(a.prototype,{Auc:{get:function(){return this.eua;},enumerable:!1,configurable:!0}});a.prototype.JOc=function(){var d;d=this;this.eua || (this.eua=!0,setTimeout(function(){return d.uCc();},1));};a.prototype.uCc=function(){this.eua=!1;};return a;})();b.deb=t;},34166:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.jia=void 0;d=a(41674);t=(function(){function n(){var c;c=this;this.P5=[];this.Dh=new d.AbortController();this.gEb=function(){c.Dh.abort();};}Object.defineProperties(n.prototype,{signal:{get:function(){return this.Dh.signal;},enumerable:!1,configurable:!0}});n.prototype.abort=function(){this.Dh.abort();};n.prototype.Ka=function(){var c;c=this.P5;this.P5=[];c.forEach(function(h){return h();});};n.prototype.X_a=function(c){var h,f;h=this;if(c.aborted)this.Dh.abort(c.reason);else {c.addEventListener("abort",this.gEb);f=function(){c.removeEventListener("abort",h.gEb);h.P5=h.P5.filter(function(e){return e !== f;});};this.P5.push(f);this.signal.addEventListener("abort",f);}};return n;})();b.jia=t;},46882:function(t){function b(d,n,c,h){d.trace(":",c,":",h);n(h);}function a(d){this.listeners=[];this.console=d;}a.prototype.constructor=a;a.prototype.addListener=function(d,n,c,h){c=h?c.bind(h):c;if(d){this.console && (c=b.bind(null,this.console,c,n));if("function" === typeof d.addListener)d.addListener(n,c);else if("function" === typeof d.addEventListener)d.addEventListener(n,c);else throw Error("Emitter does not have a function to add listeners for '" + n + "'");this.listeners.push([d,n,c]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var d;d=this.listeners.length;this.listeners.forEach(function(n){var c,h;c=n[0];h=n[1];n=n[2];"function" === typeof c.removeEventListener?c.removeEventListener(h,n):"function" === typeof c.removeListener && c.removeListener(h,n);});this.listeners=[];this.console && this.console.trace("removed",d,"listener(s)");};t.exports=a;},90745:function(t,b,a){b=a(22699);b.dMa=0;t.exports={EventEmitter:b,af:a(46882)};},84726:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.R5a=void 0;d=a(22970);n=a(91176);c=a(91176);h=a(90745);f=a(52885);t=(function(){function e(g,k,l,m,p){this.Yo=g;this.Ab=k;this.g0b=l;this.qb=m;this.u_b=p;this.rO=new Map();this.lF=new Map();this.events=new h.EventEmitter();this.gO=new Map();}Object.defineProperties(e.prototype,{size:{get:function(){return this.lF.size;},enumerable:!1,configurable:!0}});e.prototype.Eyb=function(g){var k;void 0 === k && (k=!0);if(k)return this.rO.has(g);g=this.Yo(g);return this.lF.has(g);};e.prototype.ag=function(g){var k,l,m,p;k=this;l=Array.from(this.lF.keys());m=new Map(g.map(function(r){return [k.Yo(r),r];}));p=Array.from(m.keys());g=(0,n.Co)(l,p,function(r,q){return r === q;});l=(0,n.Co)(p,l).map(function(r){return m.get(r);});g.forEach(function(r){return k.Mp(k.lF.get(r),!0,"evicted");});this.Y1b(l);};e.prototype.Y1b=function(g){var k;k=this;g=g.map(function(l){var m,p;m=k.Yo(l);p=new n.AbortController();k.rO.set(l,p);k.lF.set(m,l);return {Bb:l,bJ:p.signal};});this.g0b.tjc({nb:g,w6b:{Sr:!0}}).entries.forEach(function(l,m){return d.__awaiter(k,void 0,void 0,function(){var p,r;return d.__generator(this,function(q){switch(q.label){case 0:return (q.tc.push([0,2,,3]),[4,l]);case 1:return (p=q.T().S,r=this.rO.get(m),this.Eyb(m) && !r.signal.aborted && (this.iJ(m,p),this.rO.delete(m)),[3,3]);case 2:return (q.T(),r=this.rO.get(m),this.Eyb(m) && !r.signal.aborted?this.Mp(m,!0,"evicted"):this.Mp(m,!1,"evicted"),0,[3,3]);case 3:return [2];}});});});};e.prototype.CKc=function(g){this.lF.set(this.Yo(g.ps),g.ps);this.Exb(g,!1);};e.prototype.Exb=function(g,k){var l;void 0 === k && (k=!1);l=this.Yo(g.ps);this.gO.set(l,g);this.events.emit("itemAdded",{item:g,xAc:k});};e.prototype.iJ=function(g,k,l){var m,p;l=null !== (m=null === l || void 0 === l?void 0:l.Qw) && void 0 !== m?m:this.u_b(k);p=(0,n.Ppa)(function(){return JSON.stringify(k).length;});g=new f.wBa({S:Promise.resolve(k),ps:g,gC:!0,Oz:{absolute:l},Vba:function(){},get TO() {return p();},Sr:g.Sr});this.Exb(g,!0);};e.prototype.aA=function(g){g="string" === typeof g?g:this.Yo(g);return this.gO.has(g);};e.prototype.Zjb=function(g){var k,l,r;g=Math.max(0,this.size - g);if(0 < g){l=Array.from(this.lF.values()).sort(c.lXa);try{for(var m=d.__values(l),p=m.next();!p.done;p=m.next()){r=p.value;if(0 >= g)break;g--;this.Mp(r,!0,"evicted");}}catch(u){var q;q={error:u};}finally{try{p && !p.done && (k=m.return) && k.call(m);}finally{if(q)throw q.error;}}}};e.prototype.claim=function(g){var k;k=this.Po(g);this.Mp(g,!1,"claimed");return k;};e.prototype.remove=function(g){this.Mp(g,!0,"deleted");};e.prototype.Mp=function(g,k,l){var m,p;g=this.Yo(g);m=this.lF.get(g);if(m){p=this.rO.get(m);k && p && p.abort();this.rO.delete(m);this.lF.delete(g);k=this.gO.get(g);this.gO.delete(g);k && this.events.emit("itemRemoved",{item:k,reason:l});}};e.prototype.Po=function(g){g=this.Yo(g);if(this.gO.has(g))return this.gO.get(g);};e.prototype.clear=function(){this.Zjb(0);};e.prototype.values=function(){return this.gO.values();};return e;})();b.R5a=t;},97967:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(53300),b);t.__exportStar(a(16659),b);t.__exportStar(a(2300),b);t.__exportStar(a(52885),b);t.__exportStar(a(5300),b);t.__exportStar(a(37349),b);},5300:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.vBa=void 0;d=a(53300);a(2300);b.vBa=(function(){function n(c){this.STa=new d.o$a(c);n.instance=this;}return n;})();},52885:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.wBa=b.WVb=void 0;d=a(66164);n=a(91176);c=a(90745);(function(e){e[e.X3c=0]="dormant";e[e.active=1]="active";e[e.kx=2]="expired";e[e.N3c=3]="deleted";})(h || (b.WVb=h={}));f=0;t=(function(){function e(g){var k;this.Lp=g;this.events=new c.EventEmitter();this.Cq=f++;this.zSa=new n.Os(!1);this.rwb=this.PPb=!1;this.r7b();this.Chb=null !== (k=g.ps.Sr) && void 0 !== k?k:!1;this.$ia=new n.oV();g.S && this.$ia.eM(g.S);}Object.defineProperties(e.prototype,{state:{get:function(){return this.$a;},set:function(g){this.$a=g;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{S:{get:function(){return this.$ia.promise;},set:function(g){(0,n.assert)(!this.$ia.E$,"Manifest promise is already resolved");this.$ia.eM(g);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{gC:{get:function(){return this.Lp.gC;},set:function(g){this.Lp.gC=g;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{aA:{get:function(){this.KGa || (this.KGa=this.gC);return this.KGa;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{stats:{get:function(){return this.Lp.stats;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Oz:{get:function(){return this.Lp.Oz;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{gG:{get:function(){return !!this.Lp.gG;},set:function(g){this.Lp.gG=g;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{TO:{get:function(){var g;g=this.Lp.TO;return 0 === g && this.Lp.S?(this.Lp.TO=JSON.stringify(this.Lp.S).length,this.Lp.TO):g;},set:function(g){this.Lp.TO=g;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{ps:{get:function(){return this.Lp.ps;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{RSa:{get:function(){return this.Khb;},set:function(g){this.Khb=g;},enumerable:!1,configurable:!0}});e.prototype.iyc=function(){var g;g=this;this.gC || (this.KGa=!0,setTimeout(function(){return g.Lp.gC=!0;},1));};e.prototype.Vba=function(){this.Chb=!1;this.Lp.Vba();this.events.emit("promoted",{type:"promoted"});};Object.defineProperties(e.prototype,{Sr:{get:function(){return this.Chb;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Ev:{get:function(){return (0,n.Ev)(this);},enumerable:!1,configurable:!0}});e.prototype.r7b=function(){this.Khb=d.platform.time.now();};e.prototype.RDb=function(){this.events.emit("removed",{type:"removed"});};e.prototype.iCc=function(){this.events.emit("expired",{type:"expired"});};e.prototype.kD=function(){this.zSa.set(!0);this.events.emit("completed",{type:"completed"});};e.prototype.LIa=function(g){this.Lp.Oz.absolute=g;};e.prototype.toJSON=function(){return {state:this.state,hasManifest:this.aA,cacheHit:this.gC,wasFallbackItem:this.PPb,hasFallbackItem:this.rwb,viewableId:this.ps.J,isPrefetch:this.Sr,expired:this.Ev,flushed:this.gG,seqId:this.Cq};};return e;})();b.wBa=t;},53300:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r;Object.defineProperties(b,{__esModule:{value:!0}});b.o$a=void 0;d=a(22970);n=a(91176);c=a(66164);h=a(90745);f=a(91176);e=a(91176);g=a(91176);k=a(2300);l=a(84726);m=a(37349);p=a(52885);(function(q){q[q.kx=0]="expired";q[q.Nvc=1]="lazyExpired";q[q.gG=2]="flushed";q[q.pJc=3]="removedByViewableId";q[q.sva=4]="superseded";})(r || (r={}));t=(function(){function q(u){var v;v=this;this.Pic=0;this.plugins=[];this.console=(0,n.tf)(c.platform,u.console,"MANIFESTCACHE2");this.LNa=u.LNa;this.Yo=u.Yo;this.Yv=new f.wga(this.console,"manifest-primary");this.djb=new e.edb(this.console,{jtc:function(w,x){var y,z;y=w.item;v.console.trace("Fetching manifest",{qwa:y.J});z=v.LNa.tjc({nb:[{Bb:y,bJ:x,Av:w.Av()}],w6b:{Sr:y.Sr}});return {item:z,key:w,mR:function(){return z.Vba(y);}};}},u.config.UAb);this.config=u.config;this.events=new h.EventEmitter();this.config.TAb && (this.aq=new l.R5a(this.Yo,u.config,u.LNa,u.console,function(w){return v.WJa(w);}),this.aq.events.addListener("itemAdded",function(w){v.cG.track(w.item);w.xAc && (v.events.emit("manifestScheduled",{type:"manifestScheduled",ZC:w.item}),w.item.S.then(function(x){v.events.emit("manifestReceived",{type:"manifestReceived",ZC:w.item,S:x});},function(){}));}),this.aq.events.addListener("itemRemoved",function(w){"claimed" !== w.reason && (v.console.log("Removing dormant manifest item",w.item),v.cG.delete(w.item),w.item.RDb(),"expired" === w.reason && v.events.emit("expired",{type:"expired",ZC:w.item}),v.events.emit("deleted",{type:"deleted",ZC:w.item}));}));this.XJ=new n.m9a(this.console,"manifest-expired");this.TL=new n.NU({enabled:this.config.Mxc},void 0,{Ig:1,xpa:function(w,x){v.cG.delete(x);}});this.cG=new n.O6a(function(w){var x,y;if(null === (x=v.aq) || void 0 === x?0:x.aA(w.ps))null === (y=v.aq) || void 0 === y?void 0:y.remove(w.ps);x=v.Yo(w.ps);if(v.Yv.has(x)){y=v.Yv.get(x);try{y && y.value === w && v.BNa(x,r.kx);}finally{null === y || void 0 === y?void 0:y.Rk.release();}}v.TL.has(x) && v.TL.delete(x);});this.iwb=new n.Os(!1);this.iwb.addListener(function(w){w.newValue || v.cIc();});this.events.on("manifestReceived",function(w){var x;try{for(var y=d.__values(v.plugins),z=y.next();!z.done;z=y.next())z.value.P7c(w.ZC,w.S);}catch(A){var B;B={error:A};}finally{try{z && !z.done && (x=y.return) && x.call(y);}finally{if(B)throw B.error;}}});this.events.on("deleted",function(w){var x;try{for(var y=d.__values(v.plugins),z=y.next();!z.done;z=y.next())z.value.Q7c(w.ZC);}catch(A){var B;B={error:A};}finally{try{z && !z.done && (x=y.return) && x.call(y);}finally{if(B)throw B.error;}}});}Object.defineProperties(q.prototype,{size:{get:function(){var u;return {uja:this.uja,T5:this.T5,bbd:this.oPb,G9c:null === (u=this.aq) || void 0 === u?void 0:u.size,mNb:this.mNb};},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{t4b:{get:function(){var u,v;u=Array.from(this.Yv.values());v=Array.from(this.XJ.values());return d.__spreadArray(d.__spreadArray([],d.__read(u),!1),d.__read(v),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mNb:{get:function(){var u,v;return this.T5 + (null !== (v=null === (u=this.aq) || void 0 === u?void 0:u.size) && void 0 !== v?v:0);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{T5:{get:function(){return this.oPb + this.uja;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oPb:{get:function(){return this.Yv.size;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{uja:{get:function(){return this.XJ.size;},enumerable:!1,configurable:!0}});q.prototype.ag=function(u){var v,w,x,y;v=this;x=Math.max(0,this.config.UAb - this.T5);if(!(0 >= x))if((u=u.map(function(z){return [v.Yo(z),z];}),u=(0,n.Co)(u,Array.from(this.Yv.keys()),function(z,B){return d.__read(z,1)[0] === B;}),u.length > x)){y=u.map(function(z){return d.__read(z,2)[1];}).sort(g.lXa).slice(0,x);null === (w=this.aq) || void 0 === w?void 0:w.ag(y);}else null === (y=this.aq) || void 0 === y?void 0:y.ag(u.map(function(z){return d.__read(z,2)[1];}));};q.prototype.Po=function(u){return this.vhb(u);};q.prototype.I9b=function(u){var v;if(null === (v=this.aq) || void 0 === v?0:v.aA(u))return (this.console.trace("Prefetch manifest found",{qwa:u.J}),this.aq.claim(u));};q.prototype.H_b=function(u,v,w,x){return d.__awaiter(this,void 0,void 0,function(){var y,z,B,A,C;return d.__generator(this,function(D){switch(D.label){case 0:return (D.tc.push([0,3,7,8]),[4,v]);case 1:return (z=D.T(),[4,z.entries.get(w.ps)]);case 2:return (B=D.T(),w.gC=B.gC,w.TO=B.ma,w.rwb=!!x(),y=B.S,[3,8]);case 3:A=D.T();if((0,n.Zoa)(A))throw (!1,A);this.console.error("Error fetching manifest",{izb:u,error:n.vU.cK(A)});C=x();if(!C)return [3,5];this.console.trace("Reusing manifest from error cache",{izb:u});return [4,C.S];case 4:return (y=D.T(),w.PPb=!0,[3,6]);case 5:throw A;case 6:return [3,8];case 7:return (w.kD(),c.platform.time && (y?(w.Oz.absolute=this.WJa(y),w.iyc()):w.Oz.absolute=0),this.cG.eca(w),[7]);case 8:return [2,y];}});});};q.prototype.Pcc=function(u,v,w){return d.__awaiter(this,void 0,void 0,function(){var x;return d.__generator(this,function(y){switch(y.label){case 0:(v.S=w,y.label=1);case 1:return (y.tc.push([1,3,,4]),[4,w]);case 2:return (x=y.T(),this.events.emit("manifestReceived",{type:"manifestReceived",ZC:v,S:x}),[3,4]);case 3:return (y.T(),this.gJc(u,v),[3,4]);case 4:return (this.cG.track(v),this.console.log("Created manifest Item",v),[2]);}});});};q.prototype.kic=function(u,v){var x,y,z,B,A;function w(){!z && x.TL.has(u) && (z || (z=x.TL.get(u)));return z;}x=this;B=this.djb.get({key:u,priority:null !== (y=v.priority) && void 0 !== y?y:0,required:!v.Sr,item:v,Av:function(){return !!w();}});A=new p.wBa({gC:!1,TO:0,Oz:{absolute:Infinity},ps:v,Vba:function(){x.console.trace("Promote to required",{key:u});B.value.mR();x.Yjb(0);}});v=this.H_b(u,B.value.item,A,w);this.Pcc(u,A,v).then(function(){z=void 0;});A.events.on("removed",function(){x.console.log("Removing manifest item",A);B.Rk.release();});A.events.on("expired",function(){return d.__awaiter(x,void 0,void 0,function(){return d.__generator(this,function(){this.console.log("In expiring manifest handler",A);A.zSa.value?B.Rk.release():A.zSa.addListener(function(){B.Rk.release();});this.events.emit("expired",{type:"expired",ZC:A});return [2];});});});return A;};q.prototype.gJc=function(u,v){var x,y,z,C;function w(F,G){var E,H;E=F.get(G);H=!1;E && (E.value === v && (y.console.log("Deleting manifest item due failure",v),F.delete(G),H=!0),E.Rk.release());return H;}y=this;w(this.Yv,u);w(this.XJ,u);z=this.XJ.Alc(u);if(z)try{for(var B=d.__values(z),A=B.next();!A.done;A=B.next()){C=A.value;w(this.XJ,C) && this.XJ.Tec(u,C);}}catch(F){var D;D={error:F};}finally{try{A && !A.done && (x=B.return) && x.call(B);}finally{if(D)throw D.error;}}this.TL.has(u,v) && (this.console.log("Deleting manifest from reuseOnErrorCache due to failure",v),this.TL.delete(u));};q.prototype.v4b=function(u){var w,x,y,z;function v(){u.RDb();w.events.emit("deleted",{type:"deleted",ZC:u});}w=this;z="none";u.gG || (!u.Ev && u.Sr?!this.config.TAb || (null === (x=this.aq) || void 0 === x?0:x.aA(u.ps)) || (z="addToDormant"):!u.Sr && u.aA && (z="reuseOnErrorCache"));this.console.log("allLeasesReturned to cache",{action:z,Rlb:u});switch(z){case "addToDormant":this.aq?null === (y=this.aq) || void 0 === y?void 0:y.CKc(u):this.cG.delete(u);break;case "reuseOnErrorCache":x=c.platform.time.now() + this.config.DKc;u.LIa(x);this.cG.track(u);x=this.Yo(u.ps);this.TL.delete(x);this.TL.Fxb(x,u);v();break;default:(this.cG.delete(u),v());}};q.prototype.vhb=function(u,v){var w,x,y;w=this;void 0 === v && (v=!1);x=this.Yo(u);this.console.trace("Acquiring lease for manifest",{qwa:u.J,JP:this.Yv.size,aXa:!!u.Sr,hta:u.priority});y=this.Yv.IPa(x,function(){var z;z=w.I9b(u);z || (z=w.kic(x,u),w.Yjb());if(z.Sr)z.events.on("promoted",function(){w.events.emit("activated",{type:"activated",ZC:z});});else w.events.emit("activated",{type:"activated",ZC:z});return {value:z,pL:function(){w.console.trace("Leases removed",{G$c:z.Cq,M:u.J});w.v4b(z);}};});if(y.value.Ev)if(v)this.console.error("Skipping Retry on an already expired manifest",{qwa:u.J});else return (this.BNa(x,r.Nvc),this.console.trace("Manifest Expired, releasing",{qwa:u.J}),y.Rk.release(),this.vhb(u,!0));u.Sr || y.value.Vba();return y;};q.prototype.Yjb=function(u){var v;void 0 === u && (u=1);u=Math.max(0,this.config.UAb - this.T5 - u - this.uja);null === (v=this.aq) || void 0 === v?void 0:v.Zjb(u);};q.prototype.BNa=function(u,v){var w,x;w=v === r.gG || v === r.pJc;x=this.Yv.BNb(this.XJ,u,("").concat(u,":").concat(this.Pic++));x && (this.console.debug("Expiring active manifest",{izb:u,gG:w,reason:r[v]}),x.LIa(0),w && (x.gG=!0),x.iCc());};q.prototype.flush=function(){var u,v;this.console.trace("Flush Called");null === (v=this.aq) || void 0 === v?void 0:v.clear();try{for(var w=d.__values(this.Yv.keys()),x=w.next();!x.done;x=w.next())this.BNa(x.value,r.gG);}catch(z){var y;y={error:z};}finally{try{x && !x.done && (u=w.return) && u.call(w);}finally{if(y)throw y.error;}}};q.prototype.getStats=function(){var u,v,y;v={};try{for(var w=d.__values(this.plugins),x=w.next();!x.done;x=w.next()){y=x.value;v[y.A9c]=y.L5c();}}catch(B){var z;z={error:B};}finally{try{x && !x.done && (u=w.return) && u.call(w);}finally{if(z)throw z.error;}}z=this.t4b.slice(0,5).map(function(B){return {viewableId:B.value.ps.J,stats:B.value.stats,lastAccessed:B.value.RSa,hasManifest:B.value.aA,isExpired:B.value.Ev};});return {manifestCount:this.Yv.size,totalManifestCount:this.size,playbackLeases:k.DDa.UVa,playbackCaches:k.DDa.TVa,activePending:Array.from(this.Yv.values()).filter(function(B){return !B.value.aA;}).length,expiredPending:Array.from(this.XJ.values()).filter(function(B){return !B.value.aA;}).length,throttler:this.djb.getStats(),plugins:v,top5Entries:z};};q.prototype.WJa=function(u){return (0,m.Dub)(u,this.config,this.iwb.value) + c.platform.time.now();};q.prototype.cIc=function(){d.__awaiter(this,void 0,void 0,function(){var u,v,w,x,y,z,B,A,C,D,F;return d.__generator(this,function(G){switch(G.label){case 0:(u=(null === (F=this.aq) || void 0 === F?void 0:F.values()) || [],v=Array.from(this.Yv.values()).map(function(E){return E.value;}),w=d.__spreadArray(d.__spreadArray([],d.__read(v),!1),d.__read(u),!1),G.label=1);case 1:(G.tc.push([1,6,7,8]),x=d.__values(w),y=x.next(),G.label=2);case 2:if(y.done)return [3,5];z=y.value;return !z.aA || isFinite(z.Oz.absolute)?[3,4]:[4,z.S];case 3:(B=G.T(),z.LIa(this.WJa(B)),this.cG.eca(z),G.label=4);case 4:return (y=x.next(),[3,2]);case 5:return [3,8];case 6:return (A=G.T(),C={error:A},[3,8]);case 7:try{y && !y.done && (D=x.return) && D.call(x);}finally{if(C)throw C.error;}return [7];case 8:return [2];}});});};return q;})();b.o$a=t;},37349:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Dub=void 0;b.Dub=function(a,d,n){var c,h,f;f=d.N7c;return n && (null === (h=null === (c=a.GH) || void 0 === c?void 0:c.iT) || void 0 === h?0:h.QC)?Infinity:d.dbd && void 0 !== a.lGb?a.lGb:1E3 * (f?f:a.pwb?900:7200);};},16659:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},2300:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.DDa=void 0;a(22970);d=a(66164);n=a(91176);c=a(91176);h=a(90745);f=0;t=(function(){function e(g,k,l){this.STa=g;this.Yo=k;this.id=f++;this.Woa=this.O1b=!1;this.events=new h.EventEmitter();this.console=(0,n.tf)(d.platform,l,("PLAYBACKMANIFESTCACHE [").concat(this.id,"]"));this.console.trace("Creating this instance");this.Bba=new c.wga(this.console,"playback-manifest-cache");}e.prototype.PIc=function(){this.Woa || (this.Woa=!0,e.TVa++);};e.prototype.ZNb=function(){this.Woa && (this.Woa=!1,e.TVa--);};Object.defineProperties(e.prototype,{size:{get:function(){return this.Bba.size;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{GEc:{get:function(){return Array.from(this.Bba.values()).filter(function(g){return !g.value.S.aA;}).length;},enumerable:!1,configurable:!0}});e.prototype.Po=function(g){var k,l,m;k=this;l=g.J;m=this.Yo(g);return this.Bba.IPa(m,function(){var p;k.console.trace("Getting manifest",{J:l,MBb:m});k.O1b && g.Sr && (g.Sr=!1);p=k.STa.Po(g);p.value.S.then(function(){k.console.trace("Manifest received",{J:l,MBb:m});},function(r){k.console.trace("Manifest error received",{error:r});});e.UVa++;k.PIc();return {value:{S:p.value},pL:function(){p.Rk.release();k.events.emit("itemRemoved",{type:"itemRemoved",item:p.value});k.console.trace("Releasing manifest",{J:l,MBb:m,S7c:k.Bba.size,v2c:p});e.UVa--;0 === k.size && k.ZNb();}};});};e.prototype.tt=function(){var g;this.console.trace("Destroying");null === (g=this.Bba) || void 0 === g?void 0:g.clear();this.ZNb();};e.UVa=0;e.TVa=0;return e;})();b.DDa=t;},57042:function(t,b){var a,d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.TDc=function(h){var f,e,g,k;f=h.read(5);e=h.read(4);if(15 === e){g=h.read(24);e=a.indexOf(g);}else g=a[e];k=h.read(4);switch(f){case d:case n:case c:if(h.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + f + " not supported.");}return {Vu:f,sampleRate:g,kua:e,L2c:k,Mkc:1024};};a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];d=1;n=2;c=4;},79602:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.TGc=function(n,c,h){var f,e;f=n.read(1);if(f){e=new d.C8a(n,f,c);1 === n.read(2) && n.advance(e.l_ * e.Baa);}(0,d.zGb)(n,c,e,h);(0,d.zGb)(n,c,e,h);};d=a(50539);},48387:function(t,b,a){var d,n;b.w=function(c,h,f,e){var g;g=new d.qfa(c);e=e && e.kua;h=(0,n.VGc)(g,{vF:h,KS:f},e);g=g.offset;return {frame:c.subarray(0,g),SVa:g,hbd:h};};d=a(5641);n=a(67038);},30109:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.UGc=function(a,d,n){15 === d && (d+=a.read(8) - 1);0 < d && 1 !== n.vF && !n.KS?(a.write(4,0),a.advance(8 * d - 4)):a.advance(8 * d);};},67038:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.VGc=function(c,h,f){var e,g,k;if(4095 === c.read(12)){c.advance(3);e=!!c.read(1);g=c.read(2) + 1;f=c.read(4);c.advance(8);k=c.read(13);c.advance(13 + (e?0:16));e={Vu:g,kua:f,Mkc:k};}else c.reverse(12);(0,d.assert)(void 0 !== f);(0,n.cHc)(c,f,h);return e;};d=a(87606);n=a(970);},27912:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.x7a=b.o7a=b.n7a=b.w7a=b.v7a=b.u7a=b.t7a=b.s7a=b.r7a=b.q7a=b.p7a=b.m7a=void 0;b.m7a={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.p7a={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.q7a={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.r7a={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.s7a={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.t7a={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.u7a={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.v7a={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.w7a={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.n7a={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.o7a={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.x7a={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},77737:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.kga=void 0;d=a(27912);n=[d.m7a,d.p7a,d.q7a,d.r7a,d.s7a,d.t7a,d.u7a,d.v7a,d.w7a,d.n7a,d.o7a];c=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.kga=(function(){function h(){}h.nsb=function(f,e){var g,p,r;g=e.table;e=e.width;for(var k=0,l=g[0],m=f.read(l);m !== g[k + 1];){k+=e;p=g[k];r=p - l;l=p;m<<=r;m|=f.read(r);}return k;};h.lLb=function(f){for(var e=4;f.read(1);)++e;f.advance(e);};h.nLb=function(f,e){for(;e--;)h.nsb(f,d.x7a);};h.mOc=function(f,e){var g,k;g=n[e - 1];k=g.table;g=this.nsb(f,g);if(11 > e)c[e - 1] && (e=k[g + 2]) && f.advance(e);else if(11 === e || 15 < e)(g+=2,(e=k[g]) && f.advance(e),(k=k[g + 1]) && this.lLb(f),1 < k && this.lLb(f));else throw Error("Huffman: unknown spectral codebook: " + e);};return h;})();},50539:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r;Object.defineProperty(b,"__esModule",{value:!0});b.C8a=void 0;b.zGb=function(q,u,v,w){var x,y,z;x=q.read(8);w=Math.max(0,Math.ceil(x + 4 * Math.log(Math.pow(10,w.vF / 20)) / Math.log(2)));q.reverse(8);q.write(8,w);v || (v=new r(q,0,u));x=v;y=x.a2a === h?3:5;z=(1 << y) - 1;u=[];w=[];for(var B=[],A=0;A < x.l_;++A){for(var C=0,D=0;C < x.Baa;){for(var F=q.read(4),G=0,E;(E=q.read(y)) === z;)G+=E;G+=E;C+=G;u.push(F);w.push(G);++D;}B.push(D);}x=!0;for(y=0;y < u.length;++y)u[y] !== f && (u[y] === g && x?(q.advance(9),x=!1,n.kga.nLb(q,w[y] - 1)):n.kga.nLb(q,w[y]));q.read(1) && q.advance(6 + 9 * (q.read(2) + 1));if(q.read(1))for((x=v,y=2 === x.a2a?m:p,z=0);z < x.vDb;++z)if(B=q.read(y[0]))for((A=q.read(1),C=0);C < B;++C)if((q.advance(y[1]),D=q.read(y[2])))(q.advance(1),F=q.read(1),q.advance(D * (A + 3 - F)));(0,d.assert)(!q.read(1));x=v.l_;y=v.Baa;z=v.FMb;v=v.wwa;for(A=B=0;A < x;++A)for((C=v[A],D=0);D < y;++B)if((F=u[B],G=w[B],F === f || F === g || F === l || F === k))D+=G;else {E=F >= e?2:4;for(var H=0;H < G;(++H,++D))for(var J=C * (z[D + 1] - z[D]) / E,L=0;L < J;++L)n.kga.mOc(q,F);}};d=a(87606);n=a(77737);c=a(96103);h=2;f=0;e=5;g=13;k=14;l=15;m=[1,4,3];p=[2,6,5];r=(function(){return function(q,u,v){var w;this.wwa=[];this.l_=1;this.wwa[0]=1;q.advance(1);this.a2a=q.read(2);q.read(1);if(this.a2a === h){this.vDb=8;this.Baa=q.read(4);for(u=0;7 > u;++u)q.read(1)?this.wwa[this.l_ - 1]++:(this.l_++,this.wwa[this.l_ - 1]=1);this.FMb=c.beb[v];}else {this.vDb=1;this.Baa=q.read(6);if(q.read(1)){w=14 + Math.min(this.Baa,40);q.read(1) && q.advance(w);u && q.read(1) && q.advance(w);}this.FMb=c.aeb[v];}};})();b.C8a=r;},970:function(t,b,a){var d,n,c,h,f;Object.defineProperty(b,"__esModule",{value:!0});b.cHc=function(e,g,k){var m;for(var l;(l=e.read(3)) !== f;){m=e.read(4);switch(l){case c:(0,d.TGc)(e,g,k);break;case h:(0,n.UGc)(e,m,k);break;default:throw Error(("Unsupported AAC element ").concat(l));}}e.u7b();};d=a(79602);n=a(30109);c=1;h=6;f=7;},96103:function(t,b){var a,d,n,c,h,f,e,g,k,l,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.IYb=b.RUb=b.JYb=b.hZb=b.iZb=b.beb=b.aeb=void 0;t=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);n=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);h=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);e=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);g=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);k=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);l=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);m=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);p=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.aeb=[t,t,d,c,c,f,e,e,k,k,k,m];b.beb=[a,a,n,h,h,h,g,g,l,l,l,p];b.iZb=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.hZb=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.JYb=(function(){for(var r=new Float32Array(428),q=0;428 > q;q++)r[q]=Math.pow(2,(q - 200) / 4);return r;})();b.RUb=(function(){for(var r=new Float32Array(8191),q=4 / 3,u=0;8191 > u;u++)r[u]=Math.pow(u,q);return r;})();b.IYb=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},87606:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.assert=function(c,h){if(!c)throw new n(h || "Assertion failed");};d=a(22970);n=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);return h;})(Error);},5641:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qfa=void 0;t=(function(){function a(d){this.data=d;this.Ww=this.Wc=this.fe=0;this.view=new DataView(d.buffer,d.byteOffset,d.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Wc;},enumerable:!1,configurable:!0});a.prototype.read=function(d){if(0 === this.fe){if(8 === d)return this.data[this.Wc++];if(16 === d)return (d=this.view.getUint16(this.Wc),this.Wc+=2,d);if(32 === d)return (d=this.view.getUint32(this.Wc),this.Wc+=4,d);}for(;this.fe < d;)(this.Ww=(this.Ww << 8) + this.data[this.Wc++],this.fe+=8);this.fe-=d;return this.Ww >>> this.fe & (1 << d) - 1;};a.prototype.advance=function(d){var n;if(d <= this.fe)this.fe-=d;else {d-=this.fe;n=Math.floor(d / 8);this.Wc+=n;this.Ww=this.data[this.Wc++];this.fe=8 - (d - 8 * n);}};a.prototype.write=function(d,n){var c,h;n&=(1 << d) - 1;if(0 === this.fe){if(8 === d){this.data[this.Wc++]=n;return;}if(16 === d){this.view.setUint16(this.Wc,n);this.Wc+=2;return;}if(32 === d){this.view.setUint32(this.Wc,n);this.Wc+=4;return;}}if(0 < this.fe){c=Math.min(d,this.fe);h=this.data[this.Wc - 1] & (~((1 << this.fe) - 1) ^ (1 << this.fe - c) - 1);this.data[this.Wc - 1]=h ^ (d >= c?n >>> d - c:n << this.fe - c);this.fe-=c;d-=c;}for(;8 <= d;)(d-=8,this.data[this.Wc++]=n >>> d & 255);0 < d && (this.fe=8 - d,h=this.data[this.Wc] & (1 << this.fe) - 1,this.Ww=this.data[this.Wc++]=h ^ (n & (1 << d) - 1) << 8 - d);};a.prototype.reverse=function(d){0 !== this.fe && d <= 8 - this.fe?this.fe+=d:(0 !== this.fe && (d-=8 - this.fe,--this.Wc),this.Wc-=Math.floor(d / 8),this.Ww=this.data[this.Wc - 1],this.fe=d % 8);};a.prototype.u7b=function(){0 !== this.fe && (this.fe=0);};return a;})();b.qfa=t;},25154:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.Sbc=function(d,n){void 0 === n && (n=0);n=~~n;for(var c=0;c < d.length;c++)n=(a[(n >> 8 ^ d[c]) & 255] ^ n << 8) & 65535;return n;};a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);},10543:function(t,b,a){var d,n;b.w=function(c,h,f){var e;e=new d.qfa(c);h=(0,n.X4b)(e,h,null === f || void 0 === f?void 0:f.oR).Okc;c=c.subarray(0,h);(0,n.gNc)(c);return {frame:c,SVa:h};};d=a(5641);n=a(75719);},75719:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.X4b=function(c,h,f){var e,g;e=c.read(16);(0,d.assert)(2935 === e);e=2 * ((c.read(16) & 2047) + 1);c.advance(13);g=c.read(5);c.reverse(5);f && (h*=-g / f);c.write(5,Math.min(31,Math.max(1,Math.floor(g + h))));return {Okc:e};};b.gNc=function(c){var h;h=(0,n.Sbc)(c.subarray(2,c.length - 2));c[c.length - 2]=h >> 8;c[c.length - 1]=h & 255;};d=a(87606);n=a(25154);},71210:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});b.ejc=function(){var g,k,l,m;for(var f=[],e=0;e < arguments.length;e++)f[e]=arguments[e];g="string" === typeof f[0]?{xd:f[0],frame:f[1],vF:f[2],m$b:f[3],oR:f[4]}:f[0];k=g.xd;f=g.frame;e=g.vF;l=g.m$b;m=g.oR;g=g.KS;g=void 0 === g?!1:g;switch(k){case "aac":void 0 === c && (c=a(48387).w);k=6;l && (l=new d.qfa(l),k=(0,n.TDc)(l).kua);f=c(f,e,g,{kua:k}).SVa;break;case "ddp":void 0 === h && (h=a(10543).w);f=h(f,e,{oR:m}).SVa;break;case "xheaac":f=f.length;break;default:throw Error("Unrecognized codec in fadeFrame: " + k);}return {Nkc:f};};d=a(5641);n=a(57042);},81969:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(22970).__exportStar(a(71210),b);},66988:function(t,b){var a,d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.KO=void 0;t={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Oua:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Oua:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};d={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Oua:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};n={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Oua:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.KO={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":d,"ddplus-5.1hq-dash":d,"ddplus-2.0-dash":n},reset:{"heaac-2-dash":t,"heaac-2hq-dash":t},"heaac-2-dash":t,"heaac-2-dash-alt":a,"ddplus-5.1-dash":d,"ddplus-2.0-dash":n};},40755:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.d6a=b.j2a=void 0;d=a(22970);t=(function(n){function c(){var h;h=null !== n && n.apply(this,arguments) || this;h.ZP=1536;return h;}d.__extends(c,n);c.qd=!0;return c;})(a(70428).default);b["default"]=t;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.oe="ac-3";return c;})(t);b.j2a=a;t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.oe="ec-3";return c;})(t);b.d6a=t;},26856:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){this.Vkc=this.N.cb(2);this.U6b=this.N.cb(5);this.V6b=this.N.cb(3);this.M2b=this.N.cb(3);this.N.cb(1);this.N.cb(5);this.N.cb(5);return !0;};c.oe="dac3";return c;})(a(72905).pf);b["default"]=t;},56226:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(93334);t=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.parse=function(f){var e,g;this.N.cb(1);this.N.cb(7);this.WJb=this.N.cb(3);this.VJb=this.N.cb(5);this.XJb=this.N.cb(1);this.Mwb=this.N.cb(1);this.TNb=this.N.cb(1);this.sCb=this.N.cb(1);this.Lmb=this.N.cb(1);this.Mmb=this.N.cb(1);this.Kmb=this.N.cb(2);this.N.cb(3);(this.LRa=this.N.cb(1))?this.vxb=this.N.cb(4):this.N.cb(4);if(null === f || void 0 === f?0:f.Vg){for(var k=void 0,l=this.parent;l;){k=null === (g=null === (e=l.Dm("tkhd")) || void 0 === e?void 0:e.Kc) || void 0 === g?void 0:g.trackId;if(void 0 !== k)break;l=l.parent;}(0,n.assert)(void 0 !== k,"trackId is undefined");f.Vg[k].e2c={WJb:this.WJb,VJb:this.VJb,XJb:this.XJb,Mwb:this.Mwb,TNb:this.TNb,sCb:this.sCb,Lmb:this.Lmb,Mmb:this.Mmb,Kmb:this.Kmb,LRa:this.LRa,vxb:this.vxb};}return !0;};h.oe="av1C";return h;})(a(72905).pf);b["default"]=t;},18319:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(93334);t=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.parse=function(f){var e,g,k;this.O$b=this.N.rd();this.PQb=this.N.rd();this.N.rd();this.N.rd();this.Qvc=this.N.rd() & 3;this.Wua=this.xHa(this.N.rd() & 31);this.cGb=this.xHa(this.N.rd());this.Z_=this.Wua.length?this.Wua[0][1]:this.PQb;this.jib=this.N.offset;this.startOffset + this.length < this.N.offset && (100 === this.Z_ || 110 === this.Z_ || 122 === this.Z_ || 144 === this.Z_) && (this.N.rd(),this.N.rd(),this.xHa(this.N.rd()));k=this.startOffset + this.length - this.jib;0 < k && this.zq(k,this.jib);if(null === f || void 0 === f?0:f.Vg){k=void 0;for(var l=this.parent;l;){k=null === (g=null === (e=l.Dm("tkhd")) || void 0 === e?void 0:e.Kc) || void 0 === g?void 0:g.trackId;if(void 0 !== k)break;l=l.parent;}(0,n.assert)(void 0 !== k,"trackId is undefined");f.Vg[k].g2c={Wua:this.Wua,cGb:this.cGb,Z_:this.Z_};}return !0;};h.prototype.xHa=function(f){var k;for(var e=[],g=0;g < f;++g){k=this.N.$f();e.push(this.N.rS(k));}return e;};h.oe="avcC";h.qd=!1;return h;})(a(72905).pf);b["default"]=t;},70428:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(72905);t=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.parse=function(f){var e;e=c.prototype.parse.call(this,f);this.N.offset+=8;this.lKa=this.N.$f();this.QYa=this.N.$f();this.N.offset+=4;this.samplerate=this.N.$f();this.N.offset+=2;n.l && this.N.console.trace("MP4AudioSampleEntry: channelcount: " + this.lKa + ", samplesize: " + this.QYa + ", samplerate: " + this.samplerate);if(null === f || void 0 === f?0:f.yf)(f.yf.lKa=this.lKa,f.yf.QYa=this.QYa,f.yf.samplerate=this.samplerate);return e;};h.qd=!1;return h;})(a(71724).default);b["default"]=t;},29973:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){this.Kc=this.ED([{t2c:"int32"},{maxBitrate:"int32"},{uka:"int32"}]);return !0;};c.oe="btrt";c.qd=!1;return c;})(a(72905).pf);b["default"]=t;},72905:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.pf=b.l=void 0;d=a(93334);b.l=!1;t=(function(){function n(c,h,f,e,g){this.uc=c;this.type=h;this.byteOffset=f;this.byteLength=e;this.parent=g;this.Fe={};this.OR=e;}n.eG=function(c,h){var e,k;function f(l){l && l.eG && (l=l.eG(h),l.length && (e=e.concat(l)));}e=[];c.type === h && e.push(c);if(c.Fe)for(var g in c.Fe){k=c.Fe[g];Array.isArray(k) && k.forEach(f);}return e;};n.Y5=function(c,h){void 0 === c.Fe[h.type] && (c.Fe[h.type]=[]);c.Fe[h.type].push(h);};n.Dm=function(c,h){return n.eG(c,h)[0];};Object.defineProperties(n.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{length:{get:function(){return this.byteLength;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{N:{get:function(){return this.uc;},enumerable:!1,configurable:!0}});n.prototype.Oh=function(){var c;c=this.uc.Yb();this.version=c >> 24;this.flags=c & 16777215;};n.prototype.Y5=function(c){n.Y5(this,c);};n.prototype.eG=function(c){return n.eG(this,c);};n.prototype.Dm=function(c){return n.Dm(this,c);};n.prototype.parse=function(){return !0;};n.prototype.dG=function(){return !0;};n.prototype.Hs=function(c){if((c=this.Fe[c]) && Array.isArray(c) && 1 === c.length)return c[0];};n.prototype.zq=function(c,h){h=void 0 === h?this.uc.offset:h;(0,d.assert)(h >= this.startOffset + 8 && h + c <= this.startOffset + this.OR,"Removal range [0x" + h.toString(16) + "-0x" + (h + c).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.OR).toString(16) + ")");this.uc.zq(c,h,this);};n.prototype.Ota=function(c,h,f){f=void 0 === f?this.uc.offset:f;(0,d.assert)(f >= this.startOffset + 8 && f + c <= this.startOffset + this.OR,"Removal range [0x" + f.toString(16) + "-0x" + (f + c).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.OR).toString(16) + ")");this.uc.Ota(c,h,f,this);};n.prototype.lHb=function(c,h,f){if(1 < f){for(var e=[];0 < f--;)e.push(this.oib(c,h));return e;}return this.oib(c,h);};n.prototype.ED=function(c){var h,f;f=this;void 0 === h && (h={});c.forEach(function(e){var g,k;if("offset" === e.type){g=e.offset;if(0 < g % 8)throw Error("Requested offset " + e.offset + "is not an even byte multiple");f.uc.offset+=g / 8;}else for(g in e){k=e[g];h[g]="string" === typeof k?f.lHb(k):f.lHb(k.type,k.length,k.e5b);}});return h;};n.prototype.oib=function(c,h){var f;f=this.byteLength - this.uc.offset + this.startOffset;"undefined" === typeof h && (h=f);switch(c){case "int8":c=this.uc.rd();break;case "int64":c=this.uc.Ll();break;case "int32":c=this.uc.Yb();break;case "int16":c=this.uc.$f();break;case "string":c=this.uc.MXa(Math.min(h,f));break;default:throw Error("Invalid type: " + c);}return c;};n.qd=!1;return n;})();b.pf=t;},53158:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(93334);t=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.parse=function(f){var e,g,k,l,m,p;if("nclx" === this.N.WA()){k=this.N.$f();l=this.N.$f();m=this.N.$f();p=this.N.cb(1);this.N.cb(7);this.rnb={X2c:k,Qad:l,V7c:m,h5c:p};}if(null === f || void 0 === f?0:f.Vg){k=void 0;for(l=this.parent;l;){k=null === (g=null === (e=l.Dm("tkhd")) || void 0 === e?void 0:e.Kc) || void 0 === g?void 0:g.trackId;if(void 0 !== k)break;l=l.parent;}(0,n.assert)(void 0 !== k,"Failed to find trackId in track hierarchy");f=f.Vg[k];if(!f)return !0;f.rnb=this.rnb;}return !0;};h.oe="colr";return h;})(a(72905).pf);b["default"]=t;},29043:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(h){var f,e,g;f=this.N.offset;e=this.N.$f();this.kpb=e >> 3;this.lBc=e & 7;this.VPc=[];for(e=0;e <= this.lBc;e++){g={Vkc:this.N.cb(2),U6b:this.N.cb(5),V6b:this.N.cb(5),M2b:this.N.cb(3),s7c:this.N.cb(1),rIb:this.N.cb(3),kBc:this.N.cb(4)};0 < g.kBc?g.K2c=this.N.cb(9):this.N.cb(1);this.VPc.push(g);}h && h.yqb && (h.yqb.kpb=this.kpb,2 <= this.byteLength - (this.N.offset - f) && (this.N.cb(7),f=this.N.cb(1),h.yqb.W1c=1 === f));return !0;};c.oe="dec3";return c;})(a(72905).pf);b["default"]=t;},96345:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(47887);t=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.parse=function(f){this.Oh();this.BTb=n.$ya.fHb(this.N,f);return !0;};h.oe="esds";h.qd=!1;return h;})(a(72905).pf);b["default"]=t;},96989:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(h){var f,e,g,k,l,m,p;l=null === (k=null === (g=null === (e=null === (f=this.parent) || void 0 === f?void 0:f.parent) || void 0 === e?void 0:e.Dm("tkhd")) || void 0 === g?void 0:g.Kc) || void 0 === k?void 0:k.trackId;if("undefined" === typeof l)return !0;this.Oh();f=this.N.Yb();this.Z7=[];for(e=0;e < f;e++){g=1 === this.version?this.N.Ll():this.N.Yb();k=1 === this.version?this.N.Ll():this.N.Yb();m=this.N.$f();p=this.N.$f();this.Z7.push({A$c:g,$yc:k,n8c:m,m8c:p});}if(null === h || void 0 === h || !h.Vg || !h.Vg[l])return !0;h.Vg[l].Z7=this.Z7;return !0;};c.oe="elst";c.qd=!1;return c;})(a(72905).pf);b["default"]=t;},98776:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){return !0;};c.oe="emeb";c.qd=!1;return c;})(a(72905).pf);b["default"]=t;},29770:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(h,f,e,g,k){return n.call(this,h,f,e,g,k) || this;}d.__extends(c,n);c.prototype.parse=function(){this.Oh();this.N.Yb();this.qGc=this.N.kHb();this.VX=this.N.Yb();4294967295 === this.VX && (this.VX=Infinity);this.id=this.N.Yb();this.WL=this.N.MXa();this.value=this.N.MXa();this.VG=new Uint8Array(this.N.b0(this.length - (this.N.offset - this.startOffset)));return !0;};c.oe="emib";c.qd=!1;return c;})(a(72905).pf);b["default"]=t;},23471:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(h){n.prototype.parse.call(this,h);return !0;};c.oe="evte";c.qd=!0;return c;})(a(99520).default);b["default"]=t;},19234:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){this.N.WA();this.N.WA();for(this.OKa=[];this.N.offset <= this.byteOffset + this.byteLength - 4;)this.OKa.push(this.N.WA());return !0;};c.oe="ftyp";c.qd=!1;return c;})(a(72905).pf);b["default"]=t;},89362:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(h){this.Ydc=this.N.WA();h && h.yf && (h.yf.TKc=this.Ydc);return !0;};c.oe="frma";return c;})(a(72905).pf);b["default"]=t;},28721:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(32296);t=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.parse=function(f){var e,g,k,l,m;this.Oh();this.Kc=this.ED([{D9c:"int32"},{LQa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Kc.LQa=(0,n.HI)(this.Kc.LQa);if(f && f.Vg){m=null === (l=null === (k=null === (g=null === (e=this.parent) || void 0 === e?void 0:e.parent) || void 0 === g?void 0:g.Dm("tkhd")) || void 0 === k?void 0:k.Kc) || void 0 === l?void 0:l.trackId;"number" === typeof m && f.Vg[m] && (f.Vg[m].JC=this.Kc.LQa);}return !0;};h.oe="hdlr";h.qd=!1;return h;})(a(72905).pf);b["default"]=t;},87206:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(93334);t=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.parse=function(f){var e,g,p;this.P$b=this.N.cb(8);this.blc=this.N.cb(2);this.clc=this.N.cb(1);this.alc=this.N.cb(5);this.$kc=this.N.cb(32);this.Ykc=this.N.cb(48);this.Zkc=this.N.cb(8);this.N.cb(4);this.Fzc=this.N.cb(12);this.N.cb(6);this.PDc=this.N.cb(2);this.N.cb(6);this.z9b=this.N.cb(2);this.N.cb(5);this.E6b=this.N.cb(3);this.N.cb(5);this.D6b=this.N.cb(3);this.g6b=this.N.cb(16);this.U$b=this.N.cb(2);this.jBc=this.N.cb(3);this.JQc=this.N.cb(1);this.Rvc=this.N.cb(2);if(null === f || void 0 === f?0:f.Vg){for(var k=void 0,l=this.parent;l;){k=null === (g=null === (e=l.Dm("tkhd")) || void 0 === e?void 0:e.Kc) || void 0 === g?void 0:g.trackId;if(void 0 !== k)break;l=l.parent;}(0,n.assert)(void 0 !== k,"trackId is undefined");f=f.Vg[k];f.ux={O$b:this.P$b,o5c:this.blc,p5c:this.clc,n5c:this.alc,m5c:this.$kc,k5c:this.Ykc,l5c:this.Zkc,F8c:this.Fzc,n9c:this.PDc,N2c:this.z9b,n2c:this.E6b,m2c:this.D6b,j2c:this.g6b,c3c:this.U$b,Y8c:this.jBc,qad:this.JQc,Qvc:this.Rvc};e=this.N.cb(8);for(g=0;g < e;g++){this.N.cb(1);this.N.cb(1);k=this.N.cb(6);l=this.N.cb(16);for(var m=0;m < l;m++){p=this.N.cb(16);p=this.N.rS(p);switch(k){case 32:f.ux.yPb || (f.ux.yPb=[]);f.ux.yPb.push(p);break;case 33:f.ux.YJb || (f.ux.YJb=[]);f.ux.YJb.push(p);break;case 34:f.ux.qFb || (f.ux.qFb=[]);f.ux.qFb.push(p);break;case 39:case 40:(f.ux.xMb || (f.ux.xMb=[]),f.ux.xMb.push(p));}}}}return !0;};h.oe="hvcC";return h;})(a(72905).pf);b["default"]=t;},97066:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(93334);t=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.dG=function(){var f;f=this.Dm("esds");if(f=f && f.BTb.Dm(5))((0,n.assert)(this.samplerate),this.ZP=f.ZP * this.samplerate / f.jua);return !0;};h.oe="mp4a";h.qd=!0;return h;})(a(70428).default);b["default"]=t;},99520:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(h){n.prototype.parse.call(this,h);return !0;};return c;})(a(71724).default);b["default"]=t;},56122:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},71368:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){this.Oh();this.Kc=1 === this.version?this.ED([{creationTime:"int64"},{modificationTime:"int64"},{P:"int32"},{duration:"int64"}]):this.ED([{creationTime:"int32"},{modificationTime:"int32"},{P:"int32"},{duration:"int32"}]);return !0;};c.oe="mvhd";c.qd=!1;return c;})(a(72905).pf);b["default"]=t;},16530:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.qd=!1;return c;})(a(72905).pf);b["default"]=t;},45645:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){this.Oh();this.Kc=this.ED(1 === this.version?[{YP:"int64"}]:[{YP:"int32"}]);return !0;};c.oe="mehd";c.qd=!1;return c;})(a(72905).pf);b["default"]=t;},31025:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(75589);a=a(72905);n=t.gCa;a=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.parse=function(){this.Oh();this.Kc=this.ED([{Vx:"int32"},{fv:"int16"}]);return !0;};h.oe=n;h.qd=!1;return h;})(a.pf);b["default"]=a;},91056:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(75589);t=a(72905);c=n.hCa;t=(function(h){function f(){return null !== h && h.apply(this,arguments) || this;}d.__extends(f,h);f.prototype.parse=function(){this.Oh();this.fileSize=this.N.Ll();this.P=this.N.Ll();this.duration=this.N.Ll(!1,!0);this.EBc=this.N.Ll();this.N.Ll();this.IBc=this.N.Ll();this.JAc=this.N.Yb();this.FBc=this.N.Ll();this.lkc=this.N.Yb();this.N.Cta();this.lp={moof:{offset:this.EBc},sidx:{offset:this.FBc,size:this.lkc}};this.lp[n.kab]={offset:this.IBc,size:this.JAc};this.N.offset - this.startOffset <= this.length - 24 && (this.HBc=this.N.Ll(),this.kAc=this.N.Yb(),this.GBc=this.N.Ll(),this.jAc=this.N.Yb(),this.lp[n.Mga]={offset:this.HBc,size:this.kAc},this.lp[n.Lga]={offset:this.GBc,size:this.jAc});return !0;};f.oe=c;f.qd=!1;return f;})(t.pf);b["default"]=t;},64280:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(75589);a=a(72905);n=t.iCa;a=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.parse=function(){var f,k,l;this.Oh();1 <= this.version && this.N.Cta();f=this.N.Yb();this.lp={};for(var e=this.startOffset + this.length,g=0;g < f;++g){k=this.N.WA();"uuid" === k && (k=this.N.Cta());l=this.N.Ll();this.lp[k]={offset:e,size:l};e+=l;}return !0;};h.oe=n;h.qd=!1;return h;})(a.pf);b["default"]=a;},35503:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(h){this.Kc=this.ED([{Trc:"int32"},{TTc:"int32"}]);if(null === h || void 0 === h?0:h.yf)(h.yf.V5c=this.Kc.Trc,h.yf.mbd=this.Kc.TTc);return !0;};c.oe="pasp";c.qd=!1;return c;})(a(72905).pf);b["default"]=t;},84379:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(75589);c=a(49420);h=a(70428);t=a(72905);f=a(41192);a=(function(e){function g(){return null !== e && e.apply(this,arguments) || this;}d.__extends(g,e);g.prototype.parse=function(){this.Oh();this.JP=this.N.Yb();return !0;};g.prototype.dG=function(k){var l;l=Object.keys(this.Fe);l.length && (l=l[0],this.Fe[l].length && (l=this.Fe[l][0],l instanceof h.default?this.Fa=new c.I(l.ZP,l.samplerate):l instanceof f.default && (l=l.Fe[n.gCa]) && l.length && (l=l[0].Kc,1E3 !== l.fv && 1001 !== l.fv || 0 !== l.Vx % 1E3?this.N.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + l.Vx + "/" + l.fv):this.Fa=new c.I(l.fv,l.Vx)),k && this.Fa && (k.Fa=this.Fa)));return !0;};g.prototype.UHb=function(k){void 0 !== this.Fe[k] && 0 !== this.Fe[k].length && (this.uc.kn(this.JP - 1,this.byteOffset + 12),k=this.Fe[k][0],this.zq(k.byteLength,k.byteOffset));};g.oe="stsd";g.qd=!0;return g;})(t.pf);b["default"]=a;},71724:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(72905);n=a(72905);a=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.parse=function(f){this.N.offset+=6;this.N.$f();n.l && this.N.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === f || void 0 === f?0:f.yf)f.yf.TKc=this.type;return !0;};return h;})(t.pf);b["default"]=a;},41116:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(72905);t=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.parse=function(f){this.Oh();this.$Ya=this.N.WA();n.l && this.N.console.trace("SchemeTypeBoxTranslator: " + this.$Ya);if("cenc" === this.$Ya){if((this.N.offset-=4,n.l && this.N.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.N.offset),this.uc.c2a("piff"),null === f || void 0 === f?0:f.yf))f.yf.cic="piff";}else if(null === f || void 0 === f?0:f.yf)f.yf.cic=this.$Ya;this.N.Yb();return !0;};h.oe="schm";h.qd=!1;return h;})(n.pf);b["default"]=t;},95797:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(26388);c=a(49420);t=(function(h){function f(){return null !== h && h.apply(this,arguments) || this;}d.__extends(f,h);f.prototype.dG=function(e){var g;if(e && e.Fa && !e.jDc && e.mediaType === n.v.X){g=this.Hs("mdia");g && (g=g.Hs("mdhd")) && g.P !== e.Fa.P && (e.Fa=new c.I(e.Fa).Vc(g.P));}return !0;};f.oe="trak";f.qd=!0;return f;})(a(72905).pf);b["default"]=t;},30717:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(h){var f,e,g,k,l;this.Oh();f=this.ED([{x1:"int32"},{fMa:"int32"},{tC:"int32"},{uC:"int32"},{QF:"int32"}]);e=f.x1;g=f.fMa;k=f.tC;l=f.QF;f=f.uC;this.Kc={trackId:e,D3c:g,Jla:k,E3c:l,F3c:f};(null === h || void 0 === h?0:h.Vg) && h.Vg[e] && (h.Vg[e].fMa=g,h.Vg[e].tC=k,h.Vg[e].QF=l,h.Vg[e].uC=f);this.x1=e;this.fMa=g;this.tC=k;this.uC=f;this.QF=l;return !0;};c.oe="trex";c.qd=!1;return c;})(a(72905).pf);b["default"]=t;},85571:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(h){var f;this.Oh();f=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];f=f.concat({offset:64,type:"offset"},{p7c:"int16"},{K1c:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Kc=this.ED(f);this.Kc.Kad=!!(this.flags & 1);this.Kc.Lad=!!(this.flags & 2);this.Kc.Mad=!!(this.flags & 4);this.Kc.Nad=!!(this.flags & 8);if(null === h || void 0 === h?0:h.yf)(h.yf.width=this.Kc.width / 65536,h.yf.height=this.Kc.height / 65536);h && h.Vg && (h.Vg[this.Kc.trackId]={});return !0;};c.oe="tkhd";c.qd=!1;return c;})(a(72905).pf);b["default"]=t;},70179:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.K4=void 0;d=a(22970);n=a(81969);c=a(93334);h=a(66988);t=(function(f){function e(g,k,l,m,p){g=f.call(this,g,k,l,m,p) || this;g.ima=!1;return g;}d.__extends(e,f);e.dJb=function(g){return (g & 50331648) >>> 24;};e.eJb=function(g){return !!((g & 65536) >>> 16);};Object.defineProperties(e.prototype,{jpb:{get:function(){return !!(this.flags & 1);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{D8:{get:function(){return !!(this.flags & 4);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{B0:{get:function(){return !!(this.flags & 256);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{C0:{get:function(){return !!(this.flags & 512);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{iua:{get:function(){return !!(this.flags & 1024);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{gua:{get:function(){return !!(this.flags & 2048);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{hkc:{get:function(){return this.gua?(this.N.offset=this.Qz + this.VL - 4,0 === this.version?this.N.Yb():this.N.$ba()):0;},enumerable:!1,configurable:!0}});e.prototype.parse=function(g){var k,l,m;this.Oh();this.CJa=this.N.offset;this.Gd=this.N.Yb();this.Lk=this.jpb?this.N.$ba():0;this.cOa=this.D8?this.N.Yb():void 0;this.VL=(this.B0?4:0) + (this.C0?4:0) + (this.iua?4:0) + (this.gua?4:0);this.Qz=this.N.offset;(0,c.assert)(this.jpb,"Expected data offset to be present in Track Run");(0,c.assert)(this.length - (this.N.offset - this.startOffset) === this.Gd * this.VL,"Expected remaining data in box to be sample information");if(g && g.Ta){g.Ta.Lk=this.Lk;g.Ta.Gd=this.Gd;this.$k=[];m=null === (l=null === (k=this.parent) || void 0 === k?void 0:k.Dm("tfhd")) || void 0 === l?void 0:l.x1;for(k=0;k < this.Gd;k++)(l={},this.B0?l.A0=this.N.Yb():g.Ta.tC?l.A0=g.Ta.tC:m && g.Vg && g.Vg[m] && (l.A0=g.Vg[m].tC),this.C0?l.wH=this.N.Yb():g.Ta?l.wH=g.Ta.uC:m && g.Vg && g.Vg[m] && (l.wH=g.Vg[m].uC),this.iua?l.hua=this.N.Yb():g.Ta?l.hua=g.Ta.QF:m && g.Vg && g.Vg[m] && (l.hua=g.Vg[m].QF),this.gua && (l.WKc=0 === this.version?this.N.Yb():this.N.$ba()),0 === k && this.D8 && (l.hua=this.cOa),this.$k.push(l));g.Ta.$k=this.$k;if(g.Ta.NS)for(((0,c.assert)(g.Ta.NS.length === g.Ta.$k.length,("num fragment samples: ").concat(g.Ta.$k.length,", ") + ("num samples in auxiliary info: ").concat(g.Ta.NS.length)),m=0);m < g.Ta.$k.length;m++)(g.Ta.$k[m].fAa=g.Ta.NS[m].fAa,g.Ta.$k[m].W_a=g.Ta.NS[m].W_a);}return !0;};e.prototype.hja=function(g,k,l){var m,p,r;m=this.B0?this.N.Yb():g.tC;p=this.C0?this.N.Yb():g.uC;g=this.iua?this.N.Yb():g.QF;r=this.gua?0 === this.version?this.N.Yb():this.N.$ba():0;return {VKc:r,hua:g,wH:p,A0:m,J9c:(l || 0) + r - (void 0 !== k?k:r)};};e.prototype.UHc=function(g){(0,c.assert)(void 0 !== this.Lk);(0,c.assert)(void 0 !== this.Qz);(0,c.assert)(void 0 !== this.Gd);(0,c.assert)(void 0 !== this.VL);if(!this.C0)return Array.from({length:this.Gd},function(){return g.uC;});for(var k=[],l=this.Qz + (this.B0?4:0),m=0;m < this.Gd;(++m,l+=this.VL))k.push(this.N.view.getUint32(l,!1));return k;};e.prototype.hHb=function(){var g,m;(0,c.assert)(void 0 !== this.Lk);(0,c.assert)(void 0 !== this.Qz);(0,c.assert)(void 0 !== this.Gd);(0,c.assert)(void 0 !== this.VL);g=[];if(this.iua)for(var k=this.Qz + (this.B0?4:0) + (this.C0?4:0),l=0;l < this.Gd;(++l,k+=this.VL)){m=this.N.view.getUint32(k,!1);2 !== e.dJb(m) && e.eJb(m) || g.push(l);}else !this.D8 || 2 !== e.dJb(this.cOa) && e.eJb(this.cOa) || g.push(0);return g;};e.prototype.na=function(g,k,l,m,p,r,q){var u,v,w,x;(0,c.assert)(void 0 !== this.Lk);(0,c.assert)(void 0 !== this.Qz);(0,c.assert)(void 0 !== this.CJa);(0,c.assert)(void 0 !== this.Gd);(0,c.assert)(void 0 !== g.xz);u=0;v=0;this.uc.offset=this.Qz;for(m=0;m < p;++m){w=this.hja(k,x,v);if(0 === m)x=w.VKc;u+=w.wH;v+=w.A0;}m=p;p=this.N.offset;w=this.hja(k,x,v);this.cYa=q;this.P0=m;this.qLb=v;if(q){if((this.ZHb=this.Lk + u,this.k0=0,m === this.Gd))return !0;}else if((this.ZHb=this.Lk,this.k0=u,0 === m))return !0;if(0 === m || m === this.Gd)return !1;this.ima=!0;if(q){this.k0+=w.wH;for(q=m + 1;q < this.Gd;++q)(w=this.hja(k,x,v),this.k0+=w.wH);this.uc.offset=this.CJa;this.Gd=m;this.uc.kn(this.Gd);this.uc.f2a(r);this.D8 && (this.N.offset+=4);this.zq(this.length - (p - this.startOffset),p);}else (k=p - this.Qz,this.Qz=p,this.uc.offset=this.CJa,this.Gd-=m,this.uc.kn(this.Gd),this.Lk+=u,this.uc.f2a(r,this.Lk),this.D8 && (this.N.offset+=4),this.zq(k,this.uc.offset));null === l || void 0 === l?void 0:l.zq(this.k0,g.xz + this.ZHb);return !0;};e.prototype.Ozc=function(g,k,l,m,p,r,q,u){var v,x,y,z,B;void 0 === q && (q=!1);(0,c.assert)(void 0 !== this.Lk);(0,c.assert)(void 0 !== this.Qz);(0,c.assert)(void 0 !== this.Gd);(0,c.assert)(void 0 !== this.VL);(0,c.assert)(void 0 !== g.xz);for(var w=m.length;w < this.Gd;++w)m[w]=m[w - 1];m.some(function(A){return 0 >= A;}) && (x=null === (v=this.o0b(p,r)) || void 0 === v?void 0:v.Oua);this.N.offset=this.Qz;g=g.xz + this.Lk;p=-1 !== p.indexOf("xheaac")?"xheaac":-1 !== p.indexOf("heaac")?"aac":"ddp";r=new Uint8Array(this.N.view.buffer,this.N.view.byteOffset,this.N.view.byteLength);for(w=0;w < this.Gd;++w){v=this.hja(k).wH;if(-Infinity === m[w]){if(x && this.C0){l.Ota(v,x,g);y=this.VL - (this.B0?4:0);this.uc.offset-=y;this.uc.kn(x.byteLength);this.uc.offset+=y - 4;}}else if(0 > m[w])try{z=r.subarray(g,g + v);B=(0,n.ejc)({xd:p,frame:z,vF:m[w],KS:q,oR:u}).Nkc;B !== v && this.N.console.error(("TrackRunBoxEditor: parse frame size error ").concat(B," should be ").concat(v));}catch(A){this.N.console.error(("TrackRunBoxEditor: fadeFrame error: ").concat(A.message," ").concat(A.stack));}g+=v;}};e.prototype.o0b=function(g,k){if("string" === typeof k)return ((0,c.assert)("reset" !== k && "standard" !== k),h.KO[k]);if(void 0 !== g)return k?h.KO.reset[g] || h.KO.standard[g]:h.KO.standard[g];};e.oe="trun";e.qd=!1;return e;})(a(72905).pf);b.K4=t;},41192:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.q2a=b.x5a=b.B7a=b.N7a=b.u2a=b.t2a=b.s2a=b.r2a=void 0;d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(h){n.prototype.parse.call(this,h);this.Kc=this.ED([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{m6c:"int32"},{nbd:"int32"},{offset:32,type:"offset"},{$4c:"int16"},{Z2c:{type:"int8",e5b:32}},{depth:"int16"},{offset:16,type:"offset"}]);if(null === h || void 0 === h?0:h.yf)(h.yf.width=this.Kc.width,h.yf.height=this.Kc.height);return !0;};c.qd=!0;return c;})(a(71724).default);b["default"]=t;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.oe="avc1";return c;})(t);b.r2a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.oe="avc2";return c;})(t);b.s2a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.oe="avc3";return c;})(t);b.t2a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.oe="avc4";return c;})(t);b.u2a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.oe="hvc1";return c;})(t);b.N7a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.oe="hev1";return c;})(t);b.B7a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.oe="dvhe";return c;})(t);b.x5a=a;t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.oe="av01";return c;})(t);b.q2a=t;},25564:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.k2=void 0;d=a(22970);n=a(72905);c=a(32296);t=(function(h){function f(e,g,k,l,m){k=h.call(this,k,l,m) || this;k.M6b=e;k.W0=g;k.Fe={};return k;}d.__extends(f,h);f.prototype.parse=function(e){var g,k,l,m,p,r;this.offset=0;g=[];for(e=e || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;l=this.Yb();if(0 === l)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};m=(0,c.HI)(this.Yb());if(null === m)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === m){if(16 > this.view.byteLength - this.offset)break;m=this.Cta();}if(0 === g.length && this.W0.Wsb(m,k,l)){this.offset=k;break;}if(k + l > this.view.byteLength){this.offset=k;break;}p=this.M6b[m];r=void 0;if(p){if((r=new p(this,m,k,l,g[0]),(g[0] || this).Y5(r),r.parse(e)))this.config.usa && p.qd?g.unshift(r):this.offset=k + l;else return {done:!1,offset:this.offset,error:"parse error in " + m + " box"};}else this.offset=k + l;for(;g.length && this.offset > g[0].byteOffset + g[0].OR - 8;){r=g.shift();if(!r.dG(e))return {done:!1,offset:this.offset,error:"finalize error in " + r.type + " box"};this.offset=r.byteOffset + r.OR;}if(0 === g.length && this.W0.iqb(m,k,l,r))break;}return !this.W0.done && (e=this.W0.endOffset?this.W0.endOffset - this.view.byteLength:4096,0 < e)?{done:!1,offset:this.offset,ECb:e}:{done:!0,offset:Math.min(this.W0.endOffset || Infinity,this.offset)};};f.prototype.Y5=function(e){n.pf.Y5(this,e);};return f;})(a(56445).ngb);b.k2=t;},2050:function(t){var d,n;function b(){var c,h;if(DataView.prototype && DataView.prototype.G9 && !n){try{c=new ArrayBuffer(4);h=new DataView(c);h.QY(0,4,1);}catch(f){return;}try{c=new ArrayBuffer(4);h=new DataView(c);h.QY(1,2,2);}catch(f){DataView.prototype.QY=a(DataView.prototype.QY,DataView.prototype.getUint8,Uint8Array);DataView.prototype.foa=a(DataView.prototype.foa,DataView.prototype.getUint16,Uint16Array);DataView.prototype.G9=a(DataView.prototype.G9,DataView.prototype.getUint32,Uint32Array);DataView.prototype.kPa=a(DataView.prototype.kPa,DataView.prototype.getInt8,Int8Array);DataView.prototype.iPa=a(DataView.prototype.iPa,DataView.prototype.getInt16,Int16Array);DataView.prototype.jPa=a(DataView.prototype.jPa,DataView.prototype.getInt32,Int32Array);}d.kqc=function(f,e,g,k,l){return g?f.QY(e,g,k || 1,l):new Uint8Array(0);};d.iqc=function(f,e,g,k,l){return g?f.foa(e,g,k || 2,l):new Uint16Array(0);};d.jqc=function(f,e,g,k,l){return g?f.G9(e,g,k || 4,l):new Uint32Array(0);};d.D5c=function(f,e,g,k,l){return g?f.kPa(e,g,k || 1,l):new Int8Array(0);};d.B5c=function(f,e,g,k,l){return g?f.iPa(e,g,k || 2,l):new Int16Array(0);};d.C5c=function(f,e,g,k,l){return g?f.jPa(e,g,k || 4,l):new Int32Array(0);};n=!0;}}function a(c,h,f){return function(e,g,k,l){var m;k=k || f.BYTES_PER_ELEMENT;if(e + g * k > this.byteLength){m=new f(g);m.set(c.call(this,e,g - 1,k,l));m[g - 1]=h.call(this,e + (g - 1 * k),l);return m;}return c.call(this,e,g,k,l);};}d={QY:function(c,h,f,e,g){var k;k=new Uint8Array(f);e=e || 1;for(var l=0;l < f;(++l,h+=e))k[l]=c.getUint8(h,g);return k;},foa:function(c,h,f,e,g){var k;k=new Uint16Array(f);e=e || 2;for(var l=0;l < f;(++l,h+=e))k[l]=c.getUint16(h,g);return k;},G9:function(c,h,f,e,g){var k;k=new Uint32Array(f);e=e || 4;for(var l=0;l < f;(++l,h+=e))k[l]=c.getUint32(h,g);return k;},kPa:function(c,h,f,e,g){var k;k=new Int8Array(f);e=e || 1;for(var l=0;l < f;(++l,h+=e))k[l]=c.getInt8(h,g);return k;},iPa:function(c,h,f,e,g){var k;k=new Int16Array(f);e=e || 2;for(var l=0;l < f;(++l,h+=e))k[l]=c.getInt16(h,g);return k;},jPa:function(c,h,f,e,g){var k;k=new Int32Array(f);e=e || 4;for(var l=0;l < f;(++l,h+=e))k[l]=c.getInt32(h,g);return k;},G4c:b};n=!1;d.Bmc=function(){return n;};b();t.exports=d;},59909:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.zya=void 0;d=a(22970);n=a(72905);t=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.parse=function(f){var e;this.Hra=this.N.rd();e=this.N.rd();this.N_a=e >>> 2;this.f1a=e >>> 1 & 1;this.KJa=256 * this.N.$f() + this.N.rd();this.maxBitrate=this.N.Yb();this.uka=this.N.Yb();n.l && this.N.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.Hra.toString(16) + ", streamType=" + this.N_a + ", upStream=" + this.f1a + ", bufferSizeDB=" + this.KJa + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.uka);if(null === f || void 0 === f?0:f.xl)(f.xl.Hra=this.Hra,f.xl.N_a=this.N_a,f.xl.f1a=this.f1a,f.xl.KJa=this.KJa,f.xl.maxBitrate=this.maxBitrate,f.xl.uka=this.uka);this.nib(f);return !0;};h.tag=4;return h;})(a(91578).Ofa);b.zya=t;},27364:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.C5a=void 0;d=a(22970);n=a(72905);t=a(91578);c=a(47887);a=(function(h){function f(){return null !== h && h.apply(this,arguments) || this;}d.__extends(f,h);f.prototype.Bta=function(){var e;e=this.N.cb(4);return 15 !== e?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][e]:this.N.cb(24);};f.prototype.parse=function(e,g){if(this.Ftc(g) && 64 === g.Hra){if(null === e || void 0 === e?0:e.xl){g=this.N.Qtb(this.length);for(var k=new ArrayBuffer(this.length),l=new Uint8Array(k),m=0;m < this.length;m++)l[m]=g.getUint8(m);e.xl.C3c=k;}g=this.N.offset;this.Vu=this.KXa();this.jua=this.Bta();this.kKa=this.N.cb(4);this.RYa=this.XX=5 === this.Vu || 29 === this.Vu?5:-1;this.tta=29 === this.Vu?1:-1;0 < this.XX && (this.t8=this.Bta(),this.Vu=this.KXa(),22 === this.Vu && (this.Nma=this.N.cb(4)));switch(this.Vu){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.K8=this.N.cb(1),this.oLa=(this.Zec=this.N.cb(1))?this.N.cb(14):void 0,this.N.cb(1),this.ZP=3 === this.Vu?256:23 === this.Vu?this.K8?480:512:this.K8?960:1024);}l=8 * (this.length - (this.N.offset - g)) + this.N.fe;5 !== this.XX && 16 <= l && (l=this.N.cb(11),695 === l && (k=this.KXa(),5 === k && (l=this.N.cb(1),1 === l && (this.t8=this.Bta(),l=8 * (this.length - (this.N.offset - g)) + this.N.fe,12 <= l && (l=this.N.cb(11),1352 === l && (this.tta=this.N.cb(1))))),22 === k && (l=this.N.cb(1),1 === l && (this.t8=this.Bta()),this.Nma=this.N.cb(4))));n.l && this.N.console.trace("AudioSpecificConfig: audioObjectType=" + this.Vu + ", samplingFrequency=" + this.jua + ", channelConfiguration=" + this.kKa + ", extensionAudioObjectType=" + this.XX + ", sbrPresentFlag=" + this.RYa + ", psPresentFlag=" + this.tta + ", extensionSamplingFrequency=" + this.t8 + ", extensionChannelConfiguration=" + this.Nma + ", frameLengthFlag=" + this.K8 + ", coreCoderDelay=" + this.oLa + ", frameLength=" + this.ZP);if(null === e || void 0 === e?0:e.xl)(e.xl.Vu=this.Vu,e.xl.jua=this.jua,e.xl.kKa=this.kKa,e.xl.XX=this.XX,e.xl.RYa=this.RYa,e.xl.tta=this.tta,e.xl.t8=this.t8,e.xl.Nma=this.Nma,e.xl.K8=this.K8,e.xl.oLa=this.oLa,e.xl.ZP=this.ZP);}this.skip();return !0;};f.prototype.KXa=function(){var e;e=this.N.cb(5);31 === e && (e=32 + this.N.cb(6));return e;};f.prototype.Ftc=function(e){return e.tag === c.zya.tag;};f.tag=5;return f;})(t.Ofa);b.C5a=a;},91578:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Ofa=void 0;d=a(22970);n=a(47887);t=(function(){function c(h,f,e){this.tag=h;this.view=f;this.N=e;this.startOffset=e.offset;}c.fHb=function(h,f,e){var g,k;g=h.rd();k=h.RHc();h=new (n.kP[g] || c)(g,h.Qtb(k),h);h.parse(f,e);return h;};Object.defineProperties(c.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!1,configurable:!0}});c.prototype.parse=function(){this.N.offset=this.startOffset + this.length;this.N.fe=0;return !0;};c.prototype.gsb=function(h){var f,g;f=[];this.tag === h && f.push(this);if(this.kP)for(var e=0;e < this.kP.length;e++){g=this.kP[e];f=d.__spreadArray(d.__spreadArray([],f,!0),g.gsb(h),!0);}return f;};c.prototype.Dm=function(h){for(h=this.gsb(h);0 < h.length;)return h[0];};c.prototype.nib=function(h){for(this.kP=[];this.N.offset < this.startOffset + this.length;)this.kP.push(c.fHb(this.N,h,this));};return c;})();b.Ofa=t;t.prototype.skip=t.prototype.parse;},47887:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.kP=void 0;t=a(22970);t.__exportStar(a(91578),b);t.__exportStar(a(48823),b);t.__exportStar(a(59909),b);t.__exportStar(a(27364),b);t=a(59909);d=a(27364);a=a(48823);b.kP={3:a.$ya,4:t.zya,5:d.C5a};},48823:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$ya=void 0;d=a(22970);n=a(72905);t=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.parse=function(f){var e;this.CTb=this.N.$f();e=this.N.rd();this.aMb=!!(e & 128);this.Tfb=!!(e & 64);this.Lab=!!(e & 32);this.yPc=e & 31;this.$ec=this.aMb?this.N.$f():void 0;this.Tfb && this.N.rS(this.N.rd());this.HWb=this.Lab?this.N.$f():void 0;n.l && this.N.console.trace("ESDescriptor: ES_ID=" + this.CTb + ", streamDependenceFlag=" + this.aMb + ", URL_Flag=" + this.Tfb + ", OCRstreamFlag=" + this.Lab + ", streamPriority=" + this.yPc + ", dependsOn_ES_ID=" + this.$ec + ", OCR_ES_Id=" + this.HWb);this.nib(f);return !0;};h.tag=3;return h;})(a(91578).Ofa);b.$ya=t;},91562:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.gia=b.Nha=b.A4=b.lV=b.Sga=b.XU=b.v=b.KO=b.Oha=b.zFa=b.dTb=b.K4=b.Afb=b.Bfb=b.K$a=b.HI=b.rI=b.L3=b.e4=b.FZ=b.Oy=b.Ny=b.Yl=void 0;t=a(98516);d=a(2050);b.dTb=d;d=a(24500);b.zFa=d;d=a(66988);b.KO=d;b.Oha=t.b_.Fe.sidx;n=a(43607);Object.defineProperties(b,{Yl:{enumerable:!0,get:function(){return n.Yl;}}});c=a(87349);Object.defineProperties(b,{Ny:{enumerable:!0,get:function(){return c.Ny;}}});h=a(66789);Object.defineProperties(b,{Oy:{enumerable:!0,get:function(){return h.Oy;}}});Object.defineProperties(b,{FZ:{enumerable:!0,get:function(){return h.FZ;}}});f=a(72978);Object.defineProperties(b,{e4:{enumerable:!0,get:function(){return f.e4;}}});e=a(47407);Object.defineProperties(b,{L3:{enumerable:!0,get:function(){return e.L3;}}});g=a(35982);Object.defineProperties(b,{rI:{enumerable:!0,get:function(){return g.rI;}}});k=a(32296);Object.defineProperties(b,{HI:{enumerable:!0,get:function(){return k.HI;}}});l=a(98516);Object.defineProperties(b,{K$a:{enumerable:!0,get:function(){return l.K$a;}}});Object.defineProperties(b,{Bfb:{enumerable:!0,get:function(){return l.Bfb;}}});Object.defineProperties(b,{Afb:{enumerable:!0,get:function(){return l.Afb;}}});m=a(70179);Object.defineProperties(b,{K4:{enumerable:!0,get:function(){return m.K4;}}});p=a(61049);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return p.v;}}});r=a(11526);Object.defineProperties(b,{XU:{enumerable:!0,get:function(){return r.XU;}}});q=a(80735);Object.defineProperties(b,{Sga:{enumerable:!0,get:function(){return q.Sga;}}});u=a(42328);Object.defineProperties(b,{lV:{enumerable:!0,get:function(){return u.lV;}}});Object.defineProperties(b,{A4:{enumerable:!0,get:function(){return u.A4;}}});v=a(51061);Object.defineProperties(b,{Nha:{enumerable:!0,get:function(){return v.Nha;}}});w=a(44248);Object.defineProperties(b,{gia:{enumerable:!0,get:function(){return w.gia;}}});},47407:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.L3=void 0;d=a(22970);t=a(87349);n=a(89931);a=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.na=function(f){var e,g,k,l;e=this;if(!this.parse().done)return !1;g=this.Fe.moov;if(!g || 0 === g.length)return !1;k=g[0].Dm("tenc");if(!k)return !1;l=new Uint8Array(k.qA);f.forEach(function(m){for(var p=m.from,r=!0,q=0;q < p.length;q++)if(l[q] !== p[q]){r=!1;break;}r && e.Ie.Ota(m.from.length,m.to,k.OSa);});return (0,n.concat)(this.Ie.na().Ta);};return h;})(t.Ny);b.L3=a;},61049:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.v=void 0;d=a(26388);Object.defineProperties(b,{v:{enumerable:!0,get:function(){return d.v;}}});},98516:function(t,b,a){var D,F,G,E,H,J,L,K,M,P,I,O,Q,S,U,W,Y,X,Z,aa,ca,da,ja,R,N,V,ba,fa,ha,la,pa,ia,na,T,ea,ka,ra,ta,qa,xa,Ba;function d(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function n(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function c(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function h(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);this.o_a=oa.config.o_a;this.Wf=this.sizes=void 0;}function f(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function e(){for(var oa=new DataView(this),va="",za,ua=0;ua < this.byteLength;ua++)(za=oa.getUint8(ua),va+=("00" + za.toString(16)).slice(-2));return va;}function g(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function k(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function l(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function m(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function p(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function r(oa){function va(za,ua,ya,Da,Ja){E.call(this,za,ua,ya,Da,Ja);this.vAc=oa;}va.qd=!1;va.prototype=new E();va.prototype.constructor=va;Object.defineProperties(va.prototype,{w5a:{get:function(){return this.vAc;}}});va.prototype.parse=function(){this.N.offset=this.startOffset + 4;this.uc.c2a(this.w5a);this.type=this.w5a;return !0;};return va;}function q(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function u(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function v(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function w(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function x(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function y(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function z(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function B(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function A(oa,va,za,ua,ya){E.call(this,oa,va,za,ua,ya);}function C(oa,va){oa.forEach(function(za){va[za.oe]=za;});}D=a(93334).assert;b=a(75589);F=a(49420).I;G=a(24500);a(2050);a(32296);a(32296);a(32296);E=a(72905).pf;H=a(71368)["default"];J=a(95797)["default"];L=a(85571)["default"];K=a(45645)["default"];M=a(35503)["default"];P=a(29973)["default"];I=a(19234)["default"];O=a(28721)["default"];Q=a(84379)["default"];a(71724);a(70428);S=a(40755).j2a;U=a(40755).d6a;W=a(26856)["default"];Y=a(29043)["default"];X=a(41192)["default"];Z=a(41192).r2a;aa=a(41192).s2a;ca=a(41192).t2a;da=a(41192).u2a;ja=a(41116)["default"];R=a(18319)["default"];N=a(56226)["default"];V=a(87206)["default"];ba=a(41192).N7a;fa=a(41192).B7a;ha=a(41192).x5a;la=a(41192).q2a;pa=a(97066)["default"];ia=a(96345)["default"];na=a(31025)["default"];T=a(91056)["default"];ea=a(64280)["default"];a(91578);a(59909);a(27364);a(48823);ka=a(30717)["default"];ra=a(70179).K4;ta=a(89362)["default"];qa=a(96989)["default"];xa=a(23471)["default"];Ba=a(16530)["default"];a=a(53158)["default"];d.qd=!0;d.prototype=new E();d.prototype.constructor=d;n.qd=!0;n.prototype=new E();n.prototype.constructor=n;c.qd=!1;c.prototype=new E();c.prototype.constructor=c;c.prototype.parse=function(oa){var va;this.Oh();1 === this.version?(this.N.Ll(),this.N.Ll(),this.P=this.N.Yb(),this.duration=this.N.Ll()):(this.N.Yb(),this.N.Yb(),this.P=this.N.Yb(),this.duration=this.N.Yb());va=this.N.$f() & 32767;this.language=String.fromCharCode(96 + (va >>> 10),96 + (va >>> 5 & 31),96 + (va & 31));oa && oa.yf && (oa.yf.P=this.P,oa.yf.duration=this.duration);return !0;};h.qd=!1;h.prototype=new E();h.prototype.constructor=h;h.prototype.z1b=function(){this.Oh();this.N.Yb();this.P=this.N.Yb();0 === this.version?(this.xqb=this.N.Yb(),this.Esb=this.N.Yb()):(this.xqb=this.N.Ll(),this.Esb=this.N.Ll());this.rIb=this.N.$f();this.BHb=this.N.$f();};h.prototype.F_b=function(oa,va){var za,ua,ya;za=this.P;oa=oa && oa.P || za;ua=oa / za;za=this.N.Ata(va,12,!1);ya=1 === ua?this.N.Ata(va,12,!1):G.from(Uint32Array,{length:va},function(){var Da;Da=Math.round(this.N.Yb() * ua);this.N.offset+=8;return Da;},this);this.q2b(va,ya,za,oa);};h.prototype.q2b=function(oa,va,za,ua){if(this.o_a){ua=this.o_a * ua / 1E3;for(var ya=0,Da=1;Da < oa;Da++)Math.abs(va[ya] - ua) > Math.abs(va[ya] + va[Da] - ua)?(va[ya]+=va[Da],za[ya]+=za[Da]):(++ya,ya !== Da && (va[ya]=va[Da],za[ya]=za[Da]));++ya;va=new Uint32Array(va.buffer.slice(0,4 * ya));za=new Uint32Array(za.buffer.slice(0,4 * ya));}this.sizes=za;this.Wf=va;};h.prototype.parse=function(oa){var va,za,ua,ya;this.z1b();this.Fa=oa.Fa;va=this.P;za=this.Fa && this.Fa.P || va;ua=this.BHb;ya=this.startOffset + this.length + this.Esb;va=new F(this.xqb,va).Vc(za).aa;this.Oa={P:za,fu:va,offset:ya};this.F_b(this.Fa,ua);this.Oa.Wf=this.Wf;this.Oa.sizes=this.sizes;oa.bo=this;return !0;};f.qd=!1;f.prototype=new E();f.prototype.constructor=f;f.prototype.parse=function(){var oa;this.eE=[];this.NEc=[];oa=(this.length - 11) / 2;this.N.rd();this.N.rd();this.N.rd();for(var va=0;va < oa;va++)(this.eE.push(this.N.rd()),this.NEc.push(this.N.rd()));return !0;};g.qd=!1;g.prototype=new E();g.prototype.constructor=g;g.prototype.parse=function(oa){var va;this.Oh();this.N.offset+=1;if(0 == this.version)this.N.offset+=1;else {va=this.N.rd();this.Lec=va >> 4;this.Qec=va & 15;oa && oa.yf && (oa.yf.H3c=this.Lec,oa.yf.K3c=this.Qec);}this.zpb=this.N.rd();this.ypb=this.N.rd();this.OSa=this.N.offset;this.qA=this.N.b0(16);this.qA.toString=e;oa && oa.yf && (oa.yf.I3c=this.zpb,oa.yf.Nec=this.ypb,oa.yf.J3c=this.qA);1 == this.zpb && 0 == this.ypb && (this.Kec=this.N.rd(),this.Jec=this.N.b0(this.Kec),oa && oa.yf && (oa.yf.Mec=this.Jec));return !0;};k.qd=!1;k.prototype=new E();k.prototype.constructor=k;k.prototype.parse=function(){this.Oh();this.ov=this.N.$f();this.Ryc=this.N.Ata(this.ov,void 0,!0);return !0;};l.qd=!1;l.prototype=new E();l.prototype.constructor=l;l.prototype.parse=function(oa){var va,za,ua,ya,Da,Ja;va=oa.bo;D(va);oa=oa.Fa;za=va.P;va=va.BHb;D(oa);D(za);D(va);this.Oh();D(2 > this.version);this.ov=this.N.$f();this.S_=new Uint16Array(va + 1);ua=oa.Svb(za);ya=ua / za;Da=oa.Vc(ua).aa;if(0 === this.version)for((this.z0=new Uint16Array(),this.zf=new Uint32Array(),oa=za=0);oa <= va;++oa){if((this.S_[oa]=za,oa < this.ov)){Ja=this.N.rd();if(0 !== Ja)for(ua=0;ua < Ja;(++ua,++za))(this.z0[za]=Math.floor((this.N.Yb() + 1) * ya) / Da,this.zf[za]=this.N.Yb());}}else if(1 === this.version)for((ua=this.N.OHc(this.ov),this.N.offset+=4,this.zf=this.N.Ata(this.ov,10,!1),this.N.offset-=8,this.z0=G.from(Uint16Array,{length:this.ov},function(){var Ka;Ka=Math.floor((this.N.Yb() + 1) * ya) / Da;this.N.offset+=6;return Ka;},this),za=oa=0);oa <= va;++oa){for(;za < ua.length && ua[za] < oa;)++za;this.S_[oa]=za;}this.lm={S_:this.S_,z0:this.z0,zf:this.zf};return !0;};m.qd=!0;m.prototype=Object.create(d.prototype);m.prototype.constructor=m;p.qd=!0;p.prototype=Object.create(d.prototype);p.prototype.constructor=p;p.prototype.dG=function(){var oa;oa=this.Hs("tfhd");oa && (this.xz=oa.rlb?oa.xz:this.parent.startOffset);return !0;};q.qd=!1;q.prototype=new E();q.prototype.constructor=q;q.prototype.parse=function(){var oa,Oa;oa=this.N.offset;this.Oh();if(1 === this.version){this.N.offset+=2;for(var va=this.N.offset,za=this.N.rd(),ua=this.N.rd(),ya=this.N.rd(),Da=this.N.rd(),Ja=this.N.$f(),Ka=[],La=0;La < Ja;++La)Ka=this.N.rd();La=(za & 240) >>> 4;Oa=(za & 14) >>> 1;za&=1;ya=16 === ya?1:0;ua != Da && this.N.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + ua + " and matrixCoefficients " + Da + " should be the same value!");Da=2;switch(ua){case 1:Da=2;break;case 6:Da=1;break;case 9:Da=5;break;default:this.N.console.warn("VP9: Unknown colourPrimaries " + ua + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.uc.Ah(this.version,oa);this.uc.Ah(La << 4 | Da,va++);this.uc.Ah(Oa << 4 | ya << 1 | za,va++);Ja+=2;Ka.push(0,0);this.uc.YT(Ja,!1);va+=2;Ka.forEach(function(Na){this.uc.Ah(Na,va++);});}return !0;};u.qd=!1;u.prototype=new E();u.prototype.constructor=u;u.oe="tfhd";Object.defineProperties(u.prototype,{rlb:{get:function(){return this.flags & 1;}},XKc:{get:function(){return this.flags & 2;}},Oec:{get:function(){return this.flags & 8;}},Pec:{get:function(){return this.flags & 16;}},Apb:{get:function(){return this.flags & 32;}}});u.prototype.parse=function(oa){this.Oh();this.x1=this.N.Yb();this.xz=this.rlb?this.N.Ll():void 0;this.cJb=this.XKc?this.N.Yb():void 0;this.tC=this.Oec?this.N.Yb():void 0;this.uC=this.Pec?this.N.Yb():void 0;this.QF=this.Apb?this.N.Yb():void 0;oa && oa.Ta && (oa.Ta.x1=this.x1,oa.Ta.xz=this.xz,oa.Ta.cJb=this.cJb,oa.Ta.tC=this.tC,oa.Ta.uC=this.uC,oa.Ta.QF=this.Apb?this.QF:void 0);return !0;};v.qd=!1;v.prototype=new E();v.prototype.constructor=v;v.prototype.parse=function(oa){this.Oh();this.xF=1 === this.version?this.N.Ll():this.N.Yb();oa && oa.Ta && (oa.Ta.xF=this.xF);return !0;};v.prototype.na=function(oa){var va;va=this.startOffset + 12;this.xF+=oa;1 === this.version?this.uc.fQb(this.xF,va):this.uc.kn(this.xF,va);};w.qd=!1;w.prototype=Object.create(E.prototype);w.prototype.constructor=w;Object.defineProperties(w.prototype,{LO:{get:function(){return this.flags & 1;}}});w.prototype.parse=function(oa){this.Oh();this.LO && this.N.WA();this.LO && this.N.Yb();this.gMa=this.N.rd();this.Gd=this.N.Yb();0 === this.gMa && this.N.rS(this.Gd);oa && oa.Ta && (oa.Ta.SKc=this.Gd);return !0;};w.prototype.na=function(oa,va){if(oa){oa=va?this.Gd - oa:oa;this.uc.offset=this.startOffset + 13 + (this.LO?8:0);this.Gd-=oa;this.uc.kn(this.Gd);if(0 !== this.gMa){this.fua=va?0:this.gMa * oa;return;}this.fua=0;if(va)this.uc.offset+=this.Gd;else {for(va=0;va < oa;++va)this.fua+=this.uc.rd();this.uc.offset-=oa;}this.zq(oa,this.N.offset);}return !0;};x.qd=!1;x.prototype=Object.create(E.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{LO:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(oa){var va,za,La,Oa;this.Oh();this.LO && this.N.WA();this.LO && this.N.Yb();this.ov=this.N.Yb();D(1 === this.ov,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Lk=0 === this.version?this.N.$ba():this.N.kHb();this.N.offset=this.Lk;if(oa && oa.Ta && oa.yf){va=oa.yf.Nec;za=oa.Ta.SKc;D(0 < va || void 0 !== oa.yf.Mec,"Expected per sample or constant IV");D(0 < za,"Expected saix box parsing to find sample count");oa.Ta.NS=[];for(var ua=0;ua < za;ua++){for(var ya=va?this.N.b0(va):void 0,Da=[],Ja=this.N.$f(),Ka=0;Ka < Ja;Ka++){La=this.N.$f();Oa=this.N.Yb();Da.push({w7b:La,x7b:Oa});}oa.Ta.NS.push({W_a:Da,fAa:ya});}}return !0;};x.prototype.na=function(oa,va){this.Lk+=oa;this.uc.offset=this.startOffset + 16 + (this.LO?8:0) + (0 === this.version?0:4);this.uc.f2a(va,this.Lk);return !0;};y.qd=!1;y.prototype=Object.create(E.prototype);y.prototype.constructor=y;z.qd=!1;z.prototype=Object.create(y.prototype);z.prototype.constructor=z;Object.defineProperties(y.prototype,{XVa:{get:function(){return !1;}},gPb:{get:function(){return this.flags & 2;}}});Object.defineProperties(z.prototype,{XVa:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(oa){var va,Ja,Ka;this.Oh();va=0;this.XVa && (va=this.cvc=this.N.Yb() & 255,this.kid=this.N.rS(16));if(oa && oa.Ta){if(oa.Ta.NS)return !0;oa.Ta.$k || (oa.Ta.$k=[]);}if(0 !== va && 8 !== va && 16 !== va)return !0;this.Gd=this.N.Yb();if(oa && oa.Ta)for(var za=0;za < this.Gd;za++)if((oa.Ta.$k[za].fAa=0 < va?this.N.b0(va):void 0,this.gPb)){for(var ua=[],ya=this.N.$f(),Da=0;Da < ya;Da++){Ja=this.N.$f();Ka=this.N.Yb();ua.push({w7b:Ja,x7b:Ka});}oa.Ta.$k[za].W_a=ua;}return !0;};z.prototype.na=function(oa,va){return y.prototype.na.call(this,oa,va,28 + (this.XVa?20:0));};y.prototype.na=function(oa,va,za){var ua;oa=va?this.Gd - oa:oa;this.uc.offset=this.startOffset + (za || 12);this.Gd-=oa;this.uc.kn(this.Gd);za=this.uc.offset;if(this.gPb)for(oa=va?this.Gd:oa;0 < oa;--oa){this.uc.offset+=8;ua=this.uc.$f();this.uc.offset+=6 * ua;}else this.uc.offset+=8 * (va?this.Gd:oa);va?this.zq(this.length - (this.N.offset - this.startOffset),this.N.offset):this.zq(this.N.offset - za,za);};B.qd=!1;B.prototype=Object.create(E.prototype);B.prototype.constructor=B;B.prototype.parse=function(oa){this.Oh();if(oa && oa.Ta){void 0 === oa.Ta.$k && (oa.Ta.$k=[]);for(var va=0;va < this.length - 12;va++)oa.Ta.$k[va].n$c=this.N.rd();}return !0;};B.prototype.na=function(oa,va,za){if(this.length - 12 !== va)return !0;za?this.zq(va - oa,this.startOffset + 12 + oa):this.zq(oa,this.startOffset + 12);return !0;};A.qd=!1;A.prototype=Object.create(E.prototype);A.prototype.constructor=A;A.prototype.parse=function(){this.Oh();this.N.WA();1 === this.version && this.N.Yb();this.ov=this.N.Yb();this.Kca=[];for(var oa=0;oa < this.ov;++oa)for(var va=this.N.Yb(),za=this.N.Yb(),ua=0;ua < va;++ua)this.Kca.push(za);return !0;};A.prototype.na=function(oa,va){this.Kca=va?this.Kca.slice(0,oa):this.Kca.slice(oa);oa=this.Kca.reduce(function(za,ua){0 !== za.length && za[za.length - 1].group === ua || za.push({group:ua,count:0});++za[za.length - 1].count;return za;},[]);this.uc.offset=this.startOffset + 16 + (1 === this.version?4:0);this.uc.kn(oa.length);oa.forEach((function(za){this.uc.kn(za.count);this.uc.kn(za.group);}).bind(this));this.ov > oa.length && this.zq(8 * (this.ov - oa.length));this.ov=oa.length;return !0;};X={Fe:{moov:n,trak:d,mdia:d,mdhd:c,minf:d,encv:X,schi:d,sidx:h,sinf:d,senc:y,stbl:d,tenc:g,mvex:d,moof:m,traf:p,tfhd:u,trun:ra,sbgp:A,sdtp:B,saiz:w,saio:x,tfdt:v,mdat:Ba,vmaf:f,edts:d},DRc:{vpcC:q,SmDm:r("smdm"),CoLL:r("coll")},LNb:{schm:ja},PYa:{}};C([R,N,P,a,qa,I,ta,O,ba,fa,ha,V,la,H,K,T,ea,M,Q,J,L,ka,ra],X.Fe);C([S,W,Z,aa,ca,da,U,Y,ia,pa,xa],X.PYa);C([R,ja],X.LNb);X.Fe[b.ibb]=g;X.Fe[b.Mga]=k;X.Fe[b.Lga]=l;X.Fe[b.hbb]=z;X.PYa[b.gCa]=na;X.pf=E;t.exports={b_:X};},66789:function(t,b,a){var n,c,h,f,e,g;function d(k){return "number" === typeof k[0] || void 0 === k[0]?{Zk:k[0],P:k[1],vF:k[2],CYa:k[3],KS:k[4]}:k[0];}Object.defineProperties(b,{__esModule:{value:!0}});b.Oy=void 0;b.FZ=function(k){var l,m;l=new ArrayBuffer(8);m=new DataView(l);m.setUint32(0,k + 8);m.setUint32(4,(0,h.rGa)("mdat"));return l;};n=a(22970);c=a(75589);t=a(87349);h=a(32296);f=a(93334);e=a(72905);g=a(16530);a=(function(k){function l(m,p,r){return k.call(this,m,p,r) || this;}n.__extends(l,k);l.prototype.NHb=function(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return this.na(n.__assign(n.__assign({},d(m)),{cYa:!1}));};l.prototype.XHb=function(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return this.na(n.__assign(n.__assign({},d(m)),{cYa:!0}));};l.prototype.na=function(m){var r,q,u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K,M,P,I,O;function p(S){B=z[S];A=B.Hs("traf");if(void 0 === A || void 0 === A.xz)return !1;G=A.Hs("tfdt");if(void 0 === G)return !1;C=A.Hs("trun");return void 0 === C?!1:!0;}r=m.Zk;q=m.P;u=m.cYa;v=m.vF;w=m.CYa;w=void 0 === w?!1:w;x=m.KS;x=void 0 === x?!1:x;y=m.oR;m=m.Yla;m=void 0 === m?!1:m;if(!this.parse().done)return !1;z=this.Fe.moof;if(!z || 0 === z.length)return !1;if(void 0 !== r){D=r;for(r=0;r < z.length;++r){if(!p(r,this.Ie.console.trace))return !1;(0,f.assert)(B && A && G && C && void 0 !== C.Gd);if(C.Gd > D || u && C.Gd === D)break;D-=C.Gd;}(0,f.assert)(B && A && G && C);}else if((r=u?z.length - 1:0,!p(r,this.Ie.console.trace)))return !1;(0,f.assert)(B && A && G && C);if(u && r < z.length - 1){F=z[r + 1];this.Ie.zq(this.view.byteOffset - F.startOffset,F.startOffset);}else !u && 0 < r && this.Ie.zq(B.startOffset,0);F=A.Hs("tfhd");if(void 0 === F)return !1;G=A.Hs("tfdt");E=C.Gd;H=A.Hs("saiz");J=A.Hs("saio");L=A.Hs(c.hbb) || A.Hs("senc");K=A.Hs("sbgp");if(!(!H && !J || H && J))return !1;M=A.Hs("sdtp");P=e.pf.eG(this,"mdat");if(P && r < P.length)I=P[r];else {if(r !== z.length - 1)return !1;if(this.Ie.offset <= this.view.byteLength - 8){P=this.Ie.offset;O=this.Ie.Yb();"mdat" === this.Ie.WA() && (I=new g.default(this.Ie,"mdat",P,O));}}void 0 === D && (D=u?C.Gd:0);if("number" === typeof v && 0 < v){P=u?D:C.Gd - D;O=Array(P);for(var Q=0;Q < P;++Q)O[Q]=u?Q >= P - v?-Infinity:0:Q < v?-Infinity:0;v=O;}if(C.na(A,F,m?void 0:I || this.Ie,q,D,A.xz,u))C.ima && ((0,f.assert)(void 0 !== C.qLb),(0,f.assert)(void 0 !== C.P0),!u && G && G.na(C.qLb),H && J && (H.na(C.P0,u),J.na(L?0:H.fua,A.xz)),L && L.na(C.P0,u),M && M.na(C.P0,E,u),K && K.na(C.P0,u));else if(!u){if(r === z.length - 1)return !1;this.Ie.zq(z[r + 1].startOffset - B.startOffset,B.startOffset);}else if(0 === C.P0)return !1;Array.isArray(v) && I && this.stream.profile && void 0 !== w && !m && C.Ozc(A,F,I,v,this.stream.profile,w,x,y);u=this.Ie.na();q=u.Ta;u=u.YJ;v=q.reduce(function(S,U){return S + U.byteLength;},0);return {Ta:q,length:v,OR:this.Ie.view.byteLength,YJ:u};};return l;})((function(k){function l(m,p,r){return k.call(this,m,p,r) || this;}n.__extends(l,k);return l;})(t.Ny));b.Oy=a;},72978:function(t,b,a){var n,c,h,f,e,g,k;function d(l){var r;for(var m={},p=l.length - 1;0 <= p;p--){r=l[p];r=("").concat(r.gH,"-").concat(r.id);m[r]?l.splice(p,1):m[r]=!0;}}Object.defineProperties(b,{__esModule:{value:!0}});b.e4=void 0;c=a(22970);h=a(98776);f=a(29770);e=a(25564);t=a(87349);g=a(43607);k=a(48014);a=(function(l){function m(p,r,q){q=l.call(this,p,r,q) || this;q.console=p;q.stream=r;return q;}c.__extends(m,l);m.prototype.parse=function(p){var r,q,u,v,w,x,y,z,B;r=this;q=(null === p || void 0 === p?void 0:p.Ta) || ({});u=l.prototype.parse.call(this,p?c.__assign(c.__assign({},p),{Ta:q}):{Ta:q});if(!u.done || !q.$k || void 0 === q.Lk)return u;v=g.Yl.path(this,["moof"]);if(!v)return c.__assign(c.__assign({},u),{done:!1});w=(null === p || void 0 === p?void 0:p.events) || [];x=v.byteOffset + q.Lk;y=q.xF || 0;q.$k.forEach(function(A){var C,D;C=new DataView(r.view.buffer,r.view.byteOffset + x,A.wH);C=r.WDc(C);D=y + (A.WKc || 0);null !== z && void 0 !== z?z:z=D;B=D + A.A0;C && C.emib && C.emib.forEach(function(F){w.push({gH:D + F.qGc,VX:F.VX,id:F.id,WL:F.WL,value:F.value,VG:F.VG});});x+=A.wH;y+=A.A0;});p && p.dNb && (p.dNb.g4c=z,p.dNb.o7c=B);d(w);return u;};m.prototype.WDc=function(p){var r;r=new k.Nfa(p.byteLength);p=new e.k2(m.Fe,r,p,this.console,{usa:!0});return p.parse().done?p.Fe:void 0;};m.Fe=(n={},n[h.default.oe]=h.default,n[f.default.oe]=f.default,n);return m;})(t.Ny);b.e4=a;},35982:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.rI=void 0;d=a(32296);n={stsd:16};b.rI=(function(){function c(){}c.path=function(h,f){var m,p;for(var e=0,g=h.byteLength,k,l=0;l < f.length;l++){m=f[l];for(k && (e+=n[k] || 8);e < g;){p=h.getUint32(e);k=(0,d.HI)(h.getUint32(e + 4));if(k === m){g=e + p;break;}if(0 === p)return {};e+=p;}}return e < g?{offset:e,end:g}:{};};c.Drb=function(h){var f,e,g,k,l;f=this.path(h,["moof","traf"]).offset;if(void 0 !== f){h=new DataView(h.buffer,h.byteOffset + f + 8);e=this.path(h,["tfdt"]).offset;if(void 0 !== e){1 === h.getUint8(e + 8)?(f=h.getUint32(e + 12),e=h.getUint32(e + 16),f=4294967296 * f + e):f=h.getUint32(e + 12);g=this.path(h,["trun"]).offset;if(void 0 === g)return {w1:f};k=h.getUint8(g + 8);l=h.getUint32(g + 8) & 16777215;e=h.getUint32(g + 12);l & 2048?(g=g + 16 + ((l & 1) << 2) + (l & 4) + (((l & 256) >> 6) + ((l & 512) >> 7) + ((l & 1024) >> 8)),h=1 === k?h.getInt32(g):h.getUint32(g)):h=0;return {w1:f,nx:h,vH:e};}}};return c;})();},87349:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ny=void 0;d=a(25564);n=a(98516);c=a(48014);t=(function(){function h(f,e,g){this.console=f;this.stream=e;this.view=g instanceof ArrayBuffer?new DataView(g):new DataView(g.data,g.offset,g.length);}h.prototype.parse=function(f){var e;e=new c.Nfa(this.view.byteLength);this.Ie=new d.k2(n.b_.Fe,e,this.view,this.console,{usa:!0});f=this.Ie.parse(f);this.Fe=this.Ie.Fe;return f;};return h;})();b.Ny=t;},43607:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Yl=void 0;d=a(22970);n=a(3265);c=a(89931);h=a(93334);f=a(49420);e=a(72905);t=a(91056);g=a(64280);k=a(25564);l=a(2050);m=a(98516);p=a(75589);r=a(48014);q=a(35202);d.__exportStar(a(56122),b);a=(function(){function u(v,w,x,y,z,B){this.console=v;this.stream=w;this.YA=y;this.b4b=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=B || ({});this.vrc=(0,l.Bmc)();}u.path=function(v,w){return w.reduce(function(x,y){return x && x.Fe[y] && x.Fe[y][0];},v);};u.aoc=function(v){return v && v.OKa && -1 !== v.OKa.indexOf("mcl0")?"mcl0":void 0;};u.Tjc=function(v,w){var x,y;(0,h.assert)("mcl0" === v,"Unsupported McClearen brand");x=w.Oa;v=x.Wf;w=new f.I(120,1).Vc(x.P).aa;y=0;for(x=x.fu;y < v.length && x < w;)x+=v[y++];return y;};u.prototype.parse=function(v){var w;w=this.dLc();if(!w.done){if(w.ECb)return {IA:!1,Lja:w.ECb};this.console.error("Scan error: " + w.error);return {IA:!1,parseError:w.error || "unknown mp4 scan error"};}v && (v.mediaType=this.stream.mediaType,v.jDc=v.Fa);this.view=new DataView(this.view.buffer,this.view.byteOffset,w.offset);v=this.UDc(v);return v.done?this.Y$b():(this.console.error("Parse error: " + v.error),{IA:!1,parseError:v.error || "unknown mp4 parse error"});};u.prototype.eG=function(v){return e.pf.eG(this,v);};u.prototype.Dm=function(v){return e.pf.Dm(this,v);};u.prototype.dLc=function(){var v,w;v=new r.V7a(this.YA,this.b4b?[p.Mga,p.Lga]:[],this.config && this.config.rad || ["moof",p.kab],this.config && this.config.kWa);w=d.__assign(d.__assign({},this.config),{usa:!1});return new k.k2(u.TYa,v,this.view,this.console,w).parse();};u.prototype.UDc=function(v){var w,x,y;w=new r.Nfa(this.view.byteLength);x=Object.create(m.b_.Fe);this.config && ((this.config.WEb || this.config.KNb || this.config.Vua) && n(m.b_.PYa,x),this.config.Q0a && n(m.b_.DRc,x),this.config.KNb && n(m.b_.LNb,x));y=d.__assign(d.__assign({},this.config),{usa:!0});this.Ie=new k.k2(x,w,this.view,this.console,y);v=this.Ie.parse(v);v.done && (this.Fe=this.Ie.Fe);return v;};u.prototype.Y$b=function(){var v,w,x,y,z,B,A,C;w={IA:!0};x=u.path(this,["moov"]);y=null === x || void 0 === x?void 0:x.eG("trak");if(1 === (null === y || void 0 === y?void 0:y.length)){z=y[0].Hs("tkhd");z && (w.trackId=z.Kc.trackId);}z=u.path(x,["trak","mdia","minf","stbl","stsd"]);if(this.config.WEb)if(z)(w.Fa=z.Fa,w.m$c=z.Fe);else return {IA:!1,parseError:"Missing sample descriptions"};B=u.path(z,["encv","sinf","schi"]);B && (B=u.path(B,["tenc"]) || u.path(B,[p.ibb])) && (w.bic={d3c:B.qA,OSa:B.OSa,g7c:!1});if(B=u.path(x,["trak","mdia","mdhd"]))w.P=B.P;if(B=u.path(x,["mvex","trex"]))w.Jla=B && B.Kc.Jla;w.Jla && w.P && (w.Fa=new f.I(w.Jla,w.P));(B=u.path(x,["trak","edts","elst"])) && (null === (v=B.Z7) || void 0 === v?0:v.length) && w.P && (w.AX=new f.I(B.Z7[0].$yc,w.P));if(v=u.path(this,["sidx"])){B=(B=u.path(this,[p.Mga])) && B.Ryc;A=u.path(this,[p.Lga]);A=A && A.lm;w.Oa=v.Oa;w.a_=B;w.lm=A;}if(B=this.Fe.vmaf && this.Fe.vmaf[0])w.eE=B.eE;if(this.config.hYa && (B=u.path(x,["mvex"])) && y && y.length){C=y.reduce(function(D,F){return F.byteOffset > D.byteOffset?F:D;});C.byteOffset > B.byteOffset && (y=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),A=(0,q.VNb)(y,Uint8Array,B.byteOffset,B.byteOffset + B.byteLength),C=(0,q.VNb)(y,Uint8Array,B.byteOffset + B.byteLength,C.byteOffset + C.byteLength),y.set(C,B.byteOffset),y.set(A,B.byteOffset + C.byteLength));}if(this.config.BKc)if(x)(this.trim(x.byteOffset + x.byteLength),this.config.Vua && z && 1 < z.JP && v && (w.yj=this.Vua(z,v)),void 0 === w.yj && (x=this.Ie.ima?(0,c.concat)(this.Ie.na().Ta):this.view.buffer,w.yj=[{Qe:0,data:x}]));else return {IA:!1,parseError:"Missing movie box"};w.IA=!0;w.wsa=this.Ie.offset;return w;};u.prototype.trim=function(v){var w;w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(v,this.view.byteLength));this.Ie.trim(v);this.view=new DataView(w);};u.prototype.Vua=function(v,w){var x,y,z;x=Object.keys(v.Fe);y=x.filter(function(B){return "encv" !== B;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=u.path(this,["ftyp"]);z=u.aoc(x);if(z)return (x=[],this.Ie.BHc(),v.UHb("encv"),x.push({Qe:0,Kz:!1,data:(0,c.concat)(this.Ie.na().Ta)}),this.Ie.AFc(),v.UHb(y[0]),v=u.Tjc(z,w),x.push({Qe:v,Kz:!0,data:(0,c.concat)(this.Ie.na().Ta)}),x);}};u.TYa={};return u;})();b.Yl=a;a.TYa[p.hCa]=t.default;a.TYa[p.iCa]=g.default;},32296:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.HI=function(n){(0,d.assert)("number" === typeof n);return String.fromCharCode(n >>> 24 & 255) + String.fromCharCode(n >>> 16 & 255) + String.fromCharCode(n >>> 8 & 255) + String.fromCharCode(n & 255);};b.rGa=function(n){return n.charCodeAt(3) + (n.charCodeAt(2) << 8) + (n.charCodeAt(1) << 16) + (n.charCodeAt(0) << 24);};b.r1c=function(n,c){return Math.floor(1E3 * n / c);};d=a(93334);},75589:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hCa="6674654e-696c-5078-6966-665374726d21";b.iCa="6674654e-696c-4878-6165-6465722e7632";b.kab="6674654e-696c-5078-6966-66496e646578";b.Mga="6674654e-696c-4d78-6f6f-6653697a6573";b.Lga="6674654e-696c-5378-6565-6b506f696e74";b.ibb="cedb7489-e77b-514c-84f9-7148f9882554";b.hbb="524f39a2-9b5a-144f-a244-6c427c648df4";b.gCa="6674654e-696c-4678-7261-6d6552617465";},11526:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.XU=void 0;d=a(25337);t=(function(){function n(c,h,f){this.view=c;this.JJ=h;this.console=f;this.N=new d.fia(c,f);}n.prototype.parse=function(){var c,h,f;c=this.N.$f();try{h=this.JJ(this.N.rS(c));f=JSON.parse(h);}catch(e){this.console.error("Invalid event header:",e);return;}c=this.N.rS(this.view.byteLength - this.N.offset);return {header:f,body:c};};n.WL="urn:netflix:media_event:v1";return n;})();b.XU=t;},42328:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.lV=b.A4=void 0;d=a(25337);n={16:"programstart",17:"programend",19:"programbreakaway",34:"breakstart",35:"breakend",50:"breakstart",51:"breakend",52:"breakstart",53:"breakend",54:"breakstart",55:"breakend",60:"breakstart",61:"breakend",62:"breakstart",63:"breakend",66:"breakstart",67:"breakend",68:"breakstart",69:"breakend",70:"breakstart",71:"breakend"};(function(h){h[h.C_c=16]="ProgramStart";h[h.B_c=17]="ProgramEnd";h[h.A_c=19]="ProgramBreakaway";h[h.HRb=34]="BreakStart";h[h.tWc=35]="BreakEnd";h[h.mXc=50]="DistributorAdvertisementStart";h[h.lXc=51]="DistributorAdvertisementEnd";h[h.G_c=52]="ProviderPlacementOpportunityStart";h[h.F_c=53]="ProviderPlacementOpportunityEnd";h[h.oXc=54]="DistributorPlacementOpportunityStart";h[h.nXc=55]="DistributorPlacementOpportunityEnd";h[h.I_c=60]="ProviderPromoStart";h[h.H_c=61]="ProviderPromoEnd";h[h.qXc=62]="DistributorPromoStart";h[h.pXc=63]="DistributorPromoEnd";h[h.MVc=66]="AlternateContentOpportunityStart";h[h.LVc=67]="AlternateContentOpportunityEnd";h[h.E_c=68]="ProviderAdBlockStart";h[h.D_c=69]="ProviderAdBlockEnd";h[h.kXc=70]="DistributorAdBlockStart";h[h.jXc=71]="DistributorAdBlockEnd";})(c || (b.A4=c={}));t=(function(){function h(f,e){this.view=f;this.console=e;this.N=new d.fia(f,e);}h.prototype.parse=function(){var f,e,g,k,l,m,p,r;this.N.offset+=13;f=this.N.rd();switch(f){case 0:break;case 5:(e=this.rEc(),g=e.sDc);f=e.COc;e=e.T6b;return void 0 === g || void 0 === f?void 0:g?{event:"breakstart",gH:f,duration:e}:{event:"breakend",gH:f};case 6:g=this.XEb();break;case 4:case 7:case 255:return;default:throw Error(("Unknown splice_command_type: ").concat(f));}if(void 0 !== g)for((f=this.N.$f(),f=this.N.offset + f);this.N.offset < f;){e=this.N.rd();k=this.N.rd();if(2 === e){e=this.qEc(k);k=e.Wca;l=e.Xca;m=e.F0;p=e.AJb;r=e.ELc;if(void 0 !== k)return {event:h.lZa[k],Wca:k,Xca:l,F0:m,gH:g,id:p,duration:r};if(e.zJb)return {event:"cancel",gH:g,id:p};}else this.N.offset+=k;}};h.prototype.rEc=function(){var f,e,g,k,l,m;this.N.offset+=4;if(!(this.N.rd() >> 7)){f=void 0;e=void 0;g=this.N.cb(1);k=this.N.cb(1);if(!k)throw Error("Component splice mode is deprecated");l=this.N.cb(1);m=this.N.cb(1);this.N.cb(4);k && !m && (f=this.XEb());l && (e=this.VDc());return {sDc:g,COc:f,T6b:e};}return {};};h.prototype.XEb=function(){var f;if(this.N.cb(1)){this.N.cb(6);f=this.N.cb(33);}else this.N.cb(7);return f;};h.prototype.VDc=function(){this.N.cb(1);this.N.cb(6);return this.N.cb(33);};h.prototype.qEc=function(f){var e,g,k,l,m,p,r;g=this.N.offset;this.N.Yb();k=this.N.Yb();l=this.N.cb(1);this.N.cb(7);if(0 === l){m=this.N.cb(1);p=this.N.cb(1);this.N.cb(1);this.N.cb(5);if(!m)throw Error("Component splice mode is deprecated");p && (e=this.N.cb(40));m=this.N.rd();p=this.N.rd();p=0 < p?this.N.b0(p):void 0;r=this.N.rd();this.N.offset=g + f;return {Wca:r,Xca:m,F0:p,AJb:k,zJb:l,ELc:e};}this.N.offset=g + f;return {AJb:k,zJb:l};};h.WL="urn:scte:scte35:2013:bin";h.lZa=n;return h;})();b.lV=t;},48014:function(t,b,a){var n;function d(c,h){c=h.indexOf(c);-1 !== c && h.splice(c,1);}Object.defineProperties(b,{__esModule:{value:!0}});b.V7a=b.Nfa=void 0;n=a(75589);t=(function(){function c(h){this.endOffset=h;this.done=!1;}c.prototype.Wsb=function(){return this.done;};c.prototype.iqb=function(h,f,e){return this.done=f + e >= this.endOffset;};return c;})();b.Nfa=t;t=(function(){function c(h,f,e,g){void 0 === f && (f=[]);void 0 === e && (e=[]);void 0 === g && (g=!1);this.YA=h;this.Sla=f;this.LMb=e;this.kWa=g;this.done=!1;this.lp={};}c.prototype.Wsb=function(h,f,e){-1 !== c.Jrc.indexOf(h) && (this.lp[h]={offset:f,size:e});if(-1 !== this.LMb.indexOf(h)){if((this.lp[h]={offset:f,size:e},this.kWa))this.endOffset=f + e;else return (this.endOffset=f,this.done=!0);}else this.YA && -1 !== this.YA.indexOf(h)?(h=1 < this.YA.length?4096:0,this.endOffset=Math.max(f + e + h,this.endOffset || 0)):-1 !== this.Sla.indexOf(h) && (h=this.YA?4096:0,this.endOffset=Math.max(f + e + h,this.endOffset || 0));return this.done;};c.prototype.iqb=function(h,f,e,g){var k;k=this;if(-1 !== this.LMb.indexOf(h))return this.done=!0;h === n.hCa && this.BKb(g.lp);h === n.iCa && this.BKb(g.lp);this.YA && d(h,this.YA);d(h,this.Sla);return this.YA && 0 === this.YA.length && !this.Sla.some(function(l){return k.lp[l];})?this.done=!0:this.done;};c.prototype.BKb=function(h){var f;f=this;this.lp=h;this.endOffset=(this.YA || []).concat(this.Sla).reduce(function(e,g){return f.lp[g]?(g=f.lp[g],Math.max(g.offset + (g.size || 4096),e)):e;},this.endOffset || 0);};c.Jrc=["moov","sidx"];return c;})();b.V7a=t;},80735:function(t,b){function a(d){var n,f,e;n=d.length;if(!(0 <= n))throw Error("bad string");for(var c=0,h=n;h--;){f=d.charCodeAt(h);128 > f?c++:c=2048 > f?c + 2:c + 3;}c=new Uint8Array(c);e=0;for(h=0;h < n;h++)(f=d.charCodeAt(h),128 > f?c[e++]=f:(2048 > f?c[e++]=192 | f >>> 6:(c[e++]=224 | f >>> 12,c[e++]=128 | f >>> 6 & 63),c[e++]=128 | f & 63));return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.Sga=void 0;t=(function(){function d(n,c,h){this.header=n;this.body=c;this.vma=h;}d.prototype.encode=function(n){var c;c=(this.vma || a)(JSON.stringify(this.header));n.YT(c.length);n.e2a(c);n.e2a(this.body);};return d;})();b.Sga=t;},51061:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Nha=void 0;d=a(93334);t=(function(){function n(c){this.message=c;}n.prototype.encode=function(c){var h,f,e,g,k;c.Ah(252);c.YT(12288);h=c.offset;c.Ah(0);c.Ah(0);c.kn(0);c.Ah(0);c.YT(65520);c.Ah(0);c.Ah(6);f=c.offset;this.UUc(c);e=c.offset;c.YT(0);c.Ah(2);c.Ah(0);this.TUc(c);g=c.offset;k=e - f;(0,d.assert)(256 > k);c.Pja(f - 2);c.Ah(k & 255);f=g - e - 4;k=g - e - 2;c.Pja(e);c.YT(k);c.l4b();c.Ah(f);e=g - h + 4;(0,d.assert)(256 > e);c.Pja(h - 1);c.Ah(e & 255);c.Pja(g);c.kn(0);};n.prototype.UUc=function(c){var h;h=(this.message.gH - (this.message.gH & 4294967295)) / 4294967296;(0,d.assert)(2 > h);c.Ah(254 + h);c.kn(this.message.gH & 4294967295);};n.prototype.TUc=function(c){var h,f;c.kn(0);c.kn(this.message.id || 0);c.Ah("cancel" === this.message.event?255:127);if("cancel" !== this.message.event){f=null !== (h=this.message.Wca) && void 0 !== h?h:n.lZa[this.message.event];c.Ah(this.message.duration?255:191);this.message.duration && (h=this.message.duration & 4294967295,c.Ah((this.message.duration - h) / 4294967296),c.kn(h));c.Ah(void 0 !== this.message.Xca?this.message.Xca:0);(h=this.message.F0) && 0 < h.byteLength?(c.Ah(h.byteLength),c.e2a(new Uint8Array(h))):c.Ah(0);c.Ah(f);c.Ah(1);c.Ah(1);if(48 === f || 50 === f || 52 === f || 54 === f || 56 === f || 58 === f || 68 === f || 70 === f)(c.Ah(0),c.Ah(0));}};n.lZa={programstart:16,programend:17,programbreakaway:19,breakstart:52,breakend:53};return n;})();b.Nha=t;},24500:function(t){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,d,n){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(d.buffer,d.byteOffset,d.byteLength),n * a.byteLength / a.length);}:function(a,d,n){a.set(d,n);};t.exports={from:function(a,d,n,c){a=new a(d.length);for(var h="function" === typeof n,f=0;f < d.length;++f)a[f]=h?n.call(c,d[f],f,d):d[f];return a;},set:b};},35202:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VNb=function(a,d,n,c){var h,f;if(null !== a && void 0 !== a && a.slice)return a.slice(n,c);h=Math.min(a.length,c);f=Math.min(a.length,n);for(d=new d(Math.max(c - n,0));f < h;f++)d[f - n]=a[f];return d;};},93334:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=function(c,h){if(!c)throw new n(h || "Assertion failed");};d=a(22970);n=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);return h;})(Error);},89931:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.concat=function(){var n;for(var a=[],d=0;d < arguments.length;d++)a[d]=arguments[d];a=Array.prototype.concat.apply([],a);d=a.reduce(function(c,h){return c + h.byteLength;},0);n=new Uint8Array(d);a.reduce(function(c,h){n.set(new Uint8Array(h),c);return c + h.byteLength;},0);return n.buffer;};},3265:function(t){t.exports=function n(a,d){var c;a.__proto__ && a.__proto__ !== Object.prototype && n(a.__proto__,d);Object.getOwnPropertyNames(a).forEach(function(h){c=Object.getOwnPropertyDescriptor(a,h);void 0 !== c && Object.defineProperty(d,h,c);});};},49420:function(t,b){function a(n,c){return "number" !== typeof n || "number" !== typeof c?!1:n && c?Math.abs(n * c / d(n,c)):0;}function d(n,c){var h;n=Math.abs(n);for(c=Math.abs(c);c;){h=c;c=n % c;n=h;}return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.I=void 0;t=(function(){function n(c,h){"object" === typeof c?(this.Mc=c.aa,this.Cb=c.P):(this.Mc=c,this.Cb=h);}n.Ca=function(c){return new n(c,1E3);};n.G0a=function(c,h){return Math.floor(1E3 * c / h);};n.wCb=function(c,h){return Math.floor(c * h / 1E3);};n.max=function(){for(var c=[],h=0;h < arguments.length;h++)c[h]=arguments[h];return c.reduce(function(f,e){return f.greaterThan(e)?f:e;});};n.min=function(){for(var c=[],h=0;h < arguments.length;h++)c[h]=arguments[h];return c.reduce(function(f,e){return f.lessThan(e)?f:e;});};n.aQ=function(c,h){var f;if(c.P === h.P)return new n(d(c.aa,h.aa),c.P);f=a(c.P,h.P);return n.aQ(c.Vc(f),h.Vc(f));};Object.defineProperties(n.prototype,{aa:{get:function(){return this.Mc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{P:{get:function(){return this.Cb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{G:{get:function(){return 1E3 * this.Mc / this.Cb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ji:{get:function(){return this.Mc / this.Cb;},enumerable:!1,configurable:!0}});n.prototype.Vc=function(c){c/=this.P;return new n(Math.floor(this.aa * c),Math.floor(this.P * c));};n.prototype.add=function(c){var h;if(this.P === c.P)return new n(this.aa + c.aa,this.P);h=a(this.P,c.P);return this.Vc(h).add(c.Vc(h));};n.prototype.ea=function(c){return this.add(new n(-c.aa,c.P));};n.prototype.Qg=function(c){return new n(this.aa * c,this.P);};n.prototype.gf=function(c){var h;if(this.P === c.P)return this.aa / c.aa;h=a(this.P,c.P);return this.Vc(h).gf(c.Vc(h));};n.prototype.Svb=function(c){return a(this.P,c);};n.prototype.SXa=function(){return new n(this.P,this.aa);};n.prototype.compare=function(c,h){var f;if(this.P === h.P)return c(this.aa,h.aa);f=a(this.P,h.P);return c(this.Vc(f).aa,h.Vc(f).aa);};n.prototype.equal=function(c){return this.compare(function(h,f){return h === f;},c);};n.prototype.i_=function(c){return this.compare(function(h,f){return h !== f;},c);};n.prototype.lessThan=function(c){return this.compare(function(h,f){return h < f;},c);};n.prototype.greaterThan=function(c){return this.compare(function(h,f){return h > f;},c);};n.prototype.Km=function(c){return this.compare(function(h,f){return h <= f;},c);};n.prototype.Xf=function(c){return this.compare(function(h,f){return h >= f;},c);};n.prototype.toJSON=function(){return {ticks:this.aa,timescale:this.P};};n.prototype.toString=function(){return ("").concat(this.aa,"/").concat(this.P);};n.ia=new n(0,1);n.Yx=new n(1,1E3);return n;})();b.I=t;},56445:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ngb=void 0;d=a(22970);n=a(93334);c=a(89931);h=a(32296);t=a(25337);f=(function(){function e(g){g?(this.As=g.As.slice(),this.Fy=g.Fy.slice(),this.zf=g.zf.slice(),this.trim=g.trim):(this.As=[],this.Fy=[],this.zf=[]);}Object.defineProperties(e.prototype,{empty:{get:function(){return 0 === this.As.length && 0 === this.Fy.length && 0 === this.zf.length;},enumerable:!1,configurable:!0}});return e;})();t=(function(e){function g(k,l,m){k=e.call(this,k,l,m) || this;k.Cqb=[];k.hf=new f();return k;}d.__extends(g,e);g.b5b=function(k,l){if(l.offset + l.size <= k.byteLength)switch(l.size){case 1:k.setUint8(l.offset,l.value);break;case 2:l.oda?k.setInt16(l.offset,l.value):k.setUint16(l.offset,l.value);break;case 4:l.oda?k.setInt32(l.offset,l.value):k.setUint32(l.offset,l.value);break;case 8:(0,n.assert)(!l.oda);k.setUint32(l.offset,Math.floor(l.value / 4294967296));k.setUint32(l.offset + 4,l.value & 4294967295);break;default:(0,n.assert)(!1);}};Object.defineProperties(g.prototype,{ima:{get:function(){return !this.hf.empty;},enumerable:!1,configurable:!0}});g.prototype.Ah=function(k,l){this.hf.Fy.push({offset:void 0 !== l?l:this.offset,value:k,size:1});void 0 === l && (this.offset+=1);};g.prototype.YT=function(k,l){this.hf.Fy.push({offset:void 0 !== l?l:this.offset,value:k,size:2,oda:!1});void 0 === l && (this.offset+=2);};g.prototype.kn=function(k,l){this.hf.Fy.push({offset:void 0 !== l?l:this.offset,value:k,size:4,oda:!1});void 0 === l && (this.offset+=4);};g.prototype.fQb=function(k,l){this.hf.Fy.push({offset:void 0 !== l?l:this.offset,value:k,size:8,oda:!1});void 0 === l && (this.offset+=8);};g.prototype.c2a=function(k){this.kn((0,h.rGa)(k));};g.prototype.f2a=function(k,l){this.hf.zf.push({offset:this.offset,vr:k,value:l});this.offset+=4;};g.prototype.zq=function(k,l,m){this.hf.As.push({offset:l,remove:k,Gb:m});};g.prototype.Ota=function(k,l,m,p){this.hf.As.push({offset:m,remove:k,replace:l,Gb:p});};g.prototype.trim=function(k){this.hf.trim=k;};g.prototype.BHc=function(){this.Cqb.push(new f(this.hf));};g.prototype.AFc=function(){this.hf=this.Cqb.pop() || new f();};g.prototype.na=function(){var k,l,m,p,r,q,u;k=this;if(0 === this.hf.As.length && 0 === this.hf.Fy.length && 0 === this.hf.zf.length)return {Ta:[void 0 === this.hf.trim?this.view.buffer:this.view.buffer.slice(0,this.hf.trim)]};this.hf.As.sort(function(v,w){return v.offset - w.offset;});this.hf.Fy.sort(function(v,w){return v.offset - w.offset;});this.lKc();l=this.Kjc();m=this.view.buffer.slice(0,l);p=l?new DataView(m):this.view;this.hf.Fy.forEach(g.b5b.bind(void 0,p));this.GSc(p);this.FSc(p);r=[];q=void 0 !== this.hf.trim?Math.min(this.hf.trim,this.view.byteLength):this.view.byteLength;u=0;this.hf.As.filter(function(v){return v.offset <= q;}).forEach(function(v){v.offset > u && (r.push(p.buffer.slice(u,v.offset)),v.offset > p.byteLength && p !== k.view && (p=k.view,r.push(p.buffer.slice(l,v.offset))));v.replace && r.push(v.replace);u=v.offset + v.remove;});u < l && r.push(m.slice(u));u < q && (m=Math.max(m.byteLength,u),m < q && r.push(this.view.buffer.slice(m,q)));m=this.hf.As.filter(function(v){return v.offset + v.remove > q;}).map(function(v){var w;w=v.offset;v=v.remove;return w < q?{offset:q,remove:v - (q - w)}:{offset:w,remove:v};});return {Ta:r,YJ:m};};g.prototype.Kjc=function(){var k,l,m;k=[];l=this.hf.Fy[this.hf.Fy.length - 1];m=this.hf.zf[this.hf.zf.length - 1];l && k.push(l.offset + l.size);m && k.push(m.offset + 4);this.hf.As.filter(function(p){return p.Gb;}).forEach(function(p){return k.push(p.Gb.byteOffset + 4);});if(0 === k.length)return 0;l=Math.max.apply(void 0,k);return void 0 !== this.hf.trim?Math.min(l,this.hf.trim):l;};g.prototype.lKc=function(){this.hf.As=this.hf.As.reduce(function(k,l){var m,p;if(0 === k.length)return (k.push(l),k);m=k[k.length - 1];p=m.offset + m.remove;l.offset >= p?k.push(l):l.offset + l.remove > p && ((0,n.assert)(m.Gb === l.Gb),m.remove+=l.offset + l.remove - p,l.replace && (m.replace=m.replace?(0,c.concat)(m.replace,l.replace):l.replace));return k;},[]);};g.prototype.GSc=function(k){var l;l=this;this.hf.zf.forEach(function(m){var p,r,q,u;p=k;r=m.offset;l.hf.As.some(function(v){return v.offset <= m.offset && v.replace && v.offset + v.replace.byteLength >= m.offset + 4?(p=new DataView(v.replace),r=m.offset - v.offset,!0):!1;});q=m.vr + (void 0 !== m.value?m.value:p.getInt32(r));u=l.hf.As.reduce(function(v,w){return w.offset > m.vr && w.offset < q?v + (w.remove - (w.replace?w.replace.byteLength:0)):v;},0);p.setInt32(r,q - m.vr - u);});};g.prototype.FSc=function(k){this.hf.As.forEach(function(l){var m;m=(l.remove || 0) - (l.replace?l.replace.byteLength:0);if(0 !== m)for(l=l.Gb;l;)(k.setUint32(l.byteOffset,k.getUint32(l.byteOffset) - m),l=l.parent);});};return g;})(t.fia);b.ngb=t;},25337:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.fia=void 0;d=a(2050);a(2050);n=a(32296);t=(function(){function c(h,f,e){void 0 === e && (e={});this.view=h;this.console=f;this.config=e;this.view=h;this.console=f;this.fe=this.Ww=this.offset=0;}c.prototype.Qtb=function(h){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,h);};c.prototype.cb=function(h){if(24 < h)return 16777216 * this.cb(h - 24) + this.cb(24);for(;this.fe < h;)(this.Ww=(this.Ww << 8) + this.rd(),this.fe+=8);this.fe-=h;return this.Ww >>> this.fe & (1 << h) - 1;};c.prototype.rd=function(){var h;h=this.view.getUint8(this.offset);this.offset+=1;return h;};c.prototype.$f=function(h){h=this.view.getUint16(this.offset,h);this.offset+=2;return h;};c.prototype.Yb=function(h){h=this.view.getUint32(this.offset,h);this.offset+=4;return h;};c.prototype.$ba=function(){var h;h=this.view.getInt32(this.offset,void 0);this.offset+=4;return h;};c.prototype.EEc=function(h,f){var e;e=this.view.getUint32(this.offset + (h?4:0),h);h=this.view.getUint32(this.offset + (h?0:4),h);f || 0 === (e & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * e + h;};c.prototype.Ll=function(h,f){h=this.EEc(h,f);this.offset+=8;return h;};c.prototype.FEc=function(){var h,f;h=this.view.getInt32(this.offset + 0,void 0);f=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < h?h:-h) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * h + f;};c.prototype.kHb=function(){var h;h=this.FEc();this.offset+=8;return h;};c.prototype.WA=function(){return (0,n.HI)(this.Yb());};c.prototype.Cta=function(){var f,e,g,k,l,m;function h(p,r){return ("000000" + p.toString(16)).slice(2 * -r);}f=this.Yb(!0);e=this.$f(!0);g=this.$f(!0);k=this.$f();l=this.$f();m=this.Yb();return [h(f,4),h(e,2),h(g,2),h(k,2),h(l,2) + h(m,4)].join("-");};c.prototype.b0=function(h){var f;f=this.view.byteOffset + this.offset;f=this.view.buffer.slice(f,f + h);this.offset+=h;return f;};c.prototype.MXa=function(h){var f;f=[];if(0 === h)return "";h=h || Number.MAX_SAFE_INTEGER;for(var e=this.rd();0 !== e && 0 <= --h;)(f.push(e),e=this.rd());return String.fromCharCode.apply(null,f);};c.prototype.rS=function(h){var f,e;void 0 === f && (f=1);void 0 === e && (e=!0);return this.Tm(this.config.F1 && d.kqc || d.QY,1,h,f,e);};c.prototype.OHc=function(h){var f,e,g;f=10;e=!1;void 0 === f && (f=2);void 0 === e && (e=!0);void 0 === g && (g=!1);return this.Tm(this.config.F1 && d.iqc || d.foa,2,h,f,e,g);};c.prototype.Ata=function(h,f,e){var g;void 0 === f && (f=4);void 0 === e && (e=!0);void 0 === g && (g=!1);return this.Tm(this.config.F1 && d.jqc || d.G9,4,h,f,e,g);};c.prototype.RHc=function(){for(var h=this.rd(),f=h & 127;h & 128;)(h=this.rd(),f=f << 7 | h & 127);return f;};c.prototype.Tm=function(h,f,e,g,k,l){void 0 === k && (k=!0);void 0 === l && (l=!1);h=h(this.view,this.offset,e,g,l);this.offset=k || !g || g === f?this.offset + e * (g || f):this.offset + f;return h;};return c;})();b.fia=t;},44248:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.gia=void 0;d=a(32296);t=(function(){function n(c){void 0 === c && (c=1);this.Pb=new ArrayBuffer(c);this.view=new DataView(this.Pb);this.fe=this.Ww=this.Wc=0;}Object.defineProperties(n.prototype,{offset:{get:function(){return this.Wc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{buffer:{get:function(){return this.Pb.slice(0,this.offset);},enumerable:!1,configurable:!0}});n.prototype.IP=function(c){var h,f;c=this.offset + c + 1;if(c > this.Pb.byteLength){c=new ArrayBuffer(Math.max(2 * this.Pb.byteLength,c));h=new Uint8Array(c);f=new Uint8Array(this.Pb);h.set(f);this.Pb=c;this.view=new DataView(this.Pb);}};n.prototype.Pja=function(c){this.IP(c - this.offset);this.Wc=c;};n.prototype.l4b=function(){this.IP(1);this.Wc+=1;};n.prototype.Ah=function(c){this.IP(1);this.view.setUint8(this.offset,c);this.Wc+=1;};n.prototype.YT=function(c,h){this.IP(2);this.view.setUint16(this.offset,c,h);this.Wc+=2;};n.prototype.kn=function(c,h){this.IP(4);this.view.setUint32(this.offset,c,h);this.Wc+=4;};n.prototype.fQb=function(c,h){var f;f=Math.floor(c / 4294967296);c-=4294967296 * f;this.IP(8);this.view.setUint32(this.offset + (h?4:0),f,h);this.view.setUint32(this.offset + (h?0:4),c,h);this.Wc+=8;};n.prototype.c2a=function(c){this.kn((0,d.rGa)(c));};n.prototype.e2a=function(c){this.IP(c.length);new Uint8Array(this.Pb).set(c,this.offset);this.Wc+=c.length;};return n;})();b.gia=t;},17972:function(t,b,a){var n,c,h,f;function d(e,g,k){void 0 === k && (k=0);return e.displayTime - k <= g && g < e.displayTime + e.duration;}Object.defineProperty(b,"__esModule",{value:!0});b.LRb=b.x3a=void 0;n=a(22970);c=a(91176);h=a(90745);t=(function(e){function g(k,l,m,p,r,q,u,v){var w,x,y;y=e.call(this) || this;y.l0b=k;y.c5=l;y.p0b=m;y.va=p;y.A$=r;y.OPa=q;y.Isa=u;y.options=v;y.gm=[];y.nl=[];y.yo=[];y.CWa=new h.af();y.ZYa=new h.af();y.cla=new h.af();y.GI=new f(function(){return l(k());},y.va,(null === (w=y.options) || void 0 === w?void 0:w.za) || !1);y.GI.events.on("bufferingcomplete",function(){var z;y.va.trace("AseTimer:Received buffering complete from watcher");null === (z=y.pr) || void 0 === z?void 0:z.Tc();y.kVa();});y.GI.SWa();y.RKb();y.CWa.on(y.Isa,"segmentPresenting",function(){y.bEb();});y.CWa.on(y.Isa,"taskSchedulerChanged",function(){y.RKb();});null === (x=y.pr) || void 0 === x?void 0:x.Ka();return y;}n.__extends(g,e);Object.defineProperty(g.prototype,"_buffering",{get:function(){return this.GI.K6;},enumerable:!1,configurable:!0});g.prototype.WPc=function(){var k,l,m,p,r,q,u,v,w,x,y,z,B,A;A=this;return n.__generator(this,function(C){switch(C.label){case 0:this.va.trace("AseTimer:Starting subtitle worker");if(this.A$())return (this.va.trace("Paused: exiting"),[2]);k=function(){return A.Zc.La.currentTime.G;};l=this.l0b;this.yo=this.nl.concat(this.gm);this.EGb(l(),!0);C.label=1;case 1:if(!this.yo.length)return [3,3];p=m=l();this.Emb(m);try{for((r=(z=void 0,n.__values(this.yo)),q=r.next());!q.done;q=r.next())(u=q.value,this.va.trace(("AseTimer:Checking subtitle ").concat(u.id)),m >= u.displayTime + u.duration || (d(u,m,this.options.ZOc)?(this.va.trace(("AseTimer:Showing subtitle ").concat(u.id)),this.jGc(u),p=Math.max(m,u.displayTime)):(this.va.trace(("AseTimer:Staging subtitle ").concat(u.id)),this.y_a(u))));}catch(D){z={error:D};}finally{try{q && !q.done && (B=r.return) && B.call(r);}finally{if(z)throw z.error;}}v=this.H7b(p);if(!isFinite(v))return (this.GI.SWa(),[3,3]);w=k();x=this.p0b(v,m);if(void 0 === x)return [3,3];y=Math.max(x,10) + w;this.va.trace(("AseTimer:Sleeping till PlayerTime ").concat(y));return [4,c.Vd.Rl(c.I.Ca(y))];case 2:return (C.T(),this.EGb(l()),[3,1]);case 3:return (this.va.trace(("AseTimer:Checking removed subtitles one more time ").concat(l())),this.Emb(l()),this.va.trace("AseTimer:Ending subtitle worker"),[2]);}});};g.prototype.EGb=function(k,l){var m,p,r,q,u;p=this;void 0 === l && (l=!1);r=l || !this.gm.length;r || (r=this.yo[this.yo.length - 1].displayTime > k);if(r){this.va.trace(("AseTimer:Getting subtitles for ").concat(k),{p3c:this.Zc.La.currentTime});q=this.c5(k);if(q){this.va.trace(("AseTimer:Received ").concat(q.length," subtitles"));r=function(y){(0,c.ic)(u.yo,function(z){return z.id === y.id;}) || k >= y.displayTime + y.duration || (u.va.trace(("AseTimer:adding ").concat(y.id),{start:y.startTime,S3c:y.displayTime,end:y.endTime,e4c:y.duration}),u.yo.push(y));};u=this;try{for(var v=n.__values(q),w=v.next();!w.done;w=v.next())r(w.value);}catch(y){var x;x={error:y};}finally{try{w && !w.done && (m=v.return) && m.call(v);}finally{if(x)throw x.error;}}l && this.yo.filter(function(y){return !(0,c.ic)(q,function(z){return z.id === y.id;});}).forEach(function(y){return p.mba(y);});this.yo.length || this.GI.SWa();}else this.Wk();}};g.prototype.stop=function(){var k;this.va.trace("AseTimer:Stop");null === (k=this.pr) || void 0 === k?void 0:k.Ka();this.GI.reset();this.Jta();this.CWa.clear();this.ZYa.clear();this.cla.clear();};g.prototype.Jta=function(){var k,l,m,p;this.va.trace("AseTimer:Removing all",this.nl.length);p=this.nl;try{for(var r=n.__values(p),q=r.next();!q.done;q=r.next())this.mba(q.value);}catch(v){var u;u={error:v};}finally{try{q && !q.done && (k=r.return) && k.call(r);}finally{if(u)throw u.error;}}this.nl=[];if(null === (l=this.pr) || void 0 === l?0:l.On)null === (m=this.pr) || void 0 === m?void 0:m.Ka();};g.prototype.pause=function(){var k;null === (k=this.pr) || void 0 === k?void 0:k.Ka();};g.prototype.WH=function(){var k,l,m,p;(null === (k=this.pr) || void 0 === k?void 0:k.state) !== c.bm.complete && (null === (l=this.pr) || void 0 === l?void 0:l.state) !== c.bm.lP || this.A$() || (null === (m=this.pr) || void 0 === m?void 0:m.Tc());this.dm && this.GI.check();this.A$() && (null === (p=this.pr) || void 0 === p?void 0:p.Ka());};g.prototype.RKb=function(){var k;k=this;this.va.trace("Setting up new task scheduler");(this.Zc=this.OPa())?(this.ZYa.clear(),this.ZYa.on(this.Zc,"clockChanged",function(){return k.KDb();}),this.pr=this.Zc.Br(function(){return k.WPc();},"subtitleWorker"),this.KDb()):this.va.warn("AseTimer: no player task scheduler");};g.prototype.H7b=function(k){var l;return null !== (l=this.yo.map(function(m){return [m.displayTime,m.displayTime + m.duration + 1];}).reduce(function(m,p){return m.concat(p);},[]).filter(function(m){return m > k;}).sort(function(m,p){return m - p;})[0]) && void 0 !== l?l:Infinity;};g.prototype.KDb=function(){var k,l,m;k=this;this.cla.clear();(null === (l=this.Zc) || void 0 === l?0:l.La)?(this.va.trace("onClockChanged: clock listeners registered"),this.cla.on(this.Zc.La,"clockAdjusted",function(p){p.reason === c.yw.kM && k.bEb();}),this.cla.on(this.Zc.La,"stopStart",function(){var p;k.Zc.Qr || (null === (p=k.pr) || void 0 === p?void 0:p.Tc());})):this.va.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (m=this.pr) || void 0 === m?void 0:m.Tc();};g.prototype.bEb=function(){var k,l;this.va.trace("Timeline changed");this.Jta();this.A$()?null === (l=this.pr) || void 0 === l?void 0:l.Ka():null === (k=this.pr) || void 0 === k?void 0:k.Tc();};g.prototype.y_a=function(k){-1 === this.gm.indexOf(k) && this.PCc(k);};g.prototype.Emb=function(k){var l,m,q;m=this.nl.concat(this.gm);try{for(var p=n.__values(m),r=p.next();!r.done;r=p.next()){q=r.value;k >= q.displayTime + q.duration && this.mba(q);}}catch(v){var u;u={error:v};}finally{try{r && !r.done && (l=p.return) && l.call(p);}finally{if(u)throw u.error;}}};g.prototype.jGc=function(k){-1 === this.nl.indexOf(k) && (this.nl.push(k),-1 !== this.gm.indexOf(k) && (this.gm=this.gm.filter(function(l){return l !== k;})),this.EVa(k));};g.prototype.EVa=function(k){this.va.trace("AseTimer:Showing",k.id);this.emit("showsubtitle",k);};g.prototype.PCc=function(k){this.va.trace("AseTimer:Staging",k.id);this.gm.push(k);this.emit("stagesubtitle",k);};g.prototype.Wk=function(){this.va.trace("AseTimer:onUnderflow",this.dm);this.dm || (this.emit("underflow"),this.GI.Wk());};g.prototype.mba=function(k){this.va.trace("AseTimer:Removing",k.id);-1 !== this.gm.indexOf(k) && (this.gm=this.gm.filter(function(l){return l !== k;}));-1 !== this.nl.indexOf(k) && (this.emit("removesubtitle",k),this.nl=this.nl.filter(function(l){return l !== k;}));this.yo=this.yo.filter(function(l){return l !== k;});};g.prototype.kVa=function(){var k;this.yo.length && (this.emit("bufferingComplete"),this.A$() || (null === (k=this.pr) || void 0 === k?void 0:k.Tc()));};return g;})(h.EventEmitter);b.x3a=t;f=(function(){function e(g,k,l){void 0 === l && (l=!1);this.c5=g;this.va=k;this.QGa=l;this.events=new h.EventEmitter();this.dm=!1;}Object.defineProperty(e.prototype,"buffering",{get:function(){return this.dm;},enumerable:!1,configurable:!0});e.prototype.SWa=function(){var g;g=this;this.va.trace("AseTimer:Buffering watcher restart");this.dm=!0;this.uHa && clearInterval(this.uHa);this.uHa=this.QGa?setInterval(function(){return g.check();},500):setInterval(function(){return g.check();},2E4);};e.prototype.Wk=function(){this.va.trace("AseTimer:Buffering watcher underflow");this.dm=!0;this.Imb(1);};e.prototype.reset=function(){this.va.trace("AseTimer:Buffering watcher reset");clearInterval(this.uHa);clearTimeout(this.m2b);this.dm=!1;};e.prototype.Imb=function(g){var k;k=250 * (1 << g);2E3 < k && (k=2E3);this.check();this.dm && (this.m2b=setTimeout(this.Imb.bind(this,g + 1),k));};e.prototype.check=function(){var g;g=this.c5();this.va.trace("AseTimer:Buffering complete check",null === g || void 0 === g?void 0:g.length);null !== g && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",oM:g}));};return e;})();b.LRb=f;},18797:function(t,b,a){var q,u,v,w,x,y,z,B,A;function d(C,D){var F,G;F=this;G=C.styles || ({});return {startTime:D.startTime,id:D.id,endTime:D.endTime,displayTime:D.displayTime,duration:D.duration,blocks:D.blocks.map(function(E){var H;H=x.idc(C,E);return {textNodes:E.textNodes.map(r.bind(F,G)),region:H,id:E.id};})};}function n(C){if(!Array.isArray(C))throw Error("last called on non-array: " + C);return C[C.length - 1];}function c(C,D){var F,G,E,H,J,L;F=v.Ie(!0);G={};E=[];H=null;J=[];L={};F.onerror=function(K){D(K,null);};F.onend=function(){D(null,G);};F.onclosetag=function(){E.pop();};F.onopentag=function(K){var M,P,I,O;M=K.attributes;P=K.name;I=G.regions;O=G.styles;E.push(K);if("tt" === P)G=l(M);else if("body" === P)"undefined" !== typeof M.style && (G.defaultStyle=M.style,J.push(M.style));else if("initial" === P && p(E,"styling"))(L=m(M,y),G.initialStyle=L);else if("style" === P && p(E,"styling")){I=M["xml:id"];K=L;M=m(M,y);if(Object.keys(K).length)for(var Q in K)"undefined" === typeof M[Q] && (M[Q]=K[Q]);O[I]=M;}else "style" === P && p(E,"region")?(O=Object.keys(M)[0],"string" === typeof O && (I[H][O.slice(4)]=M[O])):"region" === P && p(E,"layout") && (H=M["xml:id"],I[H]=m(M,B));};setTimeout(function(){var K;for(F.write(C);0 < E.length && !F.error;){K=n(E).name;F.write("</" + K + ">");}F.close();},10);}function h(C,D){var F;F=C.filter(function(G){return G.startTime <= D && D <= G.endTime;});C=C.filter(function(G){return G.startTime > D;});return 0 < C.length?F.concat([C[0]]):F;}function f(){}function e(C){var D,F;D=C.gd;F=C.va;if(!C.xml && !C.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");u.call(this);this.Yh=this.Kia=null;this.pl="number" === typeof D?C.gd:0;this.wO=C.xml || "";this.wa="object" === typeof F?C.va:A;this.qO=C.request;this.Ag=C.url;this.Pb=[];this.xn=this.pl;this.df=null;this.hr=this.Dk=!1;this.TN=C.Xba || 0;this.vO=C.U_a;}function g(){var C,D,F;C=this;D=C.wO.indexOf("<p");if(-1 < D){F=C.wO.slice(0,D);c(F,function(G,E){null !== G?(G.Jwb=F,C.emit("error",G)):(C.Kia=E,C.Yh=new w(C.wO,E.tickRate),k.call(C,C.pl));});}else C.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function k(C){var D,F,G,E,H,J,L,K,M;D=this;F=D.Kia;G=0;E=[];H=F.defaultStyle?[F.defaultStyle]:[];J=F.lang?[F.lang]:[];L=D.Yh.SGa;D.wa.info("parsing the next 5 entries...");K=D.Yh.ooc(C);D.wa.debug(K);M=v.Ie(!0);M.onerror=function(P){P.xml=K;D.emit("error",P);};M.onend=function(){var P;P=D.Pb.reduce(function(I,O){O=O.blocks.reduce(function(Q,S){return Q.concat([S.id]);},[]);return I.concat(O);},[]);E.forEach(function(I){var O;if(-1 === P.indexOf(I.id)){O=I && I.blocks && I.blocks.filter(function(Q){return 0 < Q.textNodes.length;});O && 0 < O.length && (I.blocks=O,D.Pb.push(I));}});D.hr=!1;D.Dk || (D.Dk=!0,D.emit("ready"));};M.ontext=function(P){var I,O,Q,S;if("" !== P.trim() || P.match(/ +/)){I=n(n(E).blocks).textNodes;O=I.push;P=P.match(/ +/) || n(J) && "ja" === n(J).slice(0,2)?P:P.trim();Q=n(H);S=n(J);O.call(I,{text:P,style:Q,lang:S && 0 === S.indexOf("ja")?"ja":S,lineBreaks:G});}G=0;};M.onclosetag=function(){var P;P=M.tag;"undefined" !== typeof P.attributes.style && H.pop();"undefined" !== typeof P.attributes["xml:lang"] && J.pop();};M.onopentag=function(P){var I,O,Q,S,U;I=P.attributes;O=P.name;P=F.tickRate;if("p" === O){G=0;O=I["xml:id"];I.style && H.push(I.style);I["xml:lang"] && J.push(I["xml:lang"]);Q=L?Math.floor(parseInt(I.begin) / P * 1E3):Math.floor(q(I.begin));if(0 === E.length || n(E).displayTime !== Q){Q=E.push;S={};if(L){U=parseInt(I.begin) / P * 1E3;P=parseInt(I.end) / P * 1E3;}else (U=q(I.begin),P=q(I.end));S.id=O;S.startTime=Math.floor(U);S.endTime=Math.floor(P);S.style=I.style;S.region=I.region;S.displayTime=S.startTime;S.duration=S.endTime - S.startTime;S.extent=I["tts:extent"] || null;S.origin=I["tts:origin"] || null;S.latestEndSoFar=0 > S.endTime?0:S.endTime;S.blocks=[{textNodes:[],region:S.region,id:O,extent:S.extent,origin:S.origin}];Q.call(E,S);}else n(E).blocks.push({textNodes:[],region:I.region,id:O,extent:I["tts:extent"] || null,origin:I["tts:origin"] || null});}else "span" === O?(H.push(I.style),I["xml:lang"] && J.push(I["xml:lang"]),P=F.styles[I.style],I.style && P && P.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(P.ruby) && n(n(E).blocks).textNodes.push({text:"",style:n(H),lang:n(J),lineBreaks:0})):"br" === O && G++;};M.write("<entries>").write(K).write("</entries>").close();}function l(C){var D;C=m(C,z);if("string" === typeof C.extent){D=C.extent.split(" ").map(function(F){return parseInt(F,10);});C.width=D[0];C.height=D[1];}else (C.width=1280,C.height=720);C.aspectRatio=C.width / C.height;"string" === typeof C.cellResolution?(D=C.cellResolution.split(" ").map(function(F){return parseInt(F,10);}),C.cellResolution={},C.cellResolution.x=D[0],C.cellResolution.y=D[1]):C.cellResolution={x:52,y:19};return C;}function m(C,D){var F;F={};D.forEach(function(G){"undefined" !== typeof C["tts:" + G]?F[G]=C["tts:" + G]:"undefined" !== typeof C["ttp:" + G]?F[G]=C["ttp:" + G]:"undefined" !== typeof C["ebutts:" + G]?F[G]=C["ebutts:" + G]:"undefined" !== typeof C["xml:" + G] && (F[G]=C["xml:" + G]);});F.styles={};F.regions={};return F;}function p(C,D){var F;for(F=C.length - 1;0 <= F;F--)if(C[F].name === D)return !0;return !1;}function r(C,D){return {lineBreaks:D.lineBreaks,text:D.text,lang:D.lang,style:this.vO.sdc(C[D.style] || ({}),this.Kia),id:D.id};}q=a(4574).DJ;u=a(22699).EventEmitter;v=a(60514);w=a(96379);x=a(81668);a(81824);a(81824);y=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline textCombine multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear lineHeight").split(" ");z=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");B=("backgroundColor displayAlign extent origin position writingMode multiRowAlign textAlign direction").split(" ");A={info:f,debug:f};b=Object.create(u.prototype);e.prototype=b;b.start=function(){var C;C=this;C.wa.info("incremental text stream created, starting at pts " + C.pl);C.wO?g.call(C):C.qO({url:C.Ag},function(D,F){C.wO=F;g.call(C);});};b.gK=function(C){var D,F,G;D=this;C < D.xn - D.TN && (D.Pb=[]);F=D.Pb;G=F.length?Math.max(F[F.length - 1].startTime,C):C;D.xn=C;for(!D.df && 5 > D.Pb.length && !D.hr && (D.wa.info("buffer size: " + D.Pb.length + "; minimum: 5"),D.hr=!0,D.df=setTimeout(function(){D.df=null;k.call(D,G + 1);},10));0 < F.length && F[0].endTime < C;)F.shift();F=h(F,C).map(d.bind(D,D.Kia));C < D.Yh.csb() && 0 === F.length && (F=null);return F;};b.mq=function(C,D){return this.Yh?this.Yh.mq(C,D):0;};b.close=function(){};t.exports={iAa:e,MEb:c,Fd:n,Dna:h,Rla:d};},60514:function(t){var u,v,w,x,y,z,B,A,C,D,F,G,E,H,J,L,K;function b(){}function a(M,P){if(!(this instanceof a))return new a(M,P);for(var I=0,O=v.length;I < O;I++)this[v[I]]="";this.q=this.c=this.cq=this.textNode="";this.vW=u.zN;this.mf=P || ({});this.mf.DAb=this.mf.DAb || this.mf.C7c;this.MTa=this.mf.DAb?"toLowerCase":"toUpperCase";this.vk=[];this.closed=this.RW=this.OS=!1;this.tag=this.error=null;this.Gq=!!M;this.dDb=!(!M && !this.mf.dDb);this.state=K.eU;this.qE=(this.mMb=this.mf.mMb)?Object.create(u.$Zb):Object.create(u.qE);this.pJ=[];this.mf.Yea && (this.Nm=Object.create(H));if(this.Kva=!1 !== this.mf.position)this.position=this.line=this.KF=0;this.onready && this.onready(void 0);}function d(M,P){var I;if(!(this instanceof d))return new d(M,P);b.apply(this);this.Ce=new a(M,P);this.readable=this.writable=!0;I=this;this.Ce.onend=function(){I.emit("end");};this.Ce.onerror=function(O){I.emit("error",O);I.Ce.error=null;};w.forEach(function(O){Object.defineProperty(I,"on" + O,{get:function(){return I.Ce["on" + O];},set:function(Q){if(!Q)return (I.removeAllListeners(O),I.Ce["on" + O]=Q);I.on(O,Q);},enumerable:!0,configurable:!1});});}function n(M){return M.split("").reduce(function(P,I){P[I]=!0;return P;},{});}function c(M,P){return "[object RegExp]" === Object.prototype.toString.call(M)?!!P.match(M):M[P];}function h(M,P,I){M.textNode && f(M);M[P] && M[P](I);}function f(M){M.textNode=e(M.mf,M.textNode);M.textNode && M.ontext && M.ontext(M.textNode);M.textNode="";}function e(M,P){M.trim && (P=P.trim());M.normalize && (P=P.replace(/\s+/g," "));return P;}function g(M,P){f(M);M.Kva && (P+="\nLine: " + M.line + "\nColumn: " + M.KF + "\nChar: " + M.c);P=Error(P);M.error=P;M.onerror && M.onerror(P);return M;}function k(M){M.OS && !M.RW && l(M,"Unclosed root tag");M.state !== K.eU && M.state !== K.Axa && M.state !== K.Ba && g(M,"Unexpected end");f(M);M.c="";M.closed=!0;M.onend && M.onend(void 0);a.call(M,M.Gq,M.mf);return M;}function l(M,P){if("object" !== typeof M || !(M instanceof a))throw Error("bad call to strictFail");M.Gq && g(M,P);}function m(M,P){var I,O;I=0 > M.indexOf(":")?["",M]:M.split(":");O=I[0];I=I[1];P && "xmlns" === M && (O="xmlns",I="");return {prefix:O,local:I};}function p(M){var P,I,O;M.Gq || (M.rl=M.rl[M.MTa]());if(-1 !== M.pJ.indexOf(M.rl) || M.tag.attributes.hasOwnProperty(M.rl))return M.rl=M.sl="";if(M.mf.Yea){P=m(M.rl,!0);I=P.local;if("xmlns" === P.prefix)if("xml" === I && M.sl !== G)l(M,"xml: prefix must be bound to " + G + "\nActual: " + M.sl);else if("xmlns" === I && M.sl !== E)l(M,"xmlns: prefix must be bound to " + E + "\nActual: " + M.sl);else {P=M.tag;O=M.vk[M.vk.length - 1] || M;P.Nm === O.Nm && (P.Nm=Object.create(O.Nm));P.Nm[I]=M.sl;}M.pJ.push([M.rl,M.sl]);}else (M.tag.attributes[M.rl]=M.sl,h(M,"onattribute",{name:M.rl,value:M.sl}));M.rl=M.sl="";}function r(M,P){var I,O,S,U,W,Y,X;if(M.mf.Yea){I=M.tag;O=m(M.tagName);I.prefix=O.prefix;I.local=O.local;I.uri=I.Nm[O.prefix] || "";I.prefix && !I.uri && (l(M,"Unbound namespace prefix: " + JSON.stringify(M.tagName)),I.uri=O.prefix);O=M.vk[M.vk.length - 1] || M;I.Nm && O.Nm !== I.Nm && Object.keys(I.Nm).forEach(function(Z){h(M,"onopennamespace",{prefix:Z,uri:I.Nm[Z]});});O=0;for(var Q=M.pJ.length;O < Q;O++){S=M.pJ[O];U=S[0];W=S[1];Y=m(U,!0);S=Y.prefix;X="" == S?"":I.Nm[S] || "";W={name:U,value:W,prefix:S,local:Y.local,uri:X};S && "xmlns" != S && !X && (l(M,"Unbound namespace prefix: " + JSON.stringify(S)),W.uri=S);M.tag.attributes[U]=W;h(M,"onattribute",W);}M.pJ.length=0;}M.tag.T6c=!!P;M.OS=!0;M.vk.push(M.tag);h(M,"onopentag",M.tag);P || (M.state=M.dDb || "script" !== M.tagName.toLowerCase()?K.Ba:K.iV,M.tag=null,M.tagName="");M.rl=M.sl="";M.pJ.length=0;}function q(M){var P,I,Q;if(M.tagName){if(M.Ym){if("script" !== M.tagName){M.Ym+="</" + M.tagName + ">";M.tagName="";M.state=K.iV;return;}h(M,"onscript",M.Ym);M.Ym="";}P=M.vk.length;I=M.tagName;M.Gq || (I=I[M.MTa]());for(var O=I;P--;)if(M.vk[P].name !== O)l(M,"Unexpected close tag");else break;if(0 > P)(l(M,"Unmatched closing tag: " + M.tagName),M.textNode+="</" + M.tagName + ">");else {M.tagName=I;for(I=M.vk.length;I-- > P;){Q=M.tag=M.vk.pop();M.tagName=M.tag.name;h(M,"onclosetag",M.tagName);for(var S in Q.Nm);O=M.vk[M.vk.length - 1] || M;M.mf.Yea && Q.Nm !== O.Nm && Object.keys(Q.Nm).forEach(function(U){h(M,"onclosenamespace",{prefix:U,uri:Q.Nm[U]});});}0 === P && (M.RW=!0);M.tagName=M.sl=M.rl="";M.pJ.length=0;}}else (l(M,"Weird empty close tag."),M.textNode+="</>");M.state=K.Ba;}u={Ie:function(M,P){return new a(M,P);}};u.R_c=a;u.S_c=d;u.ELa=function(M){return new d(M,void 0);};u.zN=65536;v=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");u.Ul=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(M){function P(){this.__proto__=M;}P.prototype=M;return new P();});Object.getPrototypeOf || (Object.getPrototypeOf=function(M){return M.__proto__;});Object.keys || (Object.keys=function(M){var P,I;P=[];for(I in M)M.hasOwnProperty(I) && P.push(I);return P;});a.prototype={end:function(){k(this);},write:function(M){var Q,S,U,W,Y,X;if(this.closed)return g(this,"Cannot write after close. Assign an onready handler.");if(null === M)return k(this);if(this.error)throw this.error;for(var P=0,I;this.c=I=M.charAt(P++);)switch((this.Kva && (this.position++,"\n" === I?(this.line++,this.KF=0):this.KF++),this.state)){case K.eU:if((this.state=K.Axa,"\ufeff" === I))continue;case K.Axa:"<" === I?(this.state=K.uCa,this.E_a=this.position):c(x,I) || (l(this,"Non-whitespace before first tag."),this.textNode=I,this.state=K.Ba);continue;case K.Ba:if(this.OS && !this.RW){for(var O=P - 1;I && "<" !== I && "&" !== I;)(I=M.charAt(P++)) && this.Kva && (this.position++,"\n" === I?(this.line++,this.KF=0):this.KF++);this.textNode+=M.substring(O,P - 1);}"<" !== I || this.OS && this.RW && !this.Gq?(c(x,I) || this.OS && !this.RW || l(this,"Text data outside of root node."),"&" === I?this.state=K.kFa:this.textNode+=I):(this.state=K.uCa,this.E_a=this.position);continue;case K.iV:"<" === I?this.state=K.Odb:this.Ym+=I;continue;case K.Odb:"/" === I?this.state=K.Sxa:(this.Ym+="<" + I,this.state=K.iV);continue;case K.uCa:"!" === I?(this.state=K.AEa,this.py=""):c(x,I) || (c(J,I)?(this.state=K.Pab,this.tagName=I):"/" === I?(this.state=K.Sxa,this.tagName=""):"?" === I?(this.state=K.rbb,this.ota=this.oS=""):(l(this,"Unencoded <"),this.E_a + 1 < this.position && (I=Array(this.position - this.E_a).join(" ") + I),this.textNode+="<" + I,this.state=K.Ba));continue;case K.AEa:(this.py + I).toUpperCase() === D?(h(this,"onopencdata"),this.state=K.tfa,this.Wp=this.py=""):"--" === this.py + I?(this.state=K.yfa,this.py=this.Zp=""):(this.py + I).toUpperCase() === F?(this.state=K.Efa,(this.doctype || this.OS) && l(this,"Inappropriately located doctype declaration"),this.py=this.doctype=""):">" === I?(h(this,"onsgmldeclaration",this.py),this.py="",this.state=K.Ba):(c(B,I) && (this.state=K.Sdb),this.py+=I);continue;case K.Sdb:I === this.q && (this.state=K.AEa,this.q="");this.py+=I;continue;case K.Efa:">" === I?(this.state=K.Ba,h(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=I,"[" === I?this.state=K.pya:c(B,I) && (this.state=K.v5a,this.q=I));continue;case K.v5a:this.doctype+=I;I === this.q && (this.q="",this.state=K.Efa);continue;case K.pya:this.doctype+=I;"]" === I?this.state=K.Efa:c(B,I) && (this.state=K.u5a,this.q=I);continue;case K.u5a:this.doctype+=I;I === this.q && (this.state=K.pya,this.q="");continue;case K.yfa:"-" === I?this.state=K.C4a:this.Zp+=I;continue;case K.C4a:"-" === I?(this.state=K.B4a,(this.Zp=e(this.mf,this.Zp)) && h(this,"oncomment",this.Zp),this.Zp=""):(this.Zp+="-" + I,this.state=K.yfa);continue;case K.B4a:">" !== I?(l(this,"Malformed comment"),this.Zp+="--" + I,this.state=K.yfa):this.state=K.Ba;continue;case K.tfa:"]" === I?this.state=K.r4a:this.Wp+=I;continue;case K.r4a:"]" === I?this.state=K.s4a:(this.Wp+="]" + I,this.state=K.tfa);continue;case K.s4a:">" === I?(this.Wp && h(this,"oncdata",this.Wp),h(this,"onclosecdata"),this.Wp="",this.state=K.Ba):"]" === I?this.Wp+="]":(this.Wp+="]]" + I,this.state=K.tfa);continue;case K.rbb:"?" === I?this.state=K.KCa:c(x,I)?this.state=K.JCa:this.ota+=I;continue;case K.JCa:if(!this.oS && c(x,I))continue;else "?" === I?this.state=K.KCa:this.oS+=I;continue;case K.KCa:">" === I?(h(this,"onprocessinginstruction",{name:this.ota,body:this.oS}),this.ota=this.oS="",this.state=K.Ba):(this.oS+="?" + I,this.state=K.JCa);continue;case K.Pab:if(c(L,I))this.tagName+=I;else {this.Gq || (this.tagName=this.tagName[this.MTa]());O=this.vk[this.vk.length - 1] || this;Q=this.tag={name:this.tagName,attributes:{}};this.mf.Yea && (Q.Nm=O.Nm);this.pJ.length=0;">" === I?r(this):"/" === I?this.state=K.Wga:(!c(x,I) && l(this,"Invalid character in tag name"),this.state=K.cU);}continue;case K.Wga:">" === I?(r(this,!0),q(this)):(l(this,"Forward-slash in opening tag not followed by >"),this.state=K.cU);continue;case K.cU:if(c(x,I))continue;else ">" === I?r(this):"/" === I?this.state=K.Wga:c(J,I)?(this.rl=I,this.sl="",this.state=K.bfa):l(this,"Invalid attribute name");continue;case K.bfa:"=" === I?this.state=K.Jwa:">" === I?(l(this,"Attribute without value"),this.sl=this.rl,p(this),r(this)):c(x,I)?this.state=K.o2a:c(L,I)?this.rl+=I:l(this,"Invalid attribute name");continue;case K.o2a:if("=" === I)this.state=K.Jwa;else if(c(x,I))continue;else (l(this,"Attribute without value"),this.sl=this.tag.attributes[this.rl]="",h(this,"onattribute",{name:this.rl,value:""}),this.rl="",">" === I?r(this):c(J,I)?(this.rl=I,this.state=K.bfa):(l(this,"Invalid attribute name"),this.state=K.cU));continue;case K.Jwa:if(c(x,I))continue;else c(B,I)?(this.q=I,this.state=K.Mwa):(l(this,"Unquoted attribute value"),this.state=K.Nwa,this.sl=I);continue;case K.Mwa:if(I !== this.q){"&" === I?this.state=K.Kwa:this.sl+=I;continue;}p(this);this.q="";this.state=K.p2a;continue;case K.p2a:c(x,I)?this.state=K.cU:">" === I?r(this):"/" === I?this.state=K.Wga:c(J,I)?(l(this,"No whitespace between attributes"),this.rl=I,this.sl="",this.state=K.bfa):l(this,"Invalid attribute name");continue;case K.Nwa:if(!c(C,I)){"&" === I?this.state=K.Lwa:this.sl+=I;continue;}p(this);">" === I?r(this):this.state=K.cU;continue;case K.Sxa:if(this.tagName)">" === I?q(this):c(L,I)?this.tagName+=I:this.Ym?(this.Ym+="</" + this.tagName,this.tagName="",this.state=K.iV):(!c(x,I) && l(this,"Invalid tagname in closing tag"),this.state=K.z4a);else if(c(x,I))continue;else c(J,I)?this.tagName=I:this.Ym?(this.Ym+="</" + I,this.state=K.iV):l(this,"Invalid tagname in closing tag.");continue;case K.z4a:if(c(x,I))continue;">" === I?q(this):l(this,"Invalid characters in closing tag");continue;case K.kFa:case K.Kwa:case K.Lwa:switch(this.state){case K.kFa:(S=K.Ba,U="textNode");break;case K.Kwa:S=K.Mwa;U="attribValue";break;case K.Lwa:(S=K.Nwa,U="attribValue");}if(";" === I){I=U;O=this[I];Q=this.cq;W=Q.toLowerCase();Y="";if(this.qE[Q])Q=this.qE[Q];else if(this.qE[W])Q=this.qE[W];else {Q=W;if("#" === Q.charAt(0))if("x" === Q.charAt(1)){Q=Q.slice(2);X=parseInt(Q,16);Y=X.toString(16);}else (Q=Q.slice(1),X=parseInt(Q,10),Y=X.toString(10));Q=Q.replace(/^0+/,"");Q=Y.toLowerCase() !== Q?(l(this,"Invalid character entity"),"&" + this.cq + ";"):String.fromCodePoint(X);}this[I]=O + Q;this.cq="";this.state=S;}else c(A,I)?this.cq+=I:(l(this,"Invalid character entity"),this[U]+="&" + this.cq + I,this.cq="",this.state=S);continue;default:throw Error(this,"Unknown state: " + this.state);}if(this.position >= this.vW){M=Math.max(u.zN,10);I=P=0;for(S=v.length;I < S;I++){U=this[v[I]].length;if(U > M)switch(v[I]){case "textNode":f(this);break;case "cdata":h(this,"oncdata",this.Wp);this.Wp="";break;case "script":h(this,"onscript",this.Ym);this.Ym="";break;default:g(this,"Max buffer length exceeded: " + v[I]);}P=Math.max(P,U);}this.vW=u.zN - P + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){f(this);"" !== this.Wp && (h(this,"oncdata",this.Wp),this.Wp="");"" !== this.Ym && (h(this,"onscript",this.Ym),this.Ym="");}};w=u.Ul.filter(function(M){return "error" !== M && "end" !== M;});d.prototype=Object.create(b.prototype,{constructor:{value:d}});d.prototype.write=function(M){this.Ce.write(M.toString());this.emit("data",M);return !0;};d.prototype.end=function(M){M && M.length && this.write(M);this.Ce.end();return !0;};d.prototype.on=function(M,P){var I;I=this;I.Ce["on" + M] || -1 === w.indexOf(M) || (I.Ce["on" + M]=function(){var O;O=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);O.splice(0,0,M);I.emit.apply(I,O);});return b.prototype.on.call(I,M,P);};x="\r\n\t ";y="0124356789";z="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";B="'\"";A=y + z + "#";C=x + ">";D="[CDATA[";F="DOCTYPE";G="http://www.w3.org/XML/1998/namespace";E="http://www.w3.org/2000/xmlns/";H={xml:G,Yea:E};x=n(x);y=n(y);z=n(z);J=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;L=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;B=n(B);A=n(A);C=n(C);K=0;u.$q={eU:K++,Axa:K++,Ba:K++,kFa:K++,uCa:K++,AEa:K++,Sdb:K++,Efa:K++,v5a:K++,pya:K++,u5a:K++,AWc:K++,yfa:K++,C4a:K++,B4a:K++,tfa:K++,r4a:K++,s4a:K++,rbb:K++,JCa:K++,KCa:K++,Pab:K++,Wga:K++,cU:K++,bfa:K++,o2a:K++,Jwa:K++,Mwa:K++,p2a:K++,Nwa:K++,Kwa:K++,Lwa:K++,Sxa:K++,z4a:K++,iV:K++,Odb:K++};u.$Zb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};u.qE={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(u.qE).forEach(function(M){var P;P=u.qE[M];P="number" === typeof P?String.fromCharCode(P):P;u.qE[M]=P;});for(K in u.$q)u.$q[u.$q[K]]=K;K=u.$q;String.fromCodePoint || (function(){var P,I;function M(){var O,Q,S,W,Y;O=[];Q=-1;S=arguments.length;if(!S)return "";for(var U="";++Q < S;){W=Number(arguments[Q]);if(!isFinite(W) || 0 > W || 1114111 < W || I(W) != W)throw RangeError("Invalid code point: " + W);if(65535 >= W)O.push(W);else {W-=65536;Y=(W >> 10) + 55296;W=W % 1024 + 56320;O.push(Y,W);}if(Q + 1 == S || 16384 < O.length)(U+=P.apply(null,O),O.length=0);}return U;}P=String.fromCharCode;I=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:M,configurable:!0,writable:!0}):String.fromCodePoint=M;})();t.exports=u;},11946:function(t){t.exports=function(){var b;for(b=0;b < arguments.length;b++)if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];return null;};},81668:function(t,b,a){var h,f,e,g,k,l,m,p;function d(r){return "string" !== typeof r?null:f[r];}function n(r){return "string" !== typeof r?null:k[r];}function c(r,q){var u;u=r.split(" ");r=u[0];u=u[1];-1 < r.indexOf("px")?(r=parseFloat(r) / q.width,u=parseFloat(u) / q.height):(r=.01 * parseFloat(r),u=.01 * parseFloat(u));return [r,u];}h=a(11946);t.exports={idc:function(r,q){var u,v,w,x,y,z,G;u=q.textNodes[0] || ({});v=r.regions;w=r.styles;x=r.aspectRatio;y=r.initialStyle || ({});v=v && v[q.region]?v[q.region]:{};w=w && w[u.style]?w[u.style]:{};u=u.lang;z=c(h(q.extent,v.extent,"80% 80%"),r);if(v.position){for(var B=v.position.split(" "),A=[.5,.5],C=["left","top"],D=0,F=0;F < B.length;F++){G=B[F];(G in m)?(C[D]=G,F + 1 >= B.length && (A[D++]=0)):"center" === G?A[D++]=.5:A[D++]=.01 * parseFloat(G);}-1 < ["top","bottom"].indexOf(C[0]) || -1 < ["left","right"].indexOf(C[1])?(D="bottom" === C[0]?1 - A[0]:A[0],B="right" === C[1]?1 - A[1]:A[1]):(B="right" === C[0]?1 - A[0]:A[0],D="bottom" === C[1]?1 - A[1]:A[1]);A=[(1 - z[0]) * B,(1 - z[1]) * D];}else A=null;q=A?A:c(h(A,q.origin,v.origin,"10% 10%"),r);r=Object;x/=1280 / 720;A=(1 - x) / 2;C=q[0];q=q[1];z=r.create.call(r,{marginLeft:C * x + A,marginTop:q,marginRight:(1 - (C + z[0])) * x + A,marginBottom:1 - (q + z[1])});x=v.writingMode?v.writingMode:"lrtb";z.writingMode="string" !== typeof x?null:l[x];1 < Object.keys(v).length?(x=h(w.displayAlign,v.displayAlign,"before"),"tblr" === v.writingMode || "tbrl" === v.writingMode?(z.horizontalAlignment="string" !== typeof x?null:"tblr" === v.writingMode?e[x]:g[x],z.verticalAlignment=d(h(w.textAlign,v.textAlign,"start"))):z.verticalAlignment=d(x)):z.verticalAlignment=d(h(w.displayAlign,"after"));"horizontal-tb" === z.writingMode && (z.horizontalAlignment=n(h(w.textAlign,v.textAlign,y.textAlign,"center")));z.multiRowAlignment=n(h(w.multiRowAlign,v.multiRowAlign,w.textAlign,v.textAlign,y.textAlign,u && "ja" === u.slice(0,2)?"start":"center"));y=h(v.direction,v.writingMode);z.direction="string" !== typeof y?null:p[y];return z;}};f={before:"top",start:"top",center:"center",after:"bottom",end:"bottom"};e={before:"left",center:"center",after:"right"};g={before:"right",center:"center",after:"left"};k={left:"left",start:"start",center:"center",right:"right",end:"end"};l={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};m={top:"top",bottom:"bottom",left:"left",right:"right"};p={ltr:"ltr",rtl:"rtl",lrtb:"ltr",rltb:"rtl"};},81824:function(t,b){var a,d,n,c;Object.defineProperty(b,"__esModule",{value:!0});t={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};d={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};n={SMALL:.5,"SMALL-MEDIUM":.8,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};c={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};b.NPc={umb:n,snb:a,Msb:d,hEb:t,sizeScaleMap:{MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}},M0a:c};b.Twc={umb:n,snb:a,Msb:d,hEb:t,sizeScaleMap:{},M0a:c};},7376:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.Zeb=void 0;d=a(22970);n=d.__importDefault(a(11946));c=("start center end spaceAround spaceBetween withBase").split(" ");h=["before","after","both","outside"];f=["before","after","outside"];e=["filled","open"];g=["circle","dot","sesame"];k=["none","auto"];l=["before","after","outside"];m=("container base baseContainer text textContainer delimiter").split(" ");p=["characterStyle","characterSize"];t=(function(){function r(q,u,v,w){this.Ab=q;this.Cu=u;this.w0b=w;this.Gu=this.tqc(v);}r.prototype.sdc=function(q,u){var v,w,x;v=(0,n.default)(this.Gu.characterSize,this.Cu.characterSize,"MEDIUM");w=(0,n.default)(this.Gu.characterStyle,this.okc(q.fontFamily),this.Cu.characterStyle,"PROPORTIONAL_SANS_SERIF");x=this.XDc(q.fontSize);return {characterUnderline:"underline" === q.textDecoration,characterItalic:"italic" === q.fontStyle,characterStyle:w,windowOpacity:this.PVa((0,n.default)(this.Gu.windowOpacity,this.Cu.windowOpacity,"OPAQUE")),characterOpacity:this.PVa((0,n.default)(this.Gu.characterOpacity,this.Cu.characterOpacity,"OPAQUE")),backgroundOpacity:this.PVa((0,n.default)(this.Gu.backgroundOpacity,q.opacity,this.Cu.backgroundOpacity,"OPAQUE")),characterColor:this.Z6((0,n.default)(this.Gu.characterColor,q.color,this.Cu.characterColor,"#ffffff")),backgroundColor:this.Z6((0,n.default)(this.Gu.backgroundColor,q.backgroundColor,this.Cu.backgroundColor,null)),windowColor:this.Z6((0,n.default)(this.Gu.windowColor,q.windowColor,this.Cu.windowColor,null)),characterEdgeAttributes:(0,n.default)(this.Gu.characterEdgeAttributes,this.Cu.characterEdgeAttributes,null),characterSize:this.V8b(v,w,x),characterTracking:this.W8b(v,w),characterEdgeWidth:(0,n.default)(this.O7b(q.textOutline),0),characterEdgeBlur:(0,n.default)(this.M7b(q.textOutline),0),characterEdgeColor:this.Z6((0,n.default)(this.Gu.characterEdgeColor,this.N7b(q.textOutline),this.Cu.characterEdgeColor,"#000000")),direction:(0,n.default)(this.Gu.direction,q.direction,this.Cu.direction,"ltr"),ruby:(0,n.default)(this.ssa(q.ruby,m),null),rubyAlign:(0,n.default)(this.ssa(q.rubyAlign,c),null),rubyPosition:(0,n.default)(this.ssa(q.rubyPosition,f),null),rubyReserve:(0,n.default)(this.ssa(q.rubyReserve,h),null),textEmphasis:this.tEc(q.textEmphasis),shear:q.shear?.01 * parseFloat(q.shear):null,textCombine:q.textCombine?q.textCombine:null,lineHeight:q.lineHeight?this.bEc(q.lineHeight,u):null};};r.prototype.bEc=function(q,u){var v;v=q.match(/^([\d\.]+)([a-z%]*)$/i);if(!v)return null;q=parseFloat(v[1]);switch(v[2]){case "rh":(null === u || void 0 === u?0:u.height)?(q*=u.height,u="px"):u=v[2];break;case "rw":(null === u || void 0 === u?0:u.width)?(q*=u.width,u="px"):u=v[2];break;default:u=v[2];}return {value:q,yh:u};};r.prototype.PVa=function(q){return this.Ab.hEb[q];};r.prototype.Z6=function(q){return "string" !== typeof q || "#" === q[0] && 7 === q.length?q:"#" === q[0] && 4 === q.length?"#" + q[1] + q[1] + q[2] + q[2] + q[3] + q[3]:this.Ab.snb[q.toLowerCase()];};r.prototype.okc=function(q){return "string" !== typeof q?null:this.Ab.Msb[q];};r.prototype.V8b=function(q,u,v){var w;v*=this.Ab.umb[q] || 1;w=1;this.Ab.sizeScaleMap[q] && (w=this.Ab.sizeScaleMap[q][u] || 1);return 1 / 19 * v * w;};r.prototype.W8b=function(q,u){var v;v=0;this.Ab.M0a[q] && (v=this.Ab.M0a[q][u] || 0);return v;};r.prototype.O7b=function(q){return "string" !== typeof q?null:this.lWa(q).width;};r.prototype.M7b=function(q){return "string" !== typeof q?null:this.lWa(q).blur;};r.prototype.N7b=function(q){return "string" !== typeof q?null:this.lWa(q).color;};r.prototype.lWa=function(q){var u,v,w;q=(q || "").split(" ");u=(/^[0-9]/).test(q[0]);v=u?0:1;w=parseInt(q[v]);v=parseInt(q[v + 1]);return {color:u?"#000000":this.Z6(q[0]),width:0 < w?w:0,blur:0 < v?v:0};};r.prototype.XDc=function(q){q=(q || "").split(" ")[0] || "";return -1 < q.indexOf("%")?parseInt(q,10) / 100:-1 < q.indexOf("em")?parseFloat(q):1;};r.prototype.ssa=function(q,u){if(-1 < u.indexOf(q))return q;};r.prototype.tEc=function(q){var u,v;if(!q)return null;q=q.split(" ");if(0 === q.length)return null;u=this.sna(q,l);u=u.length?u[0]:"outside";v=this.sna(q,k);if(v.length)return this.VZa(v[0],"",u);v=this.sna(q,e);q=this.sna(q,g);return q.length || v.length?this.VZa(q.length?q[0]:"circle",v.length?v[0]:"filled",u):this.VZa("auto","",u);};r.prototype.sna=function(q,u){return q.filter(function(v){return -1 !== u.indexOf(v);});};r.prototype.VZa=function(q,u,v){return {textEmphasisShape:q,textEmphasisFill:u,textEmphasisPosition:v};};r.prototype.ZRa=function(q){return q && 0 === Object.keys(q).length;};r.prototype.tqc=function(q){var u,v,y;if(this.w0b){v={};try{for(var w=d.__values(p),x=w.next();!x.done;x=w.next()){y=x.value;void 0 !== q[y] && (v[y]=q[y]);}}catch(B){var z;z={error:B};}finally{try{x && !x.done && (u=w.return) && u.call(w);}finally{if(z)throw z.error;}}return v;}return q;};return r;})();b.Zeb=t;},96379:function(t,b,a){var n;function d(c,h){var f,e,g,k,l,m,p,r;this.SGa=!0;f=c.indexOf("<p");e=[];g=f;k=-1;do {l={};l.vOc=g;m=c.indexOf("begin=",g) + 7;p=c.indexOf("end=",g) + 5;r=c.substr(m,12);g === f && -1 !== r.indexOf(":") && (this.SGa=!1);this.SGa?(m=Math.floor(parseInt(c.substr(m,25),10) / h * 1E3),p=Math.floor(parseInt(c.substr(p,25),10) / h * 1E3)):(m=n(c.substr(m,12)),p=n(c.substr(p,12)));k=p > k?p:k;l.startTime=m;l.endTime=p;l.latestEndSoFar=k;l.hrb=c.indexOf("/p>",g) + 3;g=l.hrb;e.push(l);g=c.indexOf("<p",g);}while(-1 !== g);this.Du=e;this.wO=c;}n=a(4574).DJ;d.prototype.csb=function(){return this.Du[this.Du.length - 1].endTime;};d.prototype.mq=function(c,h){return this.Du.filter(function(f){return f.startTime <= h && f.endTime >= c;}).length;};d.prototype.ooc=function(c){for(var h="",f=this.Du.filter(function(g){return g.startTime <= c && c < g.endTime || g.startTime >= c;}),e=4;e + 1 < f.length && f[e + 1].startTime === f[4].startTime;)e++;f=f.slice(0,e + 1);0 < f.length && (h=this.wO.slice(f[0].vOc,f[f.length - 1].hrb));return h;};t.exports=d;},23309:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Aga=b.M9a=b.W3=void 0;d=a(91176);b.W3=1E4;t=(function(){function c(h){this.Zg=[];this.n5=0;this.wa=h;}Object.defineProperty(c.prototype,"endOfStreamSegment",{get:function(){return this.X_b;},enumerable:!1,configurable:!0});c.prototype.rQ=function(h){return (0,d.ic)(this.Zg,function(f){return h >= f.Eb && h < f.Dg;});};c.prototype.AIa=function(h,f){var g;for(var e=this.Zg;0 < e.length && 300 <= h.L - e[0].L;)this.Sca();for(;0 < e.length && 300 <= e[e.length - 1].L - h.L;)this.eZa();g=new n(h,f);h=e.length;if(0 === h || e[h - 1].L < g.L)this.fZa(g);else {h=(0,d.ic)(e,function(k){return k.L >= g.L;});if((null === h || void 0 === h?void 0:h.L) === g.L)return;this.gZa(e.indexOf(h),g);}g.endOfStream && (this.wa.trace("EOS segment added to segment manager"),this.X_b=g);this.n5=e[e.length - 1].L;};c.prototype.tea=function(h){var f;if("undefined" === typeof h)this.wa.warn("Current segment is undefined.");else for((this.Kp=h,this.wa.trace(("Current segment id is ").concat(h.L)));(null === (f=this.Zg[0]) || void 0 === f?void 0:f.Dg) < h.Dg - b.W3;)this.Sca();};c.prototype.HPa=function(){if(this.Eu){if(this.n5 !== this.Eu.L)return this.Zg[this.Zg.indexOf(this.Eu) + 1];}else return this.Zg[0];};c.prototype.sB=function(h){this.Eu=this.yC(h);};c.prototype.yC=function(h){var f;f=(0,d.ic)(this.Zg,function(e){return e.L === h;});"undefined" === typeof f && this.wa.error("Segment with segmentId " + h + " is not in segmentArray");return f;};c.prototype.l9=function(){var h;return (null === (h=this.Eu) || void 0 === h?void 0:h.L) || -1;};c.prototype.p1a=function(h,f){h=this.yC(h);"undefined" !== typeof h && (this.Zg[this.Zg.indexOf(h)].header=f);};c.prototype.Avb=function(h){return this.yC(h);};c.prototype.cPa=function(h){h=this.yC(h);return (null === h || void 0 === h?void 0:h.header) || ({});};c.prototype.Sca=function(){this.Zg.shift();};c.prototype.fZa=function(h){this.Zg.push(h);};c.prototype.gZa=function(h,f){this.Zg.splice(h,0,f);};c.prototype.eZa=function(){this.Zg.pop();};return c;})();b.M9a=t;n=(function(){return function(c,h){this.L=c.L;this.xml=c.xml;this.Eb=c.Eb;this.Dg=c.Dg;this.zQ=h;this.size=c.size;this.by=c.by;this.endOfStream=c.endOfStream;};})();b.Aga=n;},51665:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.O9a=void 0;d=a(22970);t=(function(n){function c(h,f){f=n.call(this,h,f) || this;f.xml=h.xml;f.size=h.size;return f;}d.__extends(c,n);return c;})(a(23309).Aga);b.O9a=t;},37494:function(t,b,a){var d,n,c,h,f,e,g;Object.defineProperty(b,"__esModule",{value:!0});b.P9a=void 0;d=a(22970);t=a(22699);n=a(18797);c=a(60514);h=a(23309);f=a(4574);e=a(4574);g=t.EventEmitter;a=(function(k){function l(m){var p,r,q;p=k.call(this) || this;r=m.gd;q=m.va;g.call(p);p.oF=new f.SAa(q);p.pl="number" === typeof r?m.gd:0;p.wa="object" === typeof q?m.va:console;p.Pb=[];p.Bk=0;p.xn=p.pl;p.df=null;p.Dk=!1;p.hr=!1;p.TN=m.Xba || 0;p.Be=new h.M9a(p.wa);p.vO=m.U_a;p.wa.trace("LiveTextStream created with options",m);return p;}d.__extends(l,k);l.prototype.start=function(){this.wa.info(("Incremental live text stream created, starting at pts ").concat(this.pl));"undefined" !== typeof this.Be.rQ(this.pl) && this.SR.call(this,this.pl);};l.prototype.DXa=function(m){var p,r,q,u;p=this;r=m.xml;q=r.indexOf("<p");this.wa.trace("pushNextSegment",m);this.Be.AIa(m,-1 !== q?q:0);if(!this.Dk){u=this.Be.Zg[0];this.Be.tea(u);this.pl=u.Eb;}-1 < q?(this.oF.Hjb(r,m.L,m.by),this.wa.trace(("Live segment ").concat(m.L," is pushed to segment manager"),{Eb:m.Eb,Dg:m.Dg,Hfc:m.by}),!this.Dk && 3 > this.Bk && (r=0 < this.Pb.length?this.Pb[this.Pb.length - 1].startTime + 1:this.pl,this.wa.trace("parseNextSegment is called from push new live Segment at " + r),this.SR.call(this,r))):(this.wa.trace(("Live segment ").concat(m.L," is pushed to segment manager, it is an empty segment")),this.Dk || setTimeout(function(){p.sB(m.L);},10));};l.prototype.gK=function(m){var p,r,q,u,v,w;p=this;u=this;u.wa.trace(("LiveTextStream:get subtitles at pts ").concat(m));v=u.Be.rQ(m);if("undefined" === typeof v)return (u.wa.debug(("LiveTextStream: get subtitle at pts ").concat(m," returns empty result with segment not available at this pts")),[]);u.Be.tea(v);m < u.xn - u.TN?(u.wa.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(m),(", _lastPts: ").concat(u.xn,", _backupTolerance: ").concat(u.TN)),u.Pb=[],u.Bk=0):(u.Bk=0 < u.Pb.length?Math.max(u.Be.l9() - v.L + 1,0):0,0 === u.Bk && (u.Pb=[]));v=u.Pb;u.wa.trace(("LiveTextStream: lastBufferedPts calculation ").concat(m),(", buffer.length: ").concat(v.length,", result: ").concat(0 < v.length?null === (r=v[v.length - 1]) || void 0 === r?void 0:r.startTime:m));r=this.Be.Eu;w=0 < v.length && void 0 !== r?r.Eb:m;u.xn=m;u.wa.info("LiveTextStream: timer is " + u.df + " bufffered segment number is " + u.Bk + " is parsing entry : " + this.hr + " maxBufferedStartPts " + (null === (q=this.Be.Eu) || void 0 === q?void 0:q.Eb));for(!u.df && 3 > u.Bk && !u.hr && (u.wa.info("LiveTextStream: buffer size: " + u.Bk + "; minimum: 3"),u.hr=!0,u.df=setTimeout(function(){u.df=null;p.wa.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (w + 1));p.SR.call(u,w + 1);},10));0 < v.length && v[0].endTime < m;)v.shift();return (0,n.Dna)(v,m).map(function(x){var y;y=u.Be.cPa(x.segId);return n.Rla.call(u,y,x);});};l.prototype.mq=function(m,p){return this.oF?this.oF.mq(m,p):0;};l.prototype.close=function(){};l.prototype.SR=function(m){var p;p=this.EPa.call(this,m);"undefined" !== typeof p?(this.wa.trace("Next segment to parse at pts " + m + " is segment " + p.L),0 === p.zQ?(this.wa.trace("This is an empty segment"),this.sB(p.L)):(this.jWa.call(this,p),this.wa.trace("parseNextSegEntries buffer length: " + this.Pb.length))):(this.wa.debug("Next segment is undefined at pts " + m),this.hr=!1);};l.prototype.EPa=function(m){var p,r;r=this.oF.Pub(m);this.wa.trace(("Most recent entry at current pts ").concat(m," is segment id  ").concat(r));-1 === r && (r=(null === (p=this.Be.rQ(m)) || void 0 === p?void 0:p.L) || -1);return r === this.Be.l9()?this.Be.HPa():this.Be.yC(r);};l.prototype.jWa=function(m){var p,r,q,u,v;p=this;r=this;q=m.xml.slice(0,m.zQ);u=m.xml.slice(m.zQ,m.xml.lastIndexOf("/p>") + 3);(0,n.MEb)(q,function(w,x){null !== w?(w.Jwb=q,w.L=m.L,r.emit("error",w)):(v=x,r.Be.p1a(m.L,v),p.fWa.call(r,u,v,m));});};l.prototype.fWa=function(m,p,r){var q,u,v,w,x,y,z;q=this;u=this;v=0;w=[];x=p.defaultStyle?[p.defaultStyle]:[];y=p.lang?[p.lang]:[];u.wa.debug(m);z=c.Ie(!0);z.onerror=function(B){B.xml=m;u.emit("error",B);};z.onend=function(){var B;B=u.Pb.reduce(function(A,C){C=C.blocks.reduce(function(D,F){return D.concat([F.id]);},[]);return A.concat(C);},[]);w.forEach(function(A){var C;if(-1 === B.indexOf(A.id)){C=A && A.blocks && A.blocks.filter(function(D){return 0 < D.textNodes.length;});C && 0 < C.length && (A.blocks=C,u.Pb.push(A));}});q.sB(r.L);};z.ontext=function(B){("" !== B.trim() || B.match(/ +/)) && (0,n.Fd)((0,n.Fd)(w).blocks).textNodes.push({text:B.match(/ +/)?B:B.trim(),style:(0,n.Fd)(x),lang:(0,n.Fd)(y),lineBreaks:v});v=0;};z.onclosetag=function(){var B;B=z.tag;"undefined" !== typeof B.attributes.style && x.pop();"undefined" !== typeof B.attributes["xml:lang"] && y.pop();};z.onopentag=function(B){var A,C;A=B.attributes;B=B.name;if("p" === B){v=0;B=r.L.toString() + "_" + A["xml:id"];A.style && x.push(A.style);A["xml:lang"] && y.push(A["xml:lang"]);C=(0,e.DJ)(A.begin);0 === w.length || (0,n.Fd)(w).displayTime !== C?(A=q.sLa(B,0,A,r.by),A.segId=r.L,w.push(A)):(0,n.Fd)(w).blocks.push({textNodes:[],region:A.region,id:B,extent:A["tts:extent"] || null,origin:A["tts:origin"] || null});}else "span" === B?(x.push(A.style),A["xml:lang"] && y.push(A["xml:lang"]),B=p.styles[A.style],A.style && B && B.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(B.ruby) && (0,n.Fd)((0,n.Fd)(w).blocks).textNodes.push({text:"",style:(0,n.Fd)(x),lang:(0,n.Fd)(y),lineBreaks:0})):"br" === B && v++;};z.write("<entries>").write(m).write("</entries>").close();};l.prototype.sLa=function(m,p,r,q){var u;u={};u.id=m;u.startTime=(0,e.DJ)(r.begin || "") - q;u.endTime=(0,e.DJ)(r.end || "") - q;u.style=r.style;u.region=r.region;u.displayTime=u.startTime;u.duration=u.endTime - u.startTime;u.extent=r["tts:extent"] || null;u.origin=r["tts:origin"] || null;u.latestEndSoFar=p > u.endTime?p:u.endTime;u.blocks=[{textNodes:[],region:u.region,id:m,extent:u.extent || null,origin:u.origin || null}];return u;};l.prototype.sB=function(m){this.Be.sB(m);this.Bk+=1;this.hr=!1;this.wa.trace("updateMaxParsedSegment " + m);if(!this.Dk && 3 <= this.Bk || this.Be.hNa && this.Be.Avb(m) === this.Be.hNa)(this.Be.hNa && this.Be.Avb(m) === this.Be.hNa && this.wa.trace("Marking stream ready due to EOS"),this.Dk=!0,this.emit("ready"));};return l;})(g);b.P9a=a;},4574:function(t,b,a){var n,c;function d(h){var f;h=h.split(".");f=h[0].split(":").map(function(e){return parseInt(e,0);});return (3600 * f[0] + 60 * f[1] + f[2]) * c + parseInt(h[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.SAa=void 0;b.DJ=d;n=a(91176);c=1E3;t=(function(){function h(f){this.Du=[];this.wa=f;}h.prototype.Hjb=function(f,e,g){var k,l,m,p,r,q;void 0 === g && (g=0);k=this.Du;l=f.indexOf("<p");m=-1;do {p={};p.L=e;p.sLb=l;r=f.indexOf("begin=",l) + 7;q=f.indexOf("end=",l) + 5;r=d(f.substring(r,r + 12)) - g;q=d(f.substring(q,q + 12)) - g;m=q > m?q:m;p.startTime=r;p.endTime=q;p.latestEndSoFar=m;p.vic=f.indexOf("/p>",l) + 3;l=p.vic;if(0 === k.length || p.startTime > k[k.length - 1].startTime)(k.push(p),this.wa.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,iic:p.endTime}));else if((q=(0,n.ic)(k,function(u){return u.startTime >= p.startTime;}),q.startTime !== p.startTime || q.sLb !== p.sLb))(q=k.indexOf(q),k.splice(q,0,p),this.wa.trace(("LiveTtmlIndex:  entry is pushed at index number ").concat(q),{startTime:p.startTime,iic:p.endTime}));l=f.indexOf("<p",l);}while(-1 !== l);};h.prototype.mq=function(f,e){return this.Du.filter(function(g){return g.startTime <= e && g.endTime >= f;}).length;};h.prototype.wXa=function(f){this.Du=this.Du.filter(function(e){return e.startTime >= f;});};h.prototype.Pub=function(f){var e;e=(0,n.ic)(this.Du,function(g){return g.startTime <= f && f < g.endTime || g.startTime >= f;});return (null === e || void 0 === e?void 0:e.L) || -1;};h.prototype.csb=function(){return 0 < this.Du.length?this.Du[this.Du.length - 1].endTime:0;};return h;})();b.SAa=t;},97115:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Aga=b.Bab=b.W3=void 0;d=a(91176);b.W3=1E4;t=(function(){function n(c){this.Zg=[];this.n5=0;this.wa=c;}n.prototype.rQ=function(c){var h;h=(0,d.ic)(this.Zg,function(f){return c >= f.Eb && c < f.Dg;});"undefined" === typeof h && this.wa.warn("Get Segment at pts " + c + " is undefined");return h;};n.prototype.AIa=function(c){var f;for(var h=this.Zg;0 < h.length && 300 <= c.L - h[0].L;)this.Sca();for(;0 < h.length && 300 <= h[h.length - 1].L - c.L;)this.eZa();f=h.length;if(0 === f || h[f - 1].L < c.L)this.fZa(c);else {f=(0,d.ic)(h,function(e){return e.L >= c.L;});if((null === f || void 0 === f?void 0:f.L) === c.L)return;this.gZa(h.indexOf(f),c);}this.n5=h[h.length - 1].L;};n.prototype.tea=function(c){var h;if("undefined" === typeof c)this.wa.warn("Current segment is undefined.");else for((this.Kp=c,this.wa.trace(("Current segment id is ").concat(c.L)));(null === (h=this.Zg[0]) || void 0 === h?void 0:h.Dg) < c.Dg - b.W3;)this.Sca();};n.prototype.HPa=function(){if(this.Eu){if(this.n5 !== this.Eu.L)return this.Zg[this.Zg.indexOf(this.Eu) + 1];}else return this.Zg[0];};n.prototype.sB=function(c){this.Eu=this.yC(c);};n.prototype.yC=function(c){var h;h=(0,d.ic)(this.Zg,function(f){return f.L === c;});"undefined" === typeof h && this.wa.error("Segment with segmentId " + c + " is not in segmentArray");return h;};n.prototype.l9=function(){var c;return (null === (c=this.Eu) || void 0 === c?void 0:c.L) || -1;};n.prototype.p1a=function(c,h){c=this.yC(c);"undefined" !== typeof c && (this.Zg[this.Zg.indexOf(c)].header=h);};n.prototype.cPa=function(c){c=this.yC(c);return (null === c || void 0 === c?void 0:c.header) || ({});};n.prototype.Sca=function(){this.Zg.shift();};n.prototype.fZa=function(c){this.Zg.push(c);};n.prototype.gZa=function(c,h){this.Zg.splice(c,0,h);};n.prototype.eZa=function(){this.Zg.pop();};return n;})();b.Bab=t;b.Aga=(function(){return function(n,c){this.L=n.L;this.xml=n.xml;this.Eb=n.Eb;this.Dg=n.Dg;this.zQ=c;this.by=n.by;};})();},76851:function(t,b,a){var d,n,c,h,f,e,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.Cab=void 0;d=a(22970);t=a(22699);n=a(18797);c=a(76495);h=a(51665);f=a(4574);e=a(97115);g=a(74528);k=t.EventEmitter;a=(function(l){function m(p,r){var q,u,v;void 0 === r && (r=c.Q3.Ba);q=l.call(this) || this;u=p.gd;v=p.va;k.call(q);q.oF=new f.SAa(v);q.pl="number" === typeof u?p.gd:0;q.wa="object" === typeof v?p.va:console;q.Pb=[];q.Bk=0;q.xn=q.pl;q.df=null;q.Dk=!1;q.hr=!1;q.TN=p.Xba || 0;q.Be=new e.Bab(q.wa);q.vO=p.U_a;q.zib=r;if(r === c.Q3.Ba)q.JHa=new g.peb(q.wa,q.vO);else throw Error("Not implemented yet");q.wa.trace("LiveTextStream created with options",p);return q;}d.__extends(m,l);m.prototype.start=function(){this.wa.info(("Incremental live text stream created, starting at pts ").concat(this.pl));"undefined" !== typeof this.Be.rQ(this.pl) && this.SR.call(this,this.pl);};m.prototype.DXa=function(p){var r,q,u,v;r=this;q=p.xml;u=q.indexOf("<p");if(this.zib === c.Q3.Ba)v=new h.O9a(p,-1 !== u?u:0);else throw Error("Not yet implemented");this.Be.AIa(v);this.Dk || (p=this.Be.Zg[0],this.Be.tea(p),this.pl=p.Eb);-1 < u?(this.oF.Hjb(q,v.L,v.by),this.wa.trace(("Live segment ").concat(v.L," is pushed to segment manager"),{Eb:v.Eb,Dg:v.Dg,Hfc:v.by}),!this.Dk && 4 > this.Bk && (q=0 < this.Pb.length?this.Pb[this.Pb.length - 1].startTime + 1:this.pl,this.wa.trace("parseNextSegment is called from push new live Segment at " + q),this.SR.call(this,q))):(this.wa.trace(("Live segment ").concat(v.L," is pushed to segment manager, it is an empty segment")),this.Dk || setTimeout(function(){r.sB(v.L);},10));};m.prototype.gK=function(p){var r,q,u,v,w,x;r=this;v=this;v.wa.trace(("LiveTextStream:get subtitles at pts ").concat(p));w=v.Be.rQ(p);if("undefined" === typeof w)return (v.wa.debug(("LiveTextStream: get subtitle at pts ").concat(p," returns empty result with segment not available at this pts")),[]);v.Be.tea(w);p < v.xn - v.TN?(v.wa.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(p),(", _lastPts: ").concat(v.xn,", _backupTolerance: ").concat(v.TN)),v.Pb=[],v.Bk=0):(v.Bk=0 < v.Pb.length?Math.max(v.Be.l9() - w.L + 1,0):0,0 === v.Bk && (v.Pb=[]));w=v.Pb;v.wa.trace(("LiveTextStream: lastBufferedPts calculation ").concat(p),(", buffer.length: ").concat(w.length,", result: ").concat(0 < w.length?null === (q=w[w.length - 1]) || void 0 === q?void 0:q.startTime:p));q=this.Be.Eu;x=0 < w.length && void 0 !== q?q.Eb:p;v.xn=p;v.wa.info("LiveTextStream: timer is " + v.df + " bufffered segment number is " + v.Bk + " is parsing entry : " + this.hr + " maxBufferedStartPts " + (null === (u=this.Be.Eu) || void 0 === u?void 0:u.Eb));for(!v.df && 4 > v.Bk && !v.hr && (v.wa.info("LiveTextStream: buffer size: " + v.Bk + "; minimum: 4"),v.hr=!0,v.df=setTimeout(function(){v.df=null;r.wa.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (x + 1));r.SR.call(v,x + 1);},10));0 < w.length && w[0].endTime < p;)w.shift();return this.JHa.Dna(w,p).map(function(y){var z;z=v.Be.cPa(y.segId);return r.JHa.Rla(z,y);});};m.prototype.mq=function(p,r){return this.oF?this.oF.mq(p,r):0;};m.prototype.close=function(){};m.prototype.SR=function(p){d.__awaiter(this,void 0,void 0,function(){var r,q;return d.__generator(this,function(u){switch(u.label){case 0:r=this;q=this.EPa.call(r,p);if("undefined" === typeof q)return [3,4];r.wa.trace("Next segment to parse at pts " + p + " is segment " + q.L);if(0 !== q.zQ)return [3,1];r.wa.trace("This is an empty segment");this.sB(q.L);return [3,3];case 1:return [4,this.jWa.call(r,q)];case 2:(u.T(),r.wa.trace("parseNextSegEntries buffer length: " + r.Pb.length),u.label=3);case 3:return [3,5];case 4:return (r.wa.debug("Next segment is undefined at pts " + p),this.hr=!1,[2]);case 5:return [2];}});});};m.prototype.EPa=function(p){var r,q;q=this.oF.Pub(p);this.wa.trace(("Most recent entry at current pts ").concat(p," is segment id  ").concat(q));-1 === q && (q=(null === (r=this.Be.rQ(p)) || void 0 === r?void 0:r.L) || -1);return q === this.Be.l9()?this.Be.HPa():this.Be.yC(q);};m.prototype.jWa=function(p){return d.__awaiter(this,void 0,void 0,function(){var r,q,u,v,w,x,y,z,B;return d.__generator(this,function(A){switch(A.label){case 0:(r=this,q=p.xml.slice(0,p.zQ),A.label=1);case 1:return (A.tc.push([1,3,,4]),[4,this.ZDc(q)]);case 2:return (u=A.T(),[3,4]);case 3:return (v=A.T(),this.TMa(v),[3,4]);case 4:if(!u)return (w=Error("Parsing header text returned undefined"),this.TMa(w),[2]);if(u.error)return (x=u.error,x.Jwb=q,x.L=p.L,this.TMa(x),[2]);z=u.head;this.Be.p1a(p.L,z);return this.zib !== c.Q3.Ba?[3,6]:[4,this.JHa.fWa(p,z)];case 5:return (y=A.T(),[3,7]);case 6:throw Error("Not yet implemented");case 7:return (B=r.Pb.reduce(function(C,D){D=D.blocks.reduce(function(F,G){return F.concat([G.id]);},[]);return C.concat(D);},[]),y && (y.forEach(function(C){var D;if(-1 === B.indexOf(C.id)){D=C && C.blocks && C.blocks.filter(function(F){return 0 < F.textNodes.length;});D && 0 < D.length && (C.blocks=D,r.Pb.push(C));}}),this.sB(p.L)),[2]);}});});};m.prototype.TMa=function(p){this.wa.error(p);this.emit("error",p);};m.prototype.sB=function(p){this.Be.sB(p);this.Bk+=1;this.hr=!1;!this.Dk && 4 <= this.Bk && (this.Dk=!0,this.emit("ready"));};m.prototype.ZDc=function(p){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){return [2,new Promise(function(r){(0,n.MEb)(p,function(q,u){q?r({error:q}):r({head:u});});})];});});};return m;})(k);b.Cab=a;},74528:function(t,b,a){var d,n,c,h;Object.defineProperty(b,"__esModule",{value:!0});b.peb=void 0;d=a(22970);n=a(18797);c=a(60514);h=a(4574);t=(function(){function f(e,g){this.wa=e;this.vO=g;}f.prototype.fWa=function(e,g){return d.__awaiter(this,void 0,void 0,function(){var k,l,m,p,r,q,u,v,w;w=this;return d.__generator(this,function(){k=this;l=0;m=[];p=g.defaultStyle?[g.defaultStyle]:[];r=g.lang?[g.lang]:[];q=e.xml.lastIndexOf("/p>") + 3;u=e.xml.slice(e.zQ,q);k.wa.debug(u);v=c.Ie(!0);return [2,new Promise(function(x,y){v.onerror=function(z){z.xml=u;y(z);};v.onend=function(){x(m);};v.ontext=function(z){("" !== z.trim() || z.match(/ +/)) && (0,n.Fd)((0,n.Fd)(m).blocks).textNodes.push({text:z.match(/ +/)?z:z.trim(),style:(0,n.Fd)(p),lang:(0,n.Fd)(r),lineBreaks:l});l=0;};v.onclosetag=function(){var z;z=v.tag;"undefined" !== typeof z.attributes.style && p.pop();"undefined" !== typeof z.attributes["xml:lang"] && r.pop();};v.onopentag=function(z){var B,A;B=z.attributes;z=z.name;if("p" === z){l=0;z=e.L.toString() + "_" + B["xml:id"];B.style && p.push(B.style);B["xml:lang"] && r.push(B["xml:lang"]);A=(0,h.DJ)(B.begin);0 === m.length || (0,n.Fd)(m).displayTime !== A?(B=w.sLa(z,0,B,e.by),B.segId=e.L,m.push(B)):(0,n.Fd)(m).blocks.push({textNodes:[],region:B.region,id:z,extent:B["tts:extent"] || null,origin:B["tts:origin"] || null});}else "span" === z?(p.push(B.style),B["xml:lang"] && r.push(B["xml:lang"]),z=g.styles[B.style],B.style && z && z.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(z.ruby) && (0,n.Fd)((0,n.Fd)(m).blocks).textNodes.push({text:"",style:(0,n.Fd)(p),lang:(0,n.Fd)(r),lineBreaks:0})):"br" === z && l++;};v.write("<entries>").write(u).write("</entries>").close();})];});});};f.prototype.Dna=function(e,g){return n.Dna.call(this,e,g);};f.prototype.Rla=function(e,g){return n.Rla.call(this,e,g);};f.prototype.sLa=function(e,g,k,l){var m;m={};m.id=e;m.startTime=(0,h.DJ)(k.begin || "") - l;m.endTime=(0,h.DJ)(k.end || "") - l;m.style=k.style;m.region=k.region;m.displayTime=m.startTime;m.duration=m.endTime - m.startTime;m.extent=k["tts:extent"] || null;m.origin=k["tts:origin"] || null;m.latestEndSoFar=g > m.endTime?g:m.endTime;m.blocks=[{textNodes:[],region:m.region,id:e,extent:m.extent || null,origin:m.origin || null}];return m;};return f;})();b.peb=t;},92020:function(t,b,a){var n,c,h,f,e,g,k,l,m,p;function d(r){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(r);}Object.defineProperty(b,"__esModule",{value:!0});b.qZb=void 0;n=a(22970);t=a(22699);c=a(18797);h=a(81824);f=a(7376);e=a(37494);g=a(76851);k=a(76495);l=a(66827);m=a(3992);p=a(31496);t=(function(r){function q(u,v){var w,x,y,z,B,A,C,D,F;C=r.call(this) || this;C.$a="paused";C.f5=[];C.xn=0;C.mib=!0;D=u.NC || !1;C.wa=u.va || console;C.qO=u.request;C.RB=u.bpc;C.Iia=u.R5c || (function(G,E){return G - (null !== E && void 0 !== E?E:C.RB());});C.$a="paused";C.f5=[];C.v5=v.profile;C.Ag=v.url;C.oO=v.gd;C.xn=C.oO || 0;C.mib=null !== (w=v.T9c) && void 0 !== w?w:!0;C.CV=null !== (x=v.l4c) && void 0 !== x?x:!1;w={url:C.Ag,request:C.qO,gd:null !== (y=C.oO) && void 0 !== y?y:0,va:C.wa,NC:D,bufferSize:v.bufferSize,Xba:v.Xba || 0,Ilb:v.Ilb,za:null !== (z=v.za) && void 0 !== z?z:!1};C.CV && (C.lja=new l.Eya(),C.Lia=new l.Eya());if("nflx-cmisc" === v.profile){F=n.__assign(n.__assign({},w),{offset:v.rUa,size:v.SBb,BA:v.BA,uua:v.uua,Lqb:v.Lqb});C.We=new m(F);}else if((C.Gu=v.preferences,C.Cu=v.Vf,y=null !== (A=null !== (B=v.Q1c) && void 0 !== B?B:v.za) && void 0 !== A && A?h.Twc:h.NPc,(B=null !== (F=v.jRa) && void 0 !== F?F:!1) && C.wa.debug("ignoreUserTextPreferences was true, ignoring preferences"),C.vO=new f.Zeb(y,C.Cu || ({}),C.Gu || ({}),B),F=n.__assign(n.__assign({},w),{profile:v.profile,xml:v.xml,U_a:C.vO}),v.za && d(C.v5) && void 0 === F.xml))C.We=v.fbd?new g.Cab(F,k.Q3.Ba):new e.P9a(F);else if(d(C.v5) && "function" === typeof c.iAa)C.We=new c.iAa(F);else throw Error("SubtitleManager: " + C.v5 + " is an unsupported profile");C.We.on("ready",function(){var E,H,J;function G(){return "paused" === C.$a || "stopped" === C.$a;}E=!!v.dlb;C.wa.info("ready event fired by subtitle stream");C.emit("ready");H=C.We.gK.bind(C.We);if(u.OPa && u.Isa){J=a(17972).x3a;C.df=new J(C.RB,H,C.Iia,C.wa,G,u.OPa,u.Isa,v);}else C.df=new p(C.RB,H,C.Iia,G,C.wa,v);if("dfxp-ls-sdh" === C.v5 && "function" === typeof c.iAa)C.df.on("stagesubtitle",C.y_a.bind(C));C.df.on("showsubtitle",C.m_a.bind(C));C.df.on("removesubtitle",C.bYa.bind(C));C.df.on("underflow",C.Nq.bind(C));C.df.on("bufferingComplete",C.rm.bind(C));E && (C.wa.info("autostarting subtitles"),setTimeout(function(){"stopped" !== C.$a && C.WH(C.RB());},10));});C.We.on("error",C.emit.bind(C,"error"));return C;}n.__extends(q,r);q.prototype.start=function(){this.We.start();};q.prototype.PGb=function(){"running" === this.$a && (this.$a="paused",this.Yqb(this.xn));};q.prototype.WH=function(u){"stopped" === this.$a?this.wa.debug("updatePts called when stopped"):(this.mib && "running" === this.$a && 1E4 < Math.abs(u - this.xn) && (this.wa.warn("Detected an unexpected pts jump larger than",1E4,"at",u,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.PGb()),this.xn=u,"paused" === this.$a && (this.$a="running",this.LOc(u)),this.df && (this.MSc(u),this.df.WH(0)));};q.prototype.stop=function(u){var v,w,x;this.wa.info("stop called");"running" === this.$a && this.pause(u);this.We.removeAllListeners(["ready"]);null === (v=this.df) || void 0 === v?void 0:v.stop();u=this.b9();this.CV && u && (u.YNc=null === (w=this.lja) || void 0 === w?void 0:w.Ona(),u.Orc=null === (x=this.Lia) || void 0 === x?void 0:x.Ona());w=this.f5.reduce(function(y,z){y.fLb+=z.kda;y.Jma+=z.Kma || 0;y.Or.push(z);return y;},{fLb:0,Jma:0,Or:[]});"object" === typeof this.We && this.We.close();this.wa.debug("metrics: " + JSON.stringify(w));this.$a="stopped";return w;};q.prototype.pause=function(u){var v;u=void 0 !== u?u:this.RB();"paused" === this.$a || "stopped" === this.$a?this.wa.warn("pause called on subtitle manager, but it was already paused/stopped!"):(this.wa.info("pause called at " + u),this.$a="paused",this.Yqb(u));null === (v=this.df) || void 0 === v?void 0:v.pause();};q.prototype.Zna=function(u,v){return "function" === typeof this.We.Zna?this.We.Zna(u,v):[];};q.prototype.mq=function(u,v){return this.We.mq(u,v);};q.prototype.gK=function(u){return this.We.gK(u);};q.prototype.fM=function(u){var w;function v(){w.wa.info("bufferingComplete from setStreamStartPosition");w.emit("bufferingComplete");}w=this;"function" === typeof this.We.fM?this.We.fM(u,v):v();};q.prototype.bn=function(u,v){"function" === typeof this.We.bn && this.We.bn(u,v);};q.prototype.fl=function(u,v){"function" === typeof this.We.fl && this.We.fl(u,v);};q.prototype.CXa=function(u){"function" === typeof this.We.DXa && this.We.DXa(u);};q.prototype.b9=function(){return this.f5[this.f5.length - 1];};q.prototype.m_a=function(u){var v,w,x,y,A;x=0;this.wa.info("show subtitle called at undefined for displayTime " + u.displayTime);this.emit("showsubtitle",u);y=this.b9();y.cB || (y.cB={});if(d(this.v5))try{for(var z=n.__values(u.blocks),B=z.next();!B.done;B=z.next()){A=B.value;y.cB.hasOwnProperty(A.id) || x++;y.cB[A.id]=u.endTime;}}catch(D){var C;C={error:D};}finally{try{B && !B.done && (v=z.return) && v.call(z);}finally{if(C)throw C.error;}}else (y.cB.hasOwnProperty(u.id) || x++,y.cB[u.id]=u.endTime);this.w$b();y.kda+=x;this.CV && (null === (w=this.lja) || void 0 === w?void 0:w.zjb(u.startTime,this.RB()));};q.prototype.w$b=function(){var u,v,w;u=this.b9();if(null === u || void 0 === u?0:u.cB){v=u.cB;w=Object.keys(u.cB);30 < w.length && (w=w.sort(function(x,y){return v[y] - v[x];}),w.splice(19,Math.max(w.length - 20,0)),u.cB={},w.forEach(function(x){u.cB[x]=v[x];}));}};q.prototype.bYa=function(u){var v;this.wa.info("remove subtitle called at undefined for remove time " + (u.displayTime + u.duration));this.emit("removesubtitle",u);this.CV && (null === (v=this.Lia) || void 0 === v?void 0:v.zjb(u.endTime,this.RB()));};q.prototype.y_a=function(u){this.wa.info("stage subtitle called at " + this.RB() + " for displayTime " + u.displayTime);this.emit("stagesubtitle",u);};q.prototype.Nq=function(){this.wa.info("underflow fired by the subtitle timer");this.emit("underflow");};q.prototype.rm=function(){this.wa.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};q.prototype.LOc=function(u){var v,w;this.wa.debug("creating a new subtitle interval at " + u);this.CV && (null === (v=this.lja) || void 0 === v?void 0:v.reset(u),null === (w=this.Lia) || void 0 === w?void 0:w.reset(u));this.f5.push({Eb:u,kda:0});};q.prototype.MSc=function(u){var v;v=this.b9();v && (v.YSa=u);};q.prototype.Yqb=function(u){var v,w,x;this.wa.debug("ending subtitle interval at " + u);x=this.b9();x && (x.Dg=u,this.CV && (x.YNc=null === (v=this.lja) || void 0 === v?void 0:v.Ona(),x.Orc=null === (w=this.Lia) || void 0 === w?void 0:w.Ona()),x.Dg < x.Eb && (this.wa.warn("correcting for interval where endPts is smaller than startPts"),x.Eb=0 < x.Dg?x.Dg - 1:0),x.Kma=this.We.mq(x.Eb,x.Dg),delete x.cB,x.Kma > x.kda && x.YSa && 500 > x.Dg - x.YSa && (x.Kma=this.We.mq(x.Eb,x.YSa)),this.wa.debug("showed " + x.kda + " during this interval"),this.wa.debug("expected " + x.Kma + " for this interval"));};return q;})(t.EventEmitter);b.qZb=t;b["default"]=t;},66827:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.Eya=void 0;a={0:"early",1:"late"};t=(function(){function d(n){void 0 === n && (n=4E3);this.M0b=n;this.reset(0);}d.prototype.zjb=function(n,c){var h;n=Math.max(n,this.pl);c-=n;if(!(0 > c)){h=this.cHa[+(n - this.pl > this.M0b)];h.count++;h.SD+=c;c > h.max && (h.max=c,h.gd=n);}};d.prototype.Ona=function(){var h;for(var n={},c=0;c < this.cHa.length;c++){h=this.cHa[c];h.count && (n[a[c]]={R9c:h.gd,b8c:h.max,i2c:Math.round(h.SD / h.count)});}return n;};d.prototype.reset=function(n){this.cHa=[{SD:0,max:0,gd:0,count:0},{SD:0,max:0,gd:0,count:0}];this.pl=n;};return d;})();b.Eya=t;},76495:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Q3={};t[t.TEXT=0]="TEXT";t[t.IMAGE=1]="IMAGE";},76290:function(t,b,a){var g,k;function d(l,m,p){var r;r=p.displayTime <= l && l <= p.displayTime + p.duration;return l <= p.displayTime && p.displayTime <= m || r;}function n(l,m,p){return m && (!m.entries.length && l > m.CD || l > m.endTime) && p.entries.length && l < p.endTime;}function c(l,m,p){this.sO=this.QB=0;this.T0b=l.bufferSize || 4194304;this.Bu=new e();this.nO;this.cO=l.NC;this.wa=l.va;this.Mw=m;this.Ek=p;this.Np=new g(l);this.zO=new f(this.Ek.length,l.Lqb);this.x5=new h(l.Ilb);}function h(l){this.WE=0 !== l;this.on=!1;this.a5=l || 3E3;this.df;}function f(l,m){if(this.enabled=m)this.ys=Array.apply(null,Array(l)).map(function(){return "-";});}function e(l,m){this.bo=l;this.index=m;}g=a(93778);k=a(32699);e.prototype.reset=function(){this.index=this.bo=void 0;};f.prototype.oa=function(l){this.enabled && l < this.ys.length && (this.ys[l]="x");};f.prototype.pEb=function(l){this.enabled && l < this.ys.length && (this.ys[l]="-");};f.prototype.toString=function(){return this.enabled && "|" + this.ys.join("") + "|";};h.prototype.start=function(){var l;if(this.WE){l=this;this.on=!0;this.df=setTimeout(function(){l.on=!1;l.df=void 0;},this.a5);}};h.prototype.stop=function(){this.on=!1;clearTimeout(this.df);this.df=void 0;};Object.defineProperties(c.prototype,{QLa:{get:function(){return this.Bu;}},u8b:{get:function(){return !this.x5.on;}}});c.prototype.m5=function(){this.zO.enabled && this.wa.debug("Buffer: " + this.zO.toString());};c.prototype.U1b=function(l){this.sO+=l;this.wa.debug("Reserved buffer size is",this.QB + this.sO,"after reserving",l);};c.prototype.o2b=function(l){this.sO-=l;this.wa.debug("Reserved buffer size is",this.QB + this.sO,"after unreserving",l);};c.prototype.z_b=function(l){this.QB+=l;this.wa.debug("Buffer size is",this.QB,"after claiming",l);};c.prototype.rib=function(l){this.QB-=l;this.wa.debug("Buffer size is",this.QB,"after clearing",l);};c.prototype.ZIc=function(l,m){var p;this.rib(l);p=this;m && this.zO.enabled && (m.forEach(function(r){p.zO.pEb(r.index);}),this.m5());};c.prototype.g_a=function(l){var m;m=this.h0b(l);return k.Zwb(m) && k.XPc(l,m);};c.prototype.sMc=function(l){var m;m=this.xhb(l);(!m || m.index) !== (!this.Bu || this.Bu.index) && (this.nO=this.Bu.bo,m?(this.cO && this.wa.debug("Current sidx is index",m.index),this.Bu=m):(this.cO && this.wa.debug("Current sidx is out of range"),this.Bu.reset()));this.nO && "number" === typeof this.nO.index && (l < this.nO.CD - 35E3 || l > this.nO.$v + 35E3) && (this.mGa(this.nO.index),this.nO=void 0,this.m5());};c.prototype.fM=function(l,m){var p,r;p=this.Ek && this.Ek.length;for(m;m < p;m++)(r=this.Ek[m]) && ((r.endTime || r.$v) >= l - 1E4 && (r.endTime || r.$v) < l + 3E5 || this.mGa(m));this.x5.stop();this.m5();};c.prototype.s4b=function(){var l,m;this.wa.debug("executing aggressive cleanup");l=this.Ek && this.Ek.length;for(m=0;m < l;m++)(m === this.Bu.index && (m+=2),this.mGa(m));this.x5.stop();this.m5();};c.prototype.Bpc=function(l){var m,p,r,q;m=[];p=this.xhb(l);if(!p)return (this.Bu.reset(),m);this.Bu=p;r=l + 1E4;p=p.index;q=this.Ek[p];p;for(q;p < this.Ek.length && r > q.CD;(p++,q=this.Ek[p]))k.Zwb(q) && k.YPc(l,r,q) && m.push(q);return m;};c.prototype.pqb=function(l,m){var p,r,q,u,v,w;if(!l || !l.length)return (m && m(null),!0);this.Np.r5 && 2 <= Object.keys(this.Np.r5).length && !this.x5.on && (this.wa.debug("Enabling buffering quiet period"),this.x5.start());p=this;r=l[0];q=l[l.length - 1];if(0 < r.entries.length)(u=r.entries[0].BQ,v=r.entries[r.entries.length - 1]);0 < q.entries.length && (k.ed(u) || (u=q.entries[0].BQ),v=q.entries[q.entries.length - 1]);if(u)w=v.BQ + v.kRa - u;else return (m && m(null),!0);r=k.ROa(u,w);if(this.Np.r5[r])(this.wa.debug("The request for",r,"is already pending. Not requesting again"),m && m());else if(this.r0b(k.dQa(l)))(this.wa.debug("Reserving",w,"bytes for subtitle request",l[0].CD,l[l.length - 1].$v),this.U1b(w),this.Np.Vfc(l,u,w,function(x,y){p.wa.debug("Claiming reserved space.  Expected",w,"received",y);p.zO.enabled && (l.forEach(function(z){p.zO.oa(z.index);}),p.m5());p.o2b(w);p.z_b(y);m && m(x);}));else return (this.wa.debug("Not enough space in buffer to download all of the imaages in the list"),m && m(),!1);return !0;};c.prototype.hQa=function(l,m){var p,r,q;p=this.Mw;r=this.whb(l,m,this.Ek);if(!r || 0 === r.length)return [];q=[];m=d.bind(null,l,m);for(var u=0;u < r.length;u++)(l=r[u],q=q.concat(l.entries.filter(m)));q=q.map(function(v){return k.FLa(v,null,p);});return k.Knb(q);};c.prototype.Cpc=function(l,m,p){return this.whb(l,m.endTime,m.ys,p,!0);};c.prototype.whb=function(l,m,p,r,q){var u,v,w,x;if(m && l > m || 0 > l)this.wa.error("invalid range startPts: " + l + ", endPts: " + m);else {u=p && p.length || 0;v=[];if(p && 0 !== u){w=p[0].duration;x=p[0].CD;if(k.ed(w) && 0 < w)w=Math.floor((l - x) / w);else for((this.cO && this.wa.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),w=0);w < u && (x=p[w],!k.Pfc(x,l));w++);for(;w < u && (!r || v.length < r);){x=p[w];if(!q || !x.images.length && x.endTime > l)v.push(x);else if(v.length)break;if(m && m <= x.$v)break;w++;}return v;}}};c.prototype.h0b=function(l){var m,p,q;m=this.Ek;if(m && 0 !== m.length){p=m[Math.floor(l / 6E4)];if(p && (p.CD > l || l > p.$v))a:{this.$_b || (this.$_b=!0,p=k.Fnc(this.Mw.language),this.wa.error("bruteforce search for ",{movieId:this.Mw.R,packageId:this.Mw.ds,lang:p}));p=m.length;for(var r=0;r < p;r++){q=m[r];if(q.CD <= l && l <= q.$v){p=q;break a;}}p=void 0;}return p;}};c.prototype.xhb=function(l){var m,p,r,q,u,v,w,x;m=this.Bu;p=m.bo;r=m.index;q=this.Ek;this.vGa(k.ed(l));if(p)if(p.entries.length){if(0 === r && l <= p.startTime || l >= p.startTime && l <= p.endTime)(u=!0,v=m);else {if(0 < r){w=q[r - 1];n(l,w,p) && (u=!0,v=m);}}}else {w=q[r - 1];x=q[r + 1];n(l,w,p)?(u=!0,v=m):x && x.endTime && l <= x.endTime && (l >= p.endTime || l >= p.$v) && (u=!0,v=new e(x,r + 1));}if(!u)for((m=q.length,p=0);p < m;p++)if((r=q[p],r.entries.length && l <= r.endTime)){v=new e(r,p);break;}return v;};c.prototype.r0b=function(l){return this.QB + this.sO + l <= this.T0b;};c.prototype.mGa=function(l){var m,p,r;m=this.Ek[l];p=m && m.images && m.images.length || 0;if(0 < p){r=k.dQa([m]);m.images=[];this.zO.pEb(l);this.rib(r);this.cO && this.wa.debug("cleaning up space from sidx",{index:l,start:m.startTime,size:r,images:p,V8c:this.QB});}};c.prototype.vGa=function(l){this.cO && k.assert(l,this.wa);};t.exports=c;},3992:function(t,b,a){var n,c,h,f,e,g;function d(k){n.call(this);this.Ag=k.url;this.qO=k.request;this.oO=k.gd || 0;this.wa=k.va;this.Ek=this.Mw=null;k.BA?this.Mw=k.BA:(this.Wc=k.offset,this.UI=k.size);this.Pp;this.nHa=k;}n=a(22699).EventEmitter;c=a(72577);h=a(92435);f=a(78192);e=a(32699);g=d.events={HVb:"midxready",VYb:"sidxready",tYb:"ready",Cp:"error"};d.prototype=Object.create(n.prototype);d.prototype.constructor=d;Object.defineProperties(d.prototype,{Bu:{get:function(){return this.Pp && this.Pp.QLa;}}});d.prototype.start=function(){this.Mw?(this.wa.warn("midx was prefectched and provided"),this.nhb(this.Mw)):this.S_b(this.Wc,this.UI,this.K1b.bind(this));};d.prototype.close=function(){};d.prototype.Zna=function(k,l){return this.Pp && this.Pp.hQa(k,l);};d.prototype.mq=function(k,l){return (k=this.Zna(k,l))?k.length:k;};d.prototype.fM=function(k,l){this.wa.debug("setStreamStartPosition: buffering subtitles at pts " + k);this.oO=k;this.Pp?this.Pp.fM(k,l):l && l();};d.prototype.gK=function(k){var l,m,p;if(!this.Pp || k > e.Xmc(this.Mw))return [];this.Pp && this.Pp.GMa(k);l=this.Bu.bo;m=this.Bu.index;p=[];m=e.ed(m) && this.Ek[m + 1];if(!(m && m.entries.length || l && !(k > l.endTime)))return [];l && l.images.length && (p=this.uhb(l,k,[]));2 > p.length && m && m.images.length && (l=this.uhb(m,k,p),p.push.apply(p,l));return this.Pp.g_a(k)?null:e.Knb(p);};d.prototype.fl=function(k,l){this.Pp && this.Pp.fl(k,l);};d.prototype.bn=function(k,l){this.Pp && this.Pp.bn(k,l);};d.prototype.S_b=function(k,l,m){this.wa.debug("downloading midx...");this.zhb(k,l,"binary",m);};d.prototype.T_b=function(k,l,m){this.wa.debug("downloading sidx...");this.zhb(k,l,void 0,m);};d.prototype.zhb=function(k,l,m,p){this.qO({url:this.Ag,offset:k,size:l,responseType:m},p);};d.prototype.K1b=function(k,l){if(k)this.emit(g.Cp,e.f9(k,"midxdownloaderror"));else try{this.Mw=new c(l);this.nhb(this.Mw);}catch(m){this.emit(g.Cp,e.f9(m,"midxparseerror"));}};d.prototype.nhb=function(k){var l;l=k.entries.reduce(function(m,p){return m + p.size;},0);l?(this.emit(g.HVb,k),this.T_b(k.startOffset,l,this.N1b.bind(this,k))):this.emit(g.Cp,e.f9({},"nosidxfoundinmidx"));};d.prototype.N1b=function(k,l,m){var p,r,q,u;p=this;if(l)p.emit(g.Cp,e.f9(l,"sidxdownloaderror"));else {r=0;q=0;p.Ek=[];try{u=0;k.entries.forEach(function(v){var w;w=new h(m,r,k.ERa,p.wa,q,q + v.duration,u);p.Ek.push(w);v.aOc=w;q=w.$v;r+=v.size;u++;});}catch(v){p.emit(g.Cp,e.f9(v,"sidxparseerror"));return;}p.emit(g.VYb,p.Ek);this.Pp=new f(p.nHa,k,p.Ek);l=p.oO;p.nHa && p.nHa.uua || (l=Math.max(p.oO - 1E4,0));this.Pp.GMa(l,function(v){v && p.wa.error("initial sidx download failed");p.emit(g.tYb);});}};d.prototype.uhb=function(k,l,m){var x;for(var p=k.entries,r=0,q=p.length,u=[],v,w=this.Mw;r < q;){v=p[r];if(v.displayTime <= l)v.displayTime + v.duration >= l && u.push(e.FLa(v,k.images[r].data,w));else {x=u.length && u[u.length - 1] || m.length && m[m.length - 1];if(x && x.displayTime > l && x.displayTime !== v.displayTime)break;x.BQ !== v.BQ && u.push(e.FLa(v,k.images[r].data,w));}r++;}return u;};t.exports=d;},72577:function(t,b,a){var n,c;function d(h,f){this.duration=h;this.size=f;this.aOc=void 0;}n=a(62082);c=a(32699);t.exports=function(h){var k;h=new n(h);this.identifier=h.NXa(4);c.assert("midx" === this.identifier);this.version=h.cw(4);c.assert(0 === this.version);this.ERa=h.Tm(36);this.creationTime=h.d0();this.ds=h.d0();this.R=h.d0();this.GKc=h.ej();this.HKc=h.ej();this.language=h.Tm(16);h.Tm(16);this.startOffset=h.d0();this.JP=h.ej();for(var f=[],e=0,g=0;g < this.JP;g++){k=new d(h.cw(4),h.ej());f.push(k);e+=k.duration;}this.entries=f;this.endTime=e;};},93778:function(t,b,a){var n,c;function d(h){this.Ag=h.url;this.qO=h.request;this.oO=h.gd || 0;this.cO=h.NC;this.wa=h.va;this.r5={};}n=a(62082);c=a(32699);d.prototype.Vfc=function(h,f,e,g){this.r5[c.ROa(f,e)]=!0;h && h.forEach(function(k){k.tca=!0;});this.qO({url:this.Ag,offset:f,size:e},this.r1b.bind(this,h,f,e,g));};d.prototype.r1b=function(h,f,e,g,k,l){var m,p,r,q;m=this;p=c.ROa(f,e);setTimeout(function(){delete m.r5[p];},1E3);if(k)(g && g(k,0),h && h.forEach(function(u){delete u.tca;}));else {r=new n(l);q=0;h && h.forEach(function(u){delete u.tca;u.entries.forEach(function(v,w){r.position=v.BQ - f;v={data:r.Tm(v.kRa)};u.images[w]=v;c.MTc(u.images[w].data,m.vGa.bind(m));q+=u.images[w].data.length;});});g && g(null,q);}};d.prototype.vGa=function(h){this.cO && c.assert(h,this.wa);};t.exports=d;},67725:function(t){function b(a,d,n,c){this.wa=c;this.id=a;this.startTime=d && d.eb || 0;this.endTime=d && d.ib;this.VCb=d && d.next || [];this.LJb;this.bba=[];this.fZ=!1;a=this.startTime;d=this.endTime;for(var h=[],f=0;f < n.length;f++)(c=n[f]) && (!d || d > c.CD) && a < c.$v && (c.Csc(),h.push(c));this.ys=h;}b.prototype.Tmb=function(){this.wa.debug("Cleaning up segment",this.id);for(var a,d=0,n,c=[],h=0;h < this.ys.length;h++)(a=this.ys[h],(n=a.vec()) && c.push(a),a && (d+=n));this.ys=[];return {size:d,ys:c};};t.exports=b;},78192:function(t,b,a){var h,f;function d(e,g){var l;e=e || 0;if(g)for(var k in g.ba){l=g.ba[k];if(e >= (l.eb || 0) && (!l.ib || e < l.ib))return k;}}function n(e,g){return e && g && g.ba[e];}function c(e,g,k){var l;this.wa=e.va;this.Ek=k;this.TI=this.B_b(e.uua);this.YB=[];l=k && k[k.length - 1];this.xn=l && (l.endTime || l.$v);this.zu=new h(e,g,k);e=d(e.gd || 0,this.TI);this.Kp=this.X4(e);}h=a(76290);f=a(67725);Object.defineProperties(c.prototype,{QLa:{get:function(){return this.zu.QLa;}}});c.prototype.hQa=function(e,g){return this.zu && this.zu.hQa(e,g);};c.prototype.GMa=function(e,g){this.zu.sMc(e);this.Uib(e);if(!this.TI && this.xn && e > this.xn)g && g();else if((e=this.jhb(e,this.Kp,2,g),this.TI && 0 < this.Kp.VCb.length))g && g();else if(this.TI && this.Kp.fZ && e){2 > this.YB.length && this.I_b(this.Kp);g=Math.ceil(2 / (this.YB.length - 1));for(var k=0;k < this.YB.length && e && 3 > k;k++)(e=this.YB[k],e=this.jhb(e.startTime,e,g));}};c.prototype.g_a=function(e){return this.zu.g_a(e)?(this.zu.s4b(),this.GMa(e),this.Kp.fZ=!1,!0):!1;};c.prototype.fM=function(e,g){var k;this.Uib(e);this.YB.forEach(function(l){l.fZ=!1;});k=this.Kp.ys && this.Kp.ys[0];this.zu.fM(e,k && k.index);(e=this.zu.Bpc(e)) && e.length?this.zu.pqb(e,g):g && g();};c.prototype.bn=function(e,g){var k;this.wa.debug("Set next segment to",g,"for segment",e);e=this.phb(e) || this.X4(e);e.LJb=g;k=this;e.bba=e.bba.filter(function(l){if(l.id === g)return !0;k.xGa(l);return !1;});};c.prototype.fl=function(e,g){var k;k=n(e,this.TI);Object.keys(k.next).forEach(function(l){k.next[l].weight=g[l] || 0;});};c.prototype.B_b=function(e){var g,l;g={};if(e=(e || ({})).ba){g.ba={};for(var k in e){l=e[k] || ({});g.ba[k]={eb:l.eb,ib:l.ib,Dc:l.Dc,next:this.A_b(l.next)};}}return g;};c.prototype.A_b=function(e){var g,k;g={};for(k in e)g[k]={weight:(e[k] || ({})).weight};return g;};c.prototype.Uib=function(e){var g,k;if(this.TI && this.Kp.startTime > e || this.Kp.endTime && this.Kp.endTime < e){g=this.Kp;k=d(e,this.TI);k?(this.wa.debug("Switching segments from",this.Kp.id,"to",k,"at pts",e),this.Kp=this.phb(k) || this.X4(k),this.xGa(g)):this.wa.debug("The pts is outside of the current segment but not in a new one yet");}};c.prototype.X4=function(e){this.wa.debug("SegmentManager: creating segment",e);e=new f(e,n(e,this.TI),this.Ek,this.wa);this.YB.push(e);this.wa.debug("SegmentManager: segment contains",e.ys.length,"sidxes");return e;};c.prototype.xGa=function(e){var g;if(e && e !== this.Kp){this.wa.debug("SegmentManager: deleting segment",e.id);e.bba.forEach(this.xGa.bind(this));this.YB=this.YB.filter(function(k){return k !== e;});g=e.Tmb();this.zu.ZIc(g && g.size || 0,g && g.ys);}};c.prototype.phb=function(e){var k;for(var g=0;e && g < this.YB.length;g++){k=this.YB[g];if(e === k.id)return k;}};c.prototype.I_b=function(e){var g,l;g=e.LJb;if(g && "" !== g)e.bba.push(this.X4(g));else {g=e.VCb;for(var k in g){l=g[k];if(!l || !l.weight)break;e.bba.push(this.X4(k));}}};c.prototype.jhb=function(e,g,k,l){if(!g || g.fZ)return (this.wa.debug("Done driving segment",g && g.id),!0);if(!this.zu.u8b)return (this.wa.debug("Throttling buffering in quiet period"),!1);this.wa.debug("Drive streaming of segment",g.id,"from pts",e);k=(e=this.zu.Cpc(e,g,k)) && e.length || 0;if(0 === k)return (this.wa.debug("Segment is fully downloaded",g && g.id),g.fZ=!0,l && l(),!0);this.wa.debug("Downloading",k,"sidxes in segment",g.id);return this.zu.pqb(e,function(m,p){m && (g.fZ=!1);l && l(m,p);});};t.exports=c;},92435:function(t,b,a){var c,h;function d(f,e,g,k,l,m,p,r){this.displayTime=f;this.duration=e;this.dDc=g;this.eDc=k;this.hOc=l;this.iOc=m;this.BQ=p;this.kRa=r;}function n(f,e,g,k,l,m,p){var r;f=new c(f);r=0;f.position=e;this.wa=k;this.identifier=f.NXa(4);h.assert("sidx" === this.identifier,k);this.ERa=f.Tm(36);h.y$b(this.ERa,g,k);this.duration=f.cw(4);this.JP=f.ej();this.CD=l;this.$v=m;this.index=p || 0;this.entries=[];this.images=[];for(this.IHa=0;r < this.JP;)(e=new d(f.cw(4),f.cw(4),f.ej(),f.ej(),f.ej(),f.ej(),f.d0(),f.cw(4)),r++,this.entries.push(e));this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}c=a(62082);h=a(32699);n.prototype.Csc=function(){this.IHa++;};n.prototype.vec=function(){var f;f=0;this.IHa--;1 > this.IHa?this.images && 0 < this.images.length && (f+=h.dQa([this]),this.images=[]):this.wa.debug("Not cleaning up shared sidx with range",this.CD,"-",this.$v);return f;};t.exports=n;},32699:function(t){function b(h,f){return h.some(function(e){return e.id === f;});}function a(h,f){return h.filter(d.bind(null,f)).map(n).reduce(c,0);}function d(h,f){return h.id === f.id && h.displayTime + h.duration === f.displayTime;}function n(h){return h.duration;}function c(h,f){return h + f;}t.exports={y$b:function(h,f,e){for(var g=0;g < h.length;g++)if(h[g] !== f[g])return (e.error("indexId mismatch in sidx",{sIndexId:h,mIndexId:f}),!1);return !0;},FLa:function(h,f,e){var g;g={};g.displayTime=h.displayTime;g.duration=h.duration;g.originX=h.dDc;g.originY=h.eDc;g.sizeX=h.hOc;g.sizeY=h.iOc;g.imageData=f;g.id=h.BQ;g.rootContainerExtentX=e.GKc;g.rootContainerExtentY=e.HKc;return g;},ROa:function(h,f){return "o_" + h + "s_" + f;},MTc:function(h,f){f("P" === String.fromCharCode(h[1]));f("N" === String.fromCharCode(h[2]));f("G" === String.fromCharCode(h[3]));},ed:function(h){return "undefined" !== typeof h;},v$c:b,f4c:a,f9:function(h,f){var e,g;e=Object.create({});for(g in h)e[g]=h[g];h instanceof Error && (e.message=h.message,e.stack=h.stack);e.errorString=f;return e;},assert:function(h,f){if(!h)throw (f && f.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},Zwb:function(h){return h && 0 < h.entries.length && 0 === h.images.length;},XPc:function(h,f){for(var e=f.entries.length,g,k=0;k < e;k++)if((g=f.entries[k],g.displayTime <= h && g.displayTime + g.duration >= h))return !0;return !1;},YPc:function(h,f,e){for(var g=e.entries.length,k,l,m=0;m < g;m++){k=e.entries[m];l=k.displayTime;k=l + k.duration;if(f < l)break;if(l <= h && k >= h || l > h && l <= f)return !0;}return !1;},Knb:function(h){return h.map(function(f,e){f.duration+=a(h.slice(e + 1),f);return f;}).reduce(function(f,e){b(f,e.id) || f.push(e);return f;},[]);},dQa:function(h){return h.reduce(function(f,e){return f + e.entries.reduce(function(g,k){return k.kRa + g;},0);},0);},Pfc:function(h,f){return h && h.CD <= f && h.$v >= f;},Xmc:function(h){if(h)return h.endTime;},Fnc:function(h){try{return String.fromCharCode.apply(String,h);}catch(f){}return "";}};},31496:function(t,b,a){var d;d=a(22699).EventEmitter;b=function l(c,h,f,e,g,k){if(!(this instanceof l))return new l(c,h,f,e,g,k);d.call(this);this.RB=c;this.c5=h;this.Iia=f;this.E0b=e;this.nl={};this.gm={};this.wa=g || console;this.dm=!1;this.QGa=k.za;this.P1b=k && k.Xba || 0;this.h2b=k && k.ZOc || 0;};b.prototype=Object.create(d.prototype);b.prototype.stop=function(){clearTimeout(this.df);this.df=void 0;this.Jta();};b.prototype.Jta=function(){var c;c=this;Object.keys(c.nl).forEach(function(h){c.emit("removesubtitle",c.nl[h]);});c.nl={};c.gm={};};b.prototype.pause=function(){this.dm || (clearTimeout(this.df),this.df=void 0);};b.prototype.WH=function(c){var h,f,e;h=this;f=h.RB();e=h.c5(f);null !== e && h.dm && (h.dm=!1,this.wa.debug("bufferingComplete"),h.emit("bufferingComplete"),this.E0b())?this.wa.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(c="number" === typeof c?c:0,Object.keys(h.nl).forEach(function(g){g=h.nl[g];g.displayTime - h.P1b <= f && f < g.displayTime + g.duration || (delete h.nl[g.id],h.emit("removesubtitle",g));}),Object.keys(h.gm).forEach(function(g){g=h.gm[g];f >= g.displayTime + g.duration && delete h.gm[g.id];}),null !== e && 0 < e.length?(c=e.length,h.wa.debug("found " + c + " entries for pts " + f),e.forEach(function(g){g.displayTime - h.h2b <= f && f < g.displayTime + g.duration && !h.nl[g.id] && (h.emit("showsubtitle",g),h.nl[g.id]=g,delete h.gm[g.id]);}),c=e[e.length - 1],h.nl[c.id] || h.gm[c.id] || (h.emit("stagesubtitle",c),h.gm[c.id]=c),e=h.k2b(f,e),"number" === typeof e && Infinity > e?h.F5(e):h.F5(2E4)):null === e?(e=250 * Math.pow(2,c),2E3 < e && (e=2E3),h.wa.warn("checking buffer again in " + e + "ms"),h.dm || (h.dm=!0,h.emit("underflow")),h.F5(e,c + 1)):h.QGa?(e=500,h.wa.trace("Live : No entries for " + f + "checking buffer again in " + e + "ms"),h.F5(e)):h.F5(2E4));};b.prototype.F5=function(c,h){var f;f=this;f.wa.debug("Scheduling pts check.",{timeout:c,UD:f.df});clearTimeout(f.df);f.df=setTimeout(function(){f.WH(h);},c);};b.prototype.k2b=function(c,h){h=h.reduce(this.f1b.bind(this,c),Infinity);return Infinity > h?this.Iia(h,c):h;};b.prototype.f1b=function(c,h,f){var e;e=f.displayTime;f=f.displayTime + f.duration;this.wa.debug("next events: start",e,"end",f,"now",c);return e < h && c < e?e:f < h && c < f?f:h;};t.exports=b;},4645:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},86398:function(t,b,a){var c,h,f,e;function d(g,k,l){var m;if(!l)return !1;l=l[k];g=g[k];k=!(null === (m=g.Xb) || void 0 === m || !m.length);"embedded" === g.type && (k || (k=g.duration.greaterThan(c.I.ia)));return "boolean" === typeof l?!0 === l:!k;}function n(g,k,l){var m;m="dynamic" === g.type && void 0 !== g.nk;return "embedded" === g.type || m || l || !g.Xb && "embedded" !== g.type?{HLb:0,Zqb:0,Grb:!m && !l && "embedded" !== g.type}:{HLb:k,Zqb:k,Grb:!0};}Object.defineProperties(b,{__esModule:{value:!0}});b.Xq=void 0;b.Tbc=function(g,k,l,m,p,r){function q(y){var z,B,A,C,D,F,G,E;z=k[y];B=d(k,y,m);A=!!z.Xb || "embedded" === z.type;C=n(z,p,B);D=C.HLb;F=C.Zqb;C=C.Grb;G=0 === z.Iv;z.Pa.G > v && u.Rf(("").concat(g,"-").concat(y),{J:g,eb:v,ib:z.Pa.G,type:f.Dd.content,Hr:w,fq:C});A || u.W3b(C);!D || G && !r || u.Rf(("padstart-").concat(y),{J:b.Xq,eb:0,ib:D,type:f.Dd.padding});v=z.Pa.G;if(!B)if("embedded" === z.type && z.duration.greaterThan(c.I.ia))(B=z.Pa.add(z.duration).G,u.Rf(("ad-").concat(y,"-").concat(0),{J:g,eb:z.Pa.G,ib:B,type:f.Dd.Ra}));else if(z.Xb){E=null === m || void 0 === m?void 0:m[y];z.Xb.forEach(function(H,J){var L;L=!1;Array.isArray(E) && (L=-1 < E.indexOf(J));L || (L=H.id === g,void 0 === L && (L=!1),J=z.Xa && z.Zb !== y?("q-[").concat(z.Xa,"]-").concat(J).concat(L?"-F":""):("ad-").concat(y,"-").concat(J),u.Rf(J,{J:H.id,eb:H.eb,ib:H.ib,type:f.Dd.Nc}));});F && u.Rf(("padend-").concat(y),{J:b.Xq,eb:0,ib:F,type:f.Dd.padding});}v=z.Pa.add("embedded" === z.type?z.duration:z.nk || c.I.ia).G;w=C;}void 0 === p && (p=0);void 0 === r && (r=!1);for(var u=new e(),v=0,w=!1,x=0;x < k.length;++x)q(x);u.Rf(("").concat(g,"-").concat(k.length),{J:g,eb:v,ib:null,type:f.Dd.content,Hr:w});l.forEach(function(y){var z,B,A;z=y[0];B=("").concat(g,"-").concat(k.length);if(z && z.Xb && z.Xa){A=("[").concat(z.Xa,"]");z.Xb.forEach(function(C,D){u.Rf(("q-").concat(A,"-").concat(D),{J:C.id,eb:C.eb,ib:C.ib,type:f.Dd.Nc},B);B=("q-[").concat(z.Xa,"]-").concat(D);});}});return u.build();};c=a(91176);h=a(48456);f=a(58304);b.Xq=-1;e=(function(){function g(){this.hb=new h.Ew();}g.prototype.Rf=function(k,l,m){this.VP || (this.VP=k);(m=m && this.hb.Crc(m)?m:this.Nba) && this.hb.XMc(k,m);this.hb.Rf(k,l);this.Nba=k;};g.prototype.W3b=function(k){var l;if(this.Nba){l=this.hb.Bt(this.Nba);l && l.type === f.Dd.content && (l.fq=k,this.hb.Rf(this.Nba,l));}};g.prototype.build=function(){this.Nba=void 0;this.VP && this.hb.BH(this.VP);return this.hb.build();};return g;})();},40071:function(t,b,a){var e;function d(g){return Object.keys(g.segments).some(function(k){return void 0 !== f(g.segments[k]);});}function n(g){return "delayedSeamless" === g?"lazy":g;}function c(g){return Object.keys(g).reduce(function(k,l){var m,p;m=g[l];p=m.weight;m=m.transitionType || m.transitionHint;l=k[l]={};void 0 !== p && (l.weight=p);m && (l.Td=n(m));return k;},{});}function h(g){var k,l;k=Object.keys(g);l=k.length;return l?k.reduce(function(m,p){return m + (g[p].weight || 0);},0) / l:void 0;}function f(g){var k;if(g.ui){k=g.ui.interactionZones;if((null === k || void 0 === k?0:k.length) && k[0].length)return k[0][0] - g.startTimeMs;g=g.ui.interactionZonesV2;if((null === g || void 0 === g?0:g.length) && g[0].length)return g[0][0];}else if(void 0 !== g.earliestSkipRequestOffset)return g.earliestSkipRequestOffset;}Object.defineProperties(b,{__esModule:{value:!0}});b.vKa=function(g,k){var l,m,p,r,q,u;l=void 0 === k?{}:k;k=l.uh;m=l.lf;p=l.ba;l=l.config;r=!(!l || -1 === l.H8.indexOf(g.viewableId));q=d(g)?0:(null === l || void 0 === l?void 0:l.G8) || 0;l=new e.Ew();u=p || g.segments;l.BH(null !== m && void 0 !== m?m:g.initialSegment).IZa(k || g.mediaTypes).Jua(r?"immediate":n(g.transitionType)).RZa(Object.keys(u).reduce(function(v,w){var x,y,z,B,A,C;x=u[w];if(null === (y=x.weight) || void 0 === y){y=x.next && (r || (null === (B=x.exitZones) || void 0 === B?0:B.length))?h(x.next):void 0;}B=y;if(y=x.exitZones)A=void 0;else a:{if(r && x.endTimeMs){A=x.endTimeMs - x.startTimeMs;C=f(x);if(C && C < A){A=[[C,A]];break a;}if(q && A > q){A=[[A - q,A]];break a;}}A=void 0;}C=r?A?void 0:x.transitionHint || "lazy":x.transitionHint;B={J:g.viewableId,eb:x.startTimeMs,ib:null !== (z=x.endTimeMs) && void 0 !== z?z:Infinity,Td:n(C),Cl:y || A,weight:B};x.defaultNext && (B.Dc=x.defaultNext);x.next && (B.next=c(x.next));v[w]=B;return v;},{}));return l.build();};e=a(48456);},31021:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.k3c=function(n){var c,h,f,e,g,k;c=n.B9c;h=n.Ef;n=n.nda;f=new d.Ew();e=n.split(" ");g=/\d+/;k=new Map();h.forEach(function(l){k.set(l,0);});e.forEach(function(l,m){var p,r,q,u,v,w,x,y;w=Number(l.split(".")[0].match(g)[0]);x=Number(l.split(".")[1].match(g)[0]);w=h[w];l=k.get(w);y=("").concat(w,"-").concat(l);k.set(w,l + 1);x={J:w,eb:null !== (q=null === (r=c.get(w)) || void 0 === r?void 0:r[x]) && void 0 !== q?q:0,ib:null !== (v=null === (u=c.get(w)) || void 0 === u?void 0:u[x + 1]) && void 0 !== v?v:void 0};e.length > m + 1 && (r=Number(e[m + 1].split(".")[0].match(g)[0]),r=h[r],q=k.get(r),r=("").concat(r,"-").concat(q),x.Dc=r,x.next=(p={},p[r]={},p),k.set(w,l + 1));0 === m && f.BH(y);f.Rf(y,x);});return f.build();};d=a(48456);},79048:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(58304),b);t.__exportStar(a(48456),b);t.__exportStar(a(42405),b);t.__exportStar(a(40071),b);t.__exportStar(a(14999),b);t.__exportStar(a(43813),b);t.__exportStar(a(5293),b);t.__exportStar(a(86398),b);t.__exportStar(a(31021),b);t.__exportStar(a(7314),b);t.__exportStar(a(4152),b);t.__exportStar(a(22332),b);},4152:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.UUb=b.xha=void 0;b.dSa=function(a){return "immediate" === a;};t=(function(){function a(d,n,c){this.region=d;this.qa=n;this.xa=c;}a.prototype.toJSON=function(){return {region:this.region,Eb:this.qa.QA,Dg:this.xa.QA};};return a;})();b.xha=t;b.UUb={dK:"forwards",vJa:"backwards",RD:"successors",hS:"predecessors",$p:"distance"};},22332:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(22970).__exportStar(a(4645),b);},5293:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.M4c=function(n,c){var h;return Object.keys(n.ba).some(function(f){var e;return null === (e=(h=n.ba[f]).next) || void 0 === e?void 0:e[c];})?h:void 0;};b.N4c=function(n,c){return (0,d.ic)(Object.keys(n.ba),function(h){var f;return null === (f=n.ba[h].next) || void 0 === f?void 0:f[c];});};b.K4c=function(n,c){return Object.keys(n.ba).filter(function(h){var f;return null === (f=n.ba[h].next) || void 0 === f?void 0:f[c];});};d=a(91176);},58304:function(t,b,a){var n,c;function d(h){return h.map(function(f){return [f[0],f[1]];});}Object.defineProperties(b,{__esModule:{value:!0}});b.Dd=b.gha=void 0;b.nLa=function(h){var f,e,g,k,l,m,p,u,v,w,x,A;e=h.J;g=h.eb;k=h.Dc;if(h.next){l=h.next;p={};try{for(var r=n.__values(Object.keys(l)),q=r.next();!q.done;q=r.next()){u=q.value;v=u;w=l[u];x={};void 0 !== w.weight && (x.weight=w.weight);void 0 !== w.Td && (x.Td=w.Td);p[v]=x;}}catch(D){var y;y={error:D};}finally{try{q && !q.done && (m=r.return) && m.call(r);}finally{if(y)throw y.error;}}l=p;}else l=h.next;e={J:e,eb:g,Dc:k,next:l};try{for(var z=n.__values(c),B=z.next();!B.done;B=z.next()){A=B.value;void 0 !== h[A] && (e[A]=h[A]);}}catch(D){var C;C={error:D};}finally{try{B && !B.done && (f=z.return) && f.call(z);}finally{if(C)throw C.error;}}h.Cl && (e.Cl=d(h.Cl));return e;};n=a(22970);b.gha={video:"video",audio:"audio",text:"text"};b.Dd={Nc:"ad",Ra:"adBreak",content:"content",padding:"padding"};c=Object.keys({ib:void 0,playbackRate:void 0,weight:void 0,Td:void 0,N1a:void 0,type:void 0,Hr:void 0,fq:void 0});},48456:function(t,b,a){var n,c,h;function d(f,e){return Object.keys(f).reduce(function(g,k){return (g[e[k] || k]=f[k],g);},{});}Object.defineProperties(b,{__esModule:{value:!0}});b.Ew=void 0;n=a(22970);c=a(91176);h=a(58304);t=(function(){function f(e){e && (this.BH(e.lf),this.Jua(e.Td),this.RZa(e.ba));}f.prototype.BH=function(e){this.lf=e;return this;};f.prototype.Jua=function(e){this.Td=e;return this;};f.prototype.IZa=function(e){this.uh=e;return this;};f.prototype.Bt=function(e){var g;return null === (g=this.ba) || void 0 === g?void 0:g[e];};f.prototype.Rf=function(e,g,k){this.ba || (this.ba={});this.ba[e]=(0,h.nLa)(g);if(k){e=this.ba[e];if(g=e.next)e.next=d(g,k);e.Dc && k[e.Dc] && (e.Dc=k[e.Dc]);}return this;};f.prototype.Pzc=function(e,g){var k,l;l=null === (k=this.ba) || void 0 === k?void 0:k[e];(0,c.assert)(l,("Segment for modification ").concat(e," is not part of segments"));g(l);};f.prototype.RZa=function(e,g,k){void 0 === g && (g=function(){return !0;});this.ba={};return this.O3b(e,g,k);};f.prototype.O3b=function(e,g,k){var l;l=this;void 0 === g && (g=function(){return !0;});Object.keys(e).filter(function(m){return g(e[m],m);}).forEach(function(m){l.Rf(m,e[m],k);});return this;};f.prototype.Crc=function(e){var g;return !(null === (g=this.ba) || void 0 === g || !g[e]);};f.prototype.XMc=function(e,g){this.Pzc(g,function(k){var l,m;k.Dc=e;k.next=k.next?n.__assign(n.__assign({},k.next),(l={},l[e]={},l)):(m={},m[e]={},m);});};f.prototype.build=function(){var e;if(!this.ba)throw Error("Invalid playgraph - `segments` is not defined");if(!this.lf)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.ba[this.lf])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");e={lf:this.lf,ba:this.ba};this.Td && (e.Td=this.Td);this.uh && (e.uh=this.uh);return e;};return f;})();b.Ew=t;},42405:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.PDa=void 0;b.PDa=(function(){function a(){}a.decode=function(d){return Object.assign({initialSegment:d.lf,segments:a.pec(d.ba)},void 0 !== d.Td?{transitionType:d.Td}:{});};a.encode=function(d){return Object.assign({lf:d.initialSegment,ba:a.Yhc(d.segments)},void 0 !== d.transitionType?{Td:d.transitionType}:{});};a.Yhc=function(d){return Object.keys(d).reduce(function(n,c){n[c]=a.Xhc(d[c]);return n;},{});};a.Xhc=function(d){return Object.assign({J:d.viewableId,eb:d.startTimeMs},d.endTimeMs?{ib:d.endTimeMs}:{},d.defaultNext?{Dc:d.defaultNext}:{},d.weight?{weight:d.weight}:{},d.transitionType?{Td:d.transitionType}:{},d.next?{next:a.Vhc(d.next)}:{},d.exitZones?{Cl:d.exitZones}:{},d.playbackRate?{playbackRate:d.playbackRate}:{},d.uxSegment?{N1a:d.uxSegment}:{},d.type?{type:d.type}:{},void 0 !== d.fadeIn?{Hr:d.fadeIn}:{},void 0 !== d.fadeOut?{fq:d.fadeOut}:{},void 0 !== d.main?{ap:d.main}:{});};a.Vhc=function(d){return Object.keys(d).reduce(function(n,c){n[c]=a.Whc(d[c]);return n;},{});};a.Whc=function(d){return Object.assign({},void 0 !== d.weight?{weight:d.weight}:{},d.transitionType?{Td:d.transitionType}:{});};a.pec=function(d){return Object.keys(d).reduce(function(n,c){n[c]=a.oec(d[c]);return n;},{});};a.oec=function(d){return Object.assign({viewableId:d.J,startTimeMs:d.eb},d.ib?{endTimeMs:d.ib}:{},d.Dc?{defaultNext:d.Dc}:{},d.weight?{weight:d.weight}:{},d.Td?{transitionType:d.Td}:{},d.next?{next:a.mec(d.next)}:{},d.Cl?{exitZones:d.Cl}:{},d.playbackRate?{playbackRate:d.playbackRate}:{},d.N1a?{uxSegment:d.N1a}:{},d.type?{type:d.type}:{},void 0 !== d.Hr?{fadeIn:d.Hr}:{},void 0 !== d.fq?{fadeOut:d.fq}:{},void 0 !== d.ap?{main:d.ap}:{});};a.mec=function(d){return Object.keys(d).reduce(function(n,c){n[c]=a.nec(d[c]);return n;},{});};a.nec=function(d){return Object.assign({},void 0 !== d.weight?{weight:d.weight}:{},d.Td?{transitionType:d.Td}:{});};return a;})();},14999:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.s_a=function(n,c,h){var f;f=new d.Ew();f.BH(c).Jua("lazy").IZa(h).Rf(c,{J:n,eb:0,ib:Infinity});return f.build();};d=a(48456);},43813:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.P$c=function(n,c,h){var f;f=new d.Ew();f.BH("s0").Jua("immediate").IZa(h).Rf("s0",{J:n,eb:0,ib:1E3 * c,weight:.5,next:{s1:{weight:.5}}}).Rf("s1",{J:n,eb:1E3 * c,ib:Infinity});return f.build();};d=a(48456);},43341:function(t,b,a){var c,h;function d(f,e){var g,k,p;k=h.I.ia;try{for(var l=c.__values(f),m=l.next();!m.done;m=l.next()){p=m.value;if(p.J === e)return {K:p,$p:k};k=k.add(p.Vb);}}catch(q){var r;r={error:q};}finally{try{m && !m.done && (g=l.return) && g.call(l);}finally{if(r)throw r.error;}}return {K:void 0,$p:h.I.ia};}function n(f,e){var g,k,l;return c.__generator(this,function(m){switch(m.label){case 0:(g=f,k=function(){var p;return c.__generator(this,function(r){switch(r.label){case 0:return [4,g];case 1:return (r.T(),g=(p=null !== (l=g.Dc) && void 0 !== l?l:void 0)?(0,h.ic)(e,function(q){return q.id === p;}):void 0,[2]);}});},m.label=1);case 1:return g?[5,k()]:[3,3];case 2:return (m.T(),[3,1]);case 3:return [2];}});}Object.defineProperties(b,{__esModule:{value:!0}});b.UDa=void 0;c=a(22970);h=a(91176);t=(function(){function f(e,g,k){void 0 === k && (k={});this.upper=e;this.lower=g;this.x1a=k;}f.prototype.TH=function(e){return this.x1a[e];};f.prototype.pP=function(e){var g;g=this;return Object.keys(this.x1a).filter(function(k){return g.x1a[k] === e;});};f.prototype.DLc=function(e){return (e=this.TH(e.id))?this.upper.get(e):void 0;};f.prototype.vLc=function(e){var g;g=this;return this.pP(e.id).map(function(k){return g.lower.get(k);});};f.prototype.EFc=function(e){var g,k,l,m,p,r;g=this;k=this.lower.get(e.L);(0,h.assert)(k && k.$$b(e.offset));l=this.DLc(k);if(l){if(l.J === k.J)return (e=l.xXa(k.DDb(e.offset)),{L:l.id,offset:e});if(e.offset.equal(h.I.ia) && 0 === c.__spreadArray([],c.__read(this.lower.DG.hS(e.L)),!1).filter(function(q){return g.TH(q.id) === l.id;}).length)return {L:l.id,offset:h.I.ia};if(0 === c.__spreadArray([],c.__read(this.lower.DG.RD(e.L)),!1).filter(function(q){return g.TH(q.id) === l.id;}).length)return {L:l.id,offset:l.Vb};(0,h.assert)(k.Rb.isFinite());k=d(this.lower.DG.dK(e.L),l.J);m=k.K;k=k.$p;p=d(this.lower.DG.vJa(e.L),l.J);r=p.K;p=p.$p;m=m?m.kb:l.Rb;(0,h.assert)(m);r=r?r.Rb:l.kb;(0,h.assert)(r);k=p.add(k);e=e.offset.add(p).gf(k);e=r.add(m.ea(r).Qg(e));e=l.xXa(e);return {L:l.id,offset:e};}};f.prototype.DFc=function(e){var g,k,l,m,p,r,q,u,v,w,x,y,z,B,D,E,H,J,L,K;r=this.upper.get(e.L);(0,h.assert)(r);q=r.J;u=r.Pmb(e.offset);v=r.DDb(u);(0,h.assert)(v);w=this.vLc(r);x=w.filter(function(I){return I.J === q;}).filter(function(I){return I.FPc(v);});if(x.length){y=x[0];return {L:y.id,offset:y.xXa(v)};}if(u.equal(h.I.ia) && !this.upper.Arc(e.L))return {L:w[0].id,offset:h.I.ia};if(u.equal(r.Vb) && !this.upper.Frc(e.L)){z=w[w.length - 1];return {L:z.id,offset:z.Vb};}B=new Set(w.map(function(I){return I.Dc;}).filter(function(I){return !!I;}));e=w.filter(function(I){return !B.has(I.id);});w=w.filter(function(I){return B.has(I.id);});try{for(var A=c.__values(e),C=A.next();!C.done;C=A.next()){D=c.__spreadArray([],c.__read(n(C.value,w)),!1);e=[];y=u=void 0;try{for(var F=(k=void 0,c.__values(D)),G=F.next();!G.done;G=F.next())(y=G.value,u && e.push({ow:u,K:y,t$:!1}),u=void 0,y.J === q?(e.push({ow:y.kb,K:y,t$:!1}),u=y.Rb):0 === e.length && e.push({ow:r.kb,K:y,t$:!1}));}catch(I){k={error:I};}finally{try{G && !G.done && (l=F.return) && l.call(F);}finally{if(k)throw k.error;}}y && (u?e.push({ow:u,K:y,t$:!0}):e.push({ow:r.Rb,K:y,t$:!0}));E=(0,h.cJa)(e,function(I){return I.ow.Km(v);});H=(0,h.ic)(e,function(I){return I.ow.Xf(v);});if(E && H && E.ow.Km(v) && H.ow.Xf(v)){if(E.K.id === H.K.id)return {L:E.K.id,offset:h.I.ia};if(E.ow.G === H.ow.G)return {L:H.K.id,offset:h.I.ia};J=v.ea(E.ow).gf(H.ow.ea(E.ow));L=D.slice(D.indexOf(E.K),D.indexOf(H.K) + (H.t$?1:0));K=L.reduce(function(I,O){return I.add(O.Vb);},h.I.ia).Qg(J);try{for(var M=(m=void 0,c.__values(L)),P=M.next();!P.done && (y=P.value,!K.lessThan(y.Vb));P=M.next())K=K.ea(y.Vb);}catch(I){m={error:I};}finally{try{P && !P.done && (p=M.return) && p.call(M);}finally{if(m)throw m.error;}}if(y && K.lessThan(null === y || void 0 === y?void 0:y.Vb))return {L:y.id,offset:K};}}}catch(I){z={error:I};}finally{try{C && !C.done && (g=A.return) && g.call(A);}finally{if(z)throw z.error;}}(0,h.assert)(!1,"Upper playgraph position should always map to something in lower playgraph");};return f;})();b.UDa=t;},26162:function(t,b,a){var n,c,h,f,e,g,k;function d(l){l=n.__spreadArray([],n.__read(l.DG.dK(l.initial.id)),!1);(0,c.assert)(l.every(function(m){return 1 >= m.RD;}),"Must be linear playgraph");return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.fzc=function(l,m){var p,r,q,u,v,w,x,y,z,B,A,C,D,F,H,J,L,K,I,O,Q,S;w={};x={};y={};z=d(m);B=l.By;A=m.By;B=(0,c.Ikb)(B,A);(0,c.assert)(1 === B.length,"Playgraphs to be merged should have exactly one shared viewable");C=B[0];if(z.length){D=z[z.length - 1];D.J === C && Infinity !== D.ib && (z[z.length - 1]=D.extend(c.I.qh));}F={};try{for(var G=n.__values(l.filter(function(Z){return Z.J === C;})),E=G.next();!E.done;E=G.next()){H=E.value;J=H.kb;L=H.Rb;K=J.equal(c.I.ia)?1:0;B=[];try{for(var M=(r=void 0,n.__values(z)),P=M.next();!P.done;P=M.next()){I=P.value;O=A=void 0;I.J === C?0 === K?I.VW(J) && (O=(0,k.qMb)(I,J,L),I.VW(L)?(A=("").concat(H.id),K=2):(A=("").concat(H.id,":").concat(I.id),K=1)):(A=("").concat(H.id,":").concat(I.id),I.VW(L)?(I.kb.lessThan(L) && (O=(0,k.qMb)(I,J,L)),K=2):O=I):1 === K && (A=("").concat(H.id,":").concat(I.id),O=I);if(A && O && (w[A]=H.id,x[A]=I.id,B.length || (y[H.id]=A),B.push({id:A,Eda:O}),1 < B.length)){Q=n.__read(B.slice(-2),2);S=Q[0];D=Q[1];S.Eda=n.__assign(n.__assign({},(0,h.nLa)(S.Eda)),{Dc:D.id,next:(u={},u[D.id]={},u)});}if(2 === K){B.length && (D=B[B.length - 1],D.Eda=n.__assign(n.__assign({},(0,h.nLa)(D.Eda)),{Dc:H.Dc,next:H.next}));break;}}}catch(Z){r={error:Z};}finally{try{P && !P.done && (q=M.return) && q.call(M);}finally{if(r)throw r.error;}}B.forEach(function(Z){return F[Z.id]=Z.Eda;});}}catch(Z){var U;U={error:Z};}finally{try{E && !E.done && (p=G.return) && p.call(G);}finally{if(U)throw U.error;}}try{for(var W=n.__values(l.filter(function(Z){return Z.J !== C;})),Y=W.next();!Y.done;Y=W.next())(H=Y.value,F[H.id]=H,w[H.id]=H.id);}catch(Z){var X;X={error:Z};}finally{try{Y && !Y.done && (v=W.return) && v.call(W);}finally{if(X)throw X.error;}}U=g.SE.create(new f.Ew().RZa(F,function(){return !0;},y).BH(y[l.initial.id] || l.initial.id).build());l=new e.UDa(l,U,w);m=new e.UDa(m,U,x);return {Gaa:U,Svc:l,FKc:m};};n=a(22970);c=a(91176);h=a(58304);f=a(48456);e=a(43341);g=a(7314);k=a(48781);},7314:function(t,b,a){var n,c,h,f,e,g,k;function d(l,m){var p,r,q;if(l=l.get(m)){if(l.Dc && 0 !== (null === (r=null === (p=l.next) || void 0 === p?void 0:p[l.Dc]) || void 0 === r?void 0:r.iH))return l.Dc;if(l.next){q=l.next;p=Object.keys(q);return (r=p.reduce(function(u,v){var w;w=n.__read(u,2);u=w[0];w=w[1];return q[v].iH > w?[v,q[v].iH]:[u,w];},[void 0,0])[0])?r:p[0];}}}Object.defineProperties(b,{__esModule:{value:!0}});b.SE=void 0;n=a(22970);c=a(91176);h=a(66164);f=a(48781);e=a(26162);t=(function(){function l(m){this.Z=m;}l.create=function(m){return new k(m);};l.update=function(m,p){return new k(p).e6(m);};l.Rn=function(m,p){var r,q;r=(0,e.fzc)(m,p);p=r.Gaa;q=r.Svc;r=r.FKc;m.GMc(p,q);p.QMc(m,q);return {Gaa:p,mapping:r};};return l;})();b.SE=t;g=0;k=(function(l){function m(p){var r,q;r=l.call(this,p) || this;r.xwa=new WeakMap();r.HR=new Map();r.qb=new h.platform.Console("WORKINGPLAYGRAPH");(0,c.assert)(p.lf,"Playgraph must have an initial segment");q=r.get(p.lf);(0,c.assert)(q,("Could not find initial segment ").concat(p.lf," in playgraph"));r.initial=q;r.DG={RD:r.Wyb.bind(r),hS:r.KSa.bind(r),dK:r.Vyb.bind(r),vJa:r.Uyb.bind(r),$p:r.$uc.bind(r)};r.ubd={RD:r.VT.bind(r),hS:r.pUc.bind(r),dK:r.oUc.bind(r),vJa:r.mUc.bind(r),$p:r.nUc.bind(r)};r.e5=g++;r.awb=new c.O5a(function(u){return Object.keys(u.next || ({})).map(function(v){return {STc:r.get(v),weight:u.Vb.G};});});return r;}n.__extends(m,l);Object.defineProperties(m.prototype,{By:{get:function(){return this.x2b || (this.x2b=this.Aqc());},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{rrc:{get:function(){return !!this.$Y;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{xwb:{get:function(){return !!this.C_;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Voa:{get:function(){var p;return null === (p=this.$Y) || void 0 === p?void 0:p.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{isa:{get:function(){var p;return null === (p=this.C_) || void 0 === p?void 0:p.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bH:{get:function(){var p;return (null === (p=this.isa) || void 0 === p?void 0:p.bH) || this;},enumerable:!1,configurable:!0}});m.prototype.e6=function(p){var r,q,w,x;q=this.Z.ba;try{for(var u=n.__values(Object.keys(q)),v=u.next();!v.done;v=u.next()){w=v.value;if(p.Fwb(w)){x=q[w];this.QAb(w,x,p.get(w));p.HR.has(x.J) && this.normalize(x.J,p.HR.get(x.J));}}}catch(z){var y;y={error:z};}finally{try{v && !v.done && (r=u.return) && r.call(u);}finally{if(y)throw y.error;}}return this;};m.prototype.has=function(p){return !!this.Z.ba[p];};m.prototype.get=function(p){var r;r=this.Z.ba[p];if(r)return this.xwa.get(r) || this.QAb(p,r);};m.prototype.entries=function(){var p,r,q,u,v,w;return n.__generator(this,function(x){switch(x.label){case 0:(x.tc.push([0,5,6,7]),p=n.__values(Object.keys(this.Z.ba)),r=p.next(),x.label=1);case 1:if(r.done)return [3,4];q=r.value;return [4,[q,this.get(q)]];case 2:(x.T(),x.label=3);case 3:return (r=p.next(),[3,1]);case 4:return [3,7];case 5:return (u=x.T(),v={error:u},[3,7]);case 6:try{r && !r.done && (w=p.return) && w.call(p);}finally{if(v)throw v.error;}return [7];case 7:return [2];}});};m.prototype.forEach=function(p){var r;r=this;Object.keys(this.Z.ba).forEach(function(q){var u;u=r.get(q);p(u,q,r);});};m.prototype.keys=function(){return Object.keys(this.Z.ba).values();};m.prototype.values=function(){var p,r,q,u,v,w;return n.__generator(this,function(x){switch(x.label){case 0:(x.tc.push([0,5,6,7]),p=n.__values(Object.keys(this.Z.ba)),r=p.next(),x.label=1);case 1:if(r.done)return [3,4];q=r.value;return [4,this.get(q)];case 2:(x.T(),x.label=3);case 3:return (r=p.next(),[3,1]);case 4:return [3,7];case 5:return (u=x.T(),v={error:u},[3,7]);case 6:try{r && !r.done && (w=p.return) && w.call(p);}finally{if(v)throw v.error;}return [7];case 7:return [2];}});};m.prototype.normalize=function(p,r){var q,u,v;q=this;v=!1;this.qkc(function(w){w.J === p && (v || q.HR.set(p,r),q.cDb(w),v=!0);});v && this.xwb && (null === (u=this.isa) || void 0 === u?void 0:u.normalize(p,r));};m.prototype.QHb=function(p){var r;this.HR.has(p) && (this.HR.delete(p),null === (r=this.C_) || void 0 === r?void 0:r.Z.QHb(p));};m.prototype.rra=function(p,r,q){this.Fwb(p) && this.get(p).normalize(r,q);};m.prototype.filter=function(p){var r,q,u,v,w,x;return n.__generator(this,function(y){switch(y.label){case 0:(y.tc.push([0,5,6,7]),r=n.__values(Object.keys(this.Z.ba)),q=r.next(),y.label=1);case 1:if(q.done)return [3,4];u=q.value;return p(this.Z.ba[u])?[4,this.get(u)]:[3,3];case 2:(y.T(),y.label=3);case 3:return (q=r.next(),[3,1]);case 4:return [3,7];case 5:return (v=y.T(),w={error:v},[3,7]);case 6:try{q && !q.done && (x=r.return) && x.call(r);}finally{if(w)throw w.error;}return [7];case 7:return [2];}});};m.prototype.fl=function(p,r){var q,u,v,w;p=this.get(p);q=null === p || void 0 === p?void 0:p.next;if(q){Object.keys(r).forEach(function(x){var y;y=q[x];y && (y.weight=r[x]);});u=(0,f.Z7b)(q);v=u.xDb;w=u.wMb;Object.keys(q).forEach(function(x){if(x=q[x])x.iH=(0,f.Y7b)(x.weight,v,w);});}null === p || void 0 === p?void 0:p.fl(r);};m.prototype.Xyb=function(p,r){var q,u;return n.__generator(this,function(v){switch(v.label){case 0:(q=r,v.label=1);case 1:return q?(u=this.get(q))?[4,u]:[3,3]:[3,3];case 2:return (v.T(),q=p(this,q),[3,1]);case 3:return [2];}});};m.prototype.Frc=function(p){p=this.Z.ba[p];return !!(p && p.next && Object.keys(p.next).length);};m.prototype.Arc=function(p){p=this.get(p);return !(!p || !this.ivb(p).length);};m.prototype.GMc=function(p,r){this.$Y={Z:p,mapping:r};};Object.defineProperties(m.prototype,{id:{get:function(){return this.e5;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{identifier:{get:function(){var p,r,q,u,v;return ("").concat(null !== (r=null === (p=this.C_) || void 0 === p?void 0:p.Z.id) && void 0 !== r?r:"N"," -> (").concat(this.id,") -> ").concat(null !== (v=null === (u=null === (q=this.$Y) || void 0 === q?void 0:q.Z) || void 0 === u?void 0:u.id) && void 0 !== v?v:"N");},enumerable:!1,configurable:!0}});m.prototype.QMc=function(p,r){this.C_={Z:p,mapping:r};};m.prototype.NG=function(p){var r;return null === (r=this.C_) || void 0 === r?void 0:r.mapping.TH(p);};m.prototype.MG=function(p){return this.xwb?(p=this.NG(p)) && this.isa.MG(p):p;};m.prototype.dBb=function(p){if(!this.rrc)return p;p=this.Voa.dBb(p);if(void 0 !== p)return this.Voa.NG(p);};m.prototype.aBb=function(p){var r;return null === (r=this.C_) || void 0 === r?void 0:r.mapping.EFc(p);};m.prototype.Zxc=function(p){var r;return null === (r=this.$Y) || void 0 === r?void 0:r.mapping.DFc(p);};m.prototype.Fwb=function(p){return (p=this.Z.ba[p]) && this.xwa.has(p);};m.prototype.Wyb=function(p){var r,q,u,v,w,x,y;return n.__generator(this,function(z){switch(z.label){case 0:r=this.Z.ba[p];if(!r || !r.next)return [3,8];z.label=1;case 1:(z.tc.push([1,6,7,8]),q=n.__values(Object.keys(r.next)),u=q.next(),z.label=2);case 2:if(u.done)return [3,5];v=u.value;return [4,this.get(v)];case 3:(z.T(),z.label=4);case 4:return (u=q.next(),[3,2]);case 5:return [3,8];case 6:return (w=z.T(),x={error:w},[3,8]);case 7:try{u && !u.done && (y=q.return) && y.call(q);}finally{if(x)throw x.error;}return [7];case 8:return [2];}});};m.prototype.VT=function(p,r,q){this.owa(this.Wyb(p),r,q);};m.prototype.KSa=function(p){var r,q,u,v,w,x,y;return n.__generator(this,function(z){switch(z.label){case 0:r=this.get(p);if(!r)return [3,8];z.label=1;case 1:(z.tc.push([1,6,7,8]),q=n.__values(this.ivb(r)),u=q.next(),z.label=2);case 2:if(u.done)return [3,5];v=u.value;return [4,this.get(v)];case 3:(z.T(),z.label=4);case 4:return (u=q.next(),[3,2]);case 5:return [3,8];case 6:return (w=z.T(),x={error:w},[3,8]);case 7:try{u && !u.done && (y=q.return) && y.call(q);}finally{if(x)throw x.error;}return [7];case 8:return [2];}});};m.prototype.pUc=function(p,r,q){this.owa(this.KSa(p),r,q);};m.prototype.owa=function(p,r,q){var u,v,y,z,B;v=!0;try{for(var w=n.__values(p),x=w.next();!x.done;x=w.next()){y=x.value;z=r(y,B,this,q);v=z.VT;q=z.state;if(!v)break;B=y;}}catch(C){var A;A={error:C};}finally{try{x && !x.done && (u=w.return) && u.call(w);}finally{if(A)throw A.error;}}};m.prototype.Vyb=function(p){return this.Xyb(d,p);};m.prototype.oUc=function(p,r,q){this.owa(this.Vyb(p),r,q);};m.prototype.Uyb=function(p){var r,q;return n.__generator(this,function(u){switch(u.label){case 0:(r=this.get(p),u.label=1);case 1:if(!r)return [3,3];q=n.__spreadArray([],n.__read(this.KSa(r.id)),!1);if(0 === q.length)return [3,3];r=1 === q.length?q[0]:(0,c.ic)(q,function(v){return v.Dc === p;}) || q[0];return [4,r];case 2:return (u.T(),[3,1]);case 3:return [2];}});};m.prototype.mUc=function(p,r,q){this.owa(this.Uyb(p),r,q);};m.prototype.$uc=function(){(0,c.assert)(!1,"Not implemented");};m.prototype.nUc=function(p,r,q){var u;u=this;p=this.get(p);(0,c.assert)(p,"Segment not found in playgraph");this.awb.FPb(p,function(v,w,x,y){return r(v,x,u,y);},q);};m.prototype.QAb=function(p,r,q){p=new f.Egb(p,r,this.Z.Td || "lazy",this.identifier,q);!p.Mm && this.HR.has(r.J) && this.cDb(p);this.xwa.set(r,p);return p;};m.prototype.qkc=function(p){var r;r=this;Object.keys(this.Z.ba).forEach(function(q){var u;u=r.xwa.get(r.Z.ba[q]);u && p(u,q);});};m.prototype.cDb=function(p){var r;r=this.HR.get(p.J);r && p.normalize(r(p.eb),r(p.ib));};m.prototype.Aqc=function(){var p;p=this;return (0,c.Gkb)(Object.keys(this.Z.ba).map(function(r){return p.Z.ba[r].J;}));};m.prototype.ivb=function(p){var q;if(!p.hS){p.hS=[];for(var r in this.Z.ba){q=this.Z.ba[r].next;q && (p.id in q) && p.hS.push(r);}}return p.hS;};return m;})(t);},48781:function(t,b,a){var e,g,k,l,m;function d(p,r,q){var u,v,w,x;if(p.next){u=(null === q || void 0 === q?0:q.next)?c(p.next,q.next):p.next;p=h(u);v=p.wMb;w=p.xDb;x={};p.EA.forEach(function(y){x[y]=new m(u[y],w,v,r);});return x;}}function n(p,r){if("immediate" !== p)return 1;p=r.next?Object.keys(r.next):[];if(p.some(function(q){return void 0 !== r.next[q].weight;})){if(void 0 === r.weight)return 0;p=r.weight + p.reduce(function(q,u){return q + (r.next[u].weight || 0);},0);return r.weight / p;}return 1 / (p.length + 1);}function c(p,r){var q,u,x;u={};try{for(var v=e.__values(Object.keys(p)),w=v.next();!w.done;w=v.next()){x=w.value;u[x]=r[x] || p[x];}}catch(z){var y;y={error:z};}finally{try{w && !w.done && (q=v.return) && q.call(v);}finally{if(y)throw y.error;}}return u;}function h(p){var r,q,u;r=Object.keys(p);q=r.every(function(v){return void 0 === p[v].weight;})?void 0:r.reduce(function(v,w){return v + (p[w].weight || 0);},0);u=void 0 === q?r.length:r.reduce(function(v,w){return v + (p[w].weight?1:0);},0);return {EA:r,xDb:u,wMb:q};}function f(p,r,q){return void 0 === q?1 / r:0 === q?void 0 === p?1 / r:0:void 0 === p?0:p / q;}Object.defineProperties(b,{__esModule:{value:!0}});b.YZb=b.Egb=void 0;b.qMb=function(p,r,q){return e.__assign(e.__assign({},p.K),{eb:g.I.max(r,p.kb).G,ib:g.I.min(q,p.Rb).G});};b.L7c=d;b.D2c=n;b.q8c=c;b.Z7b=h;b.Y7b=f;e=a(22970);g=a(91176);k=a(4152);l=a(58304);t=(function(){function p(r,q,u,v,w){var x,y;x=this;this.id=r;this.K=q;this.Ldc=v;this.Mm=!1;this.gF={};this.doa=function(z){var B,A,C,D;return (null === (B=x.dy) || void 0 === B?0:B.length)?"immediate":null !== (D=null === (C=null === (A=x.next) || void 0 === A?void 0:A[z]) || void 0 === C?void 0:C.Td) && void 0 !== D?D:x.Td;};this.THa=null !== (y=q.Td) && void 0 !== y?y:u;this.weight=w?w.weight:q.weight;this.Dc=null !== q.Dc?q.Dc:void 0;this.next=q.next?d(q,this.THa,w):void 0;this.iH=n(this.THa,this);this.kb=(this.Mm=r=w?w.Mm && w.ib === q.ib && w.eb === q.eb:!1)?w.kb:g.I.Ca(q.eb);this.Rb=r?w.Rb:g.I.Ca(q.ib || Infinity);this.dy=w && r?w.dy:void 0;this.fl();}Object.defineProperties(p.prototype,{J:{get:function(){return this.K.J;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{type:{get:function(){return this.K.type || l.Dd.content;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{eb:{get:function(){return this.K.eb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ib:{get:function(){return this.K.ib || Infinity;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Hr:{get:function(){return this.K.Hr;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{fq:{get:function(){return this.K.fq;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Cl:{get:function(){return this.K.Cl;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ap:{get:function(){return this.K.ap;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Vb:{get:function(){var r;return (null === (r=this.Rb) || void 0 === r?void 0:r.ea(this.kb)) || g.I.qh;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{RD:{get:function(){return this.next?Object.keys(this.next).length:0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{j1:{get:function(){return this.EA.length?!this.Dc && 0 === this.g_.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{guc:{get:function(){return !this.type || this.type === l.Dd.content;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{EA:{get:function(){return Object.keys(this.next || ({}));},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{IAc:{get:function(){return this.gF;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{g_:{get:function(){var r;r=this;return this.EA.filter(function(q){return !!r.gF[q];});},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Y_a:{get:function(){var r;return null !== (r=this.Hib) && void 0 !== r?r:this.Hib=this.m8b();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{rva:{get:function(){var r;return null !== (r=this.Iib) && void 0 !== r?r:this.Iib=this.n8b();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{gw:{get:function(){return this.weight?this.weight / (this.weight + this.rva):1;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Td:{get:function(){var r;return (null === (r=this.dy) || void 0 === r?0:r.length)?"immediate":this.THa;},enumerable:!1,configurable:!0}});p.prototype.Pmb=function(r){return g.I.min(g.I.max(g.I.ia,r),this.Vb);};p.prototype.DDb=function(r){return this.kb.add(r);};p.prototype.xXa=function(r){return r.ea(this.kb);};p.prototype.FPc=function(r){return r.greaterThan(this.kb) && r.lessThan(this.Rb);};p.prototype.VW=function(r){return r.Xf(this.kb) && r.Km(this.Rb);};p.prototype.$$b=function(r){return r.Xf(g.I.ia) && r.Km(this.Vb);};p.prototype.normalize=function(r,q){var u;if(r && q){u=Math.max(r.P,q.P);this.kb=r.Vc(u);this.Rb=q.Vc(u);this.K.eb=this.kb.G;this.K.ib=this.Rb.G;this.Mm=!0;}};p.prototype.t1a=function(r){this.weight=r;this.iH=n(this.Td,this);};p.prototype.extend=function(r){this.Rb=r;return this;};p.prototype.wrc=function(r){return !!(this.next && -1 < Object.keys(this.next).indexOf(r));};p.prototype.Stb=function(){var r;return this.g_.length?null !== (r=this.g_.map(this.doa).reduce(function(q,u){return q === u?u:void 0;})) && void 0 !== r?r:this.Td:this.Td;};p.prototype.X7b=function(r){var q,u;if(this.Y_a){q=(this.gF[r] || 0) / this.Y_a;if(void 0 === this.weight || 0 === this.rva)return {rg:q};u=this.gw;return 1 !== u && (0,k.dSa)(this.doa(r)) && this.gF[r]?{rg:u * q,tK:this.gF[r] / this.rva * (1 - u)}:{rg:u * q};}return {rg:(null === (q=this.next) || void 0 === q?0:q[r])?1 / this.RD:0};};p.prototype.DKb=function(r){this.dy=r;this.UPb();};p.prototype.fl=function(r){var q;if(this.next){q=this.next;this.gF=Object.keys(this.next).reduce(function(u,v){var w;w=r?r[v] || 0:q[v].weight;void 0 !== w && null !== w && 0 <= w && (u[v]=w);return u;},{});}else this.gF={};this.UPb();};p.prototype.m8b=function(){var r;r=this;return this.g_.reduce(function(q,u){return q + r.gF[u];},0);};p.prototype.n8b=function(){var r;r=this;return this.g_.filter(function(q){return (0,k.dSa)(r.doa(q));}).reduce(function(q,u){return q + r.gF[u];},0);};p.prototype.UPb=function(){this.Iib=this.Hib=void 0;};p.prototype.toString=function(){var r;r=new g.qV(this.kb,this.Rb);return ("WSeg[").concat(this.Ldc,"](").concat(this.id,") ") + ("").concat(r.toString(g.CI.G),"v:").concat(this.J);};return p;})();b.Egb=t;m=(function(){return function(p,r,q,u){this.iH=0;this.Td=p.Td || u;this.weight=p.weight;this.iH=f(p.weight,r,q);};})();b.YZb=m;},35621:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.x2a=void 0;d=a(22970);n=a(28020);t=(function(){function c(h){this.events=[];this.total=0;this.options=d.__assign({},h);}c.prototype.clear=function(){this.events=[];this.filled=void 0;this.total=0;};Object.defineProperties(c.prototype,{etb:{get:function(){if(this.filled){if((0,n.ha)() - this.filled.ha < this.filled.reset)return !0;this.filled=void 0;}return !1;},enumerable:!1,configurable:!0}});c.prototype.push=function(h){var f,e,g,k,l;if(!this.etb){f=(0,n.ha)();e=this.options.QR;g=f - e;this.events=this.events.filter(function(m){return m.ha > g;});h=this.events.push({ha:f,event:h});k=this.events;l=this.options;if(h >= l.count)return (this.total++,l=l.reset,"function" === typeof l && (l=l()),this.filled={ha:f,reset:l},this.events=[],{ha:f,total:this.total,count:h,QR:e,reset:l,events:k});}};return c;})();b.x2a=t;},42050:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.W2a=void 0;d=a(22970);n=a(91072);c=a(28951);h=a(62411);b.W2a=(function(){function f(){}f.open=function(e){return d.__awaiter(this,void 0,void 0,function(){var g,k,l,m,p,r,q,u,v,w,x,y,z;return d.__generator(this,function(B){switch(B.label){case 0:return (g=e.timing || new n.rFa(),[4,e.lx(g)]);case 1:(k=B.T(),l=e.trace.extend("ale-auth"),m=e.KC,B.label=2);case 2:return (B.tc.push([2,7,,8]),p=new c.SBa(k),l("Waiting for nonce and creating ALE session"),r=null !== (z=e.timeout) && void 0 !== z?z:this.timeout,[4,Promise.all([g.$ja(["network","nonce"],function(){return p.V1a(r,m.nonce.bind(m));}),g.$ja(["session","ale"],function(){return e.hW.oic();})])]);case 3:return (q=B.T()[0],l("Created ALE session"),l("Nonce is",q),[4,g.$ja(["encrypt","ale"],function(){return e.hW.encrypt(q);})]);case 4:u=B.T();v=u.token;w=u.HF;k.send(m.response(v,w));if(!m.validate)return [3,6];x=m.validate.bind(m);return [4,g.$ja(["network","response"],function(){return p.V1a(r,x);})];case 5:(B.T(),B.label=6);case 6:return [2,k];case 7:throw (y=B.T(),l("ALE authentication failed with",y),k.close(),(0,h.aRb)("ale-encrypted-nonce",y));case 8:return [2];}});});};f.timeout=8E3;return f;})();},61222:function(t,b,a){var n,c,h,f;function d(e,g,k){return n.__awaiter(this,void 0,void 0,function(){var l,m,p,r,q,u;return n.__generator(this,function(v){switch(v.label){case 0:return (v.tc.push([0,2,,3]),[4,g()]);case 1:return [2,v.T()];case 2:return (l=v.T(),m=k.token,p=k.ao,r=k.eu,q=k.xc,u={type:"ale-failure",step:e,zc:(0,f.wM)(l),now:new Date().toISOString(),ha:(0,h.ha)(),token:null !== m && void 0 !== m?m:null === p || void 0 === p?void 0:p.token,eu:(null === q || void 0 === q?void 0:q.Kj) || r,wm:null === q || void 0 === q?void 0:q.Kdc.toISOString(),expiration:null === p || void 0 === p?void 0:p.ck().toISOString(),gW:q?(0,h.ha)() - q.Idc:void 0,nca:null === p || void 0 === p?void 0:p.ida()},[2,Promise.reject(u)]);case 3:return [2];}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.X2a=void 0;n=a(22970);c=a(73608);h=a(28020);f=a(62411);t=(function(){function e(g,k){var l,m;this.eu=1;this.options=n.__assign({},g);this.wl=g.wl;this.options.BYa=null !== (l=g.BYa) && void 0 !== l?l:!0;this.options.$wb=null !== (m=g.$wb) && void 0 !== m?m:!0;this.trace=g.trace.extend(k.Lnb,"ale-client");this.config=k;}e.Aec=function(g){g=g.wl;return {Lnb:"SOCKETROUTER",scheme:c.AleScheme.A128CBC_HS256,keyx:c.AleKeyxScheme.CLEAR,crypto:g.crypto,dg:g.dg,Vi:g.Vi};};e.rkc=function(g){return new e(g,this.Aec(g));};e.prototype.Apc=function(){this.zua || (this.zua=new c.b3a(this.config));return this.zua;};e.prototype.Cvb=function(){return n.__awaiter(this,void 0,void 0,function(){var g,k,l,m,p,r;r=this;return n.__generator(this,function(q){switch(q.label){case 0:if(this.ao && !this.ao.ida())return [3,5];this.xc=void 0;g=this.eu++;return [4,d("create-service",function(){return r.Apc();},{eu:g})];case 1:return (k=q.T(),[4,d("get-request",function(){return k.apc();},{eu:g})]);case 2:return (l=q.T(),this.trace("Provision request",l),[4,d("provision",function(){return r.wl.vHc(l);},{eu:g})]);case 3:return (m=q.T(),this.trace("Provision response",m),p=this,[4,d("create-session",function(){return k.createSession(m);},{eu:g})]);case 4:return (p.ao=q.T(),this.xc={Kj:g,Idc:(0,h.ha)(),Kdc:new Date()},this.trace("Created session with expiration",this.ao.ck().toISOString()),[3,6]);case 5:(this.trace("Reusing session with expiration",this.ao.ck().toISOString()),q.label=6);case 6:return [2,this.ao];}});});};e.prototype.kub=function(g){return n.__awaiter(this,void 0,void 0,function(){var k,l,m,p;return n.__generator(this,function(r){switch(r.label){case 0:if(this.options.$wb)return [3,2];k=this;l=k.ao;m=k.eu;p=k.xc;return [4,d(g,function(){if(!l)throw (0,f.Afa)("No session has been created");if(l.ida())throw (0,f.Afa)("Session is due for renewal");},{ao:l,eu:m,xc:p})];case 1:(r.T(),r.label=2);case 2:return [2,this.Cvb()];}});});};e.prototype.oic=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(g){switch(g.label){case 0:return [4,this.Cvb()];case 1:return (g.T(),[2]);}});});};Object.defineProperties(e.prototype,{ida:{get:function(){var g,k;return null !== (k=null === (g=this.ao) || void 0 === g?void 0:g.ida()) && void 0 !== k?k:!0;},enumerable:!1,configurable:!0}});e.prototype.reset=function(){this.ao && (this.trace("Dropping session"),this.ao=void 0);};e.prototype.encrypt=function(g){return n.__awaiter(this,void 0,void 0,function(){var k,l,m,p,r,q;return n.__generator(this,function(u){switch(u.label){case 0:return (u.tc.push([0,3,,4]),k="encrypt",[4,this.kub(k)]);case 1:return (l=u.T(),m=l.token,[4,d(k,function(){return l.Zhc(g);},{ao:l,token:m,xc:this.xc})]);case 2:return (p=u.T(),r={token:m,HF:p},this.trace("Encrypted : ",g,r),[2,r]);case 3:throw (q=u.T(),this.trace("Encrypt failed :",q),this.options.BYa && this.reset(),q);case 4:return [2];}});});};e.prototype.decrypt=function(g){return n.__awaiter(this,void 0,void 0,function(){var k,l,m,p;return n.__generator(this,function(r){switch(r.label){case 0:return (r.tc.push([0,3,,4]),k="decrypt",[4,this.kub(k)]);case 1:return (l=r.T(),[4,d(k,function(){return l.wec(g);},{ao:l,xc:this.xc})]);case 2:return (m=r.T(),this.trace("Decrypted : ",g,m),[2,m]);case 3:throw (p=r.T(),this.trace("Decrypt failed :",p),this.options.BYa && this.reset(),p);case 4:return [2];}});});};return e;})();b.X2a=t;},64743:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.iya=void 0;d=a(22970);t=(function(n){function c(h,f){var e;e=n.call(this,h,f) || this;e.closed.then(function(){return e.clear();});return e;}d.__extends(c,n);c.prototype.clear=function(){var h;h=this.Hd;if(h)return (this.Hd=void 0,h.open && (this.trace("Closing",h.id),h.close()),this.emit("disconnected",{Hd:h}),h);};c.prototype.set=function(h){var f,e;f=this;if(this.open && this.Hd !== h){e=this.clear();h.open && (this.Hd=h,h.closed.then(function(){f.OT(h) && f.clear();}),h.on("message",function(g){g=g.message;f.OT(h) && f.emit("message",{Hd:h,message:g});}),h.on("failure",function(g){var k;k=g.Ae;g=g.error;f.OT(h) && f.emit("failure",{Ae:k,error:g,Hd:h});}),this.trace("Connected to",h.id),this.emit("connected",{Hd:h}));return e;}};c.prototype.isConnected=function(){var h;return this.open && (null === (h=this.Hd) || void 0 === h?void 0:h.open);};c.prototype.OT=function(h){return this.open && h === this.Hd;};Object.defineProperties(c.prototype,{connected:{get:function(){return this.isConnected();},enumerable:!1,configurable:!0}});c.prototype.send=function(h){var f;if(this.open && (null === (f=this.Hd) || void 0 === f?0:f.open))return this.Hd.send(h);};return c;})(a(9568).E4);b.iya=t;},94933:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.b5a=void 0;d=a(22970);n=a(91072);c=a(28020);h=a(62411);t=(function(f){function e(g){var k;k=f.call(this,"CON",g.trace) || this;k.qy=(0,c.ha)();k.timing=new n.rFa();k.attempt=0;k.options=d.__assign({},g);return k;}d.__extends(e,f);e.open=function(g){return d.__awaiter(this,void 0,void 0,function(){var k;return d.__generator(this,function(l){switch(l.label){case 0:(k=new e(g),l.label=1);case 1:return (l.tc.push([1,3,,4]),[4,k.connect()]);case 2:return (l.T(),[3,4]);case 3:return (l.T(),k.close(),[3,4]);case 4:return (k.kf && !k.failure && (k.failure={type:"connection-failed",types:h.Orb(k.TP),Nz:k.TP}),[2,k]);}});});};e.prototype.finish=function(g,k){var l;l=this;k.open?(g.end(),this.set(k),k.closed.then(function(){return l.close();})):(k=h.N8a("Factory returned a closed socket"),this.failure={type:"connection-failed",types:h.Orb(k),Nz:[k]},g.end(this.failure),this.close());};e.prototype.xmb=function(g,k){k=h.wM(k);if("connection-disabled" === k.type)throw (g.end(k),this.failure=k,k);};e.prototype.connect=function(){return d.__awaiter(this,void 0,void 0,function(){var g,k,l,m,p,r,q,u,v,w;return d.__generator(this,function(x){switch(x.label){case 0:(g=this.options,k=g.lx,l=g.retry,m=this.timing.gva("connect"),x.label=1);case 1:return (x.tc.push([1,3,,8]),this.attempt++,p=this.finish,r=[m],[4,k(m.details())]);case 2:return [2,p.apply(this,r.concat([x.T()]))];case 3:q=x.T();this.xmb(m,q);m.end(null !== q && void 0 !== q?q:h.N8a("Factory failed with no error"));if(!l)throw q;u=this.timing.gva("retry");x.label=4;case 4:return (x.tc.push([4,6,,7]),[4,l(this.attempt,this.TP)]);case 5:if(v=x.T())return [2,this.finish(u,v)];u.end();return [2,this.connect()];case 6:throw (w=x.T(),this.xmb(u,w),u.end(null !== w && void 0 !== w?w:h.Dha(this.attempt)),w);case 7:return [3,8];case 8:return [2];}});});};Object.defineProperties(e.prototype,{kf:{get:function(){return !this.connected;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{duration:{get:function(){return this.timing.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{aNb:{get:function(){return (0,c.ha)() - this.qy;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{JYa:{get:function(){return this.timing.Or.reduce(function(g,k){var l;l=k.error;return "retry" !== k.type || l?g:g + 1;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{aRc:{get:function(){return (0,c.ha)() - this.timing.end;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{TP:{get:function(){return this.timing.Or.filter(function(g){return g.error;}).map(function(g){return h.wM(g.error);});},enumerable:!1,configurable:!0}});return e;})(a(64743).iya);b.b5a=t;},94450:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Counter=void 0;t=(function(){function a(d,n,c){this.total=0;this.counter=d.counter(n,c);}a.prototype.hA=function(d){void 0 === d && (d=1);this.total+=d;this.counter.hA(d);};return a;})();b.Counter=t;},70402:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.EventEmitter=void 0;d=a(22970);t=a(90745);n=(function(c){function h(f,e,g){var k;k=c.call(this) || this;g?k.resolve():k.listener=f.listener(e,function(){k.clear();k.resolve();});return k;}d.__extends(h,c);h.prototype.clear=function(){this.listener && (this.listener.clear(),this.listener=void 0);};return h;})(a(91176).mo);a=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.listener=function(f,e){var g;g=this;this.on(f,e);return {clear:function(){return g.Om(f,e);}};};h.prototype.cAb=function(f,e){return new n(this,f,e);};return h;})(t.EventEmitter);b.EventEmitter=a;},4343:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.vza=void 0;d=a(22970);t=a(70402);n=a(35621);c={count:Infinity,QR:-Infinity,reset:-Infinity};a=(function(h){function f(e){var g,k;void 0 === e && (e=c);g=h.call(this) || this;k=e.reset;g.WV=new n.x2a({count:e.count,QR:e.QR,reset:function(){return "number" === typeof k?k:k(g.WV.total,g.WV.events.map(function(l){return l.event.error;}));}});return g;}d.__extends(f,h);f.prototype.reset=function(){this.WV.clear();};Object.defineProperties(f.prototype,{MHc:{get:function(){return this.WV.etb;},enumerable:!1,configurable:!0}});f.prototype.failure=function(e,g,k){var l,m,p,r,q,u;l=this;if(e=this.WV.push({Ae:e,Hd:g.id,error:k})){m=e.total;p=e.count;r=e.QR;q=e.reset;u=e.events.map(function(v){return d.__assign({ha:v.ha},v.event);});Promise.resolve().then(function(){l.emit("failed",{Hd:g,error:{type:"accumulated-failures",message:("Received ").concat(p," failure(s) over ").concat(r," ms"),total:m,reset:q,Nz:u}});});}return this.WV.events.length;};return f;})(t.EventEmitter);b.vza=a;},62411:function(t,b,a){var f;function d(e){var g;g=typeof e;if(e && "object" === g){if(e instanceof Error)return {type:"jse",name:e.name,message:e.message,stack:e.stack};if(e.type)return "jse" !== e.type && e.stack?f.__assign(f.__assign({},e),{line:void 0,sourceURL:void 0,stack:void 0}):e;}return {type:"unknown",Rad:g,value:e};}function n(e){if(e && "object" === typeof e && "string" === typeof e.type)return e;}function c(e){var l,m;function g(p){var q;if(k(p)){l.push(p);if(Array.isArray(p))return p.forEach(function(u){return g(u);});for(var r in p){q=p[r];k(q) && g(q);}(p=n(p)) && m.push(p);}}function k(p){return p && "object" === typeof p && 0 > l.indexOf(p);}l=[];m=[];g(e);return m;}function h(e){return c(e).reduce(function(g,k){var l;k=k.type;g[k]=(null !== (l=g[k]) && void 0 !== l?l:0) + 1;return g;},{});}Object.defineProperties(b,{__esModule:{value:!0}});b.N8a=function(e){try{throw Error(e);}catch(g){return d(g);}};b.Afa=function(e,g){return {type:"cause",message:e,Nz:(null === g || void 0 === g?0:g.length)?g:void 0};};b.Dha=function(e){return {type:"retries-exceeded",attempt:e};};b.uZb=function(e,g){return {type:"timed-out",G:e,message:g};};b.pAa=function(e){return {type:"interrupted",message:e};};b.Aha=function(e,g,k,l){return {type:"request-failed",request:e,id:g,reason:k,zc:d(l)};};b.aRb=function(e,g){return {type:"authn-failure",eL:e,zc:d(g)};};b.mza=function(e){return {type:"error-response",response:e};};b.G3=function(e){return {type:"invalid-response",response:e};};b.Wfb=function(e){return {type:"unauthorized",response:e};};b.wM=d;b.jyb=n;b.Ptc=function(e,g){e=n(e);if((null === e || void 0 === e?void 0:e.type) === g)return e;};b.flatten=c;b.gjc=h;b.Orb=function(e){return Object.keys(h(e)).sort();};b.OWc=function(e,g){return {type:"connection-disabled",reason:e,message:g};};f=a(22970);},47348:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.fsc=function(d){var n,c;c=null !== (n=a[d]) && void 0 !== n?n:1;a[d]=c + 1;return ("").concat(d,":").concat(c);};a={};},58655:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.zgb=void 0;d=a(22970);n=a(62411);t=(function(){function c(h){this.options=h;this.visible=h.wl.visible;}Object.defineProperties(c.prototype,{context:{get:function(){return {visible:("").concat(this.visible.ZT)};},enumerable:!1,configurable:!0}});c.prototype.qka=function(h){var f;h="string" === typeof h?{message:h}:h;f=this.options.qka;return f?d.__assign(d.__assign({},h || ({})),f()):h;};c.prototype.send=function(h,f,e,g){f={Ae:f,context:this.context,uf:this.options.uf.values,error:g?(0,n.wM)(g):void 0,vk:this.qka(e)};this.options.wl.kR(h,f);this.options.trace(h,f);};c.prototype.error=function(h,f,e){this.send("error",h,e,f);};c.prototype.warn=function(h,f){this.send("warn",h,f);};c.prototype.j_=function(h,f){this.send("info",h,f);};c.prototype.Z5b=function(h){var f;f=this.options.qka;this.options.qka=f?function(){return d.__assign(d.__assign({},f()),h());}:h;return this;};return c;})();b.zgb=t;},28951:function(t,b,a){var d,n,c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.SBa=void 0;d=a(22970);n=a(91176);c=a(97936);h=a(62411);t=(function(f){function e(g,k){var l,m;l=f.call(this) || this;l.Hd=g;if(g.open){m=k?k.reduce(function(p,r){p[r]=!0;return p;},{}):void 0;g.closed.then(function(){return l.removeAllListeners();});g.on("message",function(p){var r,q;r=p.Hd;p=p.message;if(m && m[p])return l.emit("ignored",{Hd:r,message:p});try{q=JSON.parse(p);if(q && "object" === typeof q)return l.emit("message",{Hd:r,message:q});throw Error("Not an object");}catch(u){l.emit("invalid",{Hd:r,message:p,error:u});}});}return l;}d.__extends(e,f);e.prototype.V1a=function(g,k,l){return d.__awaiter(this,void 0,void 0,function(){var m,p,r,q;return d.__generator(this,function(u){switch(u.label){case 0:(m=new n.mo(),null === l || void 0 === l?void 0:l.then(void 0,function(v){return m.reject(v);}),p=new c.NE(function(){return m.reject((0,h.uZb)(g,"Timed out waiting for message"));},g),r=this.Hd.closed,r.then(function(){return m.reject((0,h.pAa)("Socket closed while waiting for a message"));}),q=this.listener("message",function(v){var w;v=v.message;try{w=k(v);w && m.resolve(w);}catch(x){m.reject((0,h.wM)(x));}}),u.label=1);case 1:return (u.tc.push([1,,3,4]),[4,m]);case 2:return [2,u.T()];case 3:return (r.clear(),p.clear(),q.clear(),[7]);case 4:return [2];}});});};return e;})(a(70402).EventEmitter);b.SBa=t;},71385:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.OU=(a={},a.CLOSE="_CLOSE_",a.WS_ECHO="ECHO ping",a);},59143:function(t,b,a){var d,n,c,h,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Wbb=void 0;d=a(22970);n=a(94933);c=a(49781);t=a(64743);h=a(4343);f=a(62411);a=(function(e){function g(k){var l;l=e.call(this,"PS",k.trace) || this;l.ZKa=new c.mdb(l);l.oP=!1;l.options=d.__assign({},k);l.YKa=new h.vza(k.connect).on("failed",function(m){l.emit("failure",{Ae:"max-connect-failures",Hd:m.Hd,error:m.error});});l.Ffc=new h.vza(k.disconnect).on("failed",function(m){var p;p=m.Hd;m=m.error;l.emit("failure",{Ae:"disconnect-failure",Hd:p,error:m});l.disconnect();l.YKa.failure("disconnect-failure",p,m);});l.trace("Opening initial connection");l.connect();return l;}d.__extends(g,e);g.prototype.Yib=function(){return !this.open || 1 < this.ZKa.length || this.oP || this.kf;};g.prototype.connect=function(){var k;k=this;this.oP=!1;return this.ZKa.push("connect",function(){return d.__awaiter(k,void 0,void 0,function(){var l,m,p;p=this;return d.__generator(this,function(r){switch(r.label){case 0:if(this.Yib())return [2];this.trace("Connecting...");return [4,n.b5a.open(d.__assign(d.__assign({},this.options),{trace:this.trace}))];case 1:l=r.T();if(this.Yib())return (l.close(),[2]);if(l.kf)return (m=(0,f.wM)(l.failure),this.disconnect(),this.emit("failure",{Ae:"connect-failed",Hd:l,error:m}),"connection-disabled" !== m.type && this.YKa.failure("connect-failed",l,m),[2]);this.trace("Connected",("").concat(l.id),l.timing.duration,"ms",l.timing.summary());l.closed.then(function(){var q,u,v;p.OT(l) && p.open && !p.oP && !p.kf && (null !== (v=null === (u=(q=p.options).nH) || void 0 === u?void 0:u.call(q)) && void 0 !== v?v:1) && p.connect();});l.on("failure",function(q){return p.Ffc.failure(q.Ae,l,q.error);});this.set(l);return [2];}});});});};g.prototype.isConnected=function(){return e.prototype.isConnected.call(this) && !this.oP;};Object.defineProperties(g.prototype,{$Ka:{get:function(){return this.open && !this.oP && 0 < this.ZKa.length;},enumerable:!1,configurable:!0}});g.prototype.refresh=function(){if(this.open && !this.kf)return this.connect();};g.prototype.nH=function(){if(this.open && !this.kf)return (this.clear(),this.connect());};g.prototype.disconnect=function(){if(this.open && !this.oP)return (this.oP=!0,this.clear(),!0);};Object.defineProperties(g.prototype,{kf:{get:function(){return this.YKa.MHc;},enumerable:!1,configurable:!0}});return g;})(t.iya);b.Wbb=a;},33993:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Xbb=b.YXb=void 0;d=a(22970);t=a(70402);n=a(71385);b.YXb=(function(){return function(){};})();a=(function(c){function h(f){var e;e=c.call(this) || this;e.trace=f.trace.extend("ping");e.start(f);return e;}d.__extends(h,c);h.prototype.start=function(f){return d.__awaiter(this,void 0,void 0,function(){var e,g,k,l;l=this;return d.__generator(this,function(m){switch(m.label){case 0:return [4,f.interval];case 1:e=m.T();if(0 === e)return (this.trace("Disabled"),[2]);this.trace("Pinging every",e,"ms");g=f.client;k=!0;g.on("ping",function(){k=!0;l.trace("Received response");}).on("disconnected",function(){k=!0;});setInterval(function(){if(g.connected){if(!k)return (l.trace("Timed out, restarting"),l.emit("timeout"),g.nH());l.trace("Sending");g.send(n.OU.WS_ECHO) && (k=!1);}},e);return [2];}});});};return h;})(t.EventEmitter);b.Xbb=a;},49781:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.mdb=void 0;d=a(22970);t=a(90745);n=a(62411);a=(function(c){function h(f){var e;e=c.call(this) || this;e.Zf=Promise.resolve();e.count=0;e.Hd=f;return e;}d.__extends(h,c);Object.defineProperties(h.prototype,{length:{get:function(){return this.count;},enumerable:!1,configurable:!0}});h.prototype.push=function(f,e){var g,k;g=this;k=this.Hd;k.open && (this.count++,this.Zf=this.Zf.then(function(){return d.__awaiter(g,void 0,void 0,function(){var l;return d.__generator(this,function(m){switch(m.label){case 0:if(!k.open)return [3,5];m.label=1;case 1:return (m.tc.push([1,3,4,5]),[4,e(this)]);case 2:return (m.T(),[3,5]);case 3:return (l=m.T(),k.emit("failure",{Ae:f,Hd:k,error:(0,n.wM)(l)}),[3,5]);case 4:return (--this.count || this.emit("empty"),[7]);case 5:return [2];}});});}));return this.Zf;};return h;})(t.EventEmitter);b.mdb=a;},9568:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.E4=void 0;d=a(22970);t=a(70402);n=a(47348);a=(function(c){function h(f,e){var g;g=c.call(this) || this;g.id=(0,n.fsc)(f);g.trace=e.extend(g.id);g.dG=function(){g.dG=void 0;g.emit("closed");g.removeAllListeners();return !0;};return g;}d.__extends(h,c);Object.defineProperties(h.prototype,{open:{get:function(){return !!this.dG;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{closed:{get:function(){return this.cAb("closed",!this.open);},enumerable:!1,configurable:!0}});h.prototype.close=function(){var f;return null === (f=this.dG) || void 0 === f?void 0:f.call(this);};h.prototype.send=function(){return this.open;};h.prototype.toJSON=function(){return this.id;};return h;})(t.EventEmitter);b.E4=a;},78710:function(t,b,a){var n,c;function d(h){var f;h=n.__assign({},h);h.retry || (h.retry=function(e,g){if(5 < e)throw c.Dha(e);g=c.gjc(g);if(g.unauthorized)throw c.Dha(e);if(1 === e && g["ale-failure"])throw c.Dha(e);return new Promise(function(k){return setTimeout(k,500 * Math.pow(2,e - 1));});});h.connect || (h.connect=b.n5a);h.disconnect || (h.disconnect=b.o5a);if(!h.nH){f=0;h.nH=function(){if(4 <= f)return (f=0,!1);f++;return !0;};}return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.o5a=b.n5a=void 0;b.mSb=function(h){return d(h);};n=a(22970);c=a(62411);b.n5a={count:3,QR:12E4,reset:6E5};b.o5a={count:3,QR:3E4,reset:6E4};},33351:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.G5a=void 0;d=a(90745);n=a(12746);t=(function(){function c(h){void 0 === h && (h={});this.source=h;this.events=h.events || new d.EventEmitter();this.visible=h.visible || new n.wxa().set(!0);}Object.defineProperties(c.prototype,{info:{get:function(){var h;h=this.source.info;if(h)return h;throw Error("WebSocketClientDepencies.info must be implemented");},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{DR:{get:function(){return this.source.DR;},enumerable:!1,configurable:!0}});c.prototype.kR=function(h,f){var e,g;null === (g=(e=this.source).kR) || void 0 === g?void 0:g.call(e,h,f);};c.prototype.counter=function(h,f){var e,g;return (null === (g=(e=this.source).counter) || void 0 === g?void 0:g.call(e,h,f)) || ({hA:function(){void 0;}});};Object.defineProperties(c.prototype,{hW:{get:function(){var h;h=this.source.hW;if(h)return h;throw Error("WebSocketClientDepencies.ale must be implemented");},enumerable:!1,configurable:!0}});return c;})();b.G5a=t;},14678:function(t,b,a){var d,n,c,h,f,e,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ygb=void 0;d=a(22970);n=a(59143);t=a(70402);c=a(28951);h=a(71385);f=a(33993);e=a(62411);g=a(58655);k=a(78710);a=(function(l){function m(p){var r,q,u;r=l.call(this) || this;r.trace=p.trace.extend("common");q=r.trace;r.uf=p.uf;r.va=new g.zgb({uf:p.uf,trace:p.trace,wl:p.wl});u=new n.Wbb((0,k.mSb)(p));r.Hd=u;u.on("connected",function(v){r.emit("connected",v);r.va.j_("connected",{Bad:v.Hd.duration,LS:v.Hd.JYa});});u.on("disconnected",function(v){r.emit("disconnected",v);r.va.j_("disconnected",{zad:v.Hd.aNb,yad:v.Hd.aRc,LS:v.Hd.JYa});});u.on("failure",function(v){var w,x;w=v.Hd;x=v.Ae;v=v.error;if("connection-disabled" === v.type)return (q.console.warn("Connection disabled",v.reason),r.emit("disabled",v));q.console.warn(v);r.emit("failure",{Ae:x,Hd:w,error:e.wM(v)});r.va.error(x,v,{Aad:w.aNb,LS:w.JYa});});r.Ie=new c.SBa(u,[h.OU.CLOSE,h.OU.WS_ECHO]).on("ignored",function(v){v=v.message;v === h.OU.CLOSE?(q("Restarting after server",h.OU.CLOSE,"message"),u.refresh(),r.emit("serverClose")):v === h.OU.WS_ECHO && (r.emit("ping"),q("Metrics",r.uf.values));}).on("message",function(v){r.emit("message",{message:v.message});});new f.Xbb({trace:q,interval:p.O_,client:r}).on("timeout",function(){return r.emit("pingTimeout");});if(p=p.wl.events)(p.on("cookies-changed",function(){q("Cookies changed, reconnecting");r.nH();}),p.on("cookies-refreshed",function(){q("Cookies refreshed");r.refresh();}));return r;}d.__extends(m,l);Object.defineProperties(m.prototype,{connected:{get:function(){return this.Hd.connected;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$Ka:{get:function(){return this.Hd.$Ka;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{kf:{get:function(){return this.Hd.kf;},enumerable:!1,configurable:!0}});m.prototype.send=function(p){return this.Hd.send(p);};m.prototype.refresh=function(){this.Hd.refresh();};m.prototype.nH=function(){this.Hd.nH();};m.prototype.disconnect=function(){this.Hd.disconnect();};m.prototype.request=function(p){return d.__awaiter(this,void 0,void 0,function(){var r,q;return d.__generator(this,function(u){switch(u.label){case 0:if(!this.send(p.body))throw e.pAa("Socket.send returned false");r=this.Hd.cAb("disconnected");q=r.then(function(){throw e.pAa("Socket disconnected while waiting for a response");});u.label=1;case 1:return (u.tc.push([1,,3,4]),[4,this.Ie.V1a(p.timeout,p.filter,q)]);case 2:return [2,u.T()];case 3:return (r.clear(),[7]);case 4:return [2];}});});};return m;})(t.EventEmitter);b.ygb=a;},46876:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Agb=void 0;d=a(91072);n=a(28020);c=a(94450);t=(function(){function h(f,e){this.wm=(0,n.ha)();this.open=0;this.timeline=new d.xfb();this.client=f;f={client:f};this.iEb=new c.Counter(e,"ws.opening",f);this.jEb=new c.Counter(e,"ws.onopen",f);this.hnb=new c.Counter(e,"ws.close",f);this.inb=new c.Counter(e,"ws.onclose",f);this.UJb=new c.Counter(e,"ws.send",f);this.sZa=new c.Counter(e,"ws.send.bytes",f);this.tHb=new c.Counter(e,"ws.onmessage",f);this.bca=new c.Counter(e,"ws.onmessage.bytes",f);this.nNa=new c.Counter(e,"ws.onerror",f);}Object.defineProperties(h.prototype,{VOb:{get:function(){return (0,n.ha)() - this.wm;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hlb:{get:function(){var f;f=this.timeline.total;return 0 === f?0:this.timeline.uRc() / f * 100;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xLb:{get:function(){return "open" === this.timeline.type?this.timeline.duration:0;},enumerable:!1,configurable:!0}});h.prototype.bDc=function(){this.iEb.hA();this.timeline.type || this.timeline.f0a("closed");};h.prototype.Pv=function(){this.jEb.hA();this.timeline.f0a("open");this.open++;};h.prototype.closed=function(){this.hnb.hA();0 < this.open && 0 === --this.open && this.timeline.f0a("closed");};h.prototype.h$b=function(){this.inb.hA();};h.prototype.T=function(f){this.UJb.hA();this.sZa.hA(f);};h.prototype.sHb=function(f){this.tHb.hA();this.bca.hA(f);};h.prototype.error=function(){this.nNa.hA();};Object.defineProperties(h.prototype,{values:{get:function(){return {client:this.client,ha:(0,n.ha)(),VOb:this.VOb,hlb:this.hlb,xLb:this.xLb,d9c:this.iEb.total,open:this.jEb.total,close:this.hnb.total,U2c:this.inb.total,T:this.UJb.total,sZa:this.sZa.total,sHb:this.tHb.total,bca:this.bca.total,Nz:this.nNa.total};},enumerable:!1,configurable:!0}});return h;})();b.Agb=t;},1409:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Geb=void 0;d=a(62411);t=(function(){function n(c){this.ik=c;}n.prototype.nonce=function(c){var h;h=this.ik.Zka(c);switch(h.type){case "nonce":return h.nonce;case "unauthorized":throw (0,d.Wfb)(c);}};n.prototype.response=function(c,h){return JSON.stringify(this.ik.$5b({encryptedNonce:h,aleToken:c}));};n.prototype.validate=function(c){var h;if("AUTHENTICATED" === (null === (h=c.payload) || void 0 === h?void 0:h.aleResponseState))return !0;throw (0,d.mza)(c);};return n;})();b.Geb=t;},41066:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(33884),b);t.__exportStar(a(74041),b);t.__exportStar(a(25987),b);t.__exportStar(a(44865),b);},65646:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Z9a=void 0;d=a(22970);t=(function(){function n(c){var h,f;h=this;this.tMb={logblob:0,events:0,manifest:0,license:0,ntlBatch:0,ntlSendImmediate:0};this.kf={logblob:0,events:0,manifest:0,license:0,ntlBatch:0,ntlSendImmediate:0};this.options=d.__assign({},c);f=this.options.client.va.Z5b(function(){return {connection:h.options.ik.connection};});c.Zf.on("sending",function(e){var g,k;g=e.request;k=g.id;g=g.type;e=e.size;f.j_("sending-request",{message:("Sending ").concat(g," of size ").concat(e),type:g,correlationId:k,size:e});}).on("succeeded",function(e){return h.tMb[e.request.type]++;}).on("failed",function(e){var g;g=e.error;h.kf[e.request.type]++;f.error("sending-request",g);});c.wl.visible.on("yes",function(){f.j_("stats",{stats:h.stats()});}).on("no",function(){c.RF && f.j_("disable-on-suspend","Stopping on suspend");});c.wl.events.on("application-shutdown",function(){f.j_("stats",{stats:h.stats()});});}n.hka=function(c){d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(h){switch(h.label){case 0:return [4,c.wl.visible.Ppb];case 1:return (h.T(),new n(c),[2]);}});});};n.prototype.stats=function(){return {success:this.tMb,failure:this.kf,correlationId:this.options.ik.correlationId};};return n;})();b.Z9a=t;},44865:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ldb=void 0;d=a(22970);n=a(62411);t=(function(c){function h(){return null !== c && c.apply(this,arguments) || this;}d.__extends(h,c);h.prototype.kqa=function(f,e,g){e=("").concat(this.RZ);this.RZ+=2;return {xc:{Yk:f,id:e,Q2c:{M1c:this.options.wl.visible.ZT?"foreground":"background"}},payload:g};};h.prototype.Zka=function(f){var e,g,k,l;l=null === (e=f.xc) || void 0 === e?void 0:e.Yk;e=("").concat((null === (g=f.xc) || void 0 === g?void 0:g.id) || "");switch(l){case "nonce":if((g=null === (k=f.payload) || void 0 === k?void 0:k.nonceToken) && "string" === typeof g)return {type:l,id:e,nonce:g};throw (0,n.G3)(f);case "unauthorized":return {type:l,id:e};}return {type:"other",id:e};};h.prototype.validate=function(f){var e,g;e=f.xc;g=f.payload;if(!e || "object" !== typeof e)throw (0,n.G3)(f);if("undefined" !== typeof e.errorCode)throw (0,n.mza)(f);if(!g || "object" !== typeof g)throw (0,n.G3)(f);return g;};return h;})(a(25987).Rha);b.ldb=t;},14152:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.w4=void 0;d=a(22970);t=a(70402);n=a(62411);a=(function(c){function h(f){var e;e=c.call(this) || this;e.map={};e.options=d.__assign({},f);return e;}d.__extends(h,c);h.prototype.pKc=function(f){var e;e=this;return function(g){var k;k=e.options.ik.Zka(g).id;if(k === f.id)try{return e.options.ik.validate(g);}catch(l){throw (0,n.Aha)(f.type,k,"error-response",l);}};};h.prototype.send=function(f){return d.__awaiter(this,void 0,void 0,function(){var e,g,k,l,m,p,r,q,u,v,w,x,y,z,B,A,C,D;return d.__generator(this,function(F){switch(F.label){case 0:(e=f.type,g=f.payload,k=f.options,l=this.options.ik.request(e,1,g),m=this.options.ik.Zka(l).id,p=this.options.trace.extend(e,m),p("Preparing"),r=d.__assign(d.__assign({},f),{id:m,attempt:1}),F.label=1);case 1:F.tc.push([1,6,,7]);if(q=null === k || void 0 === k?void 0:k.maxInQueue)if((u=this.Znb(e),u >= q))throw (0,n.Aha)(e,m,"queue-full",(0,n.Afa)(("Queue has ").concat(u)));v=JSON.stringify(l);if(w=null === k || void 0 === k?void 0:k.maxLengthBytes)if((x=v.length,x > w))throw (0,n.Aha)(e,m,"too-large",(0,n.Afa)(("Body is ").concat(v.length," bytes")));this.map[m]=r;F.label=2;case 2:return (F.tc.push([2,,4,5]),p("Sending..."),this.emit("sending",{request:r,size:v.length}),y=this.options,z=y.client,B=y.timeout,[4,z.request({body:v,timeout:B,filter:this.pKc(r)})]);case 3:return (A=F.T(),p("Succeeded"),this.emit("succeeded",{request:r}),[2,A]);case 4:return (delete this.map[m],[7]);case 5:return [3,7];case 6:throw (C=F.T(),D=(0,n.Ptc)(C,"request-failed") || (0,n.Aha)(r.type,m,"cause",C),p("Failed with",D),this.emit("failed",{request:r,error:D}),D);case 7:return [2];}});});};h.prototype.Znb=function(f){var e,g;e=0;for(g in this.map)this.map[g].type === f && e++;return e;};return h;})(t.EventEmitter);b.w4=a;},74041:function(t,b,a){var d,n,c,h,f,e,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Feb=void 0;d=a(22970);n=a(72163);t=a(70402);c=a(46876);h=a(14678);f=a(14152);e=a(65646);g=a(25987);k=a(44865);a=(function(l){function m(p,r){var q,u,v;q=l.call(this) || this;q.trace=(0,n.fb)("SOCKET_ROUTER");q.options=p;u=r.visible;q.uf=new c.Agb("sr",r);q.ik=new (p.gbd?k.ldb:g.Rha)({FXa:p.FXa,wl:r});v=p.lx({trace:q.trace,uf:q.uf,RF:p.RF,dkb:p.dkb,url:p.url,visible:u,timeout:p.esa,ik:q.ik,wl:r});q.client=new h.ygb({trace:q.trace,uf:q.uf,lx:v,retry:void 0,nH:void 0,O_:p.O_,connect:void 0,disconnect:void 0,wl:r});q.client.on("connected",function(w){q.emit("connected",w);q.emit("open");}).on("disconnected",function(){return q.ik.Bsc();}).on("serverClose",function(){return q.emit("reconnect");}).on("ping",function(){return q.emit("ping");});q.mIb=new f.w4({trace:q.trace,timeout:p.Uta,client:q.client,ik:q.ik});p.RF && u.Ppb.then(function(){u.on("no",function(){q.trace("Disconnecting on suspend...");q.client.disconnect();});u.on("yes",function(){q.trace("Resumed, calling start...");q.start();});});e.Z9a.hka({client:q.client,wl:r,RF:p.RF,Zf:q.mIb,ik:q.ik});return q;}d.__extends(m,l);Object.defineProperties(m.prototype,{connected:{get:function(){return !!this.client.connected;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{nSa:{get:function(){return this.connected;},enumerable:!1,configurable:!0}});m.prototype.request=function(p){return this.mIb.send(p).then(function(r){return {body:r,headers:[]};});};m.prototype.send=function(p,r){p=JSON.stringify(this.ik.mlc(p,r));return this.client.send(p);};m.prototype.start=function(){this.connected || this.client.$Ka || this.client.kf || (this.trace('Reconnecting because "start" was called'),this.client.nH());};m.prototype.disconnect=function(){this.trace("Disconnecting");this.client.disconnect();};return m;})(t.EventEmitter);b.Feb=a;},33884:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},25987:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Rha=void 0;d=a(22970);n=a(62411);c={logblob:"pbo-logblob",events:"pbo-event",manifest:"pbo-manifest",license:"pbo-license",ntlBatch:"ntl-log",ntlSendImmediate:"ntl-event"};t=(function(){function h(f){this.aLa=this.RZ=1;this.options=f;}h.prototype.kqa=function(f,e,g){var k,l;l=this.correlationId;this.RZ++;return {routingContext:{messageType:f,correlationId:l,attempt:e,foreground:null !== (k=this.options.wl.visible.ZT) && void 0 !== k?k:!1},payload:g};};Object.defineProperties(h.prototype,{correlationId:{get:function(){return ("").concat(this.aLa,"-").concat(this.RZ);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{connection:{get:function(){return this.aLa;},enumerable:!1,configurable:!0}});h.prototype.Bsc=function(){this.aLa++;this.RZ=1;};h.prototype.$5b=function(f){var e;e=this.options.wl.info;f=d.__assign(d.__assign({},f),{clientInfo:{build:e.Fea.build,platform:e.Fea.platform,applicationVersion:e.Fea.Ua,uiPlatform:e.$0a,uiVersion:e.Fea.$0a,player:e.Fea.player},groupName:e.groupName});return d.__assign(d.__assign({},this.kqa("authentication",void 0,f)),{requiresPushySupport:this.options.FXa});};h.prototype.request=function(f,e,g){return this.kqa(c[f],e,g);};h.prototype.mlc=function(f,e){return this.kqa(f,1,e);};h.prototype.Zka=function(f){var e,g,k,l;l=null === (e=f.routingContext) || void 0 === e?void 0:e.messageType;e=(null === (g=f.routingContext) || void 0 === g?void 0:g.correlationId) || "";switch(l){case "nonce":if((g=null === (k=f.payload) || void 0 === k?void 0:k.nonceToken) && "string" === typeof g)return {type:l,id:e,nonce:g};throw (0,n.G3)(f);case "unauthorized":return {type:l,id:e};}return {type:"other",id:e};};h.prototype.validate=function(f){var e;e=f.payload;if(f.socketRouterError)throw (0,n.mza)(f);if(!e || "object" !== typeof e)throw (0,n.G3)(f);return e;};h.mLc=2;return h;})();b.Rha=t;},12746:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.wxa=void 0;d=a(22970);n=a(91176);t=(function(c){function h(f){var e;e=c.call(this) || this;e.first=new n.mo();e.Ppb=e.first.promise;null === f || void 0 === f?void 0:f.then(function(g){return e.set(g);});return e;}d.__extends(h,c);h.prototype.set=function(f){f !== this.value && (void 0 === this.value && this.first.resolve(this),this.value=f,this.emit(f?"yes":"no"));return this;};Object.defineProperties(h.prototype,{ZT:{get:function(){return this.value;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{OUa:{get:function(){if(void 0 !== this.value)return !this.value;},enumerable:!1,configurable:!0}});h.prototype.toString=function(){return String(this.value);};return h;})(a(90745).EventEmitter);b.wxa=t;},28020:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.ha=function(){return d.platform.time.ha();};d=a(66164);},97936:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.NE=void 0;t=(function(){function a(d,n){var c;c=this;this.timeout=setTimeout(function(){c.timeout=void 0;d();},n);}Object.defineProperties(a.prototype,{hy:{get:function(){if(this.timeout)return !0;},enumerable:!1,configurable:!0}});a.prototype.clear=function(){if(this.timeout)return (clearTimeout(this.timeout),this.timeout=void 0,!0);};return a;})();b.NE=t;},91072:function(t,b,a){var n,c,h,f;function d(e){return e.filter(function(g){return g.start !== g.end;}).map(function(g){var k,l,m,p,r;k=g.Ipb;l=g.start;m=g.end;p=g.error;r=g.details;g=("").concat(g.type).concat(k?(" (").concat(k,"):"):":"," ").concat(m - l," ms").concat(p?" (failed)":"");return r?[g,d(r)]:g;});}Object.defineProperties(b,{__esModule:{value:!0}});b.xfb=b.rFa=b.nZb=void 0;n=a(22970);c=a(28020);h=(function(){function e(g,k){g="string" === typeof g?[g,void 0]:g;this.interval={type:g[0],Ipb:g[1],start:(0,c.ha)(),end:NaN};this.ended=k;}e.prototype.end=function(g){isNaN(this.interval.end) && (this.interval.end=(0,c.ha)(),this.interval.error=g,this.ended(this.interval));};Object.defineProperties(e.prototype,{type:{get:function(){return this.interval.type;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{hy:{get:function(){return isNaN(this.interval.end);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{duration:{get:function(){var g,k;g=this.interval;k=g.start;g=g.end;return (isNaN(g)?(0,c.ha)():g) - k;},enumerable:!1,configurable:!0}});e.prototype.details=function(){return new f(this.interval);};return e;})();b.nZb=h;f=(function(){function e(g){this.Or=[];(null === g || void 0 === g?0:g.details)?this.Or=g.details:g && (g.details=this.Or);}e.prototype.push=function(g,k,l,m){g="string" === typeof g?[g,void 0]:g;this.Or.push({type:g[0],Ipb:g[1],start:k,end:l,error:m});};e.prototype.gva=function(g){var k;k=this;return new h(g,function(l){k.Or.push(l);});};e.prototype.$ja=function(g,k){return n.__awaiter(this,void 0,void 0,function(){var l,m,p;return n.__generator(this,function(r){switch(r.label){case 0:(l=this.gva(g),r.label=1);case 1:return (r.tc.push([1,3,,4]),[4,k(l)]);case 2:return (m=r.T(),l.end(),[2,m]);case 3:throw (p=r.T(),l.end(p),p);case 4:return [2];}});});};Object.defineProperties(e.prototype,{duration:{get:function(){return this.end - this.start;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{first:{get:function(){return this.Or[0];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Fd:{get:function(){return this.Or[this.Or.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{start:{get:function(){var g,k;return null !== (k=null === (g=this.first) || void 0 === g?void 0:g.start) && void 0 !== k?k:NaN;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{end:{get:function(){var g,k;return null !== (k=null === (g=this.Fd) || void 0 === g?void 0:g.end) && void 0 !== k?k:NaN;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{count:{get:function(){return this.Or.length;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{nNa:{get:function(){return this.Or.reduce(function(g,k){return k.error?g + 1:g;},0);},enumerable:!1,configurable:!0}});e.prototype.Znb=function(g){return this.Or.reduce(function(k,l){return l.type === g?k + 1:k;},0);};e.prototype.summary=function(){return d(this.Or);};return e;})();b.rFa=f;t=(function(){function e(){this.kea={};}e.prototype.f0a=function(g){var k,l,m;k=this;(null === (l=this.f1) || void 0 === l?void 0:l.type) !== g && (null === (m=this.f1) || void 0 === m?void 0:m.end(),this.f1=new h(g,function(p){k.kea[g]=(k.kea[g] || 0) + p.end - p.start;}));};Object.defineProperties(e.prototype,{type:{get:function(){var g;return null === (g=this.f1) || void 0 === g?void 0:g.type;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{duration:{get:function(){var g,k;return null !== (k=null === (g=this.f1) || void 0 === g?void 0:g.duration) && void 0 !== k?k:0;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{total:{get:function(){var g;g=this;return Object.keys(this.kea).reduce(function(k,l){return k + g.kea[l];},this.duration);},enumerable:!1,configurable:!0}});e.prototype.uRc=function(){var g;return (this.kea.open || 0) + ("open" === (null === (g=this.f1) || void 0 === g?void 0:g.type)?this.f1.duration:0);};return e;})();b.xfb=t;},72163:function(t,b,a){var n,c;function d(h){var k,l;function f(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return l?k.trace.apply(k,n.__spreadArray([l],m,!1)):k.trace.apply(k,m);}for(var e=[],g=1;g < arguments.length;g++)e[g - 1]=arguments[g];k="string" === typeof h?new c.platform.Console(h):h;l=e.filter(function(m){return m;}).map(function(m){return ("").concat(m);}).join(":");f.console=k;f.extend=function(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return d.apply(void 0,n.__spreadArray([k],n.__spreadArray([l],m,!0),!1));};f.error=function(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return k.error.apply(k,n.__spreadArray([l],m,!1));};return f;}Object.defineProperties(b,{__esModule:{value:!0}});b.fb=d;n=a(22970);c=a(66164);},75177:function(){},794:function(t,b,a){var d,n,c,h,f,e,g,k,l;d=a(5408);n=a(5158);c=a(3642);h=a(32249);f=a(70126);e=a(38733);g=a(51461);k=a(4);l=a(83891);t.exports=function(m,p,r){if(!n(m))throw new d("Assertion failed: Type(O) is not Object");if(!g(p))throw new d("Assertion failed: P is not a Property Key");r=c(r)?r:l(r);if(!c(r))throw new d("Assertion failed: Desc is not a valid Property Descriptor");return h(e,k,f,m,p,r);};},70126:function(t,b,a){var d,n,c;d=a(5408);n=a(3642);c=a(84902);t.exports=function(h){if("undefined" !== typeof h && !n(h))throw new d("Assertion failed: `Desc` must be a Property Descriptor");return c(h);};},83317:function(t,b,a){t.exports=a(9680);},20451:function(t,b,a){var d,n,c;d=a(90982)("%Reflect.construct%",!0);b=a(794);try{b({},"",{"[[Get]]":function(){}});}catch(h){b=null;}if(b && d){n={};c={};b(c,"length",{"[[Get]]":function(){throw n;},"[[Enumerable]]":!0});t.exports=function(h){try{d(h,c);}catch(f){return f === n;}};}else t.exports=function(h){return "function" === typeof h && !!h.prototype;};},38733:function(t,b,a){var d,n,c;d=a(5408);n=a(72196);c=a(3642);t.exports=function(h){if("undefined" === typeof h)return !1;if(!c(h))throw new d("Assertion failed: `Desc` must be a Property Descriptor");return n(h,"[[Value]]") || n(h,"[[Writable]]")?!0:!1;};},4:function(t,b,a){var d;d=a(68806);t.exports=function(n,c){return n === c?0 === n?1 / n === 1 / c:!0:d(n) && d(c);};},99939:function(t,b,a){var d;d=a(68806);t.exports=function(n,c){return n === c || d(n) && d(c);};},88251:function(t,b,a){var d,n,c,h;d=a(67286)("%Symbol.species%",!0);n=a(5408);c=a(5158);h=a(20451);t.exports=function(f,e){if(!c(f))throw new n("Assertion failed: Type(O) is not Object");f=f.constructor;if("undefined" === typeof f)return e;if(!c(f))throw new n("O.constructor is not an Object");f=d?f[d]:void 0;if(null == f)return e;if(h(f))return f;throw new n("no constructor found");};},14463:function(t){t.exports=function(b){return !!b;};},76113:function(t,b,a){var d,n,c,h,f,e;d=a(46382);n=a(26827);c=a(84583);h=a(68806);f=a(88562);e=a(82026);t.exports=function(g){var k;g=c(g);if(h(g) || 0 === g)return 0;if(!f(g))return g;k=n(d(g));return 0 === k?0:e(g) * k;};},69808:function(t,b,a){var d,n;d=a(38752);n=a(76113);t.exports=function(c){c=n(c);return 0 >= c?0:c > d?d:c;};},84583:function(t,b,a){var d,n,c,h,f,e,g,k,l,m,p,r,q;d=a(67286);n=a(5408);c=d("%Number%");b=d("%RegExp%");h=d("%parseInt%");f=a(8435);d=a(63671);e=a(45819);g=f("String.prototype.slice");k=d(/^0b[01]+$/i);l=d(/^0o[0-7]+$/i);m=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");p=d(b);r=a(11341);q=a(99197);t.exports=function w(v){var x;v=e(v)?v:q(v,c);if("symbol" === typeof v)throw new n("Cannot convert a Symbol value to a number");if("bigint" === typeof v)throw new n("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof v){if(k(v))return w(h(g(v,2),2));if(l(v))return w(h(g(v,2),8));if(p(v) || m(v))return NaN;x=r(v);if(x !== v)return w(x);}return +v;};},48668:function(t,b,a){t.exports=a(8156);},99197:function(t,b,a){var d;d=a(5885);t.exports=function(n){return 1 < arguments.length?d(n,arguments[1]):d(n);};},83891:function(t,b,a){var d,n,c,h,f;d=a(72196);n=a(5408);c=a(5158);h=a(83317);f=a(14463);t.exports=function(e){var g,k;if(!c(e))throw new n("ToPropertyDescriptor requires an object");g={};d(e,"enumerable") && (g["[[Enumerable]]"]=f(e.enumerable));d(e,"configurable") && (g["[[Configurable]]"]=f(e.configurable));d(e,"value") && (g["[[Value]]"]=e.value);d(e,"writable") && (g["[[Writable]]"]=f(e.writable));if(d(e,"get")){k=e.get;if("undefined" !== typeof k && !h(k))throw new n("getter must be a function");g["[[Get]]"]=k;}if(d(e,"set")){e=e.set;if("undefined" !== typeof e && !h(e))throw new n("setter must be a function");g["[[Set]]"]=e;}if((d(g,"[[Get]]") || d(g,"[[Set]]")) && (d(g,"[[Value]]") || d(g,"[[Writable]]")))throw new n("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return g;};},18132:function(t,b,a){var d;d=a(96222);t.exports=function(n){return "symbol" === typeof n?"Symbol":"bigint" === typeof n?"BigInt":d(n);};},46382:function(t,b,a){var d;d=a(14383);t.exports=function(n){return "bigint" === typeof n?BigInt(d(Number(n))):d(n);};},26827:function(t,b,a){var d;d=a(45736);t.exports=function(n){return "bigint" === typeof n?n:d(n);};},11885:function(t,b,a){var d,n;d=a(67286)("%String%");n=a(5408);t.exports=function(c){if("symbol" === typeof c)throw new n("Cannot convert a Symbol value to a string");return d(c);};},96222:function(t,b,a){var d;d=a(5158);t.exports=function(n){if(null === n)return "Null";if("undefined" === typeof n)return "Undefined";if(d(n))return "Object";if("number" === typeof n)return "Number";if("boolean" === typeof n)return "Boolean";if("string" === typeof n)return "String";};},90982:function(t,b,a){t.exports=a(67286);},32249:function(t,b,a){var d,n,c,h;b=a(81181);d=a(70999);n=b.krc();c=n && a(27595);h=a(8435)("Object.prototype.propertyIsEnumerable");t.exports=function(f,e,g,k,l,m){if(!d){if(!f(m) || !m["[[Configurable]]"] || !m["[[Writable]]"] || (l in k) && h(k,l) !== !!m["[[Enumerable]]"])return !1;f=m["[[Value]]"];k[l]=f;return e(k[l],f);}if(n && "length" === l && ("[[Value]]" in m) && c(k) && k.length !== m["[[Value]]"])return (k.length=m["[[Value]]"],k.length === m["[[Value]]"]);d(k,l,g(m));return !0;};},27595:function(t,b,a){var d;b=a(67286)("%Array%");d=!b.isArray && a(8435)("Object.prototype.toString");t.exports=b.isArray || (function(n){return "[object Array]" === d(n);});},84902:function(t){t.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},51832:function(t,b,a){t.exports=a(88562);},97911:function(t){t.exports=Number.isNaN || (function(b){return b !== b;});},45819:function(t){t.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},51461:function(t){t.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},3642:function(t,b,a){var d,n,c;d=a(5408);n=a(72196);c={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};t.exports=function(h){if(!h || "object" !== typeof h)return !1;for(var f in h)if(n(h,f) && !c[f])return !1;f=n(h,"[[Value]]") || n(h,"[[Writable]]");h=n(h,"[[Get]]") || n(h,"[[Set]]");if(f && h)throw new d("Property Descriptors may not be both accessor and data descriptors");return !0;};},22970:function(t,b,a){var O,Q,S,U;function d(W){d=Object.getOwnPropertyNames || (function(Y){var X,Z;X=[];for(Z in Y)Object.prototype.hasOwnProperty.call(Y,Z) && (X[X.length]=Z);return X;});return d(W);}function n(){n=Object.assign || (function(W){for(var Y,X=1,Z=arguments.length;X < Z;X++){Y=arguments[X];for(var aa in Y)Object.prototype.hasOwnProperty.call(Y,aa) && (W[aa]=Y[aa]);}return W;});return n.apply(this,arguments);}function c(W,Y){c=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(X,Z){X.__proto__=Z;}) || (function(X,Z){for(var aa in Z)Object.prototype.hasOwnProperty.call(Z,aa) && (X[aa]=Z[aa]);});return c(W,Y);}function h(W,Y){function X(){this.constructor=W;}if("function" !== typeof Y && null !== Y)throw new TypeError("Class extends value " + String(Y) + " is not a constructor or null");c(W,Y);W.prototype=null === Y?Object.create(Y):(X.prototype=Y.prototype,new X());}function f(W,Y){var X,Z,aa;X={};for(Z in W)Object.prototype.hasOwnProperty.call(W,Z) && 0 > Y.indexOf(Z) && (X[Z]=W[Z]);if(null != W && "function" === typeof Object.getOwnPropertySymbols){aa=0;for(Z=Object.getOwnPropertySymbols(W);aa < Z.length;aa++)0 > Y.indexOf(Z[aa]) && Object.prototype.propertyIsEnumerable.call(W,Z[aa]) && (X[Z[aa]]=W[Z[aa]]);}return X;}function e(W,Y,X,Z){var aa,ca,da;aa=arguments.length;ca=3 > aa?Y:null === Z?Z=Object.getOwnPropertyDescriptor(Y,X):Z;if("object" === typeof Reflect && "function" === typeof Reflect.KJ)ca=Reflect.KJ(W,Y,X,Z);else for(var ja=W.length - 1;0 <= ja;ja--)if(da=W[ja])ca=(3 > aa?da(ca):3 < aa?da(Y,X,ca):da(Y,X)) || ca;return (3 < aa && ca && Object.defineProperty(Y,X,ca),ca);}function g(W,Y){return function(X,Z){Y(X,Z,W);};}function k(W,Y,X,Z,aa,ca){var ja,R,ha;function da(la){if(void 0 !== la && "function" !== typeof la)throw new TypeError("Function expected");return la;}ja=Z.kind;R="getter" === ja?"get":"setter" === ja?"set":"value";W=!Y && W?Z["static"]?W:W.prototype:null;Y=Y || (W?Object.getOwnPropertyDescriptor(W,Z.name):{});for(var N,V=!1,ba=X.length - 1;0 <= ba;ba--){N={};for(var fa in Z)N[fa]="access" === fa?{}:Z[fa];for(fa in Z.bjb)N.bjb[fa]=Z.bjb[fa];N.F1c=function(la){if(V)throw new TypeError("Cannot add initializers after decoration has completed");ca.push(da(la || null));};ha=(0,X[ba])("accessor" === ja?{get:Y.get,set:Y.set}:Y[R],N);if("accessor" === ja){if(void 0 !== ha){if(null === ha || "object" !== typeof ha)throw new TypeError("Object expected");if(N=da(ha.get))Y.get=N;if(N=da(ha.set))Y.set=N;(N=da(ha.Sb)) && aa.unshift(N);}}else if(N=da(ha))"field" === ja?aa.unshift(N):Y[R]=N;}W && Object.defineProperty(W,Z.name,Y);V=!0;}function l(W,Y,X){for(var Z=2 < arguments.length,aa=0;aa < Y.length;aa++)X=Z?Y[aa].call(W,X):Y[aa].call(W);return Z?X:void 0;}function m(W){return "symbol" === typeof W?W:("").concat(W);}function p(W,Y,X){"symbol" === typeof Y && (Y=Y.description?("[").concat(Y.description,"]"):"");return Object.defineProperty(W,"name",{configurable:!0,value:X?("").concat(X," ",Y):Y});}function r(W,Y){if("object" === typeof Reflect && "function" === typeof Reflect.xc)return Reflect.xc(W,Y);}function q(W,Y,X,Z){function aa(ca){return ca instanceof X?ca:new X(function(da){da(ca);});}return new (X || (X=Promise))(function(ca,da){function ja(V){try{N(Z.next(V));}catch(ba){da(ba);}}function R(V){try{N(Z["throw"](V));}catch(ba){da(ba);}}function N(V){V.done?ca(V.value):aa(V.value).then(ja,R);}N((Z=Z.apply(W,Y || [])).next());});}function u(W,Y){var aa,ca,da,ja,R;function X(N){return function(V){return Z([N,V]);};}function Z(N){if(ca)throw new TypeError("Generator is already executing.");for(;(R && (R=0,N[0] && (aa=0)),aa);)try{if((ca=1,da && (ja=N[0] & 2?da["return"]:N[0]?da["throw"] || ((ja=da["return"]) && ja.call(da),0):da.next) && !(ja=ja.call(da,N[1])).done))return ja;if((da=0,ja))N=[N[0] & 2,ja.value];switch(N[0]){case 0:case 1:ja=N;break;case 4:return (aa.label++,{value:N[1],done:!1});case 5:aa.label++;da=N[1];N=[0];continue;case 7:N=aa.NR.pop();aa.tc.pop();continue;default:if(!(ja=aa.tc,ja=0 < ja.length && ja[ja.length - 1]) && (6 === N[0] || 2 === N[0])){aa=0;continue;}if(3 === N[0] && (!ja || N[1] > ja[0] && N[1] < ja[3]))aa.label=N[1];else if(6 === N[0] && aa.label < ja[1])(aa.label=ja[1],ja=N);else if(ja && aa.label < ja[2])(aa.label=ja[2],aa.NR.push(N));else {ja[2] && aa.NR.pop();aa.tc.pop();continue;}}N=Y.call(W,aa);}catch(V){N=[6,V];da=0;}finally{ca=ja=0;}if(N[0] & 5)throw N[1];return {value:N[0]?N[1]:void 0,done:!0};}aa={label:0,T:function(){if(ja[0] & 1)throw ja[1];return ja[1];},tc:[],NR:[]};R=Object.create(("function" === typeof Iterator?Iterator:Object).prototype);return (R.next=X(0),R["throw"]=X(1),R["return"]=X(2),"function" === typeof Symbol && (R[Symbol.iterator]=function(){return this;}),R);}function v(W,Y){for(var X in W)"default" === X || Object.prototype.hasOwnProperty.call(Y,X) || O(Y,W,X);}function w(W){var Y,X,Z;Y="function" === typeof Symbol && Symbol.iterator;X=Y && W[Y];Z=0;if(X)return X.call(W);if(W && "number" === typeof W.length)return {next:function(){W && Z >= W.length && (W=void 0);return {value:W && W[Z++],done:!W};}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.");}function x(W,Y){var X,Z,aa;X="function" === typeof Symbol && W[Symbol.iterator];if(!X)return W;W=X.call(W);aa=[];try{for(;(void 0 === Y || 0 < Y--) && !(Z=W.next()).done;)aa.push(Z.value);}catch(da){var ca;ca={error:da};}finally{try{Z && !Z.done && (X=W["return"]) && X.call(W);}finally{if(ca)throw ca.error;}}return aa;}function y(){for(var W=[],Y=0;Y < arguments.length;Y++)W=W.concat(x(arguments[Y]));return W;}function z(){var Z;for(var W=0,Y=0,X=arguments.length;Y < X;Y++)W+=arguments[Y].length;W=Array(W);Z=0;for(Y=0;Y < X;Y++)for(var aa=arguments[Y],ca=0,da=aa.length;ca < da;(ca++,Z++))W[Z]=aa[ca];return W;}function B(W,Y,X){if(X || 2 === arguments.length)for(var Z=0,aa=Y.length,ca;Z < aa;Z++)!ca && (Z in Y) || (ca || (ca=Array.prototype.slice.call(Y,0,Z)),ca[Z]=Y[Z]);return W.concat(ca || Array.prototype.slice.call(Y));}function A(W){return this instanceof A?(this.Dea=W,this):new A(W);}function C(W,Y,X){var R,N,V;function Z(ba,fa){R[ba] && (N[ba]=function(ha){return new Promise(function(la,pa){1 < V.push([ba,ha,la,pa]) || aa(ba,ha);});},fa && (N[ba]=fa(N[ba])));}function aa(ba,fa){var ha;try{ha=R[ba](fa);ha.value instanceof A?Promise.resolve(ha.value.Dea).then(ca,da):ja(V[0][2],ha);}catch(la){ja(V[0][3],la);}}function ca(ba){aa("next",ba);}function da(ba){aa("throw",ba);}function ja(ba,fa){(ba(fa),V.shift(),V.length) && aa(V[0][0],V[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");R=X.apply(W,Y || []);V=[];return (N=Object.create(("function" === typeof AsyncIterator?AsyncIterator:Object).prototype),Z("next"),Z("throw"),Z("return",function(ba){return function(fa){return Promise.resolve(fa).then(ba,da);};}),N[Symbol.asyncIterator]=function(){return this;},N);}function D(W){var X,Z;function Y(aa,ca){X[aa]=W[aa]?function(da){return (Z=!Z)?{value:A(W[aa](da)),done:!1}:ca?ca(da):da;}:ca;}return (X={},Y("next"),Y("throw",function(aa){throw aa;}),Y("return"),X[Symbol.iterator]=function(){return this;},X);}function F(W){var Z,aa;function Y(ca){aa[ca]=W[ca] && (function(da){return new Promise(function(ja,R){da=W[ca](da);X(ja,R,da.done,da.value);});});}function X(ca,da,ja,R){Promise.resolve(R).then(function(N){ca({value:N,done:ja});},da);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");Z=W[Symbol.asyncIterator];return Z?Z.call(W):(W="function" === typeof w?w(W):W[Symbol.iterator](),aa={},Y("next"),Y("throw"),Y("return"),aa[Symbol.asyncIterator]=function(){return this;},aa);}function G(W,Y){Object.defineProperty?Object.defineProperty(W,"raw",{value:Y}):W.raw=Y;return W;}function E(W){var Y;if(W && W.__esModule)return W;Y={};if(null != W)for(var X=d(W),Z=0;Z < X.length;Z++)"default" !== X[Z] && O(Y,W,X[Z]);Q(Y,W);return Y;}function H(W){return W && W.__esModule?W:{default:W};}function J(W,Y,X,Z){if("a" === X && !Z)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof Y?W !== Y || !Z:!Y.has(W))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === X?Z:"a" === X?Z.call(W):Z?Z.value:Y.get(W);}function L(W,Y,X,Z,aa){if("m" === Z)throw new TypeError("Private method is not writable");if("a" === Z && !aa)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof Y?W !== Y || !aa:!Y.has(W))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === Z?aa.call(W,X):aa?aa.value=X:Y.set(W,X),X);}function K(W,Y){if(null === Y || "object" !== typeof Y && "function" !== typeof Y)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof W?Y === W:W.has(Y);}function M(W,Y,X){var Z,aa;if(null !== Y && void 0 !== Y){if("object" !== typeof Y && "function" !== typeof Y)throw new TypeError("Object expected.");if(X){if(!Symbol.w5b)throw new TypeError("Symbol.asyncDispose is not defined.");aa=Y[Symbol.w5b];}if(void 0 === aa){if(!Symbol.Og)throw new TypeError("Symbol.dispose is not defined.");aa=Y[Symbol.Og];X && (Z=aa);}if("function" !== typeof aa)throw new TypeError("Object not disposable.");Z && (aa=function(){try{Z.call(this);}catch(ca){return Promise.reject(ca);}});W.stack.push({value:Y,Og:aa,async:X});}else X && W.stack.push({async:!0});return Y;}function P(W){var Z,aa;function Y(ca){W.error=W.OQa?new S(ca,W.error,"An error was suppressed during disposal."):ca;W.OQa=!0;}function X(){var ca;for(;Z=W.stack.pop();)try{if(!Z.async && 1 === aa)return (aa=0,W.stack.push(Z),Promise.resolve().then(X));if(Z.Og){ca=Z.Og.call(Z.value);if(Z.async)return (aa|=2,Promise.resolve(ca).then(X,function(da){Y(da);return X();}));}else aa|=1;}catch(da){Y(da);}if(1 === aa)return W.OQa?Promise.reject(W.error):Promise.resolve();if(W.OQa)throw W.error;}aa=0;return X();}function I(W,Y){return "string" === typeof W && (/^\.\.?\//).test(W)?W.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(X,Z,aa,ca,da){return Z?Y?".jsx":".js":!aa || ca && da?aa + ca + "." + da.toLowerCase() + "js":X;}):W;}a.r(b);a.d(b,{d_b:function(){return M;},__assign:function(){return n;},__asyncDelegator:function(){return D;},__asyncGenerator:function(){return C;},__asyncValues:function(){return F;},__await:function(){return A;},__awaiter:function(){return q;},__classPrivateFieldGet:function(){return J;},__classPrivateFieldIn:function(){return K;},__classPrivateFieldSet:function(){return L;},__createBinding:function(){return O;},__decorate:function(){return e;},e_b:function(){return P;},f_b:function(){return k;},__exportStar:function(){return v;},__extends:function(){return h;},__generator:function(){return u;},__importDefault:function(){return H;},__importStar:function(){return E;},__makeTemplateObject:function(){return G;},__metadata:function(){return r;},__param:function(){return g;},g_b:function(){return m;},__read:function(){return x;},__rest:function(){return f;},h_b:function(){return I;},i_b:function(){return l;},j_b:function(){return p;},__spread:function(){return y;},__spreadArray:function(){return B;},__spreadArrays:function(){return z;},__values:function(){return w;},"default":function(){return U;}});O=Object.create?function(W,Y,X,Z){var aa;void 0 === Z && (Z=X);aa=Object.getOwnPropertyDescriptor(Y,X);if(!aa || (("get" in aa)?!Y.__esModule:aa.writable || aa.configurable))aa={enumerable:!0,get:function(){return Y[X];}};Object.defineProperty(W,Z,aa);}:function(W,Y,X,Z){void 0 === Z && (Z=X);W[Z]=Y[X];};Q=Object.create?function(W,Y){Object.defineProperty(W,"default",{enumerable:!0,value:Y});}:function(W,Y){W["default"]=Y;};S="function" === typeof SuppressedError?SuppressedError:function(W,Y,X){X=Error(X);return (X.name="SuppressedError",X.error=W,X.lad=Y,X);};U={__extends:h,__assign:n,__rest:f,__decorate:e,__param:g,f_b:k,i_b:l,g_b:m,j_b:p,__metadata:r,__awaiter:q,__generator:u,__createBinding:O,__exportStar:v,__values:w,__read:x,__spread:y,__spreadArrays:z,__spreadArray:B,__await:A,__asyncGenerator:C,__asyncDelegator:D,__asyncValues:F,__makeTemplateObject:G,__importStar:E,__importDefault:H,__classPrivateFieldGet:J,__classPrivateFieldSet:L,__classPrivateFieldIn:K,d_b:M,e_b:P,h_b:I};}};wa={};(function(){ma.d=function(t,b){for(var a in b)ma.zDb(b,a) && !ma.zDb(t,a) && Object.defineProperty(t,a,{enumerable:!0,get:b[a]});};})();(function(){ma.nY=(function(){if("object" === typeof globalThis)return globalThis;try{return this || new Function("return this")();}catch(t){if("object" === typeof Ca)return Ca;}})();})();(function(){ma.zDb=function(t,b){return Object.prototype.hasOwnProperty.call(t,b);};})();(function(){ma.r=function(t){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0});};})();ma(28660);ma(26860)();ma(65574)();Ca._cad_global={};Ca.DEBUG=!1;ma(33096);ma(22365);ma(32687);ma(3887);ma(52569);ma(8825);ma(87051);ma(22894);ma(32219);ma(24066);ma(45146);ma(94886);ma(37509);ma(2734);ma(77705);ma(31298);ma(37353);ma(981);ma(73100);ma(7953);ma(15531);ma(97154);ma(33579);ma(50350);ma(75876);ma(19630);ma(59416);ma(50040);ma(70);ma(29204);ma(99732);ma(52828);ma(1481);ma(61726);ma(24427);ma(62604);ma(78857);ma(74413);ma(84281);ma(991);ma(46493);ma(24674);ma(93114);ma(36792);ma(74098);ma(86258);ma(18128);ma(45526);ma(90762);ma(73056);ma(67263);ma(53754);ma(20318);ma(70632);ma(59032);ma(45706);ma(3390);ma(2898);ma(76563);ma(39480);ma(13044);ma(62439);ma(6305);ma(42654);ma(78719);ma(59405);ma(58343);ma(59219);ma(61524);ma(13777);ma(41325);ma(42433);ma(30689);ma(66093);ma(99133);})();}).call(Ca);})(window);}).call(window);